var hPe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ZUt=hPe((Kl,Yl)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function F8(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ji={},ab=[],Yr=()=>{},Tue=()=>!1,VO=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),V8=t=>t.startsWith("onUpdate:"),Aa=Object.assign,z8=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},pPe=Object.prototype.hasOwnProperty,Rr=(t,e)=>pPe.call(t,e),tt=Array.isArray,sb=t=>QC(t)==="[object Map]",zO=t=>QC(t)==="[object Set]",Zp=t=>QC(t)==="[object Date]",qt=t=>typeof t=="function",Ht=t=>typeof t=="string",Ec=t=>typeof t=="symbol",Nn=t=>t!==null&&typeof t=="object",Im=t=>(Nn(t)||qt(t))&&qt(t.then)&&qt(t.catch),Aue=Object.prototype.toString,QC=t=>Aue.call(t),vPe=t=>QC(t).slice(8,-1),_x=t=>QC(t)==="[object Object]",H8=t=>Ht(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,AS=F8(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),HO=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},gPe=/-(\w)/g,nl=HO(t=>t.replace(gPe,(e,n)=>n?n.toUpperCase():"")),mPe=/\B([A-Z])/g,Ch=HO(t=>t.replace(mPe,"-$1").toLowerCase()),e2=HO(t=>t.charAt(0).toUpperCase()+t.slice(1)),kS=HO(t=>t?`on${e2(t)}`:""),Hp=(t,e)=>!Object.is(t,e),YA=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},kue=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},V$=t=>{const e=parseFloat(t);return isNaN(e)?t:e},yPe=t=>{const e=Ht(t)?Number(t):NaN;return isNaN(e)?t:e};let UW;const jO=()=>UW||(UW=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ot(t){if(tt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Ht(r)?SPe(r):Ot(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(Ht(t)||Nn(t))return t}const bPe=/;(?![^(]*\))/g,_Pe=/:([^]+)/,wPe=/\/\*[^]*?\*\//g;function SPe(t){const e={};return t.replace(wPe,"").split(bPe).forEach(n=>{if(n){const r=n.split(_Pe);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function q(t){let e="";if(Ht(t))e=t;else if(tt(t))for(let n=0;n<t.length;n++){const r=q(t[n]);r&&(e+=r+" ")}else if(Nn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Sl(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Ht(e)&&(t.class=q(e)),n&&(t.style=Ot(n)),t}const xPe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",CPe=F8(xPe);function Mue(t){return!!t||t===""}function EPe(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Nb(t[r],e[r]);return n}function Nb(t,e){if(t===e)return!0;let n=Zp(t),r=Zp(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ec(t),r=Ec(e),n||r)return t===e;if(n=tt(t),r=tt(e),n||r)return n&&r?EPe(t,e):!1;if(n=Nn(t),r=Nn(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const a in t){const s=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(s&&!l||!s&&l||!Nb(t[a],e[a]))return!1}}return String(t)===String(e)}function Pue(t,e){return t.findIndex(n=>Nb(n,e))}const Oue=t=>!!(t&&t.__v_isRef===!0),Ne=t=>Ht(t)?t:t==null?"":tt(t)||Nn(t)&&(t.toString===Aue||!qt(t.toString))?Oue(t)?Ne(t.value):JSON.stringify(t,Iue,2):String(t),Iue=(t,e)=>Oue(e)?Iue(t,e.value):sb(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],o)=>(n[hD(r,o)+" =>"]=i,n),{})}:zO(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>hD(n))}:Ec(e)?hD(e):Nn(e)&&!tt(e)&&!_x(e)?String(e):e,hD=(t,e="")=>{var n;return Ec(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _s;class Rue{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_s,!e&&_s&&(this.index=(_s.scopes||(_s.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=_s;try{return _s=this,e()}finally{_s=n}}}on(){++this._on===1&&(this.prevScope=_s,_s=this)}off(){this._on>0&&--this._on===0&&(_s=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Lue(t){return new Rue(t)}function Due(){return _s}function Nue(t,e=!1){_s&&_s.cleanups.push(t)}let oo;const pD=new WeakSet;class Bue{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_s&&_s.active&&_s.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pD.has(this)&&(pD.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Fue(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,WW(this),Vue(this);const e=oo,n=bc;oo=this,bc=!0;try{return this.fn()}finally{zue(this),oo=e,bc=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)U8(e);this.deps=this.depsTail=void 0,WW(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pD.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){z$(this)&&this.run()}get dirty(){return z$(this)}}let $ue=0,MS,PS;function Fue(t,e=!1){if(t.flags|=8,e){t.next=PS,PS=t;return}t.next=MS,MS=t}function j8(){$ue++}function G8(){if(--$ue>0)return;if(PS){let e=PS;for(PS=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;MS;){let e=MS;for(MS=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Vue(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function zue(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),U8(r),TPe(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function z$(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Hue(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Hue(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Sx)||(t.globalVersion=Sx,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!z$(t))))return;t.flags|=2;const e=t.dep,n=oo,r=bc;oo=t,bc=!0;try{Vue(t);const i=t.fn(t._value);(e.version===0||Hp(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{oo=n,bc=r,zue(t),t.flags&=-3}}function U8(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)U8(o,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function TPe(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let bc=!0;const jue=[];function th(){jue.push(bc),bc=!1}function nh(){const t=jue.pop();bc=t===void 0?!0:t}function WW(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=oo;oo=void 0;try{e()}finally{oo=n}}}let Sx=0,APe=class{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class GO{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!oo||!bc||oo===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==oo)n=this.activeLink=new APe(oo,this),oo.deps?(n.prevDep=oo.depsTail,oo.depsTail.nextDep=n,oo.depsTail=n):oo.deps=oo.depsTail=n,Gue(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=oo.depsTail,n.nextDep=void 0,oo.depsTail.nextDep=n,oo.depsTail=n,oo.deps===n&&(oo.deps=r)}return n}trigger(e){this.version++,Sx++,this.notify(e)}notify(e){j8();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{G8()}}}function Gue(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Gue(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const pM=new WeakMap,dm=Symbol(""),H$=Symbol(""),xx=Symbol("");function Cs(t,e,n){if(bc&&oo){let r=pM.get(t);r||pM.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new GO),i.map=r,i.key=n),i.track()}}function Rd(t,e,n,r,i,o){const a=pM.get(t);if(!a){Sx++;return}const s=l=>{l&&l.trigger()};if(j8(),e==="clear")a.forEach(s);else{const l=tt(t),u=l&&H8(n);if(l&&n==="length"){const c=Number(r);a.forEach((f,d)=>{(d==="length"||d===xx||!Ec(d)&&d>=c)&&s(f)})}else switch((n!==void 0||a.has(void 0))&&s(a.get(n)),u&&s(a.get(xx)),e){case"add":l?u&&s(a.get("length")):(s(a.get(dm)),sb(t)&&s(a.get(H$)));break;case"delete":l||(s(a.get(dm)),sb(t)&&s(a.get(H$)));break;case"set":sb(t)&&s(a.get(dm));break}}G8()}function kPe(t,e){const n=pM.get(t);return n&&n.get(e)}function Zy(t){const e=pi(t);return e===t?e:(Cs(e,"iterate",xx),Lu(t)?e:e.map(Ja))}function UO(t){return Cs(t=pi(t),"iterate",xx),t}const MPe={__proto__:null,[Symbol.iterator](){return vD(this,Symbol.iterator,Ja)},concat(...t){return Zy(this).concat(...t.map(e=>tt(e)?Zy(e):e))},entries(){return vD(this,"entries",t=>(t[1]=Ja(t[1]),t))},every(t,e){return yd(this,"every",t,e,void 0,arguments)},filter(t,e){return yd(this,"filter",t,e,n=>n.map(Ja),arguments)},find(t,e){return yd(this,"find",t,e,Ja,arguments)},findIndex(t,e){return yd(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return yd(this,"findLast",t,e,Ja,arguments)},findLastIndex(t,e){return yd(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return yd(this,"forEach",t,e,void 0,arguments)},includes(...t){return gD(this,"includes",t)},indexOf(...t){return gD(this,"indexOf",t)},join(t){return Zy(this).join(t)},lastIndexOf(...t){return gD(this,"lastIndexOf",t)},map(t,e){return yd(this,"map",t,e,void 0,arguments)},pop(){return aw(this,"pop")},push(...t){return aw(this,"push",t)},reduce(t,...e){return qW(this,"reduce",t,e)},reduceRight(t,...e){return qW(this,"reduceRight",t,e)},shift(){return aw(this,"shift")},some(t,e){return yd(this,"some",t,e,void 0,arguments)},splice(...t){return aw(this,"splice",t)},toReversed(){return Zy(this).toReversed()},toSorted(t){return Zy(this).toSorted(t)},toSpliced(...t){return Zy(this).toSpliced(...t)},unshift(...t){return aw(this,"unshift",t)},values(){return vD(this,"values",Ja)}};function vD(t,e,n){const r=UO(t),i=r[e]();return r!==t&&!Lu(t)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=n(o.value)),o}),i}const PPe=Array.prototype;function yd(t,e,n,r,i,o){const a=UO(t),s=a!==t&&!Lu(t),l=a[e];if(l!==PPe[e]){const f=l.apply(t,o);return s?Ja(f):f}let u=n;a!==t&&(s?u=function(f,d){return n.call(this,Ja(f),d,t)}:n.length>2&&(u=function(f,d){return n.call(this,f,d,t)}));const c=l.call(a,u,r);return s&&i?i(c):c}function qW(t,e,n,r){const i=UO(t);let o=n;return i!==t&&(Lu(t)?n.length>3&&(o=function(a,s,l){return n.call(this,a,s,l,t)}):o=function(a,s,l){return n.call(this,a,Ja(s),l,t)}),i[e](o,...r)}function gD(t,e,n){const r=pi(t);Cs(r,"iterate",xx);const i=r[e](...n);return(i===-1||i===!1)&&K8(n[0])?(n[0]=pi(n[0]),r[e](...n)):i}function aw(t,e,n=[]){th(),j8();const r=pi(t)[e].apply(t,n);return G8(),nh(),r}const OPe=F8("__proto__,__v_isRef,__isVue"),Uue=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ec));function IPe(t){Ec(t)||(t=String(t));const e=pi(this);return Cs(e,"has",t),e.hasOwnProperty(t)}class Wue{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?HPe:Xue:o?Yue:Kue).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=tt(e);if(!i){let l;if(a&&(l=MPe[n]))return l;if(n==="hasOwnProperty")return IPe}const s=Reflect.get(e,n,ai(e)?e:r);return(Ec(n)?Uue.has(n):OPe(n))||(i||Cs(e,"get",n),o)?s:ai(s)?a&&H8(n)?s:s.value:Nn(s)?i?fy(s):Bn(s):s}}class que extends Wue{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(!this._isShallow){const l=Jp(o);if(!Lu(r)&&!Jp(r)&&(o=pi(o),r=pi(r)),!tt(e)&&ai(o)&&!ai(r))return l||(o.value=r),!0}const a=tt(e)&&H8(n)?Number(n)<e.length:Rr(e,n),s=Reflect.set(e,n,r,ai(e)?e:i);return e===pi(i)&&(a?Hp(r,o)&&Rd(e,"set",n,r):Rd(e,"add",n,r)),s}deleteProperty(e,n){const r=Rr(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Rd(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Ec(n)||!Uue.has(n))&&Cs(e,"has",n),r}ownKeys(e){return Cs(e,"iterate",tt(e)?"length":dm),Reflect.ownKeys(e)}}class RPe extends Wue{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const LPe=new que,DPe=new RPe,NPe=new que(!0),j$=t=>t,UE=t=>Reflect.getPrototypeOf(t);function BPe(t,e,n){return function(...r){const i=this.__v_raw,o=pi(i),a=sb(o),s=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=i[t](...r),c=n?j$:e?vM:Ja;return!e&&Cs(o,"iterate",l?H$:dm),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:s?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function WE(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function $Pe(t,e){const n={get(i){const o=this.__v_raw,a=pi(o),s=pi(i);t||(Hp(i,s)&&Cs(a,"get",i),Cs(a,"get",s));const{has:l}=UE(a),u=e?j$:t?vM:Ja;if(l.call(a,i))return u(o.get(i));if(l.call(a,s))return u(o.get(s));o!==a&&o.get(i)},get size(){const i=this.__v_raw;return!t&&Cs(pi(i),"iterate",dm),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,a=pi(o),s=pi(i);return t||(Hp(i,s)&&Cs(a,"has",i),Cs(a,"has",s)),i===s?o.has(i):o.has(i)||o.has(s)},forEach(i,o){const a=this,s=a.__v_raw,l=pi(s),u=e?j$:t?vM:Ja;return!t&&Cs(l,"iterate",dm),s.forEach((c,f)=>i.call(o,u(c),u(f),a))}};return Aa(n,t?{add:WE("add"),set:WE("set"),delete:WE("delete"),clear:WE("clear")}:{add(i){!e&&!Lu(i)&&!Jp(i)&&(i=pi(i));const o=pi(this);return UE(o).has.call(o,i)||(o.add(i),Rd(o,"add",i,i)),this},set(i,o){!e&&!Lu(o)&&!Jp(o)&&(o=pi(o));const a=pi(this),{has:s,get:l}=UE(a);let u=s.call(a,i);u||(i=pi(i),u=s.call(a,i));const c=l.call(a,i);return a.set(i,o),u?Hp(o,c)&&Rd(a,"set",i,o):Rd(a,"add",i,o),this},delete(i){const o=pi(this),{has:a,get:s}=UE(o);let l=a.call(o,i);l||(i=pi(i),l=a.call(o,i)),s&&s.call(o,i);const u=o.delete(i);return l&&Rd(o,"delete",i,void 0),u},clear(){const i=pi(this),o=i.size!==0,a=i.clear();return o&&Rd(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=BPe(i,t,e)}),n}function W8(t,e){const n=$Pe(t,e);return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Rr(n,i)&&i in r?n:r,i,o)}const FPe={get:W8(!1,!1)},VPe={get:W8(!1,!0)},zPe={get:W8(!0,!1)},Kue=new WeakMap,Yue=new WeakMap,Xue=new WeakMap,HPe=new WeakMap;function jPe(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function GPe(t){return t.__v_skip||!Object.isExtensible(t)?0:jPe(vPe(t))}function Bn(t){return Jp(t)?t:q8(t,!1,LPe,FPe,Kue)}function WO(t){return q8(t,!1,NPe,VPe,Yue)}function fy(t){return q8(t,!0,DPe,zPe,Xue)}function q8(t,e,n,r,i){if(!Nn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=GPe(t);if(o===0)return t;const a=i.get(t);if(a)return a;const s=new Proxy(t,o===2?r:n);return i.set(t,s),s}function lb(t){return Jp(t)?lb(t.__v_raw):!!(t&&t.__v_isReactive)}function Jp(t){return!!(t&&t.__v_isReadonly)}function Lu(t){return!!(t&&t.__v_isShallow)}function K8(t){return t?!!t.__v_raw:!1}function pi(t){const e=t&&t.__v_raw;return e?pi(e):t}function Ff(t){return!Rr(t,"__v_skip")&&Object.isExtensible(t)&&kue(t,"__v_skip",!0),t}const Ja=t=>Nn(t)?Bn(t):t,vM=t=>Nn(t)?fy(t):t;function ai(t){return t?t.__v_isRef===!0:!1}function F(t){return Zue(t,!1)}function bi(t){return Zue(t,!0)}function Zue(t,e){return ai(t)?t:new UPe(t,e)}class UPe{constructor(e,n){this.dep=new GO,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:pi(e),this._value=n?e:Ja(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Lu(e)||Jp(e);e=r?e:pi(e),Hp(e,n)&&(this._rawValue=e,this._value=r?e:Ja(e),this.dep.trigger())}}function XA(t){t.dep&&t.dep.trigger()}function _(t){return ai(t)?t.value:t}const WPe={get:(t,e,n)=>e==="__v_raw"?t:_(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ai(i)&&!ai(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Jue(t){return lb(t)?t:new Proxy(t,WPe)}class qPe{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new GO,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function KPe(t){return new qPe(t)}function zo(t){const e=tt(t)?new Array(t.length):{};for(const n in t)e[n]=Que(t,n);return e}class YPe{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return kPe(pi(this._object),this._key)}}class XPe{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Hr(t,e,n){return ai(t)?t:qt(t)?new XPe(t):Nn(t)&&arguments.length>1?Que(t,e,n):F(t)}function Que(t,e,n){const r=t[e];return ai(r)?r:new YPe(t,e,n)}class ZPe{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new GO(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Sx-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&oo!==this)return Fue(this,!0),!0}get value(){const e=this.dep.track();return Hue(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function JPe(t,e,n=!1){let r,i;return qt(t)?r=t:(r=t.get,i=t.set),new ZPe(r,i,n)}const qE={},gM=new WeakMap;let Ag;function QPe(t,e=!1,n=Ag){if(n){let r=gM.get(n);r||gM.set(n,r=[]),r.push(t)}}function eOe(t,e,n=Ji){const{immediate:r,deep:i,once:o,scheduler:a,augmentJob:s,call:l}=n,u=w=>i?w:Lu(w)||i===!1||i===0?Ld(w,1):Ld(w);let c,f,d,h,p=!1,v=!1;if(ai(t)?(f=()=>t.value,p=Lu(t)):lb(t)?(f=()=>u(t),p=!0):tt(t)?(v=!0,p=t.some(w=>lb(w)||Lu(w)),f=()=>t.map(w=>{if(ai(w))return w.value;if(lb(w))return u(w);if(qt(w))return l?l(w,2):w()})):qt(t)?e?f=l?()=>l(t,2):t:f=()=>{if(d){th();try{d()}finally{nh()}}const w=Ag;Ag=c;try{return l?l(t,3,[h]):t(h)}finally{Ag=w}}:f=Yr,e&&i){const w=f,S=i===!0?1/0:i;f=()=>Ld(w(),S)}const g=Due(),m=()=>{c.stop(),g&&g.active&&z8(g.effects,c)};if(o&&e){const w=e;e=(...S)=>{w(...S),m()}}let y=v?new Array(t.length).fill(qE):qE;const b=w=>{if(!(!(c.flags&1)||!c.dirty&&!w))if(e){const S=c.run();if(i||p||(v?S.some((x,C)=>Hp(x,y[C])):Hp(S,y))){d&&d();const x=Ag;Ag=c;try{const C=[S,y===qE?void 0:v&&y[0]===qE?[]:y,h];y=S,l?l(e,3,C):e(...C)}finally{Ag=x}}}else c.run()};return s&&s(b),c=new Bue(f),c.scheduler=a?()=>a(b,!1):b,h=w=>QPe(w,!1,c),d=c.onStop=()=>{const w=gM.get(c);if(w){if(l)l(w,4);else for(const S of w)S();gM.delete(c)}},e?r?b(!0):y=c.run():a?a(b.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function Ld(t,e=1/0,n){if(e<=0||!Nn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ai(t))Ld(t.value,e,n);else if(tt(t))for(let r=0;r<t.length;r++)Ld(t[r],e,n);else if(zO(t)||sb(t))t.forEach(r=>{Ld(r,e,n)});else if(_x(t)){for(const r in t)Ld(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ld(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function t2(t,e,n,r){try{return r?t(...r):t()}catch(i){qO(i,e,n)}}function Tc(t,e,n,r){if(qt(t)){const i=t2(t,e,n,r);return i&&Im(i)&&i.catch(o=>{qO(o,e,n)}),i}if(tt(t)){const i=[];for(let o=0;o<t.length;o++)i.push(Tc(t[o],e,n,r));return i}}function qO(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Ji;if(e){let s=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const c=s.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,u)===!1)return}s=s.parent}if(o){th(),t2(o,null,10,[t,l,u]),nh();return}}tOe(t,n,i,r,a)}function tOe(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const Ks=[];let Sf=-1;const ub=[];let fp=null,O0=0;const ece=Promise.resolve();let mM=null;function Pt(t){const e=mM||ece;return t?e.then(this?t.bind(this):t):e}function nOe(t){let e=Sf+1,n=Ks.length;for(;e<n;){const r=e+n>>>1,i=Ks[r],o=Cx(i);o<t||o===t&&i.flags&2?e=r+1:n=r}return e}function Y8(t){if(!(t.flags&1)){const e=Cx(t),n=Ks[Ks.length-1];!n||!(t.flags&2)&&e>=Cx(n)?Ks.push(t):Ks.splice(nOe(e),0,t),t.flags|=1,tce()}}function tce(){mM||(mM=ece.then(rce))}function rOe(t){tt(t)?ub.push(...t):fp&&t.id===-1?fp.splice(O0+1,0,t):t.flags&1||(ub.push(t),t.flags|=1),tce()}function KW(t,e,n=Sf+1){for(;n<Ks.length;n++){const r=Ks[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ks.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function nce(t){if(ub.length){const e=[...new Set(ub)].sort((n,r)=>Cx(n)-Cx(r));if(ub.length=0,fp){fp.push(...e);return}for(fp=e,O0=0;O0<fp.length;O0++){const n=fp[O0];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}fp=null,O0=0}}const Cx=t=>t.id==null?t.flags&2?-1:1/0:t.id;function rce(t){try{for(Sf=0;Sf<Ks.length;Sf++){const e=Ks[Sf];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),t2(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Sf<Ks.length;Sf++){const e=Ks[Sf];e&&(e.flags&=-2)}Sf=-1,Ks.length=0,nce(),mM=null,(Ks.length||ub.length)&&rce()}}let rs=null,ice=null;function yM(t){const e=rs;return rs=t,ice=t&&t.type.__scopeId||null,e}function $(t,e=rs,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&lq(-1);const o=yM(e);let a;try{a=t(...i)}finally{yM(o),r._d&&lq(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function An(t,e){if(rs===null)return t;const n=QO(rs),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,s,l=Ji]=e[i];o&&(qt(o)&&(o={mounted:o,updated:o}),o.deep&&Ld(a),r.push({dir:o,instance:n,value:a,oldValue:void 0,arg:s,modifiers:l}))}return t}function Zv(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);let l=s.dir[r];l&&(th(),Tc(l,n,8,[t.el,s,t,e]),nh())}}const oce=Symbol("_vte"),ace=t=>t.__isTeleport,OS=t=>t&&(t.disabled||t.disabled===""),YW=t=>t&&(t.defer||t.defer===""),XW=t=>typeof SVGElement<"u"&&t instanceof SVGElement,ZW=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,G$=(t,e)=>{const n=t&&t.to;return Ht(n)?e?e(n):null:n},sce={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,o,a,s,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:v,createComment:g}}=u,m=OS(e.props);let{shapeFlag:y,children:b,dynamicChildren:w}=e;if(t==null){const S=e.el=v(""),x=e.anchor=v("");h(S,n,r),h(x,n,r);const C=(T,A)=>{y&16&&(i&&i.isCE&&(i.ce._teleportTarget=T),c(b,T,A,i,o,a,s,l))},E=()=>{const T=e.target=G$(e.props,p),A=lce(T,e,v,h);T&&(a!=="svg"&&XW(T)?a="svg":a!=="mathml"&&ZW(T)&&(a="mathml"),m||(C(T,A),ZA(e,!1)))};m&&(C(n,x),ZA(e,!0)),YW(e.props)?(e.el.__isMounted=!1,js(()=>{E(),delete e.el.__isMounted},o)):E()}else{if(YW(e.props)&&t.el.__isMounted===!1){js(()=>{sce.process(t,e,n,r,i,o,a,s,l,u)},o);return}e.el=t.el,e.targetStart=t.targetStart;const S=e.anchor=t.anchor,x=e.target=t.target,C=e.targetAnchor=t.targetAnchor,E=OS(t.props),T=E?n:x,A=E?S:C;if(a==="svg"||XW(x)?a="svg":(a==="mathml"||ZW(x))&&(a="mathml"),w?(d(t.dynamicChildren,w,T,i,o,a,s),nz(t,e,!0)):l||f(t,e,T,A,i,o,a,s,!1),m)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):KE(e,n,S,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const k=e.target=G$(e.props,p);k&&KE(e,k,null,u,0)}else E&&KE(e,x,C,u,1);ZA(e,m)}},remove(t,e,n,{um:r,o:{remove:i}},o){const{shapeFlag:a,children:s,anchor:l,targetStart:u,targetAnchor:c,target:f,props:d}=t;if(f&&(i(u),i(c)),o&&i(l),a&16){const h=o||!OS(d);for(let p=0;p<s.length;p++){const v=s[p];r(v,e,n,h,!!v.dynamicChildren)}}},move:KE,hydrate:iOe};function KE(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:a,anchor:s,shapeFlag:l,children:u,props:c}=t,f=o===2;if(f&&r(a,e,n),(!f||OS(c))&&l&16)for(let d=0;d<u.length;d++)i(u[d],e,n,2);f&&r(s,e,n)}function iOe(t,e,n,r,i,o,{o:{nextSibling:a,parentNode:s,querySelector:l,insert:u,createText:c}},f){const d=e.target=G$(e.props,l);if(d){const h=OS(e.props),p=d._lpa||d.firstChild;if(e.shapeFlag&16)if(h)e.anchor=f(a(t),e,s(t),n,r,i,o),e.targetStart=p,e.targetAnchor=p&&a(p);else{e.anchor=a(t);let v=p;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")e.targetStart=v;else if(v.data==="teleport anchor"){e.targetAnchor=v,d._lpa=e.targetAnchor&&a(e.targetAnchor);break}}v=a(v)}e.targetAnchor||lce(d,e,c,u),f(p&&a(p),e,d,n,r,i,o)}ZA(e,h)}return e.anchor&&a(e.anchor)}const oOe=sce;function ZA(t,e){const n=t.ctx;if(n&&n.ut){let r,i;for(e?(r=t.el,i=t.anchor):(r=t.targetStart,i=t.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function lce(t,e,n,r){const i=e.targetStart=n(""),o=e.targetAnchor=n("");return i[oce]=o,t&&(r(i,t),r(o,t)),o}const Pd=Symbol("_leaveCb"),YE=Symbol("_enterCb");function uce(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Jt(()=>{t.isMounted=!0}),ur(()=>{t.isUnmounting=!0}),t}const su=[Function,Array],cce={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:su,onEnter:su,onAfterEnter:su,onEnterCancelled:su,onBeforeLeave:su,onLeave:su,onAfterLeave:su,onLeaveCancelled:su,onBeforeAppear:su,onAppear:su,onAfterAppear:su,onAppearCancelled:su},fce=t=>{const e=t.subTree;return e.component?fce(e.component):e},aOe={name:"BaseTransition",props:cce,setup(t,{slots:e}){const n=Un(),r=uce();return()=>{const i=e.default&&X8(e.default(),!0);if(!i||!i.length)return;const o=dce(i),a=pi(t),{mode:s}=a;if(r.isLeaving)return mD(o);const l=JW(o);if(!l)return mD(o);let u=Ex(l,a,r,n,f=>u=f);l.type!==yo&&Rm(l,u);let c=n.subTree&&JW(n.subTree);if(c&&c.type!==yo&&!$g(l,c)&&fce(n).type!==yo){let f=Ex(c,a,r,n);if(Rm(c,f),s==="out-in"&&l.type!==yo)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,c=void 0},mD(o);s==="in-out"&&l.type!==yo?f.delayLeave=(d,h,p)=>{const v=hce(r,c);v[String(c.key)]=c,d[Pd]=()=>{h(),d[Pd]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return o}}};function dce(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==yo){e=n;break}}return e}const sOe=aOe;function hce(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Ex(t,e,n,r,i){const{appear:o,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:g,onAppear:m,onAfterAppear:y,onAppearCancelled:b}=e,w=String(t.key),S=hce(n,t),x=(T,A)=>{T&&Tc(T,r,9,A)},C=(T,A)=>{const k=A[1];x(T,A),tt(T)?T.every(M=>M.length<=1)&&k():T.length<=1&&k()},E={mode:a,persisted:s,beforeEnter(T){let A=l;if(!n.isMounted)if(o)A=g||l;else return;T[Pd]&&T[Pd](!0);const k=S[w];k&&$g(t,k)&&k.el[Pd]&&k.el[Pd](),x(A,[T])},enter(T){let A=u,k=c,M=f;if(!n.isMounted)if(o)A=m||u,k=y||c,M=b||f;else return;let D=!1;const L=T[YE]=I=>{D||(D=!0,I?x(M,[T]):x(k,[T]),E.delayedLeave&&E.delayedLeave(),T[YE]=void 0)};A?C(A,[T,L]):L()},leave(T,A){const k=String(t.key);if(T[YE]&&T[YE](!0),n.isUnmounting)return A();x(d,[T]);let M=!1;const D=T[Pd]=L=>{M||(M=!0,A(),L?x(v,[T]):x(p,[T]),T[Pd]=void 0,S[k]===t&&delete S[k])};S[k]=t,h?C(h,[T,D]):D()},clone(T){const A=Ex(T,e,n,r,i);return i&&i(A),A}};return E}function mD(t){if(KO(t))return t=rh(t),t.children=null,t}function JW(t){if(!KO(t))return ace(t.type)&&t.children?dce(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&qt(n.default))return n.default()}}function Rm(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Rm(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function X8(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let a=t[o];const s=n==null?a.key:String(n)+String(a.key!=null?a.key:o);a.type===ft?(a.patchFlag&128&&i++,r=r.concat(X8(a.children,e,s))):(e||a.type!==yo)&&r.push(s!=null?rh(a,{key:s}):a)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function ue(t,e){return qt(t)?Aa({name:t.name},e,{setup:t}):t}function pce(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function IS(t,e,n,r,i=!1){if(tt(t)){t.forEach((p,v)=>IS(p,e&&(tt(e)?e[v]:e),n,r,i));return}if(cb(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&IS(t,e,n,r.component.subTree);return}const o=r.shapeFlag&4?QO(r.component):r.el,a=i?null:o,{i:s,r:l}=t,u=e&&e.r,c=s.refs===Ji?s.refs={}:s.refs,f=s.setupState,d=pi(f),h=f===Ji?Tue:p=>Rr(d,p);if(u!=null&&u!==l){if(Ht(u))c[u]=null,h(u)&&(f[u]=null);else if(ai(u)){u.value=null;const p=e;p.k&&(c[p.k]=null)}}if(qt(l))t2(l,s,12,[a,c]);else{const p=Ht(l),v=ai(l);if(p||v){const g=()=>{if(t.f){const m=p?h(l)?f[l]:c[l]:l.value;if(i)tt(m)&&z8(m,o);else if(tt(m))m.includes(o)||m.push(o);else if(p)c[l]=[o],h(l)&&(f[l]=c[l]);else{const y=[o];l.value=y,t.k&&(c[t.k]=y)}}else p?(c[l]=a,h(l)&&(f[l]=a)):v&&(l.value=a,t.k&&(c[t.k]=a))};a?(g.id=-1,js(g,n)):g()}}}jO().requestIdleCallback;jO().cancelIdleCallback;const cb=t=>!!t.type.__asyncLoader,KO=t=>t.type.__isKeepAlive;function YO(t,e){gce(t,"a",e)}function vce(t,e){gce(t,"da",e)}function gce(t,e,n=Es){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(XO(e,r,n),n){let i=n.parent;for(;i&&i.parent;)KO(i.parent.vnode)&&lOe(r,e,n,i),i=i.parent}}function lOe(t,e,n,r){const i=XO(e,t,r,!0);Qu(()=>{z8(r[e],i)},n)}function XO(t,e,n=Es,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...a)=>{th();const s=r2(n),l=Tc(e,n,t,a);return s(),nh(),l});return r?i.unshift(o):i.push(o),o}}const Eh=t=>(e,n=Es)=>{(!Ax||t==="sp")&&XO(t,(...r)=>e(...r),n)},ZO=Eh("bm"),Jt=Eh("m"),Z8=Eh("bu"),Hc=Eh("u"),ur=Eh("bum"),Qu=Eh("um"),uOe=Eh("sp"),cOe=Eh("rtg"),fOe=Eh("rtc");function dOe(t,e=Es){XO("ec",t,e)}const J8="components",hOe="directives";function pe(t,e){return Q8(J8,t,!0,e)||t}const mce=Symbol.for("v-ndc");function Vn(t){return Ht(t)?Q8(J8,t,!1)||t:t||mce}function n2(t){return Q8(hOe,t)}function Q8(t,e,n=!0,r=!1){const i=rs||Es;if(i){const o=i.type;if(t===J8){const s=ZOe(o,!1);if(s&&(s===e||s===nl(e)||s===e2(nl(e))))return o}const a=QW(i[t]||o[t],e)||QW(i.appContext[t],e);return!a&&r?o:a}}function QW(t,e){return t&&(t[e]||t[nl(e)]||t[e2(nl(e))])}function gn(t,e,n,r){let i;const o=n,a=tt(t);if(a||Ht(t)){const s=a&&lb(t);let l=!1,u=!1;s&&(l=!Lu(t),u=Jp(t),t=UO(t)),i=new Array(t.length);for(let c=0,f=t.length;c<f;c++)i[c]=e(l?u?vM(Ja(t[c])):Ja(t[c]):t[c],c,void 0,o)}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o)}else if(Nn(t))if(t[Symbol.iterator])i=Array.from(t,(s,l)=>e(s,l,void 0,o));else{const s=Object.keys(t);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];i[l]=e(t[c],c,l,o)}}else i=[];return i}function Ml(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(tt(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return t}function Ee(t,e,n={},r,i){if(rs.ce||rs.parent&&cb(rs.parent)&&rs.parent.ce)return e!=="default"&&(n.name=e),N(),de(ft,null,[O("slot",n,r&&r())],64);let o=t[e];o&&o._c&&(o._d=!1),N();const a=o&&yce(o(n)),s=n.key||a&&a.key,l=de(ft,{key:(s&&!Ec(s)?s:`_${e}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function yce(t){return t.some(e=>wi(e)?!(e.type===yo||e.type===ft&&!yce(e.children)):!0)?t:null}function pOe(t,e){const n={};for(const r in t)n[kS(r)]=t[r];return n}const U$=t=>t?Bce(t)?QO(t):U$(t.parent):null,RS=Aa(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>U$(t.parent),$root:t=>U$(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>wce(t),$forceUpdate:t=>t.f||(t.f=()=>{Y8(t.update)}),$nextTick:t=>t.n||(t.n=Pt.bind(t.proxy)),$watch:t=>DOe.bind(t)}),yD=(t,e)=>t!==Ji&&!t.__isScriptSetup&&Rr(t,e),vOe={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:a,type:s,appContext:l}=t;let u;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(yD(r,e))return a[e]=1,r[e];if(i!==Ji&&Rr(i,e))return a[e]=2,i[e];if((u=t.propsOptions[0])&&Rr(u,e))return a[e]=3,o[e];if(n!==Ji&&Rr(n,e))return a[e]=4,n[e];W$&&(a[e]=0)}}const c=RS[e];let f,d;if(c)return e==="$attrs"&&Cs(t.attrs,"get",""),c(t);if((f=s.__cssModules)&&(f=f[e]))return f;if(n!==Ji&&Rr(n,e))return a[e]=4,n[e];if(d=l.config.globalProperties,Rr(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return yD(i,e)?(i[e]=n,!0):r!==Ji&&Rr(r,e)?(r[e]=n,!0):Rr(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o,type:a}},s){let l,u;return!!(n[s]||t!==Ji&&s[0]!=="$"&&Rr(t,s)||yD(e,s)||(l=o[0])&&Rr(l,s)||Rr(r,s)||Rr(RS,s)||Rr(i.config.globalProperties,s)||(u=a.__cssModules)&&u[s])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Rr(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Co(){return bce().slots}function Th(){return bce().attrs}function bce(t){const e=Un();return e.setupContext||(e.setupContext=Fce(e))}function eq(t){return tt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let W$=!0;function gOe(t){const e=wce(t),n=t.proxy,r=t.ctx;W$=!1,e.beforeCreate&&tq(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:a,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:v,deactivated:g,beforeDestroy:m,beforeUnmount:y,destroyed:b,unmounted:w,render:S,renderTracked:x,renderTriggered:C,errorCaptured:E,serverPrefetch:T,expose:A,inheritAttrs:k,components:M,directives:D,filters:L}=e;if(u&&mOe(u,r,null),a)for(const V in a){const P=a[V];qt(P)&&(r[V]=P.bind(n))}if(i){const V=i.call(n,n);Nn(V)&&(t.data=Bn(V))}if(W$=!0,o)for(const V in o){const P=o[V],B=qt(P)?P.bind(n,n):qt(P.get)?P.get.bind(n,n):Yr,j=!qt(P)&&qt(P.set)?P.set.bind(n):Yr,G=z({get:B,set:j});Object.defineProperty(r,V,{enumerable:!0,configurable:!0,get:()=>G.value,set:W=>G.value=W})}if(s)for(const V in s)_ce(s[V],r,n,V);if(l){const V=qt(l)?l.call(n):l;Reflect.ownKeys(V).forEach(P=>{jn(P,V[P])})}c&&tq(c,t,"c");function R(V,P){tt(P)?P.forEach(B=>V(B.bind(n))):P&&V(P.bind(n))}if(R(ZO,f),R(Jt,d),R(Z8,h),R(Hc,p),R(YO,v),R(vce,g),R(dOe,E),R(fOe,x),R(cOe,C),R(ur,y),R(Qu,w),R(uOe,T),tt(A))if(A.length){const V=t.exposed||(t.exposed={});A.forEach(P=>{Object.defineProperty(V,P,{get:()=>n[P],set:B=>n[P]=B,enumerable:!0})})}else t.exposed||(t.exposed={});S&&t.render===Yr&&(t.render=S),k!=null&&(t.inheritAttrs=k),M&&(t.components=M),D&&(t.directives=D),T&&pce(t)}function mOe(t,e,n=Yr){tt(t)&&(t=q$(t));for(const r in t){const i=t[r];let o;Nn(i)?"default"in i?o=bt(i.from||r,i.default,!0):o=bt(i.from||r):o=bt(i),ai(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function tq(t,e,n){Tc(tt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function _ce(t,e,n,r){let i=r.includes(".")?Ice(n,r):()=>n[r];if(Ht(t)){const o=e[t];qt(o)&&Le(i,o)}else if(qt(t))Le(i,t.bind(n));else if(Nn(t))if(tt(t))t.forEach(o=>_ce(o,e,n,r));else{const o=qt(t.handler)?t.handler.bind(n):e[t.handler];qt(o)&&Le(i,o,t)}}function wce(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,s=o.get(e);let l;return s?l=s:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>bM(l,u,a,!0)),bM(l,e,a)),Nn(e)&&o.set(e,l),l}function bM(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&bM(t,o,n,!0),i&&i.forEach(a=>bM(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const s=yOe[a]||n&&n[a];t[a]=s?s(t[a],e[a]):e[a]}return t}const yOe={data:nq,props:rq,emits:rq,methods:Qw,computed:Qw,beforeCreate:Hs,created:Hs,beforeMount:Hs,mounted:Hs,beforeUpdate:Hs,updated:Hs,beforeDestroy:Hs,beforeUnmount:Hs,destroyed:Hs,unmounted:Hs,activated:Hs,deactivated:Hs,errorCaptured:Hs,serverPrefetch:Hs,components:Qw,directives:Qw,watch:_Oe,provide:nq,inject:bOe};function nq(t,e){return e?t?function(){return Aa(qt(t)?t.call(this,this):t,qt(e)?e.call(this,this):e)}:e:t}function bOe(t,e){return Qw(q$(t),q$(e))}function q$(t){if(tt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Hs(t,e){return t?[...new Set([].concat(t,e))]:e}function Qw(t,e){return t?Aa(Object.create(null),t,e):e}function rq(t,e){return t?tt(t)&&tt(e)?[...new Set([...t,...e])]:Aa(Object.create(null),eq(t),eq(e??{})):e}function _Oe(t,e){if(!t)return e;if(!e)return t;const n=Aa(Object.create(null),t);for(const r in e)n[r]=Hs(t[r],e[r]);return n}function Sce(){return{app:null,config:{isNativeTag:Tue,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wOe=0;function SOe(t,e){return function(r,i=null){qt(r)||(r=Aa({},r)),i!=null&&!Nn(i)&&(i=null);const o=Sce(),a=new WeakSet,s=[];let l=!1;const u=o.app={_uid:wOe++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:QOe,get config(){return o.config},set config(c){},use(c,...f){return a.has(c)||(c&&qt(c.install)?(a.add(c),c.install(u,...f)):qt(c)&&(a.add(c),c(u,...f))),u},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),u},component(c,f){return f?(o.components[c]=f,u):o.components[c]},directive(c,f){return f?(o.directives[c]=f,u):o.directives[c]},mount(c,f,d){if(!l){const h=u._ceVNode||O(r,i);return h.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),t(h,c,d),l=!0,u._container=c,c.__vue_app__=u,QO(h.component)}},onUnmount(c){s.push(c)},unmount(){l&&(Tc(s,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return o.provides[c]=f,u},runWithContext(c){const f=fb;fb=u;try{return c()}finally{fb=f}}};return u}}let fb=null;function jn(t,e){if(Es){let n=Es.provides;const r=Es.parent&&Es.parent.provides;r===n&&(n=Es.provides=Object.create(r)),n[t]=e}}function bt(t,e,n=!1){const r=Un();if(r||fb){let i=fb?fb._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&qt(e)?e.call(r&&r.proxy):e}}const xce={},Cce=()=>Object.create(xce),Ece=t=>Object.getPrototypeOf(t)===xce;function xOe(t,e,n,r=!1){const i={},o=Cce();t.propsDefaults=Object.create(null),Tce(t,e,i,o);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:WO(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function COe(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=t,s=pi(i),[l]=t.propsOptions;let u=!1;if((r||a>0)&&!(a&16)){if(a&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(JO(t.emitsOptions,d))continue;const h=e[d];if(l)if(Rr(o,d))h!==o[d]&&(o[d]=h,u=!0);else{const p=nl(d);i[p]=K$(l,s,p,h,t,!1)}else h!==o[d]&&(o[d]=h,u=!0)}}}else{Tce(t,e,i,o)&&(u=!0);let c;for(const f in s)(!e||!Rr(e,f)&&((c=Ch(f))===f||!Rr(e,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(i[f]=K$(l,s,f,void 0,t,!0)):delete i[f]);if(o!==s)for(const f in o)(!e||!Rr(e,f))&&(delete o[f],u=!0)}u&&Rd(t.attrs,"set","")}function Tce(t,e,n,r){const[i,o]=t.propsOptions;let a=!1,s;if(e)for(let l in e){if(AS(l))continue;const u=e[l];let c;i&&Rr(i,c=nl(l))?!o||!o.includes(c)?n[c]=u:(s||(s={}))[c]=u:JO(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(o){const l=pi(n),u=s||Ji;for(let c=0;c<o.length;c++){const f=o[c];n[f]=K$(i,l,f,u[f],t,!Rr(u,f))}}return a}function K$(t,e,n,r,i,o){const a=t[n];if(a!=null){const s=Rr(a,"default");if(s&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&qt(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=r2(i);r=u[n]=l.call(null,e),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}a[0]&&(o&&!s?r=!1:a[1]&&(r===""||r===Ch(n))&&(r=!0))}return r}const EOe=new WeakMap;function Ace(t,e,n=!1){const r=n?EOe:e.propsCache,i=r.get(t);if(i)return i;const o=t.props,a={},s=[];let l=!1;if(!qt(t)){const c=f=>{l=!0;const[d,h]=Ace(f,e,!0);Aa(a,d),h&&s.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!o&&!l)return Nn(t)&&r.set(t,ab),ab;if(tt(o))for(let c=0;c<o.length;c++){const f=nl(o[c]);iq(f)&&(a[f]=Ji)}else if(o)for(const c in o){const f=nl(c);if(iq(f)){const d=o[c],h=a[f]=tt(d)||qt(d)?{type:d}:Aa({},d),p=h.type;let v=!1,g=!0;if(tt(p))for(let m=0;m<p.length;++m){const y=p[m],b=qt(y)&&y.name;if(b==="Boolean"){v=!0;break}else b==="String"&&(g=!1)}else v=qt(p)&&p.name==="Boolean";h[0]=v,h[1]=g,(v||Rr(h,"default"))&&s.push(f)}}const u=[a,s];return Nn(t)&&r.set(t,u),u}function iq(t){return t[0]!=="$"&&!AS(t)}const ez=t=>t==="_"||t==="_ctx"||t==="$stable",tz=t=>tt(t)?t.map(Ef):[Ef(t)],TOe=(t,e,n)=>{if(e._n)return e;const r=$((...i)=>tz(e(...i)),n);return r._c=!1,r},kce=(t,e,n)=>{const r=t._ctx;for(const i in t){if(ez(i))continue;const o=t[i];if(qt(o))e[i]=TOe(i,o,r);else if(o!=null){const a=tz(o);e[i]=()=>a}}},Mce=(t,e)=>{const n=tz(e);t.slots.default=()=>n},Pce=(t,e,n)=>{for(const r in e)(n||!ez(r))&&(t[r]=e[r])},AOe=(t,e,n)=>{const r=t.slots=Cce();if(t.vnode.shapeFlag&32){const i=e._;i?(Pce(r,e,n),n&&kue(r,"_",i,!0)):kce(e,r)}else e&&Mce(t,e)},kOe=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,a=Ji;if(r.shapeFlag&32){const s=e._;s?n&&s===1?o=!1:Pce(i,e,n):(o=!e.$stable,kce(e,i)),a=e}else e&&(Mce(t,e),a={default:1});if(o)for(const s in i)!ez(s)&&a[s]==null&&delete i[s]},js=HOe;function MOe(t){return POe(t)}function POe(t,e){const n=jO();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:a,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=Yr,insertStaticContent:p}=t,v=(Y,se,he,ye=null,_e=null,fe=null,Ce=void 0,Oe=null,Ue=!!se.dynamicChildren)=>{if(Y===se)return;Y&&!$g(Y,se)&&(ye=X(Y),W(Y,_e,fe,!0),Y=null),se.patchFlag===-2&&(Ue=!1,se.dynamicChildren=null);const{type:qe,ref:ze,shapeFlag:ae}=se;switch(qe){case J1:g(Y,se,he,ye);break;case yo:m(Y,se,he,ye);break;case _D:Y==null&&y(se,he,ye,Ce);break;case ft:M(Y,se,he,ye,_e,fe,Ce,Oe,Ue);break;default:ae&1?S(Y,se,he,ye,_e,fe,Ce,Oe,Ue):ae&6?D(Y,se,he,ye,_e,fe,Ce,Oe,Ue):(ae&64||ae&128)&&qe.process(Y,se,he,ye,_e,fe,Ce,Oe,Ue,ne)}ze!=null&&_e?IS(ze,Y&&Y.ref,fe,se||Y,!se):ze==null&&Y&&Y.ref!=null&&IS(Y.ref,null,fe,Y,!0)},g=(Y,se,he,ye)=>{if(Y==null)r(se.el=s(se.children),he,ye);else{const _e=se.el=Y.el;se.children!==Y.children&&u(_e,se.children)}},m=(Y,se,he,ye)=>{Y==null?r(se.el=l(se.children||""),he,ye):se.el=Y.el},y=(Y,se,he,ye)=>{[Y.el,Y.anchor]=p(Y.children,se,he,ye,Y.el,Y.anchor)},b=({el:Y,anchor:se},he,ye)=>{let _e;for(;Y&&Y!==se;)_e=d(Y),r(Y,he,ye),Y=_e;r(se,he,ye)},w=({el:Y,anchor:se})=>{let he;for(;Y&&Y!==se;)he=d(Y),i(Y),Y=he;i(se)},S=(Y,se,he,ye,_e,fe,Ce,Oe,Ue)=>{se.type==="svg"?Ce="svg":se.type==="math"&&(Ce="mathml"),Y==null?x(se,he,ye,_e,fe,Ce,Oe,Ue):T(Y,se,_e,fe,Ce,Oe,Ue)},x=(Y,se,he,ye,_e,fe,Ce,Oe)=>{let Ue,qe;const{props:ze,shapeFlag:ae,transition:Fe,dirs:We}=Y;if(Ue=Y.el=a(Y.type,fe,ze&&ze.is,ze),ae&8?c(Ue,Y.children):ae&16&&E(Y.children,Ue,null,ye,_e,bD(Y,fe),Ce,Oe),We&&Zv(Y,null,ye,"created"),C(Ue,Y,Y.scopeId,Ce,ye),ze){for(const At in ze)At!=="value"&&!AS(At)&&o(Ue,At,null,ze[At],fe,ye);"value"in ze&&o(Ue,"value",null,ze.value,fe),(qe=ze.onVnodeBeforeMount)&&rf(qe,ye,Y)}We&&Zv(Y,null,ye,"beforeMount");const dn=OOe(_e,Fe);dn&&Fe.beforeEnter(Ue),r(Ue,se,he),((qe=ze&&ze.onVnodeMounted)||dn||We)&&js(()=>{qe&&rf(qe,ye,Y),dn&&Fe.enter(Ue),We&&Zv(Y,null,ye,"mounted")},_e)},C=(Y,se,he,ye,_e)=>{if(he&&h(Y,he),ye)for(let fe=0;fe<ye.length;fe++)h(Y,ye[fe]);if(_e){let fe=_e.subTree;if(se===fe||Lce(fe.type)&&(fe.ssContent===se||fe.ssFallback===se)){const Ce=_e.vnode;C(Y,Ce,Ce.scopeId,Ce.slotScopeIds,_e.parent)}}},E=(Y,se,he,ye,_e,fe,Ce,Oe,Ue=0)=>{for(let qe=Ue;qe<Y.length;qe++){const ze=Y[qe]=Oe?dp(Y[qe]):Ef(Y[qe]);v(null,ze,se,he,ye,_e,fe,Ce,Oe)}},T=(Y,se,he,ye,_e,fe,Ce)=>{const Oe=se.el=Y.el;let{patchFlag:Ue,dynamicChildren:qe,dirs:ze}=se;Ue|=Y.patchFlag&16;const ae=Y.props||Ji,Fe=se.props||Ji;let We;if(he&&Jv(he,!1),(We=Fe.onVnodeBeforeUpdate)&&rf(We,he,se,Y),ze&&Zv(se,Y,he,"beforeUpdate"),he&&Jv(he,!0),(ae.innerHTML&&Fe.innerHTML==null||ae.textContent&&Fe.textContent==null)&&c(Oe,""),qe?A(Y.dynamicChildren,qe,Oe,he,ye,bD(se,_e),fe):Ce||P(Y,se,Oe,null,he,ye,bD(se,_e),fe,!1),Ue>0){if(Ue&16)k(Oe,ae,Fe,he,_e);else if(Ue&2&&ae.class!==Fe.class&&o(Oe,"class",null,Fe.class,_e),Ue&4&&o(Oe,"style",ae.style,Fe.style,_e),Ue&8){const dn=se.dynamicProps;for(let At=0;At<dn.length;At++){const $e=dn[At],Kt=ae[$e],Kn=Fe[$e];(Kn!==Kt||$e==="value")&&o(Oe,$e,Kt,Kn,_e,he)}}Ue&1&&Y.children!==se.children&&c(Oe,se.children)}else!Ce&&qe==null&&k(Oe,ae,Fe,he,_e);((We=Fe.onVnodeUpdated)||ze)&&js(()=>{We&&rf(We,he,se,Y),ze&&Zv(se,Y,he,"updated")},ye)},A=(Y,se,he,ye,_e,fe,Ce)=>{for(let Oe=0;Oe<se.length;Oe++){const Ue=Y[Oe],qe=se[Oe],ze=Ue.el&&(Ue.type===ft||!$g(Ue,qe)||Ue.shapeFlag&198)?f(Ue.el):he;v(Ue,qe,ze,null,ye,_e,fe,Ce,!0)}},k=(Y,se,he,ye,_e)=>{if(se!==he){if(se!==Ji)for(const fe in se)!AS(fe)&&!(fe in he)&&o(Y,fe,se[fe],null,_e,ye);for(const fe in he){if(AS(fe))continue;const Ce=he[fe],Oe=se[fe];Ce!==Oe&&fe!=="value"&&o(Y,fe,Oe,Ce,_e,ye)}"value"in he&&o(Y,"value",se.value,he.value,_e)}},M=(Y,se,he,ye,_e,fe,Ce,Oe,Ue)=>{const qe=se.el=Y?Y.el:s(""),ze=se.anchor=Y?Y.anchor:s("");let{patchFlag:ae,dynamicChildren:Fe,slotScopeIds:We}=se;We&&(Oe=Oe?Oe.concat(We):We),Y==null?(r(qe,he,ye),r(ze,he,ye),E(se.children||[],he,ze,_e,fe,Ce,Oe,Ue)):ae>0&&ae&64&&Fe&&Y.dynamicChildren?(A(Y.dynamicChildren,Fe,he,_e,fe,Ce,Oe),(se.key!=null||_e&&se===_e.subTree)&&nz(Y,se,!0)):P(Y,se,he,ze,_e,fe,Ce,Oe,Ue)},D=(Y,se,he,ye,_e,fe,Ce,Oe,Ue)=>{se.slotScopeIds=Oe,Y==null?se.shapeFlag&512?_e.ctx.activate(se,he,ye,Ce,Ue):L(se,he,ye,_e,fe,Ce,Ue):I(Y,se,Ue)},L=(Y,se,he,ye,_e,fe,Ce)=>{const Oe=Y.component=qOe(Y,ye,_e);if(KO(Y)&&(Oe.ctx.renderer=ne),KOe(Oe,!1,Ce),Oe.asyncDep){if(_e&&_e.registerDep(Oe,R,Ce),!Y.el){const Ue=Oe.subTree=O(yo);m(null,Ue,se,he),Y.placeholder=Ue.el}}else R(Oe,Y,se,he,_e,fe,Ce)},I=(Y,se,he)=>{const ye=se.component=Y.component;if(VOe(Y,se,he))if(ye.asyncDep&&!ye.asyncResolved){V(ye,se,he);return}else ye.next=se,ye.update();else se.el=Y.el,ye.vnode=se},R=(Y,se,he,ye,_e,fe,Ce)=>{const Oe=()=>{if(Y.isMounted){let{next:ae,bu:Fe,u:We,parent:dn,vnode:At}=Y;{const wn=Oce(Y);if(wn){ae&&(ae.el=At.el,V(Y,ae,Ce)),wn.asyncDep.then(()=>{Y.isUnmounted||Oe()});return}}let $e=ae,Kt;Jv(Y,!1),ae?(ae.el=At.el,V(Y,ae,Ce)):ae=At,Fe&&YA(Fe),(Kt=ae.props&&ae.props.onVnodeBeforeUpdate)&&rf(Kt,dn,ae,At),Jv(Y,!0);const Kn=aq(Y),$t=Y.subTree;Y.subTree=Kn,v($t,Kn,f($t.el),X($t),Y,_e,fe),ae.el=Kn.el,$e===null&&zOe(Y,Kn.el),We&&js(We,_e),(Kt=ae.props&&ae.props.onVnodeUpdated)&&js(()=>rf(Kt,dn,ae,At),_e)}else{let ae;const{el:Fe,props:We}=se,{bm:dn,m:At,parent:$e,root:Kt,type:Kn}=Y,$t=cb(se);Jv(Y,!1),dn&&YA(dn),!$t&&(ae=We&&We.onVnodeBeforeMount)&&rf(ae,$e,se),Jv(Y,!0);{Kt.ce&&Kt.ce._def.shadowRoot!==!1&&Kt.ce._injectChildStyle(Kn);const wn=Y.subTree=aq(Y);v(null,wn,he,ye,Y,_e,fe),se.el=wn.el}if(At&&js(At,_e),!$t&&(ae=We&&We.onVnodeMounted)){const wn=se;js(()=>rf(ae,$e,wn),_e)}(se.shapeFlag&256||$e&&cb($e.vnode)&&$e.vnode.shapeFlag&256)&&Y.a&&js(Y.a,_e),Y.isMounted=!0,se=he=ye=null}};Y.scope.on();const Ue=Y.effect=new Bue(Oe);Y.scope.off();const qe=Y.update=Ue.run.bind(Ue),ze=Y.job=Ue.runIfDirty.bind(Ue);ze.i=Y,ze.id=Y.uid,Ue.scheduler=()=>Y8(ze),Jv(Y,!0),qe()},V=(Y,se,he)=>{se.component=Y;const ye=Y.vnode.props;Y.vnode=se,Y.next=null,COe(Y,se.props,ye,he),kOe(Y,se.children,he),th(),KW(Y),nh()},P=(Y,se,he,ye,_e,fe,Ce,Oe,Ue=!1)=>{const qe=Y&&Y.children,ze=Y?Y.shapeFlag:0,ae=se.children,{patchFlag:Fe,shapeFlag:We}=se;if(Fe>0){if(Fe&128){j(qe,ae,he,ye,_e,fe,Ce,Oe,Ue);return}else if(Fe&256){B(qe,ae,he,ye,_e,fe,Ce,Oe,Ue);return}}We&8?(ze&16&&ce(qe,_e,fe),ae!==qe&&c(he,ae)):ze&16?We&16?j(qe,ae,he,ye,_e,fe,Ce,Oe,Ue):ce(qe,_e,fe,!0):(ze&8&&c(he,""),We&16&&E(ae,he,ye,_e,fe,Ce,Oe,Ue))},B=(Y,se,he,ye,_e,fe,Ce,Oe,Ue)=>{Y=Y||ab,se=se||ab;const qe=Y.length,ze=se.length,ae=Math.min(qe,ze);let Fe;for(Fe=0;Fe<ae;Fe++){const We=se[Fe]=Ue?dp(se[Fe]):Ef(se[Fe]);v(Y[Fe],We,he,null,_e,fe,Ce,Oe,Ue)}qe>ze?ce(Y,_e,fe,!0,!1,ae):E(se,he,ye,_e,fe,Ce,Oe,Ue,ae)},j=(Y,se,he,ye,_e,fe,Ce,Oe,Ue)=>{let qe=0;const ze=se.length;let ae=Y.length-1,Fe=ze-1;for(;qe<=ae&&qe<=Fe;){const We=Y[qe],dn=se[qe]=Ue?dp(se[qe]):Ef(se[qe]);if($g(We,dn))v(We,dn,he,null,_e,fe,Ce,Oe,Ue);else break;qe++}for(;qe<=ae&&qe<=Fe;){const We=Y[ae],dn=se[Fe]=Ue?dp(se[Fe]):Ef(se[Fe]);if($g(We,dn))v(We,dn,he,null,_e,fe,Ce,Oe,Ue);else break;ae--,Fe--}if(qe>ae){if(qe<=Fe){const We=Fe+1,dn=We<ze?se[We].el:ye;for(;qe<=Fe;)v(null,se[qe]=Ue?dp(se[qe]):Ef(se[qe]),he,dn,_e,fe,Ce,Oe,Ue),qe++}}else if(qe>Fe)for(;qe<=ae;)W(Y[qe],_e,fe,!0),qe++;else{const We=qe,dn=qe,At=new Map;for(qe=dn;qe<=Fe;qe++){const mt=se[qe]=Ue?dp(se[qe]):Ef(se[qe]);mt.key!=null&&At.set(mt.key,qe)}let $e,Kt=0;const Kn=Fe-dn+1;let $t=!1,wn=0;const $n=new Array(Kn);for(qe=0;qe<Kn;qe++)$n[qe]=0;for(qe=We;qe<=ae;qe++){const mt=Y[qe];if(Kt>=Kn){W(mt,_e,fe,!0);continue}let re;if(mt.key!=null)re=At.get(mt.key);else for($e=dn;$e<=Fe;$e++)if($n[$e-dn]===0&&$g(mt,se[$e])){re=$e;break}re===void 0?W(mt,_e,fe,!0):($n[re-dn]=qe+1,re>=wn?wn=re:$t=!0,v(mt,se[re],he,null,_e,fe,Ce,Oe,Ue),Kt++)}const je=$t?IOe($n):ab;for($e=je.length-1,qe=Kn-1;qe>=0;qe--){const mt=dn+qe,re=se[mt],le=se[mt+1],Ae=mt+1<ze?le.el||le.placeholder:ye;$n[qe]===0?v(null,re,he,Ae,_e,fe,Ce,Oe,Ue):$t&&($e<0||qe!==je[$e]?G(re,he,Ae,2):$e--)}}},G=(Y,se,he,ye,_e=null)=>{const{el:fe,type:Ce,transition:Oe,children:Ue,shapeFlag:qe}=Y;if(qe&6){G(Y.component.subTree,se,he,ye);return}if(qe&128){Y.suspense.move(se,he,ye);return}if(qe&64){Ce.move(Y,se,he,ne);return}if(Ce===ft){r(fe,se,he);for(let ae=0;ae<Ue.length;ae++)G(Ue[ae],se,he,ye);r(Y.anchor,se,he);return}if(Ce===_D){b(Y,se,he);return}if(ye!==2&&qe&1&&Oe)if(ye===0)Oe.beforeEnter(fe),r(fe,se,he),js(()=>Oe.enter(fe),_e);else{const{leave:ae,delayLeave:Fe,afterLeave:We}=Oe,dn=()=>{Y.ctx.isUnmounted?i(fe):r(fe,se,he)},At=()=>{fe._isLeaving&&fe[Pd](!0),ae(fe,()=>{dn(),We&&We()})};Fe?Fe(fe,dn,At):At()}else r(fe,se,he)},W=(Y,se,he,ye=!1,_e=!1)=>{const{type:fe,props:Ce,ref:Oe,children:Ue,dynamicChildren:qe,shapeFlag:ze,patchFlag:ae,dirs:Fe,cacheIndex:We}=Y;if(ae===-2&&(_e=!1),Oe!=null&&(th(),IS(Oe,null,he,Y,!0),nh()),We!=null&&(se.renderCache[We]=void 0),ze&256){se.ctx.deactivate(Y);return}const dn=ze&1&&Fe,At=!cb(Y);let $e;if(At&&($e=Ce&&Ce.onVnodeBeforeUnmount)&&rf($e,se,Y),ze&6)oe(Y.component,he,ye);else{if(ze&128){Y.suspense.unmount(he,ye);return}dn&&Zv(Y,null,se,"beforeUnmount"),ze&64?Y.type.remove(Y,se,he,ne,ye):qe&&!qe.hasOnce&&(fe!==ft||ae>0&&ae&64)?ce(qe,se,he,!1,!0):(fe===ft&&ae&384||!_e&&ze&16)&&ce(Ue,se,he),ye&&Z(Y)}(At&&($e=Ce&&Ce.onVnodeUnmounted)||dn)&&js(()=>{$e&&rf($e,se,Y),dn&&Zv(Y,null,se,"unmounted")},he)},Z=Y=>{const{type:se,el:he,anchor:ye,transition:_e}=Y;if(se===ft){ee(he,ye);return}if(se===_D){w(Y);return}const fe=()=>{i(he),_e&&!_e.persisted&&_e.afterLeave&&_e.afterLeave()};if(Y.shapeFlag&1&&_e&&!_e.persisted){const{leave:Ce,delayLeave:Oe}=_e,Ue=()=>Ce(he,fe);Oe?Oe(Y.el,fe,Ue):Ue()}else fe()},ee=(Y,se)=>{let he;for(;Y!==se;)he=d(Y),i(Y),Y=he;i(se)},oe=(Y,se,he)=>{const{bum:ye,scope:_e,job:fe,subTree:Ce,um:Oe,m:Ue,a:qe}=Y;oq(Ue),oq(qe),ye&&YA(ye),_e.stop(),fe&&(fe.flags|=8,W(Ce,Y,se,he)),Oe&&js(Oe,se),js(()=>{Y.isUnmounted=!0},se)},ce=(Y,se,he,ye=!1,_e=!1,fe=0)=>{for(let Ce=fe;Ce<Y.length;Ce++)W(Y[Ce],se,he,ye,_e)},X=Y=>{if(Y.shapeFlag&6)return X(Y.component.subTree);if(Y.shapeFlag&128)return Y.suspense.next();const se=d(Y.anchor||Y.el),he=se&&se[oce];return he?d(he):se};let H=!1;const U=(Y,se,he)=>{Y==null?se._vnode&&W(se._vnode,null,null,!0):v(se._vnode||null,Y,se,null,null,null,he),se._vnode=Y,H||(H=!0,KW(),nce(),H=!1)},ne={p:v,um:W,m:G,r:Z,mt:L,mc:E,pc:P,pbc:A,n:X,o:t};return{render:U,hydrate:void 0,createApp:SOe(U)}}function bD({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Jv({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function OOe(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function nz(t,e,n=!1){const r=t.children,i=e.children;if(tt(r)&&tt(i))for(let o=0;o<r.length;o++){const a=r[o];let s=i[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[o]=dp(i[o]),s.el=a.el),!n&&s.patchFlag!==-2&&nz(a,s)),s.type===J1&&s.patchFlag!==-1&&(s.el=a.el),s.type===yo&&!s.el&&(s.el=a.el)}}function IOe(t){const e=t.slice(),n=[0];let r,i,o,a,s;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,a=n.length-1;o<a;)s=o+a>>1,t[n[s]]<u?o=s+1:a=s;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=e[a];return n}function Oce(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Oce(e)}function oq(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ROe=Symbol.for("v-scx"),LOe=()=>bt(ROe);function is(t,e){return rz(t,null,e)}function Le(t,e,n){return rz(t,e,n)}function rz(t,e,n=Ji){const{immediate:r,deep:i,flush:o,once:a}=n,s=Aa({},n),l=e&&r||!e&&o!=="post";let u;if(Ax){if(o==="sync"){const h=LOe();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Yr,h.resume=Yr,h.pause=Yr,h}}const c=Es;s.call=(h,p,v)=>Tc(h,c,p,v);let f=!1;o==="post"?s.scheduler=h=>{js(h,c&&c.suspense)}:o!=="sync"&&(f=!0,s.scheduler=(h,p)=>{p?h():Y8(h)}),s.augmentJob=h=>{e&&(h.flags|=4),f&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const d=eOe(t,e,s);return Ax&&(u?u.push(d):l&&d()),d}function DOe(t,e,n){const r=this.proxy,i=Ht(t)?t.includes(".")?Ice(r,t):()=>r[t]:t.bind(r,r);let o;qt(e)?o=e:(o=e.handler,n=e);const a=r2(this),s=rz(i,o.bind(r),n);return a(),s}function Ice(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const NOe=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${nl(e)}Modifiers`]||t[`${Ch(e)}Modifiers`];function BOe(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ji;let i=n;const o=e.startsWith("update:"),a=o&&NOe(r,e.slice(7));a&&(a.trim&&(i=n.map(c=>Ht(c)?c.trim():c)),a.number&&(i=n.map(V$)));let s,l=r[s=kS(e)]||r[s=kS(nl(e))];!l&&o&&(l=r[s=kS(Ch(e))]),l&&Tc(l,t,6,i);const u=r[s+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[s])return;t.emitted[s]=!0,Tc(u,t,6,i)}}function Rce(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let a={},s=!1;if(!qt(t)){const l=u=>{const c=Rce(u,e,!0);c&&(s=!0,Aa(a,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!s?(Nn(t)&&r.set(t,null),null):(tt(o)?o.forEach(l=>a[l]=null):Aa(a,o),Nn(t)&&r.set(t,a),a)}function JO(t,e){return!t||!VO(e)?!1:(e=e.slice(2).replace(/Once$/,""),Rr(t,e[0].toLowerCase()+e.slice(1))||Rr(t,Ch(e))||Rr(t,e))}function aq(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:a,attrs:s,emit:l,render:u,renderCache:c,props:f,data:d,setupState:h,ctx:p,inheritAttrs:v}=t,g=yM(t);let m,y;try{if(n.shapeFlag&4){const w=i||r,S=w;m=Ef(u.call(S,w,c,f,h,d,p)),y=s}else{const w=e;m=Ef(w.length>1?w(f,{attrs:s,slots:a,emit:l}):w(f,null)),y=e.props?s:$Oe(s)}}catch(w){LS.length=0,qO(w,t,1),m=O(yo)}let b=m;if(y&&v!==!1){const w=Object.keys(y),{shapeFlag:S}=b;w.length&&S&7&&(o&&w.some(V8)&&(y=FOe(y,o)),b=rh(b,y,!1,!0))}return n.dirs&&(b=rh(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Rm(b,n.transition),m=b,yM(g),m}const $Oe=t=>{let e;for(const n in t)(n==="class"||n==="style"||VO(n))&&((e||(e={}))[n]=t[n]);return e},FOe=(t,e)=>{const n={};for(const r in t)(!V8(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function VOe(t,e,n){const{props:r,children:i,component:o}=t,{props:a,children:s,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?sq(r,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(a[d]!==r[d]&&!JO(u,d))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===a?!1:r?a?sq(r,a,u):!0:!!a;return!1}function sq(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!JO(n,o))return!0}return!1}function zOe({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Lce=t=>t.__isSuspense;function HOe(t,e){e&&e.pendingBranch?tt(t)?e.effects.push(...t):e.effects.push(t):rOe(t)}const ft=Symbol.for("v-fgt"),J1=Symbol.for("v-txt"),yo=Symbol.for("v-cmt"),_D=Symbol.for("v-stc"),LS=[];let jl=null;function N(t=!1){LS.push(jl=t?null:[])}function jOe(){LS.pop(),jl=LS[LS.length-1]||null}let Tx=1;function lq(t,e=!1){Tx+=t,t<0&&jl&&e&&(jl.hasOnce=!0)}function Dce(t){return t.dynamicChildren=Tx>0?jl||ab:null,jOe(),Tx>0&&jl&&jl.push(t),t}function Q(t,e,n,r,i,o){return Dce(K(t,e,n,r,i,o,!0))}function de(t,e,n,r,i){return Dce(O(t,e,n,r,i,!0))}function wi(t){return t?t.__v_isVNode===!0:!1}function $g(t,e){return t.type===e.type&&t.key===e.key}const Nce=({key:t})=>t??null,JA=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ht(t)||ai(t)||qt(t)?{i:rs,r:t,k:e,f:!!n}:t:null);function K(t,e=null,n=null,r=0,i=null,o=t===ft?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Nce(e),ref:e&&JA(e),scopeId:ice,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:rs};return s?(iz(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Ht(n)?8:16),Tx>0&&!a&&jl&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&jl.push(l),l}const O=GOe;function GOe(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===mce)&&(t=yo),wi(t)){const s=rh(t,e,!0);return n&&iz(s,n),Tx>0&&!o&&jl&&(s.shapeFlag&6?jl[jl.indexOf(t)]=s:jl.push(s)),s.patchFlag=-2,s}if(JOe(t)&&(t=t.__vccOpts),e){e=Wf(e);let{class:s,style:l}=e;s&&!Ht(s)&&(e.class=q(s)),Nn(l)&&(K8(l)&&!tt(l)&&(l=Aa({},l)),e.style=Ot(l))}const a=Ht(t)?1:Lce(t)?128:ace(t)?64:Nn(t)?4:qt(t)?2:0;return K(t,e,n,r,i,a,o,!0)}function Wf(t){return t?K8(t)||Ece(t)?Aa({},t):t:null}function rh(t,e,n=!1,r=!1){const{props:i,ref:o,patchFlag:a,children:s,transition:l}=t,u=e?Fn(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Nce(u),ref:e&&e.ref?n&&o?tt(o)?o.concat(JA(e)):[o,JA(e)]:JA(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ft?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&rh(t.ssContent),ssFallback:t.ssFallback&&rh(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Rm(c,l.clone(c)),c}function Be(t=" ",e=0){return O(J1,null,t,e)}function ge(t="",e=!1){return e?(N(),de(yo,null,t)):O(yo,null,t)}function Ef(t){return t==null||typeof t=="boolean"?O(yo):tt(t)?O(ft,null,t.slice()):wi(t)?dp(t):O(J1,null,String(t))}function dp(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:rh(t)}function iz(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(tt(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),iz(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!Ece(e)?e._ctx=rs:i===3&&rs&&(rs.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else qt(e)?(e={default:e,_ctx:rs},n=32):(e=String(e),r&64?(n=16,e=[Be(e)]):n=8);t.children=e,t.shapeFlag|=n}function Fn(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=q([e.class,r.class]));else if(i==="style")e.style=Ot([e.style,r.style]);else if(VO(i)){const o=e[i],a=r[i];a&&o!==a&&!(tt(o)&&o.includes(a))&&(e[i]=o?[].concat(o,a):a)}else i!==""&&(e[i]=r[i])}return e}function rf(t,e,n,r=null){Tc(t,e,7,[n,r])}const UOe=Sce();let WOe=0;function qOe(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||UOe,o={uid:WOe++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Rue(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ace(r,i),emitsOptions:Rce(r,i),emit:null,emitted:null,propsDefaults:Ji,inheritAttrs:r.inheritAttrs,ctx:Ji,data:Ji,props:Ji,attrs:Ji,slots:Ji,refs:Ji,setupState:Ji,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=BOe.bind(null,o),t.ce&&t.ce(o),o}let Es=null;const Un=()=>Es||rs;let _M,Y$;{const t=jO(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(a=>a(o)):i[0](o)}};_M=e("__VUE_INSTANCE_SETTERS__",n=>Es=n),Y$=e("__VUE_SSR_SETTERS__",n=>Ax=n)}const r2=t=>{const e=Es;return _M(t),t.scope.on(),()=>{t.scope.off(),_M(e)}},uq=()=>{Es&&Es.scope.off(),_M(null)};function Bce(t){return t.vnode.shapeFlag&4}let Ax=!1;function KOe(t,e=!1,n=!1){e&&Y$(e);const{props:r,children:i}=t.vnode,o=Bce(t);xOe(t,r,o,e),AOe(t,i,n||e);const a=o?YOe(t,e):void 0;return e&&Y$(!1),a}function YOe(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,vOe);const{setup:r}=n;if(r){th();const i=t.setupContext=r.length>1?Fce(t):null,o=r2(t),a=t2(r,t,0,[t.props,i]),s=Im(a);if(nh(),o(),(s||t.sp)&&!cb(t)&&pce(t),s){if(a.then(uq,uq),e)return a.then(l=>{cq(t,l)}).catch(l=>{qO(l,t,0)});t.asyncDep=a}else cq(t,a)}else $ce(t)}function cq(t,e,n){qt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Nn(e)&&(t.setupState=Jue(e)),$ce(t)}function $ce(t,e,n){const r=t.type;t.render||(t.render=r.render||Yr);{const i=r2(t);th();try{gOe(t)}finally{nh(),i()}}}const XOe={get(t,e){return Cs(t,"get",""),t[e]}};function Fce(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,XOe),slots:t.slots,emit:t.emit,expose:e}}function QO(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Jue(Ff(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in RS)return RS[n](t)},has(e,n){return n in e||n in RS}})):t.proxy}function ZOe(t,e=!0){return qt(t)?t.displayName||t.name:t.name||e&&t.__name}function JOe(t){return qt(t)&&"__vccOpts"in t}const z=(t,e)=>JPe(t,e,Ax);function Rt(t,e,n){const r=arguments.length;return r===2?Nn(e)&&!tt(e)?wi(e)?O(t,null,[e]):O(t,e):O(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&wi(n)&&(n=[n]),O(t,e,n))}const QOe="3.5.19",eIe=Yr;/**
* @vue/runtime-dom v3.5.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let X$;const fq=typeof window<"u"&&window.trustedTypes;if(fq)try{X$=fq.createPolicy("vue",{createHTML:t=>t})}catch{}const Vce=X$?t=>X$.createHTML(t):t=>t,tIe="http://www.w3.org/2000/svg",nIe="http://www.w3.org/1998/Math/MathML",Td=typeof document<"u"?document:null,dq=Td&&Td.createElement("template"),rIe={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Td.createElementNS(tIe,t):e==="mathml"?Td.createElementNS(nIe,t):n?Td.createElement(t,{is:n}):Td.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Td.createTextNode(t),createComment:t=>Td.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Td.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const a=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{dq.innerHTML=Vce(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const s=dq.content;if(r==="svg"||r==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}e.insertBefore(s,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Wh="transition",sw="animation",Bb=Symbol("_vtc"),zce={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Hce=Aa({},cce,zce),iIe=t=>(t.displayName="Transition",t.props=Hce,t),ka=iIe((t,{slots:e})=>Rt(sOe,jce(t),e)),Qv=(t,e=[])=>{tt(t)?t.forEach(n=>n(...e)):t&&t(...e)},hq=t=>t?tt(t)?t.some(e=>e.length>1):t.length>1:!1;function jce(t){const e={};for(const M in t)M in zce||(e[M]=t[M]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=a,appearToClass:c=s,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=oIe(i),v=p&&p[0],g=p&&p[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:b,onLeave:w,onLeaveCancelled:S,onBeforeAppear:x=m,onAppear:C=y,onAppearCancelled:E=b}=e,T=(M,D,L,I)=>{M._enterCancelled=I,op(M,D?c:s),op(M,D?u:a),L&&L()},A=(M,D)=>{M._isLeaving=!1,op(M,f),op(M,h),op(M,d),D&&D()},k=M=>(D,L)=>{const I=M?C:y,R=()=>T(D,M,L);Qv(I,[D,R]),pq(()=>{op(D,M?l:o),mf(D,M?c:s),hq(I)||vq(D,r,v,R)})};return Aa(e,{onBeforeEnter(M){Qv(m,[M]),mf(M,o),mf(M,a)},onBeforeAppear(M){Qv(x,[M]),mf(M,l),mf(M,u)},onEnter:k(!1),onAppear:k(!0),onLeave(M,D){M._isLeaving=!0;const L=()=>A(M,D);mf(M,f),M._enterCancelled?(mf(M,d),Z$()):(Z$(),mf(M,d)),pq(()=>{M._isLeaving&&(op(M,f),mf(M,h),hq(w)||vq(M,r,g,L))}),Qv(w,[M,L])},onEnterCancelled(M){T(M,!1,void 0,!0),Qv(b,[M])},onAppearCancelled(M){T(M,!0,void 0,!0),Qv(E,[M])},onLeaveCancelled(M){A(M),Qv(S,[M])}})}function oIe(t){if(t==null)return null;if(Nn(t))return[wD(t.enter),wD(t.leave)];{const e=wD(t);return[e,e]}}function wD(t){return yPe(t)}function mf(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Bb]||(t[Bb]=new Set)).add(e)}function op(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Bb];n&&(n.delete(e),n.size||(t[Bb]=void 0))}function pq(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let aIe=0;function vq(t,e,n,r){const i=t._endId=++aIe,o=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:a,timeout:s,propCount:l}=Gce(t,e);if(!a)return r();const u=a+"end";let c=0;const f=()=>{t.removeEventListener(u,d),o()},d=h=>{h.target===t&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},s+1),t.addEventListener(u,d)}function Gce(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${Wh}Delay`),o=r(`${Wh}Duration`),a=gq(i,o),s=r(`${sw}Delay`),l=r(`${sw}Duration`),u=gq(s,l);let c=null,f=0,d=0;e===Wh?a>0&&(c=Wh,f=a,d=o.length):e===sw?u>0&&(c=sw,f=u,d=l.length):(f=Math.max(a,u),c=f>0?a>u?Wh:sw:null,d=c?c===Wh?o.length:l.length:0);const h=c===Wh&&/\b(transform|all)(,|$)/.test(r(`${Wh}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function gq(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>mq(n)+mq(t[r])))}function mq(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Z$(){return document.body.offsetHeight}function sIe(t,e,n){const r=t[Bb];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const wM=Symbol("_vod"),Uce=Symbol("_vsh"),kr={beforeMount(t,{value:e},{transition:n}){t[wM]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):lw(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),lw(t,!0),r.enter(t)):r.leave(t,()=>{lw(t,!1)}):lw(t,e))},beforeUnmount(t,{value:e}){lw(t,e)}};function lw(t,e){t.style.display=e?t[wM]:"none",t[Uce]=!e}const lIe=Symbol(""),uIe=/(^|;)\s*display\s*:/;function cIe(t,e,n){const r=t.style,i=Ht(n);let o=!1;if(n&&!i){if(e)if(Ht(e))for(const a of e.split(";")){const s=a.slice(0,a.indexOf(":")).trim();n[s]==null&&QA(r,s,"")}else for(const a in e)n[a]==null&&QA(r,a,"");for(const a in n)a==="display"&&(o=!0),QA(r,a,n[a])}else if(i){if(e!==n){const a=r[lIe];a&&(n+=";"+a),r.cssText=n,o=uIe.test(n)}}else e&&t.removeAttribute("style");wM in t&&(t[wM]=o?r.display:"",t[Uce]&&(r.display="none"))}const yq=/\s*!important$/;function QA(t,e,n){if(tt(n))n.forEach(r=>QA(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=fIe(t,e);yq.test(n)?t.setProperty(Ch(r),n.replace(yq,""),"important"):t[r]=n}}const bq=["Webkit","Moz","ms"],SD={};function fIe(t,e){const n=SD[e];if(n)return n;let r=nl(e);if(r!=="filter"&&r in t)return SD[e]=r;r=e2(r);for(let i=0;i<bq.length;i++){const o=bq[i]+r;if(o in t)return SD[e]=o}return e}const _q="http://www.w3.org/1999/xlink";function wq(t,e,n,r,i,o=CPe(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(_q,e.slice(6,e.length)):t.setAttributeNS(_q,e,n):n==null||o&&!Mue(n)?t.removeAttribute(e):t.setAttribute(e,o?"":Ec(n)?String(n):n)}function Sq(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Vce(n):n);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const s=o==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(s!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const s=typeof t[e];s==="boolean"?n=Mue(n):n==null&&s==="string"?(n="",a=!0):s==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(i||e)}function bp(t,e,n,r){t.addEventListener(e,n,r)}function dIe(t,e,n,r){t.removeEventListener(e,n,r)}const xq=Symbol("_vei");function hIe(t,e,n,r,i=null){const o=t[xq]||(t[xq]={}),a=o[e];if(r&&a)a.value=r;else{const[s,l]=pIe(e);if(r){const u=o[e]=mIe(r,i);bp(t,s,u,l)}else a&&(dIe(t,s,a,l),o[e]=void 0)}}const Cq=/(?:Once|Passive|Capture)$/;function pIe(t){let e;if(Cq.test(t)){e={};let r;for(;r=t.match(Cq);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ch(t.slice(2)),e]}let xD=0;const vIe=Promise.resolve(),gIe=()=>xD||(vIe.then(()=>xD=0),xD=Date.now());function mIe(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Tc(yIe(r,n.value),e,5,[r])};return n.value=t,n.attached=gIe(),n}function yIe(t,e){if(tt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Eq=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,bIe=(t,e,n,r,i,o)=>{const a=i==="svg";e==="class"?sIe(t,r,a):e==="style"?cIe(t,n,r):VO(e)?V8(e)||hIe(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_Ie(t,e,r,a))?(Sq(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&wq(t,e,r,a,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ht(r))?Sq(t,nl(e),r,o,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),wq(t,e,r,a))};function _Ie(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Eq(e)&&qt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Eq(e)&&Ht(n)?!1:e in t}const Wce=new WeakMap,qce=new WeakMap,SM=Symbol("_moveCb"),Tq=Symbol("_enterCb"),wIe=t=>(delete t.props.mode,t),SIe=wIe({name:"TransitionGroup",props:Aa({},Hce,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Un(),r=uce();let i,o;return Hc(()=>{if(!i.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!TIe(i[0].el,n.vnode.el,a)){i=[];return}i.forEach(xIe),i.forEach(CIe);const s=i.filter(EIe);Z$(),s.forEach(l=>{const u=l.el,c=u.style;mf(u,a),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[SM]=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u[SM]=null,op(u,a))};u.addEventListener("transitionend",f)}),i=[]}),()=>{const a=pi(t),s=jce(a);let l=a.tag||ft;if(i=[],o)for(let u=0;u<o.length;u++){const c=o[u];c.el&&c.el instanceof Element&&(i.push(c),Rm(c,Ex(c,s,r,n)),Wce.set(c,c.el.getBoundingClientRect()))}o=e.default?X8(e.default()):[];for(let u=0;u<o.length;u++){const c=o[u];c.key!=null&&Rm(c,Ex(c,s,r,n))}return O(l,null,o)}}}),Kce=SIe;function xIe(t){const e=t.el;e[SM]&&e[SM](),e[Tq]&&e[Tq]()}function CIe(t){qce.set(t,t.el.getBoundingClientRect())}function EIe(t){const e=Wce.get(t),n=qce.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",t}}function TIe(t,e,n){const r=t.cloneNode(),i=t[Bb];i&&i.forEach(s=>{s.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(r);const{hasTransform:a}=Gce(r);return o.removeChild(r),a}const $b=t=>{const e=t.props["onUpdate:modelValue"]||!1;return tt(e)?n=>YA(e,n):e};function AIe(t){t.target.composing=!0}function Aq(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Gd=Symbol("_assign"),hm={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Gd]=$b(i);const o=r||i.props&&i.props.type==="number";bp(t,e?"change":"input",a=>{if(a.target.composing)return;let s=t.value;n&&(s=s.trim()),o&&(s=V$(s)),t[Gd](s)}),n&&bp(t,"change",()=>{t.value=t.value.trim()}),e||(bp(t,"compositionstart",AIe),bp(t,"compositionend",Aq),bp(t,"change",Aq))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:o}},a){if(t[Gd]=$b(a),t.composing)return;const s=(o||t.type==="number")&&!/^0\d/.test(t.value)?V$(t.value):t.value,l=e??"";s!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},xM={deep:!0,created(t,e,n){t[Gd]=$b(n),bp(t,"change",()=>{const r=t._modelValue,i=Xce(t),o=t.checked,a=t[Gd];if(tt(r)){const s=Pue(r,i),l=s!==-1;if(o&&!l)a(r.concat(i));else if(!o&&l){const u=[...r];u.splice(s,1),a(u)}}else if(zO(r)){const s=new Set(r);o?s.add(i):s.delete(i),a(s)}else a(Zce(t,o))})},mounted:kq,beforeUpdate(t,e,n){t[Gd]=$b(n),kq(t,e,n)}};function kq(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if(tt(e))i=Pue(e,r.props.value)>-1;else if(zO(e))i=e.has(r.props.value);else{if(e===n)return;i=Nb(e,Zce(t,!0))}t.checked!==i&&(t.checked=i)}const Yce={created(t,{value:e},n){t.checked=Nb(e,n.props.value),t[Gd]=$b(n),bp(t,"change",()=>{t[Gd](Xce(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Gd]=$b(r),e!==n&&(t.checked=Nb(e,r.props.value))}};function Xce(t){return"_value"in t?t._value:t.value}function Zce(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const kIe=["ctrl","shift","alt","meta"],MIe={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>kIe.some(n=>t[`${n}Key`]&&!e.includes(n))},an=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=((i,...o)=>{for(let a=0;a<e.length;a++){const s=MIe[e[a]];if(s&&s(i,e))return}return t(i,...o)}))},PIe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},hi=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=(i=>{if(!("key"in i))return;const o=Ch(i.key);if(e.some(a=>a===o||PIe[a]===o))return t(i)}))},OIe=Aa({patchProp:bIe},rIe);let Mq;function Jce(){return Mq||(Mq=MOe(OIe))}const Qp=((...t)=>{Jce().render(...t)}),Qce=((...t)=>{const e=Jce().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=RIe(r);if(!i)return;const o=e._component;!qt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=n(i,!1,IIe(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e});function IIe(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function RIe(t){return Ht(t)?document.querySelector(t):t}const LIe="2.11.2",Pq=Symbol("INSTALLED_KEY"),efe=Symbol(),DS="el",DIe="is-",eg=(t,e,n,r,i)=>{let o=`${t}-${e}`;return n&&(o+=`-${n}`),r&&(o+=`__${r}`),i&&(o+=`--${i}`),o},tfe=Symbol("namespaceContextKey"),oz=t=>{const e=t||(Un()?bt(tfe,F(DS)):F(DS));return z(()=>_(e)||DS)},Ye=(t,e)=>{const n=oz(e);return{namespace:n,b:(v="")=>eg(n.value,t,v,"",""),e:v=>v?eg(n.value,t,"",v,""):"",m:v=>v?eg(n.value,t,"","",v):"",be:(v,g)=>v&&g?eg(n.value,t,v,g,""):"",em:(v,g)=>v&&g?eg(n.value,t,"",v,g):"",bm:(v,g)=>v&&g?eg(n.value,t,v,"",g):"",bem:(v,g,m)=>v&&g&&m?eg(n.value,t,v,g,m):"",is:(v,...g)=>{const m=g.length>=1?g[0]:!0;return v&&m?`${DIe}${v}`:""},cssVar:v=>{const g={};for(const m in v)v[m]&&(g[`--${n.value}-${m}`]=v[m]);return g},cssVarName:v=>`--${n.value}-${v}`,cssVarBlock:v=>{const g={};for(const m in v)v[m]&&(g[`--${n.value}-${t}-${m}`]=v[m]);return g},cssVarBlockName:v=>`--${n.value}-${t}-${v}`}};var nfe=typeof global=="object"&&global&&global.Object===Object&&global,NIe=typeof self=="object"&&self&&self.Object===Object&&self,jc=nfe||NIe||Function("return this")(),zu=jc.Symbol,rfe=Object.prototype,BIe=rfe.hasOwnProperty,$Ie=rfe.toString,uw=zu?zu.toStringTag:void 0;function FIe(t){var e=BIe.call(t,uw),n=t[uw];try{t[uw]=void 0;var r=!0}catch{}var i=$Ie.call(t);return r&&(e?t[uw]=n:delete t[uw]),i}var VIe=Object.prototype,zIe=VIe.toString;function HIe(t){return zIe.call(t)}var jIe="[object Null]",GIe="[object Undefined]",Oq=zu?zu.toStringTag:void 0;function Pv(t){return t==null?t===void 0?GIe:jIe:Oq&&Oq in Object(t)?FIe(t):HIe(t)}function Ac(t){return t!=null&&typeof t=="object"}var UIe="[object Symbol]";function qf(t){return typeof t=="symbol"||Ac(t)&&Pv(t)==UIe}function db(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var za=Array.isArray,Iq=zu?zu.prototype:void 0,Rq=Iq?Iq.toString:void 0;function ife(t){if(typeof t=="string")return t;if(za(t))return db(t,ife)+"";if(qf(t))return Rq?Rq.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var WIe=/\s/;function qIe(t){for(var e=t.length;e--&&WIe.test(t.charAt(e)););return e}var KIe=/^\s+/;function YIe(t){return t&&t.slice(0,qIe(t)+1).replace(KIe,"")}function $o(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Lq=NaN,XIe=/^[-+]0x[0-9a-f]+$/i,ZIe=/^0b[01]+$/i,JIe=/^0o[0-7]+$/i,QIe=parseInt;function NS(t){if(typeof t=="number")return t;if(qf(t))return Lq;if($o(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$o(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=YIe(t);var n=ZIe.test(t);return n||JIe.test(t)?QIe(t.slice(2),n?2:8):XIe.test(t)?Lq:+t}function Q1(t){return t}var eRe="[object AsyncFunction]",tRe="[object Function]",nRe="[object GeneratorFunction]",rRe="[object Proxy]";function az(t){if(!$o(t))return!1;var e=Pv(t);return e==tRe||e==nRe||e==eRe||e==rRe}var CD=jc["__core-js_shared__"],Dq=(function(){var t=/[^.]+$/.exec(CD&&CD.keys&&CD.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function iRe(t){return!!Dq&&Dq in t}var oRe=Function.prototype,aRe=oRe.toString;function dy(t){if(t!=null){try{return aRe.call(t)}catch{}try{return t+""}catch{}}return""}var sRe=/[\\^$.*+?()[\]{}|]/g,lRe=/^\[object .+?Constructor\]$/,uRe=Function.prototype,cRe=Object.prototype,fRe=uRe.toString,dRe=cRe.hasOwnProperty,hRe=RegExp("^"+fRe.call(dRe).replace(sRe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pRe(t){if(!$o(t)||iRe(t))return!1;var e=az(t)?hRe:lRe;return e.test(dy(t))}function vRe(t,e){return t?.[e]}function hy(t,e){var n=vRe(t,e);return pRe(n)?n:void 0}var J$=hy(jc,"WeakMap"),Nq=Object.create,gRe=(function(){function t(){}return function(e){if(!$o(e))return{};if(Nq)return Nq(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})();function ofe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function mRe(){}function afe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var yRe=800,bRe=16,_Re=Date.now;function wRe(t){var e=0,n=0;return function(){var r=_Re(),i=bRe-(r-n);if(n=r,i>0){if(++e>=yRe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function SRe(t){return function(){return t}}var CM=(function(){try{var t=hy(Object,"defineProperty");return t({},"",{}),t}catch{}})(),xRe=CM?function(t,e){return CM(t,"toString",{configurable:!0,enumerable:!1,value:SRe(e),writable:!0})}:Q1,sfe=wRe(xRe);function CRe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function lfe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function ERe(t){return t!==t}function TRe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function ARe(t,e,n){return e===e?TRe(t,e,n):lfe(t,ERe,n)}function ufe(t,e){var n=t==null?0:t.length;return!!n&&ARe(t,e,0)>-1}var kRe=9007199254740991,MRe=/^(?:0|[1-9]\d*)$/;function eI(t,e){var n=typeof t;return e=e??kRe,!!e&&(n=="number"||n!="symbol"&&MRe.test(t))&&t>-1&&t%1==0&&t<e}function tI(t,e,n){e=="__proto__"&&CM?CM(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function e_(t,e){return t===e||t!==t&&e!==e}var PRe=Object.prototype,ORe=PRe.hasOwnProperty;function sz(t,e,n){var r=t[e];(!(ORe.call(t,e)&&e_(r,n))||n===void 0&&!(e in t))&&tI(t,e,n)}function t_(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=void 0;l===void 0&&(l=t[s]),i?tI(n,s,l):sz(n,s,l)}return n}var Bq=Math.max;function cfe(t,e,n){return e=Bq(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Bq(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),ofe(t,this,s)}}function n_(t,e){return sfe(cfe(t,e,Q1),t+"")}var IRe=9007199254740991;function lz(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=IRe}function py(t){return t!=null&&lz(t.length)&&!az(t)}function EM(t,e,n){if(!$o(n))return!1;var r=typeof e;return(r=="number"?py(n)&&eI(e,n.length):r=="string"&&e in n)?e_(n[e],t):!1}function ffe(t){return n_(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&EM(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}var RRe=Object.prototype;function nI(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||RRe;return t===n}function LRe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var DRe="[object Arguments]";function $q(t){return Ac(t)&&Pv(t)==DRe}var dfe=Object.prototype,NRe=dfe.hasOwnProperty,BRe=dfe.propertyIsEnumerable,Fb=$q((function(){return arguments})())?$q:function(t){return Ac(t)&&NRe.call(t,"callee")&&!BRe.call(t,"callee")};function $Re(){return!1}var hfe=typeof Kl=="object"&&Kl&&!Kl.nodeType&&Kl,Fq=hfe&&typeof Yl=="object"&&Yl&&!Yl.nodeType&&Yl,FRe=Fq&&Fq.exports===hfe,Vq=FRe?jc.Buffer:void 0,VRe=Vq?Vq.isBuffer:void 0,Vb=VRe||$Re,zRe="[object Arguments]",HRe="[object Array]",jRe="[object Boolean]",GRe="[object Date]",URe="[object Error]",WRe="[object Function]",qRe="[object Map]",KRe="[object Number]",YRe="[object Object]",XRe="[object RegExp]",ZRe="[object Set]",JRe="[object String]",QRe="[object WeakMap]",eLe="[object ArrayBuffer]",tLe="[object DataView]",nLe="[object Float32Array]",rLe="[object Float64Array]",iLe="[object Int8Array]",oLe="[object Int16Array]",aLe="[object Int32Array]",sLe="[object Uint8Array]",lLe="[object Uint8ClampedArray]",uLe="[object Uint16Array]",cLe="[object Uint32Array]",uo={};uo[nLe]=uo[rLe]=uo[iLe]=uo[oLe]=uo[aLe]=uo[sLe]=uo[lLe]=uo[uLe]=uo[cLe]=!0;uo[zRe]=uo[HRe]=uo[eLe]=uo[jRe]=uo[tLe]=uo[GRe]=uo[URe]=uo[WRe]=uo[qRe]=uo[KRe]=uo[YRe]=uo[XRe]=uo[ZRe]=uo[JRe]=uo[QRe]=!1;function fLe(t){return Ac(t)&&lz(t.length)&&!!uo[Pv(t)]}function rI(t){return function(e){return t(e)}}var pfe=typeof Kl=="object"&&Kl&&!Kl.nodeType&&Kl,BS=pfe&&typeof Yl=="object"&&Yl&&!Yl.nodeType&&Yl,dLe=BS&&BS.exports===pfe,ED=dLe&&nfe.process,zb=(function(){try{var t=BS&&BS.require&&BS.require("util").types;return t||ED&&ED.binding&&ED.binding("util")}catch{}})(),zq=zb&&zb.isTypedArray,iI=zq?rI(zq):fLe,hLe=Object.prototype,pLe=hLe.hasOwnProperty;function vfe(t,e){var n=za(t),r=!n&&Fb(t),i=!n&&!r&&Vb(t),o=!n&&!r&&!i&&iI(t),a=n||r||i||o,s=a?LRe(t.length,String):[],l=s.length;for(var u in t)(e||pLe.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||eI(u,l)))&&s.push(u);return s}function gfe(t,e){return function(n){return t(e(n))}}var vLe=gfe(Object.keys,Object),gLe=Object.prototype,mLe=gLe.hasOwnProperty;function mfe(t){if(!nI(t))return vLe(t);var e=[];for(var n in Object(t))mLe.call(t,n)&&n!="constructor"&&e.push(n);return e}function i2(t){return py(t)?vfe(t):mfe(t)}function yLe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var bLe=Object.prototype,_Le=bLe.hasOwnProperty;function wLe(t){if(!$o(t))return yLe(t);var e=nI(t),n=[];for(var r in t)r=="constructor"&&(e||!_Le.call(t,r))||n.push(r);return n}function r_(t){return py(t)?vfe(t,!0):wLe(t)}var SLe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xLe=/^\w*$/;function uz(t,e){if(za(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||qf(t)?!0:xLe.test(t)||!SLe.test(t)||e!=null&&t in Object(e)}var kx=hy(Object,"create");function CLe(){this.__data__=kx?kx(null):{},this.size=0}function ELe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var TLe="__lodash_hash_undefined__",ALe=Object.prototype,kLe=ALe.hasOwnProperty;function MLe(t){var e=this.__data__;if(kx){var n=e[t];return n===TLe?void 0:n}return kLe.call(e,t)?e[t]:void 0}var PLe=Object.prototype,OLe=PLe.hasOwnProperty;function ILe(t){var e=this.__data__;return kx?e[t]!==void 0:OLe.call(e,t)}var RLe="__lodash_hash_undefined__";function LLe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=kx&&e===void 0?RLe:e,this}function Lm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lm.prototype.clear=CLe;Lm.prototype.delete=ELe;Lm.prototype.get=MLe;Lm.prototype.has=ILe;Lm.prototype.set=LLe;function DLe(){this.__data__=[],this.size=0}function oI(t,e){for(var n=t.length;n--;)if(e_(t[n][0],e))return n;return-1}var NLe=Array.prototype,BLe=NLe.splice;function $Le(t){var e=this.__data__,n=oI(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():BLe.call(e,n,1),--this.size,!0}function FLe(t){var e=this.__data__,n=oI(e,t);return n<0?void 0:e[n][1]}function VLe(t){return oI(this.__data__,t)>-1}function zLe(t,e){var n=this.__data__,r=oI(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Ah(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ah.prototype.clear=DLe;Ah.prototype.delete=$Le;Ah.prototype.get=FLe;Ah.prototype.has=VLe;Ah.prototype.set=zLe;var Mx=hy(jc,"Map");function HLe(){this.size=0,this.__data__={hash:new Lm,map:new(Mx||Ah),string:new Lm}}function jLe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function aI(t,e){var n=t.__data__;return jLe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function GLe(t){var e=aI(this,t).delete(t);return this.size-=e?1:0,e}function ULe(t){return aI(this,t).get(t)}function WLe(t){return aI(this,t).has(t)}function qLe(t,e){var n=aI(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function kh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}kh.prototype.clear=HLe;kh.prototype.delete=GLe;kh.prototype.get=ULe;kh.prototype.has=WLe;kh.prototype.set=qLe;var KLe="Expected a function";function sI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(KLe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(sI.Cache||kh),n}sI.Cache=kh;var YLe=500;function XLe(t){var e=sI(t,function(r){return n.size===YLe&&n.clear(),r}),n=e.cache;return e}var ZLe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JLe=/\\(\\)?/g,QLe=XLe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ZLe,function(n,r,i,o){e.push(i?o.replace(JLe,"$1"):r||n)}),e});function o2(t){return t==null?"":ife(t)}function i_(t,e){return za(t)?t:uz(t,e)?[t]:QLe(o2(t))}function o_(t){if(typeof t=="string"||qf(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function a2(t,e){e=i_(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[o_(e[n++])];return n&&n==r?t:void 0}function bo(t,e,n){var r=t==null?void 0:a2(t,e);return r===void 0?n:r}function cz(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Hq=zu?zu.isConcatSpreadable:void 0;function eDe(t){return za(t)||Fb(t)||!!(Hq&&t&&t[Hq])}function vy(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=eDe),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?vy(s,e-1,n,r,i):cz(i,s):r||(i[i.length]=s)}return i}function yfe(t){var e=t==null?0:t.length;return e?vy(t,1):[]}function bfe(t){return sfe(cfe(t,void 0,yfe),t+"")}var fz=gfe(Object.getPrototypeOf,Object),tDe="[object Object]",nDe=Function.prototype,rDe=Object.prototype,_fe=nDe.toString,iDe=rDe.hasOwnProperty,oDe=_fe.call(Object);function Gc(t){if(!Ac(t)||Pv(t)!=tDe)return!1;var e=fz(t);if(e===null)return!0;var n=iDe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&_fe.call(n)==oDe}function wfe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function aDe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:wfe(t,e,n)}var sDe="\\ud800-\\udfff",lDe="\\u0300-\\u036f",uDe="\\ufe20-\\ufe2f",cDe="\\u20d0-\\u20ff",fDe=lDe+uDe+cDe,dDe="\\ufe0e\\ufe0f",hDe="\\u200d",pDe=RegExp("["+hDe+sDe+fDe+dDe+"]");function Sfe(t){return pDe.test(t)}function vDe(t){return t.split("")}var xfe="\\ud800-\\udfff",gDe="\\u0300-\\u036f",mDe="\\ufe20-\\ufe2f",yDe="\\u20d0-\\u20ff",bDe=gDe+mDe+yDe,_De="\\ufe0e\\ufe0f",wDe="["+xfe+"]",Q$="["+bDe+"]",eF="\\ud83c[\\udffb-\\udfff]",SDe="(?:"+Q$+"|"+eF+")",Cfe="[^"+xfe+"]",Efe="(?:\\ud83c[\\udde6-\\uddff]){2}",Tfe="[\\ud800-\\udbff][\\udc00-\\udfff]",xDe="\\u200d",Afe=SDe+"?",kfe="["+_De+"]?",CDe="(?:"+xDe+"(?:"+[Cfe,Efe,Tfe].join("|")+")"+kfe+Afe+")*",EDe=kfe+Afe+CDe,TDe="(?:"+[Cfe+Q$+"?",Q$,Efe,Tfe,wDe].join("|")+")",ADe=RegExp(eF+"(?="+eF+")|"+TDe+EDe,"g");function kDe(t){return t.match(ADe)||[]}function MDe(t){return Sfe(t)?kDe(t):vDe(t)}function Mfe(t){return function(e){e=o2(e);var n=Sfe(e)?MDe(e):void 0,r=n?n[0]:e.charAt(0),i=n?aDe(n,1).join(""):e.slice(1);return r[t]()+i}}var TM=Mfe("toUpperCase");function PDe(t){return TM(o2(t).toLowerCase())}function ODe(t,e,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)n=e(n,t[i],i,t);return n}function IDe(t){return function(e){return t?.[e]}}var RDe={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},LDe=IDe(RDe),DDe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,NDe="\\u0300-\\u036f",BDe="\\ufe20-\\ufe2f",$De="\\u20d0-\\u20ff",FDe=NDe+BDe+$De,VDe="["+FDe+"]",zDe=RegExp(VDe,"g");function HDe(t){return t=o2(t),t&&t.replace(DDe,LDe).replace(zDe,"")}var jDe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function GDe(t){return t.match(jDe)||[]}var UDe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function WDe(t){return UDe.test(t)}var Pfe="\\ud800-\\udfff",qDe="\\u0300-\\u036f",KDe="\\ufe20-\\ufe2f",YDe="\\u20d0-\\u20ff",XDe=qDe+KDe+YDe,Ofe="\\u2700-\\u27bf",Ife="a-z\\xdf-\\xf6\\xf8-\\xff",ZDe="\\xac\\xb1\\xd7\\xf7",JDe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",QDe="\\u2000-\\u206f",eNe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rfe="A-Z\\xc0-\\xd6\\xd8-\\xde",tNe="\\ufe0e\\ufe0f",Lfe=ZDe+JDe+QDe+eNe,Dfe="[']",jq="["+Lfe+"]",nNe="["+XDe+"]",Nfe="\\d+",rNe="["+Ofe+"]",Bfe="["+Ife+"]",$fe="[^"+Pfe+Lfe+Nfe+Ofe+Ife+Rfe+"]",iNe="\\ud83c[\\udffb-\\udfff]",oNe="(?:"+nNe+"|"+iNe+")",aNe="[^"+Pfe+"]",Ffe="(?:\\ud83c[\\udde6-\\uddff]){2}",Vfe="[\\ud800-\\udbff][\\udc00-\\udfff]",I0="["+Rfe+"]",sNe="\\u200d",Gq="(?:"+Bfe+"|"+$fe+")",lNe="(?:"+I0+"|"+$fe+")",Uq="(?:"+Dfe+"(?:d|ll|m|re|s|t|ve))?",Wq="(?:"+Dfe+"(?:D|LL|M|RE|S|T|VE))?",zfe=oNe+"?",Hfe="["+tNe+"]?",uNe="(?:"+sNe+"(?:"+[aNe,Ffe,Vfe].join("|")+")"+Hfe+zfe+")*",cNe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fNe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",dNe=Hfe+zfe+uNe,hNe="(?:"+[rNe,Ffe,Vfe].join("|")+")"+dNe,pNe=RegExp([I0+"?"+Bfe+"+"+Uq+"(?="+[jq,I0,"$"].join("|")+")",lNe+"+"+Wq+"(?="+[jq,I0+Gq,"$"].join("|")+")",I0+"?"+Gq+"+"+Uq,I0+"+"+Wq,fNe,cNe,Nfe,hNe].join("|"),"g");function vNe(t){return t.match(pNe)||[]}function gNe(t,e,n){return t=o2(t),e=e,e===void 0?WDe(t)?vNe(t):GDe(t):t.match(e)||[]}var mNe="[']",yNe=RegExp(mNe,"g");function jfe(t){return function(e){return ODe(gNe(HDe(e).replace(yNe,"")),t,"")}}var lI=jfe(function(t,e,n){return e=e.toLowerCase(),t+(n?PDe(e):e)});function wa(){if(!arguments.length)return[];var t=arguments[0];return za(t)?t:[t]}function bNe(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function Xs(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=NS(n),n=n===n?n:0),e!==void 0&&(e=NS(e),e=e===e?e:0),bNe(NS(t),e,n)}function _Ne(){this.__data__=new Ah,this.size=0}function wNe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function SNe(t){return this.__data__.get(t)}function xNe(t){return this.__data__.has(t)}var CNe=200;function ENe(t,e){var n=this.__data__;if(n instanceof Ah){var r=n.__data__;if(!Mx||r.length<CNe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new kh(r)}return n.set(t,e),this.size=n.size,this}function _c(t){var e=this.__data__=new Ah(t);this.size=e.size}_c.prototype.clear=_Ne;_c.prototype.delete=wNe;_c.prototype.get=SNe;_c.prototype.has=xNe;_c.prototype.set=ENe;function TNe(t,e){return t&&t_(e,i2(e),t)}function ANe(t,e){return t&&t_(e,r_(e),t)}var Gfe=typeof Kl=="object"&&Kl&&!Kl.nodeType&&Kl,qq=Gfe&&typeof Yl=="object"&&Yl&&!Yl.nodeType&&Yl,kNe=qq&&qq.exports===Gfe,Kq=kNe?jc.Buffer:void 0,Yq=Kq?Kq.allocUnsafe:void 0;function Ufe(t,e){if(e)return t.slice();var n=t.length,r=Yq?Yq(n):new t.constructor(n);return t.copy(r),r}function MNe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Wfe(){return[]}var PNe=Object.prototype,ONe=PNe.propertyIsEnumerable,Xq=Object.getOwnPropertySymbols,dz=Xq?function(t){return t==null?[]:(t=Object(t),MNe(Xq(t),function(e){return ONe.call(t,e)}))}:Wfe;function INe(t,e){return t_(t,dz(t),e)}var RNe=Object.getOwnPropertySymbols,qfe=RNe?function(t){for(var e=[];t;)cz(e,dz(t)),t=fz(t);return e}:Wfe;function LNe(t,e){return t_(t,qfe(t),e)}function Kfe(t,e,n){var r=e(t);return za(t)?r:cz(r,n(t))}function tF(t){return Kfe(t,i2,dz)}function Yfe(t){return Kfe(t,r_,qfe)}var nF=hy(jc,"DataView"),rF=hy(jc,"Promise"),hb=hy(jc,"Set"),Zq="[object Map]",DNe="[object Object]",Jq="[object Promise]",Qq="[object Set]",eK="[object WeakMap]",tK="[object DataView]",NNe=dy(nF),BNe=dy(Mx),$Ne=dy(rF),FNe=dy(hb),VNe=dy(J$),xu=Pv;(nF&&xu(new nF(new ArrayBuffer(1)))!=tK||Mx&&xu(new Mx)!=Zq||rF&&xu(rF.resolve())!=Jq||hb&&xu(new hb)!=Qq||J$&&xu(new J$)!=eK)&&(xu=function(t){var e=Pv(t),n=e==DNe?t.constructor:void 0,r=n?dy(n):"";if(r)switch(r){case NNe:return tK;case BNe:return Zq;case $Ne:return Jq;case FNe:return Qq;case VNe:return eK}return e});var zNe=Object.prototype,HNe=zNe.hasOwnProperty;function jNe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&HNe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var AM=jc.Uint8Array;function hz(t){var e=new t.constructor(t.byteLength);return new AM(e).set(new AM(t)),e}function GNe(t,e){var n=e?hz(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var UNe=/\w*$/;function WNe(t){var e=new t.constructor(t.source,UNe.exec(t));return e.lastIndex=t.lastIndex,e}var nK=zu?zu.prototype:void 0,rK=nK?nK.valueOf:void 0;function qNe(t){return rK?Object(rK.call(t)):{}}function Xfe(t,e){var n=e?hz(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var KNe="[object Boolean]",YNe="[object Date]",XNe="[object Map]",ZNe="[object Number]",JNe="[object RegExp]",QNe="[object Set]",e3e="[object String]",t3e="[object Symbol]",n3e="[object ArrayBuffer]",r3e="[object DataView]",i3e="[object Float32Array]",o3e="[object Float64Array]",a3e="[object Int8Array]",s3e="[object Int16Array]",l3e="[object Int32Array]",u3e="[object Uint8Array]",c3e="[object Uint8ClampedArray]",f3e="[object Uint16Array]",d3e="[object Uint32Array]";function h3e(t,e,n){var r=t.constructor;switch(e){case n3e:return hz(t);case KNe:case YNe:return new r(+t);case r3e:return GNe(t,n);case i3e:case o3e:case a3e:case s3e:case l3e:case u3e:case c3e:case f3e:case d3e:return Xfe(t,n);case XNe:return new r;case ZNe:case e3e:return new r(t);case JNe:return WNe(t);case QNe:return new r;case t3e:return qNe(t)}}function Zfe(t){return typeof t.constructor=="function"&&!nI(t)?gRe(fz(t)):{}}var p3e="[object Map]";function v3e(t){return Ac(t)&&xu(t)==p3e}var iK=zb&&zb.isMap,g3e=iK?rI(iK):v3e,m3e="[object Set]";function y3e(t){return Ac(t)&&xu(t)==m3e}var oK=zb&&zb.isSet,b3e=oK?rI(oK):y3e,_3e=1,w3e=2,S3e=4,Jfe="[object Arguments]",x3e="[object Array]",C3e="[object Boolean]",E3e="[object Date]",T3e="[object Error]",Qfe="[object Function]",A3e="[object GeneratorFunction]",k3e="[object Map]",M3e="[object Number]",ede="[object Object]",P3e="[object RegExp]",O3e="[object Set]",I3e="[object String]",R3e="[object Symbol]",L3e="[object WeakMap]",D3e="[object ArrayBuffer]",N3e="[object DataView]",B3e="[object Float32Array]",$3e="[object Float64Array]",F3e="[object Int8Array]",V3e="[object Int16Array]",z3e="[object Int32Array]",H3e="[object Uint8Array]",j3e="[object Uint8ClampedArray]",G3e="[object Uint16Array]",U3e="[object Uint32Array]",io={};io[Jfe]=io[x3e]=io[D3e]=io[N3e]=io[C3e]=io[E3e]=io[B3e]=io[$3e]=io[F3e]=io[V3e]=io[z3e]=io[k3e]=io[M3e]=io[ede]=io[P3e]=io[O3e]=io[I3e]=io[R3e]=io[H3e]=io[j3e]=io[G3e]=io[U3e]=!0;io[T3e]=io[Qfe]=io[L3e]=!1;function pb(t,e,n,r,i,o){var a,s=e&_3e,l=e&w3e,u=e&S3e;if(n&&(a=i?n(t,r,i,o):n(t)),a!==void 0)return a;if(!$o(t))return t;var c=za(t);if(c){if(a=jNe(t),!s)return afe(t,a)}else{var f=xu(t),d=f==Qfe||f==A3e;if(Vb(t))return Ufe(t,s);if(f==ede||f==Jfe||d&&!i){if(a=l||d?{}:Zfe(t),!s)return l?LNe(t,ANe(a,t)):INe(t,TNe(a,t))}else{if(!io[f])return i?t:{};a=h3e(t,f,s)}}o||(o=new _c);var h=o.get(t);if(h)return h;o.set(t,a),b3e(t)?t.forEach(function(g){a.add(pb(g,e,n,g,t,o))}):g3e(t)&&t.forEach(function(g,m){a.set(m,pb(g,e,n,m,t,o))});var p=u?l?Yfe:tF:l?r_:i2,v=c?void 0:p(t);return CRe(v||t,function(g,m){v&&(m=g,g=t[m]),sz(a,m,pb(g,e,n,m,t,o))}),a}var W3e=4;function Px(t){return pb(t,W3e)}var q3e=1,K3e=4;function Hi(t){return pb(t,q3e|K3e)}var Y3e="__lodash_hash_undefined__";function X3e(t){return this.__data__.set(t,Y3e),this}function Z3e(t){return this.__data__.has(t)}function Hb(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new kh;++e<n;)this.add(t[e])}Hb.prototype.add=Hb.prototype.push=X3e;Hb.prototype.has=Z3e;function J3e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function pz(t,e){return t.has(e)}var Q3e=1,e4e=2;function tde(t,e,n,r,i,o){var a=n&Q3e,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,h=n&e4e?new Hb:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var p=t[f],v=e[f];if(r)var g=a?r(v,p,f,e,t,o):r(p,v,f,t,e,o);if(g!==void 0){if(g)continue;d=!1;break}if(h){if(!J3e(e,function(m,y){if(!pz(h,y)&&(p===m||i(p,m,n,r,o)))return h.push(y)})){d=!1;break}}else if(!(p===v||i(p,v,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}function t4e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function vz(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var n4e=1,r4e=2,i4e="[object Boolean]",o4e="[object Date]",a4e="[object Error]",s4e="[object Map]",l4e="[object Number]",u4e="[object RegExp]",c4e="[object Set]",f4e="[object String]",d4e="[object Symbol]",h4e="[object ArrayBuffer]",p4e="[object DataView]",aK=zu?zu.prototype:void 0,TD=aK?aK.valueOf:void 0;function v4e(t,e,n,r,i,o,a){switch(n){case p4e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case h4e:return!(t.byteLength!=e.byteLength||!o(new AM(t),new AM(e)));case i4e:case o4e:case l4e:return e_(+t,+e);case a4e:return t.name==e.name&&t.message==e.message;case u4e:case f4e:return t==e+"";case s4e:var s=t4e;case c4e:var l=r&n4e;if(s||(s=vz),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=r4e,a.set(t,e);var c=tde(s(t),s(e),r,i,o,a);return a.delete(t),c;case d4e:if(TD)return TD.call(t)==TD.call(e)}return!1}var g4e=1,m4e=Object.prototype,y4e=m4e.hasOwnProperty;function b4e(t,e,n,r,i,o){var a=n&g4e,s=tF(t),l=s.length,u=tF(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:y4e.call(e,d)))return!1}var h=o.get(t),p=o.get(e);if(h&&p)return h==e&&p==t;var v=!0;o.set(t,e),o.set(e,t);for(var g=a;++f<l;){d=s[f];var m=t[d],y=e[d];if(r)var b=a?r(y,m,d,e,t,o):r(m,y,d,t,e,o);if(!(b===void 0?m===y||i(m,y,n,r,o):b)){v=!1;break}g||(g=d=="constructor")}if(v&&!g){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(v=!1)}return o.delete(t),o.delete(e),v}var _4e=1,sK="[object Arguments]",lK="[object Array]",XE="[object Object]",w4e=Object.prototype,uK=w4e.hasOwnProperty;function S4e(t,e,n,r,i,o){var a=za(t),s=za(e),l=a?lK:xu(t),u=s?lK:xu(e);l=l==sK?XE:l,u=u==sK?XE:u;var c=l==XE,f=u==XE,d=l==u;if(d&&Vb(t)){if(!Vb(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new _c),a||iI(t)?tde(t,e,n,r,i,o):v4e(t,e,l,n,r,i,o);if(!(n&_4e)){var h=c&&uK.call(t,"__wrapped__"),p=f&&uK.call(e,"__wrapped__");if(h||p){var v=h?t.value():t,g=p?e.value():e;return o||(o=new _c),i(v,g,n,r,o)}}return d?(o||(o=new _c),b4e(t,e,n,r,i,o)):!1}function uI(t,e,n,r,i){return t===e?!0:t==null||e==null||!Ac(t)&&!Ac(e)?t!==t&&e!==e:S4e(t,e,n,r,uI,i)}var x4e=1,C4e=2;function E4e(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var s=a[0],l=t[s],u=a[1];if(a[2]){if(l===void 0&&!(s in t))return!1}else{var c=new _c,f;if(!(f===void 0?uI(u,l,x4e|C4e,r,c):f))return!1}}return!0}function nde(t){return t===t&&!$o(t)}function T4e(t){for(var e=i2(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,nde(i)]}return e}function rde(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function A4e(t){var e=T4e(t);return e.length==1&&e[0][2]?rde(e[0][0],e[0][1]):function(n){return n===t||E4e(n,t,e)}}function k4e(t,e){return t!=null&&e in Object(t)}function ide(t,e,n){e=i_(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=o_(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&lz(i)&&eI(a,i)&&(za(t)||Fb(t)))}function ode(t,e){return t!=null&&ide(t,e,k4e)}var M4e=1,P4e=2;function O4e(t,e){return uz(t)&&nde(e)?rde(o_(t),e):function(n){var r=bo(n,t);return r===void 0&&r===e?ode(n,t):uI(e,r,M4e|P4e)}}function I4e(t){return function(e){return e?.[t]}}function R4e(t){return function(e){return a2(e,t)}}function L4e(t){return uz(t)?I4e(o_(t)):R4e(t)}function s2(t){return typeof t=="function"?t:t==null?Q1:typeof t=="object"?za(t)?O4e(t[0],t[1]):A4e(t):L4e(t)}function D4e(t,e,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function N4e(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[++i];if(n(o[l],l,o)===!1)break}return e}}var ade=N4e();function B4e(t,e){return t&&ade(t,e,i2)}function $4e(t,e){return function(n,r){if(n==null)return n;if(!py(n))return t(n,r);for(var i=n.length,o=-1,a=Object(n);++o<i&&r(a[o],o,a)!==!1;);return n}}var sde=$4e(B4e);function F4e(t,e,n,r){return sde(t,function(i,o,a){e(r,i,n(i),a)}),r}function V4e(t,e){return function(n,r){var i=za(n)?D4e:F4e,o=e?e():{};return i(n,t,s2(r),o)}}var AD=function(){return jc.Date.now()},z4e="Expected a function",H4e=Math.max,j4e=Math.min;function rl(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(z4e);e=NS(e)||0,$o(n)&&(c=!!n.leading,f="maxWait"in n,o=f?H4e(NS(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function h(x){var C=r,E=i;return r=i=void 0,u=x,a=t.apply(E,C),a}function p(x){return u=x,s=setTimeout(m,e),c?h(x):a}function v(x){var C=x-l,E=x-u,T=e-C;return f?j4e(T,o-E):T}function g(x){var C=x-l,E=x-u;return l===void 0||C>=e||C<0||f&&E>=o}function m(){var x=AD();if(g(x))return y(x);s=setTimeout(m,v(x))}function y(x){return s=void 0,d&&r?h(x):(r=i=void 0,a)}function b(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function w(){return s===void 0?a:y(AD())}function S(){var x=AD(),C=g(x);if(r=arguments,i=this,l=x,C){if(s===void 0)return p(l);if(f)return clearTimeout(s),s=setTimeout(m,e),h(l)}return s===void 0&&(s=setTimeout(m,e)),a}return S.cancel=b,S.flush=w,S}var lde=Object.prototype,G4e=lde.hasOwnProperty,U4e=n_(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&EM(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=r_(o),s=-1,l=a.length;++s<l;){var u=a[s],c=t[u];(c===void 0||e_(c,lde[u])&&!G4e.call(t,u))&&(t[u]=o[u])}return t});function iF(t,e,n){(n!==void 0&&!e_(t[e],n)||n===void 0&&!(e in t))&&tI(t,e,n)}function kM(t){return Ac(t)&&py(t)}function oF(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function W4e(t){return t_(t,r_(t))}function q4e(t,e,n,r,i,o,a){var s=oF(t,n),l=oF(e,n),u=a.get(l);if(u){iF(t,n,u);return}var c=o?o(s,l,n+"",t,e,a):void 0,f=c===void 0;if(f){var d=za(l),h=!d&&Vb(l),p=!d&&!h&&iI(l);c=l,d||h||p?za(s)?c=s:kM(s)?c=afe(s):h?(f=!1,c=Ufe(l,!0)):p?(f=!1,c=Xfe(l,!0)):c=[]:Gc(l)||Fb(l)?(c=s,Fb(s)?c=W4e(s):(!$o(s)||az(s))&&(c=Zfe(l))):f=!1}f&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),iF(t,n,c)}function cI(t,e,n,r,i){t!==e&&ade(e,function(o,a){if(i||(i=new _c),$o(o))q4e(t,e,a,n,cI,r,i);else{var s=r?r(oF(t,a),o,a+"",t,e,i):void 0;s===void 0&&(s=o),iF(t,a,s)}},r_)}function ude(t,e,n,r,i,o){return $o(t)&&$o(e)&&(o.set(e,t),cI(t,e,void 0,ude,o),o.delete(e)),t}var K4e=ffe(function(t,e,n,r){cI(t,e,n,r)}),cde=n_(function(t){return t.push(void 0,ude),ofe(K4e,void 0,t)}),Y4e=200;function X4e(t,e,n,r){var i=-1,o=ufe,a=!0,s=t.length,l=[],u=e.length;if(!s)return l;e.length>=Y4e&&(o=pz,a=!1,e=new Hb(e));e:for(;++i<s;){var c=t[i],f=c;if(c=c!==0?c:0,a&&f===f){for(var d=u;d--;)if(e[d]===f)continue e;l.push(c)}else o(e,f,r)||l.push(c)}return l}var Z4e=n_(function(t,e){return kM(t)?X4e(t,vy(e,1,kM,!0)):[]});function J4e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function fde(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=r-1;return lfe(t,s2(e),i,!0)}function dde(t,e){var n=-1,r=py(t)?Array(t.length):[];return sde(t,function(i,o,a){r[++n]=e(i,o,a)}),r}function Q4e(t,e){var n=za(t)?db:dde;return n(t,s2(e))}function hde(t,e){return vy(Q4e(t,e),1)}var eBe=1/0;function tBe(t){var e=t==null?0:t.length;return e?vy(t,eBe):[]}function Ox(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}var nBe=Object.prototype,rBe=nBe.hasOwnProperty,cK=V4e(function(t,e,n){rBe.call(t,n)?t[n].push(e):tI(t,n,[e])});function iBe(t,e){return t>e}var oBe=Object.prototype,aBe=oBe.hasOwnProperty;function sBe(t,e){return t!=null&&aBe.call(t,e)}function ZE(t,e){return t!=null&&ide(t,e,sBe)}function lBe(t,e){return e.length<2?t:a2(t,wfe(e,0,-1))}var uBe="[object Map]",cBe="[object Set]",fBe=Object.prototype,dBe=fBe.hasOwnProperty;function pde(t){if(t==null)return!0;if(py(t)&&(za(t)||typeof t=="string"||typeof t.splice=="function"||Vb(t)||iI(t)||Fb(t)))return!t.length;var e=xu(t);if(e==uBe||e==cBe)return!t.size;if(nI(t))return!mfe(t).length;for(var n in t)if(dBe.call(t,n))return!1;return!0}function Ei(t,e){return uI(t,e)}var hBe="[object Number]";function aF(t){return typeof t=="number"||Ac(t)&&Pv(t)==hBe}function So(t){return t==null}function l2(t){return t===null}function pBe(t){return t===void 0}var vBe=Mfe("toLowerCase");function gBe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!qf(a):n(a,s)))var s=a,l=o}return l}function mBe(t){return t&&t.length?gBe(t,Q1,iBe):void 0}var Bo=ffe(function(t,e,n){cI(t,e,n)});function yBe(t,e){return e=i_(e,t),t=lBe(t,e),t==null||delete t[o_(J4e(e))]}function bBe(t){return Gc(t)?void 0:t}var _Be=1,wBe=2,SBe=4,vde=bfe(function(t,e){var n={};if(t==null)return n;var r=!1;e=db(e,function(o){return o=i_(o,t),r||(r=o.length>1),o}),t_(t,Yfe(t),n),r&&(n=pb(n,_Be|wBe|SBe,bBe));for(var i=e.length;i--;)yBe(n,e[i]);return n});function gde(t,e,n,r){if(!$o(t))return t;e=i_(e,t);for(var i=-1,o=e.length,a=o-1,s=t;s!=null&&++i<o;){var l=o_(e[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var c=s[l];u=void 0,u===void 0&&(u=$o(c)?c:eI(e[i+1])?[]:{})}sz(s,l,u),s=s[l]}return t}function xBe(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=a2(t,a);n(s,a)&&gde(o,i_(a,t),s)}return o}function CBe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function EBe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=qf(t),a=e!==void 0,s=e===null,l=e===e,u=qf(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function TBe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=EBe(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}function ABe(t,e,n){e.length?e=db(e,function(o){return za(o)?function(a){return a2(a,o.length===1?o[0]:o)}:o}):e=[Q1];var r=-1;e=db(e,rI(s2));var i=dde(t,function(o,a,s){var l=db(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return CBe(i,function(o,a){return TBe(o,a,n)})}function kBe(t,e){return xBe(t,e,function(n,r){return ode(t,r)})}var Zs=bfe(function(t,e){return t==null?{}:kBe(t,e)});function MBe(t,e,n){return t==null?t:gde(t,e,n)}var gz=n_(function(t,e){if(t==null)return[];var n=e.length;return n>1&&EM(t,e[0],e[1])?e=[]:n>2&&EM(e[0],e[1],e[2])&&(e=[e[0]]),ABe(t,vy(e,1),[])}),PBe=4294967295,OBe=PBe-1,IBe=Math.floor,RBe=Math.min;function mde(t,e,n,r){var i=0,o=t==null?0:t.length;if(o===0)return 0;e=n(e);for(var a=e!==e,s=e===null,l=qf(e),u=e===void 0;i<o;){var c=IBe((i+o)/2),f=n(t[c]),d=f!==void 0,h=f===null,p=f===f,v=qf(f);if(a)var g=p;else u?g=p&&d:s?g=p&&d&&!h:l?g=p&&d&&!h&&!v:h||v?g=!1:g=f<e;g?i=c+1:o=c}return RBe(o,OBe)}var LBe=4294967295,DBe=LBe>>>1;function NBe(t,e,n){var r=0,i=t==null?r:t.length;if(typeof e=="number"&&e===e&&i<=DBe){for(;r<i;){var o=r+i>>>1,a=t[o];a!==null&&!qf(a)&&a<e?r=o+1:i=o}return i}return mde(t,e,Q1)}function BBe(t,e){return NBe(t,e)}function $Be(t,e,n){return mde(t,e,s2(n))}var FBe=jfe(function(t,e,n){return t+(n?" ":"")+TM(e)}),VBe="Expected a function";function jp(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(VBe);return $o(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),rl(t,e,{leading:r,maxWait:e,trailing:i})}var zBe=1/0,HBe=hb&&1/vz(new hb([,-0]))[1]==zBe?function(t){return new hb(t)}:mRe,jBe=200;function yde(t,e,n){var r=-1,i=ufe,o=t.length,a=!0,s=[],l=s;if(o>=jBe){var u=HBe(t);if(u)return vz(u);a=!1,i=pz,l=new Hb}else l=s;e:for(;++r<o;){var c=t[r],f=c;if(c=c!==0?c:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var $S=n_(function(t){return yde(vy(t,1,kM,!0))});function bde(t){return t&&t.length?yde(t):[]}const gr=t=>t===void 0,ei=t=>typeof t=="boolean",Zt=t=>typeof t=="number",Fl=t=>!t&&t!==0||tt(t)&&t.length===0||Nn(t)&&!Object.keys(t).length,Xl=t=>typeof Element>"u"?!1:t instanceof Element,Cl=t=>So(t),GBe=t=>Ht(t)?!Number.isNaN(Number(t)):!1,u2=t=>t===window;var UBe=Object.defineProperty,WBe=Object.defineProperties,qBe=Object.getOwnPropertyDescriptors,fK=Object.getOwnPropertySymbols,KBe=Object.prototype.hasOwnProperty,YBe=Object.prototype.propertyIsEnumerable,dK=(t,e,n)=>e in t?UBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,XBe=(t,e)=>{for(var n in e||(e={}))KBe.call(e,n)&&dK(t,n,e[n]);if(fK)for(var n of fK(e))YBe.call(e,n)&&dK(t,n,e[n]);return t},ZBe=(t,e)=>WBe(t,qBe(e));function MM(t,e){var n;const r=bi();return is(()=>{r.value=t()},ZBe(XBe({},e),{flush:(n=void 0)!=null?n:"sync"})),fy(r)}var hK;const Ar=typeof window<"u",JBe=t=>typeof t<"u",PM=t=>typeof t=="function",QBe=t=>typeof t=="string",e$e=(t,e,n)=>Math.min(n,Math.max(e,t)),Ud=()=>{},OM=Ar&&((hK=window?.navigator)==null?void 0:hK.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function kc(t){return typeof t=="function"?t():_(t)}function mz(t,e){function n(...r){return new Promise((i,o)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(o)})}return n}const _de=t=>t();function t$e(t,e={}){let n,r,i=Ud;const o=s=>{clearTimeout(s),i(),i=Ud};return s=>{const l=kc(t),u=kc(e.maxWait);return n&&o(n),l<=0||u!==void 0&&u<=0?(r&&(o(r),r=null),Promise.resolve(s())):new Promise((c,f)=>{i=e.rejectOnCancel?f:c,u&&!r&&(r=setTimeout(()=>{n&&o(n),r=null,c(s())},u)),n=setTimeout(()=>{r&&o(r),r=null,c(s())},l)})}}function n$e(t,e=!0,n=!0,r=!1){let i=0,o,a=!0,s=Ud,l;const u=()=>{o&&(clearTimeout(o),o=void 0,s(),s=Ud)};return f=>{const d=kc(t),h=Date.now()-i,p=()=>l=f();return u(),d<=0?(i=Date.now(),p()):(h>d&&(n||!a)?(i=Date.now(),p()):e&&(l=new Promise((v,g)=>{s=r?g:v,o=setTimeout(()=>{i=Date.now(),a=!0,v(p()),u()},Math.max(0,d-h))})),!n&&!o&&(o=setTimeout(()=>a=!0,d)),a=!1,l)}}function r$e(t=_de){const e=F(!0);function n(){e.value=!1}function r(){e.value=!0}const i=(...o)=>{e.value&&t(...o)};return{isActive:fy(e),pause:n,resume:r,eventFilter:i}}function i$e(t){return t}function o$e(t,e){let n,r,i;const o=F(!0),a=()=>{o.value=!0,i()};Le(t,a,{flush:"sync"});const s=PM(e)?e:e.get,l=PM(e)?void 0:e.set,u=KPe((c,f)=>(r=c,i=f,{get(){return o.value&&(n=s(),o.value=!1),r(),n},set(d){l?.(d)}}));return Object.isExtensible(u)&&(u.trigger=a),u}function gy(t){return Due()?(Nue(t),!0):!1}function a$e(t){if(!ai(t))return Bn(t);const e=new Proxy({},{get(n,r,i){return _(Reflect.get(t.value,r,i))},set(n,r,i){return ai(t.value[r])&&!ai(i)?t.value[r].value=i:t.value[r]=i,!0},deleteProperty(n,r){return Reflect.deleteProperty(t.value,r)},has(n,r){return Reflect.has(t.value,r)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return Bn(e)}function s$e(t){return a$e(z(t))}function l$e(t,e=200,n={}){return mz(t$e(e,n),t)}function u$e(t,e=200,n={}){const r=F(t.value),i=l$e(()=>{r.value=t.value},e,n);return Le(t,()=>i()),r}function wde(t,e=200,n=!1,r=!0,i=!1){return mz(n$e(e,n,r,i),t)}function c$e(t){return typeof t=="function"?z(t):F(t)}function fI(t,e=!0){Un()?Jt(t):e?t():Pt(t)}function Dm(t,e,n={}){const{immediate:r=!0}=n,i=F(!1);let o=null;function a(){o&&(clearTimeout(o),o=null)}function s(){i.value=!1,a()}function l(...u){a(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,t(...u)},kc(e))}return r&&(i.value=!0,Ar&&l()),gy(s),{isPending:fy(i),start:l,stop:s}}function Sde(t=!1,e={}){const{truthyValue:n=!0,falsyValue:r=!1}=e,i=ai(t),o=F(t);function a(s){if(arguments.length)return o.value=s,o.value;{const l=kc(n);return o.value=o.value===l?kc(r):l,o.value}}return i?a:[o,a]}var pK=Object.getOwnPropertySymbols,f$e=Object.prototype.hasOwnProperty,d$e=Object.prototype.propertyIsEnumerable,h$e=(t,e)=>{var n={};for(var r in t)f$e.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&pK)for(var r of pK(t))e.indexOf(r)<0&&d$e.call(t,r)&&(n[r]=t[r]);return n};function p$e(t,e,n={}){const r=n,{eventFilter:i=_de}=r,o=h$e(r,["eventFilter"]);return Le(t,mz(i,e),o)}var v$e=Object.defineProperty,g$e=Object.defineProperties,m$e=Object.getOwnPropertyDescriptors,IM=Object.getOwnPropertySymbols,xde=Object.prototype.hasOwnProperty,Cde=Object.prototype.propertyIsEnumerable,vK=(t,e,n)=>e in t?v$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y$e=(t,e)=>{for(var n in e||(e={}))xde.call(e,n)&&vK(t,n,e[n]);if(IM)for(var n of IM(e))Cde.call(e,n)&&vK(t,n,e[n]);return t},b$e=(t,e)=>g$e(t,m$e(e)),_$e=(t,e)=>{var n={};for(var r in t)xde.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&IM)for(var r of IM(t))e.indexOf(r)<0&&Cde.call(t,r)&&(n[r]=t[r]);return n};function w$e(t,e,n={}){const r=n,{eventFilter:i}=r,o=_$e(r,["eventFilter"]),{eventFilter:a,pause:s,resume:l,isActive:u}=r$e(i);return{stop:p$e(t,e,b$e(y$e({},o),{eventFilter:a})),pause:s,resume:l,isActive:u}}function Jo(t){var e;const n=kc(t);return(e=n?.$el)!=null?e:n}const il=Ar?window:void 0,S$e=Ar?window.document:void 0;function Lr(...t){let e,n,r,i;if(QBe(t[0])||Array.isArray(t[0])?([n,r,i]=t,e=il):[e,n,r,i]=t,!e)return Ud;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],a=()=>{o.forEach(c=>c()),o.length=0},s=(c,f,d,h)=>(c.addEventListener(f,d,h),()=>c.removeEventListener(f,d,h)),l=Le(()=>[Jo(e),kc(i)],([c,f])=>{a(),c&&o.push(...n.flatMap(d=>r.map(h=>s(c,d,h,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),a()};return gy(u),u}let gK=!1;function yz(t,e,n={}){const{window:r=il,ignore:i=[],capture:o=!0,detectIframe:a=!1}=n;if(!r)return;OM&&!gK&&(gK=!0,Array.from(r.document.body.children).forEach(d=>d.addEventListener("click",Ud)));let s=!0;const l=d=>i.some(h=>{if(typeof h=="string")return Array.from(r.document.querySelectorAll(h)).some(p=>p===d.target||d.composedPath().includes(p));{const p=Jo(h);return p&&(d.target===p||d.composedPath().includes(p))}}),c=[Lr(r,"click",d=>{const h=Jo(t);if(!(!h||h===d.target||d.composedPath().includes(h))){if(d.detail===0&&(s=!l(d)),!s){s=!0;return}e(d)}},{passive:!0,capture:o}),Lr(r,"pointerdown",d=>{const h=Jo(t);h&&(s=!d.composedPath().includes(h)&&!l(d))},{passive:!0}),a&&Lr(r,"blur",d=>{var h;const p=Jo(t);((h=r.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!p?.contains(r.document.activeElement)&&e(d)})].filter(Boolean);return()=>c.forEach(d=>d())}function x$e(t={}){var e;const{window:n=il}=t,r=(e=t.document)!=null?e:n?.document,i=o$e(()=>null,()=>r?.activeElement);return n&&(Lr(n,"blur",o=>{o.relatedTarget===null&&i.trigger()},!0),Lr(n,"focus",i.trigger,!0)),i}function dI(t,e=!1){const n=F(),r=()=>n.value=!!t();return r(),fI(r,e),n}function C$e(t,e={}){const{window:n=il}=e,r=dI(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const o=F(!1),a=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",s):i.removeListener(s))},s=()=>{r.value&&(a(),i=n.matchMedia(c$e(t).value),o.value=i.matches,"addEventListener"in i?i.addEventListener("change",s):i.addListener(s))};return is(s),gy(()=>a()),o}function E$e(t){return JSON.parse(JSON.stringify(t))}const sF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lF="__vueuse_ssr_handlers__";sF[lF]=sF[lF]||{};const T$e=sF[lF];function Ede(t,e){return T$e[t]||e}function A$e(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}var k$e=Object.defineProperty,mK=Object.getOwnPropertySymbols,M$e=Object.prototype.hasOwnProperty,P$e=Object.prototype.propertyIsEnumerable,yK=(t,e,n)=>e in t?k$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bK=(t,e)=>{for(var n in e||(e={}))M$e.call(e,n)&&yK(t,n,e[n]);if(mK)for(var n of mK(e))P$e.call(e,n)&&yK(t,n,e[n]);return t};const O$e={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},_K="vueuse-storage";function I$e(t,e,n,r={}){var i;const{flush:o="pre",deep:a=!0,listenToStorageChanges:s=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:c,window:f=il,eventFilter:d,onError:h=E=>{console.error(E)}}=r,p=(c?bi:F)(e);if(!n)try{n=Ede("getDefaultStorage",()=>{var E;return(E=il)==null?void 0:E.localStorage})()}catch(E){h(E)}if(!n)return p;const v=kc(e),g=A$e(v),m=(i=r.serializer)!=null?i:O$e[g],{pause:y,resume:b}=w$e(p,()=>w(p.value),{flush:o,deep:a,eventFilter:d});return f&&s&&(Lr(f,"storage",C),Lr(f,_K,x)),C(),p;function w(E){try{if(E==null)n.removeItem(t);else{const T=m.write(E),A=n.getItem(t);A!==T&&(n.setItem(t,T),f&&f.dispatchEvent(new CustomEvent(_K,{detail:{key:t,oldValue:A,newValue:T,storageArea:n}})))}}catch(T){h(T)}}function S(E){const T=E?E.newValue:n.getItem(t);if(T==null)return l&&v!==null&&n.setItem(t,m.write(v)),v;if(!E&&u){const A=m.read(T);return PM(u)?u(A,v):g==="object"&&!Array.isArray(A)?bK(bK({},v),A):A}else return typeof T!="string"?T:m.read(T)}function x(E){C(E.detail)}function C(E){if(!(E&&E.storageArea!==n)){if(E&&E.key==null){p.value=v;return}if(!(E&&E.key!==t)){y();try{p.value=S(E)}catch(T){h(T)}finally{E?Pt(b):b()}}}}}function Tde(t){return C$e("(prefers-color-scheme: dark)",t)}var R$e=Object.defineProperty,wK=Object.getOwnPropertySymbols,L$e=Object.prototype.hasOwnProperty,D$e=Object.prototype.propertyIsEnumerable,SK=(t,e,n)=>e in t?R$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N$e=(t,e)=>{for(var n in e||(e={}))L$e.call(e,n)&&SK(t,n,e[n]);if(wK)for(var n of wK(e))D$e.call(e,n)&&SK(t,n,e[n]);return t};function B$e(t={}){const{selector:e="html",attribute:n="class",initialValue:r="auto",window:i=il,storage:o,storageKey:a="vueuse-color-scheme",listenToStorageChanges:s=!0,storageRef:l,emitAuto:u}=t,c=N$e({auto:"",light:"light",dark:"dark"},t.modes||{}),f=Tde({window:i}),d=z(()=>f.value?"dark":"light"),h=l||(a==null?F(r):I$e(a,r,o,{window:i,listenToStorageChanges:s})),p=z({get(){return h.value==="auto"&&!u?d.value:h.value},set(y){h.value=y}}),v=Ede("updateHTMLAttrs",(y,b,w)=>{const S=i?.document.querySelector(y);if(S)if(b==="class"){const x=w.split(/\s/g);Object.values(c).flatMap(C=>(C||"").split(/\s/g)).filter(Boolean).forEach(C=>{x.includes(C)?S.classList.add(C):S.classList.remove(C)})}else S.setAttribute(b,w)});function g(y){var b;const w=y==="auto"?d.value:y;v(e,n,(b=c[w])!=null?b:w)}function m(y){t.onChanged?t.onChanged(y,g):g(y)}return Le(p,m,{flush:"post",immediate:!0}),u&&Le(d,()=>m(p.value),{flush:"post"}),fI(()=>m(p.value)),p}function $$e(t,e,{window:n=il,initialValue:r=""}={}){const i=F(r),o=z(()=>{var a;return Jo(e)||((a=n?.document)==null?void 0:a.documentElement)});return Le([o,()=>kc(t)],([a,s])=>{var l;if(a&&n){const u=(l=n.getComputedStyle(a).getPropertyValue(s))==null?void 0:l.trim();i.value=u||r}},{immediate:!0}),Le(i,a=>{var s;(s=o.value)!=null&&s.style&&o.value.style.setProperty(kc(t),a)}),i}var F$e=Object.defineProperty,V$e=Object.defineProperties,z$e=Object.getOwnPropertyDescriptors,xK=Object.getOwnPropertySymbols,H$e=Object.prototype.hasOwnProperty,j$e=Object.prototype.propertyIsEnumerable,CK=(t,e,n)=>e in t?F$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,G$e=(t,e)=>{for(var n in e||(e={}))H$e.call(e,n)&&CK(t,n,e[n]);if(xK)for(var n of xK(e))j$e.call(e,n)&&CK(t,n,e[n]);return t},U$e=(t,e)=>V$e(t,z$e(e));function ih(t={}){const{valueDark:e="dark",valueLight:n="",window:r=il}=t,i=B$e(U$e(G$e({},t),{onChanged:(s,l)=>{var u;t.onChanged?(u=t.onChanged)==null||u.call(t,s==="dark"):l(s)},modes:{dark:e,light:n}})),o=Tde({window:r});return z({get(){return i.value==="dark"},set(s){s===o.value?i.value="auto":i.value=s?"dark":"light"}})}function W$e({document:t=S$e}={}){if(!t)return F("visible");const e=F(t.visibilityState);return Lr(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var EK=Object.getOwnPropertySymbols,q$e=Object.prototype.hasOwnProperty,K$e=Object.prototype.propertyIsEnumerable,Y$e=(t,e)=>{var n={};for(var r in t)q$e.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&EK)for(var r of EK(t))e.indexOf(r)<0&&K$e.call(t,r)&&(n[r]=t[r]);return n};function Di(t,e,n={}){const r=n,{window:i=il}=r,o=Y$e(r,["window"]);let a;const s=dI(()=>i&&"ResizeObserver"in i),l=()=>{a&&(a.disconnect(),a=void 0)},u=Le(()=>Jo(t),f=>{l(),s.value&&i&&f&&(a=new ResizeObserver(e),a.observe(f,o))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return gy(c),{isSupported:s,stop:c}}function TK(t,e={}){const{reset:n=!0,windowResize:r=!0,windowScroll:i=!0,immediate:o=!0}=e,a=F(0),s=F(0),l=F(0),u=F(0),c=F(0),f=F(0),d=F(0),h=F(0);function p(){const v=Jo(t);if(!v){n&&(a.value=0,s.value=0,l.value=0,u.value=0,c.value=0,f.value=0,d.value=0,h.value=0);return}const g=v.getBoundingClientRect();a.value=g.height,s.value=g.bottom,l.value=g.left,u.value=g.right,c.value=g.top,f.value=g.width,d.value=g.x,h.value=g.y}return Di(t,p),Le(()=>Jo(t),v=>!v&&p()),i&&Lr("scroll",p,{capture:!0,passive:!0}),r&&Lr("resize",p,{passive:!0}),fI(()=>{o&&p()}),{height:a,bottom:s,left:l,right:u,top:c,width:f,x:d,y:h,update:p}}function X$e(t,e={width:0,height:0},n={}){const{window:r=il,box:i="content-box"}=n,o=z(()=>{var l,u;return(u=(l=Jo(t))==null?void 0:l.namespaceURI)==null?void 0:u.includes("svg")}),a=F(e.width),s=F(e.height);return Di(t,([l])=>{const u=i==="border-box"?l.borderBoxSize:i==="content-box"?l.contentBoxSize:l.devicePixelContentBoxSize;if(r&&o.value){const c=Jo(t);if(c){const f=r.getComputedStyle(c);a.value=parseFloat(f.width),s.value=parseFloat(f.height)}}else if(u){const c=Array.isArray(u)?u:[u];a.value=c.reduce((f,{inlineSize:d})=>f+d,0),s.value=c.reduce((f,{blockSize:d})=>f+d,0)}else a.value=l.contentRect.width,s.value=l.contentRect.height},n),Le(()=>Jo(t),l=>{a.value=l?e.width:0,s.value=l?e.height:0}),{width:a,height:s}}function Z$e(t,e,n={}){const{root:r,rootMargin:i="0px",threshold:o=.1,window:a=il}=n,s=dI(()=>a&&"IntersectionObserver"in a);let l=Ud;const u=s.value?Le(()=>({el:Jo(t),root:Jo(r)}),({el:f,root:d})=>{if(l(),!f)return;const h=new IntersectionObserver(e,{root:d,rootMargin:i,threshold:o});h.observe(f),l=()=>{h.disconnect(),l=Ud}},{immediate:!0,flush:"post"}):Ud,c=()=>{l(),u()};return gy(c),{isSupported:s,stop:c}}var AK=Object.getOwnPropertySymbols,J$e=Object.prototype.hasOwnProperty,Q$e=Object.prototype.propertyIsEnumerable,eFe=(t,e)=>{var n={};for(var r in t)J$e.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&AK)for(var r of AK(t))e.indexOf(r)<0&&Q$e.call(t,r)&&(n[r]=t[r]);return n};function Ade(t,e,n={}){const r=n,{window:i=il}=r,o=eFe(r,["window"]);let a;const s=dI(()=>i&&"MutationObserver"in i),l=()=>{a&&(a.disconnect(),a=void 0)},u=Le(()=>Jo(t),f=>{l(),s.value&&i&&f&&(a=new MutationObserver(e),a.observe(f,o))},{immediate:!0}),c=()=>{l(),u()};return gy(c),{isSupported:s,stop:c}}var kK;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(kK||(kK={}));var tFe=Object.defineProperty,MK=Object.getOwnPropertySymbols,nFe=Object.prototype.hasOwnProperty,rFe=Object.prototype.propertyIsEnumerable,PK=(t,e,n)=>e in t?tFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iFe=(t,e)=>{for(var n in e||(e={}))nFe.call(e,n)&&PK(t,n,e[n]);if(MK)for(var n of MK(e))rFe.call(e,n)&&PK(t,n,e[n]);return t};const oFe={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};iFe({linear:i$e},oFe);function kde(t,e,n,r={}){var i,o,a;const{clone:s=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:f}=r,d=Un(),h=n||d?.emit||((i=d?.$emit)==null?void 0:i.bind(d))||((a=(o=d?.proxy)==null?void 0:o.$emit)==null?void 0:a.bind(d?.proxy));let p=u;e||(e="modelValue"),p=u||p||`update:${e.toString()}`;const v=m=>s?PM(s)?s(m):E$e(m):m,g=()=>JBe(t[e])?v(t[e]):f;if(l){const m=g(),y=F(m);return Le(()=>t[e],b=>y.value=v(b)),Le(y,b=>{(b!==t[e]||c)&&h(p,b)},{deep:c}),y}else return z({get(){return g()},set(m){h(p,m)}})}function aFe({window:t=il}={}){if(!t)return F(!1);const e=F(t.document.hasFocus());return Lr(t,"blur",()=>{e.value=!1}),Lr(t,"focus",()=>{e.value=!0}),e}function Mde(t={}){const{window:e=il,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:i=!0,includeScrollbar:o=!0}=t,a=F(n),s=F(r),l=()=>{e&&(o?(a.value=e.innerWidth,s.value=e.innerHeight):(a.value=e.document.documentElement.clientWidth,s.value=e.document.documentElement.clientHeight))};return l(),fI(l),Lr("resize",l,{passive:!0}),i&&Lr("orientationchange",l,{passive:!0}),{width:a,height:s}}const OK={current:0},IK=F(0),Pde=2e3,RK=Symbol("elZIndexContextKey"),Ode=Symbol("zIndexContextKey"),a_=t=>{const e=Un()?bt(RK,OK):OK,n=t||(Un()?bt(Ode,void 0):void 0),r=z(()=>{const a=_(n);return Zt(a)?a:Pde}),i=z(()=>r.value+IK.value),o=()=>(e.current++,IK.value=e.current,i.value);return!Ar&&bt(RK),{initialZIndex:r,currentZIndex:i,nextZIndex:o}};var sFe={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish",close:"Close this dialog"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const lFe=t=>(e,n)=>uFe(e,n,_(t)),uFe=(t,e,n)=>bo(n,t,t).replace(/\{(\w+)\}/g,(r,i)=>{var o;return`${(o=e?.[i])!=null?o:`{${i}}`}`}),cFe=t=>{const e=z(()=>_(t).name),n=ai(t)?t:F(t);return{lang:e,locale:n,t:lFe(t)}},Ide=Symbol("localeContextKey"),Cr=t=>{const e=t||bt(Ide,F());return cFe(z(()=>e.value||sFe))},Rde="__epPropKey",me=t=>t,fFe=t=>Nn(t)&&!!t[Rde],Uc=(t,e)=>{if(!Nn(t)||fFe(t))return t;const{values:n,required:r,default:i,type:o,validator:a}=t,l={type:o,required:!!r,validator:n||a?u=>{let c=!1,f=[];if(n&&(f=Array.from(n),Rr(t,"default")&&f.push(i),c||(c=f.includes(u))),a&&(c||(c=a(u))),!c&&f.length>0){const d=[...new Set(f)].map(h=>JSON.stringify(h)).join(", ");eIe(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${d}], got value ${JSON.stringify(u)}.`)}return c}:void 0,[Rde]:!0};return Rr(t,"default")&&(l.default=i),l},rt=t=>Ox(Object.entries(t).map(([e,n])=>[e,Uc(n,e)])),ad=["","default","small","large"],Ho=Uc({type:String,values:ad,required:!1}),Lde=Symbol("size"),Dde=()=>{const t=bt(Lde,{});return z(()=>_(t.size)||"")},Nde=Symbol("emptyValuesContextKey"),dFe=["",void 0,null],hFe=void 0,my=rt({emptyValues:Array,valueOnClear:{type:me([String,Number,Boolean,Function]),default:void 0,validator:t=>qt(t)?!t():!t}}),c2=(t,e)=>{const n=Un()?bt(Nde,F({})):F({}),r=z(()=>t.emptyValues||n.value.emptyValues||dFe),i=z(()=>qt(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:qt(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:e!==void 0?e:hFe),o=a=>r.value.includes(a);return r.value.includes(i.value),{emptyValues:r,valueOnClear:i,isEmptyValue:o}},jb=t=>Object.keys(t),Bde=t=>Object.entries(t),FS=(t,e,n)=>({get value(){return bo(t,e,n)},set value(r){MBe(t,e,r)}}),RM=F();function s_(t,e=void 0){const n=Un()?bt(efe,RM):RM;return t?z(()=>{var r,i;return(i=(r=n.value)==null?void 0:r[t])!=null?i:e}):n}function hI(t,e){const n=s_(),r=Ye(t,z(()=>{var s;return((s=n.value)==null?void 0:s.namespace)||DS})),i=Cr(z(()=>{var s;return(s=n.value)==null?void 0:s.locale})),o=a_(z(()=>{var s;return((s=n.value)==null?void 0:s.zIndex)||Pde})),a=z(()=>{var s;return _(e)||((s=n.value)==null?void 0:s.size)||""});return bz(z(()=>_(n)||{})),{ns:r,locale:i,zIndex:o,size:a}}const bz=(t,e,n=!1)=>{var r;const i=!!Un(),o=i?s_():void 0,a=(r=e?.provide)!=null?r:i?jn:void 0;if(!a)return;const s=z(()=>{const l=_(t);return o?.value?pFe(o.value,l):l});return a(efe,s),a(Ide,z(()=>s.value.locale)),a(tfe,z(()=>s.value.namespace)),a(Ode,z(()=>s.value.zIndex)),a(Lde,{size:z(()=>s.value.size||"")}),a(Nde,z(()=>({emptyValues:s.value.emptyValues,valueOnClear:s.value.valueOnClear}))),(n||!RM.value)&&(RM.value=s.value),s},pFe=(t,e)=>{const n=[...new Set([...jb(t),...jb(e)])],r={};for(const i of n)r[i]=e[i]!==void 0?e[i]:t[i];return r},vFe=(t=[])=>({version:LIe,install:(n,r)=>{n[Pq]||(n[Pq]=!0,t.forEach(i=>n.use(i)),r&&bz(r,n,!0))}}),_n="update:modelValue",tr="change",Fo="input",gFe=rt({zIndex:{type:me([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),mFe={scroll:({scrollTop:t,fixed:e})=>Zt(t)&&ei(e),[tr]:t=>ei(t)};var lt=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};function yFe(t,e,n,r){const i=n-e;return t/=r/2,t<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}const ev=t=>Ar?window.requestAnimationFrame(t):setTimeout(t,16),Nm=t=>Ar?window.cancelAnimationFrame(t):clearTimeout(t),$de=(t="")=>t.split(" ").filter(e=>!!e.trim()),Mu=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},Pu=(t,e)=>{!t||!e.trim()||t.classList.add(...$de(e))},Is=(t,e)=>{!t||!e.trim()||t.classList.remove(...$de(e))},Dd=(t,e)=>{var n;if(!Ar||!t||!e)return"";let r=nl(e);r==="float"&&(r="cssFloat");try{const i=t.style[r];if(i)return i;const o=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return o?o[r]:""}catch{return t.style[r]}},Fde=(t,e,n)=>{if(!(!t||!e))if(Nn(e))Bde(e).forEach(([r,i])=>Fde(t,r,i));else{const r=nl(e);t.style[r]=n}};function Qi(t,e="px"){if(!t)return"";if(Zt(t)||GBe(t))return`${t}${e}`;if(Ht(t))return t}const bFe=(t,e)=>{if(!Ar)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=Dd(t,n);return["scroll","auto","overlay"].some(i=>r.includes(i))},_z=(t,e)=>{if(!Ar)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(bFe(n,e))return n;n=n.parentNode}return n};let JE;const Vde=t=>{var e;if(!Ar)return 0;if(JE!==void 0)return JE;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",n.appendChild(i);const o=i.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),JE=r-o,JE};function wz(t,e){if(!Ar)return;if(!e){t.scrollTop=0;return}const n=[];let r=e.offsetParent;for(;r!==null&&t!==r&&t.contains(r);)n.push(r),r=r.offsetParent;const i=e.offsetTop+n.reduce((l,u)=>l+u.offsetTop,0),o=i+e.offsetHeight,a=t.scrollTop,s=a+t.clientHeight;i<a?t.scrollTop=i:o>s&&(t.scrollTop=o-t.clientHeight)}function _Fe(t,e,n,r,i){const o=Date.now();let a;const s=()=>{const u=Date.now()-o,c=yFe(u>r?r:u,e,n,r);u2(t)?t.scrollTo(window.pageXOffset,c):t.scrollTop=c,u<r?a=ev(s):qt(i)&&i()};return s(),()=>{a&&Nm(a)}}const LK=(t,e)=>u2(e)?t.ownerDocument.documentElement:e,DK=t=>u2(t)?window.scrollY:t.scrollTop;class wFe extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function xo(t,e){throw new wFe(`[${t}] ${e}`)}const zde="ElAffix",SFe=ue({name:zde}),xFe=ue({...SFe,props:gFe,emits:mFe,setup(t,{expose:e,emit:n}){const r=t,i=Ye("affix"),o=bi(),a=bi(),s=bi(),{height:l}=Mde(),{height:u,width:c,top:f,bottom:d,update:h}=TK(a,{windowScroll:!1}),p=TK(o),v=F(!1),g=F(0),m=F(0),y=z(()=>({height:v.value?`${u.value}px`:"",width:v.value?`${c.value}px`:""})),b=z(()=>{if(!v.value)return{};const C=r.offset?Qi(r.offset):0;return{height:`${u.value}px`,width:`${c.value}px`,top:r.position==="top"?C:"",bottom:r.position==="bottom"?C:"",transform:m.value?`translateY(${m.value}px)`:"",zIndex:r.zIndex}}),w=()=>{if(!s.value)return;g.value=s.value instanceof Window?document.documentElement.scrollTop:s.value.scrollTop||0;const{position:C,target:E,offset:T}=r,A=T+u.value;if(C==="top")if(E){const k=p.bottom.value-A;v.value=T>f.value&&p.bottom.value>0,m.value=k<0?k:0}else v.value=T>f.value;else if(E){const k=l.value-p.top.value-A;v.value=l.value-T<d.value&&l.value>p.top.value,m.value=k<0?-k:0}else v.value=l.value-T<d.value},S=async()=>{if(!v.value){h();return}v.value=!1,await Pt(),h(),v.value=!0},x=async()=>{h(),await Pt(),n("scroll",{scrollTop:g.value,fixed:v.value})};return Le(v,C=>n(tr,C)),Jt(()=>{var C;r.target?(o.value=(C=document.querySelector(r.target))!=null?C:void 0,o.value||xo(zde,`Target does not exist: ${r.target}`)):o.value=document.documentElement,s.value=_z(a.value,!0),h()}),Lr(s,"scroll",x),is(w),e({update:w,updateRoot:S}),(C,E)=>(N(),Q("div",{ref_key:"root",ref:a,class:q(_(i).b()),style:Ot(_(y))},[K("div",{class:q({[_(i).m("fixed")]:v.value}),style:Ot(_(b))},[Ee(C.$slots,"default")],6)],6))}});var CFe=lt(xFe,[["__file","affix.vue"]]);const kn=(t,e)=>{if(t.install=n=>{for(const r of[t,...Object.values(e??{})])n.component(r.name,r)},e)for(const[n,r]of Object.entries(e))t[n]=r;return t},Hde=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),EFe=(t,e)=>(t.install=n=>{n.directive(e,t)},t),Wi=t=>(t.install=Yr,t),TFe=kn(CFe),AFe=rt({size:{type:me([Number,String])},color:{type:String}}),kFe=ue({name:"ElIcon",inheritAttrs:!1}),MFe=ue({...kFe,props:AFe,setup(t){const e=t,n=Ye("icon"),r=z(()=>{const{size:i,color:o}=e;return!i&&!o?{}:{fontSize:gr(i)?void 0:Qi(i),"--color":o}});return(i,o)=>(N(),Q("i",Fn({class:_(n).b(),style:_(r)},i.$attrs),[Ee(i.$slots,"default")],16))}});var PFe=lt(MFe,[["__file","icon.vue"]]);const zt=kn(PFe);function NK(){let t;const e=(r,i)=>{n(),t=window.setTimeout(r,i)},n=()=>window.clearTimeout(t);return gy(()=>n()),{registerTimeout:e,cancelTimeout:n}}const jde=rt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),Gde=({showAfter:t,hideAfter:e,autoClose:n,open:r,close:i})=>{const{registerTimeout:o}=NK(),{registerTimeout:a,cancelTimeout:s}=NK();return{onOpen:c=>{o(()=>{r(c);const f=_(n);Zt(f)&&f>0&&a(()=>{i(c)},f)},_(t))},onClose:c=>{s(),o(()=>{i(c)},_(e))}}};/*! Element Plus Icons Vue v2.3.2 */var OFe=ue({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.59 30.59 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.59 30.59 0 0 0-42.752 0z"})]))}}),sd=OFe,IFe=ue({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.59 30.59 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.59 30.59 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0"})]))}}),oh=IFe,RFe=ue({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M340.864 149.312a30.59 30.59 0 0 0 0 42.752L652.736 512 340.864 831.872a30.59 30.59 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Rs=RFe,LFe=ue({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),pI=LFe,DFe=ue({name:"Back",__name:"back",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),K("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),NFe=DFe,BFe=ue({name:"Calendar",__name:"calendar",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),ek=BFe,$Fe=ue({name:"CaretLeft",__name:"caret-left",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M672 192 288 511.936 672 832z"})]))}}),FFe=$Fe,VFe=ue({name:"CaretRight",__name:"caret-right",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),Sz=VFe,zFe=ue({name:"CaretTop",__name:"caret-top",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),HFe=zFe,jFe=ue({name:"Check",__name:"check",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),f2=jFe,GFe=ue({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),UFe=GFe,WFe=ue({name:"CircleCheck",__name:"circle-check",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),K("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752z"})]))}}),xz=WFe,qFe=ue({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),Cz=qFe,KFe=ue({name:"CircleClose",__name:"circle-close",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),K("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Mh=KFe,YFe=ue({name:"Clock",__name:"clock",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),K("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),K("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),Ude=YFe,XFe=ue({name:"CloseBold",__name:"close-bold",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496"})]))}}),Wde=XFe,ZFe=ue({name:"Close",__name:"close",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Hu=ZFe,JFe=ue({name:"CopyDocument",__name:"copy-document",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64z"}),K("path",{fill:"currentColor",d:"M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64"})]))}}),Ez=JFe,QFe=ue({name:"Crop",__name:"crop",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M256 768h672a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V96a32 32 0 0 1 64 0z"}),K("path",{fill:"currentColor",d:"M832 224v704a32 32 0 1 1-64 0V256H96a32 32 0 0 1 0-64h704a32 32 0 0 1 32 32"})]))}}),eVe=QFe,tVe=ue({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672zm256 0a29.12 29.12 0 0 1 41.728 0 30.59 30.59 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.59 30.59 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672z"})]))}}),tv=tVe,nVe=ue({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L764.736 512 452.864 192a30.59 30.59 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.59 30.59 0 0 1 0-42.752L508.736 512 196.864 192a30.59 30.59 0 0 1 0-42.688"})]))}}),ah=nVe,rVe=ue({name:"DataAnalysis",__name:"data-analysis",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m665.216 768 110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32zM832 192H192v512h640zM352 448a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v128a32 32 0 0 1-64 0V416a32 32 0 0 1 32-32m160-64a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V352a32 32 0 0 1 32-32"})]))}}),iVe=rVe,oVe=ue({name:"DeleteFilled",__name:"delete-filled",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M352 192V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64H96a32 32 0 0 1 0-64zm64 0h192v-64H416zM192 960a32 32 0 0 1-32-32V256h704v672a32 32 0 0 1-32 32zm224-192a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32m192 0a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32"})]))}}),aVe=oVe,sVe=ue({name:"Delete",__name:"delete",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),ju=sVe,lVe=ue({name:"Document",__name:"document",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),uVe=lVe,cVe=ue({name:"Download",__name:"download",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64m384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64z"})]))}}),vI=cVe,fVe=ue({name:"EditPen",__name:"edit-pen",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696zM455.04 229.248l193.92 112 56.704-98.112-193.984-112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336zm384 254.272v-64h448v64z"})]))}}),dVe=fVe,hVe=ue({name:"Edit",__name:"edit",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640z"}),K("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"})]))}}),Gu=hVe,pVe=ue({name:"ElementPlus",__name:"element-plus",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M839.7 734.7c0 33.3-17.9 41-17.9 41S519.7 949.8 499.2 960c-10.2 5.1-20.5 5.1-30.7 0 0 0-314.9-184.3-325.1-192-5.1-5.1-10.2-12.8-12.8-20.5V368.6c0-17.9 20.5-28.2 20.5-28.2L466 158.6q19.2-7.65 38.4 0s279 161.3 309.8 179.2c17.9 7.7 28.2 25.6 25.6 46.1-.1-5-.1 317.5-.1 350.8M714.2 371.2c-64-35.8-217.6-125.4-217.6-125.4-7.7-5.1-20.5-5.1-30.7 0L217.6 389.1s-17.9 10.2-17.9 23v297c0 5.1 5.1 12.8 7.7 17.9 7.7 5.1 256 148.5 256 148.5 7.7 5.1 17.9 5.1 25.6 0 15.4-7.7 250.9-145.9 250.9-145.9s12.8-5.1 12.8-30.7v-74.2l-276.5 169v-64c0-17.9 7.7-30.7 20.5-46.1L745 535c5.1-7.7 10.2-20.5 10.2-30.7v-66.6l-279 169v-69.1c0-15.4 5.1-30.7 17.9-38.4zM919 135.7c0-5.1-5.1-7.7-7.7-7.7h-58.9V66.6c0-5.1-5.1-5.1-10.2-5.1l-30.7 5.1c-5.1 0-5.1 2.6-5.1 5.1V128h-56.3c-5.1 0-5.1 5.1-7.7 5.1v38.4h69.1v64c0 5.1 5.1 5.1 10.2 5.1l30.7-5.1c5.1 0 5.1-2.6 5.1-5.1v-56.3h64z"})]))}}),vVe=pVe,gVe=ue({name:"Expand",__name:"expand",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M128 192h768v128H128zm0 256h512v128H128zm0 256h768v128H128zm576-352 192 160-192 128z"})]))}}),Tz=gVe,mVe=ue({name:"Files",__name:"files",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M128 384v448h768V384zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32m64-128h704v64H160zm96-128h512v64H256z"})]))}}),qde=mVe,yVe=ue({name:"Fold",__name:"fold",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M896 192H128v128h768zm0 256H384v128h512zm0 256H128v128h768zM320 384 128 512l192 128z"})]))}}),Az=yVe,bVe=ue({name:"Folder",__name:"folder",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32"})]))}}),kz=bVe,_Ve=ue({name:"FullScreen",__name:"full-screen",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),wVe=_Ve,SVe=ue({name:"Hide",__name:"hide",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4s-12.8-9.6-22.4-9.6-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176S0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4 12.8 9.6 22.4 9.6 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4m-646.4 528Q115.2 579.2 76.8 512q43.2-72 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4m140.8-96Q352 555.2 352 512c0-44.8 16-83.2 48-112s67.2-48 112-48c28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6q-43.2 72-153.6 172.8c-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176S1024 528 1024 512s-48.001-73.6-134.401-176"}),K("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112s-67.2 48-112 48"})]))}}),xVe=SVe,CVe=ue({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.99 12.99 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),sh=CVe,EVe=ue({name:"Iphone",__name:"iphone",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M224 768v96.064a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V768zm0-64h576V160a64 64 0 0 0-64-64H288a64 64 0 0 0-64 64zm32 288a96 96 0 0 1-96-96V128a96 96 0 0 1 96-96h512a96 96 0 0 1 96 96v768a96 96 0 0 1-96 96zm304-144a48 48 0 1 1-96 0 48 48 0 0 1 96 0"})]))}}),TVe=EVe,AVe=ue({name:"Key",__name:"key",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M448 456.064V96a32 32 0 0 1 32-32.064L672 64a32 32 0 0 1 0 64H512v128h160a32 32 0 0 1 0 64H512v128a256 256 0 1 1-64 8.064M512 896a192 192 0 1 0 0-384 192 192 0 0 0 0 384"})]))}}),kVe=AVe,MVe=ue({name:"Loading",__name:"loading",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0"})]))}}),Kf=MVe,PVe=ue({name:"Location",__name:"location",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416M512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544"}),K("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192m0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320"})]))}}),OVe=PVe,IVe=ue({name:"Menu",__name:"menu",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32z"})]))}}),RVe=IVe,LVe=ue({name:"Minus",__name:"minus",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),Mz=LVe,DVe=ue({name:"Moon",__name:"moon",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696 448 448 0 0 1-542.016-542.08 391 391 0 0 0-17.408 16.384m181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696"})]))}}),NVe=DVe,BVe=ue({name:"MoreFilled",__name:"more-filled",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),BK=BVe,$Ve=ue({name:"More",__name:"more",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),FVe=$Ve,VVe=ue({name:"Odometer",__name:"odometer",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),K("path",{fill:"currentColor",d:"M192 512a320 320 0 1 1 640 0 32 32 0 1 1-64 0 256 256 0 1 0-512 0 32 32 0 0 1-64 0"}),K("path",{fill:"currentColor",d:"M570.432 627.84A96 96 0 1 1 509.568 608l60.992-187.776A32 32 0 1 1 631.424 440l-60.992 187.776zM502.08 734.464a32 32 0 1 0 19.84-60.928 32 32 0 0 0-19.84 60.928"})]))}}),zVe=VVe,HVe=ue({name:"OfficeBuilding",__name:"office-building",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M192 128v704h384V128zm-32-64h448a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32"}),K("path",{fill:"currentColor",d:"M256 256h256v64H256zm0 192h256v64H256zm0 192h256v64H256zm384-128h128v64H640zm0 128h128v64H640zM64 832h896v64H64z"}),K("path",{fill:"currentColor",d:"M640 384v448h192V384zm-32-64h256a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H608a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32"})]))}}),$K=HVe,jVe=ue({name:"Operation",__name:"operation",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64z"})]))}}),GVe=jVe,UVe=ue({name:"PictureFilled",__name:"picture-filled",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),Kde=UVe,WVe=ue({name:"Plus",__name:"plus",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),Uu=WVe,qVe=ue({name:"QuestionFilled",__name:"question-filled",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592q0-64.416-42.24-101.376c-28.16-25.344-65.472-37.312-111.232-37.312m-12.672 406.208a54.27 54.27 0 0 0-38.72 14.784 49.4 49.4 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.85 54.85 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.97 51.97 0 0 0-15.488-38.016 55.94 55.94 0 0 0-39.424-14.784"})]))}}),LM=qVe,KVe=ue({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),Pz=KVe,YVe=ue({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88"})]))}}),XVe=YVe,ZVe=ue({name:"Refresh",__name:"refresh",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"})]))}}),Yde=ZVe,JVe=ue({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118m-361.412 0a30.12 30.12 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.12 30.12 0 0 0-30.118-30.118M512 361.412a30.12 30.12 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.12 30.12 0 0 0 512 361.412M512 512a30.12 30.12 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.12 30.12 0 0 0 512 512"})]))}}),QVe=JVe,e5e=ue({name:"Search",__name:"search",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),pm=e5e,t5e=ue({name:"Select",__name:"select",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496"})]))}}),Xde=t5e,n5e=ue({name:"SetUp",__name:"set-up",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M224 160a64 64 0 0 0-64 64v576a64 64 0 0 0 64 64h576a64 64 0 0 0 64-64V224a64 64 0 0 0-64-64zm0-64h576a128 128 0 0 1 128 128v576a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V224A128 128 0 0 1 224 96"}),K("path",{fill:"currentColor",d:"M384 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"}),K("path",{fill:"currentColor",d:"M480 320h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32m160 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128m0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256"}),K("path",{fill:"currentColor",d:"M288 640h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32"})]))}}),Zde=n5e,r5e=ue({name:"Share",__name:"share",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m679.872 348.8-301.76 188.608a127.8 127.8 0 0 1 5.12 52.16l279.936 104.96a128 128 0 1 1-22.464 59.904l-279.872-104.96a128 128 0 1 1-16.64-166.272l301.696-188.608a128 128 0 1 1 33.92 54.272z"})]))}}),i5e=r5e,o5e=ue({name:"SortDown",__name:"sort-down",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),a5e=o5e,s5e=ue({name:"SortUp",__name:"sort-up",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),l5e=s5e,u5e=ue({name:"StarFilled",__name:"star-filled",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M313.6 924.48a70.4 70.4 0 0 1-74.152-5.365 70.4 70.4 0 0 1-27.992-68.875l37.888-220.928L88.96 472.96a70.4 70.4 0 0 1 3.788-104.225A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 100.246-28.595 70.4 70.4 0 0 1 25.962 28.595l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),QE=u5e,c5e=ue({name:"Star",__name:"star",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),f5e=c5e,d5e=ue({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.27 38.27 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),Oz=d5e,h5e=ue({name:"Sunny",__name:"sunny",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32M195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248M64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32m768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32M195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0m543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0"})]))}}),p5e=h5e,v5e=ue({name:"SwitchButton",__name:"switch-button",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128"}),K("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32"})]))}}),g5e=v5e,m5e=ue({name:"Tickets",__name:"tickets",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M192 128v768h640V128zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h192v64H320zm0 384h384v64H320z"})]))}}),y5e=m5e,b5e=ue({name:"UploadFilled",__name:"upload-filled",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.81 239.81 0 0 1 512 192a239.87 239.87 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6z"})]))}}),uF=b5e,_5e=ue({name:"User",__name:"user",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384m0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512m320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0"})]))}}),Jde=_5e,w5e=ue({name:"VideoPause",__name:"video-pause",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m-96-544q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32m192 0q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32"})]))}}),S5e=w5e,x5e=ue({name:"VideoPlay",__name:"video-play",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768m-48-247.616L668.608 512 464 375.616zm10.624-342.656 249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"})]))}}),Iz=x5e,C5e=ue({name:"View",__name:"view",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288m0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.19 160.19 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),Qde=C5e,E5e=ue({name:"WarnTriangleFilled",__name:"warn-triangle-filled",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M928.99 755.83 574.6 203.25c-12.89-20.16-36.76-32.58-62.6-32.58s-49.71 12.43-62.6 32.58L95.01 755.83c-12.91 20.12-12.9 44.91.01 65.03 12.92 20.12 36.78 32.51 62.59 32.49h708.78c25.82.01 49.68-12.37 62.59-32.49s12.92-44.91.01-65.03M554.67 768h-85.33v-85.33h85.33zm0-426.67v298.66h-85.33V341.32z"})]))}}),T5e=E5e,A5e=ue({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.43 58.43 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.43 58.43 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),gI=A5e,k5e=ue({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),ehe=k5e,M5e=ue({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,n)=>(N(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[K("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),P5e=M5e;const Xr=me([String,Object,Function]),the={Close:Hu},Rz={Close:Hu,SuccessFilled:Oz,InfoFilled:sh,WarningFilled:gI,CircleCloseFilled:Cz},nv={primary:sh,success:Oz,warning:gI,error:Cz,info:sh},mI={validating:Kf,success:xz,error:Mh},O5e=["light","dark"],I5e=rt({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:jb(nv),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:O5e,default:"light"},...jde}),R5e={open:()=>!0,close:t=>gr(t)||t instanceof Event},L5e=ue({name:"ElAlert"}),D5e=ue({...L5e,props:I5e,emits:R5e,setup(t,{emit:e}){const n=t,{Close:r}=Rz,i=Co(),o=Ye("alert"),a=F(!1),s=z(()=>nv[n.type]),l=z(()=>!!(n.description||i.default)),u=()=>{a.value=!0,e("open")},c=h=>{a.value=!1,e("close",h)},{onOpen:f,onClose:d}=Gde({showAfter:Hr(n,"showAfter"),hideAfter:Hr(n,"hideAfter"),autoClose:Hr(n,"autoClose"),open:u,close:c});return Ar&&f(),(h,p)=>(N(),de(ka,{name:_(o).b("fade"),persisted:""},{default:$(()=>[An(K("div",{class:q([_(o).b(),_(o).m(h.type),_(o).is("center",h.center),_(o).is(h.effect)]),role:"alert"},[h.showIcon&&(h.$slots.icon||_(s))?(N(),de(_(zt),{key:0,class:q([_(o).e("icon"),{[_(o).is("big")]:_(l)}])},{default:$(()=>[Ee(h.$slots,"icon",{},()=>[(N(),de(Vn(_(s))))])]),_:3},8,["class"])):ge("v-if",!0),K("div",{class:q(_(o).e("content"))},[h.title||h.$slots.title?(N(),Q("span",{key:0,class:q([_(o).e("title"),{"with-description":_(l)}])},[Ee(h.$slots,"title",{},()=>[Be(Ne(h.title),1)])],2)):ge("v-if",!0),_(l)?(N(),Q("p",{key:1,class:q(_(o).e("description"))},[Ee(h.$slots,"default",{},()=>[Be(Ne(h.description),1)])],2)):ge("v-if",!0),h.closable?(N(),Q(ft,{key:2},[h.closeText?(N(),Q("div",{key:0,class:q([_(o).e("close-btn"),_(o).is("customed")]),onClick:c},Ne(h.closeText),3)):(N(),de(_(zt),{key:1,class:q(_(o).e("close-btn")),onClick:_(d)},{default:$(()=>[O(_(r))]),_:1},8,["class","onClick"]))],64)):ge("v-if",!0)],2)],2),[[kr,a.value]])]),_:3},8,["name"]))}});var N5e=lt(D5e,[["__file","alert.vue"]]);const B5e=kn(N5e),Lz=()=>Ar&&/firefox/i.test(window.navigator.userAgent);let dl;const $5e={height:"0",visibility:"hidden",overflow:Lz()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},F5e=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"];function V5e(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),r=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),i=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:F5e.map(a=>[a,e.getPropertyValue(a)]),paddingSize:r,borderSize:i,boxSizing:n}}function FK(t,e=1,n){var r,i;dl||(dl=document.createElement("textarea"),((r=t.parentNode)!=null?r:document.body).appendChild(dl));const{paddingSize:o,borderSize:a,boxSizing:s,contextStyle:l}=V5e(t);l.forEach(([d,h])=>dl?.style.setProperty(d,h)),Object.entries($5e).forEach(([d,h])=>dl?.style.setProperty(d,h,"important")),dl.value=t.value||t.placeholder||"";let u=dl.scrollHeight;const c={};s==="border-box"?u=u+a:s==="content-box"&&(u=u-o),dl.value="";const f=dl.scrollHeight-o;if(Zt(e)){let d=f*e;s==="border-box"&&(d=d+o+a),u=Math.max(d,u),c.minHeight=`${d}px`}if(Zt(n)){let d=f*n;s==="border-box"&&(d=d+o+a),u=Math.min(d,u)}return c.height=`${u}px`,(i=dl.parentNode)==null||i.removeChild(dl),dl=void 0,c}const ji=t=>t,z5e=rt({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),fs=t=>Zs(z5e,t),d2=rt({id:{type:String,default:void 0},size:Ho,disabled:Boolean,modelValue:{type:me([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:me([Boolean,Object]),default:!1},autocomplete:{type:me(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:Xr,default:Mh},showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Xr},prefixIcon:{type:Xr},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:me([Object,Array,String]),default:()=>ji({})},autofocus:Boolean,rows:{type:Number,default:2},...fs(["ariaLabel"]),inputmode:{type:me(String),default:void 0},name:String}),H5e={[_n]:t=>Ht(t),input:t=>Ht(t),change:t=>Ht(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},j5e=["class","style"],G5e=/^on[A-Z]/,yI=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,r=z(()=>(n?.value||[]).concat(j5e)),i=Un();return z(i?()=>{var o;return Ox(Object.entries((o=i.proxy)==null?void 0:o.$attrs).filter(([a])=>!r.value.includes(a)&&!(e&&G5e.test(a))))}:()=>({}))},VK={prefix:Math.floor(Math.random()*1e4),current:0},U5e=Symbol("elIdInjection"),Dz=()=>Un()?bt(U5e,VK):VK,Ha=t=>{const e=Dz(),n=oz();return MM(()=>_(t)||`${n.value}-id-${e.prefix}-${e.current++}`)},yy=Symbol("formContextKey"),Yf=Symbol("formItemContextKey"),Ua=()=>{const t=bt(yy,void 0),e=bt(Yf,void 0);return{form:t,formItem:e}},tu=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=F(!1)),r||(r=F(!1));const i=Un(),o=()=>{let u=i?.parent;for(;u;){if(u.type.name==="ElFormItem")return!1;if(u.type.name==="ElLabelWrap")return!0;u=u.parent}return!1},a=F();let s;const l=z(()=>{var u;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((u=e.inputIds)==null?void 0:u.length)<=1)});return Jt(()=>{s=Le([Hr(t,"id"),n],([u,c])=>{const f=u??(c?void 0:Ha().value);f!==a.value&&(e?.removeInputId&&!o()&&(a.value&&e.removeInputId(a.value),!r?.value&&!c&&f&&e.addInputId(f)),a.value=f)},{immediate:!0})}),Qu(()=>{s&&s(),e?.removeInputId&&a.value&&e.removeInputId(a.value)}),{isLabeledByFormItem:l,inputId:a}},nhe=t=>{const e=Un();return z(()=>{var n,r;return(r=(n=e?.proxy)==null?void 0:n.$props)==null?void 0:r[t]})},Po=(t,e={})=>{const n=F(void 0),r=e.prop?n:nhe("size"),i=e.global?n:Dde(),o=e.form?{size:void 0}:bt(yy,void 0),a=e.formItem?{size:void 0}:bt(Yf,void 0);return z(()=>r.value||_(t)||a?.size||o?.size||i.value||"")},pa=t=>{const e=nhe("disabled"),n=bt(yy,void 0);return z(()=>e.value||_(t)||n?.disabled||!1)},W5e='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',zK=t=>typeof Element>"u"?!1:t instanceof Element,q5e=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,HK=t=>Array.from(t.querySelectorAll(W5e)).filter(e=>Ix(e)&&q5e(e)),Ix=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.tabIndex<0||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true")return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},tk=function(t,e,...n){let r;e.includes("mouse")||e.includes("click")?r="MouseEvents":e.includes("key")?r="KeyboardEvent":r="HTMLEvents";const i=document.createEvent(r);return i.initEvent(e,...n),t.dispatchEvent(i),t},rhe=t=>!t.getAttribute("aria-owns"),ihe=(t,e,n)=>{const{parentNode:r}=t;if(!r)return null;const i=r.querySelectorAll(n),o=Array.prototype.indexOf.call(i,t);return i[o+e]||null},h2=(t,e)=>{if(!t||!t.focus)return;let n=!1;zK(t)&&!Ix(t)&&!t.getAttribute("tabindex")&&(t.setAttribute("tabindex","-1"),n=!0),t.focus(e),zK(t)&&n&&t.removeAttribute("tabindex")},nk=t=>{t&&(h2(t),!rhe(t)&&t.click())};function Ph(t,{disabled:e,beforeFocus:n,afterFocus:r,beforeBlur:i,afterBlur:o}={}){const a=Un(),{emit:s}=a,l=bi(),u=F(!1),c=h=>{const p=qt(n)?n(h):!1;_(e)||u.value||p||(u.value=!0,s("focus",h),r?.())},f=h=>{var p;const v=qt(i)?i(h):!1;_(e)||h.relatedTarget&&((p=l.value)!=null&&p.contains(h.relatedTarget))||v||(u.value=!1,s("blur",h),o?.())},d=h=>{var p,v;_(e)||Ix(h.target)||(p=l.value)!=null&&p.contains(document.activeElement)&&l.value!==document.activeElement||(v=t.value)==null||v.focus()};return Le([l,()=>_(e)],([h,p])=>{h&&(p?h.removeAttribute("tabindex"):h.setAttribute("tabindex","-1"))}),Lr(l,"focus",c,!0),Lr(l,"blur",f,!0),Lr(l,"click",d,!0),{isFocused:u,wrapperRef:l,handleFocus:c,handleBlur:f}}const K5e=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function p2({afterComposition:t,emit:e}){const n=F(!1),r=s=>{e?.("compositionstart",s),n.value=!0},i=s=>{var l;e?.("compositionupdate",s);const u=(l=s.target)==null?void 0:l.value,c=u[u.length-1]||"";n.value=!K5e(c)},o=s=>{e?.("compositionend",s),n.value&&(n.value=!1,Pt(()=>t(s)))};return{isComposing:n,handleComposition:s=>{s.type==="compositionend"?o(s):i(s)},handleCompositionStart:r,handleCompositionUpdate:i,handleCompositionEnd:o}}function Y5e(t){let e;function n(){if(t.value==null)return;const{selectionStart:i,selectionEnd:o,value:a}=t.value;if(i==null||o==null)return;const s=a.slice(0,Math.max(0,i)),l=a.slice(Math.max(0,o));e={selectionStart:i,selectionEnd:o,value:a,beforeTxt:s,afterTxt:l}}function r(){if(t.value==null||e==null)return;const{value:i}=t.value,{beforeTxt:o,afterTxt:a,selectionStart:s}=e;if(o==null||a==null||s==null)return;let l=i.length;if(i.endsWith(a))l=i.length-a.length;else if(i.startsWith(o))l=o.length;else{const u=o[s-1],c=i.indexOf(u,s-1);c!==-1&&(l=c+1)}t.value.setSelectionRange(l,l)}return[n,r]}const X5e="ElInput",Z5e=ue({name:X5e,inheritAttrs:!1}),J5e=ue({...Z5e,props:d2,emits:H5e,setup(t,{expose:e,emit:n}){const r=t,i=Th(),o=yI(),a=Co(),s=z(()=>[r.type==="textarea"?v.b():p.b(),p.m(d.value),p.is("disabled",h.value),p.is("exceed",W.value),{[p.b("group")]:a.prepend||a.append,[p.m("prefix")]:a.prefix||r.prefixIcon,[p.m("suffix")]:a.suffix||r.suffixIcon||r.clearable||r.showPassword,[p.bm("suffix","password-clear")]:P.value&&B.value,[p.b("hidden")]:r.type==="hidden"},i.class]),l=z(()=>[p.e("wrapper"),p.is("focus",E.value)]),{form:u,formItem:c}=Ua(),{inputId:f}=tu(r,{formItemContext:c}),d=Po(),h=pa(),p=Ye("input"),v=Ye("textarea"),g=bi(),m=bi(),y=F(!1),b=F(!1),w=F(),S=bi(r.inputStyle),x=z(()=>g.value||m.value),{wrapperRef:C,isFocused:E,handleFocus:T,handleBlur:A}=Ph(x,{disabled:h,afterBlur(){var Fe;r.validateEvent&&((Fe=c?.validate)==null||Fe.call(c,"blur").catch(We=>void 0))}}),k=z(()=>{var Fe;return(Fe=u?.statusIcon)!=null?Fe:!1}),M=z(()=>c?.validateState||""),D=z(()=>M.value&&mI[M.value]),L=z(()=>b.value?Qde:xVe),I=z(()=>[i.style]),R=z(()=>[r.inputStyle,S.value,{resize:r.resize}]),V=z(()=>So(r.modelValue)?"":String(r.modelValue)),P=z(()=>r.clearable&&!h.value&&!r.readonly&&!!V.value&&(E.value||y.value)),B=z(()=>r.showPassword&&!h.value&&!!V.value),j=z(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!h.value&&!r.readonly&&!r.showPassword),G=z(()=>V.value.length),W=z(()=>!!j.value&&G.value>Number(r.maxlength)),Z=z(()=>!!a.suffix||!!r.suffixIcon||P.value||r.showPassword||j.value||!!M.value&&k.value),[ee,oe]=Y5e(g);Di(m,Fe=>{if(H(),!j.value||r.resize!=="both")return;const We=Fe[0],{width:dn}=We.contentRect;w.value={right:`calc(100% - ${dn+15+6}px)`}});const ce=()=>{const{type:Fe,autosize:We}=r;if(!(!Ar||Fe!=="textarea"||!m.value))if(We){const dn=Nn(We)?We.minRows:void 0,At=Nn(We)?We.maxRows:void 0,$e=FK(m.value,dn,At);S.value={overflowY:"hidden",...$e},Pt(()=>{m.value.offsetHeight,S.value=$e})}else S.value={minHeight:FK(m.value).minHeight}},H=(Fe=>{let We=!1;return()=>{var dn;if(We||!r.autosize)return;((dn=m.value)==null?void 0:dn.offsetParent)===null||(setTimeout(Fe),We=!0)}})(ce),U=()=>{const Fe=x.value,We=r.formatter?r.formatter(V.value):V.value;!Fe||Fe.value===We||(Fe.value=We)},ne=async Fe=>{ee();let{value:We}=Fe.target;if(r.formatter&&r.parser&&(We=r.parser(We)),!Y.value){if(We===V.value){U();return}n(_n,We),n(Fo,We),await Pt(),U(),oe()}},J=Fe=>{let{value:We}=Fe.target;r.formatter&&r.parser&&(We=r.parser(We)),n(tr,We)},{isComposing:Y,handleCompositionStart:se,handleCompositionUpdate:he,handleCompositionEnd:ye}=p2({emit:n,afterComposition:ne}),_e=()=>{ee(),b.value=!b.value,setTimeout(oe)},fe=()=>{var Fe;return(Fe=x.value)==null?void 0:Fe.focus()},Ce=()=>{var Fe;return(Fe=x.value)==null?void 0:Fe.blur()},Oe=Fe=>{y.value=!1,n("mouseleave",Fe)},Ue=Fe=>{y.value=!0,n("mouseenter",Fe)},qe=Fe=>{n("keydown",Fe)},ze=()=>{var Fe;(Fe=x.value)==null||Fe.select()},ae=()=>{n(_n,""),n(tr,""),n("clear"),n(Fo,"")};return Le(()=>r.modelValue,()=>{var Fe;Pt(()=>ce()),r.validateEvent&&((Fe=c?.validate)==null||Fe.call(c,"change").catch(We=>void 0))}),Le(V,()=>U()),Le(()=>r.type,async()=>{await Pt(),U(),ce()}),Jt(()=>{!r.formatter&&r.parser,U(),Pt(ce)}),e({input:g,textarea:m,ref:x,textareaStyle:R,autosize:Hr(r,"autosize"),isComposing:Y,focus:fe,blur:Ce,select:ze,clear:ae,resizeTextarea:ce}),(Fe,We)=>(N(),Q("div",{class:q([_(s),{[_(p).bm("group","append")]:Fe.$slots.append,[_(p).bm("group","prepend")]:Fe.$slots.prepend}]),style:Ot(_(I)),onMouseenter:Ue,onMouseleave:Oe},[ge(" input "),Fe.type!=="textarea"?(N(),Q(ft,{key:0},[ge(" prepend slot "),Fe.$slots.prepend?(N(),Q("div",{key:0,class:q(_(p).be("group","prepend"))},[Ee(Fe.$slots,"prepend")],2)):ge("v-if",!0),K("div",{ref_key:"wrapperRef",ref:C,class:q(_(l))},[ge(" prefix slot "),Fe.$slots.prefix||Fe.prefixIcon?(N(),Q("span",{key:0,class:q(_(p).e("prefix"))},[K("span",{class:q(_(p).e("prefix-inner"))},[Ee(Fe.$slots,"prefix"),Fe.prefixIcon?(N(),de(_(zt),{key:0,class:q(_(p).e("icon"))},{default:$(()=>[(N(),de(Vn(Fe.prefixIcon)))]),_:1},8,["class"])):ge("v-if",!0)],2)],2)):ge("v-if",!0),K("input",Fn({id:_(f),ref_key:"input",ref:g,class:_(p).e("inner")},_(o),{name:Fe.name,minlength:Fe.minlength,maxlength:Fe.maxlength,type:Fe.showPassword?b.value?"text":"password":Fe.type,disabled:_(h),readonly:Fe.readonly,autocomplete:Fe.autocomplete,tabindex:Fe.tabindex,"aria-label":Fe.ariaLabel,placeholder:Fe.placeholder,style:Fe.inputStyle,form:Fe.form,autofocus:Fe.autofocus,role:Fe.containerRole,inputmode:Fe.inputmode,onCompositionstart:_(se),onCompositionupdate:_(he),onCompositionend:_(ye),onInput:ne,onChange:J,onKeydown:qe}),null,16,["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode","onCompositionstart","onCompositionupdate","onCompositionend"]),ge(" suffix slot "),_(Z)?(N(),Q("span",{key:1,class:q(_(p).e("suffix"))},[K("span",{class:q(_(p).e("suffix-inner"))},[!_(P)||!_(B)||!_(j)?(N(),Q(ft,{key:0},[Ee(Fe.$slots,"suffix"),Fe.suffixIcon?(N(),de(_(zt),{key:0,class:q(_(p).e("icon"))},{default:$(()=>[(N(),de(Vn(Fe.suffixIcon)))]),_:1},8,["class"])):ge("v-if",!0)],64)):ge("v-if",!0),_(P)?(N(),de(_(zt),{key:1,class:q([_(p).e("icon"),_(p).e("clear")]),onMousedown:an(_(Yr),["prevent"]),onClick:ae},{default:$(()=>[(N(),de(Vn(Fe.clearIcon)))]),_:1},8,["class","onMousedown"])):ge("v-if",!0),_(B)?(N(),de(_(zt),{key:2,class:q([_(p).e("icon"),_(p).e("password")]),onClick:_e},{default:$(()=>[(N(),de(Vn(_(L))))]),_:1},8,["class"])):ge("v-if",!0),_(j)?(N(),Q("span",{key:3,class:q(_(p).e("count"))},[K("span",{class:q(_(p).e("count-inner"))},Ne(_(G))+" / "+Ne(Fe.maxlength),3)],2)):ge("v-if",!0),_(M)&&_(D)&&_(k)?(N(),de(_(zt),{key:4,class:q([_(p).e("icon"),_(p).e("validateIcon"),_(p).is("loading",_(M)==="validating")])},{default:$(()=>[(N(),de(Vn(_(D))))]),_:1},8,["class"])):ge("v-if",!0)],2)],2)):ge("v-if",!0)],2),ge(" append slot "),Fe.$slots.append?(N(),Q("div",{key:1,class:q(_(p).be("group","append"))},[Ee(Fe.$slots,"append")],2)):ge("v-if",!0)],64)):(N(),Q(ft,{key:1},[ge(" textarea "),K("textarea",Fn({id:_(f),ref_key:"textarea",ref:m,class:[_(v).e("inner"),_(p).is("focus",_(E))]},_(o),{minlength:Fe.minlength,maxlength:Fe.maxlength,tabindex:Fe.tabindex,disabled:_(h),readonly:Fe.readonly,autocomplete:Fe.autocomplete,style:_(R),"aria-label":Fe.ariaLabel,placeholder:Fe.placeholder,form:Fe.form,autofocus:Fe.autofocus,rows:Fe.rows,role:Fe.containerRole,onCompositionstart:_(se),onCompositionupdate:_(he),onCompositionend:_(ye),onInput:ne,onFocus:_(T),onBlur:_(A),onChange:J,onKeydown:qe}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),_(j)?(N(),Q("span",{key:0,style:Ot(w.value),class:q(_(p).e("count"))},Ne(_(G))+" / "+Ne(Fe.maxlength),7)):ge("v-if",!0)],64))],38))}});var Q5e=lt(J5e,[["__file","input.vue"]]);const Ps=kn(Q5e),Jy=4,ohe={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},e6e=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),Nz=Symbol("scrollbarContextKey"),t6e=rt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),n6e="Thumb",r6e=ue({__name:"thumb",props:t6e,setup(t){const e=t,n=bt(Nz),r=Ye("scrollbar");n||xo(n6e,"can not inject scrollbar context");const i=F(),o=F(),a=F({}),s=F(!1);let l=!1,u=!1,c=0,f=0,d=Ar?document.onselectstart:null;const h=z(()=>ohe[e.vertical?"vertical":"horizontal"]),p=z(()=>e6e({size:e.size,move:e.move,bar:h.value})),v=z(()=>i.value[h.value.offset]**2/n.wrapElement[h.value.scrollSize]/e.ratio/o.value[h.value.offset]),g=E=>{var T;if(E.stopPropagation(),E.ctrlKey||[1,2].includes(E.button))return;(T=window.getSelection())==null||T.removeAllRanges(),y(E);const A=E.currentTarget;A&&(a.value[h.value.axis]=A[h.value.offset]-(E[h.value.client]-A.getBoundingClientRect()[h.value.direction]))},m=E=>{if(!o.value||!i.value||!n.wrapElement)return;const T=Math.abs(E.target.getBoundingClientRect()[h.value.direction]-E[h.value.client]),A=o.value[h.value.offset]/2,k=(T-A)*100*v.value/i.value[h.value.offset];n.wrapElement[h.value.scroll]=k*n.wrapElement[h.value.scrollSize]/100},y=E=>{E.stopImmediatePropagation(),l=!0,c=n.wrapElement.scrollHeight,f=n.wrapElement.scrollWidth,document.addEventListener("mousemove",b),document.addEventListener("mouseup",w),d=document.onselectstart,document.onselectstart=()=>!1},b=E=>{if(!i.value||!o.value||l===!1)return;const T=a.value[h.value.axis];if(!T)return;const A=(i.value.getBoundingClientRect()[h.value.direction]-E[h.value.client])*-1,k=o.value[h.value.offset]-T,M=(A-k)*100*v.value/i.value[h.value.offset];h.value.scroll==="scrollLeft"?n.wrapElement[h.value.scroll]=M*f/100:n.wrapElement[h.value.scroll]=M*c/100},w=()=>{l=!1,a.value[h.value.axis]=0,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w),C(),u&&(s.value=!1)},S=()=>{u=!1,s.value=!!e.size},x=()=>{u=!0,s.value=l};ur(()=>{C(),document.removeEventListener("mouseup",w)});const C=()=>{document.onselectstart!==d&&(document.onselectstart=d)};return Lr(Hr(n,"scrollbarElement"),"mousemove",S),Lr(Hr(n,"scrollbarElement"),"mouseleave",x),(E,T)=>(N(),de(ka,{name:_(r).b("fade"),persisted:""},{default:$(()=>[An(K("div",{ref_key:"instance",ref:i,class:q([_(r).e("bar"),_(r).is(_(h).key)]),onMousedown:m,onClick:an(()=>{},["stop"])},[K("div",{ref_key:"thumb",ref:o,class:q(_(r).e("thumb")),style:Ot(_(p)),onMousedown:g},null,38)],42,["onClick"]),[[kr,E.always||s.value]])]),_:1},8,["name"]))}});var jK=lt(r6e,[["__file","thumb.vue"]]);const i6e=rt({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),o6e=ue({__name:"bar",props:i6e,setup(t,{expose:e}){const n=t,r=bt(Nz),i=F(0),o=F(0),a=F(""),s=F(""),l=F(1),u=F(1);return e({handleScroll:d=>{if(d){const h=d.offsetHeight-Jy,p=d.offsetWidth-Jy;o.value=d.scrollTop*100/h*l.value,i.value=d.scrollLeft*100/p*u.value}},update:()=>{const d=r?.wrapElement;if(!d)return;const h=d.offsetHeight-Jy,p=d.offsetWidth-Jy,v=h**2/d.scrollHeight,g=p**2/d.scrollWidth,m=Math.max(v,n.minSize),y=Math.max(g,n.minSize);l.value=v/(h-v)/(m/(h-m)),u.value=g/(p-g)/(y/(p-y)),s.value=m+Jy<h?`${m}px`:"",a.value=y+Jy<p?`${y}px`:""}}),(d,h)=>(N(),Q(ft,null,[O(jK,{move:i.value,ratio:u.value,size:a.value,always:d.always},null,8,["move","ratio","size","always"]),O(jK,{move:o.value,ratio:l.value,size:s.value,vertical:"",always:d.always},null,8,["move","ratio","size","always"])],64))}});var a6e=lt(o6e,[["__file","bar.vue"]]);const s6e=rt({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:me([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...fs(["ariaLabel","ariaOrientation"])}),ahe={"end-reached":t=>["left","right","top","bottom"].includes(t),scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(Zt)},l6e="ElScrollbar",u6e=ue({name:l6e}),c6e=ue({...u6e,props:s6e,emits:ahe,setup(t,{expose:e,emit:n}){const r=t,i=Ye("scrollbar");let o,a,s,l=0,u=0,c="";const f={bottom:!1,top:!1,right:!1,left:!1},d=F(),h=F(),p=F(),v=F(),g=z(()=>{const k={};return r.height&&(k.height=Qi(r.height)),r.maxHeight&&(k.maxHeight=Qi(r.maxHeight)),[r.wrapStyle,k]}),m=z(()=>[r.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!r.native}]),y=z(()=>[i.e("view"),r.viewClass]),b=k=>{var M;return(M=f[k])!=null?M:!1},w={top:"bottom",bottom:"top",left:"right",right:"left"},S=k=>{const M=w[c];if(!M)return;const D=k[c],L=k[M];D&&!f[c]&&(f[c]=!0),!L&&f[M]&&(f[M]=!1)},x=()=>{var k;if(h.value){(k=v.value)==null||k.handleScroll(h.value);const M=l,D=u;l=h.value.scrollTop,u=h.value.scrollLeft;const L={bottom:l+h.value.clientHeight>=h.value.scrollHeight-r.distance,top:l<=r.distance&&M!==0,right:u+h.value.clientWidth>=h.value.scrollWidth-r.distance&&D!==u,left:u<=r.distance&&D!==0};if(n("scroll",{scrollTop:l,scrollLeft:u}),M!==l&&(c=l>M?"bottom":"top"),D!==u&&(c=u>D?"right":"left"),r.distance>0){if(b(c))return;S(L)}L[c]&&n("end-reached",c)}};function C(k,M){Nn(k)?h.value.scrollTo(k):Zt(k)&&Zt(M)&&h.value.scrollTo(k,M)}const E=k=>{Zt(k)&&(h.value.scrollTop=k)},T=k=>{Zt(k)&&(h.value.scrollLeft=k)},A=()=>{var k;(k=v.value)==null||k.update(),f[c]=!1};return Le(()=>r.noresize,k=>{k?(o?.(),a?.(),s?.()):({stop:o}=Di(p,A),{stop:a}=Di(h,A),s=Lr("resize",A))},{immediate:!0}),Le(()=>[r.maxHeight,r.height],()=>{r.native||Pt(()=>{var k;A(),h.value&&((k=v.value)==null||k.handleScroll(h.value))})}),jn(Nz,Bn({scrollbarElement:d,wrapElement:h})),YO(()=>{h.value&&(h.value.scrollTop=l,h.value.scrollLeft=u)}),Jt(()=>{r.native||Pt(()=>{A()})}),Hc(()=>A()),e({wrapRef:h,update:A,scrollTo:C,setScrollTop:E,setScrollLeft:T,handleScroll:x}),(k,M)=>(N(),Q("div",{ref_key:"scrollbarRef",ref:d,class:q(_(i).b())},[K("div",{ref_key:"wrapRef",ref:h,class:q(_(m)),style:Ot(_(g)),tabindex:k.tabindex,onScroll:x},[(N(),de(Vn(k.tag),{id:k.id,ref_key:"resizeRef",ref:p,class:q(_(y)),style:Ot(k.viewStyle),role:k.role,"aria-label":k.ariaLabel,"aria-orientation":k.ariaOrientation},{default:$(()=>[Ee(k.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),k.native?ge("v-if",!0):(N(),de(a6e,{key:0,ref_key:"barRef",ref:v,always:k.always,"min-size":k.minSize},null,8,["always","min-size"]))],2))}});var f6e=lt(c6e,[["__file","scrollbar.vue"]]);const Mc=kn(f6e),Bz=Symbol("popper"),she=Symbol("popperContent"),lhe=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],uhe=rt({role:{type:String,values:lhe,default:"tooltip"}}),d6e=ue({name:"ElPopper",inheritAttrs:!1}),h6e=ue({...d6e,props:uhe,setup(t,{expose:e}){const n=t,r=F(),i=F(),o=F(),a=F(),s=z(()=>n.role),l={triggerRef:r,popperInstanceRef:i,contentRef:o,referenceRef:a,role:s};return e(l),jn(Bz,l),(u,c)=>Ee(u.$slots,"default")}});var p6e=lt(h6e,[["__file","popper.vue"]]);const v6e=ue({name:"ElPopperArrow",inheritAttrs:!1}),g6e=ue({...v6e,setup(t,{expose:e}){const n=Ye("popper"),{arrowRef:r,arrowStyle:i}=bt(she,void 0);return ur(()=>{r.value=void 0}),e({arrowRef:r}),(o,a)=>(N(),Q("span",{ref_key:"arrowRef",ref:r,class:q(_(n).e("arrow")),style:Ot(_(i)),"data-popper-arrow":""},null,6))}});var m6e=lt(g6e,[["__file","arrow.vue"]]);const che=rt({virtualRef:{type:me(Object)},virtualTriggering:Boolean,onMouseenter:{type:me(Function)},onMouseleave:{type:me(Function)},onClick:{type:me(Function)},onKeydown:{type:me(Function)},onFocus:{type:me(Function)},onBlur:{type:me(Function)},onContextmenu:{type:me(Function)},id:String,open:Boolean}),fhe=Symbol("elForwardRef"),y6e=t=>{jn(fhe,{setForwardRef:n=>{t.value=n}})},b6e=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),_6e="ElOnlyChild",dhe=ue({name:_6e,setup(t,{slots:e,attrs:n}){var r;const i=bt(fhe),o=b6e((r=i?.setForwardRef)!=null?r:Yr);return()=>{var a;const s=(a=e.default)==null?void 0:a.call(e,n);if(!s)return null;const[l,u]=hhe(s);return l?An(rh(l,n),[[o]]):null}}});function hhe(t){if(!t)return[null,0];const e=t,n=e.filter(r=>r.type!==yo).length;for(const r of e){if(Nn(r))switch(r.type){case yo:continue;case J1:case"svg":return[GK(r),n];case ft:return hhe(r.children);default:return[r,n]}return[GK(r),n]}return[null,0]}function GK(t){const e=Ye("only-child");return O("span",{class:e.e("content")},[t])}const w6e=ue({name:"ElPopperTrigger",inheritAttrs:!1}),S6e=ue({...w6e,props:che,setup(t,{expose:e}){const n=t,{role:r,triggerRef:i}=bt(Bz,void 0);y6e(i);const o=z(()=>s.value?n.id:void 0),a=z(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),s=z(()=>{if(r&&r.value!=="tooltip")return r.value}),l=z(()=>s.value?`${n.open}`:void 0);let u;const c=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return Jt(()=>{Le(()=>n.virtualRef,f=>{f&&(i.value=Jo(f))},{immediate:!0}),Le(i,(f,d)=>{u?.(),u=void 0,Xl(f)&&(c.forEach(h=>{var p;const v=n[h];v&&(f.addEventListener(h.slice(2).toLowerCase(),v,["onFocus","onBlur"].includes(h)),(p=d?.removeEventListener)==null||p.call(d,h.slice(2).toLowerCase(),v,["onFocus","onBlur"].includes(h)))}),Ix(f)&&(u=Le([o,a,s,l],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,v)=>{So(h[v])?f.removeAttribute(p):f.setAttribute(p,h[v])})},{immediate:!0}))),Xl(d)&&Ix(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>d.removeAttribute(h))},{immediate:!0})}),ur(()=>{if(u?.(),u=void 0,i.value&&Xl(i.value)){const f=i.value;c.forEach(d=>{const h=n[d];h&&f.removeEventListener(d.slice(2).toLowerCase(),h,["onFocus","onBlur"].includes(d))}),i.value=void 0}}),e({triggerRef:i}),(f,d)=>f.virtualTriggering?ge("v-if",!0):(N(),de(_(dhe),Fn({key:0},f.$attrs,{"aria-controls":_(o),"aria-describedby":_(a),"aria-expanded":_(l),"aria-haspopup":_(s)}),{default:$(()=>[Ee(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var x6e=lt(S6e,[["__file","trigger.vue"]]);const kD="focus-trap.focus-after-trapped",MD="focus-trap.focus-after-released",C6e="focus-trap.focusout-prevented",UK={cancelable:!0,bubbles:!1},E6e={cancelable:!0,bubbles:!1},WK="focusAfterTrapped",qK="focusAfterReleased",$z=Symbol("elFocusTrap"),Fz=F(),bI=F(0),Vz=F(0);let eT=0;const phe=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},KK=(t,e)=>{for(const n of t)if(!T6e(n,e))return n},T6e=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},A6e=t=>{const e=phe(t),n=KK(e,t),r=KK(e.reverse(),t);return[n,r]},k6e=t=>t instanceof HTMLInputElement&&"select"in t,ap=(t,e)=>{if(t){const n=document.activeElement;h2(t,{preventScroll:!0}),Vz.value=window.performance.now(),t!==n&&k6e(t)&&e&&t.select()}};function YK(t,e){const n=[...t],r=t.indexOf(e);return r!==-1&&n.splice(r,1),n}const M6e=()=>{let t=[];return{push:r=>{const i=t[0];i&&r!==i&&i.pause(),t=YK(t,r),t.unshift(r)},remove:r=>{var i,o;t=YK(t,r),(o=(i=t[0])==null?void 0:i.resume)==null||o.call(i)}}},P6e=(t,e=!1)=>{const n=document.activeElement;for(const r of t)if(ap(r,e),document.activeElement!==n)return},XK=M6e(),O6e=()=>bI.value>Vz.value,tT=()=>{Fz.value="pointer",bI.value=window.performance.now()},ZK=()=>{Fz.value="keyboard",bI.value=window.performance.now()},I6e=()=>(Jt(()=>{eT===0&&(document.addEventListener("mousedown",tT),document.addEventListener("touchstart",tT),document.addEventListener("keydown",ZK)),eT++}),ur(()=>{eT--,eT<=0&&(document.removeEventListener("mousedown",tT),document.removeEventListener("touchstart",tT),document.removeEventListener("keydown",ZK))}),{focusReason:Fz,lastUserFocusTimestamp:bI,lastAutomatedFocusTimestamp:Vz}),nT=t=>new CustomEvent(C6e,{...E6e,detail:t}),Ct={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let R0=[];const JK=t=>{t.code===Ct.esc&&R0.forEach(e=>e(t))},R6e=t=>{Jt(()=>{R0.length===0&&document.addEventListener("keydown",JK),Ar&&R0.push(t)}),ur(()=>{R0=R0.filter(e=>e!==t),R0.length===0&&Ar&&document.removeEventListener("keydown",JK)})},L6e=ue({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[WK,qK,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=F();let r,i;const{focusReason:o}=I6e();R6e(p=>{t.trapped&&!a.paused&&e("release-requested",p)});const a={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=p=>{if(!t.loop&&!t.trapped||a.paused)return;const{code:v,altKey:g,ctrlKey:m,metaKey:y,currentTarget:b,shiftKey:w}=p,{loop:S}=t,x=v===Ct.tab&&!g&&!m&&!y,C=document.activeElement;if(x&&C){const E=b,[T,A]=A6e(E);if(T&&A){if(!w&&C===A){const M=nT({focusReason:o.value});e("focusout-prevented",M),M.defaultPrevented||(p.preventDefault(),S&&ap(T,!0))}else if(w&&[T,E].includes(C)){const M=nT({focusReason:o.value});e("focusout-prevented",M),M.defaultPrevented||(p.preventDefault(),S&&ap(A,!0))}}else if(C===E){const M=nT({focusReason:o.value});e("focusout-prevented",M),M.defaultPrevented||p.preventDefault()}}};jn($z,{focusTrapRef:n,onKeydown:s}),Le(()=>t.focusTrapEl,p=>{p&&(n.value=p)},{immediate:!0}),Le([n],([p],[v])=>{p&&(p.addEventListener("keydown",s),p.addEventListener("focusin",c),p.addEventListener("focusout",f)),v&&(v.removeEventListener("keydown",s),v.removeEventListener("focusin",c),v.removeEventListener("focusout",f))});const l=p=>{e(WK,p)},u=p=>e(qK,p),c=p=>{const v=_(n);if(!v)return;const g=p.target,m=p.relatedTarget,y=g&&v.contains(g);t.trapped||m&&v.contains(m)||(r=m),y&&e("focusin",p),!a.paused&&t.trapped&&(y?i=g:ap(i,!0))},f=p=>{const v=_(n);if(!(a.paused||!v))if(t.trapped){const g=p.relatedTarget;!So(g)&&!v.contains(g)&&setTimeout(()=>{if(!a.paused&&t.trapped){const m=nT({focusReason:o.value});e("focusout-prevented",m),m.defaultPrevented||ap(i,!0)}},0)}else{const g=p.target;g&&v.contains(g)||e("focusout",p)}};async function d(){await Pt();const p=_(n);if(p){XK.push(a);const v=p.contains(document.activeElement)?r:document.activeElement;if(r=v,!p.contains(v)){const m=new Event(kD,UK);p.addEventListener(kD,l),p.dispatchEvent(m),m.defaultPrevented||Pt(()=>{let y=t.focusStartEl;Ht(y)||(ap(y),document.activeElement!==y&&(y="first")),y==="first"&&P6e(phe(p),!0),(document.activeElement===v||y==="container")&&ap(p)})}}}function h(){const p=_(n);if(p){p.removeEventListener(kD,l);const v=new CustomEvent(MD,{...UK,detail:{focusReason:o.value}});p.addEventListener(MD,u),p.dispatchEvent(v),!v.defaultPrevented&&(o.value=="keyboard"||!O6e()||p.contains(document.activeElement))&&ap(r??document.body),p.removeEventListener(MD,u),XK.remove(a),r=null,i=null}}return Jt(()=>{t.trapped&&d(),Le(()=>t.trapped,p=>{p?d():h()})}),ur(()=>{t.trapped&&h(),n.value&&(n.value.removeEventListener("keydown",s),n.value.removeEventListener("focusin",c),n.value.removeEventListener("focusout",f),n.value=void 0)}),{onKeydown:s}}});function D6e(t,e,n,r,i,o){return Ee(t.$slots,"default",{handleKeydown:t.onKeydown})}var by=lt(L6e,[["render",D6e],["__file","focus-trap.vue"]]),El="top",Wu="bottom",qu="right",Tl="left",zz="auto",v2=[El,Wu,qu,Tl],Gb="start",Rx="end",N6e="clippingParents",vhe="viewport",cw="popper",B6e="reference",QK=v2.reduce(function(t,e){return t.concat([e+"-"+Gb,e+"-"+Rx])},[]),Oh=[].concat(v2,[zz]).reduce(function(t,e){return t.concat([e,e+"-"+Gb,e+"-"+Rx])},[]),$6e="beforeRead",F6e="read",V6e="afterRead",z6e="beforeMain",H6e="main",j6e="afterMain",G6e="beforeWrite",U6e="write",W6e="afterWrite",q6e=[$6e,F6e,V6e,z6e,H6e,j6e,G6e,U6e,W6e];function Xf(t){return t?(t.nodeName||"").toLowerCase():null}function Wc(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ub(t){var e=Wc(t).Element;return t instanceof e||t instanceof Element}function Du(t){var e=Wc(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Hz(t){if(typeof ShadowRoot>"u")return!1;var e=Wc(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function K6e(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Du(o)||!Xf(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function Y6e(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),s=a.reduce(function(l,u){return l[u]="",l},{});!Du(i)||!Xf(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var ghe={name:"applyStyles",enabled:!0,phase:"write",fn:K6e,effect:Y6e,requires:["computeStyles"]};function Vf(t){return t.split("-")[0]}var vm=Math.max,DM=Math.min,Wb=Math.round;function qb(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(Du(t)&&e){var o=t.offsetHeight,a=t.offsetWidth;a>0&&(r=Wb(n.width)/a||1),o>0&&(i=Wb(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function jz(t){var e=qb(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function mhe(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Hz(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function lh(t){return Wc(t).getComputedStyle(t)}function X6e(t){return["table","td","th"].indexOf(Xf(t))>=0}function Ov(t){return((Ub(t)?t.ownerDocument:t.document)||window.document).documentElement}function _I(t){return Xf(t)==="html"?t:t.assignedSlot||t.parentNode||(Hz(t)?t.host:null)||Ov(t)}function eY(t){return!Du(t)||lh(t).position==="fixed"?null:t.offsetParent}function Z6e(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Du(t)){var r=lh(t);if(r.position==="fixed")return null}var i=_I(t);for(Hz(i)&&(i=i.host);Du(i)&&["html","body"].indexOf(Xf(i))<0;){var o=lh(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function g2(t){for(var e=Wc(t),n=eY(t);n&&X6e(n)&&lh(n).position==="static";)n=eY(n);return n&&(Xf(n)==="html"||Xf(n)==="body"&&lh(n).position==="static")?e:n||Z6e(t)||e}function Gz(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function VS(t,e,n){return vm(t,DM(e,n))}function J6e(t,e,n){var r=VS(t,e,n);return r>n?n:r}function yhe(){return{top:0,right:0,bottom:0,left:0}}function bhe(t){return Object.assign({},yhe(),t)}function _he(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Q6e=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,bhe(typeof t!="number"?t:_he(t,v2))};function e8e(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Vf(n.placement),l=Gz(s),u=[Tl,qu].indexOf(s)>=0,c=u?"height":"width";if(!(!o||!a)){var f=Q6e(i.padding,n),d=jz(o),h=l==="y"?El:Tl,p=l==="y"?Wu:qu,v=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],g=a[l]-n.rects.reference[l],m=g2(o),y=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,b=v/2-g/2,w=f[h],S=y-d[c]-f[p],x=y/2-d[c]/2+b,C=VS(w,x,S),E=l;n.modifiersData[r]=(e={},e[E]=C,e.centerOffset=C-x,e)}}function t8e(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!mhe(e.elements.popper,i)||(e.elements.arrow=i))}var n8e={name:"arrow",enabled:!0,phase:"main",fn:e8e,effect:t8e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Kb(t){return t.split("-")[1]}var r8e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function i8e(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Wb(e*i)/i||0,y:Wb(n*i)/i||0}}function tY(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,f=t.isFixed,d=a.x,h=d===void 0?0:d,p=a.y,v=p===void 0?0:p,g=typeof c=="function"?c({x:h,y:v}):{x:h,y:v};h=g.x,v=g.y;var m=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=Tl,w=El,S=window;if(u){var x=g2(n),C="clientHeight",E="clientWidth";if(x===Wc(n)&&(x=Ov(n),lh(x).position!=="static"&&s==="absolute"&&(C="scrollHeight",E="scrollWidth")),x=x,i===El||(i===Tl||i===qu)&&o===Rx){w=Wu;var T=f&&x===S&&S.visualViewport?S.visualViewport.height:x[C];v-=T-r.height,v*=l?1:-1}if(i===Tl||(i===El||i===Wu)&&o===Rx){b=qu;var A=f&&x===S&&S.visualViewport?S.visualViewport.width:x[E];h-=A-r.width,h*=l?1:-1}}var k=Object.assign({position:s},u&&r8e),M=c===!0?i8e({x:h,y:v}):{x:h,y:v};if(h=M.x,v=M.y,l){var D;return Object.assign({},k,(D={},D[w]=y?"0":"",D[b]=m?"0":"",D.transform=(S.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",D))}return Object.assign({},k,(e={},e[w]=y?v+"px":"",e[b]=m?h+"px":"",e.transform="",e))}function o8e(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,l=s===void 0?!0:s,u={placement:Vf(e.placement),variation:Kb(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,tY(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,tY(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var whe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:o8e,data:{}},rT={passive:!0};function a8e(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,l=Wc(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,rT)}),s&&l.addEventListener("resize",n.update,rT),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,rT)}),s&&l.removeEventListener("resize",n.update,rT)}}var She={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:a8e,data:{}},s8e={left:"right",right:"left",bottom:"top",top:"bottom"};function rk(t){return t.replace(/left|right|bottom|top/g,function(e){return s8e[e]})}var l8e={start:"end",end:"start"};function nY(t){return t.replace(/start|end/g,function(e){return l8e[e]})}function Uz(t){var e=Wc(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Wz(t){return qb(Ov(t)).left+Uz(t).scrollLeft}function u8e(t){var e=Wc(t),n=Ov(t),r=e.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+Wz(t),y:s}}function c8e(t){var e,n=Ov(t),r=Uz(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=vm(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=vm(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Wz(t),l=-r.scrollTop;return lh(i||n).direction==="rtl"&&(s+=vm(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function qz(t){var e=lh(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function xhe(t){return["html","body","#document"].indexOf(Xf(t))>=0?t.ownerDocument.body:Du(t)&&qz(t)?t:xhe(_I(t))}function zS(t,e){var n;e===void 0&&(e=[]);var r=xhe(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Wc(r),a=i?[o].concat(o.visualViewport||[],qz(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(zS(_I(a)))}function cF(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function f8e(t){var e=qb(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function rY(t,e){return e===vhe?cF(u8e(t)):Ub(e)?f8e(e):cF(c8e(Ov(t)))}function d8e(t){var e=zS(_I(t)),n=["absolute","fixed"].indexOf(lh(t).position)>=0,r=n&&Du(t)?g2(t):t;return Ub(r)?e.filter(function(i){return Ub(i)&&mhe(i,r)&&Xf(i)!=="body"}):[]}function h8e(t,e,n){var r=e==="clippingParents"?d8e(t):[].concat(e),i=[].concat(r,[n]),o=i[0],a=i.reduce(function(s,l){var u=rY(t,l);return s.top=vm(u.top,s.top),s.right=DM(u.right,s.right),s.bottom=DM(u.bottom,s.bottom),s.left=vm(u.left,s.left),s},rY(t,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Che(t){var e=t.reference,n=t.element,r=t.placement,i=r?Vf(r):null,o=r?Kb(r):null,a=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,l;switch(i){case El:l={x:a,y:e.y-n.height};break;case Wu:l={x:a,y:e.y+e.height};break;case qu:l={x:e.x+e.width,y:s};break;case Tl:l={x:e.x-n.width,y:s};break;default:l={x:e.x,y:e.y}}var u=i?Gz(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Gb:l[u]=l[u]-(e[c]/2-n[c]/2);break;case Rx:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function Lx(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.boundary,a=o===void 0?N6e:o,s=n.rootBoundary,l=s===void 0?vhe:s,u=n.elementContext,c=u===void 0?cw:u,f=n.altBoundary,d=f===void 0?!1:f,h=n.padding,p=h===void 0?0:h,v=bhe(typeof p!="number"?p:_he(p,v2)),g=c===cw?B6e:cw,m=t.rects.popper,y=t.elements[d?g:c],b=h8e(Ub(y)?y:y.contextElement||Ov(t.elements.popper),a,l),w=qb(t.elements.reference),S=Che({reference:w,element:m,placement:i}),x=cF(Object.assign({},m,S)),C=c===cw?x:w,E={top:b.top-C.top+v.top,bottom:C.bottom-b.bottom+v.bottom,left:b.left-C.left+v.left,right:C.right-b.right+v.right},T=t.modifiersData.offset;if(c===cw&&T){var A=T[i];Object.keys(E).forEach(function(k){var M=[qu,Wu].indexOf(k)>=0?1:-1,D=[El,Wu].indexOf(k)>=0?"y":"x";E[k]+=A[D]*M})}return E}function p8e(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Oh:l,c=Kb(r),f=c?s?QK:QK.filter(function(p){return Kb(p)===c}):v2,d=f.filter(function(p){return u.indexOf(p)>=0});d.length===0&&(d=f);var h=d.reduce(function(p,v){return p[v]=Lx(t,{placement:v,boundary:i,rootBoundary:o,padding:a})[Vf(v)],p},{});return Object.keys(h).sort(function(p,v){return h[p]-h[v]})}function v8e(t){if(Vf(t)===zz)return[];var e=rk(t);return[nY(t),e,nY(e)]}function g8e(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,v=n.allowedAutoPlacements,g=e.options.placement,m=Vf(g),y=m===g,b=l||(y||!p?[rk(g)]:v8e(g)),w=[g].concat(b).reduce(function(ee,oe){return ee.concat(Vf(oe)===zz?p8e(e,{placement:oe,boundary:c,rootBoundary:f,padding:u,flipVariations:p,allowedAutoPlacements:v}):oe)},[]),S=e.rects.reference,x=e.rects.popper,C=new Map,E=!0,T=w[0],A=0;A<w.length;A++){var k=w[A],M=Vf(k),D=Kb(k)===Gb,L=[El,Wu].indexOf(M)>=0,I=L?"width":"height",R=Lx(e,{placement:k,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),V=L?D?qu:Tl:D?Wu:El;S[I]>x[I]&&(V=rk(V));var P=rk(V),B=[];if(o&&B.push(R[M]<=0),s&&B.push(R[V]<=0,R[P]<=0),B.every(function(ee){return ee})){T=k,E=!1;break}C.set(k,B)}if(E)for(var j=p?3:1,G=function(ee){var oe=w.find(function(ce){var X=C.get(ce);if(X)return X.slice(0,ee).every(function(H){return H})});if(oe)return T=oe,"break"},W=j;W>0;W--){var Z=G(W);if(Z==="break")break}e.placement!==T&&(e.modifiersData[r]._skip=!0,e.placement=T,e.reset=!0)}}var m8e={name:"flip",enabled:!0,phase:"main",fn:g8e,requiresIfExists:["offset"],data:{_skip:!1}};function iY(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function oY(t){return[El,qu,Wu,Tl].some(function(e){return t[e]>=0})}function y8e(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=Lx(e,{elementContext:"reference"}),s=Lx(e,{altBoundary:!0}),l=iY(a,r),u=iY(s,i,o),c=oY(l),f=oY(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var b8e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:y8e};function _8e(t,e,n){var r=Vf(t),i=[Tl,El].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Tl,qu].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function w8e(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=Oh.reduce(function(c,f){return c[f]=_8e(f,e.rects,o),c},{}),s=a[e.placement],l=s.x,u=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=a}var S8e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:w8e};function x8e(t){var e=t.state,n=t.name;e.modifiersData[n]=Che({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var Ehe={name:"popperOffsets",enabled:!0,phase:"read",fn:x8e,data:{}};function C8e(t){return t==="x"?"y":"x"}function E8e(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,h=d===void 0?!0:d,p=n.tetherOffset,v=p===void 0?0:p,g=Lx(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),m=Vf(e.placement),y=Kb(e.placement),b=!y,w=Gz(m),S=C8e(w),x=e.modifiersData.popperOffsets,C=e.rects.reference,E=e.rects.popper,T=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,A=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(x){if(o){var D,L=w==="y"?El:Tl,I=w==="y"?Wu:qu,R=w==="y"?"height":"width",V=x[w],P=V+g[L],B=V-g[I],j=h?-E[R]/2:0,G=y===Gb?C[R]:E[R],W=y===Gb?-E[R]:-C[R],Z=e.elements.arrow,ee=h&&Z?jz(Z):{width:0,height:0},oe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:yhe(),ce=oe[L],X=oe[I],H=VS(0,C[R],ee[R]),U=b?C[R]/2-j-H-ce-A.mainAxis:G-H-ce-A.mainAxis,ne=b?-C[R]/2+j+H+X+A.mainAxis:W+H+X+A.mainAxis,J=e.elements.arrow&&g2(e.elements.arrow),Y=J?w==="y"?J.clientTop||0:J.clientLeft||0:0,se=(D=k?.[w])!=null?D:0,he=V+U-se-Y,ye=V+ne-se,_e=VS(h?DM(P,he):P,V,h?vm(B,ye):B);x[w]=_e,M[w]=_e-V}if(s){var fe,Ce=w==="x"?El:Tl,Oe=w==="x"?Wu:qu,Ue=x[S],qe=S==="y"?"height":"width",ze=Ue+g[Ce],ae=Ue-g[Oe],Fe=[El,Tl].indexOf(m)!==-1,We=(fe=k?.[S])!=null?fe:0,dn=Fe?ze:Ue-C[qe]-E[qe]-We+A.altAxis,At=Fe?Ue+C[qe]+E[qe]-We-A.altAxis:ae,$e=h&&Fe?J6e(dn,Ue,At):VS(h?dn:ze,Ue,h?At:ae);x[S]=$e,M[S]=$e-Ue}e.modifiersData[r]=M}}var T8e={name:"preventOverflow",enabled:!0,phase:"main",fn:E8e,requiresIfExists:["offset"]};function A8e(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function k8e(t){return t===Wc(t)||!Du(t)?Uz(t):A8e(t)}function M8e(t){var e=t.getBoundingClientRect(),n=Wb(e.width)/t.offsetWidth||1,r=Wb(e.height)/t.offsetHeight||1;return n!==1||r!==1}function P8e(t,e,n){n===void 0&&(n=!1);var r=Du(e),i=Du(e)&&M8e(e),o=Ov(e),a=qb(t,i),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Xf(e)!=="body"||qz(o))&&(s=k8e(e)),Du(e)?(l=qb(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Wz(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function O8e(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var l=e.get(s);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function I8e(t){var e=O8e(t);return q6e.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function R8e(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function L8e(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var aY={placement:"bottom",modifiers:[],strategy:"absolute"};function sY(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Kz(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?aY:i;return function(a,s,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},aY,o),modifiersData:{},elements:{reference:a,popper:s},attributes:{},styles:{}},c=[],f=!1,d={state:u,setOptions:function(v){var g=typeof v=="function"?v(u.options):v;p(),u.options=Object.assign({},o,u.options,g),u.scrollParents={reference:Ub(a)?zS(a):a.contextElement?zS(a.contextElement):[],popper:zS(s)};var m=I8e(L8e([].concat(r,u.options.modifiers)));return u.orderedModifiers=m.filter(function(y){return y.enabled}),h(),d.update()},forceUpdate:function(){if(!f){var v=u.elements,g=v.reference,m=v.popper;if(sY(g,m)){u.rects={reference:P8e(g,g2(m),u.options.strategy==="fixed"),popper:jz(m)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(E){return u.modifiersData[E.name]=Object.assign({},E.data)});for(var y=0;y<u.orderedModifiers.length;y++){if(u.reset===!0){u.reset=!1,y=-1;continue}var b=u.orderedModifiers[y],w=b.fn,S=b.options,x=S===void 0?{}:S,C=b.name;typeof w=="function"&&(u=w({state:u,options:x,name:C,instance:d})||u)}}}},update:R8e(function(){return new Promise(function(v){d.forceUpdate(),v(u)})}),destroy:function(){p(),f=!0}};if(!sY(a,s))return d;d.setOptions(l).then(function(v){!f&&l.onFirstUpdate&&l.onFirstUpdate(v)});function h(){u.orderedModifiers.forEach(function(v){var g=v.name,m=v.options,y=m===void 0?{}:m,b=v.effect;if(typeof b=="function"){var w=b({state:u,name:g,instance:d,options:y}),S=function(){};c.push(w||S)}})}function p(){c.forEach(function(v){return v()}),c=[]}return d}}Kz();var D8e=[She,Ehe,whe,ghe];Kz({defaultModifiers:D8e});var N8e=[She,Ehe,whe,ghe,S8e,m8e,T8e,n8e,b8e],B8e=Kz({defaultModifiers:N8e});const The=rt({arrowOffset:{type:Number,default:5}}),$8e=["fixed","absolute"],F8e=rt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:me(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Oh,default:"bottom"},popperOptions:{type:me(Object),default:()=>({})},strategy:{type:String,values:$8e,default:"absolute"}}),Ahe=rt({...F8e,...The,id:String,style:{type:me([String,Array,Object])},className:{type:me([String,Array,Object])},effect:{type:me(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:Boolean,trapping:Boolean,popperClass:{type:me([String,Array,Object])},popperStyle:{type:me([String,Array,Object])},referenceEl:{type:me(Object)},triggerTargetEl:{type:me(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...fs(["ariaLabel"])}),V8e={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},z8e=(t,e)=>{const n=F(!1),r=F();return{focusStartRef:r,trapped:n,onFocusAfterReleased:u=>{var c;((c=u.detail)==null?void 0:c.focusReason)!=="pointer"&&(r.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:u=>{t.visible&&!n.value&&(u.target&&(r.value=u.target),n.value=!0)},onFocusoutPrevented:u=>{t.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,e("close")}}},H8e=(t,e=[])=>{const{placement:n,strategy:r,popperOptions:i}=t,o={placement:n,strategy:r,...i,modifiers:[...G8e(t),...e]};return U8e(o,i?.modifiers),o},j8e=t=>{if(Ar)return Jo(t)};function G8e(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:r}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:0,bottom:0,left:0,right:0}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function U8e(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const W8e=(t,e,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const u=q8e(l);Object.assign(a.value,u)},requires:["computeStyles"]},i=z(()=>{const{onFirstUpdate:l,placement:u,strategy:c,modifiers:f}=_(n);return{onFirstUpdate:l,placement:u||"bottom",strategy:c||"absolute",modifiers:[...f||[],r,{name:"applyStyles",enabled:!1}]}}),o=bi(),a=F({styles:{popper:{position:_(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=()=>{o.value&&(o.value.destroy(),o.value=void 0)};return Le(i,l=>{const u=_(o);u&&u.setOptions(l)},{deep:!0}),Le([t,e],([l,u])=>{s(),!(!l||!u)&&(o.value=B8e(l,u,_(i)))}),ur(()=>{s()}),{state:z(()=>{var l;return{...((l=_(o))==null?void 0:l.state)||{}}}),styles:z(()=>_(a).styles),attributes:z(()=>_(a).attributes),update:()=>{var l;return(l=_(o))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=_(o))==null?void 0:l.forceUpdate()},instanceRef:z(()=>_(o))}};function q8e(t){const e=Object.keys(t.elements),n=Ox(e.map(i=>[i,t.styles[i]||{}])),r=Ox(e.map(i=>[i,t.attributes[i]]));return{styles:n,attributes:r}}const K8e=0,Y8e=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:r,role:i}=bt(Bz,void 0),o=F(),a=z(()=>t.arrowOffset),s=z(()=>({name:"eventListeners",enabled:!!t.visible})),l=z(()=>{var m;const y=_(o),b=(m=_(a))!=null?m:K8e;return{name:"arrow",enabled:!pBe(y),options:{element:y,padding:b}}}),u=z(()=>({onFirstUpdate:()=>{p()},...H8e(t,[_(l),_(s)])})),c=z(()=>j8e(t.referenceEl)||_(r)),{attributes:f,state:d,styles:h,update:p,forceUpdate:v,instanceRef:g}=W8e(c,n,u);return Le(g,m=>e.value=m,{flush:"sync"}),Jt(()=>{Le(()=>{var m,y;return(y=(m=_(c))==null?void 0:m.getBoundingClientRect)==null?void 0:y.call(m)},()=>{p()})}),{attributes:f,arrowRef:o,contentRef:n,instanceRef:g,state:d,styles:h,role:i,forceUpdate:v,update:p}},X8e=(t,{attributes:e,styles:n,role:r})=>{const{nextZIndex:i}=a_(),o=Ye("popper"),a=z(()=>_(e).popper),s=F(Zt(t.zIndex)?t.zIndex:i()),l=z(()=>[o.b(),o.is("pure",t.pure),o.is(t.effect),t.popperClass]),u=z(()=>[{zIndex:_(s)},_(n).popper,t.popperStyle||{}]),c=z(()=>r.value==="dialog"?"false":void 0),f=z(()=>_(n).arrow||{});return{ariaModal:c,arrowStyle:f,contentAttrs:a,contentClass:l,contentStyle:u,contentZIndex:s,updateZIndex:()=>{s.value=Zt(t.zIndex)?t.zIndex:i()}}},Z8e=ue({name:"ElPopperContent"}),J8e=ue({...Z8e,props:Ahe,emits:V8e,setup(t,{expose:e,emit:n}){const r=t,{focusStartRef:i,trapped:o,onFocusAfterReleased:a,onFocusAfterTrapped:s,onFocusInTrap:l,onFocusoutPrevented:u,onReleaseRequested:c}=z8e(r,n),{attributes:f,arrowRef:d,contentRef:h,styles:p,instanceRef:v,role:g,update:m}=Y8e(r),{ariaModal:y,arrowStyle:b,contentAttrs:w,contentClass:S,contentStyle:x,updateZIndex:C}=X8e(r,{styles:p,attributes:f,role:g}),E=bt(Yf,void 0);jn(she,{arrowStyle:b,arrowRef:d}),E&&jn(Yf,{...E,addInputId:Yr,removeInputId:Yr});let T;const A=(M=!0)=>{m(),M&&C()},k=()=>{A(!1),r.visible&&r.focusOnShow?o.value=!0:r.visible===!1&&(o.value=!1)};return Jt(()=>{Le(()=>r.triggerTargetEl,(M,D)=>{T?.(),T=void 0;const L=_(M||h.value),I=_(D||h.value);Xl(L)&&(T=Le([g,()=>r.ariaLabel,y,()=>r.id],R=>{["role","aria-label","aria-modal","id"].forEach((V,P)=>{So(R[P])?L.removeAttribute(V):L.setAttribute(V,R[P])})},{immediate:!0})),I!==L&&Xl(I)&&["role","aria-label","aria-modal","id"].forEach(R=>{I.removeAttribute(R)})},{immediate:!0}),Le(()=>r.visible,k,{immediate:!0})}),ur(()=>{T?.(),T=void 0}),e({popperContentRef:h,popperInstanceRef:v,updatePopper:A,contentStyle:x}),(M,D)=>(N(),Q("div",Fn({ref_key:"contentRef",ref:h},_(w),{style:_(x),class:_(S),tabindex:"-1",onMouseenter:L=>M.$emit("mouseenter",L),onMouseleave:L=>M.$emit("mouseleave",L)}),[O(_(by),{trapped:_(o),"trap-on-focus-in":!0,"focus-trap-el":_(h),"focus-start-el":_(i),onFocusAfterTrapped:_(s),onFocusAfterReleased:_(a),onFocusin:_(l),onFocusoutPrevented:_(u),onReleaseRequested:_(c)},{default:$(()=>[Ee(M.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var Q8e=lt(J8e,[["__file","content.vue"]]);const khe=kn(p6e),Yz=Symbol("elTooltip"),wI=rt({to:{type:me([String,Object]),required:!0},disabled:Boolean}),Ai=rt({...jde,...Ahe,appendTo:{type:wI.to.type},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:me(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...fs(["ariaLabel"])}),vb=rt({...che,disabled:Boolean,trigger:{type:me([String,Array]),default:"hover"},triggerKeys:{type:me(Array),default:()=>[Ct.enter,Ct.numpadEnter,Ct.space]},focusOnTarget:Boolean}),eze=Uc({type:me(Boolean),default:null}),tze=Uc({type:me(Function)}),nze=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,r=[e],i={[t]:eze,[n]:tze};return{useModelToggle:({indicator:a,toggleReason:s,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:c,onHide:f})=>{const d=Un(),{emit:h}=d,p=d.props,v=z(()=>qt(p[n])),g=z(()=>p[t]===null),m=C=>{a.value!==!0&&(a.value=!0,s&&(s.value=C),qt(c)&&c(C))},y=C=>{a.value!==!1&&(a.value=!1,s&&(s.value=C),qt(f)&&f(C))},b=C=>{if(p.disabled===!0||qt(u)&&!u())return;const E=v.value&&Ar;E&&h(e,!0),(g.value||!E)&&m(C)},w=C=>{if(p.disabled===!0||!Ar)return;const E=v.value&&Ar;E&&h(e,!1),(g.value||!E)&&y(C)},S=C=>{ei(C)&&(p.disabled&&C?v.value&&h(e,!1):a.value!==C&&(C?m():y()))},x=()=>{a.value?w():b()};return Le(()=>p[t],S),l&&d.appContext.config.globalProperties.$route!==void 0&&Le(()=>({...d.proxy.$route}),()=>{l.value&&a.value&&w()}),Jt(()=>{S(p[t])}),{hide:w,show:b,toggle:x,hasUpdateHandler:v}},useModelToggleProps:i,useModelToggleEmits:r}},{useModelToggleProps:rze,useModelToggleEmits:ize,useModelToggle:oze}=nze("visible"),aze=rt({...uhe,...rze,...Ai,...vb,...The,showArrow:{type:Boolean,default:!0}}),sze=[...ize,"before-show","before-hide","show","hide","open","close"],lze=(t,e)=>tt(t)?t.includes(e):t===e,Qy=(t,e,n)=>r=>{lze(_(t),e)&&n(r)},ao=(t,e,{checkForDefaultPrevented:n=!0}={})=>i=>{const o=t?.(i);if(n===!1||!o)return e?.(i)},lY=t=>e=>e.pointerType==="mouse"?t(e):void 0,uze=ue({name:"ElTooltipTrigger"}),cze=ue({...uze,props:vb,setup(t,{expose:e}){const n=t,r=Ye("tooltip"),{controlled:i,id:o,open:a,onOpen:s,onClose:l,onToggle:u}=bt(Yz,void 0),c=F(null),f=()=>{if(_(i)||n.disabled)return!0},d=Hr(n,"trigger"),h=ao(f,Qy(d,"hover",w=>{s(w),n.focusOnTarget&&w.target&&Pt(()=>{h2(w.target,{preventScroll:!0})})})),p=ao(f,Qy(d,"hover",l)),v=ao(f,Qy(d,"click",w=>{w.button===0&&u(w)})),g=ao(f,Qy(d,"focus",s)),m=ao(f,Qy(d,"focus",l)),y=ao(f,Qy(d,"contextmenu",w=>{w.preventDefault(),u(w)})),b=ao(f,w=>{const{code:S}=w;n.triggerKeys.includes(S)&&(w.preventDefault(),u(w))});return e({triggerRef:c}),(w,S)=>(N(),de(_(x6e),{id:_(o),"virtual-ref":w.virtualRef,open:_(a),"virtual-triggering":w.virtualTriggering,class:q(_(r).e("trigger")),onBlur:_(m),onClick:_(v),onContextmenu:_(y),onFocus:_(g),onMouseenter:_(h),onMouseleave:_(p),onKeydown:_(b)},{default:$(()=>[Ee(w.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var fze=lt(cze,[["__file","trigger.vue"]]);const dze=ue({__name:"teleport",props:wI,setup(t){return(e,n)=>e.disabled?Ee(e.$slots,"default",{key:0}):(N(),de(oOe,{key:1,to:e.to},[Ee(e.$slots,"default")],8,["to"]))}});var hze=lt(dze,[["__file","teleport.vue"]]);const l_=kn(hze),Mhe=()=>{const t=oz(),e=Dz(),n=z(()=>`${t.value}-popper-container-${e.prefix}`),r=z(()=>`#${n.value}`);return{id:n,selector:r}},pze=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},vze=()=>{const{id:t,selector:e}=Mhe();return ZO(()=>{Ar&&(document.body.querySelector(e.value)||pze(t.value))}),{id:t,selector:e}},uY=t=>[...new Set(t)],Ts=t=>!t&&t!==0?[]:tt(t)?t:[t],gze=ue({name:"ElTooltipContent",inheritAttrs:!1}),mze=ue({...gze,props:Ai,setup(t,{expose:e}){const n=t,{selector:r}=Mhe(),i=Ye("tooltip"),o=F(),a=MM(()=>{var P;return(P=o.value)==null?void 0:P.popperContentRef});let s;const{controlled:l,id:u,open:c,trigger:f,onClose:d,onOpen:h,onShow:p,onHide:v,onBeforeShow:g,onBeforeHide:m}=bt(Yz,void 0),y=z(()=>n.transition||`${i.namespace.value}-fade-in-linear`),b=z(()=>n.persistent);ur(()=>{s?.()});const w=z(()=>_(b)?!0:_(c)),S=z(()=>n.disabled?!1:_(c)),x=z(()=>n.appendTo||r.value),C=z(()=>{var P;return(P=n.style)!=null?P:{}}),E=F(!0),T=()=>{v(),V()&&h2(document.body,{preventScroll:!0}),E.value=!0},A=()=>{if(_(l))return!0},k=ao(A,()=>{n.enterable&&_(f)==="hover"&&h()}),M=ao(A,()=>{_(f)==="hover"&&d()}),D=()=>{var P,B;(B=(P=o.value)==null?void 0:P.updatePopper)==null||B.call(P),g?.()},L=()=>{m?.()},I=()=>{p()},R=()=>{n.virtualTriggering||d()},V=P=>{var B;const j=(B=o.value)==null?void 0:B.popperContentRef,G=P?.relatedTarget||document.activeElement;return j?.contains(G)};return Le(()=>_(c),P=>{P?(E.value=!1,s=yz(a,()=>{if(_(l))return;Ts(_(f)).every(j=>j!=="hover"&&j!=="focus")&&d()})):s?.()},{flush:"post"}),Le(()=>n.content,()=>{var P,B;(B=(P=o.value)==null?void 0:P.updatePopper)==null||B.call(P)}),e({contentRef:o,isFocusInsideContent:V}),(P,B)=>(N(),de(_(l_),{disabled:!P.teleported,to:_(x)},{default:$(()=>[_(w)||!E.value?(N(),de(ka,{key:0,name:_(y),appear:!_(b),onAfterLeave:T,onBeforeEnter:D,onAfterEnter:I,onBeforeLeave:L,persisted:""},{default:$(()=>[An(O(_(Q8e),Fn({id:_(u),ref_key:"contentRef",ref:o},P.$attrs,{"aria-label":P.ariaLabel,"aria-hidden":E.value,"boundaries-padding":P.boundariesPadding,"fallback-placements":P.fallbackPlacements,"gpu-acceleration":P.gpuAcceleration,offset:P.offset,placement:P.placement,"popper-options":P.popperOptions,"arrow-offset":P.arrowOffset,strategy:P.strategy,effect:P.effect,enterable:P.enterable,pure:P.pure,"popper-class":P.popperClass,"popper-style":[P.popperStyle,_(C)],"reference-el":P.referenceEl,"trigger-target-el":P.triggerTargetEl,visible:_(S),"z-index":P.zIndex,onMouseenter:_(k),onMouseleave:_(M),onBlur:R,onClose:_(d)}),{default:$(()=>[Ee(P.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","arrow-offset","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"]),[[kr,_(S)]])]),_:3},8,["name","appear"])):ge("v-if",!0)]),_:3},8,["disabled","to"]))}});var yze=lt(mze,[["__file","content.vue"]]);const bze=ue({name:"ElTooltip"}),_ze=ue({...bze,props:aze,emits:sze,setup(t,{expose:e,emit:n}){const r=t;vze();const i=Ye("tooltip"),o=Ha(),a=F(),s=F(),l=()=>{var b;const w=_(a);w&&((b=w.popperInstanceRef)==null||b.update())},u=F(!1),c=F(),{show:f,hide:d,hasUpdateHandler:h}=oze({indicator:u,toggleReason:c}),{onOpen:p,onClose:v}=Gde({showAfter:Hr(r,"showAfter"),hideAfter:Hr(r,"hideAfter"),autoClose:Hr(r,"autoClose"),open:f,close:d}),g=z(()=>ei(r.visible)&&!h.value),m=z(()=>[i.b(),r.popperClass]);jn(Yz,{controlled:g,id:o,open:fy(u),trigger:Hr(r,"trigger"),onOpen:p,onClose:v,onToggle:b=>{_(u)?v(b):p(b)},onShow:()=>{n("show",c.value)},onHide:()=>{n("hide",c.value)},onBeforeShow:()=>{n("before-show",c.value)},onBeforeHide:()=>{n("before-hide",c.value)},updatePopper:l}),Le(()=>r.disabled,b=>{b&&u.value&&(u.value=!1)});const y=b=>{var w;return(w=s.value)==null?void 0:w.isFocusInsideContent(b)};return vce(()=>u.value&&d()),e({popperRef:a,contentRef:s,isFocusInsideContent:y,updatePopper:l,onOpen:p,onClose:v,hide:d}),(b,w)=>(N(),de(_(khe),{ref_key:"popperRef",ref:a,role:b.role},{default:$(()=>[O(fze,{disabled:b.disabled,trigger:b.trigger,"trigger-keys":b.triggerKeys,"virtual-ref":b.virtualRef,"virtual-triggering":b.virtualTriggering,"focus-on-target":b.focusOnTarget},{default:$(()=>[b.$slots.default?Ee(b.$slots,"default",{key:0}):ge("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering","focus-on-target"]),O(yze,{ref_key:"contentRef",ref:s,"aria-label":b.ariaLabel,"boundaries-padding":b.boundariesPadding,content:b.content,disabled:b.disabled,effect:b.effect,enterable:b.enterable,"fallback-placements":b.fallbackPlacements,"hide-after":b.hideAfter,"gpu-acceleration":b.gpuAcceleration,offset:b.offset,persistent:b.persistent,"popper-class":_(m),"popper-style":b.popperStyle,placement:b.placement,"popper-options":b.popperOptions,"arrow-offset":b.arrowOffset,pure:b.pure,"raw-content":b.rawContent,"reference-el":b.referenceEl,"trigger-target-el":b.triggerTargetEl,"show-after":b.showAfter,strategy:b.strategy,teleported:b.teleported,transition:b.transition,"virtual-triggering":b.virtualTriggering,"z-index":b.zIndex,"append-to":b.appendTo},{default:$(()=>[Ee(b.$slots,"content",{},()=>[b.rawContent?(N(),Q("span",{key:0,innerHTML:b.content},null,8,["innerHTML"])):(N(),Q("span",{key:1},Ne(b.content),1))]),b.showArrow?(N(),de(_(m6e),{key:0})):ge("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","arrow-offset","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var wze=lt(_ze,[["__file","tooltip.vue"]]);const ja=kn(wze),Sze=rt({...d2,valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:me(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:me([Function,Array]),default:Yr},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:Boolean,hideLoading:Boolean,teleported:Ai.teleported,appendTo:Ai.appendTo,highlightFirstItem:Boolean,fitInputWidth:Boolean}),xze={[_n]:t=>Ht(t)||Zt(t),[Fo]:t=>Ht(t)||Zt(t),[tr]:t=>Ht(t)||Zt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>Nn(t)},Phe="ElAutocomplete",Cze=ue({name:Phe,inheritAttrs:!1}),Eze=ue({...Cze,props:Sze,emits:xze,setup(t,{expose:e,emit:n}){const r=t,i=z(()=>Zs(r,Object.keys(d2))),o=Th(),a=pa(),s=Ye("autocomplete"),l=F(),u=F(),c=F(),f=F();let d=!1,h=!1;const p=F([]),v=F(-1),g=F(""),m=F(!1),y=F(!1),b=F(!1),w=Ha(),S=z(()=>o.style),x=z(()=>(p.value.length>0||b.value)&&m.value),C=z(()=>!r.hideLoading&&b.value),E=z(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),T=()=>{x.value&&(g.value=`${l.value.$el.offsetWidth}px`)},A=()=>{v.value=-1},k=async X=>{if(y.value)return;const H=U=>{b.value=!1,!y.value&&(tt(U)?(p.value=U,v.value=r.highlightFirstItem?0:-1):xo(Phe,"autocomplete suggestions must be an array"))};if(b.value=!0,tt(r.fetchSuggestions))H(r.fetchSuggestions);else{const U=await r.fetchSuggestions(X,H);tt(U)&&H(U)}},M=rl(k,r.debounce),D=X=>{const H=!!X;if(n(Fo,X),n(_n,X),y.value=!1,m.value||(m.value=H),!r.triggerOnFocus&&!X){y.value=!0,p.value=[];return}M(X)},L=X=>{var H;a.value||(((H=X.target)==null?void 0:H.tagName)!=="INPUT"||E.value.includes(document.activeElement))&&(m.value=!0)},I=X=>{n(tr,X)},R=X=>{var H;if(h)h=!1;else{m.value=!0,n("focus",X);const U=(H=r.modelValue)!=null?H:"";r.triggerOnFocus&&!d&&M(String(U))}},V=X=>{setTimeout(()=>{var H;if((H=c.value)!=null&&H.isFocusInsideContent()){h=!0;return}m.value&&G(),n("blur",X)})},P=()=>{m.value=!1,n(_n,""),n("clear")},B=async()=>{x.value&&v.value>=0&&v.value<p.value.length?ee(p.value[v.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),p.value=[],v.value=-1)},j=X=>{x.value&&(X.preventDefault(),X.stopPropagation(),G())},G=()=>{m.value=!1},W=()=>{var X;(X=l.value)==null||X.focus()},Z=()=>{var X;(X=l.value)==null||X.blur()},ee=async X=>{n(Fo,X[r.valueKey]),n(_n,X[r.valueKey]),n("select",X),p.value=[],v.value=-1},oe=X=>{if(!x.value||b.value)return;if(X<0){v.value=-1;return}X>=p.value.length&&(X=p.value.length-1);const H=u.value.querySelector(`.${s.be("suggestion","wrap")}`),ne=H.querySelectorAll(`.${s.be("suggestion","list")} li`)[X],J=H.scrollTop,{offsetTop:Y,scrollHeight:se}=ne;Y+se>J+H.clientHeight&&(H.scrollTop+=se),Y<J&&(H.scrollTop-=se),v.value=X,l.value.ref.setAttribute("aria-activedescendant",`${w.value}-item-${v.value}`)},ce=yz(f,()=>{var X;(X=c.value)!=null&&X.isFocusInsideContent()||x.value&&G()});return ur(()=>{ce?.()}),Jt(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${w.value}-item-${v.value}`),d=l.value.ref.hasAttribute("readonly")}),e({highlightedIndex:v,activated:m,loading:b,inputRef:l,popperRef:c,suggestions:p,handleSelect:ee,handleKeyEnter:B,focus:W,blur:Z,close:G,highlight:oe,getData:k}),(X,H)=>(N(),de(_(ja),{ref_key:"popperRef",ref:c,visible:_(x),placement:X.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[_(s).e("popper"),X.popperClass],teleported:X.teleported,"append-to":X.appendTo,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${_(s).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:T,onHide:A},{content:$(()=>[K("div",{ref_key:"regionRef",ref:u,class:q([_(s).b("suggestion"),_(s).is("loading",_(C))]),style:Ot({[X.fitInputWidth?"width":"minWidth"]:g.value,outline:"none"}),role:"region"},[X.$slots.header?(N(),Q("div",{key:0,class:q(_(s).be("suggestion","header")),onClick:an(()=>{},["stop"])},[Ee(X.$slots,"header")],10,["onClick"])):ge("v-if",!0),O(_(Mc),{id:_(w),tag:"ul","wrap-class":_(s).be("suggestion","wrap"),"view-class":_(s).be("suggestion","list"),role:"listbox"},{default:$(()=>[_(C)?(N(),Q("li",{key:0},[Ee(X.$slots,"loading",{},()=>[O(_(zt),{class:q(_(s).is("loading"))},{default:$(()=>[O(_(Kf))]),_:1},8,["class"])])])):(N(!0),Q(ft,{key:1},gn(p.value,(U,ne)=>(N(),Q("li",{id:`${_(w)}-item-${ne}`,key:ne,class:q({highlighted:v.value===ne}),role:"option","aria-selected":v.value===ne,onClick:J=>ee(U)},[Ee(X.$slots,"default",{item:U},()=>[Be(Ne(U[X.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"]),X.$slots.footer?(N(),Q("div",{key:1,class:q(_(s).be("suggestion","footer")),onClick:an(()=>{},["stop"])},[Ee(X.$slots,"footer")],10,["onClick"])):ge("v-if",!0)],6)]),default:$(()=>[K("div",{ref_key:"listboxRef",ref:f,class:q([_(s).b(),X.$attrs.class]),style:Ot(_(S)),role:"combobox","aria-haspopup":"listbox","aria-expanded":_(x),"aria-owns":_(w)},[O(_(Ps),Fn({ref_key:"inputRef",ref:l},Fn(_(i),X.$attrs),{"model-value":X.modelValue,disabled:_(a),onInput:D,onChange:I,onFocus:R,onBlur:V,onClear:P,onKeydown:[hi(an(U=>oe(v.value-1),["prevent"]),["up"]),hi(an(U=>oe(v.value+1),["prevent"]),["down"]),hi(B,["enter"]),hi(G,["tab"]),hi(j,["esc"])],onMousedown:L}),Ml({_:2},[X.$slots.prepend?{name:"prepend",fn:$(()=>[Ee(X.$slots,"prepend")])}:void 0,X.$slots.append?{name:"append",fn:$(()=>[Ee(X.$slots,"append")])}:void 0,X.$slots.prefix?{name:"prefix",fn:$(()=>[Ee(X.$slots,"prefix")])}:void 0,X.$slots.suffix?{name:"suffix",fn:$(()=>[Ee(X.$slots,"suffix")])}:void 0]),1040,["model-value","disabled","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","append-to","transition"]))}});var Tze=lt(Eze,[["__file","autocomplete.vue"]]);const Aze=kn(Tze),kze=rt({size:{type:[Number,String],values:ad,default:"",validator:t=>Zt(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Xr},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:me(String),default:"cover"}}),Mze={error:t=>t instanceof Event},Pze=ue({name:"ElAvatar"}),Oze=ue({...Pze,props:kze,emits:Mze,setup(t,{emit:e}){const n=t,r=Ye("avatar"),i=F(!1),o=z(()=>{const{size:u,icon:c,shape:f}=n,d=[r.b()];return Ht(u)&&d.push(r.m(u)),c&&d.push(r.m("icon")),f&&d.push(r.m(f)),d}),a=z(()=>{const{size:u}=n;return Zt(u)?r.cssVarBlock({size:Qi(u)||""}):void 0}),s=z(()=>({objectFit:n.fit}));Le(()=>n.src,()=>i.value=!1);function l(u){i.value=!0,e("error",u)}return(u,c)=>(N(),Q("span",{class:q(_(o)),style:Ot(_(a))},[(u.src||u.srcSet)&&!i.value?(N(),Q("img",{key:0,src:u.src,alt:u.alt,srcset:u.srcSet,style:Ot(_(s)),onError:l},null,44,["src","alt","srcset"])):u.icon?(N(),de(_(zt),{key:1},{default:$(()=>[(N(),de(Vn(u.icon)))]),_:1})):Ee(u.$slots,"default",{key:2})],6))}});var Ize=lt(Oze,[["__file","avatar.vue"]]);const Rze=kn(Ize),Lze={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},Dze={click:t=>t instanceof MouseEvent},Nze=(t,e,n)=>{const r=bi(),i=bi(),o=F(!1),a=()=>{r.value&&(o.value=r.value.scrollTop>=t.visibilityHeight)},s=u=>{var c;(c=r.value)==null||c.scrollTo({top:0,behavior:"smooth"}),e("click",u)},l=wde(a,300,!0);return Lr(i,"scroll",l),Jt(()=>{var u;i.value=document,r.value=document.documentElement,t.target&&(r.value=(u=document.querySelector(t.target))!=null?u:void 0,r.value||xo(n,`target does not exist: ${t.target}`),i.value=r.value),a()}),{visible:o,handleClick:s}},Ohe="ElBacktop",Bze=ue({name:Ohe}),$ze=ue({...Bze,props:Lze,emits:Dze,setup(t,{emit:e}){const n=t,r=Ye("backtop"),{handleClick:i,visible:o}=Nze(n,e,Ohe),a=z(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(s,l)=>(N(),de(ka,{name:`${_(r).namespace.value}-fade-in`},{default:$(()=>[_(o)?(N(),Q("div",{key:0,style:Ot(_(a)),class:q(_(r).b()),onClick:an(_(i),["stop"])},[Ee(s.$slots,"default",{},()=>[O(_(zt),{class:q(_(r).e("icon"))},{default:$(()=>[O(_(HFe))]),_:1},8,["class"])])],14,["onClick"])):ge("v-if",!0)]),_:3},8,["name"]))}});var Fze=lt($ze,[["__file","backtop.vue"]]);const Vze=kn(Fze),zze=rt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:me([String,Object,Array])},offset:{type:me(Array),default:[0,0]},badgeClass:{type:String}}),Hze=ue({name:"ElBadge"}),jze=ue({...Hze,props:zze,setup(t,{expose:e}){const n=t,r=Ye("badge"),i=z(()=>n.isDot?"":Zt(n.value)&&Zt(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),o=z(()=>{var a,s,l,u,c;return[{backgroundColor:n.color,marginRight:Qi(-((s=(a=n.offset)==null?void 0:a[0])!=null?s:0)),marginTop:Qi((u=(l=n.offset)==null?void 0:l[1])!=null?u:0)},(c=n.badgeStyle)!=null?c:{}]});return e({content:i}),(a,s)=>(N(),Q("div",{class:q(_(r).b())},[Ee(a.$slots,"default"),O(ka,{name:`${_(r).namespace.value}-zoom-in-center`,persisted:""},{default:$(()=>[An(K("sup",{class:q([_(r).e("content"),_(r).em("content",a.type),_(r).is("fixed",!!a.$slots.default),_(r).is("dot",a.isDot),_(r).is("hide-zero",!a.showZero&&n.value===0),a.badgeClass]),style:Ot(_(o))},[Ee(a.$slots,"content",{value:_(i)},()=>[Be(Ne(_(i)),1)])],6),[[kr,!a.hidden&&(_(i)||a.isDot||a.$slots.content)]])]),_:3},8,["name"])],2))}});var Gze=lt(jze,[["__file","badge.vue"]]);const Ihe=kn(Gze),Rhe=Symbol("breadcrumbKey"),Uze=rt({separator:{type:String,default:"/"},separatorIcon:{type:Xr}}),Wze=ue({name:"ElBreadcrumb"}),qze=ue({...Wze,props:Uze,setup(t){const e=t,{t:n}=Cr(),r=Ye("breadcrumb"),i=F();return jn(Rhe,e),Jt(()=>{const o=i.value.querySelectorAll(`.${r.e("item")}`);o.length&&o[o.length-1].setAttribute("aria-current","page")}),(o,a)=>(N(),Q("div",{ref_key:"breadcrumb",ref:i,class:q(_(r).b()),"aria-label":_(n)("el.breadcrumb.label"),role:"navigation"},[Ee(o.$slots,"default")],10,["aria-label"]))}});var Kze=lt(qze,[["__file","breadcrumb.vue"]]);const Yze=rt({to:{type:me([String,Object]),default:""},replace:Boolean}),Xze=ue({name:"ElBreadcrumbItem"}),Zze=ue({...Xze,props:Yze,setup(t){const e=t,n=Un(),r=bt(Rhe,void 0),i=Ye("breadcrumb"),o=n.appContext.config.globalProperties.$router,a=F(),s=()=>{!e.to||!o||(e.replace?o.replace(e.to):o.push(e.to))};return(l,u)=>{var c,f;return N(),Q("span",{class:q(_(i).e("item"))},[K("span",{ref_key:"link",ref:a,class:q([_(i).e("inner"),_(i).is("link",!!l.to)]),role:"link",onClick:s},[Ee(l.$slots,"default")],2),(c=_(r))!=null&&c.separatorIcon?(N(),de(_(zt),{key:0,class:q(_(i).e("separator"))},{default:$(()=>[(N(),de(Vn(_(r).separatorIcon)))]),_:1},8,["class"])):(N(),Q("span",{key:1,class:q(_(i).e("separator")),role:"presentation"},Ne((f=_(r))==null?void 0:f.separator),3))],2)}}});var Lhe=lt(Zze,[["__file","breadcrumb-item.vue"]]);const Jze=kn(Kze,{BreadcrumbItem:Lhe}),Qze=Wi(Lhe),Dhe=Symbol("buttonGroupContextKey"),Wd=({from:t,replacement:e,scope:n,version:r,ref:i,type:o="API"},a)=>{Le(()=>_(a),s=>{},{immediate:!0})},eHe=(t,e)=>{Wd({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},z(()=>t.type==="text"));const n=bt(Dhe,void 0),r=s_("button"),{form:i}=Ua(),o=Po(z(()=>n?.size)),a=pa(),s=F(),l=Co(),u=z(()=>{var m;return t.type||n?.type||((m=r.value)==null?void 0:m.type)||""}),c=z(()=>{var m,y,b;return(b=(y=t.autoInsertSpace)!=null?y:(m=r.value)==null?void 0:m.autoInsertSpace)!=null?b:!1}),f=z(()=>{var m,y,b;return(b=(y=t.plain)!=null?y:(m=r.value)==null?void 0:m.plain)!=null?b:!1}),d=z(()=>{var m,y,b;return(b=(y=t.round)!=null?y:(m=r.value)==null?void 0:m.round)!=null?b:!1}),h=z(()=>{var m,y,b;return(b=(y=t.text)!=null?y:(m=r.value)==null?void 0:m.text)!=null?b:!1}),p=z(()=>t.tag==="button"?{ariaDisabled:a.value||t.loading,disabled:a.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),v=z(()=>{var m;const y=(m=l.default)==null?void 0:m.call(l);if(c.value&&y?.length===1){const b=y[0];if(b?.type===J1){const w=b.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(w.trim())}}return!1});return{_disabled:a,_size:o,_type:u,_ref:s,_props:p,_plain:f,_round:d,_text:h,shouldAddSpace:v,handleClick:m=>{if(a.value||t.loading){m.stopPropagation();return}t.nativeType==="reset"&&i?.resetFields(),e("click",m)}}},fF=["default","primary","success","warning","info","danger","text",""],tHe=["button","submit","reset"],dF=rt({size:Ho,disabled:Boolean,type:{type:String,values:fF,default:""},icon:{type:Xr},nativeType:{type:String,values:tHe,default:"button"},loading:Boolean,loadingIcon:{type:Xr,default:()=>Kf},plain:{type:Boolean,default:void 0},text:{type:Boolean,default:void 0},link:Boolean,bg:Boolean,autofocus:Boolean,round:{type:Boolean,default:void 0},circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:me([String,Object]),default:"button"}}),nHe={click:t=>t instanceof MouseEvent};function os(t,e){rHe(t)&&(t="100%");var n=iHe(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function iT(t){return Math.min(1,Math.max(0,t))}function rHe(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function iHe(t){return typeof t=="string"&&t.indexOf("%")!==-1}function Nhe(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function oT(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Kg(t){return t.length===1?"0"+t:String(t)}function oHe(t,e,n){return{r:os(t,255)*255,g:os(e,255)*255,b:os(n,255)*255}}function cY(t,e,n){t=os(t,255),e=os(e,255),n=os(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,a=0,s=(r+i)/2;if(r===i)a=0,o=0;else{var l=r-i;switch(a=s>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,l:s}}function PD(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function aHe(t,e,n){var r,i,o;if(t=os(t,360),e=os(e,100),n=os(n,100),e===0)i=n,o=n,r=n;else{var a=n<.5?n*(1+e):n+e-n*e,s=2*n-a;r=PD(s,a,t+1/3),i=PD(s,a,t),o=PD(s,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function fY(t,e,n){t=os(t,255),e=os(e,255),n=os(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,a=r,s=r-i,l=r===0?0:s/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/s+(e<n?6:0);break;case e:o=(n-t)/s+2;break;case n:o=(t-e)/s+4;break}o/=6}return{h:o,s:l,v:a}}function sHe(t,e,n){t=os(t,360)*6,e=os(e,100),n=os(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),l=r%6,u=[n,a,o,o,s,n][l],c=[s,n,n,a,o,o][l],f=[o,o,s,n,n,a][l];return{r:u*255,g:c*255,b:f*255}}function dY(t,e,n,r){var i=[Kg(Math.round(t).toString(16)),Kg(Math.round(e).toString(16)),Kg(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function lHe(t,e,n,r,i){var o=[Kg(Math.round(t).toString(16)),Kg(Math.round(e).toString(16)),Kg(Math.round(n).toString(16)),Kg(uHe(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function uHe(t){return Math.round(parseFloat(t)*255).toString(16)}function hY(t){return Nl(t)/255}function Nl(t){return parseInt(t,16)}function cHe(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var hF={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function fHe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return typeof t=="string"&&(t=pHe(t)),typeof t=="object"&&(bd(t.r)&&bd(t.g)&&bd(t.b)?(e=oHe(t.r,t.g,t.b),a=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):bd(t.h)&&bd(t.s)&&bd(t.v)?(r=oT(t.s),i=oT(t.v),e=sHe(t.h,r,i),a=!0,s="hsv"):bd(t.h)&&bd(t.s)&&bd(t.l)&&(r=oT(t.s),o=oT(t.l),e=aHe(t.h,r,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=Nhe(n),{ok:a,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var dHe="[-\\+]?\\d+%?",hHe="[-\\+]?\\d*\\.\\d+%?",Cp="(?:".concat(hHe,")|(?:").concat(dHe,")"),OD="[\\s|\\(]+(".concat(Cp,")[,|\\s]+(").concat(Cp,")[,|\\s]+(").concat(Cp,")\\s*\\)?"),ID="[\\s|\\(]+(".concat(Cp,")[,|\\s]+(").concat(Cp,")[,|\\s]+(").concat(Cp,")[,|\\s]+(").concat(Cp,")\\s*\\)?"),lc={CSS_UNIT:new RegExp(Cp),rgb:new RegExp("rgb"+OD),rgba:new RegExp("rgba"+ID),hsl:new RegExp("hsl"+OD),hsla:new RegExp("hsla"+ID),hsv:new RegExp("hsv"+OD),hsva:new RegExp("hsva"+ID),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function pHe(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(hF[t])t=hF[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=lc.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=lc.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=lc.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=lc.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=lc.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=lc.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=lc.hex8.exec(t),n?{r:Nl(n[1]),g:Nl(n[2]),b:Nl(n[3]),a:hY(n[4]),format:e?"name":"hex8"}:(n=lc.hex6.exec(t),n?{r:Nl(n[1]),g:Nl(n[2]),b:Nl(n[3]),format:e?"name":"hex"}:(n=lc.hex4.exec(t),n?{r:Nl(n[1]+n[1]),g:Nl(n[2]+n[2]),b:Nl(n[3]+n[3]),a:hY(n[4]+n[4]),format:e?"name":"hex8"}:(n=lc.hex3.exec(t),n?{r:Nl(n[1]+n[1]),g:Nl(n[2]+n[2]),b:Nl(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function bd(t){return!!lc.CSS_UNIT.exec(String(t))}var q0=(function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=cHe(e)),this.originalInput=e;var i=fHe(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,o=e.r/255,a=e.g/255,s=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=Nhe(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=fY(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=fY(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=cY(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=cY(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),dY(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),lHe(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(os(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(os(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+dY(this.r,this.g,this.b,!1),n=0,r=Object.entries(hF);n<r.length;n++){var i=r[n],o=i[0],a=i[1];if(e===a)return o}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=iT(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=iT(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=iT(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=iT(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100,a={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new t(a)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(new t({h:r,s:i,v:o})),o=(o+s)%1;return a},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,a=1;a<e;a++)i.push(new t({h:(r+a*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t})();function qh(t,e=20){return t.mix("#141414",e).toString()}function vHe(t){const e=pa(),n=Ye("button");return z(()=>{let r={},i=t.color;if(i){const o=i.match(/var\((.*?)\)/);o&&(i=window.getComputedStyle(window.document.documentElement).getPropertyValue(o[1]));const a=new q0(i),s=t.dark?a.tint(20).toString():qh(a,20);if(t.plain)r=n.cssVarBlock({"bg-color":t.dark?qh(a,90):a.tint(90).toString(),"text-color":i,"border-color":t.dark?qh(a,50):a.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":s,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":s}),e.value&&(r[n.cssVarBlockName("disabled-bg-color")]=t.dark?qh(a,90):a.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=t.dark?qh(a,50):a.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=t.dark?qh(a,80):a.tint(80).toString());else{const l=t.dark?qh(a,30):a.tint(30).toString(),u=a.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":i,"text-color":u,"border-color":i,"hover-bg-color":l,"hover-text-color":u,"hover-border-color":l,"active-bg-color":s,"active-border-color":s}),e.value){const c=t.dark?qh(a,50):a.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=c,r[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=c}}}return r})}const gHe=ue({name:"ElButton"}),mHe=ue({...gHe,props:dF,emits:nHe,setup(t,{expose:e,emit:n}){const r=t,i=vHe(r),o=Ye("button"),{_ref:a,_size:s,_type:l,_disabled:u,_props:c,_plain:f,_round:d,_text:h,shouldAddSpace:p,handleClick:v}=eHe(r,n),g=z(()=>[o.b(),o.m(l.value),o.m(s.value),o.is("disabled",u.value),o.is("loading",r.loading),o.is("plain",f.value),o.is("round",d.value),o.is("circle",r.circle),o.is("text",h.value),o.is("link",r.link),o.is("has-bg",r.bg)]);return e({ref:a,size:s,type:l,disabled:u,shouldAddSpace:p}),(m,y)=>(N(),de(Vn(m.tag),Fn({ref_key:"_ref",ref:a},_(c),{class:_(g),style:_(i),onClick:_(v)}),{default:$(()=>[m.loading?(N(),Q(ft,{key:0},[m.$slots.loading?Ee(m.$slots,"loading",{key:0}):(N(),de(_(zt),{key:1,class:q(_(o).is("loading"))},{default:$(()=>[(N(),de(Vn(m.loadingIcon)))]),_:1},8,["class"]))],64)):m.icon||m.$slots.icon?(N(),de(_(zt),{key:1},{default:$(()=>[m.icon?(N(),de(Vn(m.icon),{key:0})):Ee(m.$slots,"icon",{key:1})]),_:3})):ge("v-if",!0),m.$slots.default?(N(),Q("span",{key:2,class:q({[_(o).em("text","expand")]:_(p)})},[Ee(m.$slots,"default")],2)):ge("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var yHe=lt(mHe,[["__file","button.vue"]]);const bHe={size:dF.size,type:dF.type},_He=ue({name:"ElButtonGroup"}),wHe=ue({..._He,props:bHe,setup(t){const e=t;jn(Dhe,Bn({size:Hr(e,"size"),type:Hr(e,"type")}));const n=Ye("button");return(r,i)=>(N(),Q("div",{class:q(_(n).b("group"))},[Ee(r.$slots,"default")],2))}});var Bhe=lt(wHe,[["__file","button-group.vue"]]);const Ea=kn(yHe,{ButtonGroup:Bhe}),$he=Wi(Bhe);var K0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function SHe(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ik={exports:{}},xHe=ik.exports,pY;function CHe(){return pY||(pY=1,(function(t,e){(function(n,r){t.exports=r()})(xHe,(function(){var n=1e3,r=6e4,i=36e5,o="millisecond",a="second",s="minute",l="hour",u="day",c="week",f="month",d="quarter",h="year",p="date",v="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(L){var I=["th","st","nd","rd"],R=L%100;return"["+L+(I[(R-20)%10]||I[R]||I[0])+"]"}},b=function(L,I,R){var V=String(L);return!V||V.length>=I?L:""+Array(I+1-V.length).join(R)+L},w={s:b,z:function(L){var I=-L.utcOffset(),R=Math.abs(I),V=Math.floor(R/60),P=R%60;return(I<=0?"+":"-")+b(V,2,"0")+":"+b(P,2,"0")},m:function L(I,R){if(I.date()<R.date())return-L(R,I);var V=12*(R.year()-I.year())+(R.month()-I.month()),P=I.clone().add(V,f),B=R-P<0,j=I.clone().add(V+(B?-1:1),f);return+(-(V+(R-P)/(B?P-j:j-P))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:f,y:h,w:c,d:u,D:p,h:l,m:s,s:a,ms:o,Q:d}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return L===void 0}},S="en",x={};x[S]=y;var C="$isDayjsObject",E=function(L){return L instanceof M||!(!L||!L[C])},T=function L(I,R,V){var P;if(!I)return S;if(typeof I=="string"){var B=I.toLowerCase();x[B]&&(P=B),R&&(x[B]=R,P=B);var j=I.split("-");if(!P&&j.length>1)return L(j[0])}else{var G=I.name;x[G]=I,P=G}return!V&&P&&(S=P),P||!V&&S},A=function(L,I){if(E(L))return L.clone();var R=typeof I=="object"?I:{};return R.date=L,R.args=arguments,new M(R)},k=w;k.l=T,k.i=E,k.w=function(L,I){return A(L,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})};var M=(function(){function L(R){this.$L=T(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[C]=!0}var I=L.prototype;return I.parse=function(R){this.$d=(function(V){var P=V.date,B=V.utc;if(P===null)return new Date(NaN);if(k.u(P))return new Date;if(P instanceof Date)return new Date(P);if(typeof P=="string"&&!/Z$/i.test(P)){var j=P.match(g);if(j){var G=j[2]-1||0,W=(j[7]||"0").substring(0,3);return B?new Date(Date.UTC(j[1],G,j[3]||1,j[4]||0,j[5]||0,j[6]||0,W)):new Date(j[1],G,j[3]||1,j[4]||0,j[5]||0,j[6]||0,W)}}return new Date(P)})(R),this.init()},I.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},I.$utils=function(){return k},I.isValid=function(){return this.$d.toString()!==v},I.isSame=function(R,V){var P=A(R);return this.startOf(V)<=P&&P<=this.endOf(V)},I.isAfter=function(R,V){return A(R)<this.startOf(V)},I.isBefore=function(R,V){return this.endOf(V)<A(R)},I.$g=function(R,V,P){return k.u(R)?this[V]:this.set(P,R)},I.unix=function(){return Math.floor(this.valueOf()/1e3)},I.valueOf=function(){return this.$d.getTime()},I.startOf=function(R,V){var P=this,B=!!k.u(V)||V,j=k.p(R),G=function(U,ne){var J=k.w(P.$u?Date.UTC(P.$y,ne,U):new Date(P.$y,ne,U),P);return B?J:J.endOf(u)},W=function(U,ne){return k.w(P.toDate()[U].apply(P.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(ne)),P)},Z=this.$W,ee=this.$M,oe=this.$D,ce="set"+(this.$u?"UTC":"");switch(j){case h:return B?G(1,0):G(31,11);case f:return B?G(1,ee):G(0,ee+1);case c:var X=this.$locale().weekStart||0,H=(Z<X?Z+7:Z)-X;return G(B?oe-H:oe+(6-H),ee);case u:case p:return W(ce+"Hours",0);case l:return W(ce+"Minutes",1);case s:return W(ce+"Seconds",2);case a:return W(ce+"Milliseconds",3);default:return this.clone()}},I.endOf=function(R){return this.startOf(R,!1)},I.$set=function(R,V){var P,B=k.p(R),j="set"+(this.$u?"UTC":""),G=(P={},P[u]=j+"Date",P[p]=j+"Date",P[f]=j+"Month",P[h]=j+"FullYear",P[l]=j+"Hours",P[s]=j+"Minutes",P[a]=j+"Seconds",P[o]=j+"Milliseconds",P)[B],W=B===u?this.$D+(V-this.$W):V;if(B===f||B===h){var Z=this.clone().set(p,1);Z.$d[G](W),Z.init(),this.$d=Z.set(p,Math.min(this.$D,Z.daysInMonth())).$d}else G&&this.$d[G](W);return this.init(),this},I.set=function(R,V){return this.clone().$set(R,V)},I.get=function(R){return this[k.p(R)]()},I.add=function(R,V){var P,B=this;R=Number(R);var j=k.p(V),G=function(ee){var oe=A(B);return k.w(oe.date(oe.date()+Math.round(ee*R)),B)};if(j===f)return this.set(f,this.$M+R);if(j===h)return this.set(h,this.$y+R);if(j===u)return G(1);if(j===c)return G(7);var W=(P={},P[s]=r,P[l]=i,P[a]=n,P)[j]||1,Z=this.$d.getTime()+R*W;return k.w(Z,this)},I.subtract=function(R,V){return this.add(-1*R,V)},I.format=function(R){var V=this,P=this.$locale();if(!this.isValid())return P.invalidDate||v;var B=R||"YYYY-MM-DDTHH:mm:ssZ",j=k.z(this),G=this.$H,W=this.$m,Z=this.$M,ee=P.weekdays,oe=P.months,ce=P.meridiem,X=function(ne,J,Y,se){return ne&&(ne[J]||ne(V,B))||Y[J].slice(0,se)},H=function(ne){return k.s(G%12||12,ne,"0")},U=ce||function(ne,J,Y){var se=ne<12?"AM":"PM";return Y?se.toLowerCase():se};return B.replace(m,(function(ne,J){return J||(function(Y){switch(Y){case"YY":return String(V.$y).slice(-2);case"YYYY":return k.s(V.$y,4,"0");case"M":return Z+1;case"MM":return k.s(Z+1,2,"0");case"MMM":return X(P.monthsShort,Z,oe,3);case"MMMM":return X(oe,Z);case"D":return V.$D;case"DD":return k.s(V.$D,2,"0");case"d":return String(V.$W);case"dd":return X(P.weekdaysMin,V.$W,ee,2);case"ddd":return X(P.weekdaysShort,V.$W,ee,3);case"dddd":return ee[V.$W];case"H":return String(G);case"HH":return k.s(G,2,"0");case"h":return H(1);case"hh":return H(2);case"a":return U(G,W,!0);case"A":return U(G,W,!1);case"m":return String(W);case"mm":return k.s(W,2,"0");case"s":return String(V.$s);case"ss":return k.s(V.$s,2,"0");case"SSS":return k.s(V.$ms,3,"0");case"Z":return j}return null})(ne)||j.replace(":","")}))},I.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},I.diff=function(R,V,P){var B,j=this,G=k.p(V),W=A(R),Z=(W.utcOffset()-this.utcOffset())*r,ee=this-W,oe=function(){return k.m(j,W)};switch(G){case h:B=oe()/12;break;case f:B=oe();break;case d:B=oe()/3;break;case c:B=(ee-Z)/6048e5;break;case u:B=(ee-Z)/864e5;break;case l:B=ee/i;break;case s:B=ee/r;break;case a:B=ee/n;break;default:B=ee}return P?B:k.a(B)},I.daysInMonth=function(){return this.endOf(f).$D},I.$locale=function(){return x[this.$L]},I.locale=function(R,V){if(!R)return this.$L;var P=this.clone(),B=T(R,V,!0);return B&&(P.$L=B),P},I.clone=function(){return k.w(this.$d,this)},I.toDate=function(){return new Date(this.valueOf())},I.toJSON=function(){return this.isValid()?this.toISOString():null},I.toISOString=function(){return this.$d.toISOString()},I.toString=function(){return this.$d.toUTCString()},L})(),D=M.prototype;return A.prototype=D,[["$ms",o],["$s",a],["$m",s],["$H",l],["$W",u],["$M",f],["$y",h],["$D",p]].forEach((function(L){D[L[1]]=function(I){return this.$g(I,L[0],L[1])}})),A.extend=function(L,I){return L.$i||(L(I,M,A),L.$i=!0),A},A.locale=T,A.isDayjs=E,A.unix=function(L){return A(1e3*L)},A.en=x[S],A.Ls=x,A.p={},A}))})(ik)),ik.exports}var EHe=CHe();const Ln=nu(EHe),RD=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],Gp=t=>Array.from(Array.from({length:t}).keys()),Fhe=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Vhe=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),vY=function(t,e){const n=Zp(t),r=Zp(e);return n&&r?t.getTime()===e.getTime():!n&&!r?t===e:!1},zhe=function(t,e){const n=tt(t),r=tt(e);return n&&r?t.length!==e.length?!1:t.every((i,o)=>vY(i,e[o])):!n&&!r?vY(t,e):!1},gY=function(t,e,n){const r=Fl(e)||e==="x"?Ln(t).locale(n):Ln(t,e).locale(n);return r.isValid()?r:void 0},mY=function(t,e,n){return Fl(e)?t:e==="x"?+t:Ln(t).locale(n).format(e)},LD=(t,e)=>{var n;const r=[],i=e?.();for(let o=0;o<t;o++)r.push((n=i?.includes(o))!=null?n:!1);return r},ok=t=>tt(t)?t.map(e=>e.toDate()):t.toDate(),THe=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return Gp(e).map((r,i)=>n-(e-i-1))},AHe=t=>{const e=t.daysInMonth();return Gp(e).map((n,r)=>r+1)},kHe=t=>Gp(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),MHe=rt({selectedDay:{type:me(Object)},range:{type:me(Array)},date:{type:me(Object),required:!0},hideHeader:{type:Boolean}}),PHe={pick:t=>Nn(t)};var ak={exports:{}},OHe=ak.exports,yY;function IHe(){return yY||(yY=1,(function(t,e){(function(n,r){t.exports=r()})(OHe,(function(){return function(n,r,i){var o=r.prototype,a=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,d,h,p,v){var g=f.name?f:f.$locale(),m=a(g[d]),y=a(g[h]),b=m||y.map((function(S){return S.slice(0,p)}));if(!v)return b;var w=g.weekStart;return b.map((function(S,x){return b[(x+(w||0))%7]}))},l=function(){return i.Ls[i.locale()]},u=function(f,d){return f.formats[d]||(function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(p,v,g){return v||g.slice(1)}))})(f.formats[d.toUpperCase()])},c=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):s(f,"months")},monthsShort:function(d){return d?d.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):s(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return u(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return c.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(d){return u(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return s(l(),"months")},i.monthsShort=function(){return s(l(),"monthsShort","months",3)},i.weekdays=function(f){return s(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}}))})(ak)),ak.exports}var RHe=IHe();const Hhe=nu(RHe),LHe=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],DD=["sun","mon","tue","wed","thu","fri","sat"],DHe=(t,e)=>{Ln.extend(Hhe);const n=Ln.localeData().firstDayOfWeek(),{t:r,lang:i}=Cr(),o=Ln().locale(i.value),a=z(()=>!!t.range&&!!t.range.length),s=z(()=>{let d=[];if(a.value){const[h,p]=t.range,v=Gp(p.date()-h.date()+1).map(y=>({text:h.date()+y,type:"current"}));let g=v.length%7;g=g===0?0:7-g;const m=Gp(g).map((y,b)=>({text:b+1,type:"next"}));d=v.concat(m)}else{const h=t.date.startOf("month").day(),p=THe(t.date,(h-n+7)%7).map(y=>({text:y,type:"prev"})),v=AHe(t.date).map(y=>({text:y,type:"current"}));d=[...p,...v];const g=7-(d.length%7||7),m=Gp(g).map((y,b)=>({text:b+1,type:"next"}));d=d.concat(m)}return kHe(d)}),l=z(()=>{const d=n;return d===0?DD.map(h=>r(`el.datepicker.weeks.${h}`)):DD.slice(d).concat(DD.slice(0,d)).map(h=>r(`el.datepicker.weeks.${h}`))}),u=(d,h)=>{switch(h){case"prev":return t.date.startOf("month").subtract(1,"month").date(d);case"next":return t.date.startOf("month").add(1,"month").date(d);case"current":return t.date.date(d)}};return{now:o,isInRange:a,rows:s,weekDays:l,getFormattedDate:u,handlePickDay:({text:d,type:h})=>{const p=u(d,h);e("pick",p)},getSlotData:({text:d,type:h})=>{const p=u(d,h);return{isSelected:p.isSame(t.selectedDay),type:`${h}-month`,day:p.format("YYYY-MM-DD"),date:p.toDate()}}}},NHe=ue({name:"DateTable"}),BHe=ue({...NHe,props:MHe,emits:PHe,setup(t,{expose:e,emit:n}){const r=t,{isInRange:i,now:o,rows:a,weekDays:s,getFormattedDate:l,handlePickDay:u,getSlotData:c}=DHe(r,n),f=Ye("calendar-table"),d=Ye("calendar-day"),h=({text:p,type:v})=>{const g=[v];if(v==="current"){const m=l(p,v);m.isSame(r.selectedDay,"day")&&g.push(d.is("selected")),m.isSame(o,"day")&&g.push(d.is("today"))}return g};return e({getFormattedDate:l}),(p,v)=>(N(),Q("table",{class:q([_(f).b(),_(f).is("range",_(i))]),cellspacing:"0",cellpadding:"0"},[p.hideHeader?ge("v-if",!0):(N(),Q("thead",{key:0},[K("tr",null,[(N(!0),Q(ft,null,gn(_(s),g=>(N(),Q("th",{key:g,scope:"col"},Ne(g),1))),128))])])),K("tbody",null,[(N(!0),Q(ft,null,gn(_(a),(g,m)=>(N(),Q("tr",{key:m,class:q({[_(f).e("row")]:!0,[_(f).em("row","hide-border")]:m===0&&p.hideHeader})},[(N(!0),Q(ft,null,gn(g,(y,b)=>(N(),Q("td",{key:b,class:q(h(y)),onClick:w=>_(u)(y)},[K("div",{class:q(_(d).b())},[Ee(p.$slots,"date-cell",{data:_(c)(y)},()=>[K("span",null,Ne(y.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var bY=lt(BHe,[["__file","date-table.vue"]]);const $He=(t,e)=>{const n=t.endOf("month"),r=e.startOf("month"),o=n.isSame(r,"week")?r.add(1,"week"):r;return[[t,n],[o.startOf("week"),e]]},FHe=(t,e)=>{const n=t.endOf("month"),r=t.add(1,"month").startOf("month"),i=n.isSame(r,"week")?r.add(1,"week"):r,o=i.endOf("month"),a=e.startOf("month"),s=o.isSame(a,"week")?a.add(1,"week"):a;return[[t,n],[i.startOf("week"),o],[s.startOf("week"),e]]},VHe=(t,e,n)=>{const{lang:r}=Cr(),i=F(),o=Ln().locale(r.value),a=z({get(){return t.modelValue?l.value:i.value},set(g){if(!g)return;i.value=g;const m=g.toDate();e(Fo,m),e(_n,m)}}),s=z(()=>{if(!t.range||!tt(t.range)||t.range.length!==2||t.range.some(b=>!Zp(b)))return[];const g=t.range.map(b=>Ln(b).locale(r.value)),[m,y]=g;return m.isAfter(y)?[]:m.isSame(y,"month")?h(m,y):m.add(1,"month").month()!==y.month()?[]:h(m,y)}),l=z(()=>t.modelValue?Ln(t.modelValue).locale(r.value):a.value||(s.value.length?s.value[0][0]:o)),u=z(()=>l.value.subtract(1,"month").date(1)),c=z(()=>l.value.add(1,"month").date(1)),f=z(()=>l.value.subtract(1,"year").date(1)),d=z(()=>l.value.add(1,"year").date(1)),h=(g,m)=>{const y=g.startOf("week"),b=m.endOf("week"),w=y.get("month"),S=b.get("month");return w===S?[[y,b]]:(w+1)%12===S?$He(y,b):w+2===S||(w+1)%11===S?FHe(y,b):[]},p=g=>{a.value=g};return{calculateValidatedDateRange:h,date:l,realSelectedDay:a,pickDay:p,selectDate:g=>{const y={"prev-month":u.value,"next-month":c.value,"prev-year":f.value,"next-year":d.value,today:o}[g];y.isSame(l.value,"day")||p(y)},validatedRange:s}},zHe=t=>tt(t)&&t.length===2&&t.every(e=>Zp(e)),HHe=rt({modelValue:{type:Date},range:{type:me(Array),validator:zHe}}),jHe={[_n]:t=>Zp(t),[Fo]:t=>Zp(t)},GHe="ElCalendar",UHe=ue({name:GHe}),WHe=ue({...UHe,props:HHe,emits:jHe,setup(t,{expose:e,emit:n}){const r=t,i=Ye("calendar"),{calculateValidatedDateRange:o,date:a,pickDay:s,realSelectedDay:l,selectDate:u,validatedRange:c}=VHe(r,n),{t:f}=Cr(),d=z(()=>{const h=`el.datepicker.month${a.value.format("M")}`;return`${a.value.year()} ${f("el.datepicker.year")} ${f(h)}`});return e({selectedDay:l,pickDay:s,selectDate:u,calculateValidatedDateRange:o}),(h,p)=>(N(),Q("div",{class:q(_(i).b())},[K("div",{class:q(_(i).e("header"))},[Ee(h.$slots,"header",{date:_(d)},()=>[K("div",{class:q(_(i).e("title"))},Ne(_(d)),3),_(c).length===0?(N(),Q("div",{key:0,class:q(_(i).e("button-group"))},[O(_($he),null,{default:$(()=>[O(_(Ea),{size:"small",onClick:v=>_(u)("prev-month")},{default:$(()=>[Be(Ne(_(f)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),O(_(Ea),{size:"small",onClick:v=>_(u)("today")},{default:$(()=>[Be(Ne(_(f)("el.datepicker.today")),1)]),_:1},8,["onClick"]),O(_(Ea),{size:"small",onClick:v=>_(u)("next-month")},{default:$(()=>[Be(Ne(_(f)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):ge("v-if",!0)])],2),_(c).length===0?(N(),Q("div",{key:0,class:q(_(i).e("body"))},[O(bY,{date:_(a),"selected-day":_(l),onPick:_(s)},Ml({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:$(v=>[Ee(h.$slots,"date-cell",Sl(Wf(v)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(N(),Q("div",{key:1,class:q(_(i).e("body"))},[(N(!0),Q(ft,null,gn(_(c),(v,g)=>(N(),de(bY,{key:g,date:v[0],"selected-day":_(l),range:v,"hide-header":g!==0,onPick:_(s)},Ml({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:$(m=>[Ee(h.$slots,"date-cell",Sl(Wf(m)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var qHe=lt(WHe,[["__file","calendar.vue"]]);const KHe=kn(qHe),YHe=rt({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:me([String,Object,Array]),default:""},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:["always","hover","never"],default:void 0}}),XHe=ue({name:"ElCard"}),ZHe=ue({...XHe,props:YHe,setup(t){const e=s_("card"),n=Ye("card");return(r,i)=>{var o;return N(),Q("div",{class:q([_(n).b(),_(n).is(`${r.shadow||((o=_(e))==null?void 0:o.shadow)||"always"}-shadow`)])},[r.$slots.header||r.header?(N(),Q("div",{key:0,class:q([_(n).e("header"),r.headerClass])},[Ee(r.$slots,"header",{},()=>[Be(Ne(r.header),1)])],2)):ge("v-if",!0),K("div",{class:q([_(n).e("body"),r.bodyClass]),style:Ot(r.bodyStyle)},[Ee(r.$slots,"default")],6),r.$slots.footer||r.footer?(N(),Q("div",{key:1,class:q([_(n).e("footer"),r.footerClass])},[Ee(r.$slots,"footer",{},()=>[Be(Ne(r.footer),1)])],2)):ge("v-if",!0)],2)}}});var JHe=lt(ZHe,[["__file","card.vue"]]);const QHe=kn(JHe),eje=rt({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),tje={change:(t,e)=>[t,e].every(Zt)},jhe=Symbol("carouselContextKey"),pF="ElCarouselItem";var yu=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(yu||{});function vF(t){return wi(t)&&t.type===ft}function nje(t){return wi(t)&&t.type===yo}function rje(t){return wi(t)&&!vF(t)&&!nje(t)}const ije=t=>{if(!wi(t))return{};const e=t.props||{},n=(wi(t.type)?t.type.props:void 0)||{},r={};return Object.keys(n).forEach(i=>{Rr(n[i],"default")&&(r[i]=n[i].default)}),Object.keys(e).forEach(i=>{r[nl(i)]=e[i]}),r},oje=t=>{if(!tt(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},Pf=t=>{const e=tt(t)?t:[t],n=[];return e.forEach(r=>{var i;tt(r)?n.push(...Pf(r)):wi(r)&&((i=r.component)!=null&&i.subTree)?n.push(r,...Pf(r.component.subTree)):wi(r)&&tt(r.children)?n.push(...Pf(r.children)):wi(r)&&r.shapeFlag===2?n.push(...Pf(r.type())):n.push(r)}),n},aje=(t,e,n)=>Pf(t.subTree).filter(o=>{var a;return wi(o)&&((a=o.type)==null?void 0:a.name)===e&&!!o.component}).map(o=>o.component.uid).map(o=>n[o]).filter(o=>!!o),SI=(t,e)=>{const n=bi({}),r=bi([]),i=new WeakMap,o=c=>{n.value[c.uid]=c,XA(n),Jt(()=>{const f=c.getVnode().el,d=f.parentNode;if(!i.has(d)){i.set(d,[]);const h=d.insertBefore.bind(d);d.insertBefore=(p,v)=>(i.get(d).some(m=>p===m||v===m)&&XA(n),h(p,v))}i.get(d).push(f)})},a=c=>{delete n.value[c.uid],XA(n);const f=c.getVnode().el,d=f.parentNode,h=i.get(d),p=h.indexOf(f);h.splice(p,1)},s=()=>{r.value=aje(t,e,n.value)},l=c=>c.render();return{children:r,addChild:o,removeChild:a,ChildrenSorter:ue({setup(c,{slots:f}){return()=>(s(),f.default?Rt(l,{render:f.default}):null)}})}},_Y=300,sje=(t,e,n)=>{const{children:r,addChild:i,removeChild:o,ChildrenSorter:a}=SI(Un(),pF),s=Co(),l=F(-1),u=F(null),c=F(!1),f=F(),d=F(0),h=F(!0),p=z(()=>t.arrow!=="never"&&!_(m)),v=z(()=>r.value.some(oe=>oe.props.label.toString().length>0)),g=z(()=>t.type==="card"),m=z(()=>t.direction==="vertical"),y=z(()=>t.height!=="auto"?{height:t.height}:{height:`${d.value}px`,overflow:"hidden"}),b=jp(oe=>{T(oe)},_Y,{trailing:!0}),w=jp(oe=>{V(oe)},_Y),S=oe=>h.value?l.value<=1?oe<=1:oe>1:!0;function x(){u.value&&(clearInterval(u.value),u.value=null)}function C(){t.interval<=0||!t.autoplay||u.value||(u.value=setInterval(()=>E(),t.interval))}const E=()=>{l.value<r.value.length-1?l.value=l.value+1:t.loop&&(l.value=0)};function T(oe){if(Ht(oe)){const H=r.value.filter(U=>U.props.name===oe);H.length>0&&(oe=r.value.indexOf(H[0]))}if(oe=Number(oe),Number.isNaN(oe)||oe!==Math.floor(oe))return;const ce=r.value.length,X=l.value;oe<0?l.value=t.loop?ce-1:0:oe>=ce?l.value=t.loop?0:ce-1:l.value=oe,X===l.value&&A(X),j()}function A(oe){r.value.forEach((ce,X)=>{ce.translateItem(X,l.value,oe)})}function k(oe,ce){var X,H,U,ne;const J=_(r),Y=J.length;if(Y===0||!oe.states.inStage)return!1;const se=ce+1,he=ce-1,ye=Y-1,_e=J[ye].states.active,fe=J[0].states.active,Ce=(H=(X=J[se])==null?void 0:X.states)==null?void 0:H.active,Oe=(ne=(U=J[he])==null?void 0:U.states)==null?void 0:ne.active;return ce===ye&&fe||Ce?"left":ce===0&&_e||Oe?"right":!1}function M(){c.value=!0,t.pauseOnHover&&x()}function D(){c.value=!1,C()}function L(oe){_(m)||r.value.forEach((ce,X)=>{oe===k(ce,X)&&(ce.states.hover=!0)})}function I(){_(m)||r.value.forEach(oe=>{oe.states.hover=!1})}function R(oe){l.value=oe}function V(oe){t.trigger==="hover"&&oe!==l.value&&(l.value=oe)}function P(){T(l.value-1)}function B(){T(l.value+1)}function j(){x(),t.pauseOnHover||C()}function G(oe){t.height==="auto"&&(d.value=oe)}function W(){var oe;const ce=(oe=s.default)==null?void 0:oe.call(s);if(!ce)return null;const H=Pf(ce).filter(U=>wi(U)&&U.type.name===pF);return H?.length===2&&t.loop&&!g.value?(h.value=!0,H):(h.value=!1,null)}Le(()=>l.value,(oe,ce)=>{A(ce),h.value&&(oe=oe%2,ce=ce%2),ce>-1&&e(tr,oe,ce)});const Z=z({get:()=>h.value?l.value%2:l.value,set:oe=>l.value=oe});Le(()=>t.autoplay,oe=>{oe?C():x()}),Le(()=>t.loop,()=>{T(l.value)}),Le(()=>t.interval,()=>{j()});const ee=bi();return Jt(()=>{Le(()=>r.value,()=>{r.value.length>0&&T(t.initialIndex)},{immediate:!0}),ee.value=Di(f.value,()=>{A()}),C()}),ur(()=>{x(),f.value&&ee.value&&ee.value.stop()}),jn(jhe,{root:f,isCardType:g,isVertical:m,items:r,loop:t.loop,cardScale:t.cardScale,addItem:i,removeItem:o,setActiveItem:T,setContainerHeight:G}),{root:f,activeIndex:l,exposeActiveIndex:Z,arrowDisplay:p,hasLabel:v,hover:c,isCardType:g,items:r,isVertical:m,containerStyle:y,isItemsTwoLength:h,handleButtonEnter:L,handleButtonLeave:I,handleIndicatorClick:R,handleMouseEnter:M,handleMouseLeave:D,setActiveItem:T,prev:P,next:B,PlaceholderItem:W,isTwoLengthShow:S,ItemsSorter:a,throttledArrowClick:b,throttledIndicatorHover:w}},lje="ElCarousel",uje=ue({name:lje}),cje=ue({...uje,props:eje,emits:tje,setup(t,{expose:e,emit:n}){const r=t,{root:i,activeIndex:o,exposeActiveIndex:a,arrowDisplay:s,hasLabel:l,hover:u,isCardType:c,items:f,isVertical:d,containerStyle:h,handleButtonEnter:p,handleButtonLeave:v,handleIndicatorClick:g,handleMouseEnter:m,handleMouseLeave:y,setActiveItem:b,prev:w,next:S,PlaceholderItem:x,isTwoLengthShow:C,ItemsSorter:E,throttledArrowClick:T,throttledIndicatorHover:A}=sje(r,n),k=Ye("carousel"),{t:M}=Cr(),D=z(()=>{const V=[k.b(),k.m(r.direction)];return _(c)&&V.push(k.m("card")),V}),L=z(()=>{const V=[k.e("indicators"),k.em("indicators",r.direction)];return _(l)&&V.push(k.em("indicators","labels")),r.indicatorPosition==="outside"&&V.push(k.em("indicators","outside")),_(d)&&V.push(k.em("indicators","right")),V});function I(V){if(!r.motionBlur)return;const P=_(d)?`${k.namespace.value}-transitioning-vertical`:`${k.namespace.value}-transitioning`;V.currentTarget.classList.add(P)}function R(V){if(!r.motionBlur)return;const P=_(d)?`${k.namespace.value}-transitioning-vertical`:`${k.namespace.value}-transitioning`;V.currentTarget.classList.remove(P)}return e({activeIndex:a,setActiveItem:b,prev:w,next:S}),(V,P)=>(N(),Q("div",{ref_key:"root",ref:i,class:q(_(D)),onMouseenter:an(_(m),["stop"]),onMouseleave:an(_(y),["stop"])},[_(s)?(N(),de(ka,{key:0,name:"carousel-arrow-left",persisted:""},{default:$(()=>[An(K("button",{type:"button",class:q([_(k).e("arrow"),_(k).em("arrow","left")]),"aria-label":_(M)("el.carousel.leftArrow"),onMouseenter:B=>_(p)("left"),onMouseleave:_(v),onClick:an(B=>_(T)(_(o)-1),["stop"])},[O(_(zt),null,{default:$(()=>[O(_(oh))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[kr,(V.arrow==="always"||_(u))&&(r.loop||_(o)>0)]])]),_:1})):ge("v-if",!0),_(s)?(N(),de(ka,{key:1,name:"carousel-arrow-right",persisted:""},{default:$(()=>[An(K("button",{type:"button",class:q([_(k).e("arrow"),_(k).em("arrow","right")]),"aria-label":_(M)("el.carousel.rightArrow"),onMouseenter:B=>_(p)("right"),onMouseleave:_(v),onClick:an(B=>_(T)(_(o)+1),["stop"])},[O(_(zt),null,{default:$(()=>[O(_(Rs))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[kr,(V.arrow==="always"||_(u))&&(r.loop||_(o)<_(f).length-1)]])]),_:1})):ge("v-if",!0),K("div",{class:q(_(k).e("container")),style:Ot(_(h)),onTransitionstart:I,onTransitionend:R},[O(_(x)),Ee(V.$slots,"default")],38),O(_(E),null,{default:$(()=>[V.indicatorPosition!=="none"?(N(),Q("ul",{key:0,class:q(_(L))},[(N(!0),Q(ft,null,gn(_(f),(B,j)=>An((N(),Q("li",{key:j,class:q([_(k).e("indicator"),_(k).em("indicator",V.direction),_(k).is("active",j===_(o))]),onMouseenter:G=>_(A)(j),onClick:an(G=>_(g)(j),["stop"])},[K("button",{class:q(_(k).e("button")),"aria-label":_(M)("el.carousel.indicator",{index:j+1})},[_(l)?(N(),Q("span",{key:0},Ne(B.props.label),1)):ge("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[kr,_(C)(j)]])),128))],2)):ge("v-if",!0)]),_:1}),r.motionBlur?(N(),Q("svg",{key:2,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[K("defs",null,[K("filter",{id:"elCarouselHorizontal"},[K("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),K("filter",{id:"elCarouselVertical"},[K("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):ge("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var fje=lt(cje,[["__file","carousel.vue"]]);const dje=rt({name:{type:String,default:""},label:{type:[String,Number],default:""}}),hje=t=>{const e=bt(jhe),n=Un(),r=F(),i=F(!1),o=F(0),a=F(1),s=F(!1),l=F(!1),u=F(!1),c=F(!1),{isCardType:f,isVertical:d,cardScale:h}=e;function p(w,S,x){const C=x-1,E=S-1,T=S+1,A=x/2;return S===0&&w===C?-1:S===C&&w===0?x:w<E&&S-w>=A?x+1:w>T&&w-S>=A?-2:w}function v(w,S){var x,C;const E=_(d)?((x=e.root.value)==null?void 0:x.offsetHeight)||0:((C=e.root.value)==null?void 0:C.offsetWidth)||0;return u.value?E*((2-h)*(w-S)+1)/4:w<S?-(1+h)*E/4:(3+h)*E/4}function g(w,S,x){const C=e.root.value;return C?((x?C.offsetHeight:C.offsetWidth)||0)*(w-S):0}const m=(w,S,x)=>{var C;const E=_(f),T=(C=e.items.value.length)!=null?C:Number.NaN,A=w===S;!E&&!gr(x)&&(c.value=A||w===x),!A&&T>2&&e.loop&&(w=p(w,S,T));const k=_(d);s.value=A,E?(u.value=Math.round(Math.abs(w-S))<=1,o.value=v(w,S),a.value=_(s)?1:h):o.value=g(w,S,k),l.value=!0,A&&r.value&&e.setContainerHeight(r.value.offsetHeight)};function y(){if(e&&_(f)){const w=e.items.value.findIndex(({uid:S})=>S===n.uid);e.setActiveItem(w)}}const b={props:t,states:Bn({hover:i,translate:o,scale:a,active:s,ready:l,inStage:u,animating:c}),uid:n.uid,getVnode:()=>n.vnode,translateItem:m};return e.addItem(b),ur(()=>{e.removeItem(b)}),{carouselItemRef:r,active:s,animating:c,hover:i,inStage:u,isVertical:d,translate:o,isCardType:f,scale:a,ready:l,handleItemClick:y}},pje=ue({name:pF}),vje=ue({...pje,props:dje,setup(t){const e=t,n=Ye("carousel"),{carouselItemRef:r,active:i,animating:o,hover:a,inStage:s,isVertical:l,translate:u,isCardType:c,scale:f,ready:d,handleItemClick:h}=hje(e),p=z(()=>[n.e("item"),n.is("active",i.value),n.is("in-stage",s.value),n.is("hover",a.value),n.is("animating",o.value),{[n.em("item","card")]:c.value,[n.em("item","card-vertical")]:c.value&&l.value}]),v=z(()=>{const m=`${`translate${_(l)?"Y":"X"}`}(${_(u)}px)`,y=`scale(${_(f)})`;return{transform:[m,y].join(" ")}});return(g,m)=>An((N(),Q("div",{ref_key:"carouselItemRef",ref:r,class:q(_(p)),style:Ot(_(v)),onClick:_(h)},[_(c)?An((N(),Q("div",{key:0,class:q(_(n).e("mask"))},null,2)),[[kr,!_(i)]]):ge("v-if",!0),Ee(g.$slots,"default")],14,["onClick"])),[[kr,_(d)]])}});var Ghe=lt(vje,[["__file","carousel-item.vue"]]);const gje=kn(fje,{CarouselItem:Ghe}),mje=Wi(Ghe),Uhe={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:Ho,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...fs(["ariaControls"])},Whe={[_n]:t=>Ht(t)||Zt(t)||ei(t),change:t=>Ht(t)||Zt(t)||ei(t)},u_=Symbol("checkboxGroupContextKey"),yje=({model:t,isChecked:e})=>{const n=bt(u_,void 0),r=z(()=>{var o,a;const s=(o=n?.max)==null?void 0:o.value,l=(a=n?.min)==null?void 0:a.value;return!gr(s)&&t.value.length>=s&&!e.value||!gr(l)&&t.value.length<=l&&e.value});return{isDisabled:pa(z(()=>n?.disabled.value||r.value)),isLimitDisabled:r}},bje=(t,{model:e,isLimitExceeded:n,hasOwnLabel:r,isDisabled:i,isLabeledByFormItem:o})=>{const a=bt(u_,void 0),{formItem:s}=Ua(),{emit:l}=Un();function u(p){var v,g,m,y;return[!0,t.trueValue,t.trueLabel].includes(p)?(g=(v=t.trueValue)!=null?v:t.trueLabel)!=null?g:!0:(y=(m=t.falseValue)!=null?m:t.falseLabel)!=null?y:!1}function c(p,v){l(tr,u(p),v)}function f(p){if(n.value)return;const v=p.target;l(tr,u(v.checked),p)}async function d(p){n.value||!r.value&&!i.value&&o.value&&(p.composedPath().some(m=>m.tagName==="LABEL")||(e.value=u([!1,t.falseValue,t.falseLabel].includes(e.value)),await Pt(),c(e.value,p)))}const h=z(()=>a?.validateEvent||t.validateEvent);return Le(()=>t.modelValue,()=>{h.value&&s?.validate("change").catch(p=>void 0)}),{handleChange:f,onClickRoot:d}},_je=t=>{const e=F(!1),{emit:n}=Un(),r=bt(u_,void 0),i=z(()=>gr(r)===!1),o=F(!1),a=z({get(){var s,l;return i.value?(s=r?.modelValue)==null?void 0:s.value:(l=t.modelValue)!=null?l:e.value},set(s){var l,u;i.value&&tt(s)?(o.value=((l=r?.max)==null?void 0:l.value)!==void 0&&s.length>r?.max.value&&s.length>a.value.length,o.value===!1&&((u=r?.changeEvent)==null||u.call(r,s))):(n(_n,s),e.value=s)}});return{model:a,isGroup:i,isLimitExceeded:o}},wje=(t,e,{model:n})=>{const r=bt(u_,void 0),i=F(!1),o=z(()=>Cl(t.value)?t.label:t.value),a=z(()=>{const c=n.value;return ei(c)?c:tt(c)?Nn(o.value)?c.map(pi).some(f=>Ei(f,o.value)):c.map(pi).includes(o.value):c!=null?c===t.trueValue||c===t.trueLabel:!!c}),s=Po(z(()=>{var c;return(c=r?.size)==null?void 0:c.value}),{prop:!0}),l=Po(z(()=>{var c;return(c=r?.size)==null?void 0:c.value})),u=z(()=>!!e.default||!Cl(o.value));return{checkboxButtonSize:s,isChecked:a,isFocused:i,checkboxSize:l,hasOwnLabel:u,actualValue:o}},qhe=(t,e)=>{const{formItem:n}=Ua(),{model:r,isGroup:i,isLimitExceeded:o}=_je(t),{isFocused:a,isChecked:s,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,actualValue:f}=wje(t,e,{model:r}),{isDisabled:d}=yje({model:r,isChecked:s}),{inputId:h,isLabeledByFormItem:p}=tu(t,{formItemContext:n,disableIdGeneration:c,disableIdManagement:i}),{handleChange:v,onClickRoot:g}=bje(t,{model:r,isLimitExceeded:o,hasOwnLabel:c,isDisabled:d,isLabeledByFormItem:p});return(()=>{function y(){var b,w;tt(r.value)&&!r.value.includes(f.value)?r.value.push(f.value):r.value=(w=(b=t.trueValue)!=null?b:t.trueLabel)!=null?w:!0}t.checked&&y()})(),Wd({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},z(()=>i.value&&Cl(t.value))),Wd({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},z(()=>!!t.trueLabel)),Wd({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},z(()=>!!t.falseLabel)),{inputId:h,isLabeledByFormItem:p,isChecked:s,isDisabled:d,isFocused:a,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,model:r,actualValue:f,handleChange:v,onClickRoot:g}},Sje=ue({name:"ElCheckbox"}),xje=ue({...Sje,props:Uhe,emits:Whe,setup(t){const e=t,n=Co(),{inputId:r,isLabeledByFormItem:i,isChecked:o,isDisabled:a,isFocused:s,checkboxSize:l,hasOwnLabel:u,model:c,actualValue:f,handleChange:d,onClickRoot:h}=qhe(e,n),p=Ye("checkbox"),v=z(()=>[p.b(),p.m(l.value),p.is("disabled",a.value),p.is("bordered",e.border),p.is("checked",o.value)]),g=z(()=>[p.e("input"),p.is("disabled",a.value),p.is("checked",o.value),p.is("indeterminate",e.indeterminate),p.is("focus",s.value)]);return(m,y)=>(N(),de(Vn(!_(u)&&_(i)?"span":"label"),{class:q(_(v)),"aria-controls":m.indeterminate?m.ariaControls:null,onClick:_(h)},{default:$(()=>{var b,w,S,x;return[K("span",{class:q(_(g))},[m.trueValue||m.falseValue||m.trueLabel||m.falseLabel?An((N(),Q("input",{key:0,id:_(r),"onUpdate:modelValue":C=>ai(c)?c.value=C:null,class:q(_(p).e("original")),type:"checkbox",indeterminate:m.indeterminate,name:m.name,tabindex:m.tabindex,disabled:_(a),"true-value":(w=(b=m.trueValue)!=null?b:m.trueLabel)!=null?w:!0,"false-value":(x=(S=m.falseValue)!=null?S:m.falseLabel)!=null?x:!1,onChange:_(d),onFocus:C=>s.value=!0,onBlur:C=>s.value=!1,onClick:an(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[xM,_(c)]]):An((N(),Q("input",{key:1,id:_(r),"onUpdate:modelValue":C=>ai(c)?c.value=C:null,class:q(_(p).e("original")),type:"checkbox",indeterminate:m.indeterminate,disabled:_(a),value:_(f),name:m.name,tabindex:m.tabindex,onChange:_(d),onFocus:C=>s.value=!0,onBlur:C=>s.value=!1,onClick:an(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[xM,_(c)]]),K("span",{class:q(_(p).e("inner"))},null,2)],2),_(u)?(N(),Q("span",{key:0,class:q(_(p).e("label"))},[Ee(m.$slots,"default"),m.$slots.default?ge("v-if",!0):(N(),Q(ft,{key:0},[Be(Ne(m.label),1)],64))],2)):ge("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var Khe=lt(xje,[["__file","checkbox.vue"]]);const Cje=ue({name:"ElCheckboxButton"}),Eje=ue({...Cje,props:Uhe,emits:Whe,setup(t){const e=t,n=Co(),{isFocused:r,isChecked:i,isDisabled:o,checkboxButtonSize:a,model:s,actualValue:l,handleChange:u}=qhe(e,n),c=bt(u_,void 0),f=Ye("checkbox"),d=z(()=>{var p,v,g,m;const y=(v=(p=c?.fill)==null?void 0:p.value)!=null?v:"";return{backgroundColor:y,borderColor:y,color:(m=(g=c?.textColor)==null?void 0:g.value)!=null?m:"",boxShadow:y?`-1px 0 0 0 ${y}`:void 0}}),h=z(()=>[f.b("button"),f.bm("button",a.value),f.is("disabled",o.value),f.is("checked",i.value),f.is("focus",r.value)]);return(p,v)=>{var g,m,y,b;return N(),Q("label",{class:q(_(h))},[p.trueValue||p.falseValue||p.trueLabel||p.falseLabel?An((N(),Q("input",{key:0,"onUpdate:modelValue":w=>ai(s)?s.value=w:null,class:q(_(f).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:_(o),"true-value":(m=(g=p.trueValue)!=null?g:p.trueLabel)!=null?m:!0,"false-value":(b=(y=p.falseValue)!=null?y:p.falseLabel)!=null?b:!1,onChange:_(u),onFocus:w=>r.value=!0,onBlur:w=>r.value=!1,onClick:an(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[xM,_(s)]]):An((N(),Q("input",{key:1,"onUpdate:modelValue":w=>ai(s)?s.value=w:null,class:q(_(f).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:_(o),value:_(l),onChange:_(u),onFocus:w=>r.value=!0,onBlur:w=>r.value=!1,onClick:an(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[xM,_(s)]]),p.$slots.default||p.label?(N(),Q("span",{key:2,class:q(_(f).be("button","inner")),style:Ot(_(i)?_(d):void 0)},[Ee(p.$slots,"default",{},()=>[Be(Ne(p.label),1)])],6)):ge("v-if",!0)],2)}}});var Yhe=lt(Eje,[["__file","checkbox-button.vue"]]);const Tje=rt({modelValue:{type:me(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Ho,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},options:{type:me(Array)},props:{type:me(Object),default:()=>Xhe},...fs(["ariaLabel"])}),Aje={[_n]:t=>tt(t),change:t=>tt(t)},Xhe={label:"label",value:"value",disabled:"disabled"},kje=ue({name:"ElCheckboxGroup"}),Mje=ue({...kje,props:Tje,emits:Aje,setup(t,{emit:e}){const n=t,r=Ye("checkbox"),{formItem:i}=Ua(),{inputId:o,isLabeledByFormItem:a}=tu(n,{formItemContext:i}),s=async f=>{e(_n,f),await Pt(),e(tr,f)},l=z({get(){return n.modelValue},set(f){s(f)}}),u=z(()=>({...Xhe,...n.props})),c=f=>{const d={label:f[u.value.label],value:f[u.value.value],disabled:f[u.value.disabled]};return{...f,...d}};return jn(u_,{...Zs(zo(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:s}),Le(()=>n.modelValue,(f,d)=>{n.validateEvent&&!Ei(f,d)&&i?.validate("change").catch(h=>void 0)}),(f,d)=>{var h;return N(),de(Vn(f.tag),{id:_(o),class:q(_(r).b("group")),role:"group","aria-label":_(a)?void 0:f.ariaLabel||"checkbox-group","aria-labelledby":_(a)?(h=_(i))==null?void 0:h.labelId:void 0},{default:$(()=>[Ee(f.$slots,"default",{},()=>[(N(!0),Q(ft,null,gn(n.options,(p,v)=>(N(),de(Khe,Fn({key:v},c(p)),null,16))),128))])]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Zhe=lt(Mje,[["__file","checkbox-group.vue"]]);const Ku=kn(Khe,{CheckboxButton:Yhe,CheckboxGroup:Zhe}),Pje=Wi(Yhe),Jhe=Wi(Zhe),Qhe=rt({modelValue:{type:[String,Number,Boolean],default:void 0},size:Ho,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),Oje=rt({...Qhe,border:Boolean}),epe={[_n]:t=>Ht(t)||Zt(t)||ei(t),[tr]:t=>Ht(t)||Zt(t)||ei(t)},tpe=Symbol("radioGroupKey"),npe=(t,e)=>{const n=F(),r=bt(tpe,void 0),i=z(()=>!!r),o=z(()=>Cl(t.value)?t.label:t.value),a=z({get(){return i.value?r.modelValue:t.modelValue},set(f){i.value?r.changeEvent(f):e&&e(_n,f),n.value.checked=t.modelValue===o.value}}),s=Po(z(()=>r?.size)),l=pa(z(()=>r?.disabled)),u=F(!1),c=z(()=>l.value||i.value&&a.value!==o.value?-1:0);return Wd({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},z(()=>i.value&&Cl(t.value))),{radioRef:n,isGroup:i,radioGroup:r,focus:u,size:s,disabled:l,tabIndex:c,modelValue:a,actualValue:o}},Ije=ue({name:"ElRadio"}),Rje=ue({...Ije,props:Oje,emits:epe,setup(t,{emit:e}){const n=t,r=Ye("radio"),{radioRef:i,radioGroup:o,focus:a,size:s,disabled:l,modelValue:u,actualValue:c}=npe(n,e);function f(){Pt(()=>e(tr,u.value))}return(d,h)=>{var p;return N(),Q("label",{class:q([_(r).b(),_(r).is("disabled",_(l)),_(r).is("focus",_(a)),_(r).is("bordered",d.border),_(r).is("checked",_(u)===_(c)),_(r).m(_(s))])},[K("span",{class:q([_(r).e("input"),_(r).is("disabled",_(l)),_(r).is("checked",_(u)===_(c))])},[An(K("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":v=>ai(u)?u.value=v:null,class:q(_(r).e("original")),value:_(c),name:d.name||((p=_(o))==null?void 0:p.name),disabled:_(l),checked:_(u)===_(c),type:"radio",onFocus:v=>a.value=!0,onBlur:v=>a.value=!1,onChange:f,onClick:an(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[Yce,_(u)]]),K("span",{class:q(_(r).e("inner"))},null,2)],2),K("span",{class:q(_(r).e("label")),onKeydown:an(()=>{},["stop"])},[Ee(d.$slots,"default",{},()=>[Be(Ne(d.label),1)])],42,["onKeydown"])],2)}}});var rpe=lt(Rje,[["__file","radio.vue"]]);const Lje=rt({...Qhe}),Dje=ue({name:"ElRadioButton"}),Nje=ue({...Dje,props:Lje,setup(t){const e=t,n=Ye("radio"),{radioRef:r,focus:i,size:o,disabled:a,modelValue:s,radioGroup:l,actualValue:u}=npe(e),c=z(()=>({backgroundColor:l?.fill||"",borderColor:l?.fill||"",boxShadow:l?.fill?`-1px 0 0 0 ${l.fill}`:"",color:l?.textColor||""}));return(f,d)=>{var h;return N(),Q("label",{class:q([_(n).b("button"),_(n).is("active",_(s)===_(u)),_(n).is("disabled",_(a)),_(n).is("focus",_(i)),_(n).bm("button",_(o))])},[An(K("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":p=>ai(s)?s.value=p:null,class:q(_(n).be("button","original-radio")),value:_(u),type:"radio",name:f.name||((h=_(l))==null?void 0:h.name),disabled:_(a),onFocus:p=>i.value=!0,onBlur:p=>i.value=!1,onClick:an(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[Yce,_(s)]]),K("span",{class:q(_(n).be("button","inner")),style:Ot(_(s)===_(u)?_(c):{}),onKeydown:an(()=>{},["stop"])},[Ee(f.$slots,"default",{},()=>[Be(Ne(f.label),1)])],46,["onKeydown"])],2)}}});var ipe=lt(Nje,[["__file","radio-button.vue"]]);const Bje=rt({id:{type:String,default:void 0},size:Ho,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},options:{type:me(Array)},props:{type:me(Object),default:()=>ope},...fs(["ariaLabel"])}),$je=epe,ope={label:"label",value:"value",disabled:"disabled"},Fje=ue({name:"ElRadioGroup"}),Vje=ue({...Fje,props:Bje,emits:$je,setup(t,{emit:e}){const n=t,r=Ye("radio"),i=Ha(),o=F(),{formItem:a}=Ua(),{inputId:s,isLabeledByFormItem:l}=tu(n,{formItemContext:a}),u=h=>{e(_n,h),Pt(()=>e(tr,h))};Jt(()=>{const h=o.value.querySelectorAll("[type=radio]"),p=h[0];!Array.from(h).some(v=>v.checked)&&p&&(p.tabIndex=0)});const c=z(()=>n.name||i.value),f=z(()=>({...ope,...n.props})),d=h=>{const p={label:h[f.value.label],value:h[f.value.value],disabled:h[f.value.disabled]};return{...h,...p}};return jn(tpe,Bn({...zo(n),changeEvent:u,name:c})),Le(()=>n.modelValue,(h,p)=>{n.validateEvent&&!Ei(h,p)&&a?.validate("change").catch(v=>void 0)}),(h,p)=>(N(),Q("div",{id:_(s),ref_key:"radioGroupRef",ref:o,class:q(_(r).b("group")),role:"radiogroup","aria-label":_(l)?void 0:h.ariaLabel||"radio-group","aria-labelledby":_(l)?_(a).labelId:void 0},[Ee(h.$slots,"default",{},()=>[(N(!0),Q(ft,null,gn(n.options,(v,g)=>(N(),de(rpe,Fn({key:g},d(v)),null,16))),128))])],10,["id","aria-label","aria-labelledby"]))}});var ape=lt(Vje,[["__file","radio-group.vue"]]);const spe=kn(rpe,{RadioButton:ipe,RadioGroup:ape}),zje=Wi(ape),Hje=Wi(ipe),xI=Symbol();function jje(t){return!!(tt(t)?t.every(({type:e})=>e===yo):t?.type===yo)}var Gje=ue({name:"NodeContent",props:{node:{type:Object,required:!0}},setup(t){const e=Ye("cascader-node"),{renderLabelFn:n}=bt(xI),{node:r}=t,{data:i,label:o}=r,a=()=>{const s=n?.({node:r,data:i});return jje(s)?o:s??o};return()=>O("span",{class:e.e("label")},[a()])}});const Uje=ue({name:"ElCascaderNode"}),Wje=ue({...Uje,props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=t,r=bt(xI),i=Ye("cascader-node"),o=z(()=>r.isHoverMenu),a=z(()=>r.config.multiple),s=z(()=>r.config.checkStrictly),l=z(()=>r.config.showPrefix),u=z(()=>{var E;return(E=r.checkedNodes[0])==null?void 0:E.uid}),c=z(()=>n.node.isDisabled),f=z(()=>n.node.isLeaf),d=z(()=>s.value&&!f.value||!c.value),h=z(()=>v(r.expandingNode)),p=z(()=>s.value&&r.checkedNodes.some(v)),v=E=>{var T;const{level:A,uid:k}=n.node;return((T=E?.pathNodes[A-1])==null?void 0:T.uid)===k},g=()=>{h.value||r.expandNode(n.node)},m=E=>{const{node:T}=n;E!==T.checked&&r.handleCheckChange(T,E)},y=()=>{r.lazyLoad(n.node,()=>{f.value||g()})},b=E=>{o.value&&(w(),!f.value&&e("expand",E))},w=()=>{const{node:E}=n;!d.value||E.loading||(E.loaded?g():y())},S=()=>{f.value&&!c.value&&!s.value&&!a.value?C(!0):(r.config.checkOnClickNode&&(a.value||s.value)||f.value&&r.config.checkOnClickLeaf)&&!c.value?x(!n.node.checked):o.value||w()},x=E=>{s.value?(m(E),n.node.loaded&&g()):C(E)},C=E=>{n.node.loaded?(m(E),!s.value&&g()):y()};return(E,T)=>(N(),Q("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!_(f),"aria-owns":_(f)?void 0:t.menuId,"aria-expanded":_(h),tabindex:_(d)?-1:void 0,class:q([_(i).b(),_(i).is("selectable",_(s)),_(i).is("active",t.node.checked),_(i).is("disabled",!_(d)),_(h)&&"in-active-path",_(p)&&"in-checked-path"]),onMouseenter:b,onFocus:b,onClick:S},[ge(" prefix "),_(a)&&_(l)?(N(),de(_(Ku),{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:_(c),onClick:an(()=>{},["stop"]),"onUpdate:modelValue":x},null,8,["model-value","indeterminate","disabled","onClick"])):_(s)&&_(l)?(N(),de(_(spe),{key:1,"model-value":_(u),label:t.node.uid,disabled:_(c),"onUpdate:modelValue":x,onClick:an(()=>{},["stop"])},{default:$(()=>[ge(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),K("span")]),_:1},8,["model-value","label","disabled","onClick"])):_(f)&&t.node.checked?(N(),de(_(zt),{key:2,class:q(_(i).e("prefix"))},{default:$(()=>[O(_(f2))]),_:1},8,["class"])):ge("v-if",!0),ge(" content "),O(_(Gje),{node:t.node},null,8,["node"]),ge(" postfix "),_(f)?ge("v-if",!0):(N(),Q(ft,{key:3},[t.node.loading?(N(),de(_(zt),{key:0,class:q([_(i).is("loading"),_(i).e("postfix")])},{default:$(()=>[O(_(Kf))]),_:1},8,["class"])):(N(),de(_(zt),{key:1,class:q(["arrow-right",_(i).e("postfix")])},{default:$(()=>[O(_(Rs))]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex"]))}});var qje=lt(Wje,[["__file","node.vue"]]);const Kje=ue({name:"ElCascaderMenu"}),Yje=ue({...Kje,props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=t,n=Un(),r=Ye("cascader-menu"),{t:i}=Cr(),o=Ha();let a,s;const l=bt(xI),u=F(),c=z(()=>!e.nodes.length),f=z(()=>!l.initialLoaded),d=z(()=>`${o.value}-${e.index}`),h=m=>{a=m.target},p=m=>{if(!(!l.isHoverMenu||!a||!u.value))if(a.contains(m.target)){v();const y=n.vnode.el,{left:b}=y.getBoundingClientRect(),{offsetWidth:w,offsetHeight:S}=y,x=m.clientX-b,C=a.offsetTop,E=C+a.offsetHeight;u.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${x} ${C} L${w} 0 V${C} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${x} ${E} L${w} ${S} V${E} Z" />
        `}else s||(s=window.setTimeout(g,l.config.hoverThreshold))},v=()=>{s&&(clearTimeout(s),s=void 0)},g=()=>{u.value&&(u.value.innerHTML="",v())};return(m,y)=>(N(),de(_(Mc),{key:_(d),tag:"ul",role:"menu",class:q(_(r).b()),"wrap-class":_(r).e("wrap"),"view-class":[_(r).e("list"),_(r).is("empty",_(c))],onMousemove:p,onMouseleave:g},{default:$(()=>{var b;return[(N(!0),Q(ft,null,gn(t.nodes,w=>(N(),de(qje,{key:w.uid,node:w,"menu-id":_(d),onExpand:h},null,8,["node","menu-id"]))),128)),_(f)?(N(),Q("div",{key:0,class:q(_(r).e("empty-text"))},[O(_(zt),{size:"14",class:q(_(r).is("loading"))},{default:$(()=>[O(_(Kf))]),_:1},8,["class"]),Be(" "+Ne(_(i)("el.cascader.loading")),1)],2)):_(c)?(N(),Q("div",{key:1,class:q(_(r).e("empty-text"))},[Ee(m.$slots,"empty",{},()=>[Be(Ne(_(i)("el.cascader.noData")),1)])],2)):(b=_(l))!=null&&b.isHoverMenu?(N(),Q(ft,{key:2},[ge(" eslint-disable-next-line vue/html-self-closing "),(N(),Q("svg",{ref_key:"hoverZone",ref:u,class:q(_(r).e("hover-zone"))},null,2))],2112)):ge("v-if",!0)]}),_:3},8,["class","wrap-class","view-class"]))}});var Xje=lt(Yje,[["__file","menu.vue"]]);let Zje=0;const Jje=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};let gF=class mF{constructor(e,n,r,i=!1){this.data=e,this.config=n,this.parent=r,this.root=i,this.uid=Zje++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:a,children:s}=n,l=e[s],u=Jje(this);this.level=i?0:r?r.level+1:1,this.value=e[o],this.label=e[a],this.pathNodes=u,this.pathValues=u.map(c=>c.value),this.pathLabels=u.map(c=>c.label),this.childrenData=l,this.children=(l||[]).map(c=>new mF(c,n,this)),this.loaded=!n.lazy||this.isLeaf||!Fl(l),this.text=""}get isDisabled(){const{data:e,parent:n,config:r}=this,{disabled:i,checkStrictly:o}=r;return(qt(i)?i(e,this):!!e[i])||!o&&!!n?.isDisabled}get isLeaf(){const{data:e,config:n,childrenData:r,loaded:i}=this,{lazy:o,leaf:a}=n,s=qt(a)?a(e,this):e[a];return gr(s)?o&&!i?!1:!(tt(r)&&r.length):!!s}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:r}=this,i=new mF(e,this.config,this);return tt(n)?n.push(e):this.childrenData=[e],r.push(i),i}calcText(e,n){const r=e?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(e){this.children.forEach(n=>{var r;n&&(n.broadcast(e),(r=n.onParentCheck)==null||r.call(n,e))})}emit(){var e;const{parent:n}=this;n&&((e=n.onChildCheck)==null||e.call(n),n.emit())}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(i=>!i.isDisabled),r=n.length?n.every(i=>i.checked):!1;this.setCheckState(r)}setCheckState(e){const n=this.children.length,r=this.children.reduce((i,o)=>{const a=o.checked?1:o.indeterminate?.5:0;return i+a},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&e,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=e:(this.broadcast(e),this.setCheckState(e),this.emit())}};const yF=(t,e)=>t.reduce((n,r)=>(r.isLeaf?n.push(r):(!e&&n.push(r),n=n.concat(yF(r.children,e))),n),[]);let wY=class{constructor(e,n){this.config=n;const r=(e||[]).map(i=>new gF(i,this.config));this.nodes=r,this.allNodes=yF(r,!1),this.leafNodes=yF(r,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const r=n?n.appendChild(e):new gF(e,this.config);n||this.nodes.push(r),this.appendAllNodesAndLeafNodes(r)}appendNodes(e,n){e.length>0?e.forEach(r=>this.appendNode(r,n)):n&&n.isLeaf&&this.leafNodes.push(n)}appendAllNodesAndLeafNodes(e){this.allNodes.push(e),e.isLeaf&&this.leafNodes.push(e),e.children&&e.children.forEach(n=>{this.appendAllNodesAndLeafNodes(n)})}getNodeByValue(e,n=!1){return Cl(e)?null:this.getFlattedNodes(n).find(i=>Ei(i.value,e)||Ei(i.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:r,level:i})=>Ei(e.value,r)&&e.level===i)||null}};const lpe=rt({modelValue:{type:me([Number,String,Array,Object])},options:{type:me(Array),default:()=>[]},props:{type:me(Object),default:()=>({})}}),Qje={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Yr,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500,checkOnClickNode:!1,checkOnClickLeaf:!0,showPrefix:!0},eGe=rt({...lpe,border:{type:Boolean,default:!0},renderLabel:{type:Function}}),SY=t=>!0,tGe={[_n]:SY,[tr]:SY,close:()=>!0,"expand-change":t=>t},nGe=t=>z(()=>({...Qje,...t.props})),xY=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},rGe=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():rhe(t)&&t.click()},iGe=(t,e)=>{const n=e.slice(0),r=n.map(o=>o.uid),i=t.reduce((o,a)=>{const s=r.indexOf(a.uid);return s>-1&&(o.push(a),n.splice(s,1),r.splice(s,1)),o},[]);return i.push(...n),i},oGe=ue({name:"ElCascaderPanel",inheritAttrs:!1}),aGe=ue({...oGe,props:eGe,emits:tGe,setup(t,{expose:e,emit:n}){const r=t;let i=!1;const o=Ye("cascader"),a=nGe(r),s=Co();let l;const u=F(!0),c=F([]),f=F(),d=F([]),h=F(),p=F([]),v=z(()=>a.value.expandTrigger==="hover"),g=z(()=>r.renderLabel||s.default),m=()=>{const{options:L}=r,I=a.value;i=!1,l=new wY(L,I),d.value=[l.getNodes()],I.lazy&&Fl(r.options)?(u.value=!1,y(void 0,R=>{R&&(l=new wY(R,I),d.value=[l.getNodes()]),u.value=!0,A(!1,!0)})):A(!1,!0)},y=(L,I)=>{const R=a.value;L=L||new gF({},R,void 0,!0),L.loading=!0;const V=P=>{const B=L,j=B.root?null:B;B.loading=!1,B.loaded=!0,B.childrenData=B.childrenData||[],P&&l?.appendNodes(P,j),P&&I?.(P)};R.lazyLoad(L,V)},b=(L,I)=>{var R;const{level:V}=L,P=d.value.slice(0,V);let B;L.isLeaf?B=L.pathNodes[V-2]:(B=L,P.push(L.children)),((R=h.value)==null?void 0:R.uid)!==B?.uid&&(h.value=L,d.value=P,!I&&n("expand-change",L?.pathValues||[]))},w=(L,I,R=!0)=>{const{checkStrictly:V,multiple:P}=a.value,B=p.value[0];i=!0,!P&&B?.doCheck(!1),L.doCheck(I),T(),R&&!P&&!V&&n("close"),!R&&!P&&!V&&S(L)},S=L=>{L&&(L=L.parent,S(L),L&&b(L))},x=L=>l?.getFlattedNodes(L),C=L=>{var I;return(I=x(L))==null?void 0:I.filter(({checked:R})=>R!==!1)},E=()=>{p.value.forEach(L=>L.doCheck(!1)),T(),d.value=d.value.slice(0,1),h.value=void 0,n("expand-change",[])},T=()=>{var L;const{checkStrictly:I,multiple:R}=a.value,V=p.value,P=C(!I),B=iGe(V,P),j=B.map(G=>G.valueByOption);p.value=B,f.value=R?j:(L=j[0])!=null?L:null},A=(L=!1,I=!1)=>{const{modelValue:R}=r,{lazy:V,multiple:P,checkStrictly:B}=a.value,j=!B;if(!(!u.value||i||!I&&Ei(R,f.value)))if(V&&!L){const W=uY(tBe(Ts(R))).map(Z=>l?.getNodeByValue(Z)).filter(Z=>!!Z&&!Z.loaded&&!Z.loading);W.length?W.forEach(Z=>{y(Z,()=>A(!1,I))}):A(!0,I)}else{const G=P?Ts(R):[R],W=uY(G.map(Z=>l?.getNodeByValue(Z,j)));k(W,I),f.value=Hi(R??void 0)}},k=(L,I=!0)=>{const{checkStrictly:R}=a.value,V=p.value,P=L.filter(G=>!!G&&(R||G.isLeaf)),B=l?.getSameNode(h.value),j=I&&B||P[0];j?j.pathNodes.forEach(G=>b(G,!0)):h.value=void 0,V.forEach(G=>G.doCheck(!1)),Bn(P).forEach(G=>G.doCheck(!0)),p.value=P,Pt(M)},M=()=>{Ar&&c.value.forEach(L=>{const I=L?.$el;if(I){const R=I.querySelector(`.${o.namespace.value}-scrollbar__wrap`),V=I.querySelector(`.${o.b("node")}.${o.is("active")}:last-child`)||I.querySelector(`.${o.b("node")}.in-active-path`);wz(R,V)}})},D=L=>{const I=L.target,{code:R}=L;switch(R){case Ct.up:case Ct.down:{L.preventDefault();const V=R===Ct.up?-1:1;nk(ihe(I,V,`.${o.b("node")}[tabindex="-1"]`));break}case Ct.left:{L.preventDefault();const V=c.value[xY(I)-1],P=V?.$el.querySelector(`.${o.b("node")}[aria-expanded="true"]`);nk(P);break}case Ct.right:{L.preventDefault();const V=c.value[xY(I)+1],P=V?.$el.querySelector(`.${o.b("node")}[tabindex="-1"]`);nk(P);break}case Ct.enter:case Ct.numpadEnter:rGe(I);break}};return jn(xI,Bn({config:a,expandingNode:h,checkedNodes:p,isHoverMenu:v,initialLoaded:u,renderLabelFn:g,lazyLoad:y,expandNode:b,handleCheckChange:w})),Le(a,(L,I)=>{Ei(L,I)||m()},{immediate:!0}),Le(()=>r.options,m,{deep:!0}),Le(()=>r.modelValue,()=>{i=!1,A()},{deep:!0}),Le(()=>f.value,L=>{Ei(L,r.modelValue)||(n(_n,L),n(tr,L))}),Z8(()=>c.value=[]),Jt(()=>!Fl(r.modelValue)&&A()),e({menuList:c,menus:d,checkedNodes:p,handleKeyDown:D,handleCheckChange:w,getFlattedNodes:x,getCheckedNodes:C,clearCheckedNodes:E,calculateCheckedValue:T,scrollToExpandingNode:M}),(L,I)=>(N(),Q("div",{class:q([_(o).b("panel"),_(o).is("bordered",L.border)]),onKeydown:D},[(N(!0),Q(ft,null,gn(d.value,(R,V)=>(N(),de(Xje,{key:V,ref_for:!0,ref:P=>c.value[V]=P,index:V,nodes:[...R]},{empty:$(()=>[Ee(L.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],34))}});var sGe=lt(aGe,[["__file","index.vue"]]);const upe=kn(sGe),uh=rt({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:ad},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),lGe={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},uGe=ue({name:"ElTag"}),cGe=ue({...uGe,props:uh,emits:lGe,setup(t,{emit:e}){const n=t,r=Po(),i=Ye("tag"),o=z(()=>{const{type:u,hit:c,effect:f,closable:d,round:h}=n;return[i.b(),i.is("closable",d),i.m(u||"primary"),i.m(r.value),i.m(f),i.is("hit",c),i.is("round",h)]}),a=u=>{e("close",u)},s=u=>{e("click",u)},l=u=>{var c,f,d;(d=(f=(c=u?.component)==null?void 0:c.subTree)==null?void 0:f.component)!=null&&d.bum&&(u.component.subTree.component.bum=null)};return(u,c)=>u.disableTransitions?(N(),Q("span",{key:0,class:q(_(o)),style:Ot({backgroundColor:u.color}),onClick:s},[K("span",{class:q(_(i).e("content"))},[Ee(u.$slots,"default")],2),u.closable?(N(),de(_(zt),{key:0,class:q(_(i).e("close")),onClick:an(a,["stop"])},{default:$(()=>[O(_(Hu))]),_:1},8,["class","onClick"])):ge("v-if",!0)],6)):(N(),de(ka,{key:1,name:`${_(i).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:l},{default:$(()=>[K("span",{class:q(_(o)),style:Ot({backgroundColor:u.color}),onClick:s},[K("span",{class:q(_(i).e("content"))},[Ee(u.$slots,"default")],2),u.closable?(N(),de(_(zt),{key:0,class:q(_(i).e("close")),onClick:an(a,["stop"])},{default:$(()=>[O(_(Hu))]),_:1},8,["class","onClick"])):ge("v-if",!0)],6)]),_:3},8,["name"]))}});var fGe=lt(cGe,[["__file","tag.vue"]]);const Up=kn(fGe),dGe=rt({...lpe,size:Ho,placeholder:String,disabled:Boolean,clearable:Boolean,clearIcon:{type:Xr,default:Mh},filterable:Boolean,filterMethod:{type:me(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:Boolean,maxCollapseTagsTooltipHeight:{type:[String,Number]},debounce:{type:Number,default:300},beforeFilter:{type:me(Function),default:()=>!0},placement:{type:me(String),values:Oh,default:"bottom-start"},fallbackPlacements:{type:me(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:Ai.popperClass,popperStyle:Ai.popperStyle,teleported:Ai.teleported,effect:{type:me(String),default:"light"},tagType:{...uh.type,default:"info"},tagEffect:{...uh.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},showCheckedStrategy:{type:String,values:["parent","child"],default:"child"},checkOnClickNode:Boolean,showPrefix:{type:Boolean,default:!0},...my}),CY=t=>!0,hGe={[_n]:CY,[tr]:CY,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,visibleChange:t=>ei(t),expandChange:t=>!!t,removeTag:t=>!!t},sp=new Map;if(Ar){let t;document.addEventListener("mousedown",e=>t=e),document.addEventListener("mouseup",e=>{if(t){for(const n of sp.values())for(const{documentHandler:r}of n)r(e,t);t=void 0}})}function EY(t,e){let n=[];return tt(e.arg)?n=e.arg:Xl(e.arg)&&n.push(e.arg),function(r,i){const o=e.instance.popperRef,a=r.target,s=i?.target,l=!e||!e.instance,u=!a||!s,c=t.contains(a)||t.contains(s),f=t===a,d=n.length&&n.some(p=>p?.contains(a))||n.length&&n.includes(s),h=o&&(o.contains(a)||o.contains(s));l||u||c||f||d||h||e.value(r,i)}}const ch={beforeMount(t,e){sp.has(t)||sp.set(t,[]),sp.get(t).push({documentHandler:EY(t,e),bindingFn:e.value})},updated(t,e){sp.has(t)||sp.set(t,[]);const n=sp.get(t),r=n.findIndex(o=>o.bindingFn===e.oldValue),i={documentHandler:EY(t,e),bindingFn:e.value};r>=0?n.splice(r,1,i):n.push(i)},unmounted(t){sp.delete(t)}},pGe="ElCascader",vGe=ue({name:pGe}),gGe=ue({...vGe,props:dGe,emits:hGe,setup(t,{expose:e,emit:n}){const r=t,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:re})=>{const{modifiersData:le,placement:Ae}=re;["right","left","bottom","top"].includes(Ae)||le.arrow&&(le.arrow.x=35)},requires:["arrow"]}]},o=Th();let a=0,s=0;const l=Ye("cascader"),u=Ye("input"),{t:c}=Cr(),{formItem:f}=Ua(),d=pa(),{valueOnClear:h}=c2(r),{isComposing:p,handleComposition:v}=p2({afterComposition(re){var le;const Ae=(le=re.target)==null?void 0:le.value;je(Ae)}}),g=F(null),m=F(),y=F(),b=F(null),w=F(null),S=F(null),x=F(!1),C=F(!1),E=F(!1),T=F(""),A=F(""),k=F([]),M=F([]),D=F([]),L=z(()=>o.style),I=z(()=>{var re;return(re=r.placeholder)!=null?re:c("el.cascader.placeholder")}),R=z(()=>A.value||k.value.length>0||p.value?"":I.value),V=Po(),P=z(()=>V.value==="small"?"small":"default"),B=z(()=>!!r.props.multiple),j=z(()=>!r.filterable||B.value),G=z(()=>B.value?A.value:T.value),W=z(()=>{var re;return((re=w.value)==null?void 0:re.checkedNodes)||[]}),{wrapperRef:Z,isFocused:ee,handleBlur:oe}=Ph(y,{disabled:d,beforeBlur(re){var le,Ae,Qe;return((le=g.value)==null?void 0:le.isFocusInsideContent(re))||((Qe=(Ae=m.value)==null?void 0:Ae[0])==null?void 0:Qe.isFocusInsideContent(re))},afterBlur(){var re;x.value=!1,r.validateEvent&&((re=f?.validate)==null||re.call(f,"blur").catch(le=>void 0))}}),ce=z(()=>!r.clearable||d.value||E.value||!C.value&&!ee.value?!1:!!W.value.length),X=z(()=>{const{showAllLevels:re,separator:le}=r,Ae=W.value;return Ae.length?B.value?"":Ae[0].calcText(re,le):""}),H=z(()=>f?.validateState||""),U=z({get(){return Hi(r.modelValue)},set(re){const le=re??h.value;n(_n,le),n(tr,le),r.validateEvent&&f?.validate("change").catch(Ae=>void 0)}}),ne=z(()=>[l.b(),l.m(V.value),l.is("disabled",d.value),o.class]),J=z(()=>[u.e("icon"),"icon-arrow-down",l.is("reverse",x.value)]),Y=z(()=>l.is("focus",ee.value)),se=z(()=>{var re,le;return(le=(re=g.value)==null?void 0:re.popperRef)==null?void 0:le.contentRef}),he=re=>{if(ee.value){const le=new FocusEvent("blur",re);oe(le)}ye(!1)},ye=re=>{var le,Ae,Qe;d.value||(re=re??!x.value,re!==x.value&&(x.value=re,(Ae=(le=y.value)==null?void 0:le.input)==null||Ae.setAttribute("aria-expanded",`${re}`),re?(_e(),Pt((Qe=w.value)==null?void 0:Qe.scrollToExpandingNode)):r.filterable&&Kt(),n("visibleChange",re)))},_e=()=>{Pt(()=>{var re;(re=g.value)==null||re.updatePopper()})},fe=()=>{E.value=!1},Ce=re=>{const{showAllLevels:le,separator:Ae}=r;return{node:re,key:re.uid,text:re.calcText(le,Ae),hitState:!1,closable:!d.value&&!re.isDisabled,isCollapseTag:!1}},Oe=re=>{var le;const Ae=re.node;Ae.doCheck(!1),(le=w.value)==null||le.calculateCheckedValue(),n("removeTag",Ae.valueByOption)},Ue=()=>{switch(r.showCheckedStrategy){case"child":return W.value;case"parent":{const re=We(!1),le=re.map(Qe=>Qe.value);return re.filter(Qe=>!Qe.parent||!le.includes(Qe.parent.value))}default:return[]}},qe=()=>{if(!B.value)return;const re=Ue(),le=[],Ae=[];if(re.forEach(Qe=>Ae.push(Ce(Qe))),M.value=Ae,re.length){re.slice(0,r.maxCollapseTags).forEach(Nt=>le.push(Ce(Nt)));const Qe=re.slice(r.maxCollapseTags),ct=Qe.length;ct&&(r.collapseTags?le.push({key:-1,text:`+ ${ct}`,closable:!1,isCollapseTag:!0}):Qe.forEach(Nt=>le.push(Ce(Nt))))}k.value=le},ze=()=>{var re,le;const{filterMethod:Ae,showAllLevels:Qe,separator:ct}=r,Nt=(le=(re=w.value)==null?void 0:re.getFlattedNodes(!r.props.checkStrictly))==null?void 0:le.filter(zn=>zn.isDisabled?!1:(zn.calcText(Qe,ct),Ae(zn,G.value)));B.value&&(k.value.forEach(zn=>{zn.hitState=!1}),M.value.forEach(zn=>{zn.hitState=!1})),E.value=!0,D.value=Nt,_e()},ae=()=>{var re;let le;E.value&&S.value?le=S.value.$el.querySelector(`.${l.e("suggestion-item")}`):le=(re=w.value)==null?void 0:re.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),le&&(le.focus(),!E.value&&le.click())},Fe=()=>{var re,le;const Ae=(re=y.value)==null?void 0:re.input,Qe=b.value,ct=(le=S.value)==null?void 0:le.$el;if(!(!Ar||!Ae)){if(ct){const Nt=ct.querySelector(`.${l.e("suggestion-list")}`);Nt.style.minWidth=`${Ae.offsetWidth}px`}if(Qe){const{offsetHeight:Nt}=Qe,zn=k.value.length>0?`${Math.max(Nt,a)-2}px`:`${a}px`;Ae.style.height=zn,_e()}}},We=re=>{var le;return(le=w.value)==null?void 0:le.getCheckedNodes(re)},dn=re=>{_e(),n("expandChange",re)},At=re=>{if(!p.value)switch(re.code){case Ct.enter:case Ct.numpadEnter:ye();break;case Ct.down:ye(!0),Pt(ae),re.preventDefault();break;case Ct.esc:x.value===!0&&(re.preventDefault(),re.stopPropagation(),ye(!1));break;case Ct.tab:ye(!1);break}},$e=()=>{var re;(re=w.value)==null||re.clearCheckedNodes(),!x.value&&r.filterable&&Kt(),ye(!1),n("clear")},Kt=()=>{const{value:re}=X;T.value=re,A.value=re},Kn=re=>{var le,Ae;const{checked:Qe}=re;B.value?(le=w.value)==null||le.handleCheckChange(re,!Qe,!1):(!Qe&&((Ae=w.value)==null||Ae.handleCheckChange(re,!0,!1)),ye(!1))},$t=re=>{const le=re.target,{code:Ae}=re;switch(Ae){case Ct.up:case Ct.down:{re.preventDefault();const Qe=Ae===Ct.up?-1:1;nk(ihe(le,Qe,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case Ct.enter:case Ct.numpadEnter:le.click();break}},wn=()=>{const re=k.value,le=re[re.length-1];s=A.value?0:s+1,!(!le||!s||r.collapseTags&&re.length>1)&&(le.hitState?Oe(le):le.hitState=!0)},$n=rl(()=>{const{value:re}=G;if(!re)return;const le=r.beforeFilter(re);Im(le)?le.then(ze).catch(()=>{}):le!==!1?ze():fe()},r.debounce),je=(re,le)=>{!x.value&&ye(!0),!le?.isComposing&&(re?$n():fe())},mt=re=>Number.parseFloat($$e(u.cssVarName("input-height"),re).value)-2;return Le(E,_e),Le([W,d,()=>r.collapseTags],qe),Le(k,()=>{Pt(()=>Fe())}),Le(V,async()=>{await Pt();const re=y.value.input;a=mt(re)||a,Fe()}),Le(X,Kt,{immediate:!0}),Jt(()=>{const re=y.value.input,le=mt(re);a=re.offsetHeight||le,Di(re,Fe)}),e({getCheckedNodes:We,cascaderPanelRef:w,togglePopperVisible:ye,contentRef:se,presentText:X}),(re,le)=>(N(),de(_(ja),{ref_key:"tooltipRef",ref:g,visible:x.value,teleported:re.teleported,"popper-class":[_(l).e("dropdown"),re.popperClass],"popper-style":re.popperStyle,"popper-options":i,"fallback-placements":re.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:re.placement,transition:`${_(l).namespace.value}-zoom-in-top`,effect:re.effect,pure:"",persistent:re.persistent,onHide:fe},{default:$(()=>[An((N(),Q("div",{ref_key:"wrapperRef",ref:Z,class:q(_(ne)),style:Ot(_(L)),onClick:()=>ye(_(j)?void 0:!0),onKeydown:At,onMouseenter:Ae=>C.value=!0,onMouseleave:Ae=>C.value=!1},[O(_(Ps),{ref_key:"inputRef",ref:y,modelValue:T.value,"onUpdate:modelValue":Ae=>T.value=Ae,placeholder:_(R),readonly:_(j),disabled:_(d),"validate-event":!1,size:_(V),class:q(_(Y)),tabindex:_(B)&&re.filterable&&!_(d)?-1:void 0,onCompositionstart:_(v),onCompositionupdate:_(v),onCompositionend:_(v),onInput:je},Ml({suffix:$(()=>[_(ce)?(N(),de(_(zt),{key:"clear",class:q([_(u).e("icon"),"icon-circle-close"]),onClick:an($e,["stop"])},{default:$(()=>[(N(),de(Vn(re.clearIcon)))]),_:1},8,["class","onClick"])):(N(),de(_(zt),{key:"arrow-down",class:q(_(J)),onClick:an(Ae=>ye(),["stop"])},{default:$(()=>[O(_(sd))]),_:1},8,["class","onClick"]))]),_:2},[re.$slots.prefix?{name:"prefix",fn:$(()=>[Ee(re.$slots,"prefix")])}:void 0]),1032,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),_(B)?(N(),Q("div",{key:0,ref_key:"tagWrapper",ref:b,class:q([_(l).e("tags"),_(l).is("validate",!!_(H))])},[Ee(re.$slots,"tag",{data:M.value,deleteTag:Oe},()=>[(N(!0),Q(ft,null,gn(k.value,Ae=>(N(),de(_(Up),{key:Ae.key,type:re.tagType,size:_(P),effect:re.tagEffect,hit:Ae.hitState,closable:Ae.closable,"disable-transitions":"",onClose:Qe=>Oe(Ae)},{default:$(()=>[Ae.isCollapseTag===!1?(N(),Q("span",{key:0},Ne(Ae.text),1)):(N(),de(_(ja),{key:1,ref_for:!0,ref_key:"tagTooltipRef",ref:m,disabled:x.value||!re.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom","popper-class":re.popperClass,"popper-style":re.popperStyle,effect:re.effect},{default:$(()=>[K("span",null,Ne(Ae.text),1)]),content:$(()=>[O(_(Mc),{"max-height":re.maxCollapseTagsTooltipHeight},{default:$(()=>[K("div",{class:q(_(l).e("collapse-tags"))},[(N(!0),Q(ft,null,gn(M.value.slice(re.maxCollapseTags),(Qe,ct)=>(N(),Q("div",{key:ct,class:q(_(l).e("collapse-tag"))},[(N(),de(_(Up),{key:Qe.key,class:"in-tooltip",type:re.tagType,size:_(P),effect:re.tagEffect,hit:Qe.hitState,closable:Qe.closable,"disable-transitions":"",onClose:Nt=>Oe(Qe)},{default:$(()=>[K("span",null,Ne(Qe.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:1},8,["max-height"])]),_:2},1032,["disabled","popper-class","popper-style","effect"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128))]),re.filterable&&!_(d)?An((N(),Q("input",{key:0,"onUpdate:modelValue":Ae=>A.value=Ae,type:"text",class:q(_(l).e("search-input")),placeholder:_(X)?"":_(I),onInput:Ae=>je(A.value,Ae),onClick:an(Ae=>ye(!0),["stop"]),onKeydown:hi(wn,["delete"]),onCompositionstart:_(v),onCompositionupdate:_(v),onCompositionend:_(v)},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[hm,A.value]]):ge("v-if",!0)],2)):ge("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[_(ch),he,_(se)]])]),content:$(()=>[re.$slots.header?(N(),Q("div",{key:0,class:q(_(l).e("header")),onClick:an(()=>{},["stop"])},[Ee(re.$slots,"header")],10,["onClick"])):ge("v-if",!0),An(O(_(upe),{ref_key:"cascaderPanelRef",ref:w,modelValue:_(U),"onUpdate:modelValue":Ae=>ai(U)?U.value=Ae:null,options:re.options,props:r.props,border:!1,"render-label":re.$slots.default,onExpandChange:dn,onClose:Ae=>re.$nextTick(()=>ye(!1))},{empty:$(()=>[Ee(re.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[kr,!E.value]]),re.filterable?An((N(),de(_(Mc),{key:1,ref_key:"suggestionPanel",ref:S,tag:"ul",class:q(_(l).e("suggestion-panel")),"view-class":_(l).e("suggestion-list"),onKeydown:$t},{default:$(()=>[D.value.length?(N(!0),Q(ft,{key:0},gn(D.value,Ae=>(N(),Q("li",{key:Ae.uid,class:q([_(l).e("suggestion-item"),_(l).is("checked",Ae.checked)]),tabindex:-1,onClick:Qe=>Kn(Ae)},[Ee(re.$slots,"suggestion-item",{item:Ae},()=>[K("span",null,Ne(Ae.text),1),Ae.checked?(N(),de(_(zt),{key:0},{default:$(()=>[O(_(f2))]),_:1})):ge("v-if",!0)])],10,["onClick"]))),128)):Ee(re.$slots,"empty",{key:1},()=>[K("li",{class:q(_(l).e("empty-text"))},Ne(_(c)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[kr,E.value]]):ge("v-if",!0),re.$slots.footer?(N(),Q("div",{key:2,class:q(_(l).e("footer")),onClick:an(()=>{},["stop"])},[Ee(re.$slots,"footer")],10,["onClick"])):ge("v-if",!0)]),_:3},8,["visible","teleported","popper-class","popper-style","fallback-placements","placement","transition","effect","persistent"]))}});var mGe=lt(gGe,[["__file","cascader.vue"]]);const yGe=kn(mGe),bGe=rt({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),_Ge={"update:checked":t=>ei(t),[tr]:t=>ei(t)},wGe=ue({name:"ElCheckTag"}),SGe=ue({...wGe,props:bGe,emits:_Ge,setup(t,{emit:e}){const n=t,r=Ye("check-tag"),i=z(()=>n.disabled),o=z(()=>[r.b(),r.is("checked",n.checked),r.is("disabled",i.value),r.m(n.type||"primary")]),a=()=>{if(i.value)return;const s=!n.checked;e(tr,s),e("update:checked",s)};return(s,l)=>(N(),Q("span",{class:q(_(o)),onClick:a},[Ee(s.$slots,"default")],2))}});var xGe=lt(SGe,[["__file","check-tag.vue"]]);const CGe=kn(xGe),EGe=rt({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:me([Number,Object]),default:()=>ji({})},sm:{type:me([Number,Object]),default:()=>ji({})},md:{type:me([Number,Object]),default:()=>ji({})},lg:{type:me([Number,Object]),default:()=>ji({})},xl:{type:me([Number,Object]),default:()=>ji({})}}),cpe=Symbol("rowContextKey"),TGe=ue({name:"ElCol"}),AGe=ue({...TGe,props:EGe,setup(t){const e=t,{gutter:n}=bt(cpe,{gutter:z(()=>0)}),r=Ye("col"),i=z(()=>{const a={};return n.value&&(a.paddingLeft=a.paddingRight=`${n.value/2}px`),a}),o=z(()=>{const a=[];return["span","offset","pull","push"].forEach(u=>{const c=e[u];Zt(c)&&(u==="span"?a.push(r.b(`${e[u]}`)):c>0&&a.push(r.b(`${u}-${e[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{Zt(e[u])?a.push(r.b(`${u}-${e[u]}`)):Nn(e[u])&&Object.entries(e[u]).forEach(([c,f])=>{a.push(c!=="span"?r.b(`${u}-${c}-${f}`):r.b(`${u}-${f}`))})}),n.value&&a.push(r.is("guttered")),[r.b(),a]});return(a,s)=>(N(),de(Vn(a.tag),{class:q(_(o)),style:Ot(_(i))},{default:$(()=>[Ee(a.$slots,"default")]),_:3},8,["class","style"]))}});var kGe=lt(AGe,[["__file","col.vue"]]);const MGe=kn(kGe),TY=t=>Zt(t)||Ht(t)||tt(t),PGe=rt({accordion:Boolean,modelValue:{type:me([Array,String,Number]),default:()=>ji([])},expandIconPosition:{type:me([String]),default:"right"},beforeCollapse:{type:me(Function)}}),OGe={[_n]:TY,[tr]:TY},fpe=Symbol("collapseContextKey"),IGe="ElCollapse",RGe=(t,e)=>{const n=F(wa(t.modelValue)),r=a=>{n.value=a;const s=t.accordion?n.value[0]:n.value;e(_n,s),e(tr,s)},i=a=>{if(t.accordion)r([n.value[0]===a?"":a]);else{const s=[...n.value],l=s.indexOf(a);l>-1?s.splice(l,1):s.push(a),r(s)}},o=async a=>{const{beforeCollapse:s}=t;if(!s){i(a);return}const l=s(a);[Im(l),ei(l)].includes(!0)||xo(IGe,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),Im(l)?l.then(c=>{c!==!1&&i(a)}).catch(c=>{}):l&&i(a)};return Le(()=>t.modelValue,()=>n.value=wa(t.modelValue),{deep:!0}),jn(fpe,{activeNames:n,handleItemClick:o}),{activeNames:n,setActiveNames:r}},LGe=t=>{const e=Ye("collapse");return{rootKls:z(()=>[e.b(),e.b(`icon-position-${t.expandIconPosition}`)])}},DGe=ue({name:"ElCollapse"}),NGe=ue({...DGe,props:PGe,emits:OGe,setup(t,{expose:e,emit:n}){const r=t,{activeNames:i,setActiveNames:o}=RGe(r,n),{rootKls:a}=LGe(r);return e({activeNames:i,setActiveNames:o}),(s,l)=>(N(),Q("div",{class:q(_(a))},[Ee(s.$slots,"default")],2))}});var BGe=lt(NGe,[["__file","collapse.vue"]]);const $Ge=ue({name:"ElCollapseTransition"}),FGe=ue({...$Ge,setup(t){const e=Ye("collapse-transition"),n=i=>{i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom},r={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.height&&(i.dataset.elExistsHeight=i.style.height),i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){requestAnimationFrame(()=>{i.dataset.oldOverflow=i.style.overflow,i.dataset.elExistsHeight?i.style.maxHeight=i.dataset.elExistsHeight:i.scrollHeight!==0?i.style.maxHeight=`${i.scrollHeight}px`:i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom,i.style.overflow="hidden"})},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},enterCancelled(i){n(i)},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight=`${i.scrollHeight}px`,i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){n(i)},leaveCancelled(i){n(i)}};return(i,o)=>(N(),de(ka,Fn({name:_(e).b()},pOe(r)),{default:$(()=>[Ee(i.$slots,"default")]),_:3},16,["name"]))}});var VGe=lt(FGe,[["__file","collapse-transition.vue"]]);const CI=kn(VGe),zGe=rt({title:{type:String,default:""},name:{type:me([String,Number]),default:void 0},icon:{type:Xr,default:Rs},disabled:Boolean}),HGe=t=>{const e=bt(fpe),{namespace:n}=Ye("collapse"),r=F(!1),i=F(!1),o=Dz(),a=z(()=>o.current++),s=z(()=>{var d;return(d=t.name)!=null?d:`${n.value}-id-${o.prefix}-${_(a)}`}),l=z(()=>e?.activeNames.value.includes(_(s)));return{focusing:r,id:a,isActive:l,handleFocus:()=>{setTimeout(()=>{i.value?i.value=!1:r.value=!0},50)},handleHeaderClick:d=>{if(t.disabled)return;const h=d.target;h?.closest("input, textarea, select")||(e?.handleItemClick(_(s)),r.value=!1,i.value=!0)},handleEnterClick:d=>{const h=d.target;h?.closest("input, textarea, select")||(d.preventDefault(),e?.handleItemClick(_(s)))}}},jGe=(t,{focusing:e,isActive:n,id:r})=>{const i=Ye("collapse"),o=z(()=>[i.b("item"),i.is("active",_(n)),i.is("disabled",t.disabled)]),a=z(()=>[i.be("item","header"),i.is("active",_(n)),{focusing:_(e)&&!t.disabled}]),s=z(()=>[i.be("item","arrow"),i.is("active",_(n))]),l=z(()=>[i.be("item","title")]),u=z(()=>i.be("item","wrap")),c=z(()=>i.be("item","content")),f=z(()=>i.b(`content-${_(r)}`)),d=z(()=>i.b(`head-${_(r)}`));return{itemTitleKls:l,arrowKls:s,headKls:a,rootKls:o,itemWrapperKls:u,itemContentKls:c,scopedContentId:f,scopedHeadId:d}},GGe=ue({name:"ElCollapseItem"}),UGe=ue({...GGe,props:zGe,setup(t,{expose:e}){const n=t,{focusing:r,id:i,isActive:o,handleFocus:a,handleHeaderClick:s,handleEnterClick:l}=HGe(n),{arrowKls:u,headKls:c,rootKls:f,itemTitleKls:d,itemWrapperKls:h,itemContentKls:p,scopedContentId:v,scopedHeadId:g}=jGe(n,{focusing:r,isActive:o,id:i});return e({isActive:o}),(m,y)=>(N(),Q("div",{class:q(_(f))},[K("div",{id:_(g),class:q(_(c)),"aria-expanded":_(o),"aria-controls":_(v),"aria-describedby":_(v),tabindex:m.disabled?-1:0,role:"button",onClick:_(s),onKeydown:hi(an(_(l),["stop"]),["space","enter"]),onFocus:_(a),onBlur:b=>r.value=!1},[K("span",{class:q(_(d))},[Ee(m.$slots,"title",{isActive:_(o)},()=>[Be(Ne(m.title),1)])],2),Ee(m.$slots,"icon",{isActive:_(o)},()=>[O(_(zt),{class:q(_(u))},{default:$(()=>[(N(),de(Vn(m.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),O(_(CI),null,{default:$(()=>[An(K("div",{id:_(v),role:"region",class:q(_(h)),"aria-hidden":!_(o),"aria-labelledby":_(g)},[K("div",{class:q(_(p))},[Ee(m.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[kr,_(o)]])]),_:3})],2))}});var dpe=lt(UGe,[["__file","collapse-item.vue"]]);const WGe=kn(BGe,{CollapseItem:dpe}),qGe=Wi(dpe),KGe=rt({color:{type:me(Object),required:!0},vertical:Boolean,disabled:Boolean});let ND=!1;function Dx(t,e){if(!Ar)return;const n=function(o){var a;(a=e.drag)==null||a.call(e,o)},r=function(o){var a;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,ND=!1,(a=e.end)==null||a.call(e,o)},i=function(o){var a;ND||(o.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),ND=!0,(a=e.start)==null||a.call(e,o))};t.addEventListener("mousedown",i),t.addEventListener("touchstart",i,{passive:!1})}const AY=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},bF=(t,e)=>Math.abs(AY(t)-AY(e)),Xz=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}},YGe=t=>{const e=Un(),{t:n}=Cr(),r=bi(),i=bi(),o=z(()=>t.color.get("alpha")),a=z(()=>n("el.colorpicker.alphaLabel"));function s(f){var d;if(t.disabled)return;f.target!==r.value&&l(f),(d=r.value)==null||d.focus()}function l(f){if(!i.value||!r.value||t.disabled)return;const h=e.vnode.el.getBoundingClientRect(),{clientX:p,clientY:v}=Xz(f);if(t.vertical){let g=v-h.top;g=Math.max(r.value.offsetHeight/2,g),g=Math.min(g,h.height-r.value.offsetHeight/2),t.color.set("alpha",Math.round((g-r.value.offsetHeight/2)/(h.height-r.value.offsetHeight)*100))}else{let g=p-h.left;g=Math.max(r.value.offsetWidth/2,g),g=Math.min(g,h.width-r.value.offsetWidth/2),t.color.set("alpha",Math.round((g-r.value.offsetWidth/2)/(h.width-r.value.offsetWidth)*100))}}function u(f){if(t.disabled)return;const{code:d,shiftKey:h}=f,p=h?10:1;switch(d){case Ct.left:case Ct.down:f.preventDefault(),f.stopPropagation(),c(-p);break;case Ct.right:case Ct.up:f.preventDefault(),f.stopPropagation(),c(p);break}}function c(f){let d=o.value+f;d=d<0?0:d>100?100:d,t.color.set("alpha",d)}return{thumb:r,bar:i,alpha:o,alphaLabel:a,handleDrag:l,handleClick:s,handleKeydown:u}},XGe=(t,{bar:e,thumb:n,handleDrag:r})=>{const i=Un(),o=Ye("color-alpha-slider"),a=F(0),s=F(0),l=F();function u(){if(!n.value||t.vertical)return 0;const y=i.vnode.el,b=t.color.get("alpha");return y?Math.round(b*(y.offsetWidth-n.value.offsetWidth/2)/100):0}function c(){if(!n.value)return 0;const y=i.vnode.el;if(!t.vertical)return 0;const b=t.color.get("alpha");return y?Math.round(b*(y.offsetHeight-n.value.offsetHeight/2)/100):0}function f(){if(t.color&&t.color.value){const{r:y,g:b,b:w}=t.color.toRgb();return`linear-gradient(to right, rgba(${y}, ${b}, ${w}, 0) 0%, rgba(${y}, ${b}, ${w}, 1) 100%)`}return""}function d(){a.value=u(),s.value=c(),l.value=f()}Jt(()=>{if(!e.value||!n.value)return;const y={drag:b=>{r(b)},end:b=>{r(b)}};Dx(e.value,y),Dx(n.value,y),d()}),Le(()=>t.color.get("alpha"),()=>d()),Le(()=>t.color.value,()=>d());const h=z(()=>[o.b(),o.is("vertical",t.vertical),o.is("disabled",t.disabled)]),p=z(()=>o.e("bar")),v=z(()=>o.e("thumb")),g=z(()=>({background:l.value})),m=z(()=>({left:Qi(a.value),top:Qi(s.value)}));return{rootKls:h,barKls:p,barStyle:g,thumbKls:v,thumbStyle:m,update:d}},ZGe="ElColorAlphaSlider",JGe=ue({name:ZGe}),QGe=ue({...JGe,props:KGe,setup(t,{expose:e}){const n=t,{alpha:r,alphaLabel:i,bar:o,thumb:a,handleDrag:s,handleClick:l,handleKeydown:u}=YGe(n),{rootKls:c,barKls:f,barStyle:d,thumbKls:h,thumbStyle:p,update:v}=XGe(n,{bar:o,thumb:a,handleDrag:s});return e({update:v,bar:o,thumb:a}),(g,m)=>(N(),Q("div",{class:q(_(c))},[K("div",{ref_key:"bar",ref:o,class:q(_(f)),style:Ot(_(d)),onClick:_(l)},null,14,["onClick"]),K("div",{ref_key:"thumb",ref:a,class:q(_(h)),style:Ot(_(p)),"aria-label":_(i),"aria-valuenow":_(r),"aria-orientation":g.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:_(u)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var e9e=lt(QGe,[["__file","alpha-slider.vue"]]);const t9e=ue({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean,disabled:Boolean},setup(t){const e=Ye("color-hue-slider"),n=Un(),r=F(),i=F(),o=F(0),a=F(0),s=z(()=>t.color.get("hue"));Le(()=>s.value,()=>{d()});function l(h){if(t.disabled)return;h.target!==r.value&&u(h)}function u(h){if(!i.value||!r.value||t.disabled)return;const v=n.vnode.el.getBoundingClientRect(),{clientX:g,clientY:m}=Xz(h);let y;if(t.vertical){let b=m-v.top;b=Math.min(b,v.height-r.value.offsetHeight/2),b=Math.max(r.value.offsetHeight/2,b),y=Math.round((b-r.value.offsetHeight/2)/(v.height-r.value.offsetHeight)*360)}else{let b=g-v.left;b=Math.min(b,v.width-r.value.offsetWidth/2),b=Math.max(r.value.offsetWidth/2,b),y=Math.round((b-r.value.offsetWidth/2)/(v.width-r.value.offsetWidth)*360)}t.color.set("hue",y)}function c(){if(!r.value)return 0;const h=n.vnode.el;if(t.vertical)return 0;const p=t.color.get("hue");return h?Math.round(p*(h.offsetWidth-r.value.offsetWidth/2)/360):0}function f(){if(!r.value)return 0;const h=n.vnode.el;if(!t.vertical)return 0;const p=t.color.get("hue");return h?Math.round(p*(h.offsetHeight-r.value.offsetHeight/2)/360):0}function d(){o.value=c(),a.value=f()}return Jt(()=>{if(!i.value||!r.value||t.disabled)return;const h={drag:p=>{u(p)},end:p=>{u(p)}};Dx(i.value,h),Dx(r.value,h),d()}),{bar:i,thumb:r,thumbLeft:o,thumbTop:a,hueValue:s,handleClick:l,update:d,ns:e}}});function n9e(t,e,n,r,i,o){return N(),Q("div",{class:q([t.ns.b(),t.ns.is("vertical",t.vertical)])},[K("div",{ref:"bar",class:q(t.ns.e("bar")),onClick:t.handleClick},null,10,["onClick"]),K("div",{ref:"thumb",class:q(t.ns.e("thumb")),style:Ot({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var r9e=lt(t9e,[["render",n9e],["__file","hue-slider.vue"]]);const hpe=rt({modelValue:{type:me(String),default:void 0},border:{type:Boolean,default:!0},showAlpha:Boolean,colorFormat:String,disabled:Boolean,predefine:{type:me(Array)}}),i9e={[_n]:t=>Ht(t)||So(t)},ppe=Symbol("colorCommonPickerKey"),vpe=Symbol("colorPickerPanelContextKey");let NM=class{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this._tiny=new q0,this._isValid=!1,this.enableAlpha=!1,this.format="",this.value="";for(const n in e)Rr(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const r in e)Rr(e,r)&&this.set(r,e[r]);return}this[`_${e}`]=n,this._isValid=!0,this.doOnChange()}get(e){return["hue","saturation","value","alpha"].includes(e)?Math.round(this[`_${e}`]):this[`_${e}`]}toRgb(){return this._isValid?this._tiny.toRgb():{r:255,g:255,b:255,a:0}}fromString(e){const n=new q0(e);if(this._isValid=n.isValid,n.isValid){const{h:r,s:i,v:o,a}=n.toHsv();this._hue=r,this._saturation=i*100,this._value=o*100,this._alpha=a*100}else this._hue=0,this._saturation=100,this._value=100,this._alpha=100;this.doOnChange()}compare(e){const n=new q0({h:e._hue,s:e._saturation/100,v:e._value/100,a:e._alpha/100});return this._tiny.equals(n)}doOnChange(){const{_hue:e,_saturation:n,_value:r,_alpha:i,format:o,enableAlpha:a}=this;let s=o||(a?"rgb":"hex");o==="hex"&&a&&(s="hex8"),this._tiny=new q0({h:e,s:n/100,v:r/100,a:i/100}),this.value=this._isValid?this._tiny.toString(s):""}};const o9e=ue({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0},disabled:Boolean},setup(t){const e=Ye("color-predefine"),{currentColor:n}=bt(vpe),r=F(o(t.colors,t.color));Le(()=>n.value,a=>{const s=new NM({value:a});r.value.forEach(l=>{l.selected=s.compare(l)})}),is(()=>{r.value=o(t.colors,t.color)});function i(a){t.disabled||t.color.fromString(t.colors[a])}function o(a,s){return a.map(l=>{const u=new NM({value:l});return u.selected=u.compare(s),u})}return{rgbaColors:r,handleSelect:i,ns:e}}});function a9e(t,e,n,r,i,o){return N(),Q("div",{class:q(t.ns.b())},[K("div",{class:q(t.ns.e("colors"))},[(N(!0),Q(ft,null,gn(t.rgbaColors,(a,s)=>(N(),Q("div",{key:t.colors[s],class:q([t.ns.e("color-selector"),t.ns.is("alpha",a.get("alpha")<100),{selected:a.selected}]),onClick:l=>t.handleSelect(s)},[K("div",{style:Ot({backgroundColor:a.value})},null,4)],10,["onClick"]))),128))],2)],2)}var s9e=lt(o9e,[["render",a9e],["__file","predefine.vue"]]);const l9e=ue({name:"ElSlPanel",props:{color:{type:Object,required:!0},disabled:Boolean},setup(t){const e=Ye("color-svpanel"),n=Un(),r=F(0),i=F(0),o=F("hsl(0, 100%, 50%)"),a=z(()=>{const u=t.color.get("hue"),c=t.color.get("value");return{hue:u,value:c}});function s(){const u=t.color.get("saturation"),c=t.color.get("value"),f=n.vnode.el,{clientWidth:d,clientHeight:h}=f;i.value=u*d/100,r.value=(100-c)*h/100,o.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function l(u){if(t.disabled)return;const f=n.vnode.el.getBoundingClientRect(),{clientX:d,clientY:h}=Xz(u);let p=d-f.left,v=h-f.top;p=Math.max(0,p),p=Math.min(p,f.width),v=Math.max(0,v),v=Math.min(v,f.height),i.value=p,r.value=v,t.color.set({saturation:p/f.width*100,value:100-v/f.height*100})}return Le(()=>a.value,()=>{s()}),Jt(()=>{Dx(n.vnode.el,{drag:u=>{l(u)},end:u=>{l(u)}}),s()}),{cursorTop:r,cursorLeft:i,background:o,colorValue:a,handleDrag:l,update:s,ns:e}}});function u9e(t,e,n,r,i,o){return N(),Q("div",{class:q(t.ns.b()),style:Ot({backgroundColor:t.background})},[K("div",{class:q(t.ns.e("white"))},null,2),K("div",{class:q(t.ns.e("black"))},null,2),K("div",{class:q(t.ns.e("cursor")),style:Ot({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},[K("div")],6)],6)}var c9e=lt(l9e,[["render",u9e],["__file","sv-panel.vue"]]);const gpe=(t,e)=>{const n=Bn(new NM({enableAlpha:t.showAlpha,format:t.colorFormat||"",value:t.modelValue}));return Le(()=>[t.colorFormat,t.showAlpha],()=>{n.enableAlpha=t.showAlpha,n.format=t.colorFormat||n.format,n.doOnChange(),e(_n,n.value)}),{color:n}},f9e=ue({name:"ElColorPickerPanel"}),d9e=ue({...f9e,props:hpe,emits:i9e,setup(t,{expose:e,emit:n}){const r=t,i=Ye("color-picker-panel"),o=pa(),a=F(),s=F(),l=F(),u=F(),c=F(""),{color:f}=bt(ppe,()=>gpe(r,n),!0);function d(){f.fromString(c.value),f.value!==c.value&&(c.value=f.value)}return Jt(()=>{r.modelValue&&(c.value=f.value),Pt(()=>{var h,p,v;(h=a.value)==null||h.update(),(p=s.value)==null||p.update(),(v=l.value)==null||v.update()})}),Le(()=>r.modelValue,h=>{h&&h!==f.value&&f.fromString(h)}),Le(()=>f.value,h=>{n(_n,h),c.value=h}),jn(vpe,{currentColor:z(()=>f.value)}),e({color:f,inputRef:u}),(h,p)=>(N(),Q("div",{class:q([_(i).b(),_(i).is("disabled",_(o)),_(i).is("border",h.border)])},[K("div",{class:q(_(i).e("wrapper"))},[O(r9e,{ref_key:"hue",ref:a,class:"hue-slider",color:_(f),vertical:"",disabled:_(o)},null,8,["color","disabled"]),O(c9e,{ref_key:"sv",ref:s,color:_(f),disabled:_(o)},null,8,["color","disabled"])],2),h.showAlpha?(N(),de(e9e,{key:0,ref_key:"alpha",ref:l,color:_(f),disabled:_(o)},null,8,["color","disabled"])):ge("v-if",!0),h.predefine?(N(),de(s9e,{key:1,ref:"predefine","enable-alpha":h.showAlpha,color:_(f),colors:h.predefine,disabled:_(o)},null,8,["enable-alpha","color","colors","disabled"])):ge("v-if",!0),K("div",{class:q(_(i).e("footer"))},[O(_(Ps),{ref_key:"inputRef",ref:u,modelValue:c.value,"onUpdate:modelValue":v=>c.value=v,"validate-event":!1,size:"small",disabled:_(o),onChange:d},null,8,["modelValue","onUpdate:modelValue","disabled"]),Ee(h.$slots,"footer")],2)],2))}});var h9e=lt(d9e,[["__file","color-picker-panel.vue"]]);const mpe=kn(h9e),p9e=rt({persistent:{type:Boolean,default:!0},modelValue:{type:me(String),default:void 0},id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Ho,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:Ai.teleported,appendTo:Ai.appendTo,predefine:{type:me(Array)},validateEvent:{type:Boolean,default:!0},...my,...fs(["ariaLabel"])}),v9e={[_n]:t=>Ht(t)||So(t),[tr]:t=>Ht(t)||So(t),activeChange:t=>Ht(t)||So(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},g9e=ue({name:"ElColorPicker"}),m9e=ue({...g9e,props:p9e,emits:v9e,setup(t,{expose:e,emit:n}){const r=t,{t:i}=Cr(),o=Ye("color"),{formItem:a}=Ua(),s=Po(),l=pa(),{valueOnClear:u,isEmptyValue:c}=c2(r,null),f=gpe(r,n),{inputId:d,isLabeledByFormItem:h}=tu(r,{formItemContext:a}),p=F(),v=F(),g=F(),m=F(!1),y=F(!1);let b=!0;const{isFocused:w,handleFocus:S,handleBlur:x}=Ph(v,{disabled:l,beforeBlur(H){var U;return(U=p.value)==null?void 0:U.isFocusInsideContent(H)},afterBlur(){I(!1),B()}}),C=s$e(()=>{var H,U;return(U=(H=g.value)==null?void 0:H.color)!=null?U:f.color}),E=z(()=>Zs(r,Object.keys(hpe))),T=z(()=>!r.modelValue&&!y.value?"transparent":L(C,r.showAlpha)),A=z(()=>!r.modelValue&&!y.value?"":C.value),k=z(()=>h.value?void 0:r.ariaLabel||i("el.colorpicker.defaultLabel")),M=z(()=>h.value?a?.labelId:void 0),D=z(()=>[o.b("picker"),o.is("disabled",l.value),o.bm("picker",s.value),o.is("focused",w.value)]);function L(H,U){const{r:ne,g:J,b:Y,a:se}=H.toRgb();return U?`rgba(${ne}, ${J}, ${Y}, ${se})`:`rgb(${ne}, ${J}, ${Y})`}function I(H){m.value=H}const R=rl(I,100,{leading:!0});function V(){l.value||I(!0)}function P(){R(!1),B()}function B(){Pt(()=>{r.modelValue?C.fromString(r.modelValue):(C.value="",Pt(()=>{y.value=!1}))})}function j(){l.value||(m.value&&B(),R(!m.value))}function G(){const H=c(C.value)?u.value:C.value;n(_n,H),n(tr,H),r.validateEvent&&a?.validate("change").catch(U=>void 0),R(!1),Pt(()=>{const U=new NM({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});C.compare(U)||B()})}function W(){R(!1),n(_n,u.value),n(tr,u.value),r.modelValue!==u.value&&r.validateEvent&&a?.validate("change").catch(H=>void 0),B()}function Z(){m.value&&(P(),w.value&&ce())}function ee(H){H.preventDefault(),H.stopPropagation(),I(!1),B()}function oe(H){var U,ne;switch(H.code){case Ct.enter:case Ct.numpadEnter:case Ct.space:H.preventDefault(),H.stopPropagation(),V(),(ne=(U=g?.value)==null?void 0:U.inputRef)==null||ne.focus();break;case Ct.esc:ee(H);break}}function ce(){v.value.focus()}function X(){v.value.blur()}return Le(()=>A.value,H=>{b&&n("activeChange",H),b=!0}),Le(()=>C.value,()=>{!r.modelValue&&!y.value&&(y.value=!0)}),Le(()=>r.modelValue,H=>{H?H&&H!==C.value&&(b=!1,C.fromString(H)):y.value=!1}),jn(ppe,f),e({color:C,show:V,hide:P,focus:ce,blur:X}),(H,U)=>(N(),de(_(ja),{ref_key:"popper",ref:p,visible:m.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[_(o).be("picker","panel"),H.popperClass],"stop-popper-mouse-event":!1,pure:"",effect:"light",trigger:"click",teleported:H.teleported,transition:`${_(o).namespace.value}-zoom-in-top`,persistent:H.persistent,"append-to":H.appendTo,onHide:ne=>I(!1)},{content:$(()=>[An((N(),de(_(mpe),Fn({ref_key:"pickerPanelRef",ref:g},_(E),{border:!1,onKeydown:hi(ee,["esc"])}),{footer:$(()=>[K("div",null,[O(_(Ea),{class:q(_(o).be("footer","link-btn")),text:"",size:"small",onClick:W},{default:$(()=>[Be(Ne(_(i)("el.colorpicker.clear")),1)]),_:1},8,["class"]),O(_(Ea),{plain:"",size:"small",class:q(_(o).be("footer","btn")),onClick:G},{default:$(()=>[Be(Ne(_(i)("el.colorpicker.confirm")),1)]),_:1},8,["class"])])]),_:1},16,["onKeydown"])),[[_(ch),Z,v.value]])]),default:$(()=>[K("div",Fn({id:_(d),ref_key:"triggerRef",ref:v},H.$attrs,{class:_(D),role:"button","aria-label":_(k),"aria-labelledby":_(M),"aria-description":_(i)("el.colorpicker.description",{color:H.modelValue||""}),"aria-disabled":_(l),tabindex:_(l)?void 0:H.tabindex,onKeydown:oe,onFocus:_(S),onBlur:_(x)}),[K("div",{class:q(_(o).be("picker","trigger")),onClick:j},[K("span",{class:q([_(o).be("picker","color"),_(o).is("alpha",H.showAlpha)])},[K("span",{class:q(_(o).be("picker","color-inner")),style:Ot({backgroundColor:_(T)})},[An(O(_(zt),{class:q([_(o).be("picker","icon"),_(o).is("icon-arrow-down")])},{default:$(()=>[O(_(sd))]),_:1},8,["class"]),[[kr,H.modelValue||y.value]]),An(O(_(zt),{class:q([_(o).be("picker","empty"),_(o).is("icon-close")])},{default:$(()=>[O(_(Hu))]),_:1},8,["class"]),[[kr,!H.modelValue&&!y.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","persistent","append-to","onHide"]))}});var y9e=lt(m9e,[["__file","color-picker.vue"]]);const b9e=kn(y9e),_9e=rt({a11y:{type:Boolean,default:!0},locale:{type:me(Object)},size:Ho,button:{type:me(Object)},card:{type:me(Object)},dialog:{type:me(Object)},link:{type:me(Object)},experimentalFeatures:{type:me(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:me(Object)},zIndex:Number,namespace:{type:String,default:"el"},...my}),ws={placement:"top"},w9e=ue({name:"ElConfigProvider",props:_9e,setup(t,{slots:e}){const n=bz(t);return Le(()=>t.message,r=>{var i,o;Object.assign(ws,(o=(i=n?.value)==null?void 0:i.message)!=null?o:{},r??{})},{immediate:!0,deep:!0}),()=>Ee(e,"default",{config:n?.value})}}),S9e=kn(w9e),x9e=ue({name:"ElContainer"}),C9e=ue({...x9e,props:rt({direction:{type:String,values:["horizontal","vertical"]}}),setup(t){const e=t,n=Co(),r=Ye("container"),i=z(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(a=>{const s=a.type.name;return s==="ElHeader"||s==="ElFooter"}):!1);return(o,a)=>(N(),Q("section",{class:q([_(r).b(),_(r).is("vertical",_(i))])},[Ee(o.$slots,"default")],2))}});var E9e=lt(C9e,[["__file","container.vue"]]);const T9e=ue({name:"ElAside"}),A9e=ue({...T9e,props:{width:{type:String,default:null}},setup(t){const e=t,n=Ye("aside"),r=z(()=>e.width?n.cssVarBlock({width:e.width}):{});return(i,o)=>(N(),Q("aside",{class:q(_(n).b()),style:Ot(_(r))},[Ee(i.$slots,"default")],6))}});var ype=lt(A9e,[["__file","aside.vue"]]);const k9e=ue({name:"ElFooter"}),M9e=ue({...k9e,props:{height:{type:String,default:null}},setup(t){const e=t,n=Ye("footer"),r=z(()=>e.height?n.cssVarBlock({height:e.height}):{});return(i,o)=>(N(),Q("footer",{class:q(_(n).b()),style:Ot(_(r))},[Ee(i.$slots,"default")],6))}});var bpe=lt(M9e,[["__file","footer.vue"]]);const P9e=ue({name:"ElHeader"}),O9e=ue({...P9e,props:{height:{type:String,default:null}},setup(t){const e=t,n=Ye("header"),r=z(()=>e.height?n.cssVarBlock({height:e.height}):{});return(i,o)=>(N(),Q("header",{class:q(_(n).b()),style:Ot(_(r))},[Ee(i.$slots,"default")],6))}});var _pe=lt(O9e,[["__file","header.vue"]]);const I9e=ue({name:"ElMain"}),R9e=ue({...I9e,setup(t){const e=Ye("main");return(n,r)=>(N(),Q("main",{class:q(_(e).b())},[Ee(n.$slots,"default")],2))}});var wpe=lt(R9e,[["__file","main.vue"]]);const L9e=kn(E9e,{Aside:ype,Footer:bpe,Header:_pe,Main:wpe}),D9e=Wi(ype),N9e=Wi(bpe),B9e=Wi(_pe),$9e=Wi(wpe);var sk={exports:{}},F9e=sk.exports,kY;function V9e(){return kY||(kY=1,(function(t,e){(function(n,r){t.exports=r()})(F9e,(function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,o=/\d\d/,a=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,l={},u=function(g){return(g=+g)+(g>68?1900:2e3)},c=function(g){return function(m){this[g]=+m}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=(function(m){if(!m||m==="Z")return 0;var y=m.match(/([+-]|\d\d)/g),b=60*y[1]+(+y[2]||0);return b===0?0:y[0]==="+"?-b:b})(g)}],d=function(g){var m=l[g];return m&&(m.indexOf?m:m.s.concat(m.f))},h=function(g,m){var y,b=l.meridiem;if(b){for(var w=1;w<=24;w+=1)if(g.indexOf(b(w,0,m))>-1){y=w>12;break}}else y=g===(m?"pm":"PM");return y},p={A:[s,function(g){this.afternoon=h(g,!1)}],a:[s,function(g){this.afternoon=h(g,!0)}],Q:[i,function(g){this.month=3*(g-1)+1}],S:[i,function(g){this.milliseconds=100*+g}],SS:[o,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[a,c("seconds")],ss:[a,c("seconds")],m:[a,c("minutes")],mm:[a,c("minutes")],H:[a,c("hours")],h:[a,c("hours")],HH:[a,c("hours")],hh:[a,c("hours")],D:[a,c("day")],DD:[o,c("day")],Do:[s,function(g){var m=l.ordinal,y=g.match(/\d+/);if(this.day=y[0],m)for(var b=1;b<=31;b+=1)m(b).replace(/\[|\]/g,"")===g&&(this.day=b)}],w:[a,c("week")],ww:[o,c("week")],M:[a,c("month")],MM:[o,c("month")],MMM:[s,function(g){var m=d("months"),y=(d("monthsShort")||m.map((function(b){return b.slice(0,3)}))).indexOf(g)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[s,function(g){var m=d("months").indexOf(g)+1;if(m<1)throw new Error;this.month=m%12||m}],Y:[/[+-]?\d+/,c("year")],YY:[o,function(g){this.year=u(g)}],YYYY:[/\d{4}/,c("year")],Z:f,ZZ:f};function v(g){var m,y;m=g,y=l&&l.formats;for(var b=(g=m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(A,k,M){var D=M&&M.toUpperCase();return k||y[M]||n[M]||y[D].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(L,I,R){return I||R.slice(1)}))}))).match(r),w=b.length,S=0;S<w;S+=1){var x=b[S],C=p[x],E=C&&C[0],T=C&&C[1];b[S]=T?{regex:E,parser:T}:x.replace(/^\[|\]$/g,"")}return function(A){for(var k={},M=0,D=0;M<w;M+=1){var L=b[M];if(typeof L=="string")D+=L.length;else{var I=L.regex,R=L.parser,V=A.slice(D),P=I.exec(V)[0];R.call(k,P),A=A.replace(P,"")}}return(function(B){var j=B.afternoon;if(j!==void 0){var G=B.hours;j?G<12&&(B.hours+=12):G===12&&(B.hours=0),delete B.afternoon}})(k),k}}return function(g,m,y){y.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(u=g.parseTwoDigitYear);var b=m.prototype,w=b.parse;b.parse=function(S){var x=S.date,C=S.utc,E=S.args;this.$u=C;var T=E[1];if(typeof T=="string"){var A=E[2]===!0,k=E[3]===!0,M=A||k,D=E[2];k&&(D=E[2]),l=this.$locale(),!A&&D&&(l=y.Ls[D]),this.$d=(function(V,P,B,j){try{if(["x","X"].indexOf(P)>-1)return new Date((P==="X"?1e3:1)*V);var G=v(P)(V),W=G.year,Z=G.month,ee=G.day,oe=G.hours,ce=G.minutes,X=G.seconds,H=G.milliseconds,U=G.zone,ne=G.week,J=new Date,Y=ee||(W||Z?1:J.getDate()),se=W||J.getFullYear(),he=0;W&&!Z||(he=Z>0?Z-1:J.getMonth());var ye,_e=oe||0,fe=ce||0,Ce=X||0,Oe=H||0;return U?new Date(Date.UTC(se,he,Y,_e,fe,Ce,Oe+60*U.offset*1e3)):B?new Date(Date.UTC(se,he,Y,_e,fe,Ce,Oe)):(ye=new Date(se,he,Y,_e,fe,Ce,Oe),ne&&(ye=j(ye).week(ne).toDate()),ye)}catch{return new Date("")}})(x,T,C,y),this.init(),D&&D!==!0&&(this.$L=this.locale(D).$L),M&&x!=this.format(T)&&(this.$d=new Date("")),l={}}else if(T instanceof Array)for(var L=T.length,I=1;I<=L;I+=1){E[1]=T[I-1];var R=y.apply(this,E);if(R.isValid()){this.$d=R.$d,this.$L=R.$L,this.init();break}I===L&&(this.$d=new Date(""))}else w.call(this,S)}}}))})(sk)),sk.exports}var z9e=V9e();const Zz=nu(z9e),MY=["hours","minutes","seconds"],Pc="EP_PICKER_BASE",Jz="ElPopperOptions",Spe=Symbol("commonPickerContextKey"),Yb="HH:mm:ss",_p="YYYY-MM-DD",H9e={date:_p,dates:_p,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${_p} ${Yb}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:_p,datetimerange:`${_p} ${Yb}`},xpe=(t,e)=>{const{lang:n}=Cr(),r=F(!1),i=F(!1),o=F(null),a=z(()=>{const{modelValue:p}=t;return!p||tt(p)&&!p.filter(Boolean).length}),s=p=>{if(!zhe(t.modelValue,p)){let v;tt(p)?v=p.map(m=>mY(m,t.valueFormat,n.value)):p&&(v=mY(p,t.valueFormat,n.value)),e(_n,p&&v,n.value)}},l=z(()=>{var p;let v;if(a.value?u.value.getDefaultValue&&(v=u.value.getDefaultValue()):tt(t.modelValue)?v=t.modelValue.map(g=>gY(g,t.valueFormat,n.value)):v=gY((p=t.modelValue)!=null?p:"",t.valueFormat,n.value),u.value.getRangeAvailableTime){const g=u.value.getRangeAvailableTime(v);Ei(g,v)||(v=g,a.value||s(ok(v)))}return tt(v)&&v.some(g=>!g)&&(v=[]),v}),u=F({});return{parsedValue:l,pickerActualVisible:i,pickerOptions:u,pickerVisible:r,userInput:o,valueIsEmpty:a,emitInput:s,onCalendarChange:p=>{e("calendar-change",p)},onPanelChange:(p,v,g)=>{e("panel-change",p,v,g)},onPick:(p="",v=!1)=>{r.value=v;let g;tt(p)?g=p.map(m=>m.toDate()):g=p&&p.toDate(),o.value=null,s(g)},onSetPickerOption:p=>{u.value[p[0]]=p[1],u.value.panelReady=!0}}},Qz=rt({disabledHours:{type:me(Function)},disabledMinutes:{type:me(Function)},disabledSeconds:{type:me(Function)}}),Cpe=rt({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),eH=rt({id:{type:me([Array,String])},name:{type:me([Array,String])},popperClass:Ai.popperClass,popperStyle:Ai.popperStyle,format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:me([String,Object]),default:Mh},editable:{type:Boolean,default:!0},prefixIcon:{type:me([String,Object]),default:""},size:Ho,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:me(Object),default:()=>({})},modelValue:{type:me([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:me([Date,Array])},defaultTime:{type:me([Date,Array])},isRange:Boolean,...Qz,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:me([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:me(String),values:Oh,default:"bottom"},fallbackPlacements:{type:me(Array),default:["bottom","top","right","left"]},...my,...fs(["ariaLabel"]),showNow:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean}),j9e=rt({id:{type:me(Array)},name:{type:me(Array)},modelValue:{type:me([Array,String])},startPlaceholder:String,endPlaceholder:String,disabled:Boolean}),G9e=ue({name:"PickerRangeTrigger",inheritAttrs:!1}),U9e=ue({...G9e,props:j9e,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(t,{expose:e,emit:n}){const r=t,{formItem:i}=Ua(),{inputId:o}=tu(Bn({id:z(()=>{var C;return(C=r.id)==null?void 0:C[0]})}),{formItemContext:i}),a=yI(),s=Ye("date"),l=Ye("range"),u=F(),c=F(),{wrapperRef:f,isFocused:d}=Ph(u,{disabled:z(()=>r.disabled)}),h=C=>{n("click",C)},p=C=>{n("mouseenter",C)},v=C=>{n("mouseleave",C)},g=C=>{n("touchstart",C)},m=C=>{n("startInput",C)},y=C=>{n("endInput",C)},b=C=>{n("startChange",C)},w=C=>{n("endChange",C)};return e({focus:()=>{var C;(C=u.value)==null||C.focus()},blur:()=>{var C,E;(C=u.value)==null||C.blur(),(E=c.value)==null||E.blur()}}),(C,E)=>(N(),Q("div",{ref_key:"wrapperRef",ref:f,class:q([_(s).is("active",_(d)),C.$attrs.class]),style:Ot(C.$attrs.style),onClick:h,onMouseenter:p,onMouseleave:v,onTouchstartPassive:g},[Ee(C.$slots,"prefix"),K("input",Fn(_(a),{id:_(o),ref_key:"inputRef",ref:u,name:C.name&&C.name[0],placeholder:C.startPlaceholder,value:C.modelValue&&C.modelValue[0],class:_(l).b("input"),disabled:C.disabled,onInput:m,onChange:b}),null,16,["id","name","placeholder","value","disabled"]),Ee(C.$slots,"range-separator"),K("input",Fn(_(a),{id:C.id&&C.id[1],ref_key:"endInputRef",ref:c,name:C.name&&C.name[1],placeholder:C.endPlaceholder,value:C.modelValue&&C.modelValue[1],class:_(l).b("input"),disabled:C.disabled,onInput:y,onChange:w}),null,16,["id","name","placeholder","value","disabled"]),Ee(C.$slots,"suffix")],38))}});var W9e=lt(U9e,[["__file","picker-range-trigger.vue"]]);const q9e=ue({name:"Picker"}),K9e=ue({...q9e,props:eH,emits:[_n,tr,"focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const r=t,i=Th(),o=Ye("date"),a=Ye("input"),s=Ye("range"),{formItem:l}=Ua(),u=bt(Jz,{}),{valueOnClear:c}=c2(r,null),f=F(),d=F(),h=F(null);let p=!1;const v=pa(),g=xpe(r,n),{parsedValue:m,pickerActualVisible:y,userInput:b,pickerVisible:w,pickerOptions:S,valueIsEmpty:x,emitInput:C,onPick:E,onSetPickerOption:T,onCalendarChange:A,onPanelChange:k}=g,{isFocused:M,handleFocus:D,handleBlur:L}=Ph(d,{disabled:v,beforeFocus(){return r.readonly},afterFocus(){w.value=!0},beforeBlur(re){var le;return!p&&((le=f.value)==null?void 0:le.isFocusInsideContent(re))},afterBlur(){Fe(),w.value=!1,p=!1,r.validateEvent&&l?.validate("blur").catch(re=>void 0)}}),I=F(!1),R=z(()=>[o.b("editor"),o.bm("editor",r.type),a.e("wrapper"),o.is("disabled",v.value),o.is("active",w.value),s.b("editor"),qe?s.bm("editor",qe.value):"",i.class]),V=z(()=>[a.e("icon"),s.e("close-icon"),he.value?"":s.e("close-icon--hidden")]);Le(w,re=>{re?Pt(()=>{re&&(h.value=r.modelValue)}):(b.value=null,Pt(()=>{P(r.modelValue)}))});const P=(re,le)=>{(le||!zhe(re,h.value))&&(n(tr,re),le&&(h.value=re),r.validateEvent&&l?.validate("change").catch(Ae=>void 0))},B=re=>{n("keydown",re)},j=z(()=>d.value?Array.from(d.value.$el.querySelectorAll("input")):[]),G=(re,le,Ae)=>{const Qe=j.value;Qe.length&&(!Ae||Ae==="min"?(Qe[0].setSelectionRange(re,le),Qe[0].focus()):Ae==="max"&&(Qe[1].setSelectionRange(re,le),Qe[1].focus()))},W=()=>{y.value=!0},Z=()=>{n("visible-change",!0)},ee=()=>{y.value=!1,w.value=!1,n("visible-change",!1)},oe=()=>{w.value=!0},ce=()=>{w.value=!1},X=z(()=>{if(!S.value.panelReady)return"";const re=dn(m.value);return tt(b.value)?[b.value[0]||re&&re[0]||"",b.value[1]||re&&re[1]||""]:b.value!==null?b.value:!U.value&&x.value||!w.value&&x.value?"":re?ne.value||J.value||Y.value?re.join(", "):re:""}),H=z(()=>r.type.includes("time")),U=z(()=>r.type.startsWith("time")),ne=z(()=>r.type==="dates"),J=z(()=>r.type==="months"),Y=z(()=>r.type==="years"),se=z(()=>r.prefixIcon||(H.value?Ude:ek)),he=z(()=>r.clearable&&!v.value&&!r.readonly&&!x.value&&(I.value||M.value)),ye=re=>{r.readonly||v.value||(he.value&&(re.stopPropagation(),S.value.handleClear?S.value.handleClear():C(c.value),P(c.value,!0),ee()),n("clear"))},_e=async re=>{var le;r.readonly||v.value||(((le=re.target)==null?void 0:le.tagName)!=="INPUT"||M.value)&&(w.value=!0)},fe=()=>{r.readonly||v.value||!x.value&&r.clearable&&(I.value=!0)},Ce=()=>{I.value=!1},Oe=re=>{var le;r.readonly||v.value||(((le=re.touches[0].target)==null?void 0:le.tagName)!=="INPUT"||M.value)&&(w.value=!0)},Ue=z(()=>r.type.includes("range")),qe=Po(),ze=z(()=>{var re,le;return(le=(re=_(f))==null?void 0:re.popperRef)==null?void 0:le.contentRef}),ae=yz(d,re=>{const le=_(ze),Ae=Jo(d);le&&(re.target===le||re.composedPath().includes(le))||re.target===Ae||Ae&&re.composedPath().includes(Ae)||(w.value=!1)});ur(()=>{ae?.()});const Fe=()=>{if(b.value){const re=We(X.value);re&&At(re)&&(C(ok(re)),b.value=null)}b.value===""&&(C(c.value),P(c.value,!0),b.value=null)},We=re=>re?S.value.parseUserInput(re):null,dn=re=>re?S.value.formatToString(re):null,At=re=>S.value.isValidValue(re),$e=async re=>{if(r.readonly||v.value)return;const{code:le}=re;if(B(re),le===Ct.esc){w.value===!0&&(w.value=!1,re.preventDefault(),re.stopPropagation());return}if(le===Ct.down&&(S.value.handleFocusPicker&&(re.preventDefault(),re.stopPropagation()),w.value===!1&&(w.value=!0,await Pt()),S.value.handleFocusPicker)){S.value.handleFocusPicker();return}if(le===Ct.tab){p=!0;return}if(le===Ct.enter||le===Ct.numpadEnter){(b.value===null||b.value===""||At(We(X.value)))&&(Fe(),w.value=!1),re.stopPropagation();return}if(b.value){re.stopPropagation();return}S.value.handleKeydownInput&&S.value.handleKeydownInput(re)},Kt=re=>{b.value=re,w.value||(w.value=!0)},Kn=re=>{const le=re.target;b.value?b.value=[le.value,b.value[1]]:b.value=[le.value,null]},$t=re=>{const le=re.target;b.value?b.value=[b.value[0],le.value]:b.value=[null,le.value]},wn=()=>{var re;const le=b.value,Ae=We(le&&le[0]),Qe=_(m);if(Ae&&Ae.isValid()){b.value=[dn(Ae),((re=X.value)==null?void 0:re[1])||null];const ct=[Ae,Qe&&(Qe[1]||null)];At(ct)&&(C(ok(ct)),b.value=null)}},$n=()=>{var re;const le=_(b),Ae=We(le&&le[1]),Qe=_(m);if(Ae&&Ae.isValid()){b.value=[((re=_(X))==null?void 0:re[0])||null,dn(Ae)];const ct=[Qe&&Qe[0],Ae];At(ct)&&(C(ok(ct)),b.value=null)}},je=()=>{var re;(re=d.value)==null||re.focus()},mt=()=>{var re;(re=d.value)==null||re.blur()};return jn(Pc,{props:r}),jn(Spe,g),e({focus:je,blur:mt,handleOpen:oe,handleClose:ce,onPick:E}),(re,le)=>(N(),de(_(ja),Fn({ref_key:"refPopper",ref:f,visible:_(w),effect:"light",pure:"",trigger:"click"},re.$attrs,{role:"dialog",teleported:"",transition:`${_(o).namespace.value}-zoom-in-top`,"popper-class":[`${_(o).namespace.value}-picker__popper`,re.popperClass],"popper-style":re.popperStyle,"popper-options":_(u),"fallback-placements":re.fallbackPlacements,"gpu-acceleration":!1,placement:re.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:W,onShow:Z,onHide:ee}),{default:$(()=>[_(Ue)?(N(),de(W9e,{key:1,id:re.id,ref_key:"inputRef",ref:d,"model-value":_(X),name:re.name,disabled:_(v),readonly:!re.editable||re.readonly,"start-placeholder":re.startPlaceholder,"end-placeholder":re.endPlaceholder,class:q(_(R)),style:Ot(re.$attrs.style),"aria-label":re.ariaLabel,tabindex:re.tabindex,autocomplete:"off",role:"combobox",onClick:_e,onFocus:_(D),onBlur:_(L),onStartInput:Kn,onStartChange:wn,onEndInput:$t,onEndChange:$n,onMousedown:_e,onMouseenter:fe,onMouseleave:Ce,onTouchstartPassive:Oe,onKeydown:$e},{prefix:$(()=>[_(se)?(N(),de(_(zt),{key:0,class:q([_(a).e("icon"),_(s).e("icon")])},{default:$(()=>[(N(),de(Vn(_(se))))]),_:1},8,["class"])):ge("v-if",!0)]),"range-separator":$(()=>[Ee(re.$slots,"range-separator",{},()=>[K("span",{class:q(_(s).b("separator"))},Ne(re.rangeSeparator),3)])]),suffix:$(()=>[re.clearIcon?(N(),de(_(zt),{key:0,class:q(_(V)),onMousedown:an(_(Yr),["prevent"]),onClick:ye},{default:$(()=>[(N(),de(Vn(re.clearIcon)))]),_:1},8,["class","onMousedown"])):ge("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(N(),de(_(Ps),{key:0,id:re.id,ref_key:"inputRef",ref:d,"container-role":"combobox","model-value":_(X),name:re.name,size:_(qe),disabled:_(v),placeholder:re.placeholder,class:q([_(o).b("editor"),_(o).bm("editor",re.type),_(o).is("focus",_(w)),re.$attrs.class]),style:Ot(re.$attrs.style),readonly:!re.editable||re.readonly||_(ne)||_(J)||_(Y)||re.type==="week","aria-label":re.ariaLabel,tabindex:re.tabindex,"validate-event":!1,onInput:Kt,onFocus:_(D),onBlur:_(L),onKeydown:$e,onChange:Fe,onMousedown:_e,onMouseenter:fe,onMouseleave:Ce,onTouchstartPassive:Oe,onClick:an(()=>{},["stop"])},{prefix:$(()=>[_(se)?(N(),de(_(zt),{key:0,class:q(_(a).e("icon")),onMousedown:an(_e,["prevent"]),onTouchstartPassive:Oe},{default:$(()=>[(N(),de(Vn(_(se))))]),_:1},8,["class","onMousedown"])):ge("v-if",!0)]),suffix:$(()=>[_(he)&&re.clearIcon?(N(),de(_(zt),{key:0,class:q(`${_(a).e("icon")} clear-icon`),onMousedown:an(_(Yr),["prevent"]),onClick:ye},{default:$(()=>[(N(),de(Vn(re.clearIcon)))]),_:1},8,["class","onMousedown"])):ge("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:$(()=>[Ee(re.$slots,"default",{visible:_(w),actualVisible:_(y),parsedValue:_(m),format:re.format,dateFormat:re.dateFormat,timeFormat:re.timeFormat,unlinkPanels:re.unlinkPanels,type:re.type,defaultValue:re.defaultValue,showNow:re.showNow,showConfirm:re.showConfirm,showFooter:re.showFooter,showWeekNumber:re.showWeekNumber,onPick:_(E),onSelectRange:G,onSetPickerOption:_(T),onCalendarChange:_(A),onPanelChange:_(k),onMousedown:an(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-style","popper-options","fallback-placements","placement"]))}});var Epe=lt(K9e,[["__file","picker.vue"]]);const Y9e=rt({...Cpe,datetimeRole:String,parsedValue:{type:me(Object)}}),Tpe=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const r=(a,s,l,u)=>{const c={hour:t,minute:e,second:n};let f=a;return["hour","minute","second"].forEach(d=>{if(c[d]){let h;const p=c[d];switch(d){case"minute":{h=p(f.hour(),s,u);break}case"second":{h=p(f.hour(),f.minute(),s,u);break}default:{h=p(s,u);break}}if(h?.length&&!h.includes(f[d]())){const v=l?0:h.length-1;f=f[d](h[v])}}}),f},i={};return{timePickerOptions:i,getAvailableTime:r,onSetOption:([a,s])=>{i[a]=s}}},BD=t=>{const e=(r,i)=>r||i,n=r=>r!==!0;return t.map(e).filter(n)},Ape=(t,e,n)=>({getHoursList:(a,s)=>LD(24,t&&(()=>t?.(a,s))),getMinutesList:(a,s,l)=>LD(60,e&&(()=>e?.(a,s,l))),getSecondsList:(a,s,l,u)=>LD(60,n&&(()=>n?.(a,s,l,u)))}),kpe=(t,e,n)=>{const{getHoursList:r,getMinutesList:i,getSecondsList:o}=Ape(t,e,n);return{getAvailableHours:(u,c)=>BD(r(u,c)),getAvailableMinutes:(u,c,f)=>BD(i(u,c,f)),getAvailableSeconds:(u,c,f,d)=>BD(o(u,c,f,d))}},Mpe=t=>{const e=F(t.parsedValue);return Le(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},X9e=rt({role:{type:String,required:!0},spinnerDate:{type:me(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:me(String),default:""},...Qz}),Z9e=100,J9e=600,BM={beforeMount(t,e){const n=e.value,{interval:r=Z9e,delay:i=J9e}=qt(n)?{}:n;let o,a;const s=()=>qt(n)?n():n.handler(),l=()=>{a&&(clearTimeout(a),a=void 0),o&&(clearInterval(o),o=void 0)};t.addEventListener("mousedown",u=>{u.button===0&&(l(),s(),document.addEventListener("mouseup",()=>l(),{once:!0}),a=setTimeout(()=>{o=setInterval(()=>{s()},r)},i))})}},Q9e=ue({__name:"basic-time-spinner",props:X9e,emits:[tr,"select-range","set-option"],setup(t,{emit:e}){const n=t,r=bt(Pc),{isRange:i,format:o}=r.props,a=Ye("time"),{getHoursList:s,getMinutesList:l,getSecondsList:u}=Ape(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let c=!1;const f=F(),d=F(),h=F(),p=F(),v={hours:d,minutes:h,seconds:p},g=z(()=>n.showSeconds?MY:MY.slice(0,2)),m=z(()=>{const{spinnerDate:W}=n,Z=W.hour(),ee=W.minute(),oe=W.second();return{hours:Z,minutes:ee,seconds:oe}}),y=z(()=>{const{hours:W,minutes:Z}=_(m),{role:ee,spinnerDate:oe}=n,ce=i?void 0:oe;return{hours:s(ee,ce),minutes:l(W,ee,ce),seconds:u(W,Z,ee,ce)}}),b=z(()=>{const{hours:W,minutes:Z,seconds:ee}=_(m);return{hours:RD(W,23),minutes:RD(Z,59),seconds:RD(ee,59)}}),w=rl(W=>{c=!1,C(W)},200),S=W=>{if(!!!n.amPmMode)return"";const ee=n.amPmMode==="A";let oe=W<12?" am":" pm";return ee&&(oe=oe.toUpperCase()),oe},x=W=>{let Z=[0,0];const ee=o||Yb,oe=ee.indexOf("HH"),ce=ee.indexOf("mm"),X=ee.indexOf("ss");switch(W){case"hours":oe!==-1&&(Z=[oe,oe+2]);break;case"minutes":ce!==-1&&(Z=[ce,ce+2]);break;case"seconds":X!==-1&&(Z=[X,X+2]);break}const[H,U]=Z;e("select-range",H,U),f.value=W},C=W=>{A(W,_(m)[W])},E=()=>{C("hours"),C("minutes"),C("seconds")},T=W=>W.querySelector(`.${a.namespace.value}-scrollbar__wrap`),A=(W,Z)=>{if(n.arrowControl)return;const ee=_(v[W]);ee&&ee.$el&&(T(ee.$el).scrollTop=Math.max(0,Z*k(W)))},k=W=>{const Z=_(v[W]),ee=Z?.$el.querySelector("li");return ee&&Number.parseFloat(Dd(ee,"height"))||0},M=()=>{L(1)},D=()=>{L(-1)},L=W=>{f.value||x("hours");const Z=f.value,ee=_(m)[Z],oe=f.value==="hours"?24:60,ce=I(Z,ee,W,oe);R(Z,ce),A(Z,ce),Pt(()=>x(Z))},I=(W,Z,ee,oe)=>{let ce=(Z+ee+oe)%oe;const X=_(y)[W];for(;X[ce]&&ce!==Z;)ce=(ce+ee+oe)%oe;return ce},R=(W,Z)=>{if(_(y)[W][Z])return;const{hours:ce,minutes:X,seconds:H}=_(m);let U;switch(W){case"hours":U=n.spinnerDate.hour(Z).minute(X).second(H);break;case"minutes":U=n.spinnerDate.hour(ce).minute(Z).second(H);break;case"seconds":U=n.spinnerDate.hour(ce).minute(X).second(Z);break}e(tr,U)},V=(W,{value:Z,disabled:ee})=>{ee||(R(W,Z),x(W),A(W,Z))},P=W=>{const Z=_(v[W]);if(!Z)return;c=!0,w(W);const ee=Math.min(Math.round((T(Z.$el).scrollTop-(B(W)*.5-10)/k(W)+3)/k(W)),W==="hours"?23:59);R(W,ee)},B=W=>_(v[W]).$el.offsetHeight,j=()=>{const W=Z=>{const ee=_(v[Z]);ee&&ee.$el&&(T(ee.$el).onscroll=()=>{P(Z)})};W("hours"),W("minutes"),W("seconds")};Jt(()=>{Pt(()=>{!n.arrowControl&&j(),E(),n.role==="start"&&x("hours")})});const G=(W,Z)=>{v[Z].value=W??void 0};return e("set-option",[`${n.role}_scrollDown`,L]),e("set-option",[`${n.role}_emitSelectRange`,x]),Le(()=>n.spinnerDate,()=>{c||E()}),(W,Z)=>(N(),Q("div",{class:q([_(a).b("spinner"),{"has-seconds":W.showSeconds}])},[W.arrowControl?ge("v-if",!0):(N(!0),Q(ft,{key:0},gn(_(g),ee=>(N(),de(_(Mc),{key:ee,ref_for:!0,ref:oe=>G(oe,ee),class:q(_(a).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":_(a).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:oe=>x(ee),onMousemove:oe=>C(ee)},{default:$(()=>[(N(!0),Q(ft,null,gn(_(y)[ee],(oe,ce)=>(N(),Q("li",{key:ce,class:q([_(a).be("spinner","item"),_(a).is("active",ce===_(m)[ee]),_(a).is("disabled",oe)]),onClick:X=>V(ee,{value:ce,disabled:oe})},[ee==="hours"?(N(),Q(ft,{key:0},[Be(Ne(("0"+(W.amPmMode?ce%12||12:ce)).slice(-2))+Ne(S(ce)),1)],64)):(N(),Q(ft,{key:1},[Be(Ne(("0"+ce).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),W.arrowControl?(N(!0),Q(ft,{key:1},gn(_(g),ee=>(N(),Q("div",{key:ee,class:q([_(a).be("spinner","wrapper"),_(a).is("arrow")]),onMouseenter:oe=>x(ee)},[An((N(),de(_(zt),{class:q(["arrow-up",_(a).be("spinner","arrow")])},{default:$(()=>[O(_(pI))]),_:1},8,["class"])),[[_(BM),D]]),An((N(),de(_(zt),{class:q(["arrow-down",_(a).be("spinner","arrow")])},{default:$(()=>[O(_(sd))]),_:1},8,["class"])),[[_(BM),M]]),K("ul",{class:q(_(a).be("spinner","list"))},[(N(!0),Q(ft,null,gn(_(b)[ee],(oe,ce)=>(N(),Q("li",{key:ce,class:q([_(a).be("spinner","item"),_(a).is("active",oe===_(m)[ee]),_(a).is("disabled",_(y)[ee][oe])])},[_(Zt)(oe)?(N(),Q(ft,{key:0},[ee==="hours"?(N(),Q(ft,{key:0},[Be(Ne(("0"+(W.amPmMode?oe%12||12:oe)).slice(-2))+Ne(S(oe)),1)],64)):(N(),Q(ft,{key:1},[Be(Ne(("0"+oe).slice(-2)),1)],64))],64)):ge("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):ge("v-if",!0)],2))}});var _F=lt(Q9e,[["__file","basic-time-spinner.vue"]]);const eUe=ue({__name:"panel-time-pick",props:Y9e,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=bt(Pc),{arrowControl:i,disabledHours:o,disabledMinutes:a,disabledSeconds:s,defaultValue:l}=r.props,{getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:f}=kpe(o,a,s),d=Ye("time"),{t:h,lang:p}=Cr(),v=F([0,2]),g=Mpe(n),m=z(()=>gr(n.actualVisible)?`${d.namespace.value}-zoom-in-top`:""),y=z(()=>n.format.includes("ss")),b=z(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),w=P=>{const B=Ln(P).locale(p.value),j=L(B);return B.isSame(j)},S=()=>{e("pick",g.value,!1)},x=(P=!1,B=!1)=>{B||e("pick",n.parsedValue,P)},C=P=>{if(!n.visible)return;const B=L(P).millisecond(0);e("pick",B,!0)},E=(P,B)=>{e("select-range",P,B),v.value=[P,B]},T=P=>{const B=n.format,j=B.indexOf("HH"),G=B.indexOf("mm"),W=B.indexOf("ss"),Z=[],ee=[];j!==-1&&(Z.push(j),ee.push("hours")),G!==-1&&(Z.push(G),ee.push("minutes")),W!==-1&&y.value&&(Z.push(W),ee.push("seconds"));const ce=(Z.indexOf(v.value[0])+P+Z.length)%Z.length;k.start_emitSelectRange(ee[ce])},A=P=>{const B=P.code,{left:j,right:G,up:W,down:Z}=Ct;if([j,G].includes(B)){T(B===j?-1:1),P.preventDefault();return}if([W,Z].includes(B)){const ee=B===W?-1:1;k.start_scrollDown(ee),P.preventDefault();return}},{timePickerOptions:k,onSetOption:M,getAvailableTime:D}=Tpe({getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:f}),L=P=>D(P,n.datetimeRole||"",!0),I=P=>P?Ln(P,n.format).locale(p.value):null,R=P=>P?P.format(n.format):null,V=()=>Ln(l).locale(p.value);return e("set-picker-option",["isValidValue",w]),e("set-picker-option",["formatToString",R]),e("set-picker-option",["parseUserInput",I]),e("set-picker-option",["handleKeydownInput",A]),e("set-picker-option",["getRangeAvailableTime",L]),e("set-picker-option",["getDefaultValue",V]),(P,B)=>(N(),de(ka,{name:_(m)},{default:$(()=>[P.actualVisible||P.visible?(N(),Q("div",{key:0,class:q(_(d).b("panel"))},[K("div",{class:q([_(d).be("panel","content"),{"has-seconds":_(y)}])},[O(_F,{ref:"spinner",role:P.datetimeRole||"start","arrow-control":_(i),"show-seconds":_(y),"am-pm-mode":_(b),"spinner-date":P.parsedValue,"disabled-hours":_(o),"disabled-minutes":_(a),"disabled-seconds":_(s),onChange:C,onSetOption:_(M),onSelectRange:E},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),K("div",{class:q(_(d).be("panel","footer"))},[K("button",{type:"button",class:q([_(d).be("panel","btn"),"cancel"]),onClick:S},Ne(_(h)("el.datepicker.cancel")),3),K("button",{type:"button",class:q([_(d).be("panel","btn"),"confirm"]),onClick:j=>x()},Ne(_(h)("el.datepicker.confirm")),11,["onClick"])],2)],2)):ge("v-if",!0)]),_:1},8,["name"]))}});var $M=lt(eUe,[["__file","panel-time-pick.vue"]]);const tUe=rt({...Cpe,parsedValue:{type:me(Array)}}),nUe=ue({__name:"panel-time-range",props:tUe,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,r=(J,Y)=>{const se=[];for(let he=J;he<=Y;he++)se.push(he);return se},{t:i,lang:o}=Cr(),a=Ye("time"),s=Ye("picker"),l=bt(Pc),{arrowControl:u,disabledHours:c,disabledMinutes:f,disabledSeconds:d,defaultValue:h}=l.props,p=z(()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",u),w.value?"has-seconds":""]),v=z(()=>[a.be("range-picker","body"),a.be("panel","content"),a.is("arrow",u),w.value?"has-seconds":""]),g=z(()=>n.parsedValue[0]),m=z(()=>n.parsedValue[1]),y=Mpe(n),b=()=>{e("pick",y.value,!1)},w=z(()=>n.format.includes("ss")),S=z(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),x=(J=!1)=>{e("pick",[g.value,m.value],J)},C=J=>{A(J.millisecond(0),m.value)},E=J=>{A(g.value,J.millisecond(0))},T=J=>{const Y=J.map(he=>Ln(he).locale(o.value)),se=G(Y);return Y[0].isSame(se[0])&&Y[1].isSame(se[1])},A=(J,Y)=>{n.visible&&e("pick",[J,Y],!0)},k=z(()=>g.value>m.value),M=F([0,2]),D=(J,Y)=>{e("select-range",J,Y,"min"),M.value=[J,Y]},L=z(()=>w.value?11:8),I=(J,Y)=>{e("select-range",J,Y,"max");const se=_(L);M.value=[J+se,Y+se]},R=J=>{const Y=w.value?[0,3,6,11,14,17]:[0,3,8,11],se=["hours","minutes"].concat(w.value?["seconds"]:[]),ye=(Y.indexOf(M.value[0])+J+Y.length)%Y.length,_e=Y.length/2;ye<_e?oe.start_emitSelectRange(se[ye]):oe.end_emitSelectRange(se[ye-_e])},V=J=>{const Y=J.code,{left:se,right:he,up:ye,down:_e}=Ct;if([se,he].includes(Y)){R(Y===se?-1:1),J.preventDefault();return}if([ye,_e].includes(Y)){const fe=Y===ye?-1:1,Ce=M.value[0]<L.value?"start":"end";oe[`${Ce}_scrollDown`](fe),J.preventDefault();return}},P=(J,Y)=>{const se=c?c(J):[],he=J==="start",_e=(Y||(he?m.value:g.value)).hour(),fe=he?r(_e+1,23):r(0,_e-1);return $S(se,fe)},B=(J,Y,se)=>{const he=f?f(J,Y):[],ye=Y==="start",_e=se||(ye?m.value:g.value),fe=_e.hour();if(J!==fe)return he;const Ce=_e.minute(),Oe=ye?r(Ce+1,59):r(0,Ce-1);return $S(he,Oe)},j=(J,Y,se,he)=>{const ye=d?d(J,Y,se):[],_e=se==="start",fe=he||(_e?m.value:g.value),Ce=fe.hour(),Oe=fe.minute();if(J!==Ce||Y!==Oe)return ye;const Ue=fe.second(),qe=_e?r(Ue+1,59):r(0,Ue-1);return $S(ye,qe)},G=([J,Y])=>[ce(J,"start",!0,Y),ce(Y,"end",!1,J)],{getAvailableHours:W,getAvailableMinutes:Z,getAvailableSeconds:ee}=kpe(P,B,j),{timePickerOptions:oe,getAvailableTime:ce,onSetOption:X}=Tpe({getAvailableHours:W,getAvailableMinutes:Z,getAvailableSeconds:ee}),H=J=>J?tt(J)?J.map(Y=>Ln(Y,n.format).locale(o.value)):Ln(J,n.format).locale(o.value):null,U=J=>J?tt(J)?J.map(Y=>Y.format(n.format)):J.format(n.format):null,ne=()=>{if(tt(h))return h.map(Y=>Ln(Y).locale(o.value));const J=Ln(h).locale(o.value);return[J,J.add(60,"m")]};return e("set-picker-option",["formatToString",U]),e("set-picker-option",["parseUserInput",H]),e("set-picker-option",["isValidValue",T]),e("set-picker-option",["handleKeydownInput",V]),e("set-picker-option",["getDefaultValue",ne]),e("set-picker-option",["getRangeAvailableTime",G]),(J,Y)=>J.actualVisible?(N(),Q("div",{key:0,class:q([_(a).b("range-picker"),_(s).b("panel")])},[K("div",{class:q(_(a).be("range-picker","content"))},[K("div",{class:q(_(a).be("range-picker","cell"))},[K("div",{class:q(_(a).be("range-picker","header"))},Ne(_(i)("el.datepicker.startTime")),3),K("div",{class:q(_(p))},[O(_F,{ref:"minSpinner",role:"start","show-seconds":_(w),"am-pm-mode":_(S),"arrow-control":_(u),"spinner-date":_(g),"disabled-hours":P,"disabled-minutes":B,"disabled-seconds":j,onChange:C,onSetOption:_(X),onSelectRange:D},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),K("div",{class:q(_(a).be("range-picker","cell"))},[K("div",{class:q(_(a).be("range-picker","header"))},Ne(_(i)("el.datepicker.endTime")),3),K("div",{class:q(_(v))},[O(_F,{ref:"maxSpinner",role:"end","show-seconds":_(w),"am-pm-mode":_(S),"arrow-control":_(u),"spinner-date":_(m),"disabled-hours":P,"disabled-minutes":B,"disabled-seconds":j,onChange:E,onSetOption:_(X),onSelectRange:I},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),K("div",{class:q(_(a).be("panel","footer"))},[K("button",{type:"button",class:q([_(a).be("panel","btn"),"cancel"]),onClick:se=>b()},Ne(_(i)("el.datepicker.cancel")),11,["onClick"]),K("button",{type:"button",class:q([_(a).be("panel","btn"),"confirm"]),disabled:_(k),onClick:se=>x()},Ne(_(i)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):ge("v-if",!0)}});var rUe=lt(nUe,[["__file","panel-time-range.vue"]]);Ln.extend(Zz);var iUe=ue({name:"ElTimePicker",install:null,props:{...eH,isRange:Boolean},emits:[_n],setup(t,e){const n=F(),[r,i]=t.isRange?["timerange",rUe]:["time",$M],o=a=>e.emit(_n,a);return jn(Jz,t.popperOptions),e.expose({focus:()=>{var a;(a=n.value)==null||a.focus()},blur:()=>{var a;(a=n.value)==null||a.blur()},handleOpen:()=>{var a;(a=n.value)==null||a.handleOpen()},handleClose:()=>{var a;(a=n.value)==null||a.handleClose()}}),()=>{var a;const s=(a=t.format)!=null?a:Yb;return O(Epe,Fn(t,{ref:n,type:r,format:s,"onUpdate:modelValue":o}),{default:l=>O(i,l,null)})}}});const oUe=kn(iUe);var lk={exports:{}},aUe=lk.exports,PY;function sUe(){return PY||(PY=1,(function(t,e){(function(n,r){t.exports=r()})(aUe,(function(){return function(n,r){var i=r.prototype,o=i.format;i.format=function(a){var s=this,l=this.$locale();if(!this.isValid())return o.bind(this)(a);var u=this.$utils(),c=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(f){switch(f){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return l.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return l.ordinal(s.week(),"W");case"w":case"ww":return u.s(s.week(),f==="w"?1:2,"0");case"W":case"WW":return u.s(s.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return u.s(String(s.$H===0?24:s.$H),f==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return f}}));return o.bind(this)(c)}}}))})(lk)),lk.exports}var lUe=sUe();const uUe=nu(lUe);var uk={exports:{}},cUe=uk.exports,OY;function fUe(){return OY||(OY=1,(function(t,e){(function(n,r){t.exports=r()})(cUe,(function(){var n="week",r="year";return function(i,o,a){var s=o.prototype;s.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=a(this).startOf(r).add(1,r).date(u),f=a(this).endOf(n);if(c.isBefore(f))return 1}var d=a(this).startOf(r).date(u).startOf(n).subtract(1,"millisecond"),h=this.diff(d,n,!0);return h<0?a(this).startOf("week").week():Math.ceil(h)},s.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}}))})(uk)),uk.exports}var dUe=fUe();const hUe=nu(dUe);var ck={exports:{}},pUe=ck.exports,IY;function vUe(){return IY||(IY=1,(function(t,e){(function(n,r){t.exports=r()})(pUe,(function(){return function(n,r){r.prototype.weekYear=function(){var i=this.month(),o=this.week(),a=this.year();return o===1&&i===11?a+1:i===0&&o>=52?a-1:a}}}))})(ck)),ck.exports}var gUe=vUe();const mUe=nu(gUe);var fk={exports:{}},yUe=fk.exports,RY;function bUe(){return RY||(RY=1,(function(t,e){(function(n,r){t.exports=r()})(yUe,(function(){return function(n,r,i){r.prototype.dayOfYear=function(o){var a=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return o==null?a:this.add(o-a,"day")}}}))})(fk)),fk.exports}var _Ue=bUe();const wUe=nu(_Ue);var dk={exports:{}},SUe=dk.exports,LY;function xUe(){return LY||(LY=1,(function(t,e){(function(n,r){t.exports=r()})(SUe,(function(){return function(n,r){r.prototype.isSameOrAfter=function(i,o){return this.isSame(i,o)||this.isAfter(i,o)}}}))})(dk)),dk.exports}var CUe=xUe();const EUe=nu(CUe);var hk={exports:{}},TUe=hk.exports,DY;function AUe(){return DY||(DY=1,(function(t,e){(function(n,r){t.exports=r()})(TUe,(function(){return function(n,r){r.prototype.isSameOrBefore=function(i,o){return this.isSame(i,o)||this.isBefore(i,o)}}}))})(hk)),hk.exports}var kUe=AUe();const MUe=nu(kUe),PUe=rt({valueFormat:String,dateFormat:String,timeFormat:String,disabled:Boolean,modelValue:{type:me([Date,Array,String,Number]),default:""},defaultValue:{type:me([Date,Array])},defaultTime:{type:me([Date,Array])},isRange:Boolean,...Qz,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,unlinkPanels:Boolean,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:Boolean,showWeekNumber:Boolean,type:{type:me(String),default:"date"},clearable:{type:Boolean,default:!0},border:{type:Boolean,default:!0}}),tH=Symbol("rootPickerContextKey"),m2="ElIsDefaultFormat",OUe=["date","dates","year","years","month","months","week","range"],nH=rt({cellClassName:{type:me(Function)},disabledDate:{type:me(Function)},date:{type:me(Object),required:!0},minDate:{type:me(Object)},maxDate:{type:me(Object)},parsedValue:{type:me([Object,Array])},rangeState:{type:me(Object),default:()=>({endDate:null,selecting:!1})},disabled:Boolean}),Ppe=rt({type:{type:me(String),required:!0,values:LHe},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},showWeekNumber:Boolean,border:Boolean,disabled:Boolean}),rH=rt({unlinkPanels:Boolean,visible:{type:Boolean,default:!0},showConfirm:Boolean,showFooter:{type:Boolean,default:!0},border:Boolean,disabled:Boolean,parsedValue:{type:me(Array)}}),iH=t=>({type:String,values:OUe,default:t}),IUe=rt({...Ppe,parsedValue:{type:me([Object,Array])},visible:{type:Boolean,default:!0},format:{type:String,default:""}}),Nx=t=>{if(!tt(t))return!1;const[e,n]=t;return Ln.isDayjs(e)&&Ln.isDayjs(n)&&Ln(e).isValid()&&Ln(n).isValid()&&e.isSameOrBefore(n)},EI=(t,{lang:e,step:n=1,unit:r,unlinkPanels:i})=>{let o;if(tt(t)){let[a,s]=t.map(l=>Ln(l).locale(e));return i||(s=a.add(n,r)),[a,s]}else t?o=Ln(t):o=Ln();return o=o.locale(e),[o,o.add(n,r)]},RUe=(t,e,{columnIndexOffset:n,startDate:r,nextEndDate:i,now:o,unit:a,relativeDateGetter:s,setCellMetadata:l,setRowMetadata:u})=>{for(let c=0;c<t.row;c++){const f=e[c];for(let d=0;d<t.column;d++){let h=f[d+n];h||(h={row:c,column:d,type:"normal",inRange:!1,start:!1,end:!1});const p=c*t.column+d,v=s(p);h.dayjs=v,h.date=v.toDate(),h.timestamp=v.valueOf(),h.type="normal",h.inRange=!!(r&&v.isSameOrAfter(r,a)&&i&&v.isSameOrBefore(i,a))||!!(r&&v.isSameOrBefore(r,a)&&i&&v.isSameOrAfter(i,a)),r?.isSameOrAfter(i)?(h.start=!!i&&v.isSame(i,a),h.end=r&&v.isSame(r,a)):(h.start=!!r&&v.isSame(r,a),h.end=!!i&&v.isSame(i,a)),v.isSame(o,a)&&(h.type="today"),l?.(h,{rowIndex:c,columnIndex:d}),f[d+n]=h}u?.(f)}},FM=(t,e,n,r)=>{const i=Ln().locale(r).startOf("month").month(n).year(e).hour(t.hour()).minute(t.minute()).second(t.second()),o=i.daysInMonth();return Gp(o).map(a=>i.add(a,"day").toDate())},Xb=(t,e,n,r,i)=>{const o=Ln().year(e).month(n).startOf("month").hour(t.hour()).minute(t.minute()).second(t.second()),a=FM(t,e,n,r).find(s=>!i?.(s));return a?Ln(a).locale(r):o.locale(r)},VM=(t,e,n)=>{const r=t.year();if(!n?.(t.toDate()))return t.locale(e);const i=t.month();if(!FM(t,r,i,e).every(n))return Xb(t,r,i,e,n);for(let o=0;o<12;o++)if(!FM(t,r,o,e).every(n))return Xb(t,r,o,e,n);return t},Zb=(t,e,n,r)=>{if(tt(t))return t.map(i=>Zb(i,e,n,r));if(Ht(t)){const i=r?.value?Ln(t):Ln(t,e);if(!i.isValid())return i}return Ln(t,e).locale(n)},LUe=rt({...nH,showWeekNumber:Boolean,selectionMode:iH("date")}),DUe=["changerange","pick","select"],wF=(t="")=>["normal","today"].includes(t),NUe=(t,e)=>{const{lang:n}=Cr(),r=F(),i=F(),o=F(),a=F(),s=F([[],[],[],[],[],[]]);let l=!1;const u=t.date.$locale().weekStart||7,c=t.date.locale("en").localeData().weekdaysShort().map(P=>P.toLowerCase()),f=z(()=>u>3?7-u:-u),d=z(()=>{const P=t.date.startOf("month");return P.subtract(P.day()||7,"day")}),h=z(()=>c.concat(c).slice(u,u+7)),p=z(()=>yfe(_(w)).some(P=>P.isCurrent)),v=z(()=>{const P=t.date.startOf("month"),B=P.day()||7,j=P.daysInMonth(),G=P.subtract(1,"month").daysInMonth();return{startOfMonthDay:B,dateCountOfMonth:j,dateCountOfLastMonth:G}}),g=z(()=>t.selectionMode==="dates"?Ts(t.parsedValue):[]),m=(P,{count:B,rowIndex:j,columnIndex:G})=>{const{startOfMonthDay:W,dateCountOfMonth:Z,dateCountOfLastMonth:ee}=_(v),oe=_(f);if(j>=0&&j<=1){const ce=W+oe<0?7+W+oe:W+oe;if(G+j*7>=ce)return P.text=B,!0;P.text=ee-(ce-G%7)+1+j*7,P.type="prev-month"}else return B<=Z?P.text=B:(P.text=B-Z,P.type="next-month"),!0;return!1},y=(P,{columnIndex:B,rowIndex:j},G)=>{const{disabledDate:W,cellClassName:Z}=t,ee=_(g),oe=m(P,{count:G,rowIndex:j,columnIndex:B}),ce=P.dayjs.toDate();return P.selected=ee.find(X=>X.isSame(P.dayjs,"day")),P.isSelected=!!P.selected,P.isCurrent=x(P),P.disabled=W?.(ce),P.customClass=Z?.(ce),oe},b=P=>{if(t.selectionMode==="week"){const[B,j]=t.showWeekNumber?[1,7]:[0,6],G=V(P[B+1]);P[B].inRange=G,P[B].start=G,P[j].inRange=G,P[j].end=G}},w=z(()=>{const{minDate:P,maxDate:B,rangeState:j,showWeekNumber:G}=t,W=_(f),Z=_(s),ee="day";let oe=1;if(RUe({row:6,column:7},Z,{startDate:P,columnIndexOffset:G?1:0,nextEndDate:j.endDate||B||j.selecting&&P||null,now:Ln().locale(_(n)).startOf(ee),unit:ee,relativeDateGetter:ce=>_(d).add(ce-W,ee),setCellMetadata:(...ce)=>{y(...ce,oe)&&(oe+=1)},setRowMetadata:b}),G)for(let ce=0;ce<6;ce++)Z[ce][1].dayjs&&(Z[ce][0]={type:"week",text:Z[ce][1].dayjs.week()});return Z});Le(()=>t.date,async()=>{var P;(P=_(r))!=null&&P.contains(document.activeElement)&&(await Pt(),await S())});const S=async()=>{var P;return(P=_(i))==null?void 0:P.focus()},x=P=>t.selectionMode==="date"&&wF(P.type)&&C(P,t.parsedValue),C=(P,B)=>B?Ln(B).locale(_(n)).isSame(t.date.date(Number(P.text)),"day"):!1,E=(P,B)=>{const j=P*7+(B-(t.showWeekNumber?1:0))-_(f);return _(d).add(j,"day")},T=P=>{var B;if(!t.rangeState.selecting)return;let j=P.target;if(j.tagName==="SPAN"&&(j=(B=j.parentNode)==null?void 0:B.parentNode),j.tagName==="DIV"&&(j=j.parentNode),j.tagName!=="TD")return;const G=j.parentNode.rowIndex-1,W=j.cellIndex;_(w)[G][W].disabled||(G!==_(o)||W!==_(a))&&(o.value=G,a.value=W,e("changerange",{selecting:!0,endDate:E(G,W)}))},A=P=>{l||_(p)||t.selectionMode!=="date"||R(P,!0)},k=P=>{P.target.closest("td")&&(l=!0)},M=P=>{P.target.closest("td")&&(l=!1)},D=P=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:P,maxDate:null}),e("select",!0)):(P>=t.minDate?e("pick",{minDate:t.minDate,maxDate:P}):e("pick",{minDate:P,maxDate:t.minDate}),e("select",!1))},L=P=>{const B=P.week(),j=`${P.year()}w${B}`;e("pick",{year:P.year(),week:B,value:j,date:P.startOf("week")})},I=(P,B)=>{const j=B?Ts(t.parsedValue).filter(G=>G?.valueOf()!==P.valueOf()):Ts(t.parsedValue).concat([P]);e("pick",j)},R=(P,B=!1)=>{if(t.disabled)return;const j=P.target.closest("td");if(!j)return;const G=j.parentNode.rowIndex-1,W=j.cellIndex,Z=_(w)[G][W];if(Z.disabled||Z.type==="week")return;const ee=E(G,W);switch(t.selectionMode){case"range":{D(ee);break}case"date":{e("pick",ee,B);break}case"week":{L(ee);break}case"dates":{I(ee,!!Z.selected);break}}},V=P=>{if(t.selectionMode!=="week")return!1;let B=t.date.startOf("day");if(P.type==="prev-month"&&(B=B.subtract(1,"month")),P.type==="next-month"&&(B=B.add(1,"month")),B=B.date(Number.parseInt(P.text,10)),t.parsedValue&&!tt(t.parsedValue)){const j=(t.parsedValue.day()-u+7)%7-1;return t.parsedValue.subtract(j,"day").isSame(B,"day")}return!1};return{WEEKS:h,rows:w,tbodyRef:r,currentCellRef:i,focus:S,isCurrent:x,isWeekActive:V,handlePickDate:R,handleMouseUp:M,handleMouseDown:k,handleMouseMove:T,handleFocus:A}},BUe=(t,{isCurrent:e,isWeekActive:n})=>{const r=Ye("date-table"),{t:i}=Cr(),o=z(()=>[r.b(),{"is-week-mode":t.selectionMode==="week"&&!t.disabled}]),a=z(()=>i("el.datepicker.dateTablePrompt")),s=u=>{const c=[];return wF(u.type)&&!u.disabled?(c.push("available"),u.type==="today"&&c.push("today")):c.push(u.type),e(u)&&c.push("current"),u.inRange&&(wF(u.type)||t.selectionMode==="week")&&(c.push("in-range"),u.start&&c.push("start-date"),u.end&&c.push("end-date")),(u.disabled||t.disabled)&&c.push("disabled"),u.selected&&c.push("selected"),u.customClass&&c.push(u.customClass),c.join(" ")},l=u=>[r.e("row"),{current:n(u)}];return{tableKls:o,tableLabel:a,weekHeaderClass:r.e("week-header"),getCellClasses:s,getRowKls:l,t:i}},$Ue=rt({cell:{type:me(Object)}});var oH=ue({name:"ElDatePickerCell",props:$Ue,setup(t){const e=Ye("date-table-cell"),{slots:n}=bt(tH);return()=>{const{cell:r}=t;return Ee(n,"default",{...r},()=>{var i;return[O("div",{class:e.b()},[O("span",{class:e.e("text")},[(i=r?.renderText)!=null?i:r?.text])])]})}}});const FUe=ue({__name:"basic-date-table",props:LUe,emits:DUe,setup(t,{expose:e,emit:n}){const r=t,{WEEKS:i,rows:o,tbodyRef:a,currentCellRef:s,focus:l,isCurrent:u,isWeekActive:c,handlePickDate:f,handleMouseUp:d,handleMouseDown:h,handleMouseMove:p,handleFocus:v}=NUe(r,n),{tableLabel:g,tableKls:m,getCellClasses:y,getRowKls:b,weekHeaderClass:w,t:S}=BUe(r,{isCurrent:u,isWeekActive:c});let x=!1;return ur(()=>{x=!0}),e({focus:l}),(C,E)=>(N(),Q("table",{"aria-label":_(g),class:q(_(m)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:_(f),onMousemove:_(p),onMousedown:_(h),onMouseup:_(d)},[K("tbody",{ref_key:"tbodyRef",ref:a},[K("tr",null,[C.showWeekNumber?(N(),Q("th",{key:0,scope:"col",class:q(_(w))},null,2)):ge("v-if",!0),(N(!0),Q(ft,null,gn(_(i),(T,A)=>(N(),Q("th",{key:A,"aria-label":_(S)("el.datepicker.weeksFull."+T),scope:"col"},Ne(_(S)("el.datepicker.weeks."+T)),9,["aria-label"]))),128))]),(N(!0),Q(ft,null,gn(_(o),(T,A)=>(N(),Q("tr",{key:A,class:q(_(b)(T[1]))},[(N(!0),Q(ft,null,gn(T,(k,M)=>(N(),Q("td",{key:`${A}.${M}`,ref_for:!0,ref:D=>!_(x)&&k.isSelected&&(s.value=D),class:q(_(y)(k)),"aria-current":k.isCurrent?"date":void 0,"aria-selected":k.isCurrent,tabindex:k.isSelected?0:-1,onFocus:_(v)},[O(_(oH),{cell:k},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var SF=lt(FUe,[["__file","basic-date-table.vue"]]);const VUe=rt({...nH,selectionMode:iH("month")}),zUe=ue({__name:"basic-month-table",props:VUe,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,i=Ye("month-table"),{t:o,lang:a}=Cr(),s=F(),l=F(),u=F(r.date.locale("en").localeData().monthsShort().map(b=>b.toLowerCase())),c=F([[],[],[]]),f=F(),d=F(),h=z(()=>{var b,w,S;const x=c.value,C=Ln().locale(a.value).startOf("month");for(let E=0;E<3;E++){const T=x[E];for(let A=0;A<4;A++){const k=T[A]||(T[A]={row:E,column:A,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0});k.type="normal";const M=E*4+A,D=r.date.startOf("year").month(M),L=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;k.inRange=!!(r.minDate&&D.isSameOrAfter(r.minDate,"month")&&L&&D.isSameOrBefore(L,"month"))||!!(r.minDate&&D.isSameOrBefore(r.minDate,"month")&&L&&D.isSameOrAfter(L,"month")),(b=r.minDate)!=null&&b.isSameOrAfter(L)?(k.start=!!(L&&D.isSame(L,"month")),k.end=r.minDate&&D.isSame(r.minDate,"month")):(k.start=!!(r.minDate&&D.isSame(r.minDate,"month")),k.end=!!(L&&D.isSame(L,"month"))),C.isSame(D)&&(k.type="today");const R=D.toDate();k.text=M,k.disabled=((w=r.disabledDate)==null?void 0:w.call(r,R))||!1,k.date=R,k.customClass=(S=r.cellClassName)==null?void 0:S.call(r,R),k.dayjs=D,k.timestamp=D.valueOf(),k.isSelected=g(k)}}return x}),p=()=>{var b;(b=l.value)==null||b.focus()},v=b=>{const w={},S=r.date.year(),x=new Date,C=b.text;return w.disabled=r.disabled||(r.disabledDate?FM(r.date,S,C,a.value).every(r.disabledDate):!1),w.current=Ts(r.parsedValue).findIndex(E=>Ln.isDayjs(E)&&E.year()===S&&E.month()===C)>=0,w.today=x.getFullYear()===S&&x.getMonth()===C,b.customClass&&(w[b.customClass]=!0),b.inRange&&(w["in-range"]=!0,b.start&&(w["start-date"]=!0),b.end&&(w["end-date"]=!0)),w},g=b=>{const w=r.date.year(),S=b.text;return Ts(r.date).findIndex(x=>x.year()===w&&x.month()===S)>=0},m=b=>{var w;if(!r.rangeState.selecting)return;let S=b.target;if(S.tagName==="SPAN"&&(S=(w=S.parentNode)==null?void 0:w.parentNode),S.tagName==="DIV"&&(S=S.parentNode),S.tagName!=="TD")return;const x=S.parentNode.rowIndex,C=S.cellIndex;h.value[x][C].disabled||(x!==f.value||C!==d.value)&&(f.value=x,d.value=C,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(x*4+C)}))},y=b=>{var w;if(r.disabled)return;const S=(w=b.target)==null?void 0:w.closest("td");if(S?.tagName!=="TD"||Mu(S,"disabled"))return;const x=S.cellIndex,E=S.parentNode.rowIndex*4+x,T=r.date.startOf("year").month(E);if(r.selectionMode==="months"){if(b.type==="keydown"){n("pick",Ts(r.parsedValue),!1);return}const A=Xb(r.date,r.date.year(),E,a.value,r.disabledDate),k=Mu(S,"current")?Ts(r.parsedValue).filter(M=>M?.year()!==A.year()||M?.month()!==A.month()):Ts(r.parsedValue).concat([Ln(A)]);n("pick",k)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&T>=r.minDate?n("pick",{minDate:r.minDate,maxDate:T}):n("pick",{minDate:T,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:T,maxDate:null}),n("select",!0)):n("pick",E)};return Le(()=>r.date,async()=>{var b,w;(b=s.value)!=null&&b.contains(document.activeElement)&&(await Pt(),(w=l.value)==null||w.focus())}),e({focus:p}),(b,w)=>(N(),Q("table",{role:"grid","aria-label":_(o)("el.datepicker.monthTablePrompt"),class:q(_(i).b()),onClick:y,onMousemove:m},[K("tbody",{ref_key:"tbodyRef",ref:s},[(N(!0),Q(ft,null,gn(_(h),(S,x)=>(N(),Q("tr",{key:x},[(N(!0),Q(ft,null,gn(S,(C,E)=>(N(),Q("td",{key:E,ref_for:!0,ref:T=>C.isSelected&&(l.value=T),class:q(v(C)),"aria-selected":!!C.isSelected,"aria-label":_(o)(`el.datepicker.month${+C.text+1}`),tabindex:C.isSelected?0:-1,onKeydown:[hi(an(y,["prevent","stop"]),["space"]),hi(an(y,["prevent","stop"]),["enter"])]},[O(_(oH),{cell:{...C,renderText:_(o)("el.datepicker.months."+u.value[C.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var Bx=lt(zUe,[["__file","basic-month-table.vue"]]);const HUe=rt({...nH,selectionMode:iH("year")}),jUe=ue({__name:"basic-year-table",props:HUe,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const r=t,i=(w,S)=>{const x=Ln(String(w)).locale(S).startOf("year"),E=x.endOf("year").dayOfYear();return Gp(E).map(T=>x.add(T,"day").toDate())},o=Ye("year-table"),{t:a,lang:s}=Cr(),l=F(),u=F(),c=z(()=>Math.floor(r.date.year()/10)*10),f=F([[],[],[]]),d=F(),h=F(),p=z(()=>{var w,S,x;const C=f.value,E=Ln().locale(s.value).startOf("year");for(let T=0;T<3;T++){const A=C[T];for(let k=0;k<4&&!(T*4+k>=10);k++){let M=A[k];M||(M={row:T,column:k,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1,isSelected:!1,customClass:void 0,date:void 0,dayjs:void 0,isCurrent:void 0,selected:void 0,renderText:void 0,timestamp:void 0}),M.type="normal";const D=T*4+k+c.value,L=Ln().year(D),I=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;M.inRange=!!(r.minDate&&L.isSameOrAfter(r.minDate,"year")&&I&&L.isSameOrBefore(I,"year"))||!!(r.minDate&&L.isSameOrBefore(r.minDate,"year")&&I&&L.isSameOrAfter(I,"year")),(w=r.minDate)!=null&&w.isSameOrAfter(I)?(M.start=!!(I&&L.isSame(I,"year")),M.end=!!(r.minDate&&L.isSame(r.minDate,"year"))):(M.start=!!(r.minDate&&L.isSame(r.minDate,"year")),M.end=!!(I&&L.isSame(I,"year"))),E.isSame(L)&&(M.type="today"),M.text=D;const V=L.toDate();M.disabled=((S=r.disabledDate)==null?void 0:S.call(r,V))||!1,M.date=V,M.customClass=(x=r.cellClassName)==null?void 0:x.call(r,V),M.dayjs=L,M.timestamp=L.valueOf(),M.isSelected=m(M),A[k]=M}}return C}),v=()=>{var w;(w=u.value)==null||w.focus()},g=w=>{const S={},x=Ln().locale(s.value),C=w.text;return S.disabled=r.disabled||(r.disabledDate?i(C,s.value).every(r.disabledDate):!1),S.today=x.year()===C,S.current=Ts(r.parsedValue).findIndex(E=>E.year()===C)>=0,w.customClass&&(S[w.customClass]=!0),w.inRange&&(S["in-range"]=!0,w.start&&(S["start-date"]=!0),w.end&&(S["end-date"]=!0)),S},m=w=>{const S=w.text;return Ts(r.date).findIndex(x=>x.year()===S)>=0},y=w=>{var S;if(r.disabled)return;const x=(S=w.target)==null?void 0:S.closest("td");if(!x||!x.textContent||Mu(x,"disabled"))return;const C=x.cellIndex,T=x.parentNode.rowIndex*4+C+c.value,A=Ln().year(T);if(r.selectionMode==="range")r.rangeState.selecting?(r.minDate&&A>=r.minDate?n("pick",{minDate:r.minDate,maxDate:A}):n("pick",{minDate:A,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:A,maxDate:null}),n("select",!0));else if(r.selectionMode==="years"){if(w.type==="keydown"){n("pick",Ts(r.parsedValue),!1);return}const k=VM(A.startOf("year"),s.value,r.disabledDate),M=Mu(x,"current")?Ts(r.parsedValue).filter(D=>D?.year()!==T):Ts(r.parsedValue).concat([k]);n("pick",M)}else n("pick",T)},b=w=>{var S;if(!r.rangeState.selecting)return;const x=(S=w.target)==null?void 0:S.closest("td");if(!x)return;const C=x.parentNode.rowIndex,E=x.cellIndex;p.value[C][E].disabled||(C!==d.value||E!==h.value)&&(d.value=C,h.value=E,n("changerange",{selecting:!0,endDate:Ln().year(c.value).add(C*4+E,"year")}))};return Le(()=>r.date,async()=>{var w,S;(w=l.value)!=null&&w.contains(document.activeElement)&&(await Pt(),(S=u.value)==null||S.focus())}),e({focus:v}),(w,S)=>(N(),Q("table",{role:"grid","aria-label":_(a)("el.datepicker.yearTablePrompt"),class:q(_(o).b()),onClick:y,onMousemove:b},[K("tbody",{ref_key:"tbodyRef",ref:l},[(N(!0),Q(ft,null,gn(_(p),(x,C)=>(N(),Q("tr",{key:C},[(N(!0),Q(ft,null,gn(x,(E,T)=>(N(),Q("td",{key:`${C}_${T}`,ref_for:!0,ref:A=>E.isSelected&&(u.value=A),class:q(["available",g(E)]),"aria-selected":E.isSelected,"aria-label":String(E.text),tabindex:E.isSelected?0:-1,onKeydown:[hi(an(y,["prevent","stop"]),["space"]),hi(an(y,["prevent","stop"]),["enter"])]},[O(_(oH),{cell:E},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var $x=lt(jUe,[["__file","basic-year-table.vue"]]);const GUe=ue({__name:"panel-date-pick",props:IUe,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,r=(je,mt,re)=>!0,i=Ye("picker-panel"),o=Ye("date-picker"),a=Th(),s=Co(),{t:l,lang:u}=Cr(),c=bt(Pc),f=bt(m2,void 0),{shortcuts:d,disabledDate:h,cellClassName:p,defaultTime:v}=c.props,g=Hr(c.props,"defaultValue"),m=F(),y=F(Ln().locale(u.value)),b=F(!1);let w=!1;const S=z(()=>Ln(v).locale(u.value)),x=z(()=>y.value.month()),C=z(()=>y.value.year()),E=F([]),T=F(null),A=F(null),k=je=>E.value.length>0?r(je,E.value,n.format||"HH:mm:ss"):!0,M=je=>v&&!_e.value&&!b.value&&!w?S.value.year(je.year()).month(je.month()).date(je.date()):X.value?je.millisecond(0):je.startOf("day"),D=(je,...mt)=>{if(!je)e("pick",je,...mt);else if(tt(je)){const re=je.map(M);e("pick",re,...mt)}else e("pick",M(je),...mt);T.value=null,A.value=null,b.value=!1,w=!1},L=async(je,mt)=>{if(j.value==="date"){je=je;let re=n.parsedValue?n.parsedValue.year(je.year()).month(je.month()).date(je.date()):je;k(re),y.value=re,D(re,X.value||mt)}else j.value==="week"?D(je.date):j.value==="dates"&&D(je,!0)},I=je=>{const mt=je?"add":"subtract";y.value=y.value[mt](1,"month"),$n("month")},R=je=>{const mt=y.value,re=je?"add":"subtract";y.value=V.value==="year"?mt[re](10,"year"):mt[re](1,"year"),$n("year")},V=F("date"),P=z(()=>{const je=l("el.datepicker.year");if(V.value==="year"){const mt=Math.floor(C.value/10)*10;return je?`${mt} ${je} - ${mt+9} ${je}`:`${mt} - ${mt+9}`}return`${C.value} ${je}`}),B=je=>{const mt=qt(je.value)?je.value():je.value;if(mt){w=!0,D(Ln(mt).locale(u.value));return}je.onClick&&je.onClick({attrs:a,slots:s,emit:e})},j=z(()=>{const{type:je}=n;return["week","month","months","year","years","dates"].includes(je)?je:"date"}),G=z(()=>j.value==="dates"||j.value==="months"||j.value==="years"),W=z(()=>j.value==="date"?V.value:j.value),Z=z(()=>!!d.length),ee=async(je,mt)=>{j.value==="month"?(y.value=Xb(y.value,y.value.year(),je,u.value,h),D(y.value,!1)):j.value==="months"?D(je,mt??!0):(y.value=Xb(y.value,y.value.year(),je,u.value,h),V.value="date",["month","year","date","week"].includes(j.value)&&(D(y.value,!0),await Pt(),Kt())),$n("month")},oe=async(je,mt)=>{if(j.value==="year"){const re=y.value.startOf("year").year(je);y.value=VM(re,u.value,h),D(y.value,!1)}else if(j.value==="years")D(je,mt??!0);else{const re=y.value.year(je);y.value=VM(re,u.value,h),V.value="month",["month","year","date","week"].includes(j.value)&&(D(y.value,!0),await Pt(),Kt())}$n("year")},ce=async je=>{n.disabled||(V.value=je,await Pt(),Kt())},X=z(()=>n.type==="datetime"||n.type==="datetimerange"),H=z(()=>{const je=X.value||j.value==="dates",mt=j.value==="years",re=j.value==="months",le=V.value==="date",Ae=V.value==="year",Qe=V.value==="month";return je&&le||mt&&Ae||re&&Qe}),U=z(()=>!G.value&&n.showNow||n.showConfirm),ne=z(()=>h?n.parsedValue?tt(n.parsedValue)?h(n.parsedValue[0].toDate()):h(n.parsedValue.toDate()):!0:!1),J=()=>{if(G.value)D(n.parsedValue);else{let je=n.parsedValue;if(!je){const mt=Ln(v).locale(u.value),re=$e();je=mt.year(re.year()).month(re.month()).date(re.date())}y.value=je,D(je)}},Y=z(()=>h?h(Ln().locale(u.value).toDate()):!1),se=()=>{const mt=Ln().locale(u.value).toDate();b.value=!0,(!h||!h(mt))&&k(mt)&&(y.value=Ln().locale(u.value),D(y.value))},he=z(()=>n.timeFormat||Vhe(n.format)||Yb),ye=z(()=>n.dateFormat||Fhe(n.format)||_p),_e=z(()=>{if(A.value)return A.value;if(!(!n.parsedValue&&!g.value))return(n.parsedValue||y.value).format(he.value)}),fe=z(()=>{if(T.value)return T.value;if(!(!n.parsedValue&&!g.value))return(n.parsedValue||y.value).format(ye.value)}),Ce=F(!1),Oe=()=>{Ce.value=!0},Ue=()=>{Ce.value=!1},qe=je=>({hour:je.hour(),minute:je.minute(),second:je.second(),year:je.year(),month:je.month(),date:je.date()}),ze=(je,mt,re)=>{const{hour:le,minute:Ae,second:Qe}=qe(je),ct=n.parsedValue?n.parsedValue.hour(le).minute(Ae).second(Qe):je;y.value=ct,D(y.value,!0),re||(Ce.value=mt)},ae=je=>{const mt=Ln(je,he.value).locale(u.value);if(mt.isValid()&&k(mt)){const{year:re,month:le,date:Ae}=qe(y.value);y.value=mt.year(re).month(le).date(Ae),A.value=null,Ce.value=!1,D(y.value,!0)}},Fe=je=>{const mt=Zb(je,ye.value,u.value,f);if(mt.isValid()){if(h&&h(mt.toDate()))return;const{hour:re,minute:le,second:Ae}=qe(y.value);y.value=mt.hour(re).minute(le).second(Ae),T.value=null,D(y.value,!0)}},We=je=>Ln.isDayjs(je)&&je.isValid()&&(h?!h(je.toDate()):!0),dn=je=>tt(je)?je.map(mt=>mt.format(n.format)):je.format(n.format),At=je=>Zb(je,n.format,u.value,f),$e=()=>{const je=Ln(g.value).locale(u.value);if(!g.value){const mt=S.value;return Ln().hour(mt.hour()).minute(mt.minute()).second(mt.second()).locale(u.value)}return je},Kt=()=>{var je;["week","month","year","date"].includes(j.value)&&((je=m.value)==null||je.focus())},Kn=()=>{Kt(),j.value==="week"&&wn(Ct.down)},$t=je=>{const{code:mt}=je;[Ct.up,Ct.down,Ct.left,Ct.right,Ct.home,Ct.end,Ct.pageUp,Ct.pageDown].includes(mt)&&(wn(mt),je.stopPropagation(),je.preventDefault()),[Ct.enter,Ct.space,Ct.numpadEnter].includes(mt)&&T.value===null&&A.value===null&&(je.preventDefault(),D(y.value,!1))},wn=je=>{var mt;const{up:re,down:le,left:Ae,right:Qe,home:ct,end:Nt,pageUp:zn,pageDown:li}=Ct,sr={year:{[re]:-4,[le]:4,[Ae]:-1,[Qe]:1,offset:(ut,In)=>ut.setFullYear(ut.getFullYear()+In)},month:{[re]:-4,[le]:4,[Ae]:-1,[Qe]:1,offset:(ut,In)=>ut.setMonth(ut.getMonth()+In)},week:{[re]:-1,[le]:1,[Ae]:-1,[Qe]:1,offset:(ut,In)=>ut.setDate(ut.getDate()+In*7)},date:{[re]:-7,[le]:7,[Ae]:-1,[Qe]:1,[ct]:ut=>-ut.getDay(),[Nt]:ut=>-ut.getDay()+6,[zn]:ut=>-new Date(ut.getFullYear(),ut.getMonth(),0).getDate(),[li]:ut=>new Date(ut.getFullYear(),ut.getMonth()+1,0).getDate(),offset:(ut,In)=>ut.setDate(ut.getDate()+In)}},Er=y.value.toDate();for(;Math.abs(y.value.diff(Er,"year",!0))<1;){const ut=sr[W.value];if(!ut)return;if(ut.offset(Er,qt(ut[je])?ut[je](Er):(mt=ut[je])!=null?mt:0),h&&h(Er))break;const In=Ln(Er).locale(u.value);y.value=In,e("pick",In,!0);break}},$n=je=>{e("panel-change",y.value.toDate(),je,V.value)};return Le(()=>j.value,je=>{if(["month","year"].includes(je)){V.value=je;return}else if(je==="years"){V.value="year";return}else if(je==="months"){V.value="month";return}V.value="date"},{immediate:!0}),Le(()=>g.value,je=>{je&&(y.value=$e())},{immediate:!0}),Le(()=>n.parsedValue,je=>{if(je){if(G.value||tt(je))return;y.value=je}else y.value=$e()},{immediate:!0}),e("set-picker-option",["isValidValue",We]),e("set-picker-option",["formatToString",dn]),e("set-picker-option",["parseUserInput",At]),e("set-picker-option",["handleFocusPicker",Kn]),(je,mt)=>(N(),Q("div",{class:q([_(i).b(),_(o).b(),_(i).is("border",je.border),_(i).is("disabled",je.disabled),{"has-sidebar":je.$slots.sidebar||_(Z),"has-time":_(X)}])},[K("div",{class:q(_(i).e("body-wrapper"))},[Ee(je.$slots,"sidebar",{class:q(_(i).e("sidebar"))}),_(Z)?(N(),Q("div",{key:0,class:q(_(i).e("sidebar"))},[(N(!0),Q(ft,null,gn(_(d),(re,le)=>(N(),Q("button",{key:le,type:"button",disabled:je.disabled,class:q(_(i).e("shortcut")),onClick:Ae=>B(re)},Ne(re.text),11,["disabled","onClick"]))),128))],2)):ge("v-if",!0),K("div",{class:q(_(i).e("body"))},[_(X)?(N(),Q("div",{key:0,class:q(_(o).e("time-header"))},[K("span",{class:q(_(o).e("editor-wrap"))},[O(_(Ps),{placeholder:_(l)("el.datepicker.selectDate"),"model-value":_(fe),size:"small","validate-event":!1,disabled:je.disabled,onInput:re=>T.value=re,onChange:Fe},null,8,["placeholder","model-value","disabled","onInput"])],2),An((N(),Q("span",{class:q(_(o).e("editor-wrap"))},[O(_(Ps),{placeholder:_(l)("el.datepicker.selectTime"),"model-value":_(_e),size:"small","validate-event":!1,disabled:je.disabled,onFocus:Oe,onInput:re=>A.value=re,onChange:ae},null,8,["placeholder","model-value","disabled","onInput"]),O(_($M),{visible:Ce.value,format:_(he),"parsed-value":y.value,onPick:ze},null,8,["visible","format","parsed-value"])],2)),[[_(ch),Ue]])],2)):ge("v-if",!0),An(K("div",{class:q([_(o).e("header"),(V.value==="year"||V.value==="month")&&_(o).e("header--bordered")])},[K("span",{class:q(_(o).e("prev-btn"))},[K("button",{type:"button","aria-label":_(l)("el.datepicker.prevYear"),class:q(["d-arrow-left",_(i).e("icon-btn")]),disabled:je.disabled,onClick:re=>R(!1)},[Ee(je.$slots,"prev-year",{},()=>[O(_(zt),null,{default:$(()=>[O(_(tv))]),_:1})])],10,["aria-label","disabled","onClick"]),An(K("button",{type:"button","aria-label":_(l)("el.datepicker.prevMonth"),class:q([_(i).e("icon-btn"),"arrow-left"]),disabled:je.disabled,onClick:re=>I(!1)},[Ee(je.$slots,"prev-month",{},()=>[O(_(zt),null,{default:$(()=>[O(_(oh))]),_:1})])],10,["aria-label","disabled","onClick"]),[[kr,V.value==="date"]])],2),K("span",{role:"button",class:q(_(o).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:hi(re=>ce("year"),["enter"]),onClick:re=>ce("year")},Ne(_(P)),43,["onKeydown","onClick"]),An(K("span",{role:"button","aria-live":"polite",tabindex:"0",class:q([_(o).e("header-label"),{active:V.value==="month"}]),onKeydown:hi(re=>ce("month"),["enter"]),onClick:re=>ce("month")},Ne(_(l)(`el.datepicker.month${_(x)+1}`)),43,["onKeydown","onClick"]),[[kr,V.value==="date"]]),K("span",{class:q(_(o).e("next-btn"))},[An(K("button",{type:"button","aria-label":_(l)("el.datepicker.nextMonth"),class:q([_(i).e("icon-btn"),"arrow-right"]),disabled:je.disabled,onClick:re=>I(!0)},[Ee(je.$slots,"next-month",{},()=>[O(_(zt),null,{default:$(()=>[O(_(Rs))]),_:1})])],10,["aria-label","disabled","onClick"]),[[kr,V.value==="date"]]),K("button",{type:"button","aria-label":_(l)("el.datepicker.nextYear"),class:q([_(i).e("icon-btn"),"d-arrow-right"]),disabled:je.disabled,onClick:re=>R(!0)},[Ee(je.$slots,"next-year",{},()=>[O(_(zt),null,{default:$(()=>[O(_(ah))]),_:1})])],10,["aria-label","disabled","onClick"])],2)],2),[[kr,V.value!=="time"]]),K("div",{class:q(_(i).e("content")),onKeydown:$t},[V.value==="date"?(N(),de(SF,{key:0,ref_key:"currentViewRef",ref:m,"selection-mode":_(j),date:y.value,"parsed-value":je.parsedValue,"disabled-date":_(h),disabled:je.disabled,"cell-class-name":_(p),"show-week-number":je.showWeekNumber,onPick:L},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name","show-week-number"])):ge("v-if",!0),V.value==="year"?(N(),de($x,{key:1,ref_key:"currentViewRef",ref:m,"selection-mode":_(j),date:y.value,"disabled-date":_(h),disabled:je.disabled,"parsed-value":je.parsedValue,"cell-class-name":_(p),onPick:oe},null,8,["selection-mode","date","disabled-date","disabled","parsed-value","cell-class-name"])):ge("v-if",!0),V.value==="month"?(N(),de(Bx,{key:2,ref_key:"currentViewRef",ref:m,"selection-mode":_(j),date:y.value,"parsed-value":je.parsedValue,"disabled-date":_(h),disabled:je.disabled,"cell-class-name":_(p),onPick:ee},null,8,["selection-mode","date","parsed-value","disabled-date","disabled","cell-class-name"])):ge("v-if",!0)],34)],2)],2),je.showFooter&&_(H)&&_(U)?(N(),Q("div",{key:0,class:q(_(i).e("footer"))},[An(O(_(Ea),{text:"",size:"small",class:q(_(i).e("link-btn")),disabled:_(Y),onClick:se},{default:$(()=>[Be(Ne(_(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[kr,!_(G)&&je.showNow]]),je.showConfirm?(N(),de(_(Ea),{key:0,plain:"",size:"small",class:q(_(i).e("link-btn")),disabled:_(ne),onClick:J},{default:$(()=>[Be(Ne(_(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])):ge("v-if",!0)],2)):ge("v-if",!0)],2))}});var UUe=lt(GUe,[["__file","panel-date-pick.vue"]]);const WUe=rt({...Ppe,...rH}),qUe=t=>{const{emit:e}=Un(),n=Th(),r=Co();return o=>{const a=qt(o.value)?o.value():o.value;if(a){e("pick",[Ln(a[0]).locale(t.value),Ln(a[1]).locale(t.value)]);return}o.onClick&&o.onClick({attrs:n,slots:r,emit:e})}},aH=(t,{defaultValue:e,defaultTime:n,leftDate:r,rightDate:i,step:o,unit:a,sortDates:s})=>{const{emit:l}=Un(),{pickerNs:u}=bt(tH),c=Ye("date-range-picker"),{t:f,lang:d}=Cr(),h=qUe(d),p=F(),v=F(),g=F({endDate:null,selecting:!1}),m=x=>{g.value=x},y=(x=!1)=>{const C=_(p),E=_(v);Nx([C,E])&&l("pick",[C,E],x)},b=x=>{g.value.selecting=x,x||(g.value.endDate=null)},w=x=>{if(tt(x)&&x.length===2){const[C,E]=x;p.value=C,r.value=C,v.value=E,s(_(p),_(v))}else S()},S=()=>{let[x,C]=EI(_(e),{lang:_(d),step:o,unit:a,unlinkPanels:t.unlinkPanels});const E=A=>A.diff(A.startOf("d"),"ms"),T=_(n);if(T){let A=0,k=0;if(tt(T)){const[M,D]=T.map(Ln);A=E(M),k=E(D)}else{const M=E(Ln(T));A=M,k=M}x=x.startOf("d").add(A,"ms"),C=C.startOf("d").add(k,"ms")}p.value=void 0,v.value=void 0,r.value=x,i.value=C};return Le(e,x=>{x&&S()},{immediate:!0}),Le(()=>t.parsedValue,x=>{x?.length||w(x)},{immediate:!0}),Le(()=>t.visible,()=>{t.visible&&w(t.parsedValue)},{immediate:!0}),{minDate:p,maxDate:v,rangeState:g,lang:d,ppNs:u,drpNs:c,handleChangeRange:m,handleRangeConfirm:y,handleShortcutClick:h,onSelect:b,parseValue:w,t:f}},KUe=(t,e,n,r)=>{const i=F("date"),o=F(),a=F("date"),s=F(),l=bt(Pc),{disabledDate:u}=l.props,{t:c,lang:f}=Cr(),d=z(()=>n.value.year()),h=z(()=>n.value.month()),p=z(()=>r.value.year()),v=z(()=>r.value.month());function g(x,C){const E=c("el.datepicker.year");if(x.value==="year"){const T=Math.floor(C.value/10)*10;return E?`${T} ${E} - ${T+9} ${E}`:`${T} - ${T+9}`}return`${C.value} ${E}`}function m(x){x?.focus()}async function y(x,C){if(t.disabled)return;const E=x==="left"?i:a,T=x==="left"?o:s;E.value=C,await Pt(),m(T.value)}async function b(x,C,E){if(t.disabled)return;const T=C==="left",A=T?n:r,k=T?r:n,M=T?i:a,D=T?o:s;if(x==="year"){const L=A.value.year(E);A.value=VM(L,f.value,u)}x==="month"&&(A.value=Xb(A.value,A.value.year(),E,f.value,u)),t.unlinkPanels||(k.value=C==="left"?A.value.add(1,"month"):A.value.subtract(1,"month")),M.value=x==="year"?"month":"date",await Pt(),m(D.value),w(x)}function w(x){e("panel-change",[n.value.toDate(),r.value.toDate()],x)}function S(x,C,E){const T=E?"add":"subtract";return x==="year"?C[T](10,"year"):C[T](1,"year")}return{leftCurrentView:i,rightCurrentView:a,leftCurrentViewRef:o,rightCurrentViewRef:s,leftYear:d,rightYear:p,leftMonth:h,rightMonth:v,leftYearLabel:z(()=>g(i,d)),rightYearLabel:z(()=>g(a,p)),showLeftPicker:x=>y("left",x),showRightPicker:x=>y("right",x),handleLeftYearPick:x=>b("year","left",x),handleRightYearPick:x=>b("year","right",x),handleLeftMonthPick:x=>b("month","left",x),handleRightMonthPick:x=>b("month","right",x),handlePanelChange:w,adjustDateByView:S}},aT="month",YUe=ue({__name:"panel-date-range",props:WUe,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,r=bt(Pc),i=bt(m2,void 0),{disabledDate:o,cellClassName:a,defaultTime:s,clearable:l}=r.props,u=Hr(r.props,"format"),c=Hr(r.props,"shortcuts"),f=Hr(r.props,"defaultValue"),{lang:d}=Cr(),h=F(Ln().locale(d.value)),p=F(Ln().locale(d.value).add(1,aT)),{minDate:v,maxDate:g,rangeState:m,ppNs:y,drpNs:b,handleChangeRange:w,handleRangeConfirm:S,handleShortcutClick:x,onSelect:C,parseValue:E,t:T}=aH(n,{defaultValue:f,defaultTime:s,leftDate:h,rightDate:p,unit:aT,sortDates:Er});Le(()=>n.visible,ut=>{!ut&&m.value.selecting&&(E(n.parsedValue),C(!1))});const A=F({min:null,max:null}),k=F({min:null,max:null}),{leftCurrentView:M,rightCurrentView:D,leftCurrentViewRef:L,rightCurrentViewRef:I,leftYear:R,rightYear:V,leftMonth:P,rightMonth:B,leftYearLabel:j,rightYearLabel:G,showLeftPicker:W,showRightPicker:Z,handleLeftYearPick:ee,handleRightYearPick:oe,handleLeftMonthPick:ce,handleRightMonthPick:X,handlePanelChange:H,adjustDateByView:U}=KUe(n,e,h,p),ne=z(()=>!!c.value.length),J=z(()=>A.value.min!==null?A.value.min:v.value?v.value.format(_e.value):""),Y=z(()=>A.value.max!==null?A.value.max:g.value||v.value?(g.value||v.value).format(_e.value):""),se=z(()=>k.value.min!==null?k.value.min:v.value?v.value.format(ye.value):""),he=z(()=>k.value.max!==null?k.value.max:g.value||v.value?(g.value||v.value).format(ye.value):""),ye=z(()=>n.timeFormat||Vhe(u.value||"")||Yb),_e=z(()=>n.dateFormat||Fhe(u.value||"")||_p),fe=ut=>Nx(ut)&&(o?!o(ut[0].toDate())&&!o(ut[1].toDate()):!0),Ce=()=>{h.value=U(M.value,h.value,!1),n.unlinkPanels||(p.value=h.value.add(1,"month")),H("year")},Oe=()=>{h.value=h.value.subtract(1,"month"),n.unlinkPanels||(p.value=h.value.add(1,"month")),H("month")},Ue=()=>{n.unlinkPanels?p.value=U(D.value,p.value,!0):(h.value=U(D.value,h.value,!0),p.value=h.value.add(1,"month")),H("year")},qe=()=>{n.unlinkPanels?p.value=p.value.add(1,"month"):(h.value=h.value.add(1,"month"),p.value=h.value.add(1,"month")),H("month")},ze=()=>{h.value=U(M.value,h.value,!0),H("year")},ae=()=>{h.value=h.value.add(1,"month"),H("month")},Fe=()=>{p.value=U(D.value,p.value,!1),H("year")},We=()=>{p.value=p.value.subtract(1,"month"),H("month")},dn=z(()=>{const ut=(P.value+1)%12,In=P.value+1>=12?1:0;return n.unlinkPanels&&new Date(R.value+In,ut)<new Date(V.value,B.value)}),At=z(()=>n.unlinkPanels&&V.value*12+B.value-(R.value*12+P.value+1)>=12),$e=z(()=>!(v.value&&g.value&&!m.value.selecting&&Nx([v.value,g.value]))),Kt=z(()=>n.type==="datetime"||n.type==="datetimerange"),Kn=(ut,In)=>{if(ut)return s?Ln(s[In]||s).locale(d.value).year(ut.year()).month(ut.month()).date(ut.date()):ut},$t=(ut,In=!0)=>{const Tn=ut.minDate,to=ut.maxDate,Uo=Kn(Tn,0),va=Kn(to,1);g.value===va&&v.value===Uo||(e("calendar-change",[Tn.toDate(),to&&to.toDate()]),g.value=va,v.value=Uo,!Kt.value&&In&&(In=!Uo||!va),S(In))},wn=F(!1),$n=F(!1),je=()=>{wn.value=!1},mt=()=>{$n.value=!1},re=(ut,In)=>{A.value[In]=ut;const Tn=Ln(ut,_e.value).locale(d.value);if(Tn.isValid()){if(o&&o(Tn.toDate()))return;In==="min"?(h.value=Tn,v.value=(v.value||h.value).year(Tn.year()).month(Tn.month()).date(Tn.date()),!n.unlinkPanels&&(!g.value||g.value.isBefore(v.value))&&(p.value=Tn.add(1,"month"),g.value=v.value.add(1,"month"))):(p.value=Tn,g.value=(g.value||p.value).year(Tn.year()).month(Tn.month()).date(Tn.date()),!n.unlinkPanels&&(!v.value||v.value.isAfter(g.value))&&(h.value=Tn.subtract(1,"month"),v.value=g.value.subtract(1,"month"))),Er(v.value,g.value),S(!0)}},le=(ut,In)=>{A.value[In]=null},Ae=(ut,In)=>{k.value[In]=ut;const Tn=Ln(ut,ye.value).locale(d.value);Tn.isValid()&&(In==="min"?(wn.value=!0,v.value=(v.value||h.value).hour(Tn.hour()).minute(Tn.minute()).second(Tn.second())):($n.value=!0,g.value=(g.value||p.value).hour(Tn.hour()).minute(Tn.minute()).second(Tn.second()),p.value=g.value))},Qe=(ut,In)=>{k.value[In]=null,In==="min"?(h.value=v.value,wn.value=!1,(!g.value||g.value.isBefore(v.value))&&(g.value=v.value)):(p.value=g.value,$n.value=!1,g.value&&g.value.isBefore(v.value)&&(v.value=g.value)),S(!0)},ct=(ut,In,Tn)=>{k.value.min||(ut&&(h.value=ut,v.value=(v.value||h.value).hour(ut.hour()).minute(ut.minute()).second(ut.second())),Tn||(wn.value=In),(!g.value||g.value.isBefore(v.value))&&(g.value=v.value,p.value=ut,Pt(()=>{E(n.parsedValue)})),S(!0))},Nt=(ut,In,Tn)=>{k.value.max||(ut&&(p.value=ut,g.value=(g.value||p.value).hour(ut.hour()).minute(ut.minute()).second(ut.second())),Tn||($n.value=In),g.value&&g.value.isBefore(v.value)&&(v.value=g.value),S(!0))},zn=()=>{h.value=EI(_(f),{lang:_(d),unit:"month",unlinkPanels:n.unlinkPanels})[0],p.value=h.value.add(1,"month"),g.value=void 0,v.value=void 0,S(!0),e("pick",null)},li=ut=>tt(ut)?ut.map(In=>In.format(u.value)):ut.format(u.value),sr=ut=>Zb(ut,u.value||"",d.value,i);function Er(ut,In){if(n.unlinkPanels&&In){const Tn=ut?.year()||0,to=ut?.month()||0,Uo=In.year(),va=In.month();p.value=Tn===Uo&&to===va?In.add(1,aT):In}else p.value=h.value.add(1,aT),In&&(p.value=p.value.hour(In.hour()).minute(In.minute()).second(In.second()))}return e("set-picker-option",["isValidValue",fe]),e("set-picker-option",["parseUserInput",sr]),e("set-picker-option",["formatToString",li]),e("set-picker-option",["handleClear",zn]),(ut,In)=>(N(),Q("div",{class:q([_(y).b(),_(b).b(),_(y).is("border",ut.border),_(y).is("disabled",ut.disabled),{"has-sidebar":ut.$slots.sidebar||_(ne),"has-time":_(Kt)}])},[K("div",{class:q(_(y).e("body-wrapper"))},[Ee(ut.$slots,"sidebar",{class:q(_(y).e("sidebar"))}),_(ne)?(N(),Q("div",{key:0,class:q(_(y).e("sidebar"))},[(N(!0),Q(ft,null,gn(_(c),(Tn,to)=>(N(),Q("button",{key:to,type:"button",disabled:ut.disabled,class:q(_(y).e("shortcut")),onClick:Uo=>_(x)(Tn)},Ne(Tn.text),11,["disabled","onClick"]))),128))],2)):ge("v-if",!0),K("div",{class:q(_(y).e("body"))},[_(Kt)?(N(),Q("div",{key:0,class:q(_(b).e("time-header"))},[K("span",{class:q(_(b).e("editors-wrap"))},[K("span",{class:q(_(b).e("time-picker-wrap"))},[O(_(Ps),{size:"small",disabled:_(m).selecting||ut.disabled,placeholder:_(T)("el.datepicker.startDate"),class:q(_(b).e("editor")),"model-value":_(J),"validate-event":!1,onInput:Tn=>re(Tn,"min"),onChange:Tn=>le(Tn,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),An((N(),Q("span",{class:q(_(b).e("time-picker-wrap"))},[O(_(Ps),{size:"small",class:q(_(b).e("editor")),disabled:_(m).selecting||ut.disabled,placeholder:_(T)("el.datepicker.startTime"),"model-value":_(se),"validate-event":!1,onFocus:Tn=>wn.value=!0,onInput:Tn=>Ae(Tn,"min"),onChange:Tn=>Qe(Tn,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),O(_($M),{visible:wn.value,format:_(ye),"datetime-role":"start","parsed-value":h.value,onPick:ct},null,8,["visible","format","parsed-value"])],2)),[[_(ch),je]])],2),K("span",null,[O(_(zt),null,{default:$(()=>[O(_(Rs))]),_:1})]),K("span",{class:q([_(b).e("editors-wrap"),"is-right"])},[K("span",{class:q(_(b).e("time-picker-wrap"))},[O(_(Ps),{size:"small",class:q(_(b).e("editor")),disabled:_(m).selecting||ut.disabled,placeholder:_(T)("el.datepicker.endDate"),"model-value":_(Y),readonly:!_(v),"validate-event":!1,onInput:Tn=>re(Tn,"max"),onChange:Tn=>le(Tn,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),An((N(),Q("span",{class:q(_(b).e("time-picker-wrap"))},[O(_(Ps),{size:"small",class:q(_(b).e("editor")),disabled:_(m).selecting||ut.disabled,placeholder:_(T)("el.datepicker.endTime"),"model-value":_(he),readonly:!_(v),"validate-event":!1,onFocus:Tn=>_(v)&&($n.value=!0),onInput:Tn=>Ae(Tn,"max"),onChange:Tn=>Qe(Tn,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),O(_($M),{"datetime-role":"end",visible:$n.value,format:_(ye),"parsed-value":p.value,onPick:Nt},null,8,["visible","format","parsed-value"])],2)),[[_(ch),mt]])],2)],2)):ge("v-if",!0),K("div",{class:q([[_(y).e("content"),_(b).e("content")],"is-left"])},[K("div",{class:q(_(b).e("header"))},[K("button",{type:"button",class:q([_(y).e("icon-btn"),"d-arrow-left"]),"aria-label":_(T)("el.datepicker.prevYear"),disabled:ut.disabled,onClick:Ce},[Ee(ut.$slots,"prev-year",{},()=>[O(_(zt),null,{default:$(()=>[O(_(tv))]),_:1})])],10,["aria-label","disabled"]),An(K("button",{type:"button",class:q([_(y).e("icon-btn"),"arrow-left"]),"aria-label":_(T)("el.datepicker.prevMonth"),disabled:ut.disabled,onClick:Oe},[Ee(ut.$slots,"prev-month",{},()=>[O(_(zt),null,{default:$(()=>[O(_(oh))]),_:1})])],10,["aria-label","disabled"]),[[kr,_(M)==="date"]]),ut.unlinkPanels?(N(),Q("button",{key:0,type:"button",disabled:!_(At)||ut.disabled,class:q([[_(y).e("icon-btn"),_(y).is("disabled",!_(At)||ut.disabled)],"d-arrow-right"]),"aria-label":_(T)("el.datepicker.nextYear"),onClick:ze},[Ee(ut.$slots,"next-year",{},()=>[O(_(zt),null,{default:$(()=>[O(_(ah))]),_:1})])],10,["disabled","aria-label"])):ge("v-if",!0),ut.unlinkPanels&&_(M)==="date"?(N(),Q("button",{key:1,type:"button",disabled:!_(dn)||ut.disabled,class:q([[_(y).e("icon-btn"),_(y).is("disabled",!_(dn)||ut.disabled)],"arrow-right"]),"aria-label":_(T)("el.datepicker.nextMonth"),onClick:ae},[Ee(ut.$slots,"next-month",{},()=>[O(_(zt),null,{default:$(()=>[O(_(Rs))]),_:1})])],10,["disabled","aria-label"])):ge("v-if",!0),K("div",null,[K("span",{role:"button",class:q(_(b).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:hi(Tn=>_(W)("year"),["enter"]),onClick:Tn=>_(W)("year")},Ne(_(j)),43,["onKeydown","onClick"]),An(K("span",{role:"button","aria-live":"polite",tabindex:"0",class:q([_(b).e("header-label"),{active:_(M)==="month"}]),onKeydown:hi(Tn=>_(W)("month"),["enter"]),onClick:Tn=>_(W)("month")},Ne(_(T)(`el.datepicker.month${h.value.month()+1}`)),43,["onKeydown","onClick"]),[[kr,_(M)==="date"]])])],2),_(M)==="date"?(N(),de(SF,{key:0,ref_key:"leftCurrentViewRef",ref:L,"selection-mode":"range",date:h.value,"min-date":_(v),"max-date":_(g),"range-state":_(m),"disabled-date":_(o),"cell-class-name":_(a),"show-week-number":ut.showWeekNumber,disabled:ut.disabled,onChangerange:_(w),onPick:$t,onSelect:_(C)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):ge("v-if",!0),_(M)==="year"?(N(),de($x,{key:1,ref_key:"leftCurrentViewRef",ref:L,"selection-mode":"year",date:h.value,"disabled-date":_(o),"parsed-value":ut.parsedValue,disabled:ut.disabled,onPick:_(ee)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):ge("v-if",!0),_(M)==="month"?(N(),de(Bx,{key:2,ref_key:"leftCurrentViewRef",ref:L,"selection-mode":"month",date:h.value,"parsed-value":ut.parsedValue,"disabled-date":_(o),disabled:ut.disabled,onPick:_(ce)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):ge("v-if",!0)],2),K("div",{class:q([[_(y).e("content"),_(b).e("content")],"is-right"])},[K("div",{class:q([_(b).e("header"),_(y).is("disabled",!_(At)||ut.disabled)])},[ut.unlinkPanels?(N(),Q("button",{key:0,type:"button",disabled:!_(At)||ut.disabled,class:q([_(y).e("icon-btn"),"d-arrow-left"]),"aria-label":_(T)("el.datepicker.prevYear"),onClick:Fe},[Ee(ut.$slots,"prev-year",{},()=>[O(_(zt),null,{default:$(()=>[O(_(tv))]),_:1})])],10,["disabled","aria-label"])):ge("v-if",!0),ut.unlinkPanels&&_(D)==="date"?(N(),Q("button",{key:1,type:"button",disabled:!_(dn)||ut.disabled,class:q([_(y).e("icon-btn"),"arrow-left"]),"aria-label":_(T)("el.datepicker.prevMonth"),onClick:We},[Ee(ut.$slots,"prev-month",{},()=>[O(_(zt),null,{default:$(()=>[O(_(oh))]),_:1})])],10,["disabled","aria-label"])):ge("v-if",!0),K("button",{type:"button","aria-label":_(T)("el.datepicker.nextYear"),class:q([_(y).e("icon-btn"),"d-arrow-right"]),disabled:ut.disabled,onClick:Ue},[Ee(ut.$slots,"next-year",{},()=>[O(_(zt),null,{default:$(()=>[O(_(ah))]),_:1})])],10,["aria-label","disabled"]),An(K("button",{type:"button",class:q([_(y).e("icon-btn"),"arrow-right"]),disabled:ut.disabled,"aria-label":_(T)("el.datepicker.nextMonth"),onClick:qe},[Ee(ut.$slots,"next-month",{},()=>[O(_(zt),null,{default:$(()=>[O(_(Rs))]),_:1})])],10,["disabled","aria-label"]),[[kr,_(D)==="date"]]),K("div",null,[K("span",{role:"button",class:q(_(b).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:hi(Tn=>_(Z)("year"),["enter"]),onClick:Tn=>_(Z)("year")},Ne(_(G)),43,["onKeydown","onClick"]),An(K("span",{role:"button","aria-live":"polite",tabindex:"0",class:q([_(b).e("header-label"),{active:_(D)==="month"}]),onKeydown:hi(Tn=>_(Z)("month"),["enter"]),onClick:Tn=>_(Z)("month")},Ne(_(T)(`el.datepicker.month${p.value.month()+1}`)),43,["onKeydown","onClick"]),[[kr,_(D)==="date"]])])],2),_(D)==="date"?(N(),de(SF,{key:0,ref_key:"rightCurrentViewRef",ref:I,"selection-mode":"range",date:p.value,"min-date":_(v),"max-date":_(g),"range-state":_(m),"disabled-date":_(o),"cell-class-name":_(a),"show-week-number":ut.showWeekNumber,disabled:ut.disabled,onChangerange:_(w),onPick:$t,onSelect:_(C)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","show-week-number","disabled","onChangerange","onSelect"])):ge("v-if",!0),_(D)==="year"?(N(),de($x,{key:1,ref_key:"rightCurrentViewRef",ref:I,"selection-mode":"year",date:p.value,"disabled-date":_(o),"parsed-value":ut.parsedValue,disabled:ut.disabled,onPick:_(oe)},null,8,["date","disabled-date","parsed-value","disabled","onPick"])):ge("v-if",!0),_(D)==="month"?(N(),de(Bx,{key:2,ref_key:"rightCurrentViewRef",ref:I,"selection-mode":"month",date:p.value,"parsed-value":ut.parsedValue,"disabled-date":_(o),disabled:ut.disabled,onPick:_(X)},null,8,["date","parsed-value","disabled-date","disabled","onPick"])):ge("v-if",!0)],2)],2)],2),ut.showFooter&&_(Kt)&&(ut.showConfirm||_(l))?(N(),Q("div",{key:0,class:q(_(y).e("footer"))},[_(l)?(N(),de(_(Ea),{key:0,text:"",size:"small",class:q(_(y).e("link-btn")),onClick:zn},{default:$(()=>[Be(Ne(_(T)("el.datepicker.clear")),1)]),_:1},8,["class"])):ge("v-if",!0),ut.showConfirm?(N(),de(_(Ea),{key:1,plain:"",size:"small",class:q(_(y).e("link-btn")),disabled:_($e),onClick:Tn=>_(S)(!1)},{default:$(()=>[Be(Ne(_(T)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])):ge("v-if",!0)],2)):ge("v-if",!0)],2))}});var XUe=lt(YUe,[["__file","panel-date-range.vue"]]);const ZUe=rt({...rH}),JUe=["pick","set-picker-option","calendar-change"],QUe=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:r}=Cr(),i=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},o=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},a=()=>{e.value=e.value.add(1,"year")},s=()=>{n.value=n.value.subtract(1,"year")},l=z(()=>`${e.value.year()} ${r("el.datepicker.year")}`),u=z(()=>`${n.value.year()} ${r("el.datepicker.year")}`),c=z(()=>e.value.year()),f=z(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:i,rightNextYear:o,leftNextYear:a,rightPrevYear:s,leftLabel:l,rightLabel:u,leftYear:c,rightYear:f}},sT="year",e7e=ue({name:"DatePickerMonthRange"}),t7e=ue({...e7e,props:ZUe,emits:JUe,setup(t,{emit:e}){const n=t,{lang:r}=Cr(),i=bt(Pc),o=bt(m2,void 0),{shortcuts:a,disabledDate:s,cellClassName:l}=i.props,u=Hr(i.props,"format"),c=Hr(i.props,"defaultValue"),f=F(Ln().locale(r.value)),d=F(Ln().locale(r.value).add(1,sT)),{minDate:h,maxDate:p,rangeState:v,ppNs:g,drpNs:m,handleChangeRange:y,handleRangeConfirm:b,handleShortcutClick:w,onSelect:S,parseValue:x}=aH(n,{defaultValue:c,leftDate:f,rightDate:d,unit:sT,sortDates:G}),C=z(()=>!!a.length),{leftPrevYear:E,rightNextYear:T,leftNextYear:A,rightPrevYear:k,leftLabel:M,rightLabel:D,leftYear:L,rightYear:I}=QUe({unlinkPanels:Hr(n,"unlinkPanels"),leftDate:f,rightDate:d}),R=z(()=>n.unlinkPanels&&I.value>L.value+1),V=(W,Z=!0)=>{const ee=W.minDate,oe=W.maxDate;p.value===oe&&h.value===ee||(e("calendar-change",[ee.toDate(),oe&&oe.toDate()]),p.value=oe,h.value=ee,Z&&b())},P=()=>{f.value=EI(_(c),{lang:_(r),unit:"year",unlinkPanels:n.unlinkPanels})[0],d.value=f.value.add(1,"year"),e("pick",null)},B=W=>tt(W)?W.map(Z=>Z.format(u.value)):W.format(u.value),j=W=>Zb(W,u.value,r.value,o);function G(W,Z){if(n.unlinkPanels&&Z){const ee=W?.year()||0,oe=Z.year();d.value=ee===oe?Z.add(1,sT):Z}else d.value=f.value.add(1,sT)}return Le(()=>n.visible,W=>{!W&&v.value.selecting&&(x(n.parsedValue),S(!1))}),e("set-picker-option",["isValidValue",Nx]),e("set-picker-option",["formatToString",B]),e("set-picker-option",["parseUserInput",j]),e("set-picker-option",["handleClear",P]),(W,Z)=>(N(),Q("div",{class:q([_(g).b(),_(m).b(),_(g).is("border",W.border),_(g).is("disabled",W.disabled),{"has-sidebar":!!W.$slots.sidebar||_(C)}])},[K("div",{class:q(_(g).e("body-wrapper"))},[Ee(W.$slots,"sidebar",{class:q(_(g).e("sidebar"))}),_(C)?(N(),Q("div",{key:0,class:q(_(g).e("sidebar"))},[(N(!0),Q(ft,null,gn(_(a),(ee,oe)=>(N(),Q("button",{key:oe,type:"button",class:q(_(g).e("shortcut")),disabled:W.disabled,onClick:ce=>_(w)(ee)},Ne(ee.text),11,["disabled","onClick"]))),128))],2)):ge("v-if",!0),K("div",{class:q(_(g).e("body"))},[K("div",{class:q([[_(g).e("content"),_(m).e("content")],"is-left"])},[K("div",{class:q(_(m).e("header"))},[K("button",{type:"button",class:q([_(g).e("icon-btn"),"d-arrow-left"]),disabled:W.disabled,onClick:_(E)},[Ee(W.$slots,"prev-year",{},()=>[O(_(zt),null,{default:$(()=>[O(_(tv))]),_:1})])],10,["disabled","onClick"]),W.unlinkPanels?(N(),Q("button",{key:0,type:"button",disabled:!_(R)||W.disabled,class:q([[_(g).e("icon-btn"),{[_(g).is("disabled")]:!_(R)}],"d-arrow-right"]),onClick:_(A)},[Ee(W.$slots,"next-year",{},()=>[O(_(zt),null,{default:$(()=>[O(_(ah))]),_:1})])],10,["disabled","onClick"])):ge("v-if",!0),K("div",null,Ne(_(M)),1)],2),O(Bx,{"selection-mode":"range",date:f.value,"min-date":_(h),"max-date":_(p),"range-state":_(v),"disabled-date":_(s),disabled:W.disabled,"cell-class-name":_(l),onChangerange:_(y),onPick:V,onSelect:_(S)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),K("div",{class:q([[_(g).e("content"),_(m).e("content")],"is-right"])},[K("div",{class:q(_(m).e("header"))},[W.unlinkPanels?(N(),Q("button",{key:0,type:"button",disabled:!_(R)||W.disabled,class:q([[_(g).e("icon-btn"),{"is-disabled":!_(R)}],"d-arrow-left"]),onClick:_(k)},[Ee(W.$slots,"prev-year",{},()=>[O(_(zt),null,{default:$(()=>[O(_(tv))]),_:1})])],10,["disabled","onClick"])):ge("v-if",!0),K("button",{type:"button",class:q([_(g).e("icon-btn"),"d-arrow-right"]),disabled:W.disabled,onClick:_(T)},[Ee(W.$slots,"next-year",{},()=>[O(_(zt),null,{default:$(()=>[O(_(ah))]),_:1})])],10,["disabled","onClick"]),K("div",null,Ne(_(D)),1)],2),O(Bx,{"selection-mode":"range",date:d.value,"min-date":_(h),"max-date":_(p),"range-state":_(v),"disabled-date":_(s),disabled:W.disabled,"cell-class-name":_(l),onChangerange:_(y),onPick:V,onSelect:_(S)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});var n7e=lt(t7e,[["__file","panel-month-range.vue"]]);const r7e=rt({...rH}),i7e=["pick","set-picker-option","calendar-change"],o7e=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const r=()=>{e.value=e.value.subtract(10,"year"),t.value||(n.value=n.value.subtract(10,"year"))},i=()=>{t.value||(e.value=e.value.add(10,"year")),n.value=n.value.add(10,"year")},o=()=>{e.value=e.value.add(10,"year")},a=()=>{n.value=n.value.subtract(10,"year")},s=z(()=>{const f=Math.floor(e.value.year()/10)*10;return`${f}-${f+9}`}),l=z(()=>{const f=Math.floor(n.value.year()/10)*10;return`${f}-${f+9}`}),u=z(()=>Math.floor(e.value.year()/10)*10+9),c=z(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:i,leftNextYear:o,rightPrevYear:a,leftLabel:s,rightLabel:l,leftYear:u,rightYear:c}},e0=10,fw="year",a7e=ue({name:"DatePickerYearRange"}),s7e=ue({...a7e,props:r7e,emits:i7e,setup(t,{emit:e}){const n=t,{lang:r}=Cr(),i=F(Ln().locale(r.value)),o=F(Ln().locale(r.value).add(e0,fw)),a=bt(m2,void 0),s=bt(Pc),{shortcuts:l,disabledDate:u,cellClassName:c}=s.props,f=Hr(s.props,"format"),d=Hr(s.props,"defaultValue"),{minDate:h,maxDate:p,rangeState:v,ppNs:g,drpNs:m,handleChangeRange:y,handleRangeConfirm:b,handleShortcutClick:w,onSelect:S,parseValue:x}=aH(n,{defaultValue:d,leftDate:i,rightDate:o,step:e0,unit:fw,sortDates:oe}),{leftPrevYear:C,rightNextYear:E,leftNextYear:T,rightPrevYear:A,leftLabel:k,rightLabel:M,leftYear:D,rightYear:L}=o7e({unlinkPanels:Hr(n,"unlinkPanels"),leftDate:i,rightDate:o}),I=z(()=>!!l.length),R=z(()=>[g.b(),m.b(),g.is("border",n.border),g.is("disabled",n.disabled),{"has-sidebar":!!Co().sidebar||I.value}]),V=z(()=>({content:[g.e("content"),m.e("content"),"is-left"],arrowLeftBtn:[g.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[g.e("icon-btn"),{[g.is("disabled")]:!B.value},"d-arrow-right"]})),P=z(()=>({content:[g.e("content"),m.e("content"),"is-right"],arrowLeftBtn:[g.e("icon-btn"),{"is-disabled":!B.value},"d-arrow-left"],arrowRightBtn:[g.e("icon-btn"),"d-arrow-right"]})),B=z(()=>n.unlinkPanels&&L.value>D.value+1),j=(ce,X=!0)=>{const H=ce.minDate,U=ce.maxDate;p.value===U&&h.value===H||(e("calendar-change",[H.toDate(),U&&U.toDate()]),p.value=U,h.value=H,X&&b())},G=ce=>Zb(ce,f.value,r.value,a),W=ce=>tt(ce)?ce.map(X=>X.format(f.value)):ce.format(f.value),Z=ce=>Nx(ce)&&(u?!u(ce[0].toDate())&&!u(ce[1].toDate()):!0),ee=()=>{const ce=EI(_(d),{lang:_(r),step:e0,unit:fw,unlinkPanels:n.unlinkPanels});i.value=ce[0],o.value=ce[1],e("pick",null)};function oe(ce,X){if(n.unlinkPanels&&X){const H=ce?.year()||0,U=X.year();o.value=H+e0>U?X.add(e0,fw):X}else o.value=i.value.add(e0,fw)}return Le(()=>n.visible,ce=>{!ce&&v.value.selecting&&(x(n.parsedValue),S(!1))}),e("set-picker-option",["isValidValue",Z]),e("set-picker-option",["parseUserInput",G]),e("set-picker-option",["formatToString",W]),e("set-picker-option",["handleClear",ee]),(ce,X)=>(N(),Q("div",{class:q(_(R))},[K("div",{class:q(_(g).e("body-wrapper"))},[Ee(ce.$slots,"sidebar",{class:q(_(g).e("sidebar"))}),_(I)?(N(),Q("div",{key:0,class:q(_(g).e("sidebar"))},[(N(!0),Q(ft,null,gn(_(l),(H,U)=>(N(),Q("button",{key:U,type:"button",class:q(_(g).e("shortcut")),disabled:ce.disabled,onClick:ne=>_(w)(H)},Ne(H.text),11,["disabled","onClick"]))),128))],2)):ge("v-if",!0),K("div",{class:q(_(g).e("body"))},[K("div",{class:q(_(V).content)},[K("div",{class:q(_(m).e("header"))},[K("button",{type:"button",class:q(_(V).arrowLeftBtn),disabled:ce.disabled,onClick:_(C)},[Ee(ce.$slots,"prev-year",{},()=>[O(_(zt),null,{default:$(()=>[O(_(tv))]),_:1})])],10,["disabled","onClick"]),ce.unlinkPanels?(N(),Q("button",{key:0,type:"button",disabled:!_(B)||ce.disabled,class:q(_(V).arrowRightBtn),onClick:_(T)},[Ee(ce.$slots,"next-year",{},()=>[O(_(zt),null,{default:$(()=>[O(_(ah))]),_:1})])],10,["disabled","onClick"])):ge("v-if",!0),K("div",null,Ne(_(k)),1)],2),O($x,{"selection-mode":"range",date:i.value,"min-date":_(h),"max-date":_(p),"range-state":_(v),"disabled-date":_(u),disabled:ce.disabled,"cell-class-name":_(c),onChangerange:_(y),onPick:j,onSelect:_(S)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2),K("div",{class:q(_(P).content)},[K("div",{class:q(_(m).e("header"))},[ce.unlinkPanels?(N(),Q("button",{key:0,type:"button",disabled:!_(B)||ce.disabled,class:q(_(P).arrowLeftBtn),onClick:_(A)},[Ee(ce.$slots,"prev-year",{},()=>[O(_(zt),null,{default:$(()=>[O(_(tv))]),_:1})])],10,["disabled","onClick"])):ge("v-if",!0),K("button",{type:"button",class:q(_(P).arrowRightBtn),disabled:ce.disabled,onClick:_(E)},[Ee(ce.$slots,"next-year",{},()=>[O(_(zt),null,{default:$(()=>[O(_(ah))]),_:1})])],10,["disabled","onClick"]),K("div",null,Ne(_(M)),1)],2),O($x,{"selection-mode":"range",date:o.value,"min-date":_(h),"max-date":_(p),"range-state":_(v),"disabled-date":_(u),disabled:ce.disabled,"cell-class-name":_(c),onChangerange:_(y),onPick:j,onSelect:_(S)},null,8,["date","min-date","max-date","range-state","disabled-date","disabled","cell-class-name","onChangerange","onSelect"])],2)],2)],2)],2))}});var l7e=lt(s7e,[["__file","panel-year-range.vue"]]);const u7e=function(t){switch(t){case"daterange":case"datetimerange":return XUe;case"monthrange":return n7e;case"yearrange":return l7e;default:return UUe}};function c7e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!wi(t)}Ln.extend(Hhe);Ln.extend(uUe);Ln.extend(Zz);Ln.extend(hUe);Ln.extend(mUe);Ln.extend(wUe);Ln.extend(EUe);Ln.extend(MUe);var f7e=ue({name:"ElDatePickerPanel",install:null,props:PUe,emits:[_n,"calendar-change","panel-change","visible-change","pick"],setup(t,{slots:e,emit:n}){const r=Ye("picker-panel"),i=bt(Pc,void 0);if(gr(i)){const c=Bn({...zo(t)});jn(Pc,{props:c})}jn(tH,{slots:e,pickerNs:r});const{parsedValue:o,onCalendarChange:a,onPanelChange:s,onSetPickerOption:l,onPick:u}=bt(Spe,()=>xpe(t,n),!0);return()=>{const c=u7e(t.type);return O(c,Fn(t,{parsedValue:o.value,"onSet-picker-option":l,"onCalendar-change":a,"onPanel-change":s,onPick:u}),c7e(e)?e:{default:()=>[e]})}}});const Ope=kn(f7e),d7e=rt({...eH,type:{type:me(String),default:"date"}});function h7e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!wi(t)}var p7e=ue({name:"ElDatePicker",install:null,props:d7e,emits:[_n],setup(t,{expose:e,emit:n,slots:r}){const i=z(()=>!t.format);jn(m2,i),jn(Jz,Bn(Hr(t,"popperOptions")));const o=F();e({focus:()=>{var l;(l=o.value)==null||l.focus()},blur:()=>{var l;(l=o.value)==null||l.blur()},handleOpen:()=>{var l;(l=o.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=o.value)==null||l.handleClose()}});const s=l=>{n(_n,l)};return()=>{var l;const u=(l=t.format)!=null?l:H9e[t.type]||_p;return O(Epe,Fn(t,{format:u,type:t.type,ref:o,"onUpdate:modelValue":s}),{default:c=>O(Ope,Fn({border:!1},c),h7e(r)?r:{default:()=>[r]}),"range-separator":r["range-separator"]})}}});const v7e=kn(p7e),sH=Symbol("elDescriptions");var dw=ue({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:bt(sH,{})}},render(){var t;const e=ije(this.cell),n=(((t=this.cell)==null?void 0:t.dirs)||[]).map(m=>{const{dir:y,arg:b,modifiers:w,value:S}=m;return[y,S,b,w]}),{border:r,direction:i}=this.descriptions,o=i==="vertical",a=()=>{var m,y,b;return((b=(y=(m=this.cell)==null?void 0:m.children)==null?void 0:y.label)==null?void 0:b.call(y))||e.label},s=()=>{var m,y,b;return(b=(y=(m=this.cell)==null?void 0:m.children)==null?void 0:y.default)==null?void 0:b.call(y)},l=e.span,u=e.rowspan,c=e.align?`is-${e.align}`:"",f=e.labelAlign?`is-${e.labelAlign}`:c,d=e.className,h=e.labelClassName,p=this.type==="label"&&(e.labelWidth||this.descriptions.labelWidth)||e.width,v={width:Qi(p),minWidth:Qi(e.minWidth)},g=Ye("descriptions");switch(this.type){case"label":return An(Rt(this.tag,{style:v,class:[g.e("cell"),g.e("label"),g.is("bordered-label",r),g.is("vertical-label",o),f,h],colSpan:o?l:1,rowspan:o?1:u},a()),n);case"content":return An(Rt(this.tag,{style:v,class:[g.e("cell"),g.e("content"),g.is("bordered-content",r),g.is("vertical-content",o),c,d],colSpan:o?l:l*2-1,rowspan:o?u*2-1:u},s()),n);default:{const m=a(),y={},b=Qi(e.labelWidth||this.descriptions.labelWidth);return b&&(y.width=b,y.display="inline-block"),An(Rt("td",{style:v,class:[g.e("cell"),c],colSpan:l,rowspan:u},[So(m)?void 0:Rt("span",{style:y,class:[g.e("label"),h]},m),Rt("span",{class:[g.e("content"),d]},s())]),n)}}}});const g7e=rt({row:{type:me(Array),default:()=>[]}}),m7e=ue({name:"ElDescriptionsRow"}),y7e=ue({...m7e,props:g7e,setup(t){const e=bt(sH,{});return(n,r)=>_(e).direction==="vertical"?(N(),Q(ft,{key:0},[K("tr",null,[(N(!0),Q(ft,null,gn(n.row,(i,o)=>(N(),de(_(dw),{key:`tr1-${o}`,cell:i,tag:"th",type:"label"},null,8,["cell"]))),128))]),K("tr",null,[(N(!0),Q(ft,null,gn(n.row,(i,o)=>(N(),de(_(dw),{key:`tr2-${o}`,cell:i,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(N(),Q("tr",{key:1},[(N(!0),Q(ft,null,gn(n.row,(i,o)=>(N(),Q(ft,{key:`tr3-${o}`},[_(e).border?(N(),Q(ft,{key:0},[O(_(dw),{cell:i,tag:"td",type:"label"},null,8,["cell"]),O(_(dw),{cell:i,tag:"td",type:"content"},null,8,["cell"])],64)):(N(),de(_(dw),{key:1,cell:i,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var b7e=lt(y7e,[["__file","descriptions-row.vue"]]);const _7e=rt({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:Ho,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),Ipe="ElDescriptionsItem",w7e=ue({name:"ElDescriptions"}),S7e=ue({...w7e,props:_7e,setup(t){const e=t,n=Ye("descriptions"),r=Po(),i=Co();jn(sH,e);const o=z(()=>[n.b(),n.m(r.value)]),a=(l,u,c,f=!1)=>(l.props||(l.props={}),u>c&&(l.props.span=c),f&&(l.props.span=u),l),s=()=>{if(!i.default)return[];const l=Pf(i.default()).filter(p=>{var v;return((v=p?.type)==null?void 0:v.name)===Ipe}),u=[];let c=[],f=e.column,d=0;const h=[];return l.forEach((p,v)=>{var g,m,y;const b=((g=p.props)==null?void 0:g.span)||1,w=((m=p.props)==null?void 0:m.rowspan)||1,S=u.length;if(h[S]||(h[S]=0),w>1)for(let x=1;x<w;x++)h[y=S+x]||(h[y]=0),h[S+x]++,d++;if(h[S]>0&&(f-=h[S],h[S]=0),v<l.length-1&&(d+=b>f?f:b),v===l.length-1){const x=e.column-d%e.column;c.push(a(p,x,f,!0)),u.push(c);return}b<f?(f-=b,c.push(p)):(c.push(a(p,b,f)),u.push(c),f=e.column,c=[])}),u};return(l,u)=>(N(),Q("div",{class:q(_(o))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(N(),Q("div",{key:0,class:q(_(n).e("header"))},[K("div",{class:q(_(n).e("title"))},[Ee(l.$slots,"title",{},()=>[Be(Ne(l.title),1)])],2),K("div",{class:q(_(n).e("extra"))},[Ee(l.$slots,"extra",{},()=>[Be(Ne(l.extra),1)])],2)],2)):ge("v-if",!0),K("div",{class:q(_(n).e("body"))},[K("table",{class:q([_(n).e("table"),_(n).is("bordered",l.border)])},[K("tbody",null,[(N(!0),Q(ft,null,gn(s(),(c,f)=>(N(),de(b7e,{key:f,row:c},null,8,["row"]))),128))])],2)],2)],2))}});var x7e=lt(S7e,[["__file","description.vue"]]);const NY=["left","center","right"],C7e=rt({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,values:NY,default:"left"},labelAlign:{type:String,values:NY},className:{type:String,default:""},labelClassName:{type:String,default:""}}),Rpe=ue({name:Ipe,props:C7e}),E7e=kn(x7e,{DescriptionsItem:Rpe}),T7e=Wi(Rpe),lH=t=>{if(!t)return{onClick:Yr,onMousedown:Yr,onMouseup:Yr};let e=!1,n=!1;return{onClick:a=>{e&&n&&t(a),e=n=!1},onMousedown:a=>{e=a.target===a.currentTarget},onMouseup:a=>{n=a.target===a.currentTarget}}},A7e=rt({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:me([String,Array,Object])},zIndex:{type:me([String,Number])}}),k7e={click:t=>t instanceof MouseEvent},M7e="overlay";var P7e=ue({name:"ElOverlay",props:A7e,emits:k7e,setup(t,{slots:e,emit:n}){const r=Ye(M7e),i=l=>{n("click",l)},{onClick:o,onMousedown:a,onMouseup:s}=lH(t.customMaskEvent?void 0:i);return()=>t.mask?O("div",{class:[r.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:o,onMousedown:a,onMouseup:s},[Ee(e,"default")],yu.STYLE|yu.CLASS|yu.PROPS,["onClick","onMouseup","onMousedown"]):Rt("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Ee(e,"default")])}});const uH=P7e,Lpe=Symbol("dialogInjectionKey"),BY="dialog-fade",Dpe=rt({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:Xr},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),O7e={close:()=>!0},Npe=(t,e,n,r)=>{const i={offsetX:0,offsetY:0},o=F(!1),a=(d,h)=>{if(t.value){const{offsetX:p,offsetY:v}=i,g=t.value.getBoundingClientRect(),m=g.left,y=g.top,b=g.width,w=g.height,S=document.documentElement.clientWidth,x=document.documentElement.clientHeight,C=-m+p,E=-y+v,T=S-m-b+p,A=x-y-(w<x?w:0)+v;r?.value||(d=Math.min(Math.max(d,C),T),h=Math.min(Math.max(h,E),A)),i.offsetX=d,i.offsetY=h,t.value.style.transform=`translate(${Qi(d)}, ${Qi(h)})`}},s=d=>{const h=d.clientX,p=d.clientY,{offsetX:v,offsetY:g}=i,m=b=>{o.value||(o.value=!0);const w=v+b.clientX-h,S=g+b.clientY-p;a(w,S)},y=()=>{o.value=!1,document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",y)};document.addEventListener("mousemove",m),document.addEventListener("mouseup",y)},l=()=>{e.value&&t.value&&(e.value.addEventListener("mousedown",s),window.addEventListener("resize",f))},u=()=>{e.value&&t.value&&(e.value.removeEventListener("mousedown",s),window.removeEventListener("resize",f))},c=()=>{i.offsetX=0,i.offsetY=0,t.value&&(t.value.style.transform="")},f=()=>{const{offsetX:d,offsetY:h}=i;a(d,h)};return Jt(()=>{is(()=>{n.value?l():u()})}),ur(()=>{u()}),{isDragging:o,resetPosition:c,updatePosition:f}},TI=(...t)=>e=>{t.forEach(n=>{qt(n)?n(e):n.value=e})},I7e=ue({name:"ElDialogContent"}),R7e=ue({...I7e,props:Dpe,emits:O7e,setup(t,{expose:e}){const n=t,{t:r}=Cr(),{Close:i}=the,{dialogRef:o,headerRef:a,bodyId:s,ns:l,style:u}=bt(Lpe),{focusTrapRef:c}=bt($z),f=TI(c,o),d=z(()=>!!n.draggable),h=z(()=>!!n.overflow),{resetPosition:p,updatePosition:v,isDragging:g}=Npe(o,a,d,h),m=z(()=>[l.b(),l.is("fullscreen",n.fullscreen),l.is("draggable",d.value),l.is("dragging",g.value),l.is("align-center",!!n.alignCenter),{[l.m("center")]:n.center}]);return e({resetPosition:p,updatePosition:v}),(y,b)=>(N(),Q("div",{ref:_(f),class:q(_(m)),style:Ot(_(u)),tabindex:"-1"},[K("header",{ref_key:"headerRef",ref:a,class:q([_(l).e("header"),y.headerClass,{"show-close":y.showClose}])},[Ee(y.$slots,"header",{},()=>[K("span",{role:"heading","aria-level":y.ariaLevel,class:q(_(l).e("title"))},Ne(y.title),11,["aria-level"])]),y.showClose?(N(),Q("button",{key:0,"aria-label":_(r)("el.dialog.close"),class:q(_(l).e("headerbtn")),type:"button",onClick:w=>y.$emit("close")},[O(_(zt),{class:q(_(l).e("close"))},{default:$(()=>[(N(),de(Vn(y.closeIcon||_(i))))]),_:1},8,["class"])],10,["aria-label","onClick"])):ge("v-if",!0)],2),K("div",{id:_(s),class:q([_(l).e("body"),y.bodyClass])},[Ee(y.$slots,"default")],10,["id"]),y.$slots.footer?(N(),Q("footer",{key:0,class:q([_(l).e("footer"),y.footerClass])},[Ee(y.$slots,"footer")],2)):ge("v-if",!0)],6))}});var L7e=lt(R7e,[["__file","dialog-content.vue"]]);const Bpe=rt({...Dpe,appendToBody:Boolean,appendTo:{type:wI.to.type,default:"body"},beforeClose:{type:me(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:me([String,Object]),default:void 0}}),$pe={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[_n]:t=>ei(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},cH=(t,e={})=>{ai(t)||xo("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||Ye("popup"),r=z(()=>n.bm("parent","hidden"));if(!Ar||Mu(document.body,r.value))return;let i=0,o=!1,a="0";const s=()=>{setTimeout(()=>{typeof document>"u"||o&&document&&(document.body.style.width=a,Is(document.body,r.value))},200)};Le(t,l=>{if(!l){s();return}o=!Mu(document.body,r.value),o&&(a=document.body.style.width,Pu(document.body,r.value)),i=Vde(n.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,c=Dd(document.body,"overflowY");i>0&&(u||c==="scroll")&&o&&(document.body.style.width=`calc(100% - ${i}px)`)}),Nue(()=>s())},Fpe=(t,e)=>{var n;const i=Un().emit,{nextZIndex:o}=a_();let a="";const s=Ha(),l=Ha(),u=F(!1),c=F(!1),f=F(!1),d=F((n=t.zIndex)!=null?n:o());let h,p;const v=s_(),g=z(()=>{var G,W;return(W=(G=v.value)==null?void 0:G.namespace)!=null?W:DS}),m=z(()=>{var G;return(G=v.value)==null?void 0:G.dialog}),y=z(()=>{const G={},W=`--${g.value}-dialog`;return t.fullscreen||(t.top&&(G[`${W}-margin-top`]=t.top),t.width&&(G[`${W}-width`]=Qi(t.width))),G}),b=z(()=>{var G,W,Z;return((Z=(W=t.draggable)!=null?W:(G=m.value)==null?void 0:G.draggable)!=null?Z:!1)&&!t.fullscreen}),w=z(()=>{var G,W,Z;return(Z=(W=t.alignCenter)!=null?W:(G=m.value)==null?void 0:G.alignCenter)!=null?Z:!1}),S=z(()=>{var G,W,Z;return(Z=(W=t.overflow)!=null?W:(G=m.value)==null?void 0:G.overflow)!=null?Z:!1}),x=z(()=>w.value?{display:"flex"}:{}),C=z(()=>{var G,W,Z;const ee=(Z=(W=t.transition)!=null?W:(G=m.value)==null?void 0:G.transition)!=null?Z:BY,oe={name:ee,onAfterEnter:E,onBeforeLeave:A,onAfterLeave:T};if(Nn(ee)){const ce={...ee},X=(H,U)=>ne=>{tt(H)?H.forEach(J=>{qt(J)&&J(ne)}):qt(H)&&H(ne),U()};return ce.onAfterEnter=X(ce.onAfterEnter,E),ce.onBeforeLeave=X(ce.onBeforeLeave,A),ce.onAfterLeave=X(ce.onAfterLeave,T),ce.name||(ce.name=BY),ce}return oe});function E(){i("opened")}function T(){i("closed"),i(_n,!1),t.destroyOnClose&&(f.value=!1)}function A(){i("close")}function k(){p?.(),h?.(),t.openDelay&&t.openDelay>0?{stop:h}=Dm(()=>I(),t.openDelay):I()}function M(){h?.(),p?.(),t.closeDelay&&t.closeDelay>0?{stop:p}=Dm(()=>R(),t.closeDelay):R()}function D(){function G(W){W||(c.value=!0,u.value=!1)}t.beforeClose?t.beforeClose(G):M()}function L(){t.closeOnClickModal&&D()}function I(){Ar&&(u.value=!0)}function R(){u.value=!1}function V(){i("openAutoFocus")}function P(){i("closeAutoFocus")}function B(G){var W;((W=G.detail)==null?void 0:W.focusReason)==="pointer"&&G.preventDefault()}t.lockScroll&&cH(u);function j(){t.closeOnPressEscape&&D()}return Le(()=>t.zIndex,()=>{var G;d.value=(G=t.zIndex)!=null?G:o()}),Le(()=>t.modelValue,G=>{var W;G?(c.value=!1,k(),f.value=!0,d.value=(W=t.zIndex)!=null?W:o(),Pt(()=>{i("open"),e.value&&(e.value.parentElement.scrollTop=0,e.value.parentElement.scrollLeft=0,e.value.scrollTop=0)})):u.value&&M()}),Le(()=>t.fullscreen,G=>{e.value&&(G?(a=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=a)}),Jt(()=>{t.modelValue&&(u.value=!0,f.value=!0,k())}),{afterEnter:E,afterLeave:T,beforeLeave:A,handleClose:D,onModalClick:L,close:M,doClose:R,onOpenAutoFocus:V,onCloseAutoFocus:P,onCloseRequested:j,onFocusoutPrevented:B,titleId:s,bodyId:l,closed:c,style:y,overlayDialogStyle:x,rendered:f,visible:u,zIndex:d,transitionConfig:C,_draggable:b,_alignCenter:w,_overflow:S}},D7e=ue({name:"ElDialog",inheritAttrs:!1}),N7e=ue({...D7e,props:Bpe,emits:$pe,setup(t,{expose:e}){const n=t,r=Co();Wd({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},z(()=>!!r.title));const i=Ye("dialog"),o=F(),a=F(),s=F(),{visible:l,titleId:u,bodyId:c,style:f,overlayDialogStyle:d,rendered:h,transitionConfig:p,zIndex:v,_draggable:g,_alignCenter:m,_overflow:y,handleClose:b,onModalClick:w,onOpenAutoFocus:S,onCloseAutoFocus:x,onCloseRequested:C,onFocusoutPrevented:E}=Fpe(n,o);jn(Lpe,{dialogRef:o,headerRef:a,bodyId:c,ns:i,rendered:h,style:f});const T=lH(w),A=z(()=>n.modalPenetrable&&!n.modal&&!n.fullscreen);return e({visible:l,dialogContentRef:s,resetPosition:()=>{var M;(M=s.value)==null||M.resetPosition()},handleClose:b}),(M,D)=>(N(),de(_(l_),{to:M.appendTo,disabled:M.appendTo!=="body"?!1:!M.appendToBody},{default:$(()=>[O(ka,Fn(_(p),{persisted:""}),{default:$(()=>{var L;return[An(O(_(uH),{"custom-mask-event":"",mask:M.modal,"overlay-class":[(L=M.modalClass)!=null?L:"",`${_(i).namespace.value}-modal-dialog`,_(i).is("penetrable",_(A))],"z-index":_(v)},{default:$(()=>[K("div",{role:"dialog","aria-modal":"true","aria-label":M.title||void 0,"aria-labelledby":M.title?void 0:_(u),"aria-describedby":_(c),class:q(`${_(i).namespace.value}-overlay-dialog`),style:Ot(_(d)),onClick:_(T).onClick,onMousedown:_(T).onMousedown,onMouseup:_(T).onMouseup},[O(_(by),{loop:"",trapped:_(l),"focus-start-el":"container",onFocusAfterTrapped:_(S),onFocusAfterReleased:_(x),onFocusoutPrevented:_(E),onReleaseRequested:_(C)},{default:$(()=>[_(h)?(N(),de(L7e,Fn({key:0,ref_key:"dialogContentRef",ref:s},M.$attrs,{center:M.center,"align-center":_(m),"close-icon":M.closeIcon,draggable:_(g),overflow:_(y),fullscreen:M.fullscreen,"header-class":M.headerClass,"body-class":M.bodyClass,"footer-class":M.footerClass,"show-close":M.showClose,title:M.title,"aria-level":M.headerAriaLevel,onClose:_(b)}),Ml({header:$(()=>[M.$slots.title?Ee(M.$slots,"title",{key:1}):Ee(M.$slots,"header",{key:0,close:_(b),titleId:_(u),titleClass:_(i).e("title")})]),default:$(()=>[Ee(M.$slots,"default")]),_:2},[M.$slots.footer?{name:"footer",fn:$(()=>[Ee(M.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):ge("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[kr,_(l)]])]}),_:3},16)]),_:3},8,["to","disabled"]))}});var B7e=lt(N7e,[["__file","dialog.vue"]]);const $7e=kn(B7e),F7e=rt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:me(String),default:"solid"}}),V7e=ue({name:"ElDivider"}),z7e=ue({...V7e,props:F7e,setup(t){const e=t,n=Ye("divider"),r=z(()=>n.cssVar({"border-style":e.borderStyle}));return(i,o)=>(N(),Q("div",{class:q([_(n).b(),_(n).m(i.direction)]),style:Ot(_(r)),role:"separator"},[i.$slots.default&&i.direction!=="vertical"?(N(),Q("div",{key:0,class:q([_(n).e("text"),_(n).is(i.contentPosition)])},[Ee(i.$slots,"default")],2)):ge("v-if",!0)],6))}});var H7e=lt(z7e,[["__file","divider.vue"]]);const Vpe=kn(H7e),j7e=rt({...Bpe,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),G7e=$pe;function U7e(t,e){const{width:n,height:r}=Mde(),i=z(()=>["ltr","rtl"].includes(t.direction)),o=z(()=>["ltr","ttb"].includes(t.direction)?1:-1),a=z(()=>i.value?n.value:r.value),s=z(()=>e$e(l.value+o.value*u.value,4,a.value)),l=F(0),u=F(0),c=F(!1),f=F(!1);let d=[],h=[];const p=()=>{var b;const w=(b=e.value)==null?void 0:b.closest('[aria-modal="true"]');return w?i.value?w.offsetWidth:w.offsetHeight:100};Le(()=>[t.size,t.resizable],()=>{f.value=!1,l.value=0,u.value=0,m()});const v=b=>{t.resizable&&(f.value||(l.value=p(),f.value=!0),d=[b.pageX,b.pageY],c.value=!0,h.push(Lr(window,"mouseup",m),Lr(window,"mousemove",g)))},g=b=>{const{pageX:w,pageY:S}=b,x=w-d[0],C=S-d[1];u.value=i.value?x:C},m=()=>{d=[],l.value=s.value,u.value=0,c.value=!1,h.forEach(b=>b?.()),h=[]},y=Lr(e,"mousedown",v);return ur(()=>{y(),m()}),{size:z(()=>f.value?`${s.value}px`:Qi(t.size)),isResizing:c,isHorizontal:i}}const W7e=ue({name:"ElDrawer",inheritAttrs:!1}),q7e=ue({...W7e,props:j7e,emits:G7e,setup(t,{expose:e}){const n=t,r=Co();Wd({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},z(()=>!!r.title));const i=F(),o=F(),a=F(),s=Ye("drawer"),{t:l}=Cr(),{afterEnter:u,afterLeave:c,beforeLeave:f,visible:d,rendered:h,titleId:p,bodyId:v,zIndex:g,onModalClick:m,onOpenAutoFocus:y,onCloseAutoFocus:b,onFocusoutPrevented:w,onCloseRequested:S,handleClose:x}=Fpe(n,i),{isHorizontal:C,size:E,isResizing:T}=U7e(n,a);return e({handleClose:x,afterEnter:u,afterLeave:c}),(A,k)=>(N(),de(_(l_),{to:A.appendTo,disabled:A.appendTo!=="body"?!1:!A.appendToBody},{default:$(()=>[O(ka,{name:_(s).b("fade"),onAfterEnter:_(u),onAfterLeave:_(c),onBeforeLeave:_(f),persisted:""},{default:$(()=>{var M;return[An(O(_(uH),{mask:A.modal,"overlay-class":[_(s).is("drawer"),(M=A.modalClass)!=null?M:""],"z-index":_(g),onClick:_(m)},{default:$(()=>[O(_(by),{loop:"",trapped:_(d),"focus-trap-el":i.value,"focus-start-el":o.value,onFocusAfterTrapped:_(y),onFocusAfterReleased:_(b),onFocusoutPrevented:_(w),onReleaseRequested:_(S)},{default:$(()=>[K("div",Fn({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":A.title||void 0,"aria-labelledby":A.title?void 0:_(p),"aria-describedby":_(v)},A.$attrs,{class:[_(s).b(),A.direction,_(d)&&"open",_(s).is("dragging",_(T))],style:{[_(C)?"width":"height"]:_(E)},role:"dialog",onClick:an(()=>{},["stop"])}),[K("span",{ref_key:"focusStartRef",ref:o,class:q(_(s).e("sr-focus")),tabindex:"-1"},null,2),A.withHeader?(N(),Q("header",{key:0,class:q([_(s).e("header"),A.headerClass])},[A.$slots.title?Ee(A.$slots,"title",{key:1},()=>[ge(" DEPRECATED SLOT ")]):Ee(A.$slots,"header",{key:0,close:_(x),titleId:_(p),titleClass:_(s).e("title")},()=>[K("span",{id:_(p),role:"heading","aria-level":A.headerAriaLevel,class:q(_(s).e("title"))},Ne(A.title),11,["id","aria-level"])]),A.showClose?(N(),Q("button",{key:2,"aria-label":_(l)("el.drawer.close"),class:q(_(s).e("close-btn")),type:"button",onClick:_(x)},[O(_(zt),{class:q(_(s).e("close"))},{default:$(()=>[O(_(Hu))]),_:1},8,["class"])],10,["aria-label","onClick"])):ge("v-if",!0)],2)):ge("v-if",!0),_(h)?(N(),Q("div",{key:1,id:_(v),class:q([_(s).e("body"),A.bodyClass])},[Ee(A.$slots,"default")],10,["id"])):ge("v-if",!0),A.$slots.footer?(N(),Q("div",{key:2,class:q([_(s).e("footer"),A.footerClass])},[Ee(A.$slots,"footer")],2)):ge("v-if",!0),A.resizable?(N(),Q("div",{key:3,ref_key:"draggerRef",ref:a,style:Ot({zIndex:_(g)}),class:q(_(s).e("dragger"))},null,6)):ge("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[kr,_(d)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var K7e=lt(q7e,[["__file","drawer.vue"]]);const Y7e=kn(K7e),X7e=ue({inheritAttrs:!1});function Z7e(t,e,n,r,i,o){return Ee(t.$slots,"default")}var J7e=lt(X7e,[["render",Z7e],["__file","collection.vue"]]);const Q7e=ue({name:"ElCollectionItem",inheritAttrs:!1});function eWe(t,e,n,r,i,o){return Ee(t.$slots,"default")}var tWe=lt(Q7e,[["render",eWe],["__file","collection-item.vue"]]);const zpe="data-el-collection-item",Hpe=t=>{const e=`El${t}Collection`,n=`${e}Item`,r=Symbol(e),i=Symbol(n),o={...J7e,name:e,setup(){const s=F(),l=new Map;jn(r,{itemMap:l,getItems:()=>{const c=_(s);if(!c)return[];const f=Array.from(c.querySelectorAll(`[${zpe}]`));return[...l.values()].sort((h,p)=>f.indexOf(h.ref)-f.indexOf(p.ref))},collectionRef:s})}},a={...tWe,name:n,setup(s,{attrs:l}){const u=F(),c=bt(r,void 0);jn(i,{collectionItemRef:u}),Jt(()=>{const f=_(u);f&&c.itemMap.set(f,{ref:f,...l})}),ur(()=>{const f=_(u);c.itemMap.delete(f)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:o,ElCollectionItem:a}},nWe=rt({style:{type:me([String,Array,Object])},currentTabId:{type:me(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:me(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:rWe,ElCollectionItem:iWe,COLLECTION_INJECTION_KEY:fH,COLLECTION_ITEM_INJECTION_KEY:oWe}=Hpe("RovingFocusGroup"),dH=Symbol("elRovingFocusGroup"),jpe=Symbol("elRovingFocusGroupItem"),aWe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},sWe=(t,e)=>t,lWe=(t,e,n)=>{const r=sWe(t.code);return aWe[r]},uWe=(t,e)=>t.map((n,r)=>t[(r+e)%t.length]),hH=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},$Y="currentTabIdChange",FY="rovingFocusGroup.entryFocus",cWe={bubbles:!1,cancelable:!0},fWe=ue({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:nWe,emits:[$Y,"entryFocus"],setup(t,{emit:e}){var n;const r=F((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),i=F(!1),o=F(!1),a=F(),{getItems:s}=bt(fH,void 0),l=z(()=>[{outline:"none"},t.style]),u=v=>{e($Y,v)},c=()=>{i.value=!0},f=ao(v=>{var g;(g=t.onMousedown)==null||g.call(t,v)},()=>{o.value=!0}),d=ao(v=>{var g;(g=t.onFocus)==null||g.call(t,v)},v=>{const g=!_(o),{target:m,currentTarget:y}=v;if(m===y&&g&&!_(i)){const b=new Event(FY,cWe);if(y?.dispatchEvent(b),!b.defaultPrevented){const w=s().filter(T=>T.focusable),S=w.find(T=>T.active),x=w.find(T=>T.id===_(r)),E=[S,x,...w].filter(Boolean).map(T=>T.ref);hH(E)}}o.value=!1}),h=ao(v=>{var g;(g=t.onBlur)==null||g.call(t,v)},()=>{i.value=!1}),p=(...v)=>{e("entryFocus",...v)};jn(dH,{currentTabbedId:fy(r),loop:Hr(t,"loop"),tabIndex:z(()=>_(i)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:l,orientation:Hr(t,"orientation"),dir:Hr(t,"dir"),onItemFocus:u,onItemShiftTab:c,onBlur:h,onFocus:d,onMousedown:f}),Le(()=>t.currentTabId,v=>{r.value=v??null}),Lr(a,FY,p)}});function dWe(t,e,n,r,i,o){return Ee(t.$slots,"default")}var hWe=lt(fWe,[["render",dWe],["__file","roving-focus-group-impl.vue"]]);const pWe=ue({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:rWe,ElRovingFocusGroupImpl:hWe}});function vWe(t,e,n,r,i,o){const a=pe("el-roving-focus-group-impl"),s=pe("el-focus-group-collection");return N(),de(s,null,{default:$(()=>[O(a,Sl(Wf(t.$attrs)),{default:$(()=>[Ee(t.$slots,"default")]),_:3},16)]),_:3})}var gWe=lt(pWe,[["render",vWe],["__file","roving-focus-group.vue"]]);const pk=rt({trigger:vb.trigger,triggerKeys:{type:me(Array),default:()=>[Ct.enter,Ct.numpadEnter,Ct.space,Ct.down]},effect:{...Ai.effect,default:"light"},type:{type:me(String)},placement:{type:me(String),default:"bottom"},popperOptions:{type:me(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:me([Number,String]),default:0},maxHeight:{type:me([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,values:lhe,default:"menu"},buttonProps:{type:me(Object)},teleported:Ai.teleported,persistent:{type:Boolean,default:!0}}),Gpe=rt({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Xr}}),mWe=rt({onKeydown:{type:me(Function)}}),yWe=[Ct.down,Ct.pageDown,Ct.home],Upe=[Ct.up,Ct.pageUp,Ct.end],bWe=[...yWe,...Upe],{ElCollection:_We,ElCollectionItem:wWe,COLLECTION_INJECTION_KEY:SWe,COLLECTION_ITEM_INJECTION_KEY:xWe}=Hpe("Dropdown"),AI=Symbol("elDropdown"),Wpe="elDropdown",{ButtonGroup:CWe}=Ea,EWe=ue({name:"ElDropdown",components:{ElButton:Ea,ElButtonGroup:CWe,ElScrollbar:Mc,ElDropdownCollection:_We,ElTooltip:ja,ElRovingFocusGroup:gWe,ElOnlyChild:dhe,ElIcon:zt,ArrowDown:sd},props:pk,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=Un(),r=Ye("dropdown"),{t:i}=Cr(),o=F(),a=F(),s=F(),l=F(),u=F(null),c=F(null),f=F(!1),d=z(()=>({maxHeight:Qi(t.maxHeight)})),h=z(()=>[r.m(w.value)]),p=z(()=>wa(t.trigger)),v=Ha().value,g=z(()=>t.id||v);function m(){y()}function y(){var I;(I=s.value)==null||I.onClose()}function b(){var I;(I=s.value)==null||I.onOpen()}const w=Po();function S(...I){e("command",...I)}function x(){}function C(){const I=_(l);p.value.includes("hover")&&I?.focus({preventScroll:!0}),c.value=null}function E(I){c.value=I}function T(I){f.value||(I.preventDefault(),I.stopImmediatePropagation())}function A(){e("visible-change",!0)}function k(I){var R;I?.type==="keydown"&&((R=l.value)==null||R.focus())}function M(){e("visible-change",!1)}return jn(AI,{contentRef:l,role:z(()=>t.role),triggerId:g,isUsingKeyboard:f,onItemEnter:x,onItemLeave:C}),jn(Wpe,{instance:n,dropdownSize:w,handleClick:m,commandHandler:S,trigger:Hr(t,"trigger"),hideOnClick:Hr(t,"hideOnClick")}),{t:i,ns:r,scrollbar:u,wrapStyle:d,dropdownTriggerKls:h,dropdownSize:w,triggerId:g,currentTabId:c,handleCurrentTabIdChange:E,handlerMainButtonClick:I=>{e("click",I)},handleEntryFocus:T,handleClose:y,handleOpen:b,handleBeforeShowTooltip:A,handleShowTooltip:k,handleBeforeHideTooltip:M,onFocusAfterTrapped:I=>{var R,V;I.preventDefault(),(V=(R=l.value)==null?void 0:R.focus)==null||V.call(R,{preventScroll:!0})},popperRef:s,contentRef:l,triggeringElementRef:o,referenceElementRef:a}}});function TWe(t,e,n,r,i,o){var a;const s=pe("el-dropdown-collection"),l=pe("el-roving-focus-group"),u=pe("el-scrollbar"),c=pe("el-only-child"),f=pe("el-tooltip"),d=pe("el-button"),h=pe("arrow-down"),p=pe("el-icon"),v=pe("el-button-group");return N(),Q("div",{class:q([t.ns.b(),t.ns.is("disabled",t.disabled)])},[O(f,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(a=t.referenceElementRef)==null?void 0:a.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"","focus-on-target":"",persistent:t.persistent,onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},Ml({content:$(()=>[O(u,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:$(()=>[O(l,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:$(()=>[O(s,null,{default:$(()=>[Ee(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:$(()=>[O(c,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:$(()=>[Ee(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","persistent","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(N(),de(v,{key:0},{default:$(()=>[O(d,Fn({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:$(()=>[Ee(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),O(d,Fn({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:$(()=>[O(p,{class:q(t.ns.e("icon"))},{default:$(()=>[O(h)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):ge("v-if",!0)],2)}var AWe=lt(EWe,[["render",TWe],["__file","dropdown.vue"]]);const kWe=ue({components:{ElRovingFocusCollectionItem:iWe},props:{focusable:{type:Boolean,default:!0},active:Boolean},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:r,onItemFocus:i,onItemShiftTab:o}=bt(dH,void 0),{getItems:a}=bt(fH,void 0),s=Ha(),l=F(),u=ao(h=>{e("mousedown",h)},h=>{t.focusable?i(_(s)):h.preventDefault()}),c=ao(h=>{e("focus",h)},()=>{i(_(s))}),f=ao(h=>{e("keydown",h)},h=>{const{code:p,shiftKey:v,target:g,currentTarget:m}=h;if(p===Ct.tab&&v){o();return}if(g!==m)return;const y=lWe(h);if(y){h.preventDefault();let w=a().filter(S=>S.focusable).map(S=>S.ref);switch(y){case"last":{w.reverse();break}case"prev":case"next":{y==="prev"&&w.reverse();const S=w.indexOf(m);w=r.value?uWe(w,S+1):w.slice(S+1);break}}Pt(()=>{hH(w)})}}),d=z(()=>n.value===_(s));return jn(jpe,{rovingFocusGroupItemRef:l,tabIndex:z(()=>_(d)?0:-1),handleMousedown:u,handleFocus:c,handleKeydown:f}),{id:s,handleKeydown:f,handleFocus:c,handleMousedown:u}}});function MWe(t,e,n,r,i,o){const a=pe("el-roving-focus-collection-item");return N(),de(a,{id:t.id,focusable:t.focusable,active:t.active},{default:$(()=>[Ee(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var PWe=lt(kWe,[["render",MWe],["__file","roving-focus-item.vue"]]);const OWe=ue({name:"DropdownItemImpl",components:{ElIcon:zt},props:Gpe,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=Ye("dropdown"),{role:r}=bt(AI,void 0),{collectionItemRef:i}=bt(xWe,void 0),{collectionItemRef:o}=bt(oWe,void 0),{rovingFocusGroupItemRef:a,tabIndex:s,handleFocus:l,handleKeydown:u,handleMousedown:c}=bt(jpe,void 0),f=TI(i,o,a),d=z(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),h=ao(p=>{if([Ct.enter,Ct.numpadEnter,Ct.space].includes(p.code))return p.preventDefault(),p.stopImmediatePropagation(),e("clickimpl",p),!0},u);return{ns:n,itemRef:f,dataset:{[zpe]:""},role:d,tabIndex:s,handleFocus:l,handleKeydown:h,handleMousedown:c}}});function IWe(t,e,n,r,i,o){const a=pe("el-icon");return N(),Q(ft,null,[t.divided?(N(),Q("li",{key:0,role:"separator",class:q(t.ns.bem("menu","item","divided"))},null,2)):ge("v-if",!0),K("li",Fn({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:s=>t.$emit("clickimpl",s),onFocus:t.handleFocus,onKeydown:an(t.handleKeydown,["self"]),onMousedown:t.handleMousedown,onPointermove:s=>t.$emit("pointermove",s),onPointerleave:s=>t.$emit("pointerleave",s)}),[t.icon?(N(),de(a,{key:0},{default:$(()=>[(N(),de(Vn(t.icon)))]),_:1})):ge("v-if",!0),Ee(t.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var RWe=lt(OWe,[["render",IWe],["__file","dropdown-item-impl.vue"]]);const qpe=()=>{const t=bt(Wpe,{}),e=z(()=>t?.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},LWe=ue({name:"ElDropdownItem",components:{ElDropdownCollectionItem:wWe,ElRovingFocusItem:PWe,ElDropdownItemImpl:RWe},inheritAttrs:!1,props:Gpe,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:r}=qpe(),i=Un(),o=F(null),a=z(()=>{var h,p;return(p=(h=_(o))==null?void 0:h.textContent)!=null?p:""}),{onItemEnter:s,onItemLeave:l}=bt(AI,void 0),u=ao(h=>(e("pointermove",h),h.defaultPrevented),lY(h=>{if(t.disabled){l(h);return}const p=h.currentTarget;p===document.activeElement||p.contains(document.activeElement)||(s(h),h.defaultPrevented||p?.focus({preventScroll:!0}))})),c=ao(h=>(e("pointerleave",h),h.defaultPrevented),lY(l)),f=ao(h=>{if(!t.disabled)return e("click",h),h.type!=="keydown"&&h.defaultPrevented},h=>{var p,v,g;if(t.disabled){h.stopImmediatePropagation();return}(p=r?.hideOnClick)!=null&&p.value&&((v=r.handleClick)==null||v.call(r)),(g=r.commandHandler)==null||g.call(r,t.command,i,h)}),d=z(()=>({...t,...n}));return{handleClick:f,handlePointerMove:u,handlePointerLeave:c,textContent:a,propsAndAttrs:d}}});function DWe(t,e,n,r,i,o){var a;const s=pe("el-dropdown-item-impl"),l=pe("el-roving-focus-item"),u=pe("el-dropdown-collection-item");return N(),de(u,{disabled:t.disabled,"text-value":(a=t.textValue)!=null?a:t.textContent},{default:$(()=>[O(l,{focusable:!t.disabled},{default:$(()=>[O(s,Fn(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:$(()=>[Ee(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Kpe=lt(LWe,[["render",DWe],["__file","dropdown-item.vue"]]);const NWe=ue({name:"ElDropdownMenu",props:mWe,setup(t){const e=Ye("dropdown"),{_elDropdownSize:n}=qpe(),r=n.value,{focusTrapRef:i,onKeydown:o}=bt($z,void 0),{contentRef:a,role:s,triggerId:l}=bt(AI,void 0),{collectionRef:u,getItems:c}=bt(SWe,void 0),{rovingFocusGroupRef:f,rovingFocusGroupRootStyle:d,tabIndex:h,onBlur:p,onFocus:v,onMousedown:g}=bt(dH,void 0),{collectionRef:m}=bt(fH,void 0),y=z(()=>[e.b("menu"),e.bm("menu",r?.value)]),b=TI(a,u,i,f,m),w=ao(x=>{var C;(C=t.onKeydown)==null||C.call(t,x)},x=>{const{currentTarget:C,code:E,target:T}=x;if(C.contains(T),Ct.tab===E&&x.stopImmediatePropagation(),x.preventDefault(),T!==_(a)||!bWe.includes(E))return;const k=c().filter(M=>!M.disabled).map(M=>M.ref);Upe.includes(E)&&k.reverse(),hH(k)});return{size:r,rovingFocusGroupRootStyle:d,tabIndex:h,dropdownKls:y,role:s,triggerId:l,dropdownListWrapperRef:b,handleKeydown:x=>{w(x),o(x)},onBlur:p,onFocus:v,onMousedown:g}}});function BWe(t,e,n,r,i,o){return N(),Q("ul",{ref:t.dropdownListWrapperRef,class:q(t.dropdownKls),style:Ot(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:t.onBlur,onFocus:t.onFocus,onKeydown:an(t.handleKeydown,["self"]),onMousedown:an(t.onMousedown,["self"])},[Ee(t.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var Ype=lt(NWe,[["render",BWe],["__file","dropdown-menu.vue"]]);const $We=kn(AWe,{DropdownItem:Kpe,DropdownMenu:Ype}),FWe=Wi(Kpe),VWe=Wi(Ype),zWe=ue({name:"ImgEmpty"}),HWe=ue({...zWe,setup(t){const e=Ye("empty"),n=Ha();return(r,i)=>(N(),Q("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[K("defs",null,[K("linearGradient",{id:`linearGradient-1-${_(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[K("stop",{"stop-color":`var(${_(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),K("stop",{"stop-color":`var(${_(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),K("linearGradient",{id:`linearGradient-2-${_(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[K("stop",{"stop-color":`var(${_(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),K("stop",{"stop-color":`var(${_(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),K("rect",{id:`path-3-${_(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),K("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[K("g",{transform:"translate(-1268.000000, -535.000000)"},[K("g",{transform:"translate(1268.000000, 535.000000)"},[K("path",{d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${_(e).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),K("polygon",{fill:`var(${_(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),K("g",{transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[K("polygon",{fill:`var(${_(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),K("polygon",{fill:`var(${_(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),K("rect",{fill:`url(#linearGradient-1-${_(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),K("polygon",{fill:`var(${_(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),K("rect",{fill:`url(#linearGradient-2-${_(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),K("g",{transform:"translate(53.000000, 45.000000)"},[K("use",{fill:`var(${_(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${_(n)}`},null,8,["fill","xlink:href"]),K("polygon",{fill:`var(${_(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${_(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),K("polygon",{fill:`var(${_(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var jWe=lt(HWe,[["__file","img-empty.vue"]]);const GWe=rt({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),UWe=ue({name:"ElEmpty"}),WWe=ue({...UWe,props:GWe,setup(t){const e=t,{t:n}=Cr(),r=Ye("empty"),i=z(()=>e.description||n("el.table.emptyText")),o=z(()=>({width:Qi(e.imageSize)}));return(a,s)=>(N(),Q("div",{class:q(_(r).b())},[K("div",{class:q(_(r).e("image")),style:Ot(_(o))},[a.image?(N(),Q("img",{key:0,src:a.image,ondragstart:"return false"},null,8,["src"])):Ee(a.$slots,"image",{key:1},()=>[O(jWe)])],6),K("div",{class:q(_(r).e("description"))},[a.$slots.description?Ee(a.$slots,"description",{key:0}):(N(),Q("p",{key:1},Ne(_(i)),1))],2),a.$slots.default?(N(),Q("div",{key:0,class:q(_(r).e("bottom"))},[Ee(a.$slots,"default")],2)):ge("v-if",!0)],2))}});var qWe=lt(WWe,[["__file","empty.vue"]]);const Xpe=kn(qWe),KWe=rt({size:{type:String,values:ad},disabled:Boolean}),YWe=rt({...KWe,model:Object,rules:{type:me(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:me([Object,Boolean]),default:!0}}),XWe={validate:(t,e,n)=>(tt(t)||Ht(t))&&ei(e)&&Ht(n)};function ZWe(){const t=F([]),e=z(()=>{if(!t.value.length)return"0";const o=Math.max(...t.value);return o?`${o}px`:""});function n(o){const a=t.value.indexOf(o);return a===-1&&e.value,a}function r(o,a){if(o&&a){const s=n(a);t.value.splice(s,1,o)}else o&&t.value.push(o)}function i(o){const a=n(o);a>-1&&t.value.splice(a,1)}return{autoLabelWidth:e,registerLabelWidth:r,deregisterLabelWidth:i}}const lT=(t,e)=>{const n=wa(e).map(r=>tt(r)?r.join("."):r);return n.length>0?t.filter(r=>r.propString&&n.includes(r.propString)):t},JWe="ElForm",QWe=ue({name:JWe}),eqe=ue({...QWe,props:YWe,emits:XWe,setup(t,{expose:e,emit:n}){const r=t,i=F(),o=Bn([]),a=Po(),s=Ye("form"),l=z(()=>{const{labelPosition:w,inline:S}=r;return[s.b(),s.m(a.value||"default"),{[s.m(`label-${w}`)]:w,[s.m("inline")]:S}]}),u=w=>lT(o,[w])[0],c=w=>{o.push(w)},f=w=>{w.prop&&o.splice(o.indexOf(w),1)},d=(w=[])=>{r.model&&lT(o,w).forEach(S=>S.resetField())},h=(w=[])=>{lT(o,w).forEach(S=>S.clearValidate())},p=z(()=>!!r.model),v=w=>{if(o.length===0)return[];const S=lT(o,w);return S.length?S:[]},g=async w=>y(void 0,w),m=async(w=[])=>{if(!p.value)return!1;const S=v(w);if(S.length===0)return!0;let x={};for(const C of S)try{await C.validate(""),C.validateState==="error"&&!C.error&&C.resetField()}catch(E){x={...x,...E}}return Object.keys(x).length===0?!0:Promise.reject(x)},y=async(w=[],S)=>{let x=!1;const C=!qt(S);try{return x=await m(w),x===!0&&await S?.(x),x}catch(E){if(E instanceof Error)throw E;const T=E;if(r.scrollToError&&i.value){const A=i.value.querySelector(`.${s.b()}-item.is-error`);A?.scrollIntoView(r.scrollIntoViewOptions)}return!x&&await S?.(!1,T),C&&Promise.reject(T)}},b=w=>{var S;const x=u(w);x&&((S=x.$el)==null||S.scrollIntoView(r.scrollIntoViewOptions))};return Le(()=>r.rules,()=>{r.validateOnRuleChange&&g().catch(w=>void 0)},{deep:!0,flush:"post"}),jn(yy,Bn({...zo(r),emit:n,resetFields:d,clearValidate:h,validateField:y,getField:u,addField:c,removeField:f,...ZWe()})),e({validate:g,validateField:y,resetFields:d,clearValidate:h,scrollToField:b,getField:u,fields:o}),(w,S)=>(N(),Q("form",{ref_key:"formRef",ref:i,class:q(_(l))},[Ee(w.$slots,"default")],2))}});var tqe=lt(eqe,[["__file","form.vue"]]);function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yg.apply(this,arguments)}function nqe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Fx(t,e)}function xF(t){return xF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xF(t)}function Fx(t,e){return Fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fx(t,e)}function rqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vk(t,e,n){return rqe()?vk=Reflect.construct.bind():vk=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),u=new l;return a&&Fx(u,a.prototype),u},vk.apply(null,arguments)}function iqe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function CF(t){var e=typeof Map=="function"?new Map:void 0;return CF=function(r){if(r===null||!iqe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return vk(r,arguments,xF(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Fx(i,r)},CF(t)}var oqe=/%[sdj%]/g,aqe=function(){};function EF(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function Gl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var a=t.replace(oqe,function(s){if(s==="%%")return"%";if(i>=o)return s;switch(s){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return s}});return a}return t}function sqe(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Ma(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||sqe(e)&&typeof t=="string"&&!t)}function lqe(t,e,n){var r=[],i=0,o=t.length;function a(s){r.push.apply(r,s||[]),i++,i===o&&n(r)}t.forEach(function(s){e(s,a)})}function VY(t,e,n){var r=0,i=t.length;function o(a){if(a&&a.length){n(a);return}var s=r;r=r+1,s<i?e(t[s],o):n([])}o([])}function uqe(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var zY=(function(t){nqe(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e})(CF(Error));function cqe(t,e,n,r,i){if(e.first){var o=new Promise(function(d,h){var p=function(m){return r(m),m.length?h(new zY(m,EF(m))):d(i)},v=uqe(t);VY(v,n,p)});return o.catch(function(d){return d}),o}var a=e.firstFields===!0?Object.keys(t):e.firstFields||[],s=Object.keys(t),l=s.length,u=0,c=[],f=new Promise(function(d,h){var p=function(g){if(c.push.apply(c,g),u++,u===l)return r(c),c.length?h(new zY(c,EF(c))):d(i)};s.length||(r(c),d(i)),s.forEach(function(v){var g=t[v];a.indexOf(v)!==-1?VY(g,n,p):lqe(g,n,p)})});return f.catch(function(d){return d}),f}function fqe(t){return!!(t&&t.message!==void 0)}function dqe(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function HY(t,e){return function(n){var r;return t.fullFields?r=dqe(e,t.fullFields):r=e[n.field||t.fullField],fqe(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function jY(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=Yg({},t[n],r):t[n]=r}}return t}var Zpe=function(e,n,r,i,o,a){e.required&&(!r.hasOwnProperty(e.field)||Ma(n,a||e.type))&&i.push(Gl(o.messages.required,e.fullField))},hqe=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(Gl(o.messages.whitespace,e.fullField))},uT,pqe=(function(){if(uT)return uT;var t="[a-fA-F\\d:]",e=function(w){return w&&w.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),a=new RegExp("^"+n+"$"),s=new RegExp("^"+i+"$"),l=function(w){return w&&w.exact?o:new RegExp("(?:"+e(w)+n+e(w)+")|(?:"+e(w)+i+e(w)+")","g")};l.v4=function(b){return b&&b.exact?a:new RegExp(""+e(b)+n+e(b),"g")},l.v6=function(b){return b&&b.exact?s:new RegExp(""+e(b)+i+e(b),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,d=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",v="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",g="(?::\\d{2,5})?",m='(?:[/?#][^\\s"]*)?',y="(?:"+u+"|www\\.)"+c+"(?:localhost|"+f+"|"+d+"|"+h+p+v+")"+g+m;return uT=new RegExp("(?:^"+y+"$)","i"),uT}),GY={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},eS={integer:function(e){return eS.number(e)&&parseInt(e,10)===e},float:function(e){return eS.number(e)&&!eS.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!eS.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(GY.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(pqe())},hex:function(e){return typeof e=="string"&&!!e.match(GY.hex)}},vqe=function(e,n,r,i,o){if(e.required&&n===void 0){Zpe(e,n,r,i,o);return}var a=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;a.indexOf(s)>-1?eS[s](n)||i.push(Gl(o.messages.types[s],e.fullField,e.type)):s&&typeof n!==e.type&&i.push(Gl(o.messages.types[s],e.fullField,e.type))},gqe=function(e,n,r,i,o){var a=typeof e.len=="number",s=typeof e.min=="number",l=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,f=null,d=typeof n=="number",h=typeof n=="string",p=Array.isArray(n);if(d?f="number":h?f="string":p&&(f="array"),!f)return!1;p&&(c=n.length),h&&(c=n.replace(u,"_").length),a?c!==e.len&&i.push(Gl(o.messages[f].len,e.fullField,e.len)):s&&!l&&c<e.min?i.push(Gl(o.messages[f].min,e.fullField,e.min)):l&&!s&&c>e.max?i.push(Gl(o.messages[f].max,e.fullField,e.max)):s&&l&&(c<e.min||c>e.max)&&i.push(Gl(o.messages[f].range,e.fullField,e.min,e.max))},t0="enum",mqe=function(e,n,r,i,o){e[t0]=Array.isArray(e[t0])?e[t0]:[],e[t0].indexOf(n)===-1&&i.push(Gl(o.messages[t0],e.fullField,e[t0].join(", ")))},yqe=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(Gl(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var a=new RegExp(e.pattern);a.test(n)||i.push(Gl(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},_i={required:Zpe,whitespace:hqe,type:vqe,range:gqe,enum:mqe,pattern:yqe},bqe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Ma(n,"string")&&!e.required)return r();_i.required(e,n,i,a,o,"string"),Ma(n,"string")||(_i.type(e,n,i,a,o),_i.range(e,n,i,a,o),_i.pattern(e,n,i,a,o),e.whitespace===!0&&_i.whitespace(e,n,i,a,o))}r(a)},_qe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Ma(n)&&!e.required)return r();_i.required(e,n,i,a,o),n!==void 0&&_i.type(e,n,i,a,o)}r(a)},wqe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(n===""&&(n=void 0),Ma(n)&&!e.required)return r();_i.required(e,n,i,a,o),n!==void 0&&(_i.type(e,n,i,a,o),_i.range(e,n,i,a,o))}r(a)},Sqe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Ma(n)&&!e.required)return r();_i.required(e,n,i,a,o),n!==void 0&&_i.type(e,n,i,a,o)}r(a)},xqe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Ma(n)&&!e.required)return r();_i.required(e,n,i,a,o),Ma(n)||_i.type(e,n,i,a,o)}r(a)},Cqe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Ma(n)&&!e.required)return r();_i.required(e,n,i,a,o),n!==void 0&&(_i.type(e,n,i,a,o),_i.range(e,n,i,a,o))}r(a)},Eqe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Ma(n)&&!e.required)return r();_i.required(e,n,i,a,o),n!==void 0&&(_i.type(e,n,i,a,o),_i.range(e,n,i,a,o))}r(a)},Tqe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(n==null&&!e.required)return r();_i.required(e,n,i,a,o,"array"),n!=null&&(_i.type(e,n,i,a,o),_i.range(e,n,i,a,o))}r(a)},Aqe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Ma(n)&&!e.required)return r();_i.required(e,n,i,a,o),n!==void 0&&_i.type(e,n,i,a,o)}r(a)},kqe="enum",Mqe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Ma(n)&&!e.required)return r();_i.required(e,n,i,a,o),n!==void 0&&_i[kqe](e,n,i,a,o)}r(a)},Pqe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Ma(n,"string")&&!e.required)return r();_i.required(e,n,i,a,o),Ma(n,"string")||_i.pattern(e,n,i,a,o)}r(a)},Oqe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Ma(n,"date")&&!e.required)return r();if(_i.required(e,n,i,a,o),!Ma(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),_i.type(e,l,i,a,o),l&&_i.range(e,l.getTime(),i,a,o)}}r(a)},Iqe=function(e,n,r,i,o){var a=[],s=Array.isArray(n)?"array":typeof n;_i.required(e,n,i,a,o,s),r(a)},$D=function(e,n,r,i,o){var a=e.type,s=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(Ma(n,a)&&!e.required)return r();_i.required(e,n,i,s,o,a),Ma(n,a)||_i.type(e,n,i,s,o)}r(s)},Rqe=function(e,n,r,i,o){var a=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(Ma(n)&&!e.required)return r();_i.required(e,n,i,a,o)}r(a)},HS={string:bqe,method:_qe,number:wqe,boolean:Sqe,regexp:xqe,integer:Cqe,float:Eqe,array:Tqe,object:Aqe,enum:Mqe,pattern:Pqe,date:Oqe,url:$D,hex:$D,email:$D,required:Iqe,any:Rqe};function TF(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var AF=TF(),y2=(function(){function t(n){this.rules=null,this._messages=AF,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var a=r[o];i.rules[o]=Array.isArray(a)?a:[a]})},e.messages=function(r){return r&&(this._messages=jY(TF(),r)),this._messages},e.validate=function(r,i,o){var a=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var s=r,l=i,u=o;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,s),Promise.resolve(s);function c(v){var g=[],m={};function y(w){if(Array.isArray(w)){var S;g=(S=g).concat.apply(S,w)}else g.push(w)}for(var b=0;b<v.length;b++)y(v[b]);g.length?(m=EF(g),u(g,m)):u(null,s)}if(l.messages){var f=this.messages();f===AF&&(f=TF()),jY(f,l.messages),l.messages=f}else l.messages=this.messages();var d={},h=l.keys||Object.keys(this.rules);h.forEach(function(v){var g=a.rules[v],m=s[v];g.forEach(function(y){var b=y;typeof b.transform=="function"&&(s===r&&(s=Yg({},s)),m=s[v]=b.transform(m)),typeof b=="function"?b={validator:b}:b=Yg({},b),b.validator=a.getValidationMethod(b),b.validator&&(b.field=v,b.fullField=b.fullField||v,b.type=a.getType(b),d[v]=d[v]||[],d[v].push({rule:b,value:m,source:s,field:v}))})});var p={};return cqe(d,l,function(v,g){var m=v.rule,y=(m.type==="object"||m.type==="array")&&(typeof m.fields=="object"||typeof m.defaultField=="object");y=y&&(m.required||!m.required&&v.value),m.field=v.field;function b(x,C){return Yg({},C,{fullField:m.fullField+"."+x,fullFields:m.fullFields?[].concat(m.fullFields,[x]):[x]})}function w(x){x===void 0&&(x=[]);var C=Array.isArray(x)?x:[x];!l.suppressWarning&&C.length&&t.warning("async-validator:",C),C.length&&m.message!==void 0&&(C=[].concat(m.message));var E=C.map(HY(m,s));if(l.first&&E.length)return p[m.field]=1,g(E);if(!y)g(E);else{if(m.required&&!v.value)return m.message!==void 0?E=[].concat(m.message).map(HY(m,s)):l.error&&(E=[l.error(m,Gl(l.messages.required,m.field))]),g(E);var T={};m.defaultField&&Object.keys(v.value).map(function(M){T[M]=m.defaultField}),T=Yg({},T,v.rule.fields);var A={};Object.keys(T).forEach(function(M){var D=T[M],L=Array.isArray(D)?D:[D];A[M]=L.map(b.bind(null,M))});var k=new t(A);k.messages(l.messages),v.rule.options&&(v.rule.options.messages=l.messages,v.rule.options.error=l.error),k.validate(v.value,v.rule.options||l,function(M){var D=[];E&&E.length&&D.push.apply(D,E),M&&M.length&&D.push.apply(D,M),g(D.length?D:null)})}}var S;if(m.asyncValidator)S=m.asyncValidator(m,v.value,w,v.source,l);else if(m.validator){try{S=m.validator(m,v.value,w,v.source,l)}catch(x){console.error?.(x),l.suppressValidatorError||setTimeout(function(){throw x},0),w(x.message)}S===!0?w():S===!1?w(typeof m.message=="function"?m.message(m.fullField||m.field):m.message||(m.fullField||m.field)+" fails"):S instanceof Array?w(S):S instanceof Error&&w(S.message)}S&&S.then&&S.then(function(){return w()},function(x){return w(x)})},function(v){c(v)},s)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!HS.hasOwnProperty(r.type))throw new Error(Gl("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?HS.required:HS[this.getType(r)]||void 0},t})();y2.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");HS[e]=n};y2.warning=aqe;y2.messages=AF;y2.validators=HS;const Lqe=["","error","validating","success"],Dqe=rt({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:me([String,Array])},required:{type:Boolean,default:void 0},rules:{type:me([Object,Array])},error:String,validateStatus:{type:String,values:Lqe},for:String,inlineMessage:{type:Boolean,default:void 0},showMessage:{type:Boolean,default:!0},size:{type:String,values:ad}}),UY="ElLabelWrap";var Nqe=ue({name:UY,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=bt(yy,void 0),r=bt(Yf);r||xo(UY,"usage: <el-form-item><label-wrap /></el-form-item>");const i=Ye("form"),o=F(),a=F(0),s=()=>{var c;if((c=o.value)!=null&&c.firstElementChild){const f=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(f))}else return 0},l=(c="update")=>{Pt(()=>{e.default&&t.isAutoWidth&&(c==="update"?a.value=s():c==="remove"&&n?.deregisterLabelWidth(a.value))})},u=()=>l("update");return Jt(()=>{u()}),ur(()=>{l("remove")}),Hc(()=>u()),Le(a,(c,f)=>{t.updateAll&&n?.registerLabelWidth(c,f)}),Di(z(()=>{var c,f;return(f=(c=o.value)==null?void 0:c.firstElementChild)!=null?f:null}),u),()=>{var c,f;if(!e)return null;const{isAutoWidth:d}=t;if(d){const h=n?.autoLabelWidth,p=r?.hasLabel,v={};if(p&&h&&h!=="auto"){const g=Math.max(0,Number.parseInt(h,10)-a.value),y=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";g&&(v[y]=`${g}px`)}return O("div",{ref:o,class:[i.be("item","label-wrap")],style:v},[(c=e.default)==null?void 0:c.call(e)])}else return O(ft,{ref:o},[(f=e.default)==null?void 0:f.call(e)])}}});const Bqe=ue({name:"ElFormItem"}),$qe=ue({...Bqe,props:Dqe,setup(t,{expose:e}){const n=t,r=Co(),i=bt(yy,void 0),o=bt(Yf,void 0),a=Po(void 0,{formItem:!1}),s=Ye("form-item"),l=Ha().value,u=F([]),c=F(""),f=u$e(c,100),d=F(""),h=F();let p,v=!1;const g=z(()=>n.labelPosition||i?.labelPosition),m=z(()=>{if(g.value==="top")return{};const H=Qi(n.labelWidth||i?.labelWidth||"");return H?{width:H}:{}}),y=z(()=>{if(g.value==="top"||i?.inline)return{};if(!n.label&&!n.labelWidth&&A)return{};const H=Qi(n.labelWidth||i?.labelWidth||"");return!n.label&&!r.label?{marginLeft:H}:{}}),b=z(()=>[s.b(),s.m(a.value),s.is("error",c.value==="error"),s.is("validating",c.value==="validating"),s.is("success",c.value==="success"),s.is("required",I.value||n.required),s.is("no-asterisk",i?.hideRequiredAsterisk),i?.requireAsteriskPosition==="right"?"asterisk-right":"asterisk-left",{[s.m("feedback")]:i?.statusIcon,[s.m(`label-${g.value}`)]:g.value}]),w=z(()=>ei(n.inlineMessage)?n.inlineMessage:i?.inlineMessage||!1),S=z(()=>[s.e("error"),{[s.em("error","inline")]:w.value}]),x=z(()=>n.prop?tt(n.prop)?n.prop.join("."):n.prop:""),C=z(()=>!!(n.label||r.label)),E=z(()=>{var H;return(H=n.for)!=null?H:u.value.length===1?u.value[0]:void 0}),T=z(()=>!E.value&&C.value),A=!!o,k=z(()=>{const H=i?.model;if(!(!H||!n.prop))return FS(H,n.prop).value}),M=z(()=>{const{required:H}=n,U=[];n.rules&&U.push(...wa(n.rules));const ne=i?.rules;if(ne&&n.prop){const J=FS(ne,n.prop).value;J&&U.push(...wa(J))}if(H!==void 0){const J=U.map((Y,se)=>[Y,se]).filter(([Y])=>"required"in Y);if(J.length>0)for(const[Y,se]of J)Y.required!==H&&(U[se]={...Y,required:H});else U.push({required:H})}return U}),D=z(()=>M.value.length>0),L=H=>M.value.filter(ne=>!ne.trigger||!H?!0:tt(ne.trigger)?ne.trigger.includes(H):ne.trigger===H).map(({trigger:ne,...J})=>J),I=z(()=>M.value.some(H=>H.required)),R=z(()=>{var H;return f.value==="error"&&n.showMessage&&((H=i?.showMessage)!=null?H:!0)}),V=z(()=>`${n.label||""}${i?.labelSuffix||""}`),P=H=>{c.value=H},B=H=>{var U,ne;const{errors:J,fields:Y}=H;(!J||!Y)&&console.error(H),P("error"),d.value=J?(ne=(U=J?.[0])==null?void 0:U.message)!=null?ne:`${n.prop} is required`:"",i?.emit("validate",n.prop,!1,d.value)},j=()=>{P("success"),i?.emit("validate",n.prop,!0,"")},G=async H=>{const U=x.value;return new y2({[U]:H}).validate({[U]:k.value},{firstFields:!0}).then(()=>(j(),!0)).catch(J=>(B(J),Promise.reject(J)))},W=async(H,U)=>{if(v||!n.prop)return!1;const ne=qt(U);if(!D.value)return U?.(!1),!1;const J=L(H);return J.length===0?(U?.(!0),!0):(P("validating"),G(J).then(()=>(U?.(!0),!0)).catch(Y=>{const{fields:se}=Y;return U?.(!1,se),ne?!1:Promise.reject(se)}))},Z=()=>{P(""),d.value="",v=!1},ee=async()=>{const H=i?.model;if(!H||!n.prop)return;const U=FS(H,n.prop);v=!0,U.value=Px(p),await Pt(),Z(),v=!1},oe=H=>{u.value.includes(H)||u.value.push(H)},ce=H=>{u.value=u.value.filter(U=>U!==H)};Le(()=>n.error,H=>{d.value=H||"",P(H?"error":"")},{immediate:!0}),Le(()=>n.validateStatus,H=>P(H||""));const X=Bn({...zo(n),$el:h,size:a,validateMessage:d,validateState:c,labelId:l,inputIds:u,isGroup:T,hasLabel:C,fieldValue:k,addInputId:oe,removeInputId:ce,resetField:ee,clearValidate:Z,validate:W,propString:x});return jn(Yf,X),Jt(()=>{n.prop&&(i?.addField(X),p=Px(k.value))}),ur(()=>{i?.removeField(X)}),e({size:a,validateMessage:d,validateState:c,validate:W,clearValidate:Z,resetField:ee}),(H,U)=>{var ne;return N(),Q("div",{ref_key:"formItemRef",ref:h,class:q(_(b)),role:_(T)?"group":void 0,"aria-labelledby":_(T)?_(l):void 0},[O(_(Nqe),{"is-auto-width":_(m).width==="auto","update-all":((ne=_(i))==null?void 0:ne.labelWidth)==="auto"},{default:$(()=>[_(C)?(N(),de(Vn(_(E)?"label":"div"),{key:0,id:_(l),for:_(E),class:q(_(s).e("label")),style:Ot(_(m))},{default:$(()=>[Ee(H.$slots,"label",{label:_(V)},()=>[Be(Ne(_(V)),1)])]),_:3},8,["id","for","class","style"])):ge("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),K("div",{class:q(_(s).e("content")),style:Ot(_(y))},[Ee(H.$slots,"default"),O(Kce,{name:`${_(s).namespace.value}-zoom-in-top`},{default:$(()=>[_(R)?Ee(H.$slots,"error",{key:0,error:d.value},()=>[K("div",{class:q(_(S))},Ne(d.value),3)]):ge("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var Jpe=lt($qe,[["__file","form-item.vue"]]);const Fqe=kn(tqe,{FormItem:Jpe}),Vqe=Wi(Jpe),zqe=rt({urlList:{type:me(Array),default:()=>ji([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:me(String)}}),Hqe={close:()=>!0,switch:t=>Zt(t),rotate:t=>Zt(t)},jqe=ue({name:"ElImageViewer"}),Gqe=ue({...jqe,props:zqe,emits:Hqe,setup(t,{expose:e,emit:n}){var r;const i=t,o={CONTAIN:{name:"contain",icon:Ff(wVe)},ORIGINAL:{name:"original",icon:Ff(QVe)}};let a,s="";const{t:l}=Cr(),u=Ye("image-viewer"),{nextZIndex:c}=a_(),f=F(),d=F([]),h=Lue(),p=F(!0),v=F(i.initialIndex),g=bi(o.CONTAIN),m=F({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),y=F((r=i.zIndex)!=null?r:c()),b=z(()=>{const{urlList:ce}=i;return ce.length<=1}),w=z(()=>v.value===0),S=z(()=>v.value===i.urlList.length-1),x=z(()=>i.urlList[v.value]),C=z(()=>[u.e("btn"),u.e("prev"),u.is("disabled",!i.infinite&&w.value)]),E=z(()=>[u.e("btn"),u.e("next"),u.is("disabled",!i.infinite&&S.value)]),T=z(()=>{const{scale:ce,deg:X,offsetX:H,offsetY:U,enableTransition:ne}=m.value;let J=H/ce,Y=U/ce;const se=X*Math.PI/180,he=Math.cos(se),ye=Math.sin(se);J=J*he+Y*ye,Y=Y*he-H/ce*ye;const _e={transform:`scale(${ce}) rotate(${X}deg) translate(${J}px, ${Y}px)`,transition:ne?"transform .3s":""};return g.value.name===o.CONTAIN.name&&(_e.maxWidth=_e.maxHeight="100%"),_e}),A=z(()=>`${v.value+1} / ${i.urlList.length}`);function k(){D(),a?.(),document.body.style.overflow=s,n("close")}function M(){const ce=jp(H=>{switch(H.code){case Ct.esc:i.closeOnPressEscape&&k();break;case Ct.space:P();break;case Ct.left:j();break;case Ct.up:W("zoomIn");break;case Ct.right:G();break;case Ct.down:W("zoomOut");break}}),X=jp(H=>{const U=H.deltaY||H.deltaX;W(U<0?"zoomIn":"zoomOut",{zoomRate:i.zoomRate,enableTransition:!1})});h.run(()=>{Lr(document,"keydown",ce),Lr(document,"wheel",X)})}function D(){h.stop()}function L(){p.value=!1}function I(ce){p.value=!1,ce.target.alt=l("el.image.error")}function R(ce){if(p.value||ce.button!==0||!f.value)return;m.value.enableTransition=!1;const{offsetX:X,offsetY:H}=m.value,U=ce.pageX,ne=ce.pageY,J=jp(se=>{m.value={...m.value,offsetX:X+se.pageX-U,offsetY:H+se.pageY-ne}}),Y=Lr(document,"mousemove",J);Lr(document,"mouseup",()=>{Y()}),ce.preventDefault()}function V(){m.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function P(){if(p.value)return;const ce=jb(o),X=Object.values(o),H=g.value.name,ne=(X.findIndex(J=>J.name===H)+1)%ce.length;g.value=o[ce[ne]],V()}function B(ce){const X=i.urlList.length;v.value=(ce+X)%X}function j(){w.value&&!i.infinite||B(v.value-1)}function G(){S.value&&!i.infinite||B(v.value+1)}function W(ce,X={}){if(p.value)return;const{minScale:H,maxScale:U}=i,{zoomRate:ne,rotateDeg:J,enableTransition:Y}={zoomRate:i.zoomRate,rotateDeg:90,enableTransition:!0,...X};switch(ce){case"zoomOut":m.value.scale>H&&(m.value.scale=Number.parseFloat((m.value.scale/ne).toFixed(3)));break;case"zoomIn":m.value.scale<U&&(m.value.scale=Number.parseFloat((m.value.scale*ne).toFixed(3)));break;case"clockwise":m.value.deg+=J,n("rotate",m.value.deg);break;case"anticlockwise":m.value.deg-=J,n("rotate",m.value.deg);break}m.value.enableTransition=Y}function Z(ce){var X;((X=ce.detail)==null?void 0:X.focusReason)==="pointer"&&ce.preventDefault()}function ee(){i.closeOnPressEscape&&k()}function oe(ce){if(ce.ctrlKey){if(ce.deltaY<0)return ce.preventDefault(),!1;if(ce.deltaY>0)return ce.preventDefault(),!1}}return Le(x,()=>{Pt(()=>{const ce=d.value[0];ce?.complete||(p.value=!0)})}),Le(v,ce=>{V(),n("switch",ce)}),Jt(()=>{M(),a=Lr("wheel",oe,{passive:!1}),s=document.body.style.overflow,document.body.style.overflow="hidden"}),e({setActiveItem:B}),(ce,X)=>(N(),de(_(l_),{to:"body",disabled:!ce.teleported},{default:$(()=>[O(ka,{name:"viewer-fade",appear:""},{default:$(()=>[K("div",{ref_key:"wrapper",ref:f,tabindex:-1,class:q(_(u).e("wrapper")),style:Ot({zIndex:y.value})},[O(_(by),{loop:"",trapped:"","focus-trap-el":f.value,"focus-start-el":"container",onFocusoutPrevented:Z,onReleaseRequested:ee},{default:$(()=>[K("div",{class:q(_(u).e("mask")),onClick:an(H=>ce.hideOnClickModal&&k(),["self"])},null,10,["onClick"]),ge(" CLOSE "),K("span",{class:q([_(u).e("btn"),_(u).e("close")]),onClick:k},[O(_(zt),null,{default:$(()=>[O(_(Hu))]),_:1})],2),ge(" ARROW "),_(b)?ge("v-if",!0):(N(),Q(ft,{key:0},[K("span",{class:q(_(C)),onClick:j},[O(_(zt),null,{default:$(()=>[O(_(oh))]),_:1})],2),K("span",{class:q(_(E)),onClick:G},[O(_(zt),null,{default:$(()=>[O(_(Rs))]),_:1})],2)],64)),ce.$slots.progress||ce.showProgress?(N(),Q("div",{key:1,class:q([_(u).e("btn"),_(u).e("progress")])},[Ee(ce.$slots,"progress",{activeIndex:v.value,total:ce.urlList.length},()=>[Be(Ne(_(A)),1)])],2)):ge("v-if",!0),ge(" ACTIONS "),K("div",{class:q([_(u).e("btn"),_(u).e("actions")])},[K("div",{class:q(_(u).e("actions__inner"))},[Ee(ce.$slots,"toolbar",{actions:W,prev:j,next:G,reset:P,activeIndex:v.value,setActiveItem:B},()=>[O(_(zt),{onClick:H=>W("zoomOut")},{default:$(()=>[O(_(P5e))]),_:1},8,["onClick"]),O(_(zt),{onClick:H=>W("zoomIn")},{default:$(()=>[O(_(ehe))]),_:1},8,["onClick"]),K("i",{class:q(_(u).e("actions__divider"))},null,2),O(_(zt),{onClick:P},{default:$(()=>[(N(),de(Vn(_(g).icon)))]),_:1}),K("i",{class:q(_(u).e("actions__divider"))},null,2),O(_(zt),{onClick:H=>W("anticlockwise")},{default:$(()=>[O(_(Pz))]),_:1},8,["onClick"]),O(_(zt),{onClick:H=>W("clockwise")},{default:$(()=>[O(_(XVe))]),_:1},8,["onClick"])])],2)],2),ge(" CANVAS "),K("div",{class:q(_(u).e("canvas"))},[(N(!0),Q(ft,null,gn(ce.urlList,(H,U)=>(N(),Q(ft,{key:U},[U===v.value?(N(),Q("img",{key:0,ref_for:!0,ref:ne=>d.value[U]=ne,src:H,style:Ot(_(T)),class:q(_(u).e("img")),crossorigin:ce.crossorigin,onLoad:L,onError:I,onMousedown:R},null,46,["src","crossorigin"])):ge("v-if",!0)],64))),128))],2),Ee(ce.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var Uqe=lt(Gqe,[["__file","image-viewer.vue"]]);const Qpe=kn(Uqe),Wqe=rt({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:me([String,Object])},previewSrcList:{type:me(Array),default:()=>ji([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:Boolean,crossorigin:{type:me(String)}}),qqe={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>Zt(t),close:()=>!0,show:()=>!0},Kqe=ue({name:"ElImage",inheritAttrs:!1}),Yqe=ue({...Kqe,props:Wqe,emits:qqe,setup(t,{expose:e,emit:n}){const r=t,{t:i}=Cr(),o=Ye("image"),a=Th(),s=z(()=>Ox(Object.entries(a).filter(([R])=>/^(data-|on[A-Z])/i.test(R)||["id","style"].includes(R)))),l=yI({excludeListeners:!0,excludeKeys:z(()=>Object.keys(s.value))}),u=F(),c=F(!1),f=F(!0),d=F(!1),h=F(),p=F(),v=Ar&&"loading"in HTMLImageElement.prototype;let g;const m=z(()=>[o.e("inner"),b.value&&o.e("preview"),f.value&&o.is("loading")]),y=z(()=>{const{fit:R}=r;return Ar&&R?{objectFit:R}:{}}),b=z(()=>{const{previewSrcList:R}=r;return tt(R)&&R.length>0}),w=z(()=>{const{previewSrcList:R,initialIndex:V}=r;let P=V;return V>R.length-1&&(P=0),P}),S=z(()=>r.loading==="eager"?!1:!v&&r.loading==="lazy"||r.lazy),x=()=>{Ar&&(f.value=!0,c.value=!1,u.value=r.src)};function C(R){f.value=!1,c.value=!1,n("load",R)}function E(R){f.value=!1,c.value=!0,n("error",R)}function T(R){R&&(x(),M())}const A=wde(T,200,!0);async function k(){var R;if(!Ar)return;await Pt();const{scrollContainer:V}=r;if(Xl(V))p.value=V;else if(Ht(V)&&V!=="")p.value=(R=document.querySelector(V))!=null?R:void 0;else if(h.value){const B=_z(h.value);p.value=u2(B)?void 0:B}const{stop:P}=Z$e(h,([B])=>{A(B.isIntersecting)},{root:p});g=P}function M(){!Ar||!A||(g?.(),p.value=void 0,g=void 0)}function D(){b.value&&(d.value=!0,n("show"))}function L(){d.value=!1,n("close")}function I(R){n("switch",R)}return Le(()=>r.src,()=>{S.value?(f.value=!0,c.value=!1,M(),k()):x()}),Jt(()=>{S.value?k():x()}),e({showPreview:D}),(R,V)=>(N(),Q("div",Fn({ref_key:"container",ref:h},_(s),{class:[_(o).b(),R.$attrs.class]}),[c.value?Ee(R.$slots,"error",{key:0},()=>[K("div",{class:q(_(o).e("error"))},Ne(_(i)("el.image.error")),3)]):(N(),Q(ft,{key:1},[u.value!==void 0?(N(),Q("img",Fn({key:0},_(l),{src:u.value,loading:R.loading,style:_(y),class:_(m),crossorigin:R.crossorigin,onClick:D,onLoad:C,onError:E}),null,16,["src","loading","crossorigin"])):ge("v-if",!0),f.value?(N(),Q("div",{key:1,class:q(_(o).e("wrapper"))},[Ee(R.$slots,"placeholder",{},()=>[K("div",{class:q(_(o).e("placeholder"))},null,2)])],2)):ge("v-if",!0)],64)),_(b)?(N(),Q(ft,{key:2},[d.value?(N(),de(_(Qpe),{key:0,"z-index":R.zIndex,"initial-index":_(w),infinite:R.infinite,"zoom-rate":R.zoomRate,"min-scale":R.minScale,"max-scale":R.maxScale,"show-progress":R.showProgress,"url-list":R.previewSrcList,crossorigin:R.crossorigin,"hide-on-click-modal":R.hideOnClickModal,teleported:R.previewTeleported,"close-on-press-escape":R.closeOnPressEscape,onClose:L,onSwitch:I},Ml({toolbar:$(P=>[Ee(R.$slots,"toolbar",Sl(Wf(P)))]),default:$(()=>[R.$slots.viewer?(N(),Q("div",{key:0},[Ee(R.$slots,"viewer")])):ge("v-if",!0)]),_:2},[R.$slots.progress?{name:"progress",fn:$(P=>[Ee(R.$slots,"progress",Sl(Wf(P)))])}:void 0]),1032,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):ge("v-if",!0)],64)):ge("v-if",!0)],16))}});var Xqe=lt(Yqe,[["__file","image.vue"]]);const Zqe=kn(Xqe),Jqe=rt({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.MAX_SAFE_INTEGER},min:{type:Number,default:Number.MIN_SAFE_INTEGER},modelValue:{type:[Number,null]},readonly:Boolean,disabled:Boolean,size:Ho,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||Zt(t)||["min","max"].includes(t),default:null},name:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...fs(["ariaLabel"]),inputmode:{type:me(String),default:void 0},align:{type:me(String),default:"center"},disabledScientific:Boolean}),Qqe={[tr]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[Fo]:t=>Zt(t)||So(t),[_n]:t=>Zt(t)||So(t)},eKe=ue({name:"ElInputNumber"}),tKe=ue({...eKe,props:Jqe,emits:Qqe,setup(t,{expose:e,emit:n}){const r=t,{t:i}=Cr(),o=Ye("input-number"),a=F(),s=Bn({currentValue:r.modelValue,userInput:null}),{formItem:l}=Ua(),u=z(()=>Zt(r.modelValue)&&r.modelValue<=r.min),c=z(()=>Zt(r.modelValue)&&r.modelValue>=r.max),f=z(()=>{const R=m(r.step);return gr(r.precision)?Math.max(m(r.modelValue),R):(R>r.precision,r.precision)}),d=z(()=>r.controls&&r.controlsPosition==="right"),h=Po(),p=pa(),v=z(()=>{if(s.userInput!==null)return s.userInput;let R=s.currentValue;if(So(R))return"";if(Zt(R)){if(Number.isNaN(R))return"";gr(r.precision)||(R=R.toFixed(r.precision))}return R}),g=(R,V)=>{if(gr(V)&&(V=f.value),V===0)return Math.round(R);let P=String(R);const B=P.indexOf(".");if(B===-1||!P.replace(".","").split("")[B+V])return R;const W=P.length;return P.charAt(W-1)==="5"&&(P=`${P.slice(0,Math.max(0,W-1))}6`),Number.parseFloat(Number(P).toFixed(V))},m=R=>{if(So(R))return 0;const V=R.toString(),P=V.indexOf(".");let B=0;return P!==-1&&(B=V.length-P-1),B},y=(R,V=1)=>Zt(R)?R>=Number.MAX_SAFE_INTEGER&&V===1||R<=Number.MIN_SAFE_INTEGER&&V===-1?R:g(R+r.step*V):s.currentValue,b=R=>{var V;const P=R;if(r.disabledScientific&&["e","E"].includes(P.key)){P.preventDefault();return}const B={[Ct.up]:()=>{P.preventDefault(),w()},[Ct.down]:()=>{P.preventDefault(),S()}};(V=B[P.key])==null||V.call(B)},w=()=>{if(r.readonly||p.value||c.value)return;const R=Number(v.value)||0,V=y(R);C(V),n(Fo,s.currentValue),L()},S=()=>{if(r.readonly||p.value||u.value)return;const R=Number(v.value)||0,V=y(R,-1);C(V),n(Fo,s.currentValue),L()},x=(R,V)=>{const{max:P,min:B,step:j,precision:G,stepStrictly:W,valueOnClear:Z}=r;P<B&&xo("InputNumber","min should not be greater than max.");let ee=Number(R);if(So(R)||Number.isNaN(ee))return null;if(R===""){if(Z===null)return null;ee=Ht(Z)?{min:B,max:P}[Z]:Z}return W&&(ee=g(Math.round(ee/j)*j,G),ee!==R&&V&&n(_n,ee)),gr(G)||(ee=g(ee,G)),(ee>P||ee<B)&&(ee=ee>P?P:B,V&&n(_n,ee)),ee},C=(R,V=!0)=>{var P;const B=s.currentValue,j=x(R);if(!V){n(_n,j);return}B===j&&R||(s.userInput=null,n(_n,j),B!==j&&n(tr,j,B),r.validateEvent&&((P=l?.validate)==null||P.call(l,"change").catch(G=>void 0)),s.currentValue=j)},E=R=>{s.userInput=R;const V=R===""?null:Number(R);n(Fo,V),C(V,!1)},T=R=>{const V=R!==""?Number(R):"";(Zt(V)&&!Number.isNaN(V)||R==="")&&C(V),L(),s.userInput=null},A=()=>{var R,V;(V=(R=a.value)==null?void 0:R.focus)==null||V.call(R)},k=()=>{var R,V;(V=(R=a.value)==null?void 0:R.blur)==null||V.call(R)},M=R=>{n("focus",R)},D=R=>{var V,P;s.userInput=null,s.currentValue===null&&((V=a.value)!=null&&V.input)&&(a.value.input.value=""),n("blur",R),r.validateEvent&&((P=l?.validate)==null||P.call(l,"blur").catch(B=>void 0))},L=()=>{s.currentValue!==r.modelValue&&(s.currentValue=r.modelValue)},I=R=>{document.activeElement===R.target&&R.preventDefault()};return Le(()=>r.modelValue,(R,V)=>{const P=x(R,!0);s.userInput===null&&P!==V&&(s.currentValue=P)},{immediate:!0}),Le(()=>r.precision,()=>{s.currentValue=x(r.modelValue)}),Jt(()=>{var R;const{min:V,max:P,modelValue:B}=r,j=(R=a.value)==null?void 0:R.input;if(j.setAttribute("role","spinbutton"),Number.isFinite(P)?j.setAttribute("aria-valuemax",String(P)):j.removeAttribute("aria-valuemax"),Number.isFinite(V)?j.setAttribute("aria-valuemin",String(V)):j.removeAttribute("aria-valuemin"),j.setAttribute("aria-valuenow",s.currentValue||s.currentValue===0?String(s.currentValue):""),j.setAttribute("aria-disabled",String(p.value)),!Zt(B)&&B!=null){let G=Number(B);Number.isNaN(G)&&(G=null),n(_n,G)}j.addEventListener("wheel",I,{passive:!1})}),Hc(()=>{var R,V;const P=(R=a.value)==null?void 0:R.input;P?.setAttribute("aria-valuenow",`${(V=s.currentValue)!=null?V:""}`)}),e({focus:A,blur:k}),(R,V)=>(N(),Q("div",{class:q([_(o).b(),_(o).m(_(h)),_(o).is("disabled",_(p)),_(o).is("without-controls",!R.controls),_(o).is("controls-right",_(d)),_(o).is(R.align,!!R.align)]),onDragstart:an(()=>{},["prevent"])},[R.controls?An((N(),Q("span",{key:0,role:"button","aria-label":_(i)("el.inputNumber.decrease"),class:q([_(o).e("decrease"),_(o).is("disabled",_(u))]),onKeydown:hi(S,["enter"])},[Ee(R.$slots,"decrease-icon",{},()=>[O(_(zt),null,{default:$(()=>[_(d)?(N(),de(_(sd),{key:0})):(N(),de(_(Mz),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[_(BM),S]]):ge("v-if",!0),R.controls?An((N(),Q("span",{key:1,role:"button","aria-label":_(i)("el.inputNumber.increase"),class:q([_(o).e("increase"),_(o).is("disabled",_(c))]),onKeydown:hi(w,["enter"])},[Ee(R.$slots,"increase-icon",{},()=>[O(_(zt),null,{default:$(()=>[_(d)?(N(),de(_(pI),{key:0})):(N(),de(_(Uu),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[_(BM),w]]):ge("v-if",!0),O(_(Ps),{id:R.id,ref_key:"input",ref:a,type:"number",step:R.step,"model-value":_(v),placeholder:R.placeholder,readonly:R.readonly,disabled:_(p),size:_(h),max:R.max,min:R.min,name:R.name,"aria-label":R.ariaLabel,"validate-event":!1,inputmode:R.inputmode,onKeydown:b,onBlur:D,onFocus:M,onInput:E,onChange:T},Ml({_:2},[R.$slots.prefix?{name:"prefix",fn:$(()=>[Ee(R.$slots,"prefix")])}:void 0,R.$slots.suffix?{name:"suffix",fn:$(()=>[Ee(R.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","inputmode"])],42,["onDragstart"]))}});var nKe=lt(tKe,[["__file","input-number.vue"]]);const eve=kn(nKe),rKe=rt({modelValue:{type:me(Array)},max:Number,tagType:{...uh.type,default:"info"},tagEffect:uh.effect,trigger:{type:me(String),default:Ct.enter},draggable:Boolean,delimiter:{type:[String,RegExp],default:""},size:Ho,clearable:Boolean,clearIcon:{type:Xr,default:Mh},disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:me(String),default:"off"},saveOnBlur:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},ariaLabel:String}),iKe={[_n]:t=>tt(t)||gr(t),[tr]:t=>tt(t)||gr(t),[Fo]:t=>Ht(t),"add-tag":t=>Ht(t)||tt(t),"remove-tag":t=>Ht(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0};function oKe({props:t,emit:e,formItem:n}){const r=pa(),i=Po(),o=bi(),a=F(),s=F(),l=z(()=>["small"].includes(i.value)?"small":"default"),u=z(()=>{var L;return(L=t.modelValue)!=null&&L.length?void 0:t.placeholder}),c=z(()=>!(t.readonly||r.value)),f=z(()=>{var L,I;return gr(t.max)?!1:((I=(L=t.modelValue)==null?void 0:L.length)!=null?I:0)>=t.max}),d=z(()=>{var L;return t.collapseTags?(L=t.modelValue)==null?void 0:L.slice(0,t.maxCollapseTags):t.modelValue}),h=z(()=>{var L;return t.collapseTags?(L=t.modelValue)==null?void 0:L.slice(t.maxCollapseTags):[]}),p=L=>{var I;const R=[...(I=t.modelValue)!=null?I:[],...wa(L)];e(_n,R),e(tr,R),e("add-tag",L),a.value=void 0},v=L=>{var I,R;const V=L.split(t.delimiter).filter(P=>P&&P!==L);if(t.max){const P=t.max-((R=(I=t.modelValue)==null?void 0:I.length)!=null?R:0);V.splice(P)}return V.length===1?V[0]:V},g=L=>{if(f.value){a.value=void 0;return}if(!A.value){if(t.delimiter&&a.value){const I=v(a.value);I.length&&p(I)}e(Fo,L.target.value)}},m=L=>{var I;if(!A.value)switch(L.code){case t.trigger:L.preventDefault(),L.stopPropagation(),y();break;case Ct.numpadEnter:t.trigger===Ct.enter&&(L.preventDefault(),L.stopPropagation(),y());break;case Ct.backspace:!a.value&&((I=t.modelValue)!=null&&I.length)&&(L.preventDefault(),L.stopPropagation(),b(t.modelValue.length-1));break}},y=()=>{var L;const I=(L=a.value)==null?void 0:L.trim();!I||f.value||p(I)},b=L=>{var I;const R=((I=t.modelValue)!=null?I:[]).slice(),[V]=R.splice(L,1);e(_n,R),e(tr,R),e("remove-tag",V)},w=()=>{a.value=void 0,e(_n,void 0),e(tr,void 0),e("clear")},S=(L,I,R)=>{var V;const P=((V=t.modelValue)!=null?V:[]).slice(),[B]=P.splice(L,1),j=I>L&&R==="before"?-1:I<L&&R==="after"?1:0;P.splice(I+j,0,B),e(_n,P),e(tr,P)},x=()=>{var L;(L=o.value)==null||L.focus()},C=()=>{var L;(L=o.value)==null||L.blur()},{wrapperRef:E,isFocused:T}=Ph(o,{disabled:r,beforeBlur(L){var I;return(I=s.value)==null?void 0:I.isFocusInsideContent(L)},afterBlur(){var L;t.saveOnBlur?y():a.value=void 0,t.validateEvent&&((L=n?.validate)==null||L.call(n,"blur").catch(I=>void 0))}}),{isComposing:A,handleCompositionStart:k,handleCompositionUpdate:M,handleCompositionEnd:D}=p2({afterComposition:g});return Le(()=>t.modelValue,()=>{var L;t.validateEvent&&((L=n?.validate)==null||L.call(n,tr).catch(I=>void 0))}),{inputRef:o,wrapperRef:E,tagTooltipRef:s,isFocused:T,isComposing:A,inputValue:a,size:i,tagSize:l,placeholder:u,closable:c,disabled:r,inputLimit:f,showTagList:d,collapseTagList:h,handleDragged:S,handleInput:g,handleKeydown:m,handleAddTag:y,handleRemoveTag:b,handleClear:w,handleCompositionStart:k,handleCompositionUpdate:M,handleCompositionEnd:D,focus:x,blur:C}}function aKe(){const t=F(!1);return{hovering:t,handleMouseEnter:()=>{t.value=!0},handleMouseLeave:()=>{t.value=!1}}}const pH=11,tve=2;function vH(){const t=bi(),e=F(0),n=z(()=>({minWidth:`${Math.max(e.value,pH)}px`}));return Di(t,()=>{var i,o;e.value=(o=(i=t.value)==null?void 0:i.getBoundingClientRect().width)!=null?o:0}),{calculatorRef:t,calculatorWidth:e,inputStyle:n}}function sKe({wrapperRef:t,handleDragged:e,afterDragged:n}){const r=Ye("input-tag"),i=bi(),o=F(!1);let a,s,l,u;function c(p){return`.${r.e("inner")} .${r.namespace.value}-tag:nth-child(${p+1})`}function f(p,v){a=v,s=t.value.querySelector(c(v)),s&&(s.style.opacity="0.5"),p.dataTransfer.effectAllowed="move"}function d(p,v){if(l=v,p.preventDefault(),p.dataTransfer.dropEffect="move",gr(a)||a===v){o.value=!1;return}const g=t.value.querySelector(c(v)).getBoundingClientRect(),m=a+1!==v,y=a-1!==v,b=p.clientX-g.left,w=m?y?.5:1:-1,S=y?m?.5:0:1;b<=g.width*w?u="before":b>g.width*S?u="after":u=void 0;const x=t.value.querySelector(`.${r.e("inner")}`),C=x.getBoundingClientRect(),E=Number.parseFloat(Dd(x,"gap"))/2,T=g.top-C.top;let A=-9999;if(u==="before")A=Math.max(g.left-C.left-E,Math.floor(-E/2));else if(u==="after"){const k=g.right-C.left;A=k+(C.width===k?Math.floor(E/2):E)}Fde(i.value,{top:`${T}px`,left:`${A}px`}),o.value=!!u}function h(p){p.preventDefault(),s&&(s.style.opacity=""),u&&!gr(a)&&!gr(l)&&a!==l&&e(a,l,u),o.value=!1,a=void 0,s=null,l=void 0,u=void 0,n?.()}return{dropIndicatorRef:i,showDropIndicator:o,handleDragStart:f,handleDragOver:d,handleDragEnd:h}}function lKe({props:t,isFocused:e,hovering:n,disabled:r,inputValue:i,size:o,validateState:a,validateIcon:s,needStatusIcon:l}){const u=Th(),c=Co(),f=Ye("input-tag"),d=Ye("input"),h=z(()=>[f.b(),f.is("focused",e.value),f.is("hovering",n.value),f.is("disabled",r.value),f.m(o.value),f.e("wrapper"),u.class]),p=z(()=>[u.style]),v=z(()=>{var y,b;return[f.e("inner"),f.is("draggable",t.draggable),f.is("left-space",!((y=t.modelValue)!=null&&y.length)&&!c.prefix),f.is("right-space",!((b=t.modelValue)!=null&&b.length)&&!m.value)]}),g=z(()=>{var y;return t.clearable&&!r.value&&!t.readonly&&(((y=t.modelValue)==null?void 0:y.length)||i.value)&&(e.value||n.value)}),m=z(()=>c.suffix||g.value||a.value&&s.value&&l.value);return{ns:f,nsInput:d,containerKls:h,containerStyle:p,innerKls:v,showClear:g,showSuffix:m}}const uKe=ue({name:"ElInputTag",inheritAttrs:!1}),cKe=ue({...uKe,props:rKe,emits:iKe,setup(t,{expose:e,emit:n}){const r=t,i=yI(),o=Co(),{form:a,formItem:s}=Ua(),{inputId:l}=tu(r,{formItemContext:s}),u=z(()=>{var ye;return(ye=a?.statusIcon)!=null?ye:!1}),c=z(()=>s?.validateState||""),f=z(()=>c.value&&mI[c.value]),{inputRef:d,wrapperRef:h,tagTooltipRef:p,isFocused:v,inputValue:g,size:m,tagSize:y,placeholder:b,closable:w,disabled:S,showTagList:x,collapseTagList:C,handleDragged:E,handleInput:T,handleKeydown:A,handleRemoveTag:k,handleClear:M,handleCompositionStart:D,handleCompositionUpdate:L,handleCompositionEnd:I,focus:R,blur:V}=oKe({props:r,emit:n,formItem:s}),{hovering:P,handleMouseEnter:B,handleMouseLeave:j}=aKe(),{calculatorRef:G,inputStyle:W}=vH(),{dropIndicatorRef:Z,showDropIndicator:ee,handleDragStart:oe,handleDragOver:ce,handleDragEnd:X}=sKe({wrapperRef:h,handleDragged:E,afterDragged:R}),{ns:H,nsInput:U,containerKls:ne,containerStyle:J,innerKls:Y,showClear:se,showSuffix:he}=lKe({props:r,hovering:P,isFocused:v,inputValue:g,disabled:S,size:m,validateState:c,validateIcon:f,needStatusIcon:u});return e({focus:R,blur:V}),(ye,_e)=>(N(),Q("div",{ref_key:"wrapperRef",ref:h,class:q(_(ne)),style:Ot(_(J)),onMouseenter:_(B),onMouseleave:_(j)},[_(o).prefix?(N(),Q("div",{key:0,class:q(_(H).e("prefix"))},[Ee(ye.$slots,"prefix")],2)):ge("v-if",!0),K("div",{class:q(_(Y))},[(N(!0),Q(ft,null,gn(_(x),(fe,Ce)=>(N(),de(_(Up),{key:Ce,size:_(y),closable:_(w),type:ye.tagType,effect:ye.tagEffect,draggable:_(w)&&ye.draggable,"disable-transitions":"",onClose:Oe=>_(k)(Ce),onDragstart:Oe=>_(oe)(Oe,Ce),onDragover:Oe=>_(ce)(Oe,Ce),onDragend:_(X),onDrop:an(()=>{},["stop"])},{default:$(()=>[Ee(ye.$slots,"tag",{value:fe,index:Ce},()=>[Be(Ne(fe),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),ye.collapseTags&&ye.modelValue&&ye.modelValue.length>ye.maxCollapseTags?(N(),de(_(ja),{key:0,ref_key:"tagTooltipRef",ref:p,disabled:!ye.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:ye.tagEffect,placement:"bottom"},{default:$(()=>[O(_(Up),{closable:!1,size:_(y),type:ye.tagType,effect:ye.tagEffect,"disable-transitions":""},{default:$(()=>[Be(" + "+Ne(ye.modelValue.length-ye.maxCollapseTags),1)]),_:1},8,["size","type","effect"])]),content:$(()=>[K("div",{class:q(_(H).e("input-tag-list"))},[(N(!0),Q(ft,null,gn(_(C),(fe,Ce)=>(N(),de(_(Up),{key:Ce,size:_(y),closable:_(w),type:ye.tagType,effect:ye.tagEffect,"disable-transitions":"",onClose:Oe=>_(k)(Ce+ye.maxCollapseTags)},{default:$(()=>[Ee(ye.$slots,"tag",{value:fe,index:Ce+ye.maxCollapseTags},()=>[Be(Ne(fe),1)])]),_:2},1032,["size","closable","type","effect","onClose"]))),128))],2)]),_:3},8,["disabled","effect"])):ge("v-if",!0),K("div",{class:q(_(H).e("input-wrapper"))},[An(K("input",Fn({id:_(l),ref_key:"inputRef",ref:d,"onUpdate:modelValue":fe=>ai(g)?g.value=fe:null},_(i),{type:"text",minlength:ye.minlength,maxlength:ye.maxlength,disabled:_(S),readonly:ye.readonly,autocomplete:ye.autocomplete,tabindex:ye.tabindex,placeholder:_(b),autofocus:ye.autofocus,ariaLabel:ye.ariaLabel,class:_(H).e("input"),style:_(W),onCompositionstart:_(D),onCompositionupdate:_(L),onCompositionend:_(I),onInput:_(T),onKeydown:_(A)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[hm,_(g)]]),K("span",{ref_key:"calculatorRef",ref:G,"aria-hidden":"true",class:q(_(H).e("input-calculator")),textContent:Ne(_(g))},null,10,["textContent"])],2),An(K("div",{ref_key:"dropIndicatorRef",ref:Z,class:q(_(H).e("drop-indicator"))},null,2),[[kr,_(ee)]])],2),_(he)?(N(),Q("div",{key:1,class:q(_(H).e("suffix"))},[Ee(ye.$slots,"suffix"),_(se)?(N(),de(_(zt),{key:0,class:q([_(H).e("icon"),_(H).e("clear")]),onMousedown:an(_(Yr),["prevent"]),onClick:_(M)},{default:$(()=>[(N(),de(Vn(ye.clearIcon)))]),_:1},8,["class","onMousedown","onClick"])):ge("v-if",!0),_(c)&&_(f)&&_(u)?(N(),de(_(zt),{key:1,class:q([_(U).e("icon"),_(U).e("validateIcon"),_(U).is("loading",_(c)==="validating")])},{default:$(()=>[(N(),de(Vn(_(f))))]),_:1},8,["class"])):ge("v-if",!0)],2)):ge("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var fKe=lt(cKe,[["__file","input-tag.vue"]]);const dKe=kn(fKe),hKe=rt({type:{type:String,values:["primary","success","warning","info","danger","default"],default:void 0},underline:{type:[Boolean,String],values:[!0,!1,"always","never","hover"],default:void 0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:Xr}}),pKe={click:t=>t instanceof MouseEvent},vKe=ue({name:"ElLink"}),gKe=ue({...vKe,props:hKe,emits:pKe,setup(t,{emit:e}){const n=t,r=s_("link");Wd({scope:"el-link",from:"The underline option (boolean)",replacement:"'always' | 'hover' | 'never'",version:"3.0.0",ref:"https://element-plus.org/en-US/component/link.html#underline"},z(()=>ei(n.underline)));const i=Ye("link"),o=z(()=>{var l,u,c;return[i.b(),i.m((c=(u=n.type)!=null?u:(l=r.value)==null?void 0:l.type)!=null?c:"default"),i.is("disabled",n.disabled),i.is("underline",a.value==="always"),i.is("hover-underline",a.value==="hover"&&!n.disabled)]}),a=z(()=>{var l,u,c;return ei(n.underline)?n.underline?"hover":"never":(c=(u=n.underline)!=null?u:(l=r.value)==null?void 0:l.underline)!=null?c:"hover"});function s(l){n.disabled||e("click",l)}return(l,u)=>(N(),Q("a",{class:q(_(o)),href:l.disabled||!l.href?void 0:l.href,target:l.disabled||!l.href?void 0:l.target,onClick:s},[l.icon?(N(),de(_(zt),{key:0},{default:$(()=>[(N(),de(Vn(l.icon)))]),_:1})):ge("v-if",!0),l.$slots.default?(N(),Q("span",{key:1,class:q(_(i).e("inner"))},[Ee(l.$slots,"default")],2)):ge("v-if",!0),l.$slots.icon?Ee(l.$slots,"icon",{key:2}):ge("v-if",!0)],10,["href","target"]))}});var mKe=lt(gKe,[["__file","link.vue"]]);const yKe=kn(mKe);let bKe=class{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let i=!1;switch(r.code){case Ct.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case Ct.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case Ct.tab:{tk(e,"mouseleave");break}case Ct.enter:case Ct.numpadEnter:case Ct.space:{i=!0,r.currentTarget.click();break}}return i&&(r.preventDefault(),r.stopPropagation()),!1})})}},_Ke=class{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${e}-menu`);n&&(this.submenu=new bKe(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case Ct.down:{tk(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case Ct.up:{tk(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case Ct.tab:{tk(e.currentTarget,"mouseleave");break}case Ct.enter:case Ct.numpadEnter:case Ct.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}},wKe=class{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new _Ke(r,e)})}};const SKe=ue({name:"ElMenuCollapseTransition"}),xKe=ue({...SKe,setup(t){const e=Ye("menu"),n={onBeforeEnter:r=>r.style.opacity="0.2",onEnter(r,i){Pu(r,`${e.namespace.value}-opacity-transition`),r.style.opacity="1",i()},onAfterEnter(r){Is(r,`${e.namespace.value}-opacity-transition`),r.style.opacity=""},onBeforeLeave(r){r.dataset||(r.dataset={}),Mu(r,e.m("collapse"))?(Is(r,e.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),Pu(r,e.m("collapse"))):(Pu(r,e.m("collapse")),r.dataset.oldOverflow=r.style.overflow,r.dataset.scrollWidth=r.clientWidth.toString(),Is(r,e.m("collapse"))),r.style.width=`${r.scrollWidth}px`,r.style.overflow="hidden"},onLeave(r){Pu(r,"horizontal-collapse-transition"),r.style.width=`${r.dataset.scrollWidth}px`}};return(r,i)=>(N(),de(ka,Fn({mode:"out-in"},_(n)),{default:$(()=>[Ee(r.$slots,"default")]),_:3},16))}});var CKe=lt(xKe,[["__file","menu-collapse-transition.vue"]]);function nve(t,e){const n=z(()=>{let i=t.parent;const o=[e.value];for(;i.type.name!=="ElMenu";)i.props.index&&o.unshift(i.props.index),i=i.parent;return o});return{parentMenu:z(()=>{let i=t.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:n}}function EKe(t){return z(()=>{const n=t.backgroundColor;return n?new q0(n).shade(20).toString():""})}const rve=(t,e)=>{const n=Ye("menu");return z(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":EKe(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},gH="rootMenu",zM="subMenu:",TKe=rt({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Xr},expandOpenIcon:{type:Xr},collapseCloseIcon:{type:Xr},collapseOpenIcon:{type:Xr}}),FD="ElSubMenu";var mH=ue({name:FD,props:TKe,setup(t,{slots:e,expose:n}){const r=Un(),{indexPath:i,parentMenu:o}=nve(r,z(()=>t.index)),a=Ye("menu"),s=Ye("sub-menu"),l=bt(gH);l||xo(FD,"can not inject root menu");const u=bt(`${zM}${o.value.uid}`);u||xo(FD,"can not inject sub menu");const c=F({}),f=F({});let d;const h=F(!1),p=F(),v=F(),g=z(()=>u.level===0),m=z(()=>E.value==="horizontal"&&g.value?"bottom-start":"right-start"),y=z(()=>E.value==="horizontal"&&g.value||E.value==="vertical"&&!l.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?x.value?t.expandOpenIcon:t.expandCloseIcon:sd:t.collapseCloseIcon&&t.collapseOpenIcon?x.value?t.collapseOpenIcon:t.collapseCloseIcon:Rs),b=z(()=>{const G=t.teleported;return gr(G)?g.value:G}),w=z(()=>l.props.collapse?`${a.namespace.value}-zoom-in-left`:`${a.namespace.value}-zoom-in-top`),S=z(()=>E.value==="horizontal"&&g.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),x=z(()=>l.openedMenus.includes(t.index)),C=z(()=>[...Object.values(c.value),...Object.values(f.value)].some(({active:G})=>G)),E=z(()=>l.props.mode),T=z(()=>l.props.persistent),A=Bn({index:t.index,indexPath:i,active:C}),k=rve(l.props,u.level+1),M=z(()=>{var G;return(G=t.popperOffset)!=null?G:l.props.popperOffset}),D=z(()=>{var G;return(G=t.popperClass)!=null?G:l.props.popperClass}),L=z(()=>{var G;return(G=t.showTimeout)!=null?G:l.props.showTimeout}),I=z(()=>{var G;return(G=t.hideTimeout)!=null?G:l.props.hideTimeout}),R=()=>{var G,W,Z;return(Z=(W=(G=v.value)==null?void 0:G.popperRef)==null?void 0:W.popperInstanceRef)==null?void 0:Z.destroy()},V=G=>{G||R()},P=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||t.disabled||l.handleSubMenuClick({index:t.index,indexPath:i.value,active:C.value})},B=(G,W=L.value)=>{var Z;if(G.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||t.disabled){u.mouseInChild.value=!0;return}u.mouseInChild.value=!0,d?.(),{stop:d}=Dm(()=>{l.openMenu(t.index,i.value)},W),b.value&&((Z=o.value.vnode.el)==null||Z.dispatchEvent(new MouseEvent("mouseenter"))),G.type==="mouseenter"&&G.target&&Pt(()=>{h2(G.target,{preventScroll:!0})})}},j=(G=!1)=>{var W;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){u.mouseInChild.value=!1;return}d?.(),u.mouseInChild.value=!1,{stop:d}=Dm(()=>!h.value&&l.closeMenu(t.index,i.value),I.value),b.value&&G&&((W=u.handleMouseleave)==null||W.call(u,!0))};Le(()=>l.props.collapse,G=>V(!!G));{const G=Z=>{f.value[Z.index]=Z},W=Z=>{delete f.value[Z.index]};jn(`${zM}${r.uid}`,{addSubMenu:G,removeSubMenu:W,handleMouseleave:j,mouseInChild:h,level:u.level+1})}return n({opened:x}),Jt(()=>{l.addSubMenu(A),u.addSubMenu(A)}),ur(()=>{u.removeSubMenu(A),l.removeSubMenu(A)}),()=>{var G;const W=[(G=e.title)==null?void 0:G.call(e),Rt(zt,{class:s.e("icon-arrow"),style:{transform:x.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>Ht(y.value)?Rt(r.appContext.components[y.value]):Rt(y.value)})],Z=l.isMenuPopup?Rt(ja,{ref:v,visible:x.value,effect:"light",pure:!0,offset:M.value,showArrow:!1,persistent:T.value,popperClass:D.value,placement:m.value,teleported:b.value,fallbackPlacements:S.value,transition:w.value,gpuAcceleration:!1},{content:()=>{var ee;return Rt("div",{class:[a.m(E.value),a.m("popup-container"),D.value],onMouseenter:oe=>B(oe,100),onMouseleave:()=>j(!0),onFocus:oe=>B(oe,100)},[Rt("ul",{class:[a.b(),a.m("popup"),a.m(`popup-${m.value}`)],style:k.value},[(ee=e.default)==null?void 0:ee.call(e)])])},default:()=>Rt("div",{class:s.e("title"),onClick:P},W)}):Rt(ft,{},[Rt("div",{class:s.e("title"),ref:p,onClick:P},W),Rt(CI,{},{default:()=>{var ee;return An(Rt("ul",{role:"menu",class:[a.b(),a.m("inline")],style:k.value},[(ee=e.default)==null?void 0:ee.call(e)]),[[kr,x.value]])}})]);return Rt("li",{class:[s.b(),s.is("active",C.value),s.is("opened",x.value),s.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:x.value,onMouseenter:B,onMouseleave:()=>j(),onFocus:B},[Z])}}});const AKe=rt({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:me(Array),default:()=>ji([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Xr,default:()=>FVe},popperEffect:{type:me(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},persistent:{type:Boolean,default:!0}}),VD=t=>tt(t)&&t.every(e=>Ht(e)),kKe={close:(t,e)=>Ht(t)&&VD(e),open:(t,e)=>Ht(t)&&VD(e),select:(t,e,n,r)=>Ht(t)&&VD(e)&&Nn(n)&&(gr(r)||r instanceof Promise)};var MKe=ue({name:"ElMenu",props:AKe,emits:kKe,setup(t,{emit:e,slots:n,expose:r}){const i=Un(),o=i.appContext.config.globalProperties.$router,a=F(),s=F(),l=Ye("menu"),u=Ye("sub-menu");let c=64;const f=F(-1),d=F(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),h=F(t.defaultActive),p=F({}),v=F({}),g=z(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),m=()=>{const V=h.value&&p.value[h.value];if(!V||t.mode==="horizontal"||t.collapse)return;V.indexPath.forEach(B=>{const j=v.value[B];j&&y(B,j.indexPath)})},y=(V,P)=>{d.value.includes(V)||(t.uniqueOpened&&(d.value=d.value.filter(B=>P.includes(B))),d.value.push(V),e("open",V,P))},b=V=>{const P=d.value.indexOf(V);P!==-1&&d.value.splice(P,1)},w=(V,P)=>{b(V),e("close",V,P)},S=({index:V,indexPath:P})=>{d.value.includes(V)?w(V,P):y(V,P)},x=V=>{(t.mode==="horizontal"||t.collapse)&&(d.value=[]);const{index:P,indexPath:B}=V;if(!(So(P)||So(B)))if(t.router&&o){const j=V.route||P,G=o.push(j).then(W=>(W||(h.value=P),W));e("select",P,B,{index:P,indexPath:B,route:j},G)}else h.value=P,e("select",P,B,{index:P,indexPath:B})},C=V=>{var P;const B=p.value,j=B[V]||h.value&&B[h.value]||B[t.defaultActive];h.value=(P=j?.index)!=null?P:V},E=V=>{const P=getComputedStyle(V),B=Number.parseInt(P.marginLeft,10),j=Number.parseInt(P.marginRight,10);return V.offsetWidth+B+j||0},T=()=>{var V,P;if(!a.value)return-1;const B=Array.from((P=(V=a.value)==null?void 0:V.childNodes)!=null?P:[]).filter(ce=>ce.nodeName!=="#comment"&&(ce.nodeName!=="#text"||ce.nodeValue)),j=getComputedStyle(a.value),G=Number.parseInt(j.paddingLeft,10),W=Number.parseInt(j.paddingRight,10),Z=a.value.clientWidth-G-W;let ee=0,oe=0;return B.forEach((ce,X)=>{ee+=E(ce),ee<=Z-c&&(oe=X+1)}),oe===B.length?-1:oe},A=V=>v.value[V].indexPath,k=(V,P=33.34)=>{let B;return()=>{B&&clearTimeout(B),B=setTimeout(()=>{V()},P)}};let M=!0;const D=()=>{const V=Jo(s);if(V&&(c=E(V)||64),f.value===T())return;const P=()=>{f.value=-1,Pt(()=>{f.value=T()})};M?P():k(P)(),M=!1};Le(()=>t.defaultActive,V=>{p.value[V]||(h.value=""),C(V)}),Le(()=>t.collapse,V=>{V&&(d.value=[])}),Le(p.value,m);let L;is(()=>{t.mode==="horizontal"&&t.ellipsis?L=Di(a,D).stop:L?.()});const I=F(!1);{const V=G=>{v.value[G.index]=G},P=G=>{delete v.value[G.index]};jn(gH,Bn({props:t,openedMenus:d,items:p,subMenus:v,activeIndex:h,isMenuPopup:g,addMenuItem:G=>{p.value[G.index]=G},removeMenuItem:G=>{delete p.value[G.index]},addSubMenu:V,removeSubMenu:P,openMenu:y,closeMenu:w,handleMenuItemClick:x,handleSubMenuClick:S})),jn(`${zM}${i.uid}`,{addSubMenu:V,removeSubMenu:P,mouseInChild:I,level:0})}Jt(()=>{t.mode==="horizontal"&&new wKe(i.vnode.el,l.namespace.value)}),r({open:P=>{const{indexPath:B}=v.value[P];B.forEach(j=>y(j,B))},close:b,updateActiveIndex:C,handleResize:D});const R=rve(t,0);return()=>{var V,P;let B=(P=(V=n.default)==null?void 0:V.call(n))!=null?P:[];const j=[];if(t.mode==="horizontal"&&a.value){const Z=Pf(B).filter(ce=>ce?.shapeFlag!==8),ee=f.value===-1?Z:Z.slice(0,f.value),oe=f.value===-1?[]:Z.slice(f.value);oe?.length&&t.ellipsis&&(B=ee,j.push(Rt(mH,{ref:s,index:"sub-menu-more",class:u.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>Rt(zt,{class:u.e("icon-more")},{default:()=>Rt(t.ellipsisIcon)}),default:()=>oe})))}const G=t.closeOnClickOutside?[[ch,()=>{d.value.length&&(I.value||(d.value.forEach(Z=>e("close",Z,A(Z))),d.value=[]))}]]:[],W=An(Rt("ul",{key:String(t.collapse),role:"menubar",ref:a,style:R.value,class:{[l.b()]:!0,[l.m(t.mode)]:!0,[l.m("collapse")]:t.collapse}},[...B,...j]),G);return t.collapseTransition&&t.mode==="vertical"?Rt(CKe,()=>W):W}}});const PKe=rt({index:{type:me([String,null]),default:null},route:{type:me([String,Object])},disabled:Boolean}),OKe={click:t=>Ht(t.index)&&tt(t.indexPath)},kF="ElMenuItem",IKe=ue({name:kF}),RKe=ue({...IKe,props:PKe,emits:OKe,setup(t,{expose:e,emit:n}){const r=t;Cl(r.index)&&void 0;const i=Un(),o=bt(gH),a=Ye("menu"),s=Ye("menu-item");o||xo(kF,"can not inject root menu");const{parentMenu:l,indexPath:u}=nve(i,Hr(r,"index")),c=bt(`${zM}${l.value.uid}`);c||xo(kF,"can not inject sub menu");const f=z(()=>r.index===o.activeIndex),d=Bn({index:r.index,indexPath:u,active:f}),h=()=>{r.disabled||(o.handleMenuItemClick({index:r.index,indexPath:u.value,route:r.route}),n("click",d))};return Jt(()=>{c.addSubMenu(d),o.addMenuItem(d)}),ur(()=>{c.removeSubMenu(d),o.removeMenuItem(d)}),e({parentMenu:l,rootMenu:o,active:f,nsMenu:a,nsMenuItem:s,handleClick:h}),(p,v)=>(N(),Q("li",{class:q([_(s).b(),_(s).is("active",_(f)),_(s).is("disabled",p.disabled)]),role:"menuitem",tabindex:"-1",onClick:h},[_(l).type.name==="ElMenu"&&_(o).props.collapse&&p.$slots.title?(N(),de(_(ja),{key:0,effect:_(o).props.popperEffect,placement:"right","fallback-placements":["left"],persistent:_(o).props.persistent,"focus-on-target":""},{content:$(()=>[Ee(p.$slots,"title")]),default:$(()=>[K("div",{class:q(_(a).be("tooltip","trigger"))},[Ee(p.$slots,"default")],2)]),_:3},8,["effect","persistent"])):(N(),Q(ft,{key:1},[Ee(p.$slots,"default"),Ee(p.$slots,"title")],64))],2))}});var ive=lt(RKe,[["__file","menu-item.vue"]]);const LKe={title:String},DKe=ue({name:"ElMenuItemGroup"}),NKe=ue({...DKe,props:LKe,setup(t){const e=Ye("menu-item-group");return(n,r)=>(N(),Q("li",{class:q(_(e).b())},[K("div",{class:q(_(e).e("title"))},[n.$slots.title?Ee(n.$slots,"title",{key:1}):(N(),Q(ft,{key:0},[Be(Ne(n.title),1)],64))],2),K("ul",null,[Ee(n.$slots,"default")])],2))}});var ove=lt(NKe,[["__file","menu-item-group.vue"]]);const BKe=kn(MKe,{MenuItem:ive,MenuItemGroup:ove,SubMenu:mH}),$Ke=Wi(ive),FKe=Wi(ove),VKe=Wi(mH),zKe=rt({icon:{type:Xr,default:()=>NFe},title:String,content:{type:String,default:""}}),HKe={back:()=>!0},jKe=ue({name:"ElPageHeader"}),GKe=ue({...jKe,props:zKe,emits:HKe,setup(t,{emit:e}){const{t:n}=Cr(),r=Ye("page-header");function i(){e("back")}return(o,a)=>(N(),Q("div",{class:q([_(r).b(),{[_(r).m("has-breadcrumb")]:!!o.$slots.breadcrumb,[_(r).m("has-extra")]:!!o.$slots.extra,[_(r).is("contentful")]:!!o.$slots.default}])},[o.$slots.breadcrumb?(N(),Q("div",{key:0,class:q(_(r).e("breadcrumb"))},[Ee(o.$slots,"breadcrumb")],2)):ge("v-if",!0),K("div",{class:q(_(r).e("header"))},[K("div",{class:q(_(r).e("left"))},[K("div",{class:q(_(r).e("back")),role:"button",tabindex:"0",onClick:i},[o.icon||o.$slots.icon?(N(),Q("div",{key:0,"aria-label":o.title||_(n)("el.pageHeader.title"),class:q(_(r).e("icon"))},[Ee(o.$slots,"icon",{},()=>[o.icon?(N(),de(_(zt),{key:0},{default:$(()=>[(N(),de(Vn(o.icon)))]),_:1})):ge("v-if",!0)])],10,["aria-label"])):ge("v-if",!0),K("div",{class:q(_(r).e("title"))},[Ee(o.$slots,"title",{},()=>[Be(Ne(o.title||_(n)("el.pageHeader.title")),1)])],2)],2),O(_(Vpe),{direction:"vertical"}),K("div",{class:q(_(r).e("content"))},[Ee(o.$slots,"content",{},()=>[Be(Ne(o.content),1)])],2)],2),o.$slots.extra?(N(),Q("div",{key:0,class:q(_(r).e("extra"))},[Ee(o.$slots,"extra")],2)):ge("v-if",!0)],2),o.$slots.default?(N(),Q("div",{key:1,class:q(_(r).e("main"))},[Ee(o.$slots,"default")],2)):ge("v-if",!0)],2))}});var UKe=lt(GKe,[["__file","page-header.vue"]]);const WKe=kn(UKe),ave=Symbol("elPaginationKey"),qKe=rt({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Xr}}),KKe={click:t=>t instanceof MouseEvent},YKe=ue({name:"ElPaginationPrev"}),XKe=ue({...YKe,props:qKe,emits:KKe,setup(t){const e=t,{t:n}=Cr(),r=z(()=>e.disabled||e.currentPage<=1);return(i,o)=>(N(),Q("button",{type:"button",class:"btn-prev",disabled:_(r),"aria-label":i.prevText||_(n)("el.pagination.prev"),"aria-disabled":_(r),onClick:a=>i.$emit("click",a)},[i.prevText?(N(),Q("span",{key:0},Ne(i.prevText),1)):(N(),de(_(zt),{key:1},{default:$(()=>[(N(),de(Vn(i.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var ZKe=lt(XKe,[["__file","prev.vue"]]);const JKe=rt({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Xr}}),QKe=ue({name:"ElPaginationNext"}),eYe=ue({...QKe,props:JKe,emits:["click"],setup(t){const e=t,{t:n}=Cr(),r=z(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(i,o)=>(N(),Q("button",{type:"button",class:"btn-next",disabled:_(r),"aria-label":i.nextText||_(n)("el.pagination.next"),"aria-disabled":_(r),onClick:a=>i.$emit("click",a)},[i.nextText?(N(),Q("span",{key:0},Ne(i.nextText),1)):(N(),de(_(zt),{key:1},{default:$(()=>[(N(),de(Vn(i.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var tYe=lt(eYe,[["__file","next.vue"]]);const yH={label:"label",value:"value",disabled:"disabled",options:"options"};function b2(t){const e=z(()=>({...yH,...t.props}));return{aliasProps:e,getLabel:a=>bo(a,e.value.label),getValue:a=>bo(a,e.value.value),getDisabled:a=>bo(a,e.value.disabled),getOptions:a=>bo(a,e.value.options)}}const sve=Symbol("ElSelectGroup"),c_=Symbol("ElSelect"),MF="ElOption",nYe=rt({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean}),bH=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),wp=t=>e2(t);function rYe(t,e){const n=bt(c_);n||xo(MF,"usage: <el-select><el-option /></el-select/>");const r=bt(sve,{disabled:!1}),i=z(()=>c(wa(n.props.modelValue),t.value)),o=z(()=>{var h;if(n.props.multiple){const p=wa((h=n.props.modelValue)!=null?h:[]);return!i.value&&p.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),a=z(()=>{var h;return(h=t.label)!=null?h:Nn(t.value)?"":t.value}),s=z(()=>t.value||t.label||""),l=z(()=>t.disabled||e.groupDisabled||o.value),u=Un(),c=(h=[],p)=>{if(Nn(t.value)){const v=n.props.valueKey;return h&&h.some(g=>pi(bo(g,v))===bo(p,v))}else return h&&h.includes(p)},f=()=>{!t.disabled&&!r.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(u.proxy))},d=h=>{const p=new RegExp(bH(h),"i");e.visible=p.test(String(a.value))||t.created};return Le(()=>a.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),Le(()=>t.value,(h,p)=>{const{remote:v,valueKey:g}=n.props;if((v?h!==p:!Ei(h,p))&&(n.onOptionDestroy(p,u.proxy),n.onOptionCreate(u.proxy)),!t.created&&!v){if(g&&Nn(h)&&Nn(p)&&h[g]===p[g])return;n.setSelected()}}),Le(()=>r.disabled,()=>{e.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:a,currentValue:s,itemSelected:i,isDisabled:l,hoverItem:f,updateOption:d}}const iYe=ue({name:MF,componentName:MF,props:nYe,setup(t){const e=Ye("select"),n=Ha(),r=z(()=>[e.be("dropdown","item"),e.is("disabled",_(s)),e.is("selected",_(a)),e.is("hovering",_(d))]),i=Bn({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:o,itemSelected:a,isDisabled:s,select:l,hoverItem:u,updateOption:c}=rYe(t,i),{visible:f,hover:d}=zo(i),h=Un().proxy;l.onOptionCreate(h),ur(()=>{const v=h.value;Pt(()=>{const{selected:g}=l.states,m=g.some(y=>y.value===h.value);l.states.cachedOptions.get(v)===h&&!m&&l.states.cachedOptions.delete(v)}),l.onOptionDestroy(v,h)});function p(){s.value||l.handleOptionSelect(h)}return{ns:e,id:n,containerKls:r,currentLabel:o,itemSelected:a,isDisabled:s,select:l,visible:f,hover:d,states:i,hoverItem:u,updateOption:c,selectOptionClick:p}}});function oYe(t,e){return An((N(),Q("li",{id:t.id,class:q(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMousemove:t.hoverItem,onClick:an(t.selectOptionClick,["stop"])},[Ee(t.$slots,"default",{},()=>[K("span",null,Ne(t.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[kr,t.visible]])}var _H=lt(iYe,[["render",oYe],["__file","option.vue"]]);const aYe=ue({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=bt(c_),e=Ye("select"),n=z(()=>t.props.popperClass),r=z(()=>t.props.multiple),i=z(()=>t.props.fitInputWidth),o=F("");function a(){var s;const l=(s=t.selectRef)==null?void 0:s.offsetWidth;l?o.value=`${l-tve}px`:o.value=""}return Jt(()=>{a(),Di(t.selectRef,a)}),{ns:e,minWidth:o,popperClass:n,isMultiple:r,isFitInputWidth:i}}});function sYe(t,e,n,r,i,o){return N(),Q("div",{class:q([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:Ot({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(N(),Q("div",{key:0,class:q(t.ns.be("dropdown","header"))},[Ee(t.$slots,"header")],2)):ge("v-if",!0),Ee(t.$slots,"default"),t.$slots.footer?(N(),Q("div",{key:1,class:q(t.ns.be("dropdown","footer"))},[Ee(t.$slots,"footer")],2)):ge("v-if",!0)],6)}var lYe=lt(aYe,[["render",sYe],["__file","select-dropdown.vue"]]);const uYe=(t,e)=>{const{t:n}=Cr(),r=Ha(),i=Ye("select"),o=Ye("input"),a=Bn({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),s=F(),l=F(),u=F(),c=F(),f=F(),d=F(),h=F(),p=F(),v=F(),g=F(),m=F(),y=F(!1),b=F(),{form:w,formItem:S}=Ua(),{inputId:x}=tu(t,{formItemContext:S}),{valueOnClear:C,isEmptyValue:E}=c2(t),{isComposing:T,handleCompositionStart:A,handleCompositionUpdate:k,handleCompositionEnd:M}=p2({afterComposition:pt=>$e(pt)}),D=z(()=>t.disabled||!!w?.disabled),{wrapperRef:L,isFocused:I,handleBlur:R}=Ph(f,{disabled:D,afterFocus(){t.automaticDropdown&&!y.value&&(y.value=!0,a.menuVisibleOnFocus=!0)},beforeBlur(pt){var mn,Nr;return((mn=u.value)==null?void 0:mn.isFocusInsideContent(pt))||((Nr=c.value)==null?void 0:Nr.isFocusInsideContent(pt))},afterBlur(){var pt;y.value=!1,a.menuVisibleOnFocus=!1,t.validateEvent&&((pt=S?.validate)==null||pt.call(S,"blur").catch(mn=>void 0))}}),V=z(()=>tt(t.modelValue)?t.modelValue.length>0:!E(t.modelValue)),P=z(()=>{var pt;return(pt=w?.statusIcon)!=null?pt:!1}),B=z(()=>t.clearable&&!D.value&&V.value&&(I.value||a.inputHovering)),j=z(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),G=z(()=>i.is("reverse",!!(j.value&&y.value))),W=z(()=>S?.validateState||""),Z=z(()=>W.value&&mI[W.value]),ee=z(()=>t.remote?300:0),oe=z(()=>t.remote&&!a.inputValue&&a.options.size===0),ce=z(()=>t.loading?t.loadingText||n("el.select.loading"):t.filterable&&a.inputValue&&a.options.size>0&&X.value===0?t.noMatchText||n("el.select.noMatch"):a.options.size===0?t.noDataText||n("el.select.noData"):null),X=z(()=>H.value.filter(pt=>pt.visible).length),H=z(()=>{const pt=Array.from(a.options.values()),mn=[];return a.optionValues.forEach(Nr=>{const no=pt.findIndex(ga=>ga.value===Nr);no>-1&&mn.push(pt[no])}),mn.length>=pt.length?mn:pt}),U=z(()=>Array.from(a.cachedOptions.values())),ne=z(()=>{const pt=H.value.filter(mn=>!mn.created).some(mn=>mn.currentLabel===a.inputValue);return t.filterable&&t.allowCreate&&a.inputValue!==""&&!pt}),J=()=>{t.filterable&&qt(t.filterMethod)||t.filterable&&t.remote&&qt(t.remoteMethod)||H.value.forEach(pt=>{var mn;(mn=pt.updateOption)==null||mn.call(pt,a.inputValue)})},Y=Po(),se=z(()=>["small"].includes(Y.value)?"small":"default"),he=z({get(){return y.value&&!oe.value},set(pt){y.value=pt}}),ye=z(()=>{if(t.multiple&&!gr(t.modelValue))return wa(t.modelValue).length===0&&!a.inputValue;const pt=tt(t.modelValue)?t.modelValue[0]:t.modelValue;return t.filterable||gr(pt)?!a.inputValue:!0}),_e=z(()=>{var pt;const mn=(pt=t.placeholder)!=null?pt:n("el.select.placeholder");return t.multiple||!V.value?mn:a.selectedLabel}),fe=z(()=>OM?null:"mouseenter");Le(()=>t.modelValue,(pt,mn)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(a.inputValue="",Ce("")),Ue(),!Ei(pt,mn)&&t.validateEvent&&S?.validate("change").catch(Nr=>void 0)},{flush:"post",deep:!0}),Le(()=>y.value,pt=>{pt?Ce(a.inputValue):(a.inputValue="",a.previousQuery=null,a.isBeforeHide=!0),e("visible-change",pt)}),Le(()=>a.options.entries(),()=>{Ar&&(Ue(),t.defaultFirstOption&&(t.filterable||t.remote)&&X.value&&Oe())},{flush:"post"}),Le([()=>a.hoveringIndex,H],([pt])=>{Zt(pt)&&pt>-1?b.value=H.value[pt]||{}:b.value={},H.value.forEach(mn=>{mn.hover=b.value===mn})}),is(()=>{a.isBeforeHide||J()});const Ce=pt=>{a.previousQuery===pt||T.value||(a.previousQuery=pt,t.filterable&&qt(t.filterMethod)?t.filterMethod(pt):t.filterable&&t.remote&&qt(t.remoteMethod)&&t.remoteMethod(pt),t.defaultFirstOption&&(t.filterable||t.remote)&&X.value?Pt(Oe):Pt(ze))},Oe=()=>{const pt=H.value.filter(ga=>ga.visible&&!ga.disabled&&!ga.states.groupDisabled),mn=pt.find(ga=>ga.created),Nr=pt[0],no=H.value.map(ga=>ga.value);a.hoveringIndex=re(no,mn||Nr)},Ue=()=>{if(t.multiple)a.selectedLabel="";else{const mn=tt(t.modelValue)?t.modelValue[0]:t.modelValue,Nr=qe(mn);a.selectedLabel=Nr.currentLabel,a.selected=[Nr];return}const pt=[];gr(t.modelValue)||wa(t.modelValue).forEach(mn=>{pt.push(qe(mn))}),a.selected=pt},qe=pt=>{let mn;const Nr=_x(pt);for(let Ns=a.cachedOptions.size-1;Ns>=0;Ns--){const oa=U.value[Ns];if(Nr?bo(oa.value,t.valueKey)===bo(pt,t.valueKey):oa.value===pt){mn={index:H.value.filter(Bs=>!Bs.created).indexOf(oa),value:pt,currentLabel:oa.currentLabel,get isDisabled(){return oa.isDisabled}};break}}if(mn)return mn;const no=Nr?pt.label:pt??"";return{index:-1,value:pt,currentLabel:no}},ze=()=>{a.hoveringIndex=H.value.findIndex(pt=>a.selected.some(mn=>to(mn)===to(pt)))},ae=()=>{a.selectionWidth=Number.parseFloat(window.getComputedStyle(l.value).width)},Fe=()=>{a.collapseItemWidth=g.value.getBoundingClientRect().width},We=()=>{var pt,mn;(mn=(pt=u.value)==null?void 0:pt.updatePopper)==null||mn.call(pt)},dn=()=>{var pt,mn;(mn=(pt=c.value)==null?void 0:pt.updatePopper)==null||mn.call(pt)},At=()=>{a.inputValue.length>0&&!y.value&&(y.value=!0),Ce(a.inputValue)},$e=pt=>{if(a.inputValue=pt.target.value,t.remote)Kt();else return At()},Kt=rl(()=>{At()},ee.value),Kn=pt=>{Ei(t.modelValue,pt)||e(tr,pt)},$t=pt=>fde(pt,mn=>{const Nr=a.cachedOptions.get(mn);return Nr&&!Nr.disabled&&!Nr.states.groupDisabled}),wn=pt=>{if(t.multiple&&pt.code!==Ct.delete&&pt.target.value.length<=0){const mn=wa(t.modelValue).slice(),Nr=$t(mn);if(Nr<0)return;const no=mn[Nr];mn.splice(Nr,1),e(_n,mn),Kn(mn),e("remove-tag",no)}},$n=(pt,mn)=>{const Nr=a.selected.indexOf(mn);if(Nr>-1&&!D.value){const no=wa(t.modelValue).slice();no.splice(Nr,1),e(_n,no),Kn(no),e("remove-tag",mn.value)}pt.stopPropagation(),zn()},je=pt=>{pt.stopPropagation();const mn=t.multiple?[]:C.value;if(t.multiple)for(const Nr of a.selected)Nr.isDisabled&&mn.push(Nr.value);e(_n,mn),Kn(mn),a.hoveringIndex=-1,y.value=!1,e("clear"),zn()},mt=pt=>{var mn;if(t.multiple){const Nr=wa((mn=t.modelValue)!=null?mn:[]).slice(),no=re(Nr,pt);no>-1?Nr.splice(no,1):(t.multipleLimit<=0||Nr.length<t.multipleLimit)&&Nr.push(pt.value),e(_n,Nr),Kn(Nr),pt.created&&Ce(""),t.filterable&&!t.reserveKeyword&&(a.inputValue="")}else e(_n,pt.value),Kn(pt.value),y.value=!1;zn(),!y.value&&Pt(()=>{le(pt)})},re=(pt,mn)=>gr(mn)?-1:Nn(mn.value)?pt.findIndex(Nr=>Ei(bo(Nr,t.valueKey),to(mn))):pt.indexOf(mn.value),le=pt=>{var mn,Nr,no,ga,Ns;const oa=tt(pt)?pt[0]:pt;let Rl=null;if(oa?.value){const Bs=H.value.filter(vd=>vd.value===oa.value);Bs.length>0&&(Rl=Bs[0].$el)}if(u.value&&Rl){const Bs=(ga=(no=(Nr=(mn=u.value)==null?void 0:mn.popperRef)==null?void 0:Nr.contentRef)==null?void 0:no.querySelector)==null?void 0:ga.call(no,`.${i.be("dropdown","wrap")}`);Bs&&wz(Bs,Rl)}(Ns=m.value)==null||Ns.handleScroll()},Ae=pt=>{a.options.set(pt.value,pt),a.cachedOptions.set(pt.value,pt)},Qe=(pt,mn)=>{a.options.get(pt)===mn&&a.options.delete(pt)},ct=z(()=>{var pt,mn;return(mn=(pt=u.value)==null?void 0:pt.popperRef)==null?void 0:mn.contentRef}),Nt=()=>{a.isBeforeHide=!1,Pt(()=>{var pt;(pt=m.value)==null||pt.update(),le(a.selected)})},zn=()=>{var pt;(pt=f.value)==null||pt.focus()},li=()=>{var pt;if(y.value){y.value=!1,Pt(()=>{var mn;return(mn=f.value)==null?void 0:mn.blur()});return}(pt=f.value)==null||pt.blur()},sr=pt=>{je(pt)},Er=pt=>{if(y.value=!1,I.value){const mn=new FocusEvent("blur",pt);Pt(()=>R(mn))}},ut=()=>{a.inputValue.length>0?a.inputValue="":y.value=!1},In=()=>{D.value||(OM&&(a.inputHovering=!0),a.menuVisibleOnFocus?a.menuVisibleOnFocus=!1:y.value=!y.value)},Tn=()=>{if(!y.value)In();else{const pt=H.value[a.hoveringIndex];pt&&!pt.isDisabled&&mt(pt)}},to=pt=>Nn(pt.value)?bo(pt.value,t.valueKey):pt.value,Uo=z(()=>H.value.filter(pt=>pt.visible).every(pt=>pt.isDisabled)),va=z(()=>t.multiple?t.collapseTags?a.selected.slice(0,t.maxCollapseTags):a.selected:[]),hs=z(()=>t.multiple?t.collapseTags?a.selected.slice(t.maxCollapseTags):[]:[]),Bt=pt=>{if(!y.value){y.value=!0;return}if(!(a.options.size===0||X.value===0||T.value)&&!Uo.value){pt==="next"?(a.hoveringIndex++,a.hoveringIndex===a.options.size&&(a.hoveringIndex=0)):pt==="prev"&&(a.hoveringIndex--,a.hoveringIndex<0&&(a.hoveringIndex=a.options.size-1));const mn=H.value[a.hoveringIndex];(mn.isDisabled||!mn.visible)&&Bt(pt),Pt(()=>le(b.value))}},Bi=()=>{if(!l.value)return 0;const pt=window.getComputedStyle(l.value);return Number.parseFloat(pt.gap||"6px")},hd=z(()=>{const pt=Bi(),mn=t.filterable?pt+pH:0;return{maxWidth:`${g.value&&t.maxCollapseTags===1?a.selectionWidth-a.collapseItemWidth-pt-mn:a.selectionWidth-mn}px`}}),Qc=z(()=>({maxWidth:`${a.selectionWidth}px`})),pd=pt=>{e("popup-scroll",pt)};Di(l,ae),Di(L,We),Di(v,dn),Di(g,Fe);let Ti;return Le(()=>he.value,pt=>{pt?Ti=Di(p,We).stop:(Ti?.(),Ti=void 0)}),Jt(()=>{Ue()}),{inputId:x,contentId:r,nsSelect:i,nsInput:o,states:a,isFocused:I,expanded:y,optionsArray:H,hoverOption:b,selectSize:Y,filteredOptionsCount:X,updateTooltip:We,updateTagTooltip:dn,debouncedOnInputChange:Kt,onInput:$e,deletePrevTag:wn,deleteTag:$n,deleteSelected:je,handleOptionSelect:mt,scrollToOption:le,hasModelValue:V,shouldShowPlaceholder:ye,currentPlaceholder:_e,mouseEnterEventName:fe,needStatusIcon:P,showClearBtn:B,iconComponent:j,iconReverse:G,validateState:W,validateIcon:Z,showNewOption:ne,updateOptions:J,collapseTagSize:se,setSelected:Ue,selectDisabled:D,emptyText:ce,handleCompositionStart:A,handleCompositionUpdate:k,handleCompositionEnd:M,onOptionCreate:Ae,onOptionDestroy:Qe,handleMenuEnter:Nt,focus:zn,blur:li,handleClearClick:sr,handleClickOutside:Er,handleEsc:ut,toggleMenu:In,selectOption:Tn,getValueKey:to,navigateOptions:Bt,dropdownMenuVisible:he,showTagList:va,collapseTagList:hs,popupScroll:pd,getOption:qe,tagStyle:hd,collapseTagStyle:Qc,popperRef:ct,inputRef:f,tooltipRef:u,tagTooltipRef:c,prefixRef:d,suffixRef:h,selectRef:s,wrapperRef:L,selectionRef:l,scrollbarRef:m,menuRef:p,tagMenuRef:v,collapseItemRef:g}};var cYe=ue({name:"ElOptions",setup(t,{slots:e}){const n=bt(c_);let r=[];return()=>{var i,o;const a=(i=e.default)==null?void 0:i.call(e),s=[];function l(u){tt(u)&&u.forEach(c=>{var f,d,h,p;const v=(f=c?.type||{})==null?void 0:f.name;v==="ElOptionGroup"?l(!Ht(c.children)&&!tt(c.children)&&qt((d=c.children)==null?void 0:d.default)?(h=c.children)==null?void 0:h.default():c.children):v==="ElOption"?s.push((p=c.props)==null?void 0:p.value):tt(c.children)&&l(c.children)})}return a.length&&l((o=a[0])==null?void 0:o.children),Ei(s,r)||(r=s,n&&(n.states.optionValues=s)),a}}});const fYe=rt({name:String,id:String,modelValue:{type:me([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Ho,effect:{type:me(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperStyle:{type:me([String,Object])},popperOptions:{type:me(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:me(Function)},filterMethod:{type:me(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Ai.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Xr,default:Mh},fitInputWidth:Boolean,suffixIcon:{type:Xr,default:sd},tagType:{...uh.type,default:"info"},tagEffect:{...uh.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:me(String),values:Oh,default:"bottom-start"},fallbackPlacements:{type:me(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:Ai.appendTo,options:{type:me(Array)},props:{type:me(Object),default:()=>yH},...my,...fs(["ariaLabel"])});ahe.scroll;const dYe=ue({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=Ye("select"),n=F(),r=Un(),i=F([]);jn(sve,Bn({...zo(t)}));const o=z(()=>i.value.some(u=>u.visible===!0)),a=u=>{var c;return u.type.name==="ElOption"&&!!((c=u.component)!=null&&c.proxy)},s=u=>{const c=wa(u),f=[];return c.forEach(d=>{var h;wi(d)&&(a(d)?f.push(d.component.proxy):tt(d.children)&&d.children.length?f.push(...s(d.children)):(h=d.component)!=null&&h.subTree&&f.push(...s(d.component.subTree)))}),f},l=()=>{i.value=s(r.subTree)};return Jt(()=>{l()}),Ade(n,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:o,ns:e}}});function hYe(t,e,n,r,i,o){return An((N(),Q("ul",{ref:"groupRef",class:q(t.ns.be("group","wrap"))},[K("li",{class:q(t.ns.be("group","title"))},Ne(t.label),3),K("li",null,[K("ul",{class:q(t.ns.b("group"))},[Ee(t.$slots,"default")],2)])],2)),[[kr,t.visible]])}var wH=lt(dYe,[["render",hYe],["__file","option-group.vue"]]);const WY="ElSelect",pYe=ue({name:WY,componentName:WY,components:{ElSelectMenu:lYe,ElOption:_H,ElOptions:cYe,ElOptionGroup:wH,ElTag:Up,ElScrollbar:Mc,ElTooltip:ja,ElIcon:zt},directives:{ClickOutside:ch},props:fYe,emits:[_n,tr,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(t,{emit:e,slots:n}){const r=Un();r.appContext.config.warnHandler=(...m)=>{!m[0]||m[0].includes('Slot "default" invoked outside of the render function')||console.warn(...m)};const i=z(()=>{const{modelValue:m,multiple:y}=t,b=y?[]:void 0;return tt(m)?y?m:b:y?b:m}),o=Bn({...zo(t),modelValue:i}),a=uYe(o,e),{calculatorRef:s,inputStyle:l}=vH(),{getLabel:u,getValue:c,getOptions:f,getDisabled:d}=b2(t),h=m=>({label:u(m),value:c(m),disabled:d(m)}),p=m=>m.reduce((y,b)=>(y.push(b),b.children&&b.children.length>0&&y.push(...p(b.children)),y),[]),v=m=>{Pf(m||[]).forEach(b=>{var w;if(Nn(b)&&(b.type.name==="ElOption"||b.type.name==="ElTree")){const S=b.type.name;if(S==="ElTree"){const x=((w=b.props)==null?void 0:w.data)||[];p(x).forEach(E=>{E.currentLabel=E.label||(Nn(E.value)?"":E.value),a.onOptionCreate(E)})}else if(S==="ElOption"){const x={...b.props};x.currentLabel=x.label||(Nn(x.value)?"":x.value),a.onOptionCreate(x)}}})};Le(()=>{var m;return(m=n.default)==null?void 0:m.call(n)},m=>{t.persistent||v(m)},{immediate:!0}),jn(c_,Bn({props:o,states:a.states,selectRef:a.selectRef,optionsArray:a.optionsArray,setSelected:a.setSelected,handleOptionSelect:a.handleOptionSelect,onOptionCreate:a.onOptionCreate,onOptionDestroy:a.onOptionDestroy}));const g=z(()=>t.multiple?a.states.selected.map(m=>m.currentLabel):a.states.selectedLabel);return ur(()=>{r.appContext.config.warnHandler=void 0}),{...a,modelValue:i,selectedLabel:g,calculatorRef:s,inputStyle:l,getLabel:u,getValue:c,getOptions:f,getDisabled:d,getOptionProps:h}}});function vYe(t,e){const n=pe("el-tag"),r=pe("el-tooltip"),i=pe("el-icon"),o=pe("el-option"),a=pe("el-option-group"),s=pe("el-options"),l=pe("el-scrollbar"),u=pe("el-select-menu"),c=n2("click-outside");return An((N(),Q("div",{ref:"selectRef",class:q([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),[kS(t.mouseEnterEventName)]:f=>t.states.inputHovering=!0,onMouseleave:f=>t.states.inputHovering=!1},[O(r,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-style":t.popperStyle,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:f=>t.states.isBeforeHide=!1},{default:$(()=>{var f;return[K("div",{ref:"wrapperRef",class:q([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:an(t.toggleMenu,["prevent"])},[t.$slots.prefix?(N(),Q("div",{key:0,ref:"prefixRef",class:q(t.nsSelect.e("prefix"))},[Ee(t.$slots,"prefix")],2)):ge("v-if",!0),K("div",{ref:"selectionRef",class:q([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?Ee(t.$slots,"tag",{key:0,data:t.states.selected,deleteTag:t.deleteTag,selectDisabled:t.selectDisabled},()=>[(N(!0),Q(ft,null,gn(t.showTagList,d=>(N(),Q("div",{key:t.getValueKey(d),class:q(t.nsSelect.e("selected-item"))},[O(n,{closable:!t.selectDisabled&&!d.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:Ot(t.tagStyle),onClose:h=>t.deleteTag(h,d)},{default:$(()=>[K("span",{class:q(t.nsSelect.e("tags-text"))},[Ee(t.$slots,"label",{index:d.index,label:d.currentLabel,value:d.value},()=>[Be(Ne(d.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(N(),de(r,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom","popper-class":t.popperClass,"popper-style":t.popperStyle,teleported:t.teleported},{default:$(()=>[K("div",{ref:"collapseItemRef",class:q(t.nsSelect.e("selected-item"))},[O(n,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:Ot(t.collapseTagStyle)},{default:$(()=>[K("span",{class:q(t.nsSelect.e("tags-text"))}," + "+Ne(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:$(()=>[K("div",{ref:"tagMenuRef",class:q(t.nsSelect.e("selection"))},[(N(!0),Q(ft,null,gn(t.collapseTagList,d=>(N(),Q("div",{key:t.getValueKey(d),class:q(t.nsSelect.e("selected-item"))},[O(n,{class:"in-tooltip",closable:!t.selectDisabled&&!d.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:h=>t.deleteTag(h,d)},{default:$(()=>[K("span",{class:q(t.nsSelect.e("tags-text"))},[Ee(t.$slots,"label",{index:d.index,label:d.currentLabel,value:d.value},()=>[Be(Ne(d.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):ge("v-if",!0)]):ge("v-if",!0),K("div",{class:q([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[An(K("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":d=>t.states.inputValue=d,type:"text",name:t.name,class:q([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:Ot(t.inputStyle),tabindex:t.tabindex,role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((f=t.hoverOption)==null?void 0:f.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[hi(an(d=>t.navigateOptions("next"),["stop","prevent"]),["down"]),hi(an(d=>t.navigateOptions("prev"),["stop","prevent"]),["up"]),hi(an(t.handleEsc,["stop","prevent"]),["esc"]),hi(an(t.selectOption,["stop","prevent"]),["enter"]),hi(an(t.deletePrevTag,["stop"]),["delete"])],onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onInput:t.onInput,onClick:an(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[hm,t.states.inputValue]]),t.filterable?(N(),Q("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:q(t.nsSelect.e("input-calculator")),textContent:Ne(t.states.inputValue)},null,10,["textContent"])):ge("v-if",!0)],2),t.shouldShowPlaceholder?(N(),Q("div",{key:1,class:q([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?Ee(t.$slots,"label",{key:0,index:t.getOption(t.modelValue).index,label:t.currentPlaceholder,value:t.modelValue},()=>[K("span",null,Ne(t.currentPlaceholder),1)]):(N(),Q("span",{key:1},Ne(t.currentPlaceholder),1))],2)):ge("v-if",!0)],2),K("div",{ref:"suffixRef",class:q(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClearBtn?(N(),de(i,{key:0,class:q([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:$(()=>[(N(),de(Vn(t.iconComponent)))]),_:1},8,["class"])):ge("v-if",!0),t.showClearBtn&&t.clearIcon?(N(),de(i,{key:1,class:q([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.nsSelect.e("clear")]),onClick:t.handleClearClick},{default:$(()=>[(N(),de(Vn(t.clearIcon)))]),_:1},8,["class","onClick"])):ge("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(N(),de(i,{key:2,class:q([t.nsInput.e("icon"),t.nsInput.e("validateIcon"),t.nsInput.is("loading",t.validateState==="validating")])},{default:$(()=>[(N(),de(Vn(t.validateIcon)))]),_:1},8,["class"])):ge("v-if",!0)],2)],10,["onClick"])]}),content:$(()=>[O(u,{ref:"menuRef"},{default:$(()=>[t.$slots.header?(N(),Q("div",{key:0,class:q(t.nsSelect.be("dropdown","header")),onClick:an(()=>{},["stop"])},[Ee(t.$slots,"header")],10,["onClick"])):ge("v-if",!0),An(O(l,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:q([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical",onScroll:t.popupScroll},{default:$(()=>[t.showNewOption?(N(),de(o,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):ge("v-if",!0),O(s,null,{default:$(()=>[Ee(t.$slots,"default",{},()=>[(N(!0),Q(ft,null,gn(t.options,(f,d)=>{var h;return N(),Q(ft,{key:d},[(h=t.getOptions(f))!=null&&h.length?(N(),de(a,{key:0,label:t.getLabel(f),disabled:t.getDisabled(f)},{default:$(()=>[(N(!0),Q(ft,null,gn(t.getOptions(f),p=>(N(),de(o,Fn({key:t.getValue(p)},t.getOptionProps(p)),null,16))),128))]),_:2},1032,["label","disabled"])):(N(),de(o,Sl(Fn({key:1},t.getOptionProps(f))),null,16))],64)}),128))])]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[kr,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(N(),Q("div",{key:1,class:q(t.nsSelect.be("dropdown","loading"))},[Ee(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(N(),Q("div",{key:2,class:q(t.nsSelect.be("dropdown","empty"))},[Ee(t.$slots,"empty",{},()=>[K("span",null,Ne(t.emptyText),1)])],2)):ge("v-if",!0),t.$slots.footer?(N(),Q("div",{key:3,class:q(t.nsSelect.be("dropdown","footer")),onClick:an(()=>{},["stop"])},[Ee(t.$slots,"footer")],10,["onClick"])):ge("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[c,t.handleClickOutside,t.popperRef]])}var gYe=lt(pYe,[["render",vYe],["__file","select.vue"]]);const Bm=kn(gYe,{Option:_H,OptionGroup:wH}),HM=Wi(_H),mYe=Wi(wH),SH=()=>bt(ave,{}),yYe=rt({pageSize:{type:Number,required:!0},pageSizes:{type:me(Array),default:()=>ji([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:ad},appendSizeTo:String}),bYe=ue({name:"ElPaginationSizes"}),_Ye=ue({...bYe,props:yYe,emits:["page-size-change"],setup(t,{emit:e}){const n=t,{t:r}=Cr(),i=Ye("pagination"),o=SH(),a=F(n.pageSize);Le(()=>n.pageSizes,(u,c)=>{if(!Ei(u,c)&&tt(u)){const f=u.includes(n.pageSize)?n.pageSize:n.pageSizes[0];e("page-size-change",f)}}),Le(()=>n.pageSize,u=>{a.value=u});const s=z(()=>n.pageSizes);function l(u){var c;u!==a.value&&(a.value=u,(c=o.handleSizeChange)==null||c.call(o,Number(u)))}return(u,c)=>(N(),Q("span",{class:q(_(i).e("sizes"))},[O(_(Bm),{"model-value":a.value,disabled:u.disabled,"popper-class":u.popperClass,size:u.size,teleported:u.teleported,"validate-event":!1,"append-to":u.appendSizeTo,onChange:l},{default:$(()=>[(N(!0),Q(ft,null,gn(_(s),f=>(N(),de(_(HM),{key:f,value:f,label:f+_(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var wYe=lt(_Ye,[["__file","sizes.vue"]]);const SYe=rt({size:{type:String,values:ad}}),xYe=ue({name:"ElPaginationJumper"}),CYe=ue({...xYe,props:SYe,setup(t){const{t:e}=Cr(),n=Ye("pagination"),{pageCount:r,disabled:i,currentPage:o,changeEvent:a}=SH(),s=F(),l=z(()=>{var f;return(f=s.value)!=null?f:o?.value});function u(f){s.value=f?+f:""}function c(f){f=Math.trunc(+f),a?.(f),s.value=void 0}return(f,d)=>(N(),Q("span",{class:q(_(n).e("jump")),disabled:_(i)},[K("span",{class:q([_(n).e("goto")])},Ne(_(e)("el.pagination.goto")),3),O(_(Ps),{size:f.size,class:q([_(n).e("editor"),_(n).is("in-pagination")]),min:1,max:_(r),disabled:_(i),"model-value":_(l),"validate-event":!1,"aria-label":_(e)("el.pagination.page"),type:"number","onUpdate:modelValue":u,onChange:c},null,8,["size","class","max","disabled","model-value","aria-label"]),K("span",{class:q([_(n).e("classifier")])},Ne(_(e)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var EYe=lt(CYe,[["__file","jumper.vue"]]);const TYe=rt({total:{type:Number,default:1e3}}),AYe=ue({name:"ElPaginationTotal"}),kYe=ue({...AYe,props:TYe,setup(t){const{t:e}=Cr(),n=Ye("pagination"),{disabled:r}=SH();return(i,o)=>(N(),Q("span",{class:q(_(n).e("total")),disabled:_(r)},Ne(_(e)("el.pagination.total",{total:i.total})),11,["disabled"]))}});var MYe=lt(kYe,[["__file","total.vue"]]);const PYe=rt({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),OYe=ue({name:"ElPaginationPager"}),IYe=ue({...OYe,props:PYe,emits:[tr],setup(t,{emit:e}){const n=t,r=Ye("pager"),i=Ye("icon"),{t:o}=Cr(),a=F(!1),s=F(!1),l=F(!1),u=F(!1),c=F(!1),f=F(!1),d=z(()=>{const w=n.pagerCount,S=(w-1)/2,x=Number(n.currentPage),C=Number(n.pageCount);let E=!1,T=!1;C>w&&(x>w-S&&(E=!0),x<C-S&&(T=!0));const A=[];if(E&&!T){const k=C-(w-2);for(let M=k;M<C;M++)A.push(M)}else if(!E&&T)for(let k=2;k<w;k++)A.push(k);else if(E&&T){const k=Math.floor(w/2)-1;for(let M=x-k;M<=x+k;M++)A.push(M)}else for(let k=2;k<C;k++)A.push(k);return A}),h=z(()=>["more","btn-quickprev",i.b(),r.is("disabled",n.disabled)]),p=z(()=>["more","btn-quicknext",i.b(),r.is("disabled",n.disabled)]),v=z(()=>n.disabled?-1:0);Le(()=>[n.pageCount,n.pagerCount,n.currentPage],([w,S,x])=>{const C=(S-1)/2;let E=!1,T=!1;w>S&&(E=x>S-C,T=x<w-C),l.value&&(l.value=E),u.value&&(u.value=T),a.value=E,s.value=T},{immediate:!0});function g(w=!1){n.disabled||(w?l.value=!0:u.value=!0)}function m(w=!1){w?c.value=!0:f.value=!0}function y(w){const S=w.target;if(S.tagName.toLowerCase()==="li"&&Array.from(S.classList).includes("number")){const x=Number(S.textContent);x!==n.currentPage&&e(tr,x)}else S.tagName.toLowerCase()==="li"&&Array.from(S.classList).includes("more")&&b(w)}function b(w){const S=w.target;if(S.tagName.toLowerCase()==="ul"||n.disabled)return;let x=Number(S.textContent);const C=n.pageCount,E=n.currentPage,T=n.pagerCount-2;S.className.includes("more")&&(S.className.includes("quickprev")?x=E-T:S.className.includes("quicknext")&&(x=E+T)),Number.isNaN(+x)||(x<1&&(x=1),x>C&&(x=C)),x!==E&&e(tr,x)}return(w,S)=>(N(),Q("ul",{class:q(_(r).b()),onClick:b,onKeyup:hi(y,["enter"])},[w.pageCount>0?(N(),Q("li",{key:0,class:q([[_(r).is("active",w.currentPage===1),_(r).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===1,"aria-label":_(o)("el.pagination.currentPage",{pager:1}),tabindex:_(v)}," 1 ",10,["aria-current","aria-label","tabindex"])):ge("v-if",!0),a.value?(N(),Q("li",{key:1,class:q(_(h)),tabindex:_(v),"aria-label":_(o)("el.pagination.prevPages",{pager:w.pagerCount-2}),onMouseenter:x=>g(!0),onMouseleave:x=>l.value=!1,onFocus:x=>m(!0),onBlur:x=>c.value=!1},[(l.value||c.value)&&!w.disabled?(N(),de(_(tv),{key:0})):(N(),de(_(BK),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):ge("v-if",!0),(N(!0),Q(ft,null,gn(_(d),x=>(N(),Q("li",{key:x,class:q([[_(r).is("active",w.currentPage===x),_(r).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===x,"aria-label":_(o)("el.pagination.currentPage",{pager:x}),tabindex:_(v)},Ne(x),11,["aria-current","aria-label","tabindex"]))),128)),s.value?(N(),Q("li",{key:2,class:q(_(p)),tabindex:_(v),"aria-label":_(o)("el.pagination.nextPages",{pager:w.pagerCount-2}),onMouseenter:x=>g(),onMouseleave:x=>u.value=!1,onFocus:x=>m(),onBlur:x=>f.value=!1},[(u.value||f.value)&&!w.disabled?(N(),de(_(ah),{key:0})):(N(),de(_(BK),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):ge("v-if",!0),w.pageCount>1?(N(),Q("li",{key:3,class:q([[_(r).is("active",w.currentPage===w.pageCount),_(r).is("disabled",w.disabled)],"number"]),"aria-current":w.currentPage===w.pageCount,"aria-label":_(o)("el.pagination.currentPage",{pager:w.pageCount}),tabindex:_(v)},Ne(w.pageCount),11,["aria-current","aria-label","tabindex"])):ge("v-if",!0)],42,["onKeyup"]))}});var RYe=lt(IYe,[["__file","pager.vue"]]);const Vs=t=>typeof t!="number",LYe=rt({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>Zt(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:me(Array),default:()=>ji([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Xr,default:()=>oh},nextText:{type:String,default:""},nextIcon:{type:Xr,default:()=>Rs},teleported:{type:Boolean,default:!0},small:Boolean,size:Ho,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),DYe={"update:current-page":t=>Zt(t),"update:page-size":t=>Zt(t),"size-change":t=>Zt(t),change:(t,e)=>Zt(t)&&Zt(e),"current-change":t=>Zt(t),"prev-click":t=>Zt(t),"next-click":t=>Zt(t)},qY="ElPagination";var NYe=ue({name:qY,props:LYe,emits:DYe,setup(t,{emit:e,slots:n}){const{t:r}=Cr(),i=Ye("pagination"),o=Un().vnode.props||{},a=Dde(),s=z(()=>{var S;return t.small?"small":(S=t.size)!=null?S:a.value});Wd({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},z(()=>!!t.small));const l="onUpdate:currentPage"in o||"onUpdate:current-page"in o||"onCurrentChange"in o,u="onUpdate:pageSize"in o||"onUpdate:page-size"in o||"onSizeChange"in o,c=z(()=>{if(Vs(t.total)&&Vs(t.pageCount)||!Vs(t.currentPage)&&!l)return!1;if(t.layout.includes("sizes")){if(Vs(t.pageCount)){if(!Vs(t.total)&&!Vs(t.pageSize)&&!u)return!1}else if(!u)return!1}return!0}),f=F(Vs(t.defaultPageSize)?10:t.defaultPageSize),d=F(Vs(t.defaultCurrentPage)?1:t.defaultCurrentPage),h=z({get(){return Vs(t.pageSize)?f.value:t.pageSize},set(S){Vs(t.pageSize)&&(f.value=S),u&&(e("update:page-size",S),e("size-change",S))}}),p=z(()=>{let S=0;return Vs(t.pageCount)?Vs(t.total)||(S=Math.max(1,Math.ceil(t.total/h.value))):S=t.pageCount,S}),v=z({get(){return Vs(t.currentPage)?d.value:t.currentPage},set(S){let x=S;S<1?x=1:S>p.value&&(x=p.value),Vs(t.currentPage)&&(d.value=x),l&&(e("update:current-page",x),e("current-change",x))}});Le(p,S=>{v.value>S&&(v.value=S)}),Le([v,h],S=>{e(tr,...S)},{flush:"post"});function g(S){v.value=S}function m(S){h.value=S;const x=p.value;v.value>x&&(v.value=x)}function y(){t.disabled||(v.value-=1,e("prev-click",v.value))}function b(){t.disabled||(v.value+=1,e("next-click",v.value))}function w(S,x){S&&(S.props||(S.props={}),S.props.class=[S.props.class,x].join(" "))}return jn(ave,{pageCount:p,disabled:z(()=>t.disabled),currentPage:v,changeEvent:g,handleSizeChange:m}),()=>{var S,x;if(!c.value)return r("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&p.value<=1)return null;const C=[],E=[],T=Rt("div",{class:i.e("rightwrapper")},E),A={prev:Rt(ZKe,{disabled:t.disabled,currentPage:v.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:y}),jumper:Rt(EYe,{size:s.value}),pager:Rt(RYe,{currentPage:v.value,pageCount:p.value,pagerCount:t.pagerCount,onChange:g,disabled:t.disabled}),next:Rt(tYe,{disabled:t.disabled,currentPage:v.value,pageCount:p.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:b}),sizes:Rt(wYe,{pageSize:h.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:s.value,appendSizeTo:t.appendSizeTo}),slot:(x=(S=n?.default)==null?void 0:S.call(n))!=null?x:null,total:Rt(MYe,{total:Vs(t.total)?0:t.total})},k=t.layout.split(",").map(D=>D.trim());let M=!1;return k.forEach(D=>{if(D==="->"){M=!0;return}M?E.push(A[D]):C.push(A[D])}),w(C[0],i.is("first")),w(C[C.length-1],i.is("last")),M&&E.length>0&&(w(E[0],i.is("first")),w(E[E.length-1],i.is("last")),C.push(T)),Rt("div",{class:[i.b(),i.is("background",t.background),i.m(s.value)]},C)}}});const BYe=kn(NYe),$Ye=rt({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:fF,default:"primary"},cancelButtonType:{type:String,values:fF,default:"text"},icon:{type:Xr,default:()=>LM},iconColor:{type:String,default:"#f90"},hideIcon:Boolean,hideAfter:{type:Number,default:200},effect:{...Ai.effect,default:"light"},teleported:Ai.teleported,persistent:Ai.persistent,width:{type:[String,Number],default:150},closeOnPressEscape:{type:Boolean,default:!0}}),FYe={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent||t instanceof KeyboardEvent},VYe=ue({name:"ElPopconfirm"}),zYe=ue({...VYe,props:$Ye,emits:FYe,setup(t,{expose:e,emit:n}){const r=t,{t:i}=Cr(),o=Ye("popconfirm"),a=F(),s=z(()=>{var v;return(v=_(a))==null?void 0:v.popperRef}),l=()=>{var v,g;(g=(v=a.value)==null?void 0:v.onClose)==null||g.call(v)},u=z(()=>({width:Qi(r.width)})),c=v=>{n("confirm",v),l()},f=v=>{n("cancel",v),l()},d=v=>{r.closeOnPressEscape&&f(v)},h=z(()=>r.confirmButtonText||i("el.popconfirm.confirmButtonText")),p=z(()=>r.cancelButtonText||i("el.popconfirm.cancelButtonText"));return e({popperRef:s,hide:l}),(v,g)=>(N(),de(_(ja),Fn({ref_key:"tooltipRef",ref:a,trigger:"click",effect:v.effect},v.$attrs,{"popper-class":`${_(o).namespace.value}-popover`,"popper-style":_(u),teleported:v.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":v.hideAfter,persistent:v.persistent}),{content:$(()=>[O(_(by),{loop:"",trapped:"",onReleaseRequested:d},{default:$(()=>[K("div",{class:q(_(o).b())},[K("div",{class:q(_(o).e("main"))},[!v.hideIcon&&v.icon?(N(),de(_(zt),{key:0,class:q(_(o).e("icon")),style:Ot({color:v.iconColor})},{default:$(()=>[(N(),de(Vn(v.icon)))]),_:1},8,["class","style"])):ge("v-if",!0),Be(" "+Ne(v.title),1)],2),K("div",{class:q(_(o).e("action"))},[Ee(v.$slots,"actions",{confirm:c,cancel:f},()=>[O(_(Ea),{size:"small",type:v.cancelButtonType==="text"?"":v.cancelButtonType,text:v.cancelButtonType==="text",onClick:f},{default:$(()=>[Be(Ne(_(p)),1)]),_:1},8,["type","text"]),O(_(Ea),{size:"small",type:v.confirmButtonType==="text"?"":v.confirmButtonType,text:v.confirmButtonType==="text",onClick:c},{default:$(()=>[Be(Ne(_(h)),1)]),_:1},8,["type","text"])])],2)],2)]),_:3})]),default:$(()=>[v.$slots.reference?Ee(v.$slots,"reference",{key:0}):ge("v-if",!0)]),_:3},16,["effect","popper-class","popper-style","teleported","hide-after","persistent"]))}});var HYe=lt(zYe,[["__file","popconfirm.vue"]]);const jYe=kn(HYe),GYe=rt({trigger:vb.trigger,triggerKeys:vb.triggerKeys,placement:pk.placement,disabled:vb.disabled,visible:Ai.visible,transition:Ai.transition,popperOptions:pk.popperOptions,tabindex:pk.tabindex,content:Ai.content,popperStyle:Ai.popperStyle,popperClass:Ai.popperClass,enterable:{...Ai.enterable,default:!0},effect:{...Ai.effect,default:"light"},teleported:Ai.teleported,appendTo:Ai.appendTo,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),UYe={"update:visible":t=>ei(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},WYe="onUpdate:visible",qYe=ue({name:"ElPopover"}),KYe=ue({...qYe,props:GYe,emits:UYe,setup(t,{expose:e,emit:n}){const r=t,i=z(()=>r[WYe]),o=Ye("popover"),a=F(),s=z(()=>{var g;return(g=_(a))==null?void 0:g.popperRef}),l=z(()=>[{width:Qi(r.width)},r.popperStyle]),u=z(()=>[o.b(),r.popperClass,{[o.m("plain")]:!!r.content}]),c=z(()=>r.transition===`${o.namespace.value}-fade-in-linear`),f=()=>{var g;(g=a.value)==null||g.hide()},d=()=>{n("before-enter")},h=()=>{n("before-leave")},p=()=>{n("after-enter")},v=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:s,hide:f}),(g,m)=>(N(),de(_(ja),Fn({ref_key:"tooltipRef",ref:a},g.$attrs,{trigger:g.trigger,"trigger-keys":g.triggerKeys,placement:g.placement,disabled:g.disabled,visible:g.visible,transition:g.transition,"popper-options":g.popperOptions,tabindex:g.tabindex,content:g.content,offset:g.offset,"show-after":g.showAfter,"hide-after":g.hideAfter,"auto-close":g.autoClose,"show-arrow":g.showArrow,"aria-label":g.title,effect:g.effect,enterable:g.enterable,"popper-class":_(u),"popper-style":_(l),teleported:g.teleported,"append-to":g.appendTo,persistent:g.persistent,"gpu-acceleration":_(c),"onUpdate:visible":_(i),onBeforeShow:d,onBeforeHide:h,onShow:p,onHide:v}),{content:$(()=>[g.title?(N(),Q("div",{key:0,class:q(_(o).e("title")),role:"title"},Ne(g.title),3)):ge("v-if",!0),Ee(g.$slots,"default",{},()=>[Be(Ne(g.content),1)])]),default:$(()=>[g.$slots.reference?Ee(g.$slots,"reference",{key:0}):ge("v-if",!0)]),_:3},16,["trigger","trigger-keys","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","append-to","persistent","gpu-acceleration","onUpdate:visible"]))}});var YYe=lt(KYe,[["__file","popover.vue"]]);const KY=(t,e)=>{const n=e.arg||e.value,r=n?.popperRef;r&&(r.triggerRef=t)};var XYe={mounted(t,e){KY(t,e)},updated(t,e){KY(t,e)}};const ZYe="popover",lve=EFe(XYe,ZYe),JYe=kn(YYe,{directive:lve}),QYe=rt({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:me(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:me([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:me(Function),default:t=>`${t}%`}}),eXe=ue({name:"ElProgress"}),tXe=ue({...eXe,props:QYe,setup(t){const e=t,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=Ye("progress"),i=z(()=>{const b={width:`${e.percentage}%`,animationDuration:`${e.duration}s`},w=y(e.percentage);return w.includes("gradient")?b.background=w:b.backgroundColor=w,b}),o=z(()=>(e.strokeWidth/e.width*100).toFixed(1)),a=z(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(o.value)/2}`,10):0),s=z(()=>{const b=a.value,w=e.type==="dashboard";return`
          M 50 50
          m 0 ${w?"":"-"}${b}
          a ${b} ${b} 0 1 1 0 ${w?"-":""}${b*2}
          a ${b} ${b} 0 1 1 0 ${w?"":"-"}${b*2}
          `}),l=z(()=>2*Math.PI*a.value),u=z(()=>e.type==="dashboard"?.75:1),c=z(()=>`${-1*l.value*(1-u.value)/2}px`),f=z(()=>({strokeDasharray:`${l.value*u.value}px, ${l.value}px`,strokeDashoffset:c.value})),d=z(()=>({strokeDasharray:`${l.value*u.value*(e.percentage/100)}px, ${l.value}px`,strokeDashoffset:c.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=z(()=>{let b;return e.color?b=y(e.percentage):b=n[e.status]||n.default,b}),p=z(()=>e.status==="warning"?gI:e.type==="line"?e.status==="success"?xz:Mh:e.status==="success"?f2:Hu),v=z(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),g=z(()=>e.format(e.percentage));function m(b){const w=100/b.length;return b.map((x,C)=>Ht(x)?{color:x,percentage:(C+1)*w}:x).sort((x,C)=>x.percentage-C.percentage)}const y=b=>{var w;const{color:S}=e;if(qt(S))return S(b);if(Ht(S))return S;{const x=m(S);for(const C of x)if(C.percentage>b)return C.color;return(w=x[x.length-1])==null?void 0:w.color}};return(b,w)=>(N(),Q("div",{class:q([_(r).b(),_(r).m(b.type),_(r).is(b.status),{[_(r).m("without-text")]:!b.showText,[_(r).m("text-inside")]:b.textInside}]),role:"progressbar","aria-valuenow":b.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[b.type==="line"?(N(),Q("div",{key:0,class:q(_(r).b("bar"))},[K("div",{class:q(_(r).be("bar","outer")),style:Ot({height:`${b.strokeWidth}px`})},[K("div",{class:q([_(r).be("bar","inner"),{[_(r).bem("bar","inner","indeterminate")]:b.indeterminate},{[_(r).bem("bar","inner","striped")]:b.striped},{[_(r).bem("bar","inner","striped-flow")]:b.stripedFlow}]),style:Ot(_(i))},[(b.showText||b.$slots.default)&&b.textInside?(N(),Q("div",{key:0,class:q(_(r).be("bar","innerText"))},[Ee(b.$slots,"default",{percentage:b.percentage},()=>[K("span",null,Ne(_(g)),1)])],2)):ge("v-if",!0)],6)],6)],2)):(N(),Q("div",{key:1,class:q(_(r).b("circle")),style:Ot({height:`${b.width}px`,width:`${b.width}px`})},[(N(),Q("svg",{viewBox:"0 0 100 100"},[K("path",{class:q(_(r).be("circle","track")),d:_(s),stroke:`var(${_(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":b.strokeLinecap,"stroke-width":_(o),fill:"none",style:Ot(_(f))},null,14,["d","stroke","stroke-linecap","stroke-width"]),K("path",{class:q(_(r).be("circle","path")),d:_(s),stroke:_(h),fill:"none",opacity:b.percentage?1:0,"stroke-linecap":b.strokeLinecap,"stroke-width":_(o),style:Ot(_(d))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(b.showText||b.$slots.default)&&!b.textInside?(N(),Q("div",{key:2,class:q(_(r).e("text")),style:Ot({fontSize:`${_(v)}px`})},[Ee(b.$slots,"default",{percentage:b.percentage},()=>[b.status?(N(),de(_(zt),{key:1},{default:$(()=>[(N(),de(Vn(_(p))))]),_:1})):(N(),Q("span",{key:0},Ne(_(g)),1))])],6)):ge("v-if",!0)],10,["aria-valuenow"]))}});var nXe=lt(tXe,[["__file","progress.vue"]]);const uve=kn(nXe),rXe=rt({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:me([Array,Object]),default:()=>ji(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:me([Array,Object]),default:()=>[QE,QE,QE]},voidIcon:{type:Xr,default:()=>f5e},disabledVoidIcon:{type:Xr,default:()=>QE},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:me(Array),default:()=>ji(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:Ho,clearable:Boolean,...fs(["ariaLabel"])}),iXe={[tr]:t=>Zt(t),[_n]:t=>Zt(t)},oXe=ue({name:"ElRate"}),aXe=ue({...oXe,props:rXe,emits:iXe,setup(t,{expose:e,emit:n}){const r=t;function i(P,B){const j=Z=>Nn(Z),G=Object.keys(B).map(Z=>+Z).filter(Z=>{const ee=B[Z];return(j(ee)?ee.excluded:!1)?P<Z:P<=Z}).sort((Z,ee)=>Z-ee),W=B[G[0]];return j(W)&&W.value||W}const o=bt(yy,void 0),a=bt(Yf,void 0),s=Po(),l=Ye("rate"),{inputId:u,isLabeledByFormItem:c}=tu(r,{formItemContext:a}),f=F(r.modelValue),d=F(-1),h=F(!0),p=F([]),v=z(()=>p.value.map(P=>P.$el.clientWidth)),g=z(()=>[l.b(),l.m(s.value)]),m=z(()=>r.disabled||o?.disabled),y=z(()=>l.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":x.value})),b=z(()=>{let P="";return r.showScore?P=r.scoreTemplate.replace(/\{\s*value\s*\}/,m.value?`${r.modelValue}`:`${f.value}`):r.showText&&(P=r.texts[Math.ceil(f.value)-1]),P}),w=z(()=>r.modelValue*100-Math.floor(r.modelValue)*100),S=z(()=>tt(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),x=z(()=>{const P=i(f.value,S.value);return Nn(P)?"":P}),C=z(()=>{let P="";return m.value?P=`${w.value}%`:r.allowHalf&&(P="50%"),{color:x.value,width:P}}),E=z(()=>{let P=tt(r.icons)?[...r.icons]:{...r.icons};return P=Ff(P),tt(P)?{[r.lowThreshold]:P[0],[r.highThreshold]:{value:P[1],excluded:!0},[r.max]:P[2]}:P}),T=z(()=>i(r.modelValue,E.value)),A=z(()=>m.value?Ht(r.disabledVoidIcon)?r.disabledVoidIcon:Ff(r.disabledVoidIcon):Ht(r.voidIcon)?r.voidIcon:Ff(r.voidIcon)),k=z(()=>i(f.value,E.value));function M(P){const B=m.value&&w.value>0&&P-1<r.modelValue&&P>r.modelValue,j=r.allowHalf&&h.value&&P-.5<=f.value&&P>f.value;return B||j}function D(P){r.clearable&&P===r.modelValue&&(P=0),n(_n,P),r.modelValue!==P&&n(tr,P)}function L(P){m.value||(r.allowHalf&&h.value?D(f.value):D(P))}function I(P){if(m.value)return;const B=P.code,j=r.allowHalf?.5:1;let G=f.value;if(B===Ct.up||B===Ct.right?G+=j:(B===Ct.left||B===Ct.down)&&(G-=j),G=Xs(G,0,r.max),G!==f.value)return P.stopPropagation(),P.preventDefault(),n(_n,G),n(tr,G),G}function R(P,B){m.value||(r.allowHalf&&B?(h.value=B.offsetX*2<=v.value[P-1],f.value=h.value?P-.5:P):f.value=P,d.value=P)}function V(){m.value||(r.allowHalf&&(h.value=r.modelValue!==Math.floor(r.modelValue)),f.value=r.modelValue,d.value=-1)}return Le(()=>r.modelValue,P=>{f.value=P,h.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n(_n,0),e({setCurrentValue:R,resetCurrentValue:V}),(P,B)=>{var j;return N(),Q("div",{id:_(u),class:q([_(g),_(l).is("disabled",_(m))]),role:"slider","aria-label":_(c)?void 0:P.ariaLabel||"rating","aria-labelledby":_(c)?(j=_(a))==null?void 0:j.labelId:void 0,"aria-valuenow":f.value,"aria-valuetext":_(b)||void 0,"aria-valuemin":"0","aria-valuemax":P.max,tabindex:"0",style:Ot(_(y)),onKeydown:I},[(N(!0),Q(ft,null,gn(P.max,(G,W)=>(N(),Q("span",{key:W,class:q(_(l).e("item")),onMousemove:Z=>R(G,Z),onMouseleave:V,onClick:Z=>L(G)},[O(_(zt),{ref_for:!0,ref_key:"iconRefs",ref:p,class:q([_(l).e("icon"),{hover:d.value===G},_(l).is("active",G<=f.value),_(l).is("focus-visible",G===Math.ceil(f.value||1))])},{default:$(()=>[M(G)?(N(),Q(ft,{key:1},[(N(),de(Vn(_(A)),{class:q([_(l).em("decimal","box")])},null,8,["class"])),O(_(zt),{style:Ot(_(C)),class:q([_(l).e("icon"),_(l).e("decimal")])},{default:$(()=>[(N(),de(Vn(_(T))))]),_:1},8,["style","class"])],64)):(N(),Q(ft,{key:0},[An((N(),de(Vn(_(k)),null,null,512)),[[kr,G<=f.value]]),An((N(),de(Vn(_(A)),null,null,512)),[[kr,G>f.value]])],64))]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),P.showText||P.showScore?(N(),Q("span",{key:0,class:q(_(l).e("text")),style:Ot({color:P.textColor})},Ne(_(b)),7)):ge("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var sXe=lt(aXe,[["__file","rate.vue"]]);const lXe=kn(sXe),Fg={primary:"icon-primary",success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},YY={[Fg.primary]:sh,[Fg.success]:UFe,[Fg.warning]:gI,[Fg.error]:Cz,[Fg.info]:sh},uXe=rt({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["primary","success","warning","info","error"],default:"info"}}),cXe=ue({name:"ElResult"}),fXe=ue({...cXe,props:uXe,setup(t){const e=t,n=Ye("result"),r=z(()=>{const i=e.icon,o=i&&Fg[i]?Fg[i]:"icon-info",a=YY[o]||YY["icon-info"];return{class:o,component:a}});return(i,o)=>(N(),Q("div",{class:q(_(n).b())},[K("div",{class:q(_(n).e("icon"))},[Ee(i.$slots,"icon",{},()=>[_(r).component?(N(),de(Vn(_(r).component),{key:0,class:q(_(r).class)},null,8,["class"])):ge("v-if",!0)])],2),i.title||i.$slots.title?(N(),Q("div",{key:0,class:q(_(n).e("title"))},[Ee(i.$slots,"title",{},()=>[K("p",null,Ne(i.title),1)])],2)):ge("v-if",!0),i.subTitle||i.$slots["sub-title"]?(N(),Q("div",{key:1,class:q(_(n).e("subtitle"))},[Ee(i.$slots,"sub-title",{},()=>[K("p",null,Ne(i.subTitle),1)])],2)):ge("v-if",!0),i.$slots.extra?(N(),Q("div",{key:2,class:q(_(n).e("extra"))},[Ee(i.$slots,"extra")],2)):ge("v-if",!0)],2))}});var dXe=lt(fXe,[["__file","result.vue"]]);const hXe=kn(dXe),pXe=["start","center","end","space-around","space-between","space-evenly"],vXe=["top","middle","bottom"],gXe=rt({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:pXe,default:"start"},align:{type:String,values:vXe}}),mXe=ue({name:"ElRow"}),yXe=ue({...mXe,props:gXe,setup(t){const e=t,n=Ye("row"),r=z(()=>e.gutter);jn(cpe,{gutter:r});const i=z(()=>{const a={};return e.gutter&&(a.marginRight=a.marginLeft=`-${e.gutter/2}px`),a}),o=z(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,!!e.align)]);return(a,s)=>(N(),de(Vn(a.tag),{class:q(_(o)),style:Ot(_(i))},{default:$(()=>[Ee(a.$slots,"default")]),_:3},8,["class","style"]))}});var bXe=lt(yXe,[["__file","row.vue"]]);const _Xe=kn(bXe),wXe=ue({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:Ye("select")}}});function SXe(t,e,n,r,i,o){return N(),Q("div",{class:q(t.ns.be("group","title")),style:Ot({...t.style,lineHeight:`${t.height}px`})},Ne(t.item.label),7)}var xXe=lt(wXe,[["render",SXe],["__file","group-item.vue"]]);function CXe(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const EXe=rt({allowCreate:Boolean,autocomplete:{type:me(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Xr,default:Mh},effect:{type:me(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:{type:me(Function)},height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:me([Array,String,Number,Boolean,Object]),default:void 0},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:{type:me(Function)},reserveKeyword:{type:Boolean,default:!0},options:{type:me(Array),required:!0},placeholder:{type:String},teleported:Ai.teleported,persistent:{type:Boolean,default:!0},popperClass:Ai.popperClass,popperStyle:Ai.popperStyle,popperOptions:{type:me(Object),default:()=>({})},remote:Boolean,size:Ho,props:{type:me(Object),default:()=>yH},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:me(String),values:Oh,default:"bottom-start"},fallbackPlacements:{type:me(Array),default:["bottom-start","top-start","right","left"]},tagType:{...uh.type,default:"info"},tagEffect:{...uh.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:Ai.appendTo,fitInputWidth:{type:[Boolean,Number],default:!0,validator(t){return ei(t)||Zt(t)}},suffixIcon:{type:Xr,default:sd},...my,...fs(["ariaLabel"])}),TXe=rt({data:Array,disabled:Boolean,hovering:Boolean,item:{type:me(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),AXe={[_n]:t=>!0,[tr]:t=>!0,"remove-tag":t=>!0,"visible-change":t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0},kXe={hover:t=>Zt(t),select:(t,e)=>!0},xH=Symbol("ElSelectV2Injection"),MXe=ue({props:TXe,emits:kXe,setup(t,{emit:e}){const n=bt(xH),r=Ye("select"),{hoverItem:i,selectOptionClick:o}=CXe(t,{emit:e}),{getLabel:a}=b2(n.props);return{ns:r,hoverItem:i,selectOptionClick:o,getLabel:a}}});function PXe(t,e,n,r,i,o){return N(),Q("li",{"aria-selected":t.selected,style:Ot(t.style),class:q([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMousemove:t.hoverItem,onClick:an(t.selectOptionClick,["stop"])},[Ee(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[K("span",null,Ne(t.getLabel(t.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var OXe=lt(MXe,[["render",PXe],["__file","option-item.vue"]]),XY=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function IXe(t,e){return!!(t===e||XY(t)&&XY(e))}function RXe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!IXe(t[n],e[n]))return!1;return!0}function LXe(t,e){e===void 0&&(e=RXe);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var a=t.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}const cve=()=>{const e=Un().proxy.$props;return z(()=>{const n=(r,i,o)=>({});return e.perfMode?sI(n):LXe(n)})},PF=50,jM="itemRendered",GM="scroll",Y0="forward",UM="backward",Ou="auto",kI="smart",Vx="start",Of="center",zx="end",Jb="horizontal",CH="vertical",DXe="ltr",gb="rtl",Hx="negative",EH="positive-ascending",TH="positive-descending",NXe={[Jb]:"left",[CH]:"top"},BXe=20,$Xe={[Jb]:"deltaX",[CH]:"deltaY"},FXe=({atEndEdge:t,atStartEdge:e,layout:n},r)=>{let i,o=0;const a=l=>l<0&&e.value||l>0&&t.value;return{hasReachedEdge:a,onWheel:l=>{Nm(i);const u=l[$Xe[n.value]];a(o)&&a(o+u)||(o+=u,Lz()||l.preventDefault(),i=ev(()=>{r(o),o=0}))}}},OF=Uc({type:me([Number,Function]),required:!0}),IF=Uc({type:Number}),RF=Uc({type:Number,default:2}),VXe=Uc({type:String,values:["ltr","rtl"],default:"ltr"}),LF=Uc({type:Number,default:0}),WM=Uc({type:Number,required:!0}),fve=Uc({type:String,values:["horizontal","vertical"],default:CH}),dve=rt({className:{type:String,default:""},containerElement:{type:me([String,Object]),default:"div"},data:{type:me(Array),default:()=>ji([])},direction:VXe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:me([Object,String,Array])},useIsScrolling:Boolean,width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),hve=rt({cache:RF,estimatedItemSize:IF,layout:fve,initScrollOffset:LF,total:WM,itemSize:OF,...dve}),DF={type:Number,default:6},pve={type:Number,default:0},vve={type:Number,default:2},gm=rt({columnCache:RF,columnWidth:OF,estimatedColumnWidth:IF,estimatedRowHeight:IF,initScrollLeft:LF,initScrollTop:LF,itemKey:{type:me(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:RF,rowHeight:OF,totalColumn:WM,totalRow:WM,hScrollbarSize:DF,vScrollbarSize:DF,scrollbarStartGap:pve,scrollbarEndGap:vve,role:String,...dve}),gve=rt({alwaysOn:Boolean,class:String,layout:fve,total:WM,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:DF,startGap:pve,endGap:vve,visible:Boolean}),Xg=(t,e)=>t<e?Y0:UM,jx=t=>t===DXe||t===gb||t===Jb,ZY=t=>t===gb;let n0=null;function qM(t=!1){if(n0===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?n0=TH:(e.scrollLeft=1,e.scrollLeft===0?n0=Hx:n0=EH),document.body.removeChild(e),n0}return n0}function zXe({move:t,size:e,bar:n},r){const i={},o=`translate${n.axis}(${t}px)`;return i[n.size]=e,i.transform=o,r==="horizontal"?i.height="100%":i.width="100%",i}const NF=ue({name:"ElVirtualScrollBar",props:gve,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=z(()=>t.startGap+t.endGap),r=Ye("virtual-scrollbar"),i=Ye("scrollbar"),o=F(),a=F();let s=null,l=null;const u=Bn({isDragging:!1,traveled:0}),c=z(()=>ohe[t.layout]),f=z(()=>t.clientSize-_(n)),d=z(()=>({position:"absolute",width:`${Jb===t.layout?f.value:t.scrollbarSize}px`,height:`${Jb===t.layout?t.scrollbarSize:f.value}px`,[NXe[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),h=z(()=>{const x=t.ratio;if(x>=100)return Number.POSITIVE_INFINITY;if(x>=50)return x*f.value/100;const C=f.value/3;return Math.floor(Math.min(Math.max(x*f.value/100,BXe),C))}),p=z(()=>{if(!Number.isFinite(h.value))return{display:"none"};const x=`${h.value}px`;return zXe({bar:c.value,size:x,move:u.traveled},t.layout)}),v=z(()=>Math.ceil(t.clientSize-h.value-_(n))),g=()=>{window.addEventListener("mousemove",w),window.addEventListener("mouseup",b);const x=_(a);x&&(l=document.onselectstart,document.onselectstart=()=>!1,x.addEventListener("touchmove",w,{passive:!0}),x.addEventListener("touchend",b))},m=()=>{window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",b),document.onselectstart=l,l=null;const x=_(a);x&&(x.removeEventListener("touchmove",w),x.removeEventListener("touchend",b))},y=x=>{x.stopImmediatePropagation(),!(x.ctrlKey||[1,2].includes(x.button))&&(u.isDragging=!0,u[c.value.axis]=x.currentTarget[c.value.offset]-(x[c.value.client]-x.currentTarget.getBoundingClientRect()[c.value.direction]),e("start-move"),g())},b=()=>{u.isDragging=!1,u[c.value.axis]=0,e("stop-move"),m()},w=x=>{const{isDragging:C}=u;if(!C||!a.value||!o.value)return;const E=u[c.value.axis];if(!E)return;Nm(s);const T=(o.value.getBoundingClientRect()[c.value.direction]-x[c.value.client])*-1,A=a.value[c.value.offset]-E,k=T-A;s=ev(()=>{u.traveled=Math.max(0,Math.min(k,v.value)),e("scroll",k,v.value)})},S=x=>{const C=Math.abs(x.target.getBoundingClientRect()[c.value.direction]-x[c.value.client]),E=a.value[c.value.offset]/2,T=C-E;u.traveled=Math.max(0,Math.min(T,v.value)),e("scroll",T,v.value)};return Le(()=>t.scrollFrom,x=>{u.isDragging||(u.traveled=Math.ceil(x*v.value))}),ur(()=>{m()}),()=>Rt("div",{role:"presentation",ref:o,class:[r.b(),t.class,(t.alwaysOn||u.isDragging)&&"always-on"],style:d.value,onMousedown:an(S,["stop","prevent"]),onTouchstartPrevent:y},Rt("div",{ref:a,class:i.e("thumb"),style:p.value,onMousedown:y},[]))}}),mve=({name:t,getOffset:e,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:i,getStartIndexForOffset:o,getStopIndexForStartIndex:a,initCache:s,clearCache:l,validateProps:u})=>ue({name:t??"ElVirtualList",props:hve,emits:[jM,GM],setup(c,{emit:f,expose:d}){u(c);const h=Un(),p=Ye("vl"),v=F(s(c,h)),g=cve(),m=F(),y=F(),b=F(),w=F({isScrolling:!1,scrollDir:"forward",scrollOffset:Zt(c.initScrollOffset)?c.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:c.scrollbarAlwaysOn}),S=z(()=>{const{total:Z,cache:ee}=c,{isScrolling:oe,scrollDir:ce,scrollOffset:X}=_(w);if(Z===0)return[0,0,0,0];const H=o(c,X,_(v)),U=a(c,H,X,_(v)),ne=!oe||ce===UM?Math.max(1,ee):1,J=!oe||ce===Y0?Math.max(1,ee):1;return[Math.max(0,H-ne),Math.max(0,Math.min(Z-1,U+J)),H,U]}),x=z(()=>i(c,_(v))),C=z(()=>jx(c.layout)),E=z(()=>[{position:"relative",[`overflow-${C.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:c.direction,height:Zt(c.height)?`${c.height}px`:c.height,width:Zt(c.width)?`${c.width}px`:c.width},c.style]),T=z(()=>{const Z=_(x),ee=_(C);return{height:ee?"100%":`${Z}px`,pointerEvents:_(w).isScrolling?"none":void 0,width:ee?`${Z}px`:"100%"}}),A=z(()=>C.value?c.width:c.height),{onWheel:k}=FXe({atStartEdge:z(()=>w.value.scrollOffset<=0),atEndEdge:z(()=>w.value.scrollOffset>=x.value),layout:z(()=>c.layout)},Z=>{var ee,oe;(oe=(ee=b.value).onMouseUp)==null||oe.call(ee),V(Math.min(w.value.scrollOffset+Z,x.value-A.value))});Lr(m,"wheel",k,{passive:!1});const M=()=>{const{total:Z}=c;if(Z>0){const[X,H,U,ne]=_(S);f(jM,X,H,U,ne)}const{scrollDir:ee,scrollOffset:oe,updateRequested:ce}=_(w);f(GM,ee,oe,ce)},D=Z=>{const{clientHeight:ee,scrollHeight:oe,scrollTop:ce}=Z.currentTarget,X=_(w);if(X.scrollOffset===ce)return;const H=Math.max(0,Math.min(ce,oe-ee));w.value={...X,isScrolling:!0,scrollDir:Xg(X.scrollOffset,H),scrollOffset:H,updateRequested:!1},Pt(j)},L=Z=>{const{clientWidth:ee,scrollLeft:oe,scrollWidth:ce}=Z.currentTarget,X=_(w);if(X.scrollOffset===oe)return;const{direction:H}=c;let U=oe;if(H===gb)switch(qM()){case Hx:{U=-oe;break}case TH:{U=ce-ee-oe;break}}U=Math.max(0,Math.min(U,ce-ee)),w.value={...X,isScrolling:!0,scrollDir:Xg(X.scrollOffset,U),scrollOffset:U,updateRequested:!1},Pt(j)},I=Z=>{_(C)?L(Z):D(Z),M()},R=(Z,ee)=>{const oe=(x.value-A.value)/ee*Z;V(Math.min(x.value-A.value,oe))},V=Z=>{Z=Math.max(Z,0),Z!==_(w).scrollOffset&&(w.value={..._(w),scrollOffset:Z,scrollDir:Xg(_(w).scrollOffset,Z),updateRequested:!0},Pt(j))},P=(Z,ee=Ou)=>{const{scrollOffset:oe}=_(w);Z=Math.max(0,Math.min(Z,c.total-1)),V(e(c,Z,ee,oe,_(v)))},B=Z=>{const{direction:ee,itemSize:oe,layout:ce}=c,X=g.value(l&&oe,l&&ce,l&&ee);let H;if(Rr(X,String(Z)))H=X[Z];else{const U=r(c,Z,_(v)),ne=n(c,Z,_(v)),J=_(C),Y=ee===gb,se=J?U:0;X[Z]=H={position:"absolute",left:Y?void 0:`${se}px`,right:Y?`${se}px`:void 0,top:J?0:`${U}px`,height:J?"100%":`${ne}px`,width:J?`${ne}px`:"100%"}}return H},j=()=>{w.value.isScrolling=!1,Pt(()=>{g.value(-1,null,null)})},G=()=>{const Z=m.value;Z&&(Z.scrollTop=0)};Jt(()=>{if(!Ar)return;const{initScrollOffset:Z}=c,ee=_(m);Zt(Z)&&ee&&(_(C)?ee.scrollLeft=Z:ee.scrollTop=Z),M()}),Hc(()=>{const{direction:Z,layout:ee}=c,{scrollOffset:oe,updateRequested:ce}=_(w),X=_(m);if(ce&&X)if(ee===Jb)if(Z===gb)switch(qM()){case Hx:{X.scrollLeft=-oe;break}case EH:{X.scrollLeft=oe;break}default:{const{clientWidth:H,scrollWidth:U}=X;X.scrollLeft=U-H-oe;break}}else X.scrollLeft=oe;else X.scrollTop=oe}),YO(()=>{_(m).scrollTop=_(w).scrollOffset});const W={ns:p,clientSize:A,estimatedTotalSize:x,windowStyle:E,windowRef:m,innerRef:y,innerStyle:T,itemsToRender:S,scrollbarRef:b,states:w,getItemStyle:B,onScroll:I,onScrollbarScroll:R,onWheel:k,scrollTo:V,scrollToItem:P,resetScrollTop:G};return d({windowRef:m,innerRef:y,getItemStyleCache:g,scrollTo:V,scrollToItem:P,resetScrollTop:G,states:w}),W},render(c){var f;const{$slots:d,className:h,clientSize:p,containerElement:v,data:g,getItemStyle:m,innerElement:y,itemsToRender:b,innerStyle:w,layout:S,total:x,onScroll:C,onScrollbarScroll:E,states:T,useIsScrolling:A,windowStyle:k,ns:M}=c,[D,L]=b,I=Vn(v),R=Vn(y),V=[];if(x>0)for(let G=D;G<=L;G++)V.push(Rt(ft,{key:G},(f=d.default)==null?void 0:f.call(d,{data:g,index:G,isScrolling:A?T.isScrolling:void 0,style:m(G)})));const P=[Rt(R,{style:w,ref:"innerRef"},Ht(R)?V:{default:()=>V})],B=Rt(NF,{ref:"scrollbarRef",clientSize:p,layout:S,onScroll:E,ratio:p*100/this.estimatedTotalSize,scrollFrom:T.scrollOffset/(this.estimatedTotalSize-p),total:x,alwaysOn:T.scrollbarAlwaysOn}),j=Rt(I,{class:[M.e("window"),h],style:k,onScroll:C,ref:"windowRef",key:0},Ht(I)?[P]:{default:()=>[P]});return Rt("div",{key:0,class:[M.e("wrapper"),T.scrollbarAlwaysOn?"always-on":""]},[j,B])}}),yve=mve({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:r,width:i},o,a,s)=>{const l=jx(r)?i:t,u=Math.max(0,e*n-l),c=Math.min(u,o*n),f=Math.max(0,(o+1)*n-l);switch(a===kI&&(s>=f-l&&s<=c+l?a=Ou:a=Of),a){case Vx:return c;case zx:return f;case Of:{const d=Math.round(f+(c-f)/2);return d<Math.ceil(l/2)?0:d>u+Math.floor(l/2)?u:d}case Ou:default:return s>=f&&s<=c?s:s<f?f:c}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:r,width:i},o,a)=>{const s=o*n,l=jx(r)?i:t,u=Math.ceil((l+a-s)/n);return Math.max(0,Math.min(e-1,o+u-1))},initCache(){},clearCache:!0,validateProps(){}}),X0=(t,e,n)=>{const{itemSize:r}=t,{items:i,lastVisitedIndex:o}=n;if(e>o){let a=0;if(o>=0){const s=i[o];a=s.offset+s.size}for(let s=o+1;s<=e;s++){const l=r(s);i[s]={offset:a,size:l},a+=l}n.lastVisitedIndex=e}return i[e]},HXe=(t,e,n)=>{const{items:r,lastVisitedIndex:i}=e;return(i>0?r[i].offset:0)>=n?bve(t,e,0,i,n):jXe(t,e,Math.max(0,i),n)},bve=(t,e,n,r,i)=>{for(;n<=r;){const o=n+Math.floor((r-n)/2),a=X0(t,o,e).offset;if(a===i)return o;a<i?n=o+1:a>i&&(r=o-1)}return Math.max(0,n-1)},jXe=(t,e,n,r)=>{const{total:i}=t;let o=1;for(;n<i&&X0(t,n,e).offset<r;)n+=o,o*=2;return bve(t,e,Math.floor(n/2),Math.min(n,i-1),r)},JY=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:r})=>{let i=0;if(r>=t&&(r=t-1),r>=0){const s=e[r];i=s.offset+s.size}const a=(t-r-1)*n;return i+a},GXe=mve({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>X0(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:JY,getOffset:(t,e,n,r,i)=>{const{height:o,layout:a,width:s}=t,l=jx(a)?s:o,u=X0(t,e,i),c=JY(t,i),f=Math.max(0,Math.min(c-l,u.offset)),d=Math.max(0,u.offset-l+u.size);switch(n===kI&&(r>=d-l&&r<=f+l?n=Ou:n=Of),n){case Vx:return f;case zx:return d;case Of:return Math.round(d+(f-d)/2);case Ou:default:return r>=d&&r<=f?r:r<d?d:f}},getStartIndexForOffset:(t,e,n)=>HXe(t,n,e),getStopIndexForStartIndex:(t,e,n,r)=>{const{height:i,total:o,layout:a,width:s}=t,l=jx(a)?s:i,u=X0(t,e,r),c=n+l;let f=u.offset+u.size,d=e;for(;d<o-1&&f<c;)d++,f+=X0(t,d,r).size;return d},initCache({estimatedItemSize:t=PF},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,i=!0)=>{var o,a;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(o=e.exposed)==null||o.getItemStyleCache(-1),i&&((a=e.proxy)==null||a.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),UXe={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var WXe=ue({name:"ElSelectDropdown",props:UXe,setup(t,{slots:e,expose:n}){const r=bt(xH),i=Ye("select"),{getLabel:o,getValue:a,getDisabled:s}=b2(r.props),l=F([]),u=F(),c=z(()=>t.data.length);Le(()=>c.value,()=>{var k,M;(M=(k=r.tooltipRef.value)==null?void 0:k.updatePopper)==null||M.call(k)});const f=z(()=>gr(r.props.estimatedOptionHeight)),d=z(()=>f.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:k=>l.value[k]}),h=(k=[],M)=>{const{props:{valueKey:D}}=r;return Nn(M)?k&&k.some(L=>pi(bo(L,D))===bo(M,D)):k.includes(M)},p=(k,M)=>{if(Nn(M)){const{valueKey:D}=r.props;return bo(k,D)===bo(M,D)}else return k===M},v=(k,M)=>r.props.multiple?h(k,a(M)):p(k,a(M)),g=(k,M)=>{const{disabled:D,multiple:L,multipleLimit:I}=r.props;return D||!M&&(L?I>0&&k.length>=I:!1)},m=k=>t.hoveringIndex===k;n({listRef:u,isSized:f,isItemDisabled:g,isItemHovering:m,isItemSelected:v,scrollToItem:k=>{const M=u.value;M&&M.scrollToItem(k)},resetScrollTop:()=>{const k=u.value;k&&k.resetScrollTop()}});const S=k=>{const{index:M,data:D,style:L}=k,I=_(f),{itemSize:R,estimatedSize:V}=_(d),{modelValue:P}=r.props,{onSelect:B,onHover:j}=r,G=D[M];if(G.type==="Group")return O(xXe,{item:G,style:L,height:I?R:V},null);const W=v(P,G),Z=g(P,W),ee=m(M);return O(OXe,Fn(k,{selected:W,disabled:s(G)||Z,created:!!G.created,hovering:ee,item:G,onSelect:B,onHover:j}),{default:oe=>{var ce;return((ce=e.default)==null?void 0:ce.call(e,oe))||O("span",null,[o(G)])}})},{onKeyboardNavigate:x,onKeyboardSelect:C}=r,E=()=>{x("forward")},T=()=>{x("backward")},A=k=>{const{code:M}=k,{tab:D,esc:L,down:I,up:R,enter:V,numpadEnter:P}=Ct;switch([L,I,R,V,P].includes(M)&&(k.preventDefault(),k.stopPropagation()),M){case D:case L:break;case I:E();break;case R:T();break;case V:case P:C();break}};return()=>{var k,M,D,L;const{data:I,width:R}=t,{height:V,multiple:P,scrollbarAlwaysOn:B}=r.props,j=z(()=>OM?!0:B),G=_(f)?yve:GXe;return O("div",{class:[i.b("dropdown"),i.is("multiple",P)],style:{width:`${R}px`}},[(k=e.header)==null?void 0:k.call(e),((M=e.loading)==null?void 0:M.call(e))||((D=e.empty)==null?void 0:D.call(e))||O(G,Fn({ref:u},_(d),{className:i.be("dropdown","list"),scrollbarAlwaysOn:j.value,data:I,height:V,width:R,total:I.length,onKeydown:A}),{default:W=>O(S,W,null)}),(L=e.footer)==null?void 0:L.call(e)])}}});function qXe(t,e){const{aliasProps:n,getLabel:r,getValue:i}=b2(t),o=F(0),a=F(),s=z(()=>t.allowCreate&&t.filterable);Le(()=>t.options,h=>{const p=new Set(h.map(v=>r(v)));e.createdOptions=e.createdOptions.filter(v=>!p.has(r(v)))});function l(h){const p=v=>r(v)===h;return t.options&&t.options.some(p)||e.createdOptions.some(p)}function u(h){s.value&&(t.multiple&&h.created?o.value++:a.value=h)}function c(h){if(s.value)if(h&&h.length>0){if(l(h)){e.createdOptions=e.createdOptions.filter(v=>r(v)!==e.previousQuery);return}const p={[n.value.value]:h,[n.value.label]:h,created:!0,[n.value.disabled]:!1};e.createdOptions.length>=o.value?e.createdOptions[o.value]=p:e.createdOptions.push(p)}else if(t.multiple)e.createdOptions.length=o.value;else{const p=a.value;e.createdOptions.length=0,p&&p.created&&e.createdOptions.push(p)}}function f(h){if(!s.value||!h||!h.created||h.created&&t.reserveKeyword&&e.inputValue===r(h))return;const p=e.createdOptions.findIndex(v=>i(v)===i(h));~p&&(e.createdOptions.splice(p,1),o.value--)}function d(){s.value&&(e.createdOptions.length=0,o.value=0)}return{createNewOption:c,removeNewOption:f,selectNewOption:u,clearAllNewOption:d}}const KXe=(t,e)=>{const{t:n}=Cr(),r=Ye("select"),i=Ye("input"),{form:o,formItem:a}=Ua(),{inputId:s}=tu(t,{formItemContext:a}),{aliasProps:l,getLabel:u,getValue:c,getDisabled:f,getOptions:d}=b2(t),{valueOnClear:h,isEmptyValue:p}=c2(t),v=Bn({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),g=F(-1),m=F(),y=F(),b=F(),w=F(),S=F(),x=F(),C=F(),E=F(),T=F(),A=F(),{isComposing:k,handleCompositionStart:M,handleCompositionEnd:D,handleCompositionUpdate:L}=p2({afterComposition:vt=>Ns(vt)}),I=z(()=>t.disabled||!!o?.disabled),{wrapperRef:R,isFocused:V,handleBlur:P}=Ph(S,{disabled:I,afterFocus(){t.automaticDropdown&&!W.value&&(W.value=!0,v.menuVisibleOnFocus=!0)},beforeBlur(vt){var hn,rr;return((hn=b.value)==null?void 0:hn.isFocusInsideContent(vt))||((rr=w.value)==null?void 0:rr.isFocusInsideContent(vt))},afterBlur(){var vt;W.value=!1,v.menuVisibleOnFocus=!1,t.validateEvent&&((vt=a?.validate)==null||vt.call(a,"blur").catch(hn=>void 0))}}),B=z(()=>ye("")),j=z(()=>t.loading?!1:t.options.length>0||v.createdOptions.length>0),G=F([]),W=F(!1),Z=z(()=>{var vt;return(vt=o?.statusIcon)!=null?vt:!1}),ee=z(()=>{const vt=G.value.length*t.itemHeight;return vt>t.height?t.height:vt}),oe=z(()=>t.multiple?tt(t.modelValue)&&t.modelValue.length>0:!p(t.modelValue)),ce=z(()=>t.clearable&&!I.value&&oe.value&&(V.value||v.inputHovering)),X=z(()=>t.remote&&t.filterable?"":t.suffixIcon),H=z(()=>X.value&&r.is("reverse",W.value)),U=z(()=>a?.validateState||""),ne=z(()=>{if(U.value)return mI[U.value]}),J=z(()=>t.remote?300:0),Y=z(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!v.inputValue&&!j.value?!1:t.filterable&&v.inputValue&&j.value&&G.value.length===0?t.noMatchText||n("el.select.noMatch"):j.value?null:t.noDataText||n("el.select.noData")),se=z(()=>t.filterable&&qt(t.filterMethod)),he=z(()=>t.filterable&&t.remote&&qt(t.remoteMethod)),ye=vt=>{const hn=new RegExp(bH(vt),"i"),rr=Tr=>se.value||he.value?!0:vt?hn.test(u(Tr)||""):!0;return t.loading?[]:[...v.createdOptions,...t.options].reduce((Tr,Wo)=>{const iu=d(Wo);if(tt(iu)){const Fv=iu.filter(rr);Fv.length>0&&Tr.push({label:u(Wo),type:"Group"},...Fv)}else(t.remote||rr(Wo))&&Tr.push(Wo);return Tr},[])},_e=()=>{G.value=ye(v.inputValue)},fe=z(()=>{const vt=new Map;return B.value.forEach((hn,rr)=>{vt.set(ut(c(hn)),{option:hn,index:rr})}),vt}),Ce=z(()=>{const vt=new Map;return G.value.forEach((hn,rr)=>{vt.set(ut(c(hn)),{option:hn,index:rr})}),vt}),Oe=z(()=>G.value.every(vt=>f(vt))),Ue=Po(),qe=z(()=>Ue.value==="small"?"small":"default"),ze=()=>{var vt;if(Zt(t.fitInputWidth)){g.value=t.fitInputWidth;return}const hn=((vt=m.value)==null?void 0:vt.offsetWidth)||200;!t.fitInputWidth&&j.value?Pt(()=>{g.value=Math.max(hn,ae())}):g.value=hn},ae=()=>{var vt,hn;const Tr=document.createElement("canvas").getContext("2d"),Wo=r.be("dropdown","item"),Fv=(((hn=(vt=E.value)==null?void 0:vt.listRef)==null?void 0:hn.innerRef)||document).querySelector(`.${Wo}`);if(Fv===null||Tr===null)return 0;const Ly=getComputedStyle(Fv),pL=Number.parseFloat(Ly.paddingLeft)+Number.parseFloat(Ly.paddingRight);return Tr.font=`bold ${Ly.font.replace(new RegExp(`\\b${Ly.fontWeight}\\b`),"")}`,G.value.reduce((vL,gL)=>{const mL=Tr.measureText(u(gL));return Math.max(mL.width,vL)},0)+pL},Fe=()=>{if(!y.value)return 0;const vt=window.getComputedStyle(y.value);return Number.parseFloat(vt.gap||"6px")},We=z(()=>{const vt=Fe(),hn=t.filterable?vt+pH:0;return{maxWidth:`${A.value&&t.maxCollapseTags===1?v.selectionWidth-v.collapseItemWidth-vt-hn:v.selectionWidth-hn}px`}}),dn=z(()=>({maxWidth:`${v.selectionWidth}px`})),At=z(()=>tt(t.modelValue)?t.modelValue.length===0&&!v.inputValue:t.filterable?!v.inputValue:!0),$e=z(()=>{var vt;const hn=(vt=t.placeholder)!=null?vt:n("el.select.placeholder");return t.multiple||!oe.value?hn:v.selectedLabel}),Kt=z(()=>{var vt,hn;return(hn=(vt=b.value)==null?void 0:vt.popperRef)==null?void 0:hn.contentRef}),Kn=z(()=>{if(t.multiple){const vt=t.modelValue.length;if(t.modelValue.length>0&&Ce.value.has(t.modelValue[vt-1])){const{index:hn}=Ce.value.get(t.modelValue[vt-1]);return hn}}else if(!p(t.modelValue)&&Ce.value.has(t.modelValue)){const{index:vt}=Ce.value.get(t.modelValue);return vt}return-1}),$t=z({get(){return W.value&&Y.value!==!1},set(vt){W.value=vt}}),wn=z(()=>t.multiple?t.collapseTags?v.cachedOptions.slice(0,t.maxCollapseTags):v.cachedOptions:[]),$n=z(()=>t.multiple?t.collapseTags?v.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:je,removeNewOption:mt,selectNewOption:re,clearAllNewOption:le}=qXe(t,v),Ae=()=>{I.value||(v.menuVisibleOnFocus?v.menuVisibleOnFocus=!1:W.value=!W.value)},Qe=()=>{v.inputValue.length>0&&!W.value&&(W.value=!0),je(v.inputValue),Pt(()=>{Nt(v.inputValue)})},ct=rl(Qe,J.value),Nt=vt=>{v.previousQuery===vt||k.value||(v.previousQuery=vt,t.filterable&&qt(t.filterMethod)?t.filterMethod(vt):t.filterable&&t.remote&&qt(t.remoteMethod)&&t.remoteMethod(vt),t.defaultFirstOption&&(t.filterable||t.remote)&&G.value.length?Pt(zn):Pt(ga))},zn=()=>{const vt=G.value.filter(Tr=>!Tr.disabled&&Tr.type!=="Group"),hn=vt.find(Tr=>Tr.created),rr=vt[0];v.hoveringIndex=Er(G.value,hn||rr)},li=vt=>{Ei(t.modelValue,vt)||e(tr,vt)},sr=vt=>{e(_n,vt),li(vt),v.previousValue=t.multiple?String(vt):vt,Pt(()=>{if(t.multiple&&tt(t.modelValue)){const hn=v.cachedOptions.slice(),rr=t.modelValue.map(Tr=>vd(Tr,hn));Ei(v.cachedOptions,rr)||(v.cachedOptions=rr)}else Ry(!0)})},Er=(vt=[],hn)=>{if(!Nn(hn))return vt.indexOf(hn);const rr=t.valueKey;let Tr=-1;return vt.some((Wo,iu)=>bo(Wo,rr)===bo(hn,rr)?(Tr=iu,!0):!1),Tr},ut=vt=>Nn(vt)?bo(vt,t.valueKey):vt,In=()=>{ze()},Tn=()=>{v.selectionWidth=Number.parseFloat(window.getComputedStyle(y.value).width)},to=()=>{v.collapseItemWidth=A.value.getBoundingClientRect().width},Uo=()=>{var vt,hn;(hn=(vt=b.value)==null?void 0:vt.updatePopper)==null||hn.call(vt)},va=()=>{var vt,hn;(hn=(vt=w.value)==null?void 0:vt.updatePopper)==null||hn.call(vt)},hs=vt=>{if(t.multiple){let hn=t.modelValue.slice();const rr=Er(hn,c(vt));rr>-1?(hn=[...hn.slice(0,rr),...hn.slice(rr+1)],v.cachedOptions.splice(rr,1),mt(vt)):(t.multipleLimit<=0||hn.length<t.multipleLimit)&&(hn=[...hn,c(vt)],v.cachedOptions.push(vt),re(vt)),sr(hn),vt.created&&Nt(""),t.filterable&&!t.reserveKeyword&&(v.inputValue="")}else v.selectedLabel=u(vt),sr(c(vt)),W.value=!1,re(vt),vt.created||le();Bi()},Bt=(vt,hn)=>{let rr=t.modelValue.slice();const Tr=Er(rr,c(hn));Tr>-1&&!I.value&&(rr=[...t.modelValue.slice(0,Tr),...t.modelValue.slice(Tr+1)],v.cachedOptions.splice(Tr,1),sr(rr),e("remove-tag",c(hn)),mt(hn)),vt.stopPropagation(),Bi()},Bi=()=>{var vt;(vt=S.value)==null||vt.focus()},hd=()=>{var vt;if(W.value){W.value=!1,Pt(()=>{var hn;return(hn=S.value)==null?void 0:hn.blur()});return}(vt=S.value)==null||vt.blur()},Qc=()=>{v.inputValue.length>0?v.inputValue="":W.value=!1},pd=vt=>fde(vt,hn=>!v.cachedOptions.some(rr=>c(rr)===hn&&f(rr))),Ti=vt=>{if(t.multiple&&vt.code!==Ct.delete&&v.inputValue.length===0){vt.preventDefault();const hn=t.modelValue.slice(),rr=pd(hn);if(rr<0)return;const Tr=hn[rr];hn.splice(rr,1);const Wo=v.cachedOptions[rr];v.cachedOptions.splice(rr,1),mt(Wo),sr(hn),e("remove-tag",Tr)}},pt=()=>{let vt;tt(t.modelValue)?vt=[]:vt=h.value,v.selectedLabel="",W.value=!1,sr(vt),e("clear"),le(),Bi()},mn=(vt,hn=void 0)=>{const rr=G.value;if(!["forward","backward"].includes(vt)||I.value||rr.length<=0||Oe.value||k.value)return;if(!W.value)return Ae();gr(hn)&&(hn=v.hoveringIndex);let Tr=-1;vt==="forward"?(Tr=hn+1,Tr>=rr.length&&(Tr=0)):vt==="backward"&&(Tr=hn-1,(Tr<0||Tr>=rr.length)&&(Tr=rr.length-1));const Wo=rr[Tr];if(f(Wo)||Wo.type==="Group")return mn(vt,Tr);v.hoveringIndex=Tr,Bs(Tr)},Nr=()=>{if(W.value)~v.hoveringIndex&&G.value[v.hoveringIndex]&&hs(G.value[v.hoveringIndex]);else return Ae()},no=vt=>{v.hoveringIndex=vt??-1},ga=()=>{t.multiple?v.hoveringIndex=G.value.findIndex(vt=>t.modelValue.some(hn=>ut(hn)===ut(c(vt)))):v.hoveringIndex=G.value.findIndex(vt=>ut(c(vt))===ut(t.modelValue))},Ns=vt=>{if(v.inputValue=vt.target.value,t.remote)ct();else return Qe()},oa=vt=>{if(W.value=!1,V.value){const hn=new FocusEvent("blur",vt);P(hn)}},Rl=()=>(v.isBeforeHide=!1,Pt(()=>{~Kn.value&&Bs(v.hoveringIndex)})),Bs=vt=>{E.value.scrollToItem(vt)},vd=(vt,hn)=>{const rr=ut(vt);if(fe.value.has(rr)){const{option:Tr}=fe.value.get(rr);return Tr}if(hn&&hn.length){const Tr=hn.find(Wo=>ut(c(Wo))===rr);if(Tr)return Tr}return{[l.value.value]:vt,[l.value.label]:vt}},hL=vt=>{var hn,rr;return(rr=(hn=fe.value.get(c(vt)))==null?void 0:hn.index)!=null?rr:-1},Ry=(vt=!1)=>{if(t.multiple)if(t.modelValue.length>0){const hn=v.cachedOptions.slice();v.cachedOptions.length=0,v.previousValue=t.modelValue.toString();for(const rr of t.modelValue){const Tr=vd(rr,hn);v.cachedOptions.push(Tr)}}else v.cachedOptions=[],v.previousValue=void 0;else if(oe.value){v.previousValue=t.modelValue;const hn=G.value,rr=hn.findIndex(Tr=>ut(c(Tr))===ut(t.modelValue));~rr?v.selectedLabel=u(hn[rr]):(!v.selectedLabel||vt)&&(v.selectedLabel=ut(t.modelValue))}else v.selectedLabel="",v.previousValue=void 0;le(),ze()};return Le(()=>t.fitInputWidth,()=>{ze()}),Le(W,vt=>{vt?(t.persistent||ze(),Nt("")):(v.inputValue="",v.previousQuery=null,v.isBeforeHide=!0,je("")),e("visible-change",vt)}),Le(()=>t.modelValue,(vt,hn)=>{var rr;(!vt||tt(vt)&&vt.length===0||t.multiple&&!Ei(vt.toString(),v.previousValue)||!t.multiple&&ut(vt)!==ut(v.previousValue))&&Ry(!0),!Ei(vt,hn)&&t.validateEvent&&((rr=a?.validate)==null||rr.call(a,"change").catch(Wo=>void 0))},{deep:!0}),Le(()=>t.options,()=>{const vt=S.value;(!vt||vt&&document.activeElement!==vt)&&Ry()},{deep:!0,flush:"post"}),Le(()=>G.value,()=>(ze(),E.value&&Pt(E.value.resetScrollTop))),is(()=>{v.isBeforeHide||_e()}),is(()=>{const{valueKey:vt,options:hn}=t,rr=new Map;for(const Tr of hn){const Wo=c(Tr);let iu=Wo;if(Nn(iu)&&(iu=bo(Wo,vt)),rr.get(iu))break;rr.set(iu,!0)}}),Jt(()=>{Ry()}),Di(m,In),Di(y,Tn),Di(E,Uo),Di(R,Uo),Di(T,va),Di(A,to),{inputId:s,collapseTagSize:qe,currentPlaceholder:$e,expanded:W,emptyText:Y,popupHeight:ee,debounce:J,allOptions:B,allOptionsValueMap:fe,filteredOptions:G,iconComponent:X,iconReverse:H,tagStyle:We,collapseTagStyle:dn,popperSize:g,dropdownMenuVisible:$t,hasModelValue:oe,shouldShowPlaceholder:At,selectDisabled:I,selectSize:Ue,needStatusIcon:Z,showClearBtn:ce,states:v,isFocused:V,nsSelect:r,nsInput:i,inputRef:S,menuRef:E,tagMenuRef:T,tooltipRef:b,tagTooltipRef:w,selectRef:m,wrapperRef:R,selectionRef:y,prefixRef:x,suffixRef:C,collapseItemRef:A,popperRef:Kt,validateState:U,validateIcon:ne,showTagList:wn,collapseTagList:$n,debouncedOnInputChange:ct,deleteTag:Bt,getLabel:u,getValue:c,getDisabled:f,getValueKey:ut,getIndex:hL,handleClear:pt,handleClickOutside:oa,handleDel:Ti,handleEsc:Qc,focus:Bi,blur:hd,handleMenuEnter:Rl,handleResize:In,resetSelectionWidth:Tn,updateTooltip:Uo,updateTagTooltip:va,updateOptions:_e,toggleMenu:Ae,scrollTo:Bs,onInput:Ns,onKeyboardNavigate:mn,onKeyboardSelect:Nr,onSelect:hs,onHover:no,handleCompositionStart:M,handleCompositionEnd:D,handleCompositionUpdate:L}},YXe=ue({name:"ElSelectV2",components:{ElSelectMenu:WXe,ElTag:Up,ElTooltip:ja,ElIcon:zt},directives:{ClickOutside:ch},props:EXe,emits:AXe,setup(t,{emit:e}){const n=z(()=>{const{modelValue:s,multiple:l}=t,u=l?[]:void 0;return tt(s)?l?s:u:l?u:s}),r=KXe(Bn({...zo(t),modelValue:n}),e),{calculatorRef:i,inputStyle:o}=vH();jn(xH,{props:Bn({...zo(t),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const a=z(()=>t.multiple?r.states.cachedOptions.map(s=>s.label):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:a,calculatorRef:i,inputStyle:o,BORDER_HORIZONTAL_WIDTH:tve}}});function XXe(t,e,n,r,i,o){const a=pe("el-tag"),s=pe("el-tooltip"),l=pe("el-icon"),u=pe("el-select-menu"),c=n2("click-outside");return An((N(),Q("div",{ref:"selectRef",class:q([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:f=>t.states.inputHovering=!0,onMouseleave:f=>t.states.inputHovering=!1},[O(s,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-style":t.popperStyle,"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:f=>t.states.isBeforeHide=!1},{default:$(()=>{var f,d;return[K("div",{ref:"wrapperRef",class:q([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:an(t.toggleMenu,["prevent"])},[t.$slots.prefix?(N(),Q("div",{key:0,ref:"prefixRef",class:q(t.nsSelect.e("prefix"))},[Ee(t.$slots,"prefix")],2)):ge("v-if",!0),K("div",{ref:"selectionRef",class:q([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?Ee(t.$slots,"tag",{key:0,data:t.states.cachedOptions,deleteTag:t.deleteTag,selectDisabled:t.selectDisabled},()=>[(N(!0),Q(ft,null,gn(t.showTagList,h=>(N(),Q("div",{key:t.getValueKey(t.getValue(h)),class:q(t.nsSelect.e("selected-item"))},[O(a,{closable:!t.selectDisabled&&!t.getDisabled(h),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:Ot(t.tagStyle),onClose:p=>t.deleteTag(p,h)},{default:$(()=>[K("span",{class:q(t.nsSelect.e("tags-text"))},[Ee(t.$slots,"label",{index:t.getIndex(h),label:t.getLabel(h),value:t.getValue(h)},()=>[Be(Ne(t.getLabel(h)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(N(),de(s,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom","popper-class":t.popperClass,"popper-style":t.popperStyle,teleported:t.teleported},{default:$(()=>[K("div",{ref:"collapseItemRef",class:q(t.nsSelect.e("selected-item"))},[O(a,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,style:Ot(t.collapseTagStyle),"disable-transitions":""},{default:$(()=>[K("span",{class:q(t.nsSelect.e("tags-text"))}," + "+Ne(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:$(()=>[K("div",{ref:"tagMenuRef",class:q(t.nsSelect.e("selection"))},[(N(!0),Q(ft,null,gn(t.collapseTagList,h=>(N(),Q("div",{key:t.getValueKey(t.getValue(h)),class:q(t.nsSelect.e("selected-item"))},[O(a,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(h),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:p=>t.deleteTag(p,h)},{default:$(()=>[K("span",{class:q(t.nsSelect.e("tags-text"))},[Ee(t.$slots,"label",{index:t.getIndex(h),label:t.getLabel(h),value:t.getValue(h)},()=>[Be(Ne(t.getLabel(h)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):ge("v-if",!0)]):ge("v-if",!0),K("div",{class:q([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[An(K("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":h=>t.states.inputValue=h,style:Ot(t.inputStyle),autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:q([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onInput:t.onInput,onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onKeydown:[hi(an(h=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),hi(an(h=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),hi(an(t.onKeyboardSelect,["stop","prevent"]),["enter"]),hi(an(t.handleEsc,["stop","prevent"]),["esc"]),hi(an(t.handleDel,["stop"]),["delete"])],onClick:an(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[hm,t.states.inputValue]]),t.filterable?(N(),Q("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:q(t.nsSelect.e("input-calculator")),textContent:Ne(t.states.inputValue)},null,10,["textContent"])):ge("v-if",!0)],2),t.shouldShowPlaceholder?(N(),Q("div",{key:1,class:q([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?Ee(t.$slots,"label",{key:0,index:(d=(f=t.allOptionsValueMap.get(t.modelValue))==null?void 0:f.index)!=null?d:-1,label:t.currentPlaceholder,value:t.modelValue},()=>[K("span",null,Ne(t.currentPlaceholder),1)]):(N(),Q("span",{key:1},Ne(t.currentPlaceholder),1))],2)):ge("v-if",!0)],2),K("div",{ref:"suffixRef",class:q(t.nsSelect.e("suffix"))},[t.iconComponent?An((N(),de(l,{key:0,class:q([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:$(()=>[(N(),de(Vn(t.iconComponent)))]),_:1},8,["class"])),[[kr,!t.showClearBtn]]):ge("v-if",!0),t.showClearBtn&&t.clearIcon?(N(),de(l,{key:1,class:q([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.nsSelect.e("clear")]),onClick:an(t.handleClear,["prevent","stop"])},{default:$(()=>[(N(),de(Vn(t.clearIcon)))]),_:1},8,["class","onClick"])):ge("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(N(),de(l,{key:2,class:q([t.nsInput.e("icon"),t.nsInput.e("validateIcon"),t.nsInput.is("loading",t.validateState==="validating")])},{default:$(()=>[(N(),de(Vn(t.validateIcon)))]),_:1},8,["class"])):ge("v-if",!0)],2)],10,["onClick"])]}),content:$(()=>[O(u,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize-t.BORDER_HORIZONTAL_WIDTH,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},Ml({default:$(f=>[Ee(t.$slots,"default",Sl(Wf(f)))]),_:2},[t.$slots.header?{name:"header",fn:$(()=>[K("div",{class:q(t.nsSelect.be("dropdown","header")),onClick:an(()=>{},["stop"])},[Ee(t.$slots,"header")],10,["onClick"])])}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:$(()=>[K("div",{class:q(t.nsSelect.be("dropdown","loading"))},[Ee(t.$slots,"loading")],2)])}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:$(()=>[K("div",{class:q(t.nsSelect.be("dropdown","empty"))},[Ee(t.$slots,"empty",{},()=>[K("span",null,Ne(t.emptyText),1)])],2)])}:void 0,t.$slots.footer?{name:"footer",fn:$(()=>[K("div",{class:q(t.nsSelect.be("dropdown","footer")),onClick:an(()=>{},["stop"])},[Ee(t.$slots,"footer")],10,["onClick"])])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[c,t.handleClickOutside,t.popperRef]])}var ZXe=lt(YXe,[["render",XXe],["__file","select.vue"]]);const JXe=kn(ZXe),QXe=rt({animated:Boolean,count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:me([Number,Object])}}),eZe=rt({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),tZe=ue({name:"ElSkeletonItem"}),nZe=ue({...tZe,props:eZe,setup(t){const e=Ye("skeleton");return(n,r)=>(N(),Q("div",{class:q([_(e).e("item"),_(e).e(n.variant)])},[n.variant==="image"?(N(),de(_(Kde),{key:0})):ge("v-if",!0)],2))}});var KM=lt(nZe,[["__file","skeleton-item.vue"]]);const rZe=(t,e=0)=>{if(e===0)return t;const n=Nn(e)&&!!e.initVal,r=F(n);let i=null;const o=s=>{if(gr(s)){r.value=t.value;return}i&&clearTimeout(i),i=setTimeout(()=>{r.value=t.value},s)},a=s=>{s==="leading"?Zt(e)?o(e):o(e.leading):Nn(e)?o(e.trailing):r.value=!1};return Jt(()=>a("leading")),Le(()=>t.value,s=>{a(s?"leading":"trailing")}),r},iZe=ue({name:"ElSkeleton"}),oZe=ue({...iZe,props:QXe,setup(t,{expose:e}){const n=t,r=Ye("skeleton"),i=rZe(Hr(n,"loading"),n.throttle);return e({uiLoading:i}),(o,a)=>_(i)?(N(),Q("div",Fn({key:0,class:[_(r).b(),_(r).is("animated",o.animated)]},o.$attrs),[(N(!0),Q(ft,null,gn(o.count,s=>(N(),Q(ft,{key:s},[_(i)?Ee(o.$slots,"template",{key:s},()=>[O(KM,{class:q(_(r).is("first")),variant:"p"},null,8,["class"]),(N(!0),Q(ft,null,gn(o.rows,l=>(N(),de(KM,{key:l,class:q([_(r).e("paragraph"),_(r).is("last",l===o.rows&&o.rows>1)]),variant:"p"},null,8,["class"]))),128))]):ge("v-if",!0)],64))),128))],16)):Ee(o.$slots,"default",Sl(Fn({key:1},o.$attrs)))}});var aZe=lt(oZe,[["__file","skeleton.vue"]]);const sZe=kn(aZe,{SkeletonItem:KM}),lZe=Wi(KM),_ve=Symbol("sliderContextKey"),uZe=rt({modelValue:{type:me([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Ho,inputSize:Ho,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:me(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:me(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Oh,default:"top"},marks:{type:me(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...fs(["ariaLabel"])}),zD=t=>Zt(t)||tt(t)&&t.every(Zt),cZe={[_n]:zD,[Fo]:zD,[tr]:zD},fZe=rt({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Oh,default:"top"}}),dZe={[_n]:t=>Zt(t)},hZe=(t,e,n)=>{const r=F(),i=F(!1),o=z(()=>e.value instanceof Function),a=z(()=>o.value&&e.value(t.modelValue)||t.modelValue),s=rl(()=>{n.value&&(i.value=!0)},50),l=rl(()=>{n.value&&(i.value=!1)},50);return{tooltip:r,tooltipVisible:i,formatValue:a,displayTooltip:s,hideTooltip:l}},pZe=(t,e,n)=>{const{disabled:r,min:i,max:o,step:a,showTooltip:s,persistent:l,precision:u,sliderSize:c,formatTooltip:f,emitChange:d,resetSize:h,updateDragging:p}=bt(_ve),{tooltip:v,tooltipVisible:g,formatValue:m,displayTooltip:y,hideTooltip:b}=hZe(t,f,s),w=F(),S=z(()=>`${(t.modelValue-i.value)/(o.value-i.value)*100}%`),x=z(()=>t.vertical?{bottom:S.value}:{left:S.value}),C=()=>{e.hovering=!0,y()},E=()=>{e.hovering=!1,e.dragging||b()},T=Z=>{r.value||(Z.preventDefault(),B(Z),window.addEventListener("mousemove",j),window.addEventListener("touchmove",j),window.addEventListener("mouseup",G),window.addEventListener("touchend",G),window.addEventListener("contextmenu",G),w.value.focus())},A=Z=>{r.value||(e.newPosition=Number.parseFloat(S.value)+Z/(o.value-i.value)*100,W(e.newPosition),d())},k=()=>{A(-a.value)},M=()=>{A(a.value)},D=()=>{A(-a.value*4)},L=()=>{A(a.value*4)},I=()=>{r.value||(W(0),d())},R=()=>{r.value||(W(100),d())},V=Z=>{let ee=!0;switch(Z.code){case Ct.left:case Ct.down:k();break;case Ct.right:case Ct.up:M();break;case Ct.home:I();break;case Ct.end:R();break;case Ct.pageDown:D();break;case Ct.pageUp:L();break;default:ee=!1;break}ee&&Z.preventDefault()},P=Z=>{let ee,oe;return Z.type.startsWith("touch")?(oe=Z.touches[0].clientY,ee=Z.touches[0].clientX):(oe=Z.clientY,ee=Z.clientX),{clientX:ee,clientY:oe}},B=Z=>{e.dragging=!0,e.isClick=!0;const{clientX:ee,clientY:oe}=P(Z);t.vertical?e.startY=oe:e.startX=ee,e.startPosition=Number.parseFloat(S.value),e.newPosition=e.startPosition},j=Z=>{if(e.dragging){e.isClick=!1,y(),h();let ee;const{clientX:oe,clientY:ce}=P(Z);t.vertical?(e.currentY=ce,ee=(e.startY-e.currentY)/c.value*100):(e.currentX=oe,ee=(e.currentX-e.startX)/c.value*100),e.newPosition=e.startPosition+ee,W(e.newPosition)}},G=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||b(),e.isClick||W(e.newPosition),d()},0),window.removeEventListener("mousemove",j),window.removeEventListener("touchmove",j),window.removeEventListener("mouseup",G),window.removeEventListener("touchend",G),window.removeEventListener("contextmenu",G))},W=async Z=>{if(Z===null||Number.isNaN(+Z))return;Z<0?Z=0:Z>100&&(Z=100);const ee=100/((o.value-i.value)/a.value);let ce=Math.round(Z/ee)*ee*(o.value-i.value)*.01+i.value;ce=Number.parseFloat(ce.toFixed(u.value)),ce!==t.modelValue&&n(_n,ce),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await Pt(),e.dragging&&y(),v.value.updatePopper()};return Le(()=>e.dragging,Z=>{p(Z)}),Lr(w,"touchstart",T,{passive:!1}),{disabled:r,button:w,tooltip:v,tooltipVisible:g,showTooltip:s,persistent:l,wrapperStyle:x,formatValue:m,handleMouseEnter:C,handleMouseLeave:E,onButtonDown:T,onKeyDown:V,setPosition:W}},vZe=ue({name:"ElSliderButton"}),gZe=ue({...vZe,props:fZe,emits:dZe,setup(t,{expose:e,emit:n}){const r=t,i=Ye("slider"),o=Bn({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),a=z(()=>c.value?f.value:!1),{disabled:s,button:l,tooltip:u,showTooltip:c,persistent:f,tooltipVisible:d,wrapperStyle:h,formatValue:p,handleMouseEnter:v,handleMouseLeave:g,onButtonDown:m,onKeyDown:y,setPosition:b}=pZe(r,o,n),{hovering:w,dragging:S}=zo(o);return e({onButtonDown:m,onKeyDown:y,setPosition:b,hovering:w,dragging:S}),(x,C)=>(N(),Q("div",{ref_key:"button",ref:l,class:q([_(i).e("button-wrapper"),{hover:_(w),dragging:_(S)}]),style:Ot(_(h)),tabindex:_(s)?-1:0,onMouseenter:_(v),onMouseleave:_(g),onMousedown:_(m),onFocus:_(v),onBlur:_(g),onKeydown:_(y)},[O(_(ja),{ref_key:"tooltip",ref:u,visible:_(d),placement:x.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":x.tooltipClass,disabled:!_(c),persistent:_(a)},{content:$(()=>[K("span",null,Ne(_(p)),1)]),default:$(()=>[K("div",{class:q([_(i).e("button"),{hover:_(w),dragging:_(S)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var QY=lt(gZe,[["__file","button.vue"]]);const mZe=rt({mark:{type:me([String,Object]),default:void 0}});var yZe=ue({name:"ElSliderMarker",props:mZe,setup(t){const e=Ye("slider"),n=z(()=>Ht(t.mark)?t.mark:t.mark.label),r=z(()=>Ht(t.mark)?void 0:t.mark.style);return()=>Rt("div",{class:e.e("marks-text"),style:r.value},n.value)}});const bZe=(t,e,n)=>{const{form:r,formItem:i}=Ua(),o=bi(),a=F(),s=F(),l={firstButton:a,secondButton:s},u=z(()=>t.disabled||r?.disabled||!1),c=z(()=>Math.min(e.firstValue,e.secondValue)),f=z(()=>Math.max(e.firstValue,e.secondValue)),d=z(()=>t.range?`${100*(f.value-c.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),h=z(()=>t.range?`${100*(c.value-t.min)/(t.max-t.min)}%`:"0%"),p=z(()=>t.vertical?{height:t.height}:{}),v=z(()=>t.vertical?{height:d.value,bottom:h.value}:{width:d.value,left:h.value}),g=()=>{if(o.value){const M=o.value.getBoundingClientRect();e.sliderSize=M[t.vertical?"height":"width"]}},m=M=>{const D=t.min+M*(t.max-t.min)/100;if(!t.range)return a;let L;return Math.abs(c.value-D)<Math.abs(f.value-D)?L=e.firstValue<e.secondValue?"firstButton":"secondButton":L=e.firstValue>e.secondValue?"firstButton":"secondButton",l[L]},y=M=>{const D=m(M);return D.value.setPosition(M),D},b=M=>{e.firstValue=M??t.min,S(t.range?[c.value,f.value]:M??t.min)},w=M=>{e.secondValue=M,t.range&&S([c.value,f.value])},S=M=>{n(_n,M),n(Fo,M)},x=async()=>{await Pt(),n(tr,t.range?[c.value,f.value]:t.modelValue)},C=M=>{var D,L,I,R,V,P;if(u.value||e.dragging)return;g();let B=0;if(t.vertical){const j=(I=(L=(D=M.touches)==null?void 0:D.item(0))==null?void 0:L.clientY)!=null?I:M.clientY;B=(o.value.getBoundingClientRect().bottom-j)/e.sliderSize*100}else{const j=(P=(V=(R=M.touches)==null?void 0:R.item(0))==null?void 0:V.clientX)!=null?P:M.clientX,G=o.value.getBoundingClientRect().left;B=(j-G)/e.sliderSize*100}if(!(B<0||B>100))return y(B)};return{elFormItem:i,slider:o,firstButton:a,secondButton:s,sliderDisabled:u,minValue:c,maxValue:f,runwayStyle:p,barStyle:v,resetSize:g,setPosition:y,emitChange:x,onSliderWrapperPrevent:M=>{var D,L;((D=l.firstButton.value)!=null&&D.dragging||(L=l.secondButton.value)!=null&&L.dragging)&&M.preventDefault()},onSliderClick:M=>{C(M)&&x()},onSliderDown:async M=>{const D=C(M);D&&(await Pt(),D.value.onButtonDown(M))},onSliderMarkerDown:M=>{if(u.value||e.dragging)return;y(M)&&x()},setFirstValue:b,setSecondValue:w}},_Ze=(t,e,n,r)=>({stops:z(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const a=(t.max-t.min)/t.step,s=100*t.step/(t.max-t.min),l=Array.from({length:a-1}).map((u,c)=>(c+1)*s);return t.range?l.filter(u=>u<100*(n.value-t.min)/(t.max-t.min)||u>100*(r.value-t.min)/(t.max-t.min)):l.filter(u=>u>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:a=>t.vertical?{bottom:`${a}%`}:{left:`${a}%`}}),wZe=t=>z(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),SZe=(t,e,n,r,i,o)=>{const a=u=>{i(_n,u),i(Fo,u)},s=()=>t.range?![n.value,r.value].every((u,c)=>u===e.oldValue[c]):t.modelValue!==e.oldValue,l=()=>{var u,c;t.min>t.max&&xo("Slider","min should not be greater than max.");const f=t.modelValue;t.range&&tt(f)?f[1]<t.min?a([t.min,t.min]):f[0]>t.max?a([t.max,t.max]):f[0]<t.min?a([t.min,f[1]]):f[1]>t.max?a([f[0],t.max]):(e.firstValue=f[0],e.secondValue=f[1],s()&&(t.validateEvent&&((u=o?.validate)==null||u.call(o,"change").catch(d=>void 0)),e.oldValue=f.slice())):!t.range&&Zt(f)&&!Number.isNaN(f)&&(f<t.min?a(t.min):f>t.max?a(t.max):(e.firstValue=f,s()&&(t.validateEvent&&((c=o?.validate)==null||c.call(o,"change").catch(d=>void 0)),e.oldValue=f)))};l(),Le(()=>e.dragging,u=>{u||l()}),Le(()=>t.modelValue,(u,c)=>{e.dragging||tt(u)&&tt(c)&&u.every((f,d)=>f===c[d])&&e.firstValue===u[0]&&e.secondValue===u[1]||l()},{deep:!0}),Le(()=>[t.min,t.max],()=>{l()})},xZe=(t,e,n)=>{const r=F();return Jt(async()=>{t.range?(tt(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(!Zt(t.modelValue)||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),Lr(window,"resize",n),await Pt(),n()}),{sliderWrapper:r}},CZe=ue({name:"ElSlider"}),EZe=ue({...CZe,props:uZe,emits:cZe,setup(t,{expose:e,emit:n}){const r=t,i=Ye("slider"),{t:o}=Cr(),a=Bn({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:s,slider:l,firstButton:u,secondButton:c,sliderDisabled:f,minValue:d,maxValue:h,runwayStyle:p,barStyle:v,resetSize:g,emitChange:m,onSliderWrapperPrevent:y,onSliderClick:b,onSliderDown:w,onSliderMarkerDown:S,setFirstValue:x,setSecondValue:C}=bZe(r,a,n),{stops:E,getStopStyle:T}=_Ze(r,a,d,h),{inputId:A,isLabeledByFormItem:k}=tu(r,{formItemContext:s}),M=Po(),D=z(()=>r.inputSize||M.value),L=z(()=>r.ariaLabel||o("el.slider.defaultLabel",{min:r.min,max:r.max})),I=z(()=>r.range?r.rangeStartLabel||o("el.slider.defaultRangeStartLabel"):L.value),R=z(()=>r.formatValueText?r.formatValueText(Z.value):`${Z.value}`),V=z(()=>r.rangeEndLabel||o("el.slider.defaultRangeEndLabel")),P=z(()=>r.formatValueText?r.formatValueText(ee.value):`${ee.value}`),B=z(()=>[i.b(),i.m(M.value),i.is("vertical",r.vertical),{[i.m("with-input")]:r.showInput}]),j=wZe(r);SZe(r,a,d,h,n,s);const G=z(()=>{const X=[r.min,r.max,r.step].map(H=>{const U=`${H}`.split(".")[1];return U?U.length:0});return Math.max.apply(null,X)}),{sliderWrapper:W}=xZe(r,a,g),{firstValue:Z,secondValue:ee,sliderSize:oe}=zo(a),ce=X=>{a.dragging=X};return Lr(W,"touchstart",y,{passive:!1}),Lr(W,"touchmove",y,{passive:!1}),jn(_ve,{...zo(r),sliderSize:oe,disabled:f,precision:G,emitChange:m,resetSize:g,updateDragging:ce}),e({onSliderClick:b}),(X,H)=>{var U,ne;return N(),Q("div",{id:X.range?_(A):void 0,ref_key:"sliderWrapper",ref:W,class:q(_(B)),role:X.range?"group":void 0,"aria-label":X.range&&!_(k)?_(L):void 0,"aria-labelledby":X.range&&_(k)?(U=_(s))==null?void 0:U.labelId:void 0},[K("div",{ref_key:"slider",ref:l,class:q([_(i).e("runway"),{"show-input":X.showInput&&!X.range},_(i).is("disabled",_(f))]),style:Ot(_(p)),onMousedown:_(w),onTouchstartPassive:_(w)},[K("div",{class:q(_(i).e("bar")),style:Ot(_(v))},null,6),O(QY,{id:X.range?void 0:_(A),ref_key:"firstButton",ref:u,"model-value":_(Z),vertical:X.vertical,"tooltip-class":X.tooltipClass,placement:X.placement,role:"slider","aria-label":X.range||!_(k)?_(I):void 0,"aria-labelledby":!X.range&&_(k)?(ne=_(s))==null?void 0:ne.labelId:void 0,"aria-valuemin":X.min,"aria-valuemax":X.range?_(ee):X.max,"aria-valuenow":_(Z),"aria-valuetext":_(R),"aria-orientation":X.vertical?"vertical":"horizontal","aria-disabled":_(f),"onUpdate:modelValue":_(x)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),X.range?(N(),de(QY,{key:0,ref_key:"secondButton",ref:c,"model-value":_(ee),vertical:X.vertical,"tooltip-class":X.tooltipClass,placement:X.placement,role:"slider","aria-label":_(V),"aria-valuemin":_(Z),"aria-valuemax":X.max,"aria-valuenow":_(ee),"aria-valuetext":_(P),"aria-orientation":X.vertical?"vertical":"horizontal","aria-disabled":_(f),"onUpdate:modelValue":_(C)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):ge("v-if",!0),X.showStops?(N(),Q("div",{key:1},[(N(!0),Q(ft,null,gn(_(E),(J,Y)=>(N(),Q("div",{key:Y,class:q(_(i).e("stop")),style:Ot(_(T)(J))},null,6))),128))])):ge("v-if",!0),_(j).length>0?(N(),Q(ft,{key:2},[K("div",null,[(N(!0),Q(ft,null,gn(_(j),(J,Y)=>(N(),Q("div",{key:Y,style:Ot(_(T)(J.position)),class:q([_(i).e("stop"),_(i).e("marks-stop")])},null,6))),128))]),K("div",{class:q(_(i).e("marks"))},[(N(!0),Q(ft,null,gn(_(j),(J,Y)=>(N(),de(_(yZe),{key:Y,mark:J.mark,style:Ot(_(T)(J.position)),onMousedown:an(se=>_(S)(J.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):ge("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),X.showInput&&!X.range?(N(),de(_(eve),{key:0,ref:"input","model-value":_(Z),class:q(_(i).e("input")),step:X.step,disabled:_(f),controls:X.showInputControls,min:X.min,max:X.max,precision:_(G),debounce:X.debounce,size:_(D),"onUpdate:modelValue":_(x),onChange:_(m)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):ge("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var TZe=lt(EZe,[["__file","slider.vue"]]);const AZe=kn(TZe),kZe=rt({prefixCls:{type:String}}),eX=ue({name:"ElSpaceItem",props:kZe,setup(t,{slots:e}){const n=Ye("space"),r=z(()=>`${t.prefixCls||n.b()}__item`);return()=>Rt("div",{class:r.value},Ee(e,"default"))}}),tX={small:8,default:12,large:16};function MZe(t){const e=Ye("space"),n=z(()=>[e.b(),e.m(t.direction),t.class]),r=F(0),i=F(0),o=z(()=>{const s=t.wrap||t.fill?{flexWrap:"wrap"}:{},l={alignItems:t.alignment},u={rowGap:`${i.value}px`,columnGap:`${r.value}px`};return[s,l,u,t.style]}),a=z(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return is(()=>{const{size:s="small",wrap:l,direction:u,fill:c}=t;if(tt(s)){const[f=0,d=0]=s;r.value=f,i.value=d}else{let f;Zt(s)?f=s:f=tX[s||"small"]||tX.small,(l||c)&&u==="horizontal"?r.value=i.value=f:u==="horizontal"?(r.value=f,i.value=0):(i.value=f,r.value=0)}}),{classes:n,containerStyle:o,itemStyle:a}}const PZe=rt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:me([String,Object,Array]),default:""},style:{type:me([String,Array,Object]),default:""},alignment:{type:me(String),default:"center"},prefixCls:{type:String},spacer:{type:me([Object,String,Number,Array]),default:null,validator:t=>wi(t)||Zt(t)||Ht(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:ad,validator:t=>Zt(t)||tt(t)&&t.length===2&&t.every(Zt)}}),OZe=ue({name:"ElSpace",props:PZe,setup(t,{slots:e}){const{classes:n,containerStyle:r,itemStyle:i}=MZe(t);function o(a,s="",l=[]){const{prefixCls:u}=t;return a.forEach((c,f)=>{vF(c)?tt(c.children)&&c.children.forEach((d,h)=>{vF(d)&&tt(d.children)?o(d.children,`${s+h}-`,l):wi(d)&&d?.type===yo?l.push(d):l.push(O(eX,{style:i.value,prefixCls:u,key:`nested-${s+h}`},{default:()=>[d]},yu.PROPS|yu.STYLE,["style","prefixCls"]))}):rje(c)&&l.push(O(eX,{style:i.value,prefixCls:u,key:`LoopKey${s+f}`},{default:()=>[c]},yu.PROPS|yu.STYLE,["style","prefixCls"]))}),l}return()=>{var a;const{spacer:s,direction:l}=t,u=Ee(e,"default",{key:0},()=>[]);if(((a=u.children)!=null?a:[]).length===0)return null;if(tt(u.children)){let c=o(u.children);if(s){const f=c.length-1;c=c.reduce((d,h,p)=>{const v=[...d,h];return p!==f&&v.push(O("span",{style:[i.value,l==="vertical"?"width: 100%":null],key:p},[wi(s)?s:Be(s,yu.TEXT)],yu.STYLE)),v},[])}return O("div",{class:n.value,style:r.value},c,yu.STYLE|yu.CLASS)}return u.children}}}),IZe=kn(OZe),RZe=rt({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:me([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:me([String,Object,Array])}}),LZe=ue({name:"ElStatistic"}),DZe=ue({...LZe,props:RZe,setup(t,{expose:e}){const n=t,r=Ye("statistic"),i=z(()=>{const{value:o,formatter:a,precision:s,decimalSeparator:l,groupSeparator:u}=n;if(qt(a))return a(o);if(!Zt(o)||Number.isNaN(o))return o;let[c,f=""]=String(o).split(".");return f=f.padEnd(s,"0").slice(0,s>0?s:0),c=c.replace(/\B(?=(\d{3})+(?!\d))/g,u),[c,f].join(f?l:"")});return e({displayValue:i}),(o,a)=>(N(),Q("div",{class:q(_(r).b())},[o.$slots.title||o.title?(N(),Q("div",{key:0,class:q(_(r).e("head"))},[Ee(o.$slots,"title",{},()=>[Be(Ne(o.title),1)])],2)):ge("v-if",!0),K("div",{class:q(_(r).e("content"))},[o.$slots.prefix||o.prefix?(N(),Q("div",{key:0,class:q(_(r).e("prefix"))},[Ee(o.$slots,"prefix",{},()=>[K("span",null,Ne(o.prefix),1)])],2)):ge("v-if",!0),K("span",{class:q(_(r).e("number")),style:Ot(o.valueStyle)},Ne(_(i)),7),o.$slots.suffix||o.suffix?(N(),Q("div",{key:1,class:q(_(r).e("suffix"))},[Ee(o.$slots,"suffix",{},()=>[K("span",null,Ne(o.suffix),1)])],2)):ge("v-if",!0)],2)],2))}});var NZe=lt(DZe,[["__file","statistic.vue"]]);const wve=kn(NZe),BZe=rt({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:me([Number,Object]),default:0},valueStyle:{type:me([String,Object,Array])}}),$Ze={finish:()=>!0,[tr]:t=>Zt(t)},FZe=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],nX=t=>Zt(t)?new Date(t).getTime():t.valueOf(),rX=(t,e)=>{let n=t;const r=/\[([^\]]*)]/g;return FZe.reduce((o,[a,s])=>{const l=new RegExp(`${a}+(?![^\\[\\]]*\\])`,"g");if(l.test(o)){const u=Math.floor(n/s);return n-=u*s,o.replace(l,c=>String(u).padStart(c.length,"0"))}return o},e).replace(r,"$1")},VZe=ue({name:"ElCountdown"}),zZe=ue({...VZe,props:BZe,emits:$Ze,setup(t,{expose:e,emit:n}){const r=t;let i;const o=F(0),a=z(()=>rX(o.value,r.format)),s=c=>rX(c,r.format),l=()=>{i&&(Nm(i),i=void 0)},u=()=>{const c=nX(r.value),f=()=>{let d=c-Date.now();n(tr,d),d<=0?(d=0,l(),n("finish")):i=ev(f),o.value=d};i=ev(f)};return Jt(()=>{o.value=nX(r.value)-Date.now(),Le(()=>[r.value,r.format],()=>{l(),u()},{immediate:!0})}),ur(()=>{l()}),e({displayValue:a}),(c,f)=>(N(),de(_(wve),{value:o.value,title:c.title,prefix:c.prefix,suffix:c.suffix,"value-style":c.valueStyle,formatter:s},Ml({_:2},[gn(c.$slots,(d,h)=>({name:h,fn:$(()=>[Ee(c.$slots,h)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var HZe=lt(zZe,[["__file","countdown.vue"]]);const jZe=kn(HZe),GZe=rt({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),UZe={[tr]:(t,e)=>[t,e].every(Zt)},Sve="ElSteps",WZe=ue({name:"ElSteps"}),qZe=ue({...WZe,props:GZe,emits:UZe,setup(t,{emit:e}){const n=t,r=Ye("steps"),{children:i,addChild:o,removeChild:a,ChildrenSorter:s}=SI(Un(),"ElStep");return Le(i,()=>{i.value.forEach((l,u)=>{l.setIndex(u)})}),jn(Sve,{props:n,steps:i,addStep:o,removeStep:a}),Le(()=>n.active,(l,u)=>{e(tr,l,u)}),(l,u)=>(N(),Q("div",{class:q([_(r).b(),_(r).m(l.simple?"simple":l.direction)])},[Ee(l.$slots,"default"),O(_(s))],2))}});var KZe=lt(qZe,[["__file","steps.vue"]]);const YZe=rt({title:{type:String,default:""},icon:{type:Xr},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),XZe=ue({name:"ElStep"}),ZZe=ue({...XZe,props:YZe,setup(t){const e=t,n=Ye("step"),r=F(-1),i=F({}),o=F(""),a=bt(Sve),s=Un();Jt(()=>{Le([()=>a.props.active,()=>a.props.processStatus,()=>a.props.finishStatus],([x])=>{w(x)},{immediate:!0})});const l=z(()=>e.status||o.value),u=z(()=>{const x=a.steps.value[r.value-1];return x?x.internalStatus.value:"wait"}),c=z(()=>a.props.alignCenter),f=z(()=>a.props.direction==="vertical"),d=z(()=>a.props.simple),h=z(()=>a.steps.value.length),p=z(()=>{var x;return((x=a.steps.value[h.value-1])==null?void 0:x.uid)===s.uid}),v=z(()=>d.value?"":a.props.space),g=z(()=>[n.b(),n.is(d.value?"simple":a.props.direction),n.is("flex",p.value&&!v.value&&!c.value),n.is("center",c.value&&!f.value&&!d.value)]),m=z(()=>{const x={flexBasis:Zt(v.value)?`${v.value}px`:v.value?v.value:`${100/(h.value-(c.value?0:1))}%`};return f.value||p.value&&(x.maxWidth=`${100/h.value}%`),x}),y=x=>{r.value=x},b=x=>{const C=x==="wait",E={transitionDelay:`${C?"-":""}${150*r.value}ms`},T=x===a.props.processStatus||C?0:100;E.borderWidth=T&&!d.value?"1px":0,E[a.props.direction==="vertical"?"height":"width"]=`${T}%`,i.value=E},w=x=>{x>r.value?o.value=a.props.finishStatus:x===r.value&&u.value!=="error"?o.value=a.props.processStatus:o.value="wait";const C=a.steps.value[r.value-1];C&&C.calcProgress(o.value)},S={uid:s.uid,getVnode:()=>s.vnode,currentStatus:l,internalStatus:o,setIndex:y,calcProgress:b};return a.addStep(S),ur(()=>{a.removeStep(S)}),(x,C)=>(N(),Q("div",{style:Ot(_(m)),class:q(_(g))},[ge(" icon & line "),K("div",{class:q([_(n).e("head"),_(n).is(_(l))])},[_(d)?ge("v-if",!0):(N(),Q("div",{key:0,class:q(_(n).e("line"))},[K("i",{class:q(_(n).e("line-inner")),style:Ot(i.value)},null,6)],2)),K("div",{class:q([_(n).e("icon"),_(n).is(x.icon||x.$slots.icon?"icon":"text")])},[Ee(x.$slots,"icon",{},()=>[x.icon?(N(),de(_(zt),{key:0,class:q(_(n).e("icon-inner"))},{default:$(()=>[(N(),de(Vn(x.icon)))]),_:1},8,["class"])):_(l)==="success"?(N(),de(_(zt),{key:1,class:q([_(n).e("icon-inner"),_(n).is("status")])},{default:$(()=>[O(_(f2))]),_:1},8,["class"])):_(l)==="error"?(N(),de(_(zt),{key:2,class:q([_(n).e("icon-inner"),_(n).is("status")])},{default:$(()=>[O(_(Hu))]),_:1},8,["class"])):_(d)?ge("v-if",!0):(N(),Q("div",{key:3,class:q(_(n).e("icon-inner"))},Ne(r.value+1),3))])],2)],2),ge(" title & description "),K("div",{class:q(_(n).e("main"))},[K("div",{class:q([_(n).e("title"),_(n).is(_(l))])},[Ee(x.$slots,"title",{},()=>[Be(Ne(x.title),1)])],2),_(d)?(N(),Q("div",{key:0,class:q(_(n).e("arrow"))},null,2)):(N(),Q("div",{key:1,class:q([_(n).e("description"),_(n).is(_(l))])},[Ee(x.$slots,"description",{},()=>[Be(Ne(x.description),1)])],2))],2)],6))}});var xve=lt(ZZe,[["__file","item.vue"]]);const JZe=kn(KZe,{Step:xve}),QZe=Wi(xve),Cve=t=>["",...ad].includes(t),eJe=rt({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Cve},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:Xr},activeActionIcon:{type:Xr},activeIcon:{type:Xr},inactiveIcon:{type:Xr},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:me(Function)},id:String,tabindex:{type:[String,Number]},...fs(["ariaLabel"])}),tJe={[_n]:t=>ei(t)||Ht(t)||Zt(t),[tr]:t=>ei(t)||Ht(t)||Zt(t),[Fo]:t=>ei(t)||Ht(t)||Zt(t)},Eve="ElSwitch",nJe=ue({name:Eve}),rJe=ue({...nJe,props:eJe,emits:tJe,setup(t,{expose:e,emit:n}){const r=t,{formItem:i}=Ua(),o=Po(),a=Ye("switch"),{inputId:s}=tu(r,{formItemContext:i}),l=pa(z(()=>r.loading)),u=F(r.modelValue!==!1),c=F(),f=F(),d=z(()=>[a.b(),a.m(o.value),a.is("disabled",l.value),a.is("checked",m.value)]),h=z(()=>[a.e("label"),a.em("label","left"),a.is("active",!m.value)]),p=z(()=>[a.e("label"),a.em("label","right"),a.is("active",m.value)]),v=z(()=>({width:Qi(r.width)}));Le(()=>r.modelValue,()=>{u.value=!0});const g=z(()=>u.value?r.modelValue:!1),m=z(()=>g.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(g.value)||(n(_n,r.inactiveValue),n(tr,r.inactiveValue),n(Fo,r.inactiveValue)),Le(m,S=>{var x;c.value.checked=S,r.validateEvent&&((x=i?.validate)==null||x.call(i,"change").catch(C=>void 0))});const y=()=>{const S=m.value?r.inactiveValue:r.activeValue;n(_n,S),n(tr,S),n(Fo,S),Pt(()=>{c.value.checked=m.value})},b=()=>{if(l.value)return;const{beforeChange:S}=r;if(!S){y();return}const x=S();[Im(x),ei(x)].includes(!0)||xo(Eve,"beforeChange must return type `Promise<boolean>` or `boolean`"),Im(x)?x.then(E=>{E&&y()}).catch(E=>{}):x&&y()},w=()=>{var S,x;(x=(S=c.value)==null?void 0:S.focus)==null||x.call(S)};return Jt(()=>{c.value.checked=m.value}),e({focus:w,checked:m}),(S,x)=>(N(),Q("div",{class:q(_(d)),onClick:an(b,["prevent"])},[K("input",{id:_(s),ref_key:"input",ref:c,class:q(_(a).e("input")),type:"checkbox",role:"switch","aria-checked":_(m),"aria-disabled":_(l),"aria-label":S.ariaLabel,name:S.name,"true-value":S.activeValue,"false-value":S.inactiveValue,disabled:_(l),tabindex:S.tabindex,onChange:y,onKeydown:hi(b,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!S.inlinePrompt&&(S.inactiveIcon||S.inactiveText)?(N(),Q("span",{key:0,class:q(_(h))},[S.inactiveIcon?(N(),de(_(zt),{key:0},{default:$(()=>[(N(),de(Vn(S.inactiveIcon)))]),_:1})):ge("v-if",!0),!S.inactiveIcon&&S.inactiveText?(N(),Q("span",{key:1,"aria-hidden":_(m)},Ne(S.inactiveText),9,["aria-hidden"])):ge("v-if",!0)],2)):ge("v-if",!0),K("span",{ref_key:"core",ref:f,class:q(_(a).e("core")),style:Ot(_(v))},[S.inlinePrompt?(N(),Q("div",{key:0,class:q(_(a).e("inner"))},[S.activeIcon||S.inactiveIcon?(N(),de(_(zt),{key:0,class:q(_(a).is("icon"))},{default:$(()=>[(N(),de(Vn(_(m)?S.activeIcon:S.inactiveIcon)))]),_:1},8,["class"])):S.activeText||S.inactiveText?(N(),Q("span",{key:1,class:q(_(a).is("text")),"aria-hidden":!_(m)},Ne(_(m)?S.activeText:S.inactiveText),11,["aria-hidden"])):ge("v-if",!0)],2)):ge("v-if",!0),K("div",{class:q(_(a).e("action"))},[S.loading?(N(),de(_(zt),{key:0,class:q(_(a).is("loading"))},{default:$(()=>[O(_(Kf))]),_:1},8,["class"])):_(m)?Ee(S.$slots,"active-action",{key:1},()=>[S.activeActionIcon?(N(),de(_(zt),{key:0},{default:$(()=>[(N(),de(Vn(S.activeActionIcon)))]),_:1})):ge("v-if",!0)]):_(m)?ge("v-if",!0):Ee(S.$slots,"inactive-action",{key:2},()=>[S.inactiveActionIcon?(N(),de(_(zt),{key:0},{default:$(()=>[(N(),de(Vn(S.inactiveActionIcon)))]),_:1})):ge("v-if",!0)])],2)],6),!S.inlinePrompt&&(S.activeIcon||S.activeText)?(N(),Q("span",{key:1,class:q(_(p))},[S.activeIcon?(N(),de(_(zt),{key:0},{default:$(()=>[(N(),de(Vn(S.activeIcon)))]),_:1})):ge("v-if",!0),!S.activeIcon&&S.activeText?(N(),Q("span",{key:1,"aria-hidden":!_(m)},Ne(S.activeText),9,["aria-hidden"])):ge("v-if",!0)],2)):ge("v-if",!0)],10,["onClick"]))}});var iJe=lt(rJe,[["__file","switch.vue"]]);const oJe=kn(iJe),HD=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},aJe=function(t,e,n,r,i){if(!e&&!r&&(!i||tt(i)&&!i.length))return t;Ht(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const o=r?null:function(s,l){return i?hde(wa(i),u=>Ht(u)?bo(s,u):u(s,l,t)):(e!=="$key"&&Nn(s)&&"$value"in s&&(s=s.$value),[Nn(s)?e?bo(s,e):null:s])},a=function(s,l){var u,c,f,d,h,p;if(r)return r(s.value,l.value);for(let v=0,g=(c=(u=s.key)==null?void 0:u.length)!=null?c:0;v<g;v++){if(((f=s.key)==null?void 0:f[v])<((d=l.key)==null?void 0:d[v]))return-1;if(((h=s.key)==null?void 0:h[v])>((p=l.key)==null?void 0:p[v]))return 1}return 0};return t.map((s,l)=>({value:s,index:l,key:o?o(s,l):null})).sort((s,l)=>{let u=a(s,l);return u||(u=s.index-l.index),u*+n}).map(s=>s.value)},Tve=function(t,e){let n=null;return t.columns.forEach(r=>{r.id===e&&(n=r)}),n},sJe=function(t,e){let n=null;for(let r=0;r<t.columns.length;r++){const i=t.columns[r];if(i.columnKey===e){n=i;break}}return n||xo("ElTable",`No column matching with column-key: ${e}`),n},iX=function(t,e,n){const r=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?Tve(t,r[0]):null},ns=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(Ht(e)){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let r=t;for(const i of n)r=r[i];return`${r}`}else if(qt(e))return e.call(null,t);return""},mb=function(t,e,n=!1,r="children"){const i=t||[],o={};return i.forEach((a,s)=>{if(o[ns(a,e)]={row:a,index:s},n){const l=a[r];tt(l)&&Object.assign(o,mb(l,e,!0,r))}}),o};function lJe(t,e){const n={};let r;for(r in t)n[r]=t[r];for(r in e)if(Rr(e,r)){const i=e[r];gr(i)||(n[r]=i)}return n}function AH(t){return t===""||gr(t)||(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function Ave(t){return t===""||gr(t)||(t=AH(t),Number.isNaN(t)&&(t=80)),t}function uJe(t){return Zt(t)?t:Ht(t)?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function cJe(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function YM(t,e,n,r,i,o,a){let s=o??0,l=!1;const c=(()=>{if(!a)return t.indexOf(e);const v=ns(e,a);return t.findIndex(g=>ns(g,a)===v)})(),f=c!==-1,d=i?.call(null,e,s),h=v=>{v==="add"?t.push(e):t.splice(c,1),l=!0},p=v=>{let g=0;const m=r?.children&&v[r.children];return m&&tt(m)&&(g+=m.length,m.forEach(y=>{g+=p(y)})),g};return(!i||d)&&(ei(n)?n&&!f?h("add"):!n&&f&&h("remove"):h(f?"remove":"add")),!r?.checkStrictly&&r?.children&&tt(e[r.children])&&e[r.children].forEach(v=>{const g=YM(t,v,n??!f,r,i,s+1,a);s+=p(v)+1,g&&(l=g)}),l}function fJe(t,e,n="children",r="hasChildren",i=!1){const o=s=>!(tt(s)&&s.length);function a(s,l,u){e(s,l,u),l.forEach(c=>{if(c[r]&&i){e(c,null,u+1);return}const f=c[n];o(f)||a(c,f,u+1)})}t.forEach(s=>{if(s[r]&&i){e(s,null,0);return}const l=s[n];o(l)||a(s,l,0)})}const dJe=(t,e,n,r)=>{const i={strategy:"fixed",...t.popperOptions},o=qt(r?.tooltipFormatter)?r.tooltipFormatter({row:n,column:r,cellValue:FS(n,r.property).value}):void 0;return wi(o)?{slotContent:o,content:null,...t,popperOptions:i}:{slotContent:null,content:o??e,...t,popperOptions:i}};let bs=null;function hJe(t,e,n,r,i,o){var a;const s=dJe(t,e,n,r),l={...s,slotContent:void 0};if(bs?.trigger===i){const p=(a=bs.vm)==null?void 0:a.component;Bo(p?.props,l),p&&s.slotContent&&(p.slots.content=()=>[s.slotContent]);return}bs?.();const u=o?.refs.tableWrapper,c=u?.dataset.prefix,f=O(ja,{virtualTriggering:!0,virtualRef:i,appendTo:u,placement:"top",transition:"none",offset:0,hideAfter:0,...l},s.slotContent?{content:()=>s.slotContent}:void 0);f.appContext={...o.appContext,...o};const d=document.createElement("div");Qp(f,d),f.component.exposed.onOpen();const h=u?.querySelector(`.${c}-scrollbar__wrap`);bs=()=>{var p,v;(v=(p=f.component)==null?void 0:p.exposed)!=null&&v.onClose&&f.component.exposed.onClose(),Qp(null,d);const g=bs;h?.removeEventListener("scroll",g),g.trigger=void 0,g.vm=void 0,bs=null},bs.trigger=i??void 0,bs.vm=f,h?.addEventListener("scroll",bs)}function kve(t){return t.children?hde(t.children,kve):[t]}function oX(t,e){return t+e.colSpan}const Mve=(t,e,n,r)=>{let i=0,o=t;const a=n.states.columns.value;if(r){const l=kve(r[t]);i=a.slice(0,a.indexOf(l[0])).reduce(oX,0),o=i+l.reduce(oX,0)-1}else i=t;let s;switch(e){case"left":o<n.states.fixedLeafColumnsLength.value&&(s="left");break;case"right":i>=a.length-n.states.rightFixedLeafColumnsLength.value&&(s="right");break;default:o<n.states.fixedLeafColumnsLength.value?s="left":i>=a.length-n.states.rightFixedLeafColumnsLength.value&&(s="right")}return s?{direction:s,start:i,after:o}:{}},kH=(t,e,n,r,i,o=0)=>{const a=[],{direction:s,start:l,after:u}=Mve(e,n,r,i);if(s){const c=s==="left";a.push(`${t}-fixed-column--${s}`),c&&u+o===r.states.fixedLeafColumnsLength.value-1?a.push("is-last-column"):!c&&l-o===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&a.push("is-first-column")}return a};function aX(t,e){return t+(l2(e.realWidth)||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const MH=(t,e,n,r)=>{const{direction:i,start:o=0,after:a=0}=Mve(t,e,n,r);if(!i)return;const s={},l=i==="left",u=n.states.columns.value;return l?s.left=u.slice(0,o).reduce(aX,0):s.right=u.slice(a+1).reverse().reduce(aX,0),s},Qb=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};function pJe(t){const e=Un(),n=F(!1),r=F([]);return{updateExpandRows:()=>{const l=t.data.value||[],u=t.rowKey.value;if(n.value)r.value=l.slice();else if(u){const c=mb(r.value,u);r.value=l.reduce((f,d)=>{const h=ns(d,u);return c[h]&&f.push(d),f},[])}else r.value=[]},toggleRowExpansion:(l,u)=>{YM(r.value,l,u,void 0,void 0,void 0,t.rowKey.value)&&e.emit("expand-change",l,r.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const u=t.data.value||[],c=t.rowKey.value,f=mb(u,c);r.value=l.reduce((d,h)=>{const p=f[h];return p&&d.push(p.row),d},[])},isRowExpanded:l=>{const u=t.rowKey.value;return u?!!mb(r.value,u)[ns(l,u)]:r.value.includes(l)},states:{expandRows:r,defaultExpandAll:n}}}function vJe(t){const e=Un(),n=F(null),r=F(null),i=u=>{e.store.assertRowKey(),n.value=u,a(u)},o=()=>{n.value=null},a=u=>{var c;const{data:f,rowKey:d}=t;let h=null;d.value&&(h=(c=(_(f)||[]).find(p=>ns(p,d.value)===u))!=null?c:null),r.value=h??null,e.emit("current-change",r.value,null)};return{setCurrentRowKey:i,restoreCurrentRowKey:o,setCurrentRowByKey:a,updateCurrentRow:u=>{const c=r.value;if(u&&u!==c){r.value=u,e.emit("current-change",r.value,c);return}!u&&c&&(r.value=null,e.emit("current-change",null,c))},updateCurrentRowData:()=>{const u=t.rowKey.value,c=t.data.value||[],f=r.value;if(f&&!c.includes(f)){if(u){const d=ns(f,u);a(d)}else r.value=null;l2(r.value)&&e.emit("current-change",null,f)}else n.value&&(a(n.value),o())},states:{_currentRowKey:n,currentRow:r}}}function gJe(t){const e=F([]),n=F({}),r=F(16),i=F(!1),o=F({}),a=F("hasChildren"),s=F("children"),l=F(!1),u=Un(),c=z(()=>{if(!t.rowKey.value)return{};const w=t.data.value||[];return d(w)}),f=z(()=>{const w=t.rowKey.value,S=Object.keys(o.value),x={};return S.length&&S.forEach(C=>{if(o.value[C].length){const E={children:[]};o.value[C].forEach(T=>{const A=ns(T,w);E.children.push(A),T[a.value]&&!x[A]&&(x[A]={children:[]})}),x[C]=E}}),x}),d=w=>{const S=t.rowKey.value,x={};return fJe(w,(C,E,T)=>{const A=ns(C,S);tt(E)?x[A]={children:E.map(k=>ns(k,S)),level:T}:i.value&&(x[A]={children:[],lazy:!0,level:T})},s.value,a.value,i.value),x},h=(w=!1,S)=>{var x,C;S||(S=(x=u.store)==null?void 0:x.states.defaultExpandAll.value);const E=c.value,T=f.value,A=Object.keys(E),k={};if(A.length){const M=_(n),D=[],L=(R,V)=>{if(w)return e.value?S||e.value.includes(V):!!(S||R?.expanded);{const P=S||e.value&&e.value.includes(V);return!!(R?.expanded||P)}};A.forEach(R=>{const V=M[R],P={...E[R]};if(P.expanded=L(V,R),P.lazy){const{loaded:B=!1,loading:j=!1}=V||{};P.loaded=!!B,P.loading=!!j,D.push(R)}k[R]=P});const I=Object.keys(T);i.value&&I.length&&D.length&&I.forEach(R=>{var V;const P=M[R],B=T[R].children;if(D.includes(R)){if(((V=k[R].children)==null?void 0:V.length)!==0)throw new Error("[ElTable]children must be an empty array.");k[R].children=B}else{const{loaded:j=!1,loading:G=!1}=P||{};k[R]={lazy:!0,loaded:!!j,loading:!!G,expanded:L(P,R),children:B,level:void 0}}})}n.value=k,(C=u.store)==null||C.updateTableScrollY()};Le(()=>e.value,()=>{h(!0)}),Le(()=>c.value,()=>{h()}),Le(()=>f.value,()=>{h()});const p=w=>{e.value=w,h()},v=w=>i.value&&w&&"loaded"in w&&!w.loaded,g=(w,S)=>{u.store.assertRowKey();const x=t.rowKey.value,C=ns(w,x),E=C&&n.value[C];if(C&&E&&"expanded"in E){const T=E.expanded;S=gr(S)?!E.expanded:S,n.value[C].expanded=S,T!==S&&u.emit("expand-change",w,S),v(E)&&y(w,C,E),u.store.updateTableScrollY()}},m=w=>{u.store.assertRowKey();const S=t.rowKey.value,x=ns(w,S),C=n.value[x];v(C)?y(w,x,C):g(w,void 0)},y=(w,S,x)=>{const{load:C}=u.props;C&&!n.value[S].loaded&&(n.value[S].loading=!0,C(w,x,E=>{if(!tt(E))throw new TypeError("[ElTable] data must be an array");n.value[S].loading=!1,n.value[S].loaded=!0,n.value[S].expanded=!0,E.length&&(o.value[S]=E),u.emit("expand-change",w,!0)}))};return{loadData:y,loadOrToggle:m,toggleTreeExpansion:g,updateTreeExpandKeys:p,updateTreeData:h,updateKeyChildren:(w,S)=>{const{lazy:x,rowKey:C}=u.props;if(x){if(!C)throw new Error("[Table] rowKey is required in updateKeyChild");o.value[w]&&(o.value[w]=S)}},normalize:d,states:{expandRowKeys:e,treeData:n,indent:r,lazy:i,lazyTreeNodeMap:o,lazyColumnIdentifier:a,childrenColumnName:s,checkStrictly:l}}}const mJe=(t,e)=>{const n=e.sortingColumn;return!n||Ht(n.sortable)?t:aJe(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},gk=t=>{const e=[];return t.forEach(n=>{n.children&&n.children.length>0?e.push.apply(e,gk(n.children)):e.push(n)}),e};function yJe(){var t;const e=Un(),{size:n}=zo((t=e.proxy)==null?void 0:t.$props),r=F(null),i=F([]),o=F([]),a=F(!1),s=F([]),l=F([]),u=F([]),c=F([]),f=F([]),d=F([]),h=F([]),p=F([]),v=[],g=F(0),m=F(0),y=F(0),b=F(!1),w=F([]),S=F(!1),x=F(!1),C=F(null),E=F({}),T=F(null),A=F(null),k=F(null),M=F(null),D=F(null),L=z(()=>r.value?mb(w.value,r.value):void 0);Le(i,()=>{var $t;e.state&&(P(!1),e.props.tableLayout==="auto"&&(($t=e.refs.tableHeaderRef)==null||$t.updateFixedColumnStyle()))},{deep:!0});const I=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},R=$t=>{var wn;(wn=$t.children)==null||wn.forEach($n=>{$n.fixed=$t.fixed,R($n)})},V=()=>{s.value.forEach(le=>{R(le)}),c.value=s.value.filter(le=>[!0,"left"].includes(le.fixed));const $t=s.value.find(le=>le.type==="selection");let wn;$t&&$t.fixed!=="right"&&!c.value.includes($t)&&s.value.indexOf($t)===0&&c.value.length&&(c.value.unshift($t),wn=!0),f.value=s.value.filter(le=>le.fixed==="right");const $n=s.value.filter(le=>(wn?le.type!=="selection":!0)&&!le.fixed);l.value=Array.from(c.value).concat($n).concat(f.value);const je=gk($n),mt=gk(c.value),re=gk(f.value);g.value=je.length,m.value=mt.length,y.value=re.length,u.value=Array.from(mt).concat(je).concat(re),a.value=c.value.length>0||f.value.length>0},P=($t,wn=!1)=>{$t&&V(),wn?e.state.doLayout():e.state.debouncedUpdateLayout()},B=$t=>L.value?!!L.value[ns($t,r.value)]:w.value.includes($t),j=()=>{b.value=!1;const $t=w.value;w.value=[],$t.length&&e.emit("selection-change",[])},G=()=>{var $t,wn;let $n;if(r.value){$n=[];const je=(wn=($t=e?.store)==null?void 0:$t.states)==null?void 0:wn.childrenColumnName.value,mt=mb(i.value,r.value,!0,je);for(const re in L.value)Rr(L.value,re)&&!mt[re]&&$n.push(L.value[re].row)}else $n=w.value.filter(je=>!i.value.includes(je));if($n.length){const je=w.value.filter(mt=>!$n.includes(mt));w.value=je,e.emit("selection-change",je.slice())}},W=()=>(w.value||[]).slice(),Z=($t,wn,$n=!0,je=!1)=>{var mt,re,le,Ae;const Qe={children:(re=(mt=e?.store)==null?void 0:mt.states)==null?void 0:re.childrenColumnName.value,checkStrictly:(Ae=(le=e?.store)==null?void 0:le.states)==null?void 0:Ae.checkStrictly.value};if(YM(w.value,$t,wn,Qe,je?void 0:C.value,i.value.indexOf($t),r.value)){const Nt=(w.value||[]).slice();$n&&e.emit("select",Nt,$t),e.emit("selection-change",Nt)}},ee=()=>{var $t,wn;const $n=x.value?!b.value:!(b.value||w.value.length);b.value=$n;let je=!1,mt=0;const re=(wn=($t=e?.store)==null?void 0:$t.states)==null?void 0:wn.rowKey.value,{childrenColumnName:le}=e.store.states,Ae={children:le.value,checkStrictly:!1};i.value.forEach((Qe,ct)=>{const Nt=ct+mt;YM(w.value,Qe,$n,Ae,C.value,Nt,re)&&(je=!0),mt+=ce(ns(Qe,re))}),je&&e.emit("selection-change",w.value?w.value.slice():[]),e.emit("select-all",(w.value||[]).slice())},oe=()=>{var $t;if((($t=i.value)==null?void 0:$t.length)===0){b.value=!1;return}const{childrenColumnName:wn}=e.store.states;let $n=0,je=0;const mt=le=>{var Ae;for(const Qe of le){const ct=C.value&&C.value.call(null,Qe,$n);if(B(Qe))je++;else if(!C.value||ct)return!1;if($n++,(Ae=Qe[wn.value])!=null&&Ae.length&&!mt(Qe[wn.value]))return!1}return!0},re=mt(i.value||[]);b.value=je===0?!1:re},ce=$t=>{var wn;if(!e||!e.store)return 0;const{treeData:$n}=e.store.states;let je=0;const mt=(wn=$n.value[$t])==null?void 0:wn.children;return mt&&(je+=mt.length,mt.forEach(re=>{je+=ce(re)})),je},X=($t,wn)=>{const $n={};return wa($t).forEach(je=>{E.value[je.id]=wn,$n[je.columnKey||je.id]=wn}),$n},H=($t,wn,$n)=>{A.value&&A.value!==$t&&(A.value.order=null),A.value=$t,k.value=wn,M.value=$n},U=()=>{let $t=_(o);Object.keys(E.value).forEach(wn=>{const $n=E.value[wn];if(!$n||$n.length===0)return;const je=Tve({columns:u.value},wn);je&&je.filterMethod&&($t=$t.filter(mt=>$n.some(re=>je.filterMethod.call(null,re,mt,je))))}),T.value=$t},ne=()=>{var $t;i.value=mJe(($t=T.value)!=null?$t:[],{sortingColumn:A.value,sortProp:k.value,sortOrder:M.value})},J=($t=void 0)=>{$t?.filter||U(),ne()},Y=$t=>{const{tableHeaderRef:wn}=e.refs;if(!wn)return;const $n=Object.assign({},wn.filterPanels),je=Object.keys($n);if(je.length)if(Ht($t)&&($t=[$t]),tt($t)){const mt=$t.map(re=>sJe({columns:u.value},re));je.forEach(re=>{const le=mt.find(Ae=>Ae.id===re);le&&(le.filteredValue=[])}),e.store.commit("filterChange",{column:mt,values:[],silent:!0,multi:!0})}else je.forEach(mt=>{const re=u.value.find(le=>le.id===mt);re&&(re.filteredValue=[])}),E.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},se=()=>{A.value&&(H(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:he,toggleRowExpansion:ye,updateExpandRows:_e,states:fe,isRowExpanded:Ce}=pJe({data:i,rowKey:r}),{updateTreeExpandKeys:Oe,toggleTreeExpansion:Ue,updateTreeData:qe,updateKeyChildren:ze,loadOrToggle:ae,states:Fe}=gJe({data:i,rowKey:r}),{updateCurrentRowData:We,updateCurrentRow:dn,setCurrentRowKey:At,states:$e}=vJe({data:i,rowKey:r});return{assertRowKey:I,updateColumns:V,scheduleLayout:P,isSelected:B,clearSelection:j,cleanSelection:G,getSelectionRows:W,toggleRowSelection:Z,_toggleAllSelection:ee,toggleAllSelection:null,updateAllSelected:oe,updateFilters:X,updateCurrentRow:dn,updateSort:H,execFilter:U,execSort:ne,execQuery:J,clearFilter:Y,clearSort:se,toggleRowExpansion:ye,setExpandRowKeysAdapter:$t=>{he($t),Oe($t)},setCurrentRowKey:At,toggleRowExpansionAdapter:($t,wn)=>{u.value.some(({type:je})=>je==="expand")?ye($t,wn):Ue($t,wn)},isRowExpanded:Ce,updateExpandRows:_e,updateCurrentRowData:We,loadOrToggle:ae,updateTreeData:qe,updateKeyChildren:ze,states:{tableSize:n,rowKey:r,data:i,_data:o,isComplex:a,_columns:s,originColumns:l,columns:u,fixedColumns:c,rightFixedColumns:f,leafColumns:d,fixedLeafColumns:h,rightFixedLeafColumns:p,updateOrderFns:v,leafColumnsLength:g,fixedLeafColumnsLength:m,rightFixedLeafColumnsLength:y,isAllSelected:b,selection:w,reserveSelection:S,selectOnIndeterminate:x,selectable:C,filters:E,filteredData:T,sortingColumn:A,sortProp:k,sortOrder:M,hoverRow:D,...fe,...Fe,...$e}}}function BF(t,e){return t.map(n=>{var r;return n.id===e.id?e:((r=n.children)!=null&&r.length&&(n.children=BF(n.children,e)),n)})}function $F(t){t.forEach(e=>{var n,r;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(r=e.children)!=null&&r.length&&$F(e.children)}),t.sort((e,n)=>e.no-n.no)}function bJe(){const t=Un(),e=yJe();return{ns:Ye("table"),...e,mutations:{setData(a,s){const l=_(a._data)!==s;a.data.value=s,a._data.value=s,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),_(a.reserveSelection)?t.store.assertRowKey():l?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(a,s,l,u){var c;const f=_(a._columns);let d=[];l?(l&&!l.children&&(l.children=[]),(c=l.children)==null||c.push(s),d=BF(f,l)):(f.push(s),d=f),$F(d),a._columns.value=d,a.updateOrderFns.push(u),s.type==="selection"&&(a.selectable.value=s.selectable,a.reserveSelection.value=s.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(a,s){var l;((l=s.getColumnIndex)==null?void 0:l.call(s))!==s.no&&($F(a._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(a,s,l,u){var c;const f=_(a._columns)||[];if(l)(c=l.children)==null||c.splice(l.children.findIndex(h=>h.id===s.id),1),Pt(()=>{var h;((h=l.children)==null?void 0:h.length)===0&&delete l.children}),a._columns.value=BF(f,l);else{const h=f.indexOf(s);h>-1&&(f.splice(h,1),a._columns.value=f)}const d=a.updateOrderFns.indexOf(u);d>-1&&a.updateOrderFns.splice(d,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(a,s){const{prop:l,order:u,init:c}=s;if(l){const f=_(a.columns).find(d=>d.property===l);f&&(f.order=u,t.store.updateSort(f,l,u),t.store.commit("changeSortCondition",{init:c}))}},changeSortCondition(a,s){const{sortingColumn:l,sortProp:u,sortOrder:c}=a,f=_(l),d=_(u),h=_(c);l2(h)&&(a.sortingColumn.value=null,a.sortProp.value=null);const p={filter:!0};t.store.execQuery(p),(!s||!(s.silent||s.init))&&t.emit("sort-change",{column:f,prop:d,order:h}),t.store.updateTableScrollY()},filterChange(a,s){const{column:l,values:u,silent:c}=s,f=t.store.updateFilters(l,u);t.store.execQuery(),c||t.emit("filter-change",f),t.store.updateTableScrollY()},toggleAllSelection(){var a,s;(s=(a=t.store).toggleAllSelection)==null||s.call(a)},rowSelectedChanged(a,s){t.store.toggleRowSelection(s),t.store.updateAllSelected()},setHoverRow(a,s){a.hoverRow.value=s},setCurrentRow(a,s){t.store.updateCurrentRow(s)}},commit:function(a,...s){const l=t.store.mutations;if(l[a])l[a].apply(t,[t.store.states,...s]);else throw new Error(`Action not found: ${a}`)},updateTableScrollY:function(){Pt(()=>t.layout.updateScrollY.apply(t.layout))}}}const PH={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function _Je(t,e){if(!t)throw new Error("Table is required.");const n=bJe();return n.toggleAllSelection=rl(n._toggleAllSelection,10),Object.keys(PH).forEach(r=>{Pve(Ove(e,r),r,n)}),wJe(n,e),n}function wJe(t,e){Object.keys(PH).forEach(n=>{Le(()=>Ove(e,n),r=>{Pve(r,n,t)})})}function Pve(t,e,n){let r=t,i=PH[e];Nn(i)&&(r=r||i.default,i=i.key),n.states[i].value=r}function Ove(t,e){if(e.includes(".")){const n=e.split(".");let r=t;return n.forEach(i=>{r=r[i]}),r}else return t[e]}class SJe{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=F(null),this.scrollX=F(!1),this.scrollY=F(!1),this.bodyWidth=F(null),this.fixedWidth=F(null),this.rightFixedWidth=F(null),this.gutterWidth=0;for(const n in e)Rr(e,n)&&(ai(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const e=this.height.value;if(l2(e))return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&n?.wrapRef){let r=!0;const i=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,i!==r}return!1}setHeight(e,n="height"){if(!Ar)return;const r=this.table.vnode.el;if(e=uJe(e),this.height.value=Number(e),!r&&(e||e===0)){Pt(()=>this.setHeight(e,n));return}r&&Zt(e)?(r.style[n]=`${e}px`,this.updateElsHeight()):r&&Ht(e)&&(r.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?e.push.apply(e,r.columns):e.push(r)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){var e;if(!Ar)return;const n=this.fit,r=(e=this.table.vnode.el)==null?void 0:e.clientWidth;let i=0;const o=this.getFlattenColumns(),a=o.filter(u=>!Zt(u.width));if(o.forEach(u=>{Zt(u.width)&&u.realWidth&&(u.realWidth=null)}),a.length>0&&n){if(o.forEach(u=>{i+=Number(u.width||u.minWidth||80)}),i<=r){this.scrollX.value=!1;const u=r-i;if(a.length===1)a[0].realWidth=Number(a[0].minWidth||80)+u;else{const c=a.reduce((h,p)=>h+Number(p.minWidth||80),0),f=u/c;let d=0;a.forEach((h,p)=>{if(p===0)return;const v=Math.floor(Number(h.minWidth||80)*f);d+=v,h.realWidth=Number(h.minWidth||80)+v}),a[0].realWidth=Number(a[0].minWidth||80)+u-d}}else this.scrollX.value=!0,a.forEach(u=>{u.realWidth=Number(u.minWidth)});this.bodyWidth.value=Math.max(i,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else o.forEach(u=>{!u.width&&!u.minWidth?u.realWidth=80:u.realWidth=Number(u.width||u.minWidth),i+=u.realWidth}),this.scrollX.value=i>r,this.bodyWidth.value=i;const s=this.store.states.fixedColumns.value;if(s.length>0){let u=0;s.forEach(c=>{u+=Number(c.realWidth||c.width)}),this.fixedWidth.value=u}const l=this.store.states.rightFixedColumns.value;if(l.length>0){let u=0;l.forEach(c=>{u+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=u}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(r=>{var i,o;switch(e){case"columns":(i=r.state)==null||i.onColumnsChange(this);break;case"scrollable":(o=r.state)==null||o.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:xJe}=Ku,CJe=ue({name:"ElTableFilterPanel",components:{ElCheckbox:Ku,ElCheckboxGroup:xJe,ElScrollbar:Mc,ElTooltip:ja,ElIcon:zt,ArrowDown:sd,ArrowUp:pI},directives:{ClickOutside:ch},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:Ai.appendTo},setup(t){const e=Un(),{t:n}=Cr(),r=Ye("table-filter"),i=e?.parent;t.column&&!i.filterPanels.value[t.column.id]&&(i.filterPanels.value[t.column.id]=e);const o=F(!1),a=F(null),s=z(()=>t.column&&t.column.filters),l=z(()=>t.column&&t.column.filterClassName?`${r.b()} ${t.column.filterClassName}`:r.b()),u=z({get:()=>{var S;return(((S=t.column)==null?void 0:S.filteredValue)||[])[0]},set:S=>{c.value&&(Cl(S)?c.value.splice(0,1):c.value.splice(0,1,S))}}),c=z({get(){return t.column?t.column.filteredValue||[]:[]},set(S){var x;t.column&&((x=t.upDataColumn)==null||x.call(t,"filteredValue",S))}}),f=z(()=>t.column?t.column.filterMultiple:!0),d=S=>S.value===u.value,h=()=>{o.value=!1},p=S=>{S.stopPropagation(),o.value=!o.value},v=()=>{o.value=!1},g=()=>{b(c.value),h()},m=()=>{c.value=[],b(c.value),h()},y=S=>{u.value=S,Cl(S)?b([]):b(c.value),h()},b=S=>{var x,C;(x=t.store)==null||x.commit("filterChange",{column:t.column,values:S}),(C=t.store)==null||C.updateAllSelected()};Le(o,S=>{var x;t.column&&((x=t.upDataColumn)==null||x.call(t,"filterOpened",S))},{immediate:!0});const w=z(()=>{var S,x;return(x=(S=a.value)==null?void 0:S.popperRef)==null?void 0:x.contentRef});return{tooltipVisible:o,multiple:f,filterClassName:l,filteredValue:c,filterValue:u,filters:s,handleConfirm:g,handleReset:m,handleSelect:y,isPropAbsent:Cl,isActive:d,t:n,ns:r,showFilterPanel:p,hideFilterPanel:v,popperPaneRef:w,tooltip:a}}});function EJe(t,e,n,r,i,o){const a=pe("el-checkbox"),s=pe("el-checkbox-group"),l=pe("el-scrollbar"),u=pe("arrow-up"),c=pe("arrow-down"),f=pe("el-icon"),d=pe("el-tooltip"),h=n2("click-outside");return N(),de(d,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:"","append-to":t.appendTo},{content:$(()=>[t.multiple?(N(),Q("div",{key:0},[K("div",{class:q(t.ns.e("content"))},[O(l,{"wrap-class":t.ns.e("wrap")},{default:$(()=>[O(s,{modelValue:t.filteredValue,"onUpdate:modelValue":p=>t.filteredValue=p,class:q(t.ns.e("checkbox-group"))},{default:$(()=>[(N(!0),Q(ft,null,gn(t.filters,p=>(N(),de(a,{key:p.value,value:p.value},{default:$(()=>[Be(Ne(p.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),K("div",{class:q(t.ns.e("bottom"))},[K("button",{class:q({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:t.handleConfirm},Ne(t.t("el.table.confirmFilter")),11,["disabled","onClick"]),K("button",{type:"button",onClick:t.handleReset},Ne(t.t("el.table.resetFilter")),9,["onClick"])],2)])):(N(),Q("ul",{key:1,class:q(t.ns.e("list"))},[K("li",{class:q([t.ns.e("list-item"),{[t.ns.is("active")]:t.isPropAbsent(t.filterValue)}]),onClick:p=>t.handleSelect(null)},Ne(t.t("el.table.clearFilter")),11,["onClick"]),(N(!0),Q(ft,null,gn(t.filters,p=>(N(),Q("li",{key:p.value,class:q([t.ns.e("list-item"),t.ns.is("active",t.isActive(p))]),label:p.value,onClick:v=>t.handleSelect(p.value)},Ne(p.text),11,["label","onClick"]))),128))],2))]),default:$(()=>[An((N(),Q("span",{class:q([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:t.showFilterPanel},[O(f,null,{default:$(()=>[Ee(t.$slots,"filter-icon",{},()=>{var p;return[(p=t.column)!=null&&p.filterOpened?(N(),de(u,{key:0})):(N(),de(c,{key:1}))]})]),_:3})],10,["onClick"])),[[h,t.hideFilterPanel,t.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var TJe=lt(CJe,[["render",EJe],["__file","filter-panel.vue"]]);function OH(t){const e=Un();ZO(()=>{n.value.addObserver(e)}),Jt(()=>{r(n.value),i(n.value)}),Hc(()=>{r(n.value),i(n.value)}),Qu(()=>{n.value.removeObserver(e)});const n=z(()=>{const o=t.layout;if(!o)throw new Error("Can not find table layout.");return o}),r=o=>{var a;const s=((a=t.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col"))||[];if(!s.length)return;const l=o.getFlattenColumns(),u={};l.forEach(c=>{u[c.id]=c});for(let c=0,f=s.length;c<f;c++){const d=s[c],h=d.getAttribute("name"),p=u[h];p&&d.setAttribute("width",p.realWidth||p.width)}},i=o=>{var a,s;const l=((a=t.vnode.el)==null?void 0:a.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let c=0,f=l.length;c<f;c++)l[c].setAttribute("width",o.scrollY.value?o.gutterWidth:"0");const u=((s=t.vnode.el)==null?void 0:s.querySelectorAll("th.gutter"))||[];for(let c=0,f=u.length;c<f;c++){const d=u[c];d.style.width=o.scrollY.value?`${o.gutterWidth}px`:"0",d.style.display=o.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:i}}const qc=Symbol("ElTable");function AJe(t,e){const n=Un(),r=bt(qc),i=v=>{v.stopPropagation()},o=(v,g)=>{!g.filters&&g.sortable?p(v,g,!1):g.filterable&&!g.sortable&&i(v),r?.emit("header-click",g,v)},a=(v,g)=>{r?.emit("header-contextmenu",g,v)},s=F(null),l=F(!1),u=F(),c=(v,g)=>{var m,y;if(Ar&&!(g.children&&g.children.length>0)&&s.value&&t.border){l.value=!0;const b=r;e("set-drag-visible",!0);const w=b?.vnode.el,S=w?.getBoundingClientRect().left,x=(y=(m=n?.vnode)==null?void 0:m.el)==null?void 0:y.querySelector(`th.${g.id}`),C=x.getBoundingClientRect(),E=C.left-S+30;Pu(x,"noclick"),u.value={startMouseLeft:v.clientX,startLeft:C.right-S,startColumnLeft:C.left-S,tableLeft:S};const T=b?.refs.resizeProxy;T.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const A=M=>{const D=M.clientX-u.value.startMouseLeft,L=u.value.startLeft+D;T.style.left=`${Math.max(E,L)}px`},k=()=>{if(l.value){const{startColumnLeft:M,startLeft:D}=u.value,I=Number.parseInt(T.style.left,10)-M;g.width=g.realWidth=I,b?.emit("header-dragend",g.width,D-M,g,v),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,s.value=null,u.value=void 0,e("set-drag-visible",!1)}document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",k),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Is(x,"noclick")},0)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",k)}},f=(v,g)=>{var m;if(g.children&&g.children.length>0)return;const y=v.target;if(!Xl(y))return;const b=y?.closest("th");if(!(!g||!g.resizable||!b)&&!l.value&&t.border){const w=b.getBoundingClientRect(),S=document.body.style,x=((m=b.parentNode)==null?void 0:m.lastElementChild)===b,C=t.allowDragLastColumn||!x;w.width>12&&w.right-v.clientX<8&&C?(S.cursor="col-resize",Mu(b,"is-sortable")&&(b.style.cursor="col-resize"),s.value=g):l.value||(S.cursor="",Mu(b,"is-sortable")&&(b.style.cursor="pointer"),s.value=null)}},d=()=>{Ar&&(document.body.style.cursor="")},h=({order:v,sortOrders:g})=>{if(v==="")return g[0];const m=g.indexOf(v||null);return g[m>g.length-2?0:m+1]},p=(v,g,m)=>{var y;v.stopPropagation();const b=g.order===m?null:m||h(g),w=(y=v.target)==null?void 0:y.closest("th");if(w&&Mu(w,"noclick")){Is(w,"noclick");return}if(!g.sortable)return;const S=v.currentTarget;if(["ascending","descending"].some(A=>Mu(S,A)&&!g.sortOrders.includes(A)))return;const x=t.store.states;let C=x.sortProp.value,E;const T=x.sortingColumn.value;(T!==g||T===g&&l2(T.order))&&(T&&(T.order=null),x.sortingColumn.value=g,C=g.property),b?E=g.order=b:E=g.order=null,x.sortProp.value=C,x.sortOrder.value=E,r?.store.commit("changeSortCondition")};return{handleHeaderClick:o,handleHeaderContextMenu:a,handleMouseDown:c,handleMouseMove:f,handleMouseOut:d,handleSortClick:p,handleFilterClick:i}}function kJe(t){const e=bt(qc),n=Ye("table");return{getHeaderRowStyle:s=>{const l=e?.props.headerRowStyle;return qt(l)?l.call(null,{rowIndex:s}):l},getHeaderRowClass:s=>{const l=[],u=e?.props.headerRowClassName;return Ht(u)?l.push(u):qt(u)&&l.push(u.call(null,{rowIndex:s})),l.join(" ")},getHeaderCellStyle:(s,l,u,c)=>{var f;let d=(f=e?.props.headerCellStyle)!=null?f:{};qt(d)&&(d=d.call(null,{rowIndex:s,columnIndex:l,row:u,column:c}));const h=MH(l,c.fixed,t.store,u);return Qb(h,"left"),Qb(h,"right"),Object.assign({},d,h)},getHeaderCellClass:(s,l,u,c)=>{const f=kH(n.b(),l,c.fixed,t.store,u),d=[c.id,c.order,c.headerAlign,c.className,c.labelClassName,...f];c.children||d.push("is-leaf"),c.sortable&&d.push("is-sortable");const h=e?.props.headerCellClassName;return Ht(h)?d.push(h):qt(h)&&d.push(h.call(null,{rowIndex:s,columnIndex:l,row:u,column:c})),d.push(n.e("cell")),d.filter(p=>!!p).join(" ")}}}const Ive=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,Ive(n.children))):e.push(n)}),e},Rve=t=>{let e=1;const n=(o,a)=>{if(a&&(o.level=a.level+1,e<o.level&&(e=o.level)),o.children){let s=0;o.children.forEach(l=>{n(l,o),s+=l.colSpan}),o.colSpan=s}else o.colSpan=1};t.forEach(o=>{o.level=1,n(o,void 0)});const r=[];for(let o=0;o<e;o++)r.push([]);return Ive(t).forEach(o=>{o.children?(o.rowSpan=1,o.children.forEach(a=>a.isSubColumn=!0)):o.rowSpan=e-o.level+1,r[o.level-1].push(o)}),r};function MJe(t){const e=bt(qc),n=z(()=>Rve(t.store.states.originColumns.value));return{isGroup:z(()=>{const o=n.value.length>1;return o&&e&&(e.state.isGroup.value=!0),o}),toggleAllSelection:o=>{o.stopPropagation(),e?.store.commit("toggleAllSelection")},columnRows:n}}var PJe=ue({name:"ElTableHeader",components:{ElCheckbox:Ku},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(t,{emit:e}){const n=Un(),r=bt(qc),i=Ye("table"),o=F({}),{onColumnsChange:a,onScrollableChange:s}=OH(r),l=r?.props.tableLayout==="auto",u=Bn(new Map),c=F();let f;const d=()=>{f=setTimeout(()=>{u.size>0&&(u.forEach((k,M)=>{const D=c.value.querySelector(`.${M.replace(/\s/g,".")}`);if(D){const L=D.getBoundingClientRect().width;k.width=L||k.width}}),u.clear())})};Le(u,d),ur(()=>{f&&(clearTimeout(f),f=void 0)}),Jt(async()=>{await Pt(),await Pt();const{prop:k,order:M}=t.defaultSort;r?.store.commit("sort",{prop:k,order:M,init:!0}),d()});const{handleHeaderClick:h,handleHeaderContextMenu:p,handleMouseDown:v,handleMouseMove:g,handleMouseOut:m,handleSortClick:y,handleFilterClick:b}=AJe(t,e),{getHeaderRowStyle:w,getHeaderRowClass:S,getHeaderCellStyle:x,getHeaderCellClass:C}=kJe(t),{isGroup:E,toggleAllSelection:T,columnRows:A}=MJe(t);return n.state={onColumnsChange:a,onScrollableChange:s},n.filterPanels=o,{ns:i,filterPanels:o,onColumnsChange:a,onScrollableChange:s,columnRows:A,getHeaderRowClass:S,getHeaderRowStyle:w,getHeaderCellClass:C,getHeaderCellStyle:x,handleHeaderClick:h,handleHeaderContextMenu:p,handleMouseDown:v,handleMouseMove:g,handleMouseOut:m,handleSortClick:y,handleFilterClick:b,isGroup:E,toggleAllSelection:T,saveIndexSelection:u,isTableLayoutAuto:l,theadRef:c,updateFixedColumnStyle:d}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:i,getHeaderRowClass:o,getHeaderRowStyle:a,handleHeaderClick:s,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:c,handleSortClick:f,handleMouseOut:d,store:h,$parent:p,saveIndexSelection:v,isTableLayoutAuto:g}=this;let m=1;return Rt("thead",{ref:"theadRef",class:{[t.is("group")]:e}},n.map((y,b)=>Rt("tr",{class:o(b),key:b,style:a(b)},y.map((w,S)=>{w.rowSpan>m&&(m=w.rowSpan);const x=i(b,S,y,w);return g&&w.fixed&&v.set(x,w),Rt("th",{class:x,colspan:w.colSpan,key:`${w.id}-thead`,rowspan:w.rowSpan,style:r(b,S,y,w),onClick:C=>{var E;(E=C.currentTarget)!=null&&E.classList.contains("noclick")||s(C,w)},onContextmenu:C=>l(C,w),onMousedown:C=>u(C,w),onMousemove:C=>c(C,w),onMouseout:d},[Rt("div",{class:["cell",w.filteredValue&&w.filteredValue.length>0?"highlight":""]},[w.renderHeader?w.renderHeader({column:w,$index:S,store:h,_self:p}):w.label,w.sortable&&Rt("span",{onClick:C=>f(C,w),class:"caret-wrapper"},[Rt("i",{onClick:C=>f(C,w,"ascending"),class:"sort-caret ascending"}),Rt("i",{onClick:C=>f(C,w,"descending"),class:"sort-caret descending"})]),w.filterable&&Rt(TJe,{store:h,placement:w.filterPlacement||"bottom-start",appendTo:p?.appendFilterPanelTo,column:w,upDataColumn:(C,E)=>{w[C]=E}},{"filter-icon":()=>w.renderFilterIcon?w.renderFilterIcon({filterOpened:w.filterOpened}):null})])])}))))}});function jD(t,e,n=.03){return t-e>n}function OJe(t){const e=bt(qc),n=F(""),r=F(Rt("div")),i=(p,v,g)=>{var m,y,b;const w=e,S=HD(p);let x=null;const C=(m=w?.vnode.el)==null?void 0:m.dataset.prefix;S&&(x=iX({columns:(b=(y=t.store)==null?void 0:y.states.columns.value)!=null?b:[]},S,C),x&&w?.emit(`cell-${g}`,v,x,S,p)),w?.emit(`row-${g}`,v,x,p)},o=(p,v)=>{i(p,v,"dblclick")},a=(p,v)=>{var g;(g=t.store)==null||g.commit("setCurrentRow",v),i(p,v,"click")},s=(p,v)=>{i(p,v,"contextmenu")},l=rl(p=>{var v;(v=t.store)==null||v.commit("setHoverRow",p)},30),u=rl(()=>{var p;(p=t.store)==null||p.commit("setHoverRow",null)},30),c=p=>{const v=window.getComputedStyle(p,null),g=Number.parseInt(v.paddingLeft,10)||0,m=Number.parseInt(v.paddingRight,10)||0,y=Number.parseInt(v.paddingTop,10)||0,b=Number.parseInt(v.paddingBottom,10)||0;return{left:g,right:m,top:y,bottom:b}},f=(p,v,g)=>{var m;let y=(m=v?.target)==null?void 0:m.parentNode;for(;p>1&&(y=y?.nextSibling,!(!y||y.nodeName!=="TR"));)g(y,"hover-row hover-fixed-row"),p--};return{handleDoubleClick:o,handleClick:a,handleContextMenu:s,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(p,v,g)=>{var m,y,b,w,S,x,C,E;if(!e)return;const T=e,A=HD(p),k=(m=T?.vnode.el)==null?void 0:m.dataset.prefix;let M=null;if(A){if(M=iX({columns:(b=(y=t.store)==null?void 0:y.states.columns.value)!=null?b:[]},A,k),!M)return;A.rowSpan>1&&f(A.rowSpan,p,Pu);const oe=T.hoverState={cell:A,column:M,row:v};T?.emit("cell-mouse-enter",oe.row,oe.column,oe.cell,p)}if(!g){((w=bs)==null?void 0:w.trigger)===A&&((S=bs)==null||S());return}const D=p.target.querySelector(".cell");if(!(Mu(D,`${k}-tooltip`)&&D.childNodes.length))return;const L=document.createRange();L.setStart(D,0),L.setEnd(D,D.childNodes.length);const{width:I,height:R}=L.getBoundingClientRect(),{width:V,height:P}=D.getBoundingClientRect(),{top:B,left:j,right:G,bottom:W}=c(D),Z=j+G,ee=B+W;jD(I+Z,V)||jD(R+ee,P)||jD(D.scrollWidth,V)?hJe(g,(x=A?.innerText||A?.textContent)!=null?x:"",v,M,A,T):((C=bs)==null?void 0:C.trigger)===A&&((E=bs)==null||E())},handleCellMouseLeave:p=>{const v=HD(p);if(!v)return;v.rowSpan>1&&f(v.rowSpan,p,Is);const g=e?.hoverState;e?.emit("cell-mouse-leave",g?.row,g?.column,g?.cell,p)},tooltipContent:n,tooltipTrigger:r}}function IJe(t){const e=bt(qc),n=Ye("table");return{getRowStyle:(u,c)=>{const f=e?.props.rowStyle;return qt(f)?f.call(null,{row:u,rowIndex:c}):f||null},getRowClass:(u,c)=>{var f;const d=[n.e("row")];e?.props.highlightCurrentRow&&u===((f=t.store)==null?void 0:f.states.currentRow.value)&&d.push("current-row"),t.stripe&&c%2===1&&d.push(n.em("row","striped"));const h=e?.props.rowClassName;return Ht(h)?d.push(h):qt(h)&&d.push(h.call(null,{row:u,rowIndex:c})),d},getCellStyle:(u,c,f,d)=>{const h=e?.props.cellStyle;let p=h??{};qt(h)&&(p=h.call(null,{rowIndex:u,columnIndex:c,row:f,column:d}));const v=MH(c,t?.fixed,t.store);return Qb(v,"left"),Qb(v,"right"),Object.assign({},p,v)},getCellClass:(u,c,f,d,h)=>{const p=kH(n.b(),c,t?.fixed,t.store,void 0,h),v=[d.id,d.align,d.className,...p],g=e?.props.cellClassName;return Ht(g)?v.push(g):qt(g)&&v.push(g.call(null,{rowIndex:u,columnIndex:c,row:f,column:d})),v.push(n.e("cell")),v.filter(m=>!!m).join(" ")},getSpan:(u,c,f,d)=>{let h=1,p=1;const v=e?.props.spanMethod;if(qt(v)){const g=v({row:u,column:c,rowIndex:f,columnIndex:d});tt(g)?(h=g[0],p=g[1]):Nn(g)&&(h=g.rowspan,p=g.colspan)}return{rowspan:h,colspan:p}},getColspanRealWidth:(u,c,f)=>{if(c<1)return u[f].realWidth;const d=u.map(({realWidth:h,width:p})=>h||p).slice(f,f+c);return Number(d.reduce((h,p)=>Number(h)+Number(p),-1))}}}const RJe=ue({name:"TableTdWrapper"}),LJe=ue({...RJe,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(t){return(e,n)=>(N(),Q("td",{colspan:t.colspan,rowspan:t.rowspan},[Ee(e.$slots,"default")],8,["colspan","rowspan"]))}});var DJe=lt(LJe,[["__file","td-wrapper.vue"]]);function NJe(t){const e=bt(qc),n=Ye("table"),{handleDoubleClick:r,handleClick:i,handleContextMenu:o,handleMouseEnter:a,handleMouseLeave:s,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:c,tooltipTrigger:f}=OJe(t),{getRowStyle:d,getRowClass:h,getCellStyle:p,getCellClass:v,getSpan:g,getColspanRealWidth:m}=IJe(t),y=z(()=>{var C;return(C=t.store)==null?void 0:C.states.columns.value.findIndex(({type:E})=>E==="default")}),b=(C,E)=>{var T;const A=(T=e?.props)==null?void 0:T.rowKey;return A?ns(C,A):E},w=(C,E,T,A=!1)=>{const{tooltipEffect:k,tooltipOptions:M,store:D}=t,{indent:L,columns:I}=D.states,R=h(C,E);let V=!0;return T&&(R.push(n.em("row",`level-${T.level}`)),V=!!T.display),Rt("tr",{style:[V?null:{display:"none"},d(C,E)],class:R,key:b(C,E),onDblclick:B=>r(B,C),onClick:B=>i(B,C),onContextmenu:B=>o(B,C),onMouseenter:()=>a(E),onMouseleave:s},I.value.map((B,j)=>{const{rowspan:G,colspan:W}=g(C,B,E,j);if(!G||!W)return null;const Z=Object.assign({},B);Z.realWidth=m(I.value,W,j);const ee={store:D,_self:t.context||e,column:Z,row:C,$index:E,cellIndex:j,expanded:A};j===y.value&&T&&(ee.treeNode={indent:T.level&&T.level*L.value,level:T.level},ei(T.expanded)&&(ee.treeNode.expanded=T.expanded,"loading"in T&&(ee.treeNode.loading=T.loading),"noLazyChildren"in T&&(ee.treeNode.noLazyChildren=T.noLazyChildren)));const oe=`${b(C,E)},${j}`,ce=Z.columnKey||Z.rawColumnKey||"",X=B.showOverflowTooltip&&Bo({effect:k},M,B.showOverflowTooltip);return Rt(DJe,{style:p(E,j,C,B),class:v(E,j,C,B,W-1),key:`${ce}${oe}`,rowspan:G,colspan:W,onMouseenter:H=>l(H,C,X),onMouseleave:u},{default:()=>S(j,B,ee)})}))},S=(C,E,T)=>E.renderCell(T);return{wrappedRowRender:(C,E)=>{const T=t.store,{isRowExpanded:A,assertRowKey:k}=T,{treeData:M,lazyTreeNodeMap:D,childrenColumnName:L,rowKey:I}=T.states,R=T.states.columns.value;if(R.some(({type:P})=>P==="expand")){const P=A(C),B=w(C,E,void 0,P),j=e?.renderExpanded;if(!j)return console.error("[Element Error]renderExpanded is required."),B;const G=[[B]];return(e.props.preserveExpandedContent||P)&&G[0].push(Rt("tr",{key:`expanded-row__${B.key}`,style:{display:P?"":"none"}},[Rt("td",{colspan:R.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[j({row:C,$index:E,store:T,expanded:P})])])),G}else if(Object.keys(M.value).length){k();const P=ns(C,I.value);let B=M.value[P],j=null;B&&(j={expanded:B.expanded,level:B.level,display:!0,noLazyChildren:void 0,loading:void 0},ei(B.lazy)&&(j&&ei(B.loaded)&&B.loaded&&(j.noLazyChildren=!(B.children&&B.children.length)),j.loading=B.loading));const G=[w(C,E,j??void 0)];if(B){let W=0;const Z=(oe,ce)=>{oe&&oe.length&&ce&&oe.forEach(X=>{const H={display:ce.display&&ce.expanded,level:ce.level+1,expanded:!1,noLazyChildren:!1,loading:!1},U=ns(X,I.value);if(Cl(U))throw new Error("For nested data item, row-key is required.");if(B={...M.value[U]},B&&(H.expanded=B.expanded,B.level=B.level||H.level,B.display=!!(B.expanded&&H.display),ei(B.lazy)&&(ei(B.loaded)&&B.loaded&&(H.noLazyChildren=!(B.children&&B.children.length)),H.loading=B.loading)),W++,G.push(w(X,E+W,H)),B){const ne=D.value[U]||X[L.value];Z(ne,B)}})};B.display=!0;const ee=D.value[P]||C[L.value];Z(ee,B)}return G}else return w(C,E,void 0)},tooltipContent:c,tooltipTrigger:f}}const BJe={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var $Je=ue({name:"ElTableBody",props:BJe,setup(t){var e;const n=Un(),r=bt(qc),i=Ye("table"),{wrappedRowRender:o,tooltipContent:a,tooltipTrigger:s}=NJe(t),{onColumnsChange:l,onScrollableChange:u}=OH(r),c=[];return Le((e=t.store)==null?void 0:e.states.hoverRow,(f,d)=>{var h,p;const v=n?.vnode.el,g=Array.from(v?.children||[]).filter(b=>b?.classList.contains(`${i.e("row")}`));let m=f;const y=(h=g[m])==null?void 0:h.childNodes;if(y?.length){let b=0;Array.from(y).reduce((S,x,C)=>{var E,T;return((E=y[C])==null?void 0:E.colSpan)>1&&(b=(T=y[C])==null?void 0:T.colSpan),x.nodeName!=="TD"&&b===0&&S.push(C),b>0&&b--,S},[]).forEach(S=>{var x;for(m=f;m>0;){const C=(x=g[m-1])==null?void 0:x.childNodes;if(C[S]&&C[S].nodeName==="TD"&&C[S].rowSpan>1){Pu(C[S],"hover-cell"),c.push(C[S]);break}m--}})}else c.forEach(b=>Is(b,"hover-cell")),c.length=0;!((p=t.store)!=null&&p.states.isComplex.value)||!Ar||ev(()=>{const b=g[d],w=g[f];b&&!b.classList.contains("hover-fixed-row")&&Is(b,"hover-row"),w&&Pu(w,"hover-row")})}),Qu(()=>{var f;(f=bs)==null||f()}),{ns:i,onColumnsChange:l,onScrollableChange:u,wrappedRowRender:o,tooltipContent:a,tooltipTrigger:s}},render(){const{wrappedRowRender:t,store:e}=this,n=e?.states.data.value||[];return Rt("tbody",{tabIndex:-1},[n.reduce((r,i)=>r.concat(t(i,r.length)),[])])}});function FJe(){const t=bt(qc),e=t?.store,n=z(()=>{var s;return(s=e?.states.fixedLeafColumnsLength.value)!=null?s:0}),r=z(()=>{var s;return(s=e?.states.rightFixedColumns.value.length)!=null?s:0}),i=z(()=>{var s;return(s=e?.states.columns.value.length)!=null?s:0}),o=z(()=>{var s;return(s=e?.states.fixedColumns.value.length)!=null?s:0}),a=z(()=>{var s;return(s=e?.states.rightFixedColumns.value.length)!=null?s:0});return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:i,leftFixedCount:o,rightFixedCount:a,columns:z(()=>{var s;return(s=e?.states.columns.value)!=null?s:[]})}}function VJe(t){const{columns:e}=FJe(),n=Ye("table");return{getCellClasses:(o,a)=>{const s=o[a],l=[n.e("cell"),s.id,s.align,s.labelClassName,...kH(n.b(),a,s.fixed,t.store)];return s.className&&l.push(s.className),s.children||l.push(n.is("leaf")),l},getCellStyles:(o,a)=>{const s=MH(a,o.fixed,t.store);return Qb(s,"left"),Qb(s,"right"),s},columns:e}}var zJe=ue({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const e=bt(qc),n=Ye("table"),{getCellClasses:r,getCellStyles:i,columns:o}=VJe(t),{onScrollableChange:a,onColumnsChange:s}=OH(e);return{ns:n,onScrollableChange:a,onColumnsChange:s,getCellClasses:r,getCellStyles:i,columns:o}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:r,sumText:i}=this,o=this.store.states.data.value;let a=[];return r?a=r({columns:t,data:o}):t.forEach((s,l)=>{if(l===0){a[l]=i;return}const u=o.map(h=>Number(h[s.property])),c=[];let f=!0;u.forEach(h=>{if(!Number.isNaN(+h)){f=!1;const p=`${h}`.split(".")[1];c.push(p?p.length:0)}});const d=Math.max.apply(null,c);f?a[l]="":a[l]=u.reduce((h,p)=>{const v=Number(p);return Number.isNaN(+v)?h:Number.parseFloat((h+p).toFixed(Math.min(d,20)))},0)}),Rt(Rt("tfoot",[Rt("tr",{},[...t.map((s,l)=>Rt("td",{key:l,colspan:s.colSpan,rowspan:s.rowSpan,class:n(t,l),style:e(s,l)},[Rt("div",{class:["cell",s.labelClassName]},[a[l]])]))])]))}});function HJe(t){return{setCurrentRow:f=>{t.commit("setCurrentRow",f)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(f,d,h=!0)=>{t.toggleRowSelection(f,d,!1,h),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:f=>{t.clearFilter(f)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(f,d)=>{t.toggleRowExpansionAdapter(f,d)},clearSort:()=>{t.clearSort()},sort:(f,d)=>{t.commit("sort",{prop:f,order:d})},updateKeyChildren:(f,d)=>{t.updateKeyChildren(f,d)}}}function jJe(t,e,n,r){const i=F(!1),o=F(null),a=F(!1),s=V=>{a.value=V},l=F({width:null,height:null,headerHeight:null}),u=F(!1),c={display:"inline-block",verticalAlign:"middle"},f=F(),d=F(0),h=F(0),p=F(0),v=F(0),g=F(0);is(()=>{var V;e.setHeight((V=t.height)!=null?V:null)}),is(()=>{var V;e.setMaxHeight((V=t.maxHeight)!=null?V:null)}),Le(()=>[t.currentRowKey,n.states.rowKey],([V,P])=>{!_(P)||!_(V)||n.setCurrentRowKey(`${V}`)},{immediate:!0}),Le(()=>t.data,V=>{r.store.commit("setData",V)},{immediate:!0,deep:!0}),is(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const m=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},y=(V,P)=>{const{pixelX:B,pixelY:j}=P;Math.abs(B)>=Math.abs(j)&&(r.refs.bodyWrapper.scrollLeft+=P.pixelX/5)},b=z(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),w=z(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),S=()=>{b.value&&e.updateElsHeight(),e.updateColumnsWidth(),!(typeof window>"u")&&requestAnimationFrame(T)};Jt(async()=>{await Pt(),n.updateColumns(),A(),requestAnimationFrame(S);const V=r.vnode.el,P=r.refs.headerWrapper;t.flexible&&V&&V.parentElement&&(V.parentElement.style.minWidth="0"),l.value={width:f.value=V.offsetWidth,height:V.offsetHeight,headerHeight:t.showHeader&&P?P.offsetHeight:null},n.states.columns.value.forEach(B=>{B.filteredValue&&B.filteredValue.length&&r.store.commit("filterChange",{column:B,values:B.filteredValue,silent:!0})}),r.$ready=!0});const x=(V,P)=>{if(!V)return;const B=Array.from(V.classList).filter(j=>!j.startsWith("is-scrolling-"));B.push(e.scrollX.value?P:"is-scrolling-none"),V.className=B.join(" ")},C=V=>{const{tableWrapper:P}=r.refs;x(P,V)},E=V=>{const{tableWrapper:P}=r.refs;return!!(P&&P.classList.contains(V))},T=function(){if(!r.refs.scrollBarRef)return;if(!e.scrollX.value){const ee="is-scrolling-none";E(ee)||C(ee);return}const V=r.refs.scrollBarRef.wrapRef;if(!V)return;const{scrollLeft:P,offsetWidth:B,scrollWidth:j}=V,{headerWrapper:G,footerWrapper:W}=r.refs;G&&(G.scrollLeft=P),W&&(W.scrollLeft=P);const Z=j-B-1;P>=Z?C("is-scrolling-right"):C(P===0?"is-scrolling-left":"is-scrolling-middle")},A=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Lr(r.refs.scrollBarRef.wrapRef,"scroll",T,{passive:!0}),t.fit?Di(r.vnode.el,k):Lr(window,"resize",k),Di(r.refs.bodyWrapper,()=>{var V,P;k(),(P=(V=r.refs)==null?void 0:V.scrollBarRef)==null||P.update()}))},k=()=>{var V,P,B,j;const G=r.vnode.el;if(!r.$ready||!G)return;let W=!1;const{width:Z,height:ee,headerHeight:oe}=l.value,ce=f.value=G.offsetWidth;Z!==ce&&(W=!0);const X=G.offsetHeight;(t.height||b.value)&&ee!==X&&(W=!0);const H=t.tableLayout==="fixed"?r.refs.headerWrapper:(V=r.refs.tableHeaderRef)==null?void 0:V.$el;t.showHeader&&H?.offsetHeight!==oe&&(W=!0),d.value=((P=r.refs.tableWrapper)==null?void 0:P.scrollHeight)||0,p.value=H?.scrollHeight||0,v.value=((B=r.refs.footerWrapper)==null?void 0:B.offsetHeight)||0,g.value=((j=r.refs.appendWrapper)==null?void 0:j.offsetHeight)||0,h.value=d.value-p.value-v.value-g.value,W&&(l.value={width:ce,height:X,headerHeight:t.showHeader&&H?.offsetHeight||0},S())},M=Po(),D=z(()=>{const{bodyWidth:V,scrollY:P,gutterWidth:B}=e;return V.value?`${V.value-(P.value?B:0)}px`:""}),L=z(()=>t.maxHeight?"fixed":t.tableLayout),I=z(()=>{if(t.data&&t.data.length)return;let V="100%";t.height&&h.value&&(V=`${h.value}px`);const P=f.value;return{width:P?`${P}px`:"",height:V}}),R=z(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${p.value+v.value}px)`}:{maxHeight:`${+t.maxHeight-p.value-v.value}px`}:{});return{isHidden:i,renderExpanded:o,setDragVisible:s,isGroup:u,handleMouseLeave:m,handleHeaderFooterMousewheel:y,tableSize:M,emptyBlockStyle:I,resizeProxyVisible:a,bodyWidth:D,resizeState:l,doLayout:S,tableBodyStyles:w,tableLayout:L,scrollbarViewStyle:c,scrollbarStyle:R}}function GJe(t){const e=F(),n=()=>{const i=t.vnode.el.querySelector(".hidden-columns"),o={childList:!0,subtree:!0},a=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{a.forEach(s=>s())}),e.value.observe(i,o)};Jt(()=>{n()}),Qu(()=>{var r;(r=e.value)==null||r.disconnect()})}var UJe={data:{type:Array,default:()=>[]},size:Ho,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],tooltipFormatter:Function,appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0},preserveExpandedContent:Boolean,nativeScrollbar:Boolean};function Lve(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(({width:i})=>gr(i))&&(n=[]);const r=i=>{const o={key:`${t.tableLayout}_${i.id}`,style:{},name:void 0};return e?o.style={width:`${i.width}px`}:o.name=i.id,o};return Rt("colgroup",{},n.map(i=>Rt("col",r(i))))}Lve.props=["columns","tableLayout"];const WJe=()=>{const t=F(),e=(o,a)=>{const s=t.value;s&&s.scrollTo(o,a)},n=(o,a)=>{const s=t.value;s&&Zt(a)&&["Top","Left"].includes(o)&&s[`setScroll${o}`](a)};return{scrollBarRef:t,scrollTo:e,setScrollTop:o=>n("Top",o),setScrollLeft:o=>n("Left",o)}};var sX=!1,Vg,FF,VF,mk,yk,Dve,bk,zF,HF,jF,Nve,GF,UF,Bve,$ve;function hl(){if(!sX){sX=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(GF=/\b(iPhone|iP[ao]d)/.exec(t),UF=/\b(iP[ao]d)/.exec(t),jF=/Android/i.exec(t),Bve=/FBAN\/\w+;/i.exec(t),$ve=/Mobile/i.exec(t),Nve=!!/Win64/.exec(t),e){Vg=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Vg&&document&&document.documentMode&&(Vg=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);Dve=r?parseFloat(r[1])+4:Vg,FF=e[2]?parseFloat(e[2]):NaN,VF=e[3]?parseFloat(e[3]):NaN,mk=e[4]?parseFloat(e[4]):NaN,mk?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),yk=e&&e[1]?parseFloat(e[1]):NaN):yk=NaN}else Vg=FF=VF=yk=mk=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);bk=i?parseFloat(i[1].replace("_",".")):!0}else bk=!1;zF=!!n[2],HF=!!n[3]}else bk=zF=HF=!1}}var WF={ie:function(){return hl()||Vg},ieCompatibilityMode:function(){return hl()||Dve>Vg},ie64:function(){return WF.ie()&&Nve},firefox:function(){return hl()||FF},opera:function(){return hl()||VF},webkit:function(){return hl()||mk},safari:function(){return WF.webkit()},chrome:function(){return hl()||yk},windows:function(){return hl()||zF},osx:function(){return hl()||bk},linux:function(){return hl()||HF},iphone:function(){return hl()||GF},mobile:function(){return hl()||GF||UF||jF||$ve},nativeApp:function(){return hl()||Bve},android:function(){return hl()||jF},ipad:function(){return hl()||UF}},qJe=WF,KJe=!!(typeof window<"u"&&window.document&&window.document.createElement),YJe={canUseDOM:KJe},Fve=YJe,Vve;Fve.canUseDOM&&(Vve=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function XJe(t,e){if(!Fve.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&Vve&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var ZJe=XJe,lX=10,uX=40,cX=800;function zve(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*lX,i=n*lX,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=uX,i*=uX):(r*=cX,i*=cX)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}zve.getEventType=function(){return qJe.firefox()?"DOMMouseScroll":ZJe("wheel")?"wheel":"mousewheel"};var JJe=zve;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const QJe=function(t,e){if(t&&t.addEventListener){const n=function(r){const i=JJe(r);e&&Reflect.apply(e,this,[r,i])};t.addEventListener("wheel",n,{passive:!0})}},eQe={beforeMount(t,e){QJe(t,e.value)}};let tQe=1;const nQe=ue({name:"ElTable",directives:{Mousewheel:eQe},components:{TableHeader:PJe,TableBody:$Je,TableFooter:zJe,ElScrollbar:Mc,hColgroup:Lve},props:UJe,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(t){const{t:e}=Cr(),n=Ye("table"),r=Un();jn(qc,r);const i=_Je(r,t);r.store=i;const o=new SJe({store:r.store,table:r,fit:t.fit,showHeader:t.showHeader});r.layout=o;const a=z(()=>(i.states.data.value||[]).length===0),{setCurrentRow:s,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:f,toggleAllSelection:d,toggleRowExpansion:h,clearSort:p,sort:v,updateKeyChildren:g}=HJe(i),{isHidden:m,renderExpanded:y,setDragVisible:b,isGroup:w,handleMouseLeave:S,handleHeaderFooterMousewheel:x,tableSize:C,emptyBlockStyle:E,resizeProxyVisible:T,bodyWidth:A,resizeState:k,doLayout:M,tableBodyStyles:D,tableLayout:L,scrollbarViewStyle:I,scrollbarStyle:R}=jJe(t,o,i,r),{scrollBarRef:V,scrollTo:P,setScrollLeft:B,setScrollTop:j}=WJe(),G=rl(M,50),W=`${n.namespace.value}-table_${tQe++}`;r.tableId=W,r.state={isGroup:w,resizeState:k,doLayout:M,debouncedUpdateLayout:G};const Z=z(()=>{var ce;return(ce=t.sumText)!=null?ce:e("el.table.sumText")}),ee=z(()=>{var ce;return(ce=t.emptyText)!=null?ce:e("el.table.emptyText")}),oe=z(()=>Rve(i.states.originColumns.value)[0]);return GJe(r),ur(()=>{G.cancel()}),{ns:n,layout:o,store:i,columns:oe,handleHeaderFooterMousewheel:x,handleMouseLeave:S,tableId:W,tableSize:C,isHidden:m,isEmpty:a,renderExpanded:y,resizeProxyVisible:T,resizeState:k,isGroup:w,bodyWidth:A,tableBodyStyles:D,emptyBlockStyle:E,debouncedUpdateLayout:G,setCurrentRow:s,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:f,toggleAllSelection:d,toggleRowExpansion:h,clearSort:p,doLayout:M,sort:v,updateKeyChildren:g,t:e,setDragVisible:b,context:r,computedSumText:Z,computedEmptyText:ee,tableLayout:L,scrollbarViewStyle:I,scrollbarStyle:R,scrollBarRef:V,scrollTo:P,setScrollLeft:B,setScrollTop:j,allowDragLastColumn:t.allowDragLastColumn}}});function rQe(t,e,n,r,i,o){const a=pe("hColgroup"),s=pe("table-header"),l=pe("table-body"),u=pe("table-footer"),c=pe("el-scrollbar"),f=n2("mousewheel");return N(),Q("div",{ref:"tableWrapper",class:q([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:Ot(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:t.handleMouseLeave},[K("div",{class:q(t.ns.e("inner-wrapper"))},[K("div",{ref:"hiddenColumns",class:"hidden-columns"},[Ee(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?An((N(),Q("div",{key:0,ref:"headerWrapper",class:q(t.ns.e("header-wrapper"))},[K("table",{ref:"tableHeader",class:q(t.ns.e("header")),style:Ot(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[O(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),O(s,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,"allow-drag-last-column":t.allowDragLastColumn,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[f,t.handleHeaderFooterMousewheel]]):ge("v-if",!0),K("div",{ref:"bodyWrapper",class:q(t.ns.e("body-wrapper"))},[O(c,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn,tabindex:t.scrollbarTabindex,native:t.nativeScrollbar,onScroll:d=>t.$emit("scroll",d)},{default:$(()=>[K("table",{ref:"tableBody",class:q(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:Ot({width:t.bodyWidth,tableLayout:t.tableLayout})},[O(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(N(),de(s,{key:0,ref:"tableHeaderRef",class:q(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):ge("v-if",!0),O(l,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(N(),de(u,{key:1,class:q(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):ge("v-if",!0)],6),t.isEmpty?(N(),Q("div",{key:0,ref:"emptyBlock",style:Ot(t.emptyBlockStyle),class:q(t.ns.e("empty-block"))},[K("span",{class:q(t.ns.e("empty-text"))},[Ee(t.$slots,"empty",{},()=>[Be(Ne(t.computedEmptyText),1)])],2)],6)):ge("v-if",!0),t.$slots.append?(N(),Q("div",{key:1,ref:"appendWrapper",class:q(t.ns.e("append-wrapper"))},[Ee(t.$slots,"append")],2)):ge("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","native","onScroll"])],2),t.showSummary&&t.tableLayout==="fixed"?An((N(),Q("div",{key:1,ref:"footerWrapper",class:q(t.ns.e("footer-wrapper"))},[K("table",{class:q(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:Ot(t.tableBodyStyles)},[O(a,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),O(u,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[kr,!t.isEmpty],[f,t.handleHeaderFooterMousewheel]]):ge("v-if",!0),t.border||t.isGroup?(N(),Q("div",{key:2,class:q(t.ns.e("border-left-patch"))},null,2)):ge("v-if",!0)],2),An(K("div",{ref:"resizeProxy",class:q(t.ns.e("column-resize-proxy"))},null,2),[[kr,t.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var iQe=lt(nQe,[["render",rQe],["__file","table.vue"]]);const oQe={selection:"table-column--selection",expand:"table__expand-column"},aQe={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},sQe=t=>oQe[t]||"",lQe={selection:{renderHeader({store:t,column:e}){var n;function r(){return t.states.data.value&&t.states.data.value.length===0}return Rt(Ku,{disabled:r(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":(n=t.toggleAllSelection)!=null?n:void 0,modelValue:t.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:t,column:e,store:n,$index:r}){return Rt(Ku,{disabled:e.selectable?!e.selectable.call(null,t,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:i=>i.stopPropagation(),modelValue:n.isSelected(t),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const r=t.index;return Zt(r)?n=e+r:qt(r)&&(n=r(e)),Rt("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({column:t,row:e,store:n,expanded:r}){const{ns:i}=n,o=[i.e("expand-icon")];return!t.renderExpand&&r&&o.push(i.em("expand-icon","expanded")),Rt("div",{class:o,onClick:function(s){s.stopPropagation(),n.toggleRowExpansion(e)}},{default:()=>t.renderExpand?[t.renderExpand({expanded:r})]:[Rt(zt,null,{default:()=>[Rt(Rs)]})]})},sortable:!1,resizable:!1}};function uQe({row:t,column:e,$index:n}){var r;const i=e.property,o=i&&FS(t,i).value;return e&&e.formatter?e.formatter(t,e,o,n):((r=o?.toString)==null?void 0:r.call(o))||""}function cQe({row:t,treeNode:e,store:n},r=!1){const{ns:i}=n;if(!e)return r?[Rt("span",{class:i.e("placeholder")})]:null;const o=[],a=function(s){s.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&o.push(Rt("span",{class:i.e("indent"),style:{"padding-left":`${e.indent}px`}})),ei(e.expanded)&&!e.noLazyChildren){const s=[i.e("expand-icon"),e.expanded?i.em("expand-icon","expanded"):""];let l=Rs;e.loading&&(l=Kf),o.push(Rt("div",{class:s,onClick:a},{default:()=>[Rt(zt,{class:{[i.is("loading")]:e.loading}},{default:()=>[Rt(l)]})]}))}else o.push(Rt("span",{class:i.e("placeholder")}));return o}function fX(t,e){return t.reduce((n,r)=>(n[r]=r,n),e)}function fQe(t,e){const n=Un();return{registerComplexWatchers:()=>{const o=["fixed"],a={realWidth:"width",realMinWidth:"minWidth"},s=fX(o,a);Object.keys(s).forEach(l=>{const u=a[l];Rr(e,u)&&Le(()=>e[u],c=>{let f=c;u==="width"&&l==="realWidth"&&(f=AH(c)),u==="minWidth"&&l==="realMinWidth"&&(f=Ave(c)),n.columnConfig.value[u]=f,n.columnConfig.value[l]=f;const d=u==="fixed";t.value.store.scheduleLayout(d)})})},registerNormalWatchers:()=>{const o=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip","tooltipFormatter"],a=["showOverflowTooltip"],s={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},l=fX(o,s);Object.keys(l).forEach(u=>{const c=s[u];Rr(e,c)&&Le(()=>e[c],f=>{n.columnConfig.value[u]=f})}),a.forEach(u=>{Rr(t.value.props,u)&&Le(()=>t.value.props[u],c=>{n.columnConfig.value[u]=c})})}}}function dQe(t,e,n){const r=Un(),i=F(""),o=F(!1),a=F(),s=F(),l=Ye("table");is(()=>{a.value=t.align?`is-${t.align}`:null,a.value}),is(()=>{s.value=t.headerAlign?`is-${t.headerAlign}`:a.value,s.value});const u=z(()=>{let w=r.vnode.vParent||r.parent;for(;w&&!w.tableId&&!w.columnId;)w=w.vnode.vParent||w.parent;return w}),c=z(()=>{const{store:w}=r.parent;if(!w)return!1;const{treeData:S}=w.states,x=S.value;return x&&Object.keys(x).length>0}),f=F(AH(t.width)),d=F(Ave(t.minWidth)),h=w=>(f.value&&(w.width=f.value),d.value&&(w.minWidth=d.value),!f.value&&d.value&&(w.width=void 0),w.minWidth||(w.minWidth=80),w.realWidth=Number(gr(w.width)?w.minWidth:w.width),w),p=w=>{const S=w.type,x=lQe[S]||{};Object.keys(x).forEach(E=>{const T=x[E];E!=="className"&&!gr(T)&&(w[E]=T)});const C=sQe(S);if(C){const E=`${_(l.namespace)}-${C}`;w.className=w.className?`${w.className} ${E}`:E}return w},v=w=>{tt(w)?w.forEach(x=>S(x)):S(w);function S(x){var C;((C=x?.type)==null?void 0:C.name)==="ElTableColumn"&&(x.vParent=r)}};return{columnId:i,realAlign:a,isSubColumn:o,realHeaderAlign:s,columnOrTableParent:u,setColumnWidth:h,setColumnForcedProps:p,setColumnRenders:w=>{t.renderHeader||w.type!=="selection"&&(w.renderHeader=x=>(r.columnConfig.value.label,Ee(e,"header",x,()=>[w.label]))),e["filter-icon"]&&(w.renderFilterIcon=x=>Ee(e,"filter-icon",x)),e.expand&&(w.renderExpand=x=>Ee(e,"expand",x));let S=w.renderCell;return w.type==="expand"?(w.renderCell=x=>Rt("div",{class:"cell"},[S(x)]),n.value.renderExpanded=x=>e.default?e.default(x):e.default):(S=S||uQe,w.renderCell=x=>{let C=null;if(e.default){const D=e.default(x);C=D.some(L=>L.type!==yo)?D:S(x)}else C=S(x);const{columns:E}=n.value.store.states,T=E.value.findIndex(D=>D.type==="default"),A=c.value&&x.cellIndex===T,k=cQe(x,A),M={class:"cell",style:{}};return w.showOverflowTooltip&&(M.class=`${M.class} ${_(l.namespace)}-tooltip`,M.style={width:`${(x.column.realWidth||Number(x.column.width))-1}px`}),v(C),Rt("div",M,[k,C])}),w},getPropsData:(...w)=>w.reduce((S,x)=>(tt(x)&&x.forEach(C=>{S[C]=t[C]}),S),{}),getColumnElIndex:(w,S)=>Array.prototype.indexOf.call(w,S),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var hQe={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},tooltipFormatter:Function,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let pQe=1;var Hve=ue({name:"ElTableColumn",components:{ElCheckbox:Ku},props:hQe,setup(t,{slots:e}){const n=Un(),r=F({}),i=z(()=>{let b=n.parent;for(;b&&!b.tableId;)b=b.parent;return b}),{registerNormalWatchers:o,registerComplexWatchers:a}=fQe(i,t),{columnId:s,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:c,setColumnWidth:f,setColumnForcedProps:d,setColumnRenders:h,getPropsData:p,getColumnElIndex:v,realAlign:g,updateColumnOrder:m}=dQe(t,e,i),y=c.value;s.value=`${"tableId"in y&&y.tableId||"columnId"in y&&y.columnId}_column_${pQe++}`,ZO(()=>{l.value=i.value!==y;const b=t.type||"default",w=t.sortable===""?!0:t.sortable,S=b==="selection"?!1:gr(t.showOverflowTooltip)?y.props.showOverflowTooltip:t.showOverflowTooltip,x=gr(t.tooltipFormatter)?y.props.tooltipFormatter:t.tooltipFormatter,C={...aQe[b],id:s.value,type:b,property:t.prop||t.property,align:g,headerAlign:u,showOverflowTooltip:S,tooltipFormatter:x,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:w,index:t.index,rawColumnKey:n.vnode.key};let M=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);M=lJe(C,M),M=cJe(h,f,d)(M),r.value=M,o(),a()}),Jt(()=>{var b,w;const S=c.value,x=l.value?(b=S.vnode.el)==null?void 0:b.children:(w=S.refs.hiddenColumns)==null?void 0:w.children,C=()=>v(x||[],n.vnode.el);r.value.getColumnIndex=C,C()>-1&&i.value.store.commit("insertColumn",r.value,l.value?"columnConfig"in S&&S.columnConfig.value:null,m)}),ur(()=>{const b=r.value.getColumnIndex;(b?b():-1)>-1&&i.value.store.commit("removeColumn",r.value,l.value?"columnConfig"in y&&y.columnConfig.value:null,m)}),n.columnId=s.value,n.columnConfig=r},render(){var t,e,n;try{const r=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),i=[];if(tt(r))for(const a of r)((n=a.type)==null?void 0:n.name)==="ElTableColumn"||a.shapeFlag&2?i.push(a):a.type===ft&&tt(a.children)&&a.children.forEach(s=>{s?.patchFlag!==1024&&!Ht(s?.children)&&i.push(s)});return Rt("div",i)}catch{return Rt("div",[])}}});const vQe=kn(iQe,{TableColumn:Hve}),gQe=Wi(Hve);var Gx=(t=>(t.ASC="asc",t.DESC="desc",t))(Gx||{}),Ux=(t=>(t.LEFT="left",t.CENTER="center",t.RIGHT="right",t))(Ux||{}),jve=(t=>(t.LEFT="left",t.RIGHT="right",t))(jve||{});const qF={asc:"desc",desc:"asc"},Wx=Symbol("placeholder"),mQe=(t,e,n)=>{var r;const i={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(i.flexShrink=1);const o={...(r=t.style)!=null?r:{},...i,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&(o.maxWidth=t.maxWidth),t.minWidth&&(o.minWidth=t.minWidth)),o};function yQe(t,e,n){const r=z(()=>_(e).map((g,m)=>{var y,b;return{...g,key:(b=(y=g.key)!=null?y:g.dataKey)!=null?b:m}})),i=z(()=>_(r).filter(g=>!g.hidden)),o=z(()=>_(i).filter(g=>g.fixed==="left"||g.fixed===!0)),a=z(()=>_(i).filter(g=>g.fixed==="right")),s=z(()=>_(i).filter(g=>!g.fixed)),l=z(()=>{const g=[];return _(o).forEach(m=>{g.push({...m,placeholderSign:Wx})}),_(s).forEach(m=>{g.push(m)}),_(a).forEach(m=>{g.push({...m,placeholderSign:Wx})}),g}),u=z(()=>_(o).length||_(a).length),c=z(()=>_(r).reduce((g,m)=>(g[m.key]=mQe(m,_(n),t.fixed),g),{})),f=z(()=>_(i).reduce((g,m)=>g+m.width,0)),d=g=>_(r).find(m=>m.key===g),h=g=>_(c)[g],p=(g,m)=>{g.width=m};function v(g){var m;const{key:y}=g.currentTarget.dataset;if(!y)return;const{sortState:b,sortBy:w}=t;let S=Gx.ASC;Nn(b)?S=qF[b[y]]:S=qF[w.order],(m=t.onColumnSort)==null||m.call(t,{column:d(y),key:y,order:S})}return{columns:r,columnsStyles:c,columnsTotalWidth:f,fixedColumnsOnLeft:o,fixedColumnsOnRight:a,hasFixedColumns:u,mainColumns:l,normalColumns:s,visibleColumns:i,getColumn:d,getColumnStyle:h,updateColumnWidth:p,onColumnSorted:v}}const bQe=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:i})=>{const o=F({scrollLeft:0,scrollTop:0});function a(h){var p,v,g;const{scrollTop:m}=h;(p=e.value)==null||p.scrollTo(h),(v=n.value)==null||v.scrollToTop(m),(g=r.value)==null||g.scrollToTop(m)}function s(h){o.value=h,a(h)}function l(h){o.value.scrollTop=h,a(_(o))}function u(h){var p,v;o.value.scrollLeft=h,(v=(p=e.value)==null?void 0:p.scrollTo)==null||v.call(p,_(o))}function c(h){var p;s(h),(p=t.onScroll)==null||p.call(t,h)}function f({scrollTop:h}){const{scrollTop:p}=_(o);h!==p&&l(h)}function d(h,p="auto"){var v;(v=e.value)==null||v.scrollToRow(h,p)}return Le(()=>_(o).scrollTop,(h,p)=>{h>p&&i()}),{scrollPos:o,scrollTo:s,scrollToLeft:u,scrollToTop:l,scrollToRow:d,onScroll:c,onVerticalScroll:f}},_Qe=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,tableInstance:i,ns:o,isScrolling:a})=>{const s=Un(),{emit:l}=s,u=bi(!1),c=F(t.defaultExpandedRowKeys||[]),f=F(-1),d=bi(null),h=F({}),p=F({}),v=bi({}),g=bi({}),m=bi({}),y=z(()=>Zt(t.estimatedRowHeight));function b(A){var k;(k=t.onRowsRendered)==null||k.call(t,A),A.rowCacheEnd>_(f)&&(f.value=A.rowCacheEnd)}function w({hovered:A,rowKey:k}){if(a.value)return;i.vnode.el.querySelectorAll(`[rowkey="${String(k)}"]`).forEach(L=>{A?L.classList.add(o.is("hovered")):L.classList.remove(o.is("hovered"))})}function S({expanded:A,rowData:k,rowIndex:M,rowKey:D}){var L,I;const R=[..._(c)],V=R.indexOf(D);A?V===-1&&R.push(D):V>-1&&R.splice(V,1),c.value=R,l("update:expandedRowKeys",R),(L=t.onRowExpand)==null||L.call(t,{expanded:A,rowData:k,rowIndex:M,rowKey:D}),(I=t.onExpandedRowsChange)==null||I.call(t,R),i.vnode.el.querySelector(`.${o.is("hovered")}[rowkey="${String(D)}"]`)&&Pt(()=>w({hovered:!0,rowKey:D}))}const x=rl(()=>{var A,k,M,D;u.value=!0,h.value={..._(h),..._(p)},C(_(d),!1),p.value={},d.value=null,(A=e.value)==null||A.forceUpdate(),(k=n.value)==null||k.forceUpdate(),(M=r.value)==null||M.forceUpdate(),(D=s.proxy)==null||D.$forceUpdate(),u.value=!1},0);function C(A,k=!1){_(y)&&[e,n,r].forEach(M=>{const D=_(M);D&&D.resetAfterRowIndex(A,k)})}function E(A,k,M){const D=_(d);(D===null||D>M)&&(d.value=M),p.value[A]=k}function T({rowKey:A,height:k,rowIndex:M},D){D?D===jve.RIGHT?m.value[A]=k:v.value[A]=k:g.value[A]=k;const L=Math.max(...[v,m,g].map(I=>I.value[A]||0));_(h)[A]!==L&&(E(A,L,M),x())}return{expandedRowKeys:c,lastRenderedRowIndex:f,isDynamic:y,isResetting:u,rowHeights:h,resetAfterIndex:C,onRowExpanded:S,onRowHovered:w,onRowsRendered:b,onRowHeightChange:T}},wQe=(t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const i=F({}),o=z(()=>{const s={},{data:l,rowKey:u}=t,c=_(e);if(!c||!c.length)return l;const f=[],d=new Set;c.forEach(p=>d.add(p));let h=l.slice();for(h.forEach(p=>s[p[u]]=0);h.length>0;){const p=h.shift();f.push(p),d.has(p[u])&&tt(p.children)&&p.children.length>0&&(h=[...p.children,...h],p.children.forEach(v=>s[v[u]]=s[p[u]]+1))}return i.value=s,f}),a=z(()=>{const{data:s,expandColumnKey:l}=t;return l?_(o):s});return Le(a,(s,l)=>{s!==l&&(n.value=-1,r(0,!0))}),{data:a,depthMap:i}},SQe=(t,e)=>t+e,_k=t=>tt(t)?t.reduce(SQe,0):t,$m=(t,e,n={})=>qt(t)?t(e):t??n,Ep=t=>(["width","maxWidth","minWidth","height"].forEach(e=>{t[e]=Qi(t[e])}),t),Gve=t=>wi(t)?e=>Rt(t,e):t,xQe=(t,{columnsTotalWidth:e,rowsHeight:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:i})=>{const o=z(()=>{const{fixed:m,width:y,vScrollbarSize:b}=t,w=y-b;return m?Math.max(Math.round(_(e)),w):w}),a=z(()=>{const{height:m=0,maxHeight:y=0,footerHeight:b,hScrollbarSize:w}=t;if(y>0){const S=_(d),x=_(n),E=_(f)+S+x+w;return Math.min(E,y-b)}return m-b}),s=z(()=>{const{maxHeight:m}=t,y=_(a);if(Zt(m)&&m>0)return y;const b=_(n)+_(f)+_(d);return Math.min(y,b)}),l=m=>m.width,u=z(()=>_k(_(r).map(l))),c=z(()=>_k(_(i).map(l))),f=z(()=>_k(t.headerHeight)),d=z(()=>{var m;return(((m=t.fixedData)==null?void 0:m.length)||0)*t.rowHeight}),h=z(()=>_(a)-_(f)-_(d)),p=z(()=>{const{style:m={},height:y,width:b}=t;return Ep({...m,height:y,width:b})}),v=z(()=>Ep({height:t.footerHeight})),g=z(()=>({top:Qi(_(f)),bottom:Qi(t.footerHeight),width:Qi(t.width)}));return{bodyWidth:o,fixedTableHeight:s,mainTableHeight:a,leftTableWidth:u,rightTableWidth:c,windowHeight:h,footerHeight:v,emptyStyle:g,rootStyle:p,headerHeight:f}};function CQe(t){const e=F(),n=F(),r=F(),{columns:i,columnsStyles:o,columnsTotalWidth:a,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,hasFixedColumns:u,mainColumns:c,onColumnSorted:f}=yQe(t,Hr(t,"columns"),Hr(t,"fixed")),{scrollTo:d,scrollToLeft:h,scrollToTop:p,scrollToRow:v,onScroll:g,onVerticalScroll:m,scrollPos:y}=bQe(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,onMaybeEndReached:se}),b=Ye("table-v2"),w=Un(),S=bi(!1),{expandedRowKeys:x,lastRenderedRowIndex:C,isDynamic:E,isResetting:T,rowHeights:A,resetAfterIndex:k,onRowExpanded:M,onRowHeightChange:D,onRowHovered:L,onRowsRendered:I}=_Qe(t,{mainTableRef:e,leftTableRef:n,rightTableRef:r,tableInstance:w,ns:b,isScrolling:S}),{data:R,depthMap:V}=wQe(t,{expandedRowKeys:x,lastRenderedRowIndex:C,resetAfterIndex:k}),P=z(()=>{const{estimatedRowHeight:he,rowHeight:ye}=t,_e=_(R);return Zt(he)?Object.values(_(A)).reduce((fe,Ce)=>fe+Ce,0):_e.length*ye}),{bodyWidth:B,fixedTableHeight:j,mainTableHeight:G,leftTableWidth:W,rightTableWidth:Z,windowHeight:ee,footerHeight:oe,emptyStyle:ce,rootStyle:X,headerHeight:H}=xQe(t,{columnsTotalWidth:a,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,rowsHeight:P}),U=F(),ne=z(()=>{const he=_(R).length===0;return tt(t.fixedData)?t.fixedData.length===0&&he:he});function J(he){const{estimatedRowHeight:ye,rowHeight:_e,rowKey:fe}=t;return ye?_(A)[_(R)[he][fe]]||ye:_e}const Y=F(!1);function se(){const{onEndReached:he}=t;if(!he)return;const{scrollTop:ye}=_(y),_e=_(P),fe=_(ee),Ce=_e-(ye+fe)+t.hScrollbarSize;!Y.value&&_(C)>=0&&_e<=ye+_(G)-_(H)?(Y.value=!0,he(Ce)):Y.value=!1}return Le(()=>_(P),()=>Y.value=!1),Le(()=>t.expandedRowKeys,he=>x.value=he,{deep:!0}),{columns:i,containerRef:U,mainTableRef:e,leftTableRef:n,rightTableRef:r,isDynamic:E,isResetting:T,isScrolling:S,hasFixedColumns:u,columnsStyles:o,columnsTotalWidth:a,data:R,expandedRowKeys:x,depthMap:V,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,mainColumns:c,bodyWidth:B,emptyStyle:ce,rootStyle:X,footerHeight:oe,mainTableHeight:G,fixedTableHeight:j,leftTableWidth:W,rightTableWidth:Z,showEmpty:ne,getRowHeight:J,onColumnSorted:f,onRowHovered:L,onRowExpanded:M,onRowsRendered:I,onRowHeightChange:D,scrollTo:d,scrollToLeft:h,scrollToTop:p,scrollToRow:v,onScroll:g,onVerticalScroll:m}}const IH=Symbol("tableV2"),Uve="tableV2GridScrollLeft",Wve=String,_2={type:me(Array),required:!0},RH={type:me(Array)},qve={...RH,required:!0},EQe=String,dX={type:me(Array),default:()=>ji([])},zg={type:Number,required:!0},Kve={type:me([String,Number,Symbol]),default:"id"},hX={type:me(Object)},Zg=rt({class:String,columns:_2,columnsStyles:{type:me(Object),required:!0},depth:Number,expandColumnKey:EQe,estimatedRowHeight:{...gm.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:me(Function)},onRowHover:{type:me(Function)},onRowHeightChange:{type:me(Function)},rowData:{type:me(Object),required:!0},rowEventHandlers:{type:me(Object)},rowIndex:{type:Number,required:!0},rowKey:Kve,style:{type:me(Object)}}),GD={type:Number,required:!0},LH=rt({class:String,columns:_2,fixedHeaderData:{type:me(Array)},headerData:{type:me(Array),required:!0},headerHeight:{type:me([Number,Array]),default:50},rowWidth:GD,rowHeight:{type:Number,default:50},height:GD,width:GD}),wk=rt({columns:_2,data:qve,fixedData:RH,estimatedRowHeight:Zg.estimatedRowHeight,width:zg,height:zg,headerWidth:zg,headerHeight:LH.headerHeight,bodyWidth:zg,rowHeight:zg,cache:hve.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:gm.scrollbarAlwaysOn,scrollbarStartGap:gm.scrollbarStartGap,scrollbarEndGap:gm.scrollbarEndGap,class:Wve,style:hX,containerStyle:hX,getRowHeight:{type:me(Function),required:!0},rowKey:Zg.rowKey,onRowsRendered:{type:me(Function)},onScroll:{type:me(Function)}}),TQe=rt({cache:wk.cache,estimatedRowHeight:Zg.estimatedRowHeight,rowKey:Kve,headerClass:{type:me([String,Function])},headerProps:{type:me([Object,Function])},headerCellProps:{type:me([Object,Function])},headerHeight:LH.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:me([String,Function])},rowProps:{type:me([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:me([Object,Function])},columns:_2,data:qve,dataGetter:{type:me(Function)},fixedData:RH,expandColumnKey:Zg.expandColumnKey,expandedRowKeys:dX,defaultExpandedRowKeys:dX,class:Wve,fixed:Boolean,style:{type:me(Object)},width:zg,height:zg,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:gm.hScrollbarSize,vScrollbarSize:gm.vScrollbarSize,scrollbarAlwaysOn:gve.alwaysOn,sortBy:{type:me(Object),default:()=>({})},sortState:{type:me(Object),default:void 0},onColumnSort:{type:me(Function)},onExpandedRowsChange:{type:me(Function)},onEndReached:{type:me(Function)},onRowExpand:Zg.onRowExpand,onScroll:wk.onScroll,onRowsRendered:wk.onRowsRendered,rowEventHandlers:Zg.rowEventHandlers}),AQe="ElTableV2Header",kQe=ue({name:AQe,props:LH,setup(t,{slots:e,expose:n}){const r=Ye("table-v2"),i=bt(Uve),o=F(),a=z(()=>Ep({width:t.width,height:t.height})),s=z(()=>Ep({width:t.rowWidth,height:t.height})),l=z(()=>wa(_(t.headerHeight))),u=d=>{const h=_(o);Pt(()=>{h?.scroll&&h.scroll({left:d})})},c=()=>{const d=r.e("fixed-header-row"),{columns:h,fixedHeaderData:p,rowHeight:v}=t;return p?.map((g,m)=>{var y;const b=Ep({height:v,width:"100%"});return(y=e.fixed)==null?void 0:y.call(e,{class:d,columns:h,rowData:g,rowIndex:-(m+1),style:b})})},f=()=>{const d=r.e("dynamic-header-row"),{columns:h}=t;return _(l).map((p,v)=>{var g;const m=Ep({width:"100%",height:p});return(g=e.dynamic)==null?void 0:g.call(e,{class:d,columns:h,headerIndex:v,style:m})})};return Hc(()=>{i?.value&&u(i.value)}),n({scrollToLeft:u}),()=>{if(!(t.height<=0))return O("div",{ref:o,class:t.class,style:_(a),role:"rowgroup"},[O("div",{style:_(s),class:r.e("header")},[f(),c()])])}}});var MQe=kQe;const PQe=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:r},i)=>{let o=null,a=0,s=0;const l=(c,f)=>{const d=c<=0&&e.value||c>=0&&t.value,h=f<=0&&r.value||f>=0&&n.value;return d&&h};return{hasReachedEdge:l,onWheel:c=>{Nm(o);let f=c.deltaX,d=c.deltaY;Math.abs(f)>Math.abs(d)?d=0:f=0,c.shiftKey&&d!==0&&(f=d,d=0),!(l(a,s)&&l(a+f,s+d))&&(a+=f,s+=d,c.preventDefault(),o=ev(()=>{i(a,s),a=0,s=0}))}}},Yve=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:i,getEstimatedTotalHeight:o,getEstimatedTotalWidth:a,getColumnOffset:s,getRowOffset:l,getRowPosition:u,getRowStartIndexForOffset:c,getRowStopIndexForStartIndex:f,initCache:d,injectToInstance:h,validateProps:p})=>ue({name:t??"ElVirtualList",props:gm,emits:[jM,GM],setup(v,{emit:g,expose:m,slots:y}){const b=Ye("vl");p(v);const w=Un(),S=F(d(v,w));h?.(w,S);const x=F(),C=F(),E=F(),T=F(null),A=F({isScrolling:!1,scrollLeft:Zt(v.initScrollLeft)?v.initScrollLeft:0,scrollTop:Zt(v.initScrollTop)?v.initScrollTop:0,updateRequested:!1,xAxisScrollDir:Y0,yAxisScrollDir:Y0}),k=cve(),M=z(()=>Number.parseInt(`${v.height}`,10)),D=z(()=>Number.parseInt(`${v.width}`,10)),L=z(()=>{const{totalColumn:fe,totalRow:Ce,columnCache:Oe}=v,{isScrolling:Ue,xAxisScrollDir:qe,scrollLeft:ze}=_(A);if(fe===0||Ce===0)return[0,0,0,0];const ae=r(v,ze,_(S)),Fe=i(v,ae,ze,_(S)),We=!Ue||qe===UM?Math.max(1,Oe):1,dn=!Ue||qe===Y0?Math.max(1,Oe):1;return[Math.max(0,ae-We),Math.max(0,Math.min(fe-1,Fe+dn)),ae,Fe]}),I=z(()=>{const{totalColumn:fe,totalRow:Ce,rowCache:Oe}=v,{isScrolling:Ue,yAxisScrollDir:qe,scrollTop:ze}=_(A);if(fe===0||Ce===0)return[0,0,0,0];const ae=c(v,ze,_(S)),Fe=f(v,ae,ze,_(S)),We=!Ue||qe===UM?Math.max(1,Oe):1,dn=!Ue||qe===Y0?Math.max(1,Oe):1;return[Math.max(0,ae-We),Math.max(0,Math.min(Ce-1,Fe+dn)),ae,Fe]}),R=z(()=>o(v,_(S))),V=z(()=>a(v,_(S))),P=z(()=>{var fe;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:v.direction,height:Zt(v.height)?`${v.height}px`:v.height,width:Zt(v.width)?`${v.width}px`:v.width},(fe=v.style)!=null?fe:{}]}),B=z(()=>{const fe=`${_(V)}px`;return{height:`${_(R)}px`,pointerEvents:_(A).isScrolling?"none":void 0,width:fe}}),j=()=>{const{totalColumn:fe,totalRow:Ce}=v;if(fe>0&&Ce>0){const[Fe,We,dn,At]=_(L),[$e,Kt,Kn,$t]=_(I);g(jM,{columnCacheStart:Fe,columnCacheEnd:We,rowCacheStart:$e,rowCacheEnd:Kt,columnVisibleStart:dn,columnVisibleEnd:At,rowVisibleStart:Kn,rowVisibleEnd:$t})}const{scrollLeft:Oe,scrollTop:Ue,updateRequested:qe,xAxisScrollDir:ze,yAxisScrollDir:ae}=_(A);g(GM,{xAxisScrollDir:ze,scrollLeft:Oe,yAxisScrollDir:ae,scrollTop:Ue,updateRequested:qe})},G=fe=>{const{clientHeight:Ce,clientWidth:Oe,scrollHeight:Ue,scrollLeft:qe,scrollTop:ze,scrollWidth:ae}=fe.currentTarget,Fe=_(A);if(Fe.scrollTop===ze&&Fe.scrollLeft===qe)return;let We=qe;if(ZY(v.direction))switch(qM()){case Hx:We=-qe;break;case TH:We=ae-Oe-qe;break}A.value={...Fe,isScrolling:!0,scrollLeft:We,scrollTop:Math.max(0,Math.min(ze,Ue-Ce)),updateRequested:!0,xAxisScrollDir:Xg(Fe.scrollLeft,We),yAxisScrollDir:Xg(Fe.scrollTop,ze)},Pt(()=>H()),U(),j()},W=(fe,Ce)=>{const Oe=_(M),Ue=(R.value-Oe)/Ce*fe;oe({scrollTop:Math.min(R.value-Oe,Ue)})},Z=(fe,Ce)=>{const Oe=_(D),Ue=(V.value-Oe)/Ce*fe;oe({scrollLeft:Math.min(V.value-Oe,Ue)})},{onWheel:ee}=PQe({atXStartEdge:z(()=>A.value.scrollLeft<=0),atXEndEdge:z(()=>A.value.scrollLeft>=V.value-_(D)),atYStartEdge:z(()=>A.value.scrollTop<=0),atYEndEdge:z(()=>A.value.scrollTop>=R.value-_(M))},(fe,Ce)=>{var Oe,Ue,qe,ze;(Ue=(Oe=C.value)==null?void 0:Oe.onMouseUp)==null||Ue.call(Oe),(ze=(qe=E.value)==null?void 0:qe.onMouseUp)==null||ze.call(qe);const ae=_(D),Fe=_(M);oe({scrollLeft:Math.min(A.value.scrollLeft+fe,V.value-ae),scrollTop:Math.min(A.value.scrollTop+Ce,R.value-Fe)})});Lr(x,"wheel",ee,{passive:!1});const oe=({scrollLeft:fe=A.value.scrollLeft,scrollTop:Ce=A.value.scrollTop})=>{fe=Math.max(fe,0),Ce=Math.max(Ce,0);const Oe=_(A);Ce===Oe.scrollTop&&fe===Oe.scrollLeft||(A.value={...Oe,xAxisScrollDir:Xg(Oe.scrollLeft,fe),yAxisScrollDir:Xg(Oe.scrollTop,Ce),scrollLeft:fe,scrollTop:Ce,updateRequested:!0},Pt(()=>H()),U(),j())},ce=(fe=0,Ce=0,Oe=Ou)=>{const Ue=_(A);Ce=Math.max(0,Math.min(Ce,v.totalColumn-1)),fe=Math.max(0,Math.min(fe,v.totalRow-1));const qe=Vde(b.namespace.value),ze=_(S),ae=o(v,ze),Fe=a(v,ze);oe({scrollLeft:s(v,Ce,Oe,Ue.scrollLeft,ze,Fe>v.width?qe:0),scrollTop:l(v,fe,Oe,Ue.scrollTop,ze,ae>v.height?qe:0)})},X=(fe,Ce)=>{const{columnWidth:Oe,direction:Ue,rowHeight:qe}=v,ze=k.value(e&&Oe,e&&qe,e&&Ue),ae=`${fe},${Ce}`;if(Rr(ze,ae))return ze[ae];{const[,Fe]=n(v,Ce,_(S)),We=_(S),dn=ZY(Ue),[At,$e]=u(v,fe,We),[Kt]=n(v,Ce,We);return ze[ae]={position:"absolute",left:dn?void 0:`${Fe}px`,right:dn?`${Fe}px`:void 0,top:`${$e}px`,height:`${At}px`,width:`${Kt}px`},ze[ae]}},H=()=>{A.value.isScrolling=!1,Pt(()=>{k.value(-1,null,null)})};Jt(()=>{if(!Ar)return;const{initScrollLeft:fe,initScrollTop:Ce}=v,Oe=_(x);Oe&&(Zt(fe)&&(Oe.scrollLeft=fe),Zt(Ce)&&(Oe.scrollTop=Ce)),j()});const U=()=>{const{direction:fe}=v,{scrollLeft:Ce,scrollTop:Oe,updateRequested:Ue}=_(A),qe=_(x);if(Ue&&qe){if(fe===gb)switch(qM()){case Hx:{qe.scrollLeft=-Ce;break}case EH:{qe.scrollLeft=Ce;break}default:{const{clientWidth:ze,scrollWidth:ae}=qe;qe.scrollLeft=ae-ze-Ce;break}}else qe.scrollLeft=Math.max(0,Ce);qe.scrollTop=Math.max(0,Oe)}},{resetAfterColumnIndex:ne,resetAfterRowIndex:J,resetAfter:Y}=w.proxy;m({windowRef:x,innerRef:T,getItemStyleCache:k,scrollTo:oe,scrollToItem:ce,states:A,resetAfterColumnIndex:ne,resetAfterRowIndex:J,resetAfter:Y});const se=()=>{const{scrollbarAlwaysOn:fe,scrollbarStartGap:Ce,scrollbarEndGap:Oe,totalColumn:Ue,totalRow:qe}=v,ze=_(D),ae=_(M),Fe=_(V),We=_(R),{scrollLeft:dn,scrollTop:At}=_(A),$e=Rt(NF,{ref:C,alwaysOn:fe,startGap:Ce,endGap:Oe,class:b.e("horizontal"),clientSize:ze,layout:"horizontal",onScroll:Z,ratio:ze*100/Fe,scrollFrom:dn/(Fe-ze),total:qe,visible:!0}),Kt=Rt(NF,{ref:E,alwaysOn:fe,startGap:Ce,endGap:Oe,class:b.e("vertical"),clientSize:ae,layout:"vertical",onScroll:W,ratio:ae*100/We,scrollFrom:At/(We-ae),total:Ue,visible:!0});return{horizontalScrollbar:$e,verticalScrollbar:Kt}},he=()=>{var fe;const[Ce,Oe]=_(L),[Ue,qe]=_(I),{data:ze,totalColumn:ae,totalRow:Fe,useIsScrolling:We,itemKey:dn}=v,At=[];if(Fe>0&&ae>0)for(let $e=Ue;$e<=qe;$e++)for(let Kt=Ce;Kt<=Oe;Kt++){const Kn=dn({columnIndex:Kt,data:ze,rowIndex:$e});At.push(Rt(ft,{key:Kn},(fe=y.default)==null?void 0:fe.call(y,{columnIndex:Kt,data:ze,isScrolling:We?_(A).isScrolling:void 0,style:X($e,Kt),rowIndex:$e})))}return At},ye=()=>{const fe=Vn(v.innerElement),Ce=he();return[Rt(fe,{style:_(B),ref:T},Ht(fe)?Ce:{default:()=>Ce})]};return()=>{const fe=Vn(v.containerElement),{horizontalScrollbar:Ce,verticalScrollbar:Oe}=se(),Ue=ye();return Rt("div",{key:0,class:b.e("wrapper"),role:v.role},[Rt(fe,{class:v.className,style:_(P),onScroll:G,ref:x},Ht(fe)?Ue:{default:()=>Ue}),Ce,Oe])}}}),{max:XM,min:Xve,floor:Zve}=Math,OQe={column:"columnWidth",row:"rowHeight"},KF={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Od=(t,e,n,r)=>{const[i,o,a]=[n[r],t[OQe[r]],n[KF[r]]];if(e>a){let s=0;if(a>=0){const l=i[a];s=l.offset+l.size}for(let l=a+1;l<=e;l++){const u=o(l);i[l]={offset:s,size:u},s+=u}n[KF[r]]=e}return i[e]},Jve=(t,e,n,r,i,o)=>{for(;n<=r;){const a=n+Zve((r-n)/2),s=Od(t,a,e,o).offset;if(s===i)return a;s<i?n=a+1:r=a-1}return XM(0,n-1)},IQe=(t,e,n,r,i)=>{const o=i==="column"?t.totalColumn:t.totalRow;let a=1;for(;n<o&&Od(t,n,e,i).offset<r;)n+=a,a*=2;return Jve(t,e,Zve(n/2),Xve(n,o-1),r,i)},pX=(t,e,n,r)=>{const[i,o]=[e[r],e[KF[r]]];return(o>0?i[o].offset:0)>=n?Jve(t,e,0,o,n,r):IQe(t,e,XM(0,o),n,r)},Qve=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:r})=>{let i=0;if(n>=t&&(n=t-1),n>=0){const s=r[n];i=s.offset+s.size}const a=(t-n-1)*e;return i+a},ege=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let i=0;if(r>t&&(r=t-1),r>=0){const s=e[r];i=s.offset+s.size}const a=(t-r-1)*n;return i+a},RQe={column:ege,row:Qve},vX=(t,e,n,r,i,o,a)=>{const[s,l]=[o==="row"?t.height:t.width,RQe[o]],u=Od(t,e,i,o),c=l(t,i),f=XM(0,Xve(c-s,u.offset)),d=XM(0,u.offset-s+a+u.size);switch(n===kI&&(r>=d-s&&r<=f+s?n=Ou:n=Of),n){case Vx:return f;case zx:return d;case Of:return Math.round(d+(f-d)/2);case Ou:default:return r>=d&&r<=f?r:d>f||r<d?d:f}},LQe=Yve({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const r=Od(t,e,n,"column");return[r.size,r.offset]},getRowPosition:(t,e,n)=>{const r=Od(t,e,n,"row");return[r.size,r.offset]},getColumnOffset:(t,e,n,r,i,o)=>vX(t,e,n,r,i,"column",o),getRowOffset:(t,e,n,r,i,o)=>vX(t,e,n,r,i,"row",o),getColumnStartIndexForOffset:(t,e,n)=>pX(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,r)=>{const i=Od(t,e,r,"column"),o=n+t.width;let a=i.offset+i.size,s=e;for(;s<t.totalColumn-1&&a<o;)s++,a+=Od(t,e,r,"column").size;return s},getEstimatedTotalHeight:Qve,getEstimatedTotalWidth:ege,getRowStartIndexForOffset:(t,e,n)=>pX(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,r)=>{const{totalRow:i,height:o}=t,a=Od(t,e,r,"row"),s=n+o;let l=a.size+a.offset,u=e;for(;u<i-1&&l<s;)u++,l+=Od(t,u,r,"row").size;return u},injectToInstance:(t,e)=>{const n=({columnIndex:o,rowIndex:a},s)=>{var l,u;s=gr(s)?!0:s,Zt(o)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,o-1)),Zt(a)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,a-1)),(l=t.exposed)==null||l.getItemStyleCache.value(-1,null,null),s&&((u=t.proxy)==null||u.$forceUpdate())},r=(o,a)=>{n({columnIndex:o},a)},i=(o,a)=>{n({rowIndex:o},a)};Object.assign(t.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:i,resetAfter:n})},initCache:({estimatedColumnWidth:t=PF,estimatedRowHeight:e=PF})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),DQe=Yve({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},r,i,o,a,s)=>{n=Number(n);const l=Math.max(0,t*e-n),u=Math.min(l,r*e),c=Math.max(0,r*e-n+s+e);switch(i==="smart"&&(o>=c-n&&o<=u+n?i=Ou:i=Of),i){case Vx:return u;case zx:return c;case Of:{const f=Math.round(c+(u-c)/2);return f<Math.ceil(n/2)?0:f>l+Math.floor(n/2)?l:f}case Ou:default:return o>=c&&o<=u?o:c>u||o<c?c:u}},getRowOffset:({rowHeight:t,height:e,totalRow:n},r,i,o,a,s)=>{e=Number(e);const l=Math.max(0,n*t-e),u=Math.min(l,r*t),c=Math.max(0,r*t-e+s+t);switch(i===kI&&(o>=c-e&&o<=u+e?i=Ou:i=Of),i){case Vx:return u;case zx:return c;case Of:{const f=Math.round(c+(u-c)/2);return f<Math.ceil(e/2)?0:f>l+Math.floor(e/2)?l:f}case Ou:default:return o>=c&&o<=u?o:c>u||o<c?c:u}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},r,i)=>{const o=r*t,a=Math.ceil((n+i-o)/t);return Math.max(0,Math.min(e-1,r+a-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},r,i)=>{const o=r*t,a=Math.ceil((n+i-o)/t);return Math.max(0,Math.min(e-1,r+a-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}}),NQe="ElTableV2Grid",BQe=t=>{const e=F(),n=F(),r=F(0),i=z(()=>{const{data:g,rowHeight:m,estimatedRowHeight:y}=t;if(!y)return g.length*m}),o=z(()=>{const{fixedData:g,rowHeight:m}=t;return(g?.length||0)*m}),a=z(()=>_k(t.headerHeight)),s=z(()=>{const{height:g}=t;return Math.max(0,g-_(a)-_(o))}),l=z(()=>_(a)+_(o)>0),u=({data:g,rowIndex:m})=>g[m][t.rowKey];function c({rowCacheStart:g,rowCacheEnd:m,rowVisibleStart:y,rowVisibleEnd:b}){var w;(w=t.onRowsRendered)==null||w.call(t,{rowCacheStart:g,rowCacheEnd:m,rowVisibleStart:y,rowVisibleEnd:b})}function f(g,m){var y;(y=n.value)==null||y.resetAfterRowIndex(g,m)}function d(g,m){const y=_(e),b=_(n);Nn(g)?(y?.scrollToLeft(g.scrollLeft),r.value=g.scrollLeft,b?.scrollTo(g)):(y?.scrollToLeft(g),r.value=g,b?.scrollTo({scrollLeft:g,scrollTop:m}))}function h(g){var m;(m=_(n))==null||m.scrollTo({scrollTop:g})}function p(g,m){var y;(y=_(n))==null||y.scrollToItem(g,1,m)}function v(){var g,m;(g=_(n))==null||g.$forceUpdate(),(m=_(e))==null||m.$forceUpdate()}return Le(()=>t.bodyWidth,()=>{var g;Zt(t.estimatedRowHeight)&&((g=n.value)==null||g.resetAfter({columnIndex:0},!1))}),{bodyRef:n,forceUpdate:v,fixedRowHeight:o,gridHeight:s,hasHeader:l,headerHeight:a,headerRef:e,totalHeight:i,itemKey:u,onItemRendered:c,resetAfterRowIndex:f,scrollTo:d,scrollToTop:h,scrollToRow:p,scrollLeft:r}},$Qe=ue({name:NQe,props:wk,setup(t,{slots:e,expose:n}){const{ns:r}=bt(IH),{bodyRef:i,fixedRowHeight:o,gridHeight:a,hasHeader:s,headerRef:l,headerHeight:u,totalHeight:c,forceUpdate:f,itemKey:d,onItemRendered:h,resetAfterRowIndex:p,scrollTo:v,scrollToTop:g,scrollToRow:m,scrollLeft:y}=BQe(t);jn(Uve,y),YO(async()=>{var w;await Pt();const S=(w=i.value)==null?void 0:w.states.scrollTop;S&&g(Math.round(S)+1)}),n({forceUpdate:f,totalHeight:c,scrollTo:v,scrollToTop:g,scrollToRow:m,resetAfterRowIndex:p});const b=()=>t.bodyWidth;return()=>{const{cache:w,columns:S,data:x,fixedData:C,useIsScrolling:E,scrollbarAlwaysOn:T,scrollbarEndGap:A,scrollbarStartGap:k,style:M,rowHeight:D,bodyWidth:L,estimatedRowHeight:I,headerWidth:R,height:V,width:P,getRowHeight:B,onScroll:j}=t,G=Zt(I),W=G?LQe:DQe,Z=_(u);return O("div",{role:"table",class:[r.e("table"),t.class],style:M},[O(W,{ref:i,data:x,useIsScrolling:E,itemKey:d,columnCache:0,columnWidth:G?b:L,totalColumn:1,totalRow:x.length,rowCache:w,rowHeight:G?B:D,width:P,height:_(a),class:r.e("body"),role:"rowgroup",scrollbarStartGap:k,scrollbarEndGap:A,scrollbarAlwaysOn:T,onScroll:j,onItemRendered:h,perfMode:!1},{default:ee=>{var oe;const ce=x[ee.rowIndex];return(oe=e.row)==null?void 0:oe.call(e,{...ee,columns:S,rowData:ce})}}),_(s)&&O(MQe,{ref:l,class:r.e("header-wrapper"),columns:S,headerData:x,headerHeight:t.headerHeight,fixedHeaderData:C,rowWidth:R,rowHeight:D,width:P,height:Math.min(Z+_(o),V)},{dynamic:e.header,fixed:e.row})])}}});var DH=$Qe;function FQe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!wi(t)}const VQe=(t,{slots:e})=>{const{mainTableRef:n,...r}=t;return O(DH,Fn({ref:n},r),FQe(e)?e:{default:()=>[e]})};var zQe=VQe;function HQe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!wi(t)}const jQe=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...r}=t;return O(DH,Fn({ref:n},r),HQe(e)?e:{default:()=>[e]})};var GQe=jQe;function UQe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!wi(t)}const WQe=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...r}=t;return O(DH,Fn({ref:n},r),UQe(e)?e:{default:()=>[e]})};var qQe=WQe;const KQe=t=>{const{isScrolling:e}=bt(IH),n=F(!1),r=F(),i=z(()=>Zt(t.estimatedRowHeight)&&t.rowIndex>=0),o=(l=!1)=>{const u=_(r);if(!u)return;const{columns:c,onRowHeightChange:f,rowKey:d,rowIndex:h,style:p}=t,{height:v}=u.getBoundingClientRect();n.value=!0,Pt(()=>{if(l||v!==Number.parseInt(p.height)){const g=c[0],m=g?.placeholderSign===Wx;f?.({rowKey:d,height:v,rowIndex:h},g&&!m&&g.fixed)}})},a=z(()=>{const{rowData:l,rowIndex:u,rowKey:c,onRowHover:f}=t,d=t.rowEventHandlers||{},h={};return Object.entries(d).forEach(([p,v])=>{qt(v)&&(h[p]=g=>{v({event:g,rowData:l,rowIndex:u,rowKey:c})})}),f&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:p,hovered:v})=>{const g=h[p];h[p]=m=>{f({event:m,hovered:v,rowData:l,rowIndex:u,rowKey:c}),g?.(m)}}),h}),s=l=>{const{onRowExpand:u,rowData:c,rowIndex:f,rowKey:d}=t;u?.({expanded:l,rowData:c,rowIndex:f,rowKey:d})};return Jt(()=>{_(i)&&o(!0)}),{isScrolling:e,measurable:i,measured:n,rowRef:r,eventHandlers:a,onExpand:s}},YQe="ElTableV2TableRow",XQe=ue({name:YQe,props:Zg,setup(t,{expose:e,slots:n,attrs:r}){const{eventHandlers:i,isScrolling:o,measurable:a,measured:s,rowRef:l,onExpand:u}=KQe(t);return e({onExpand:u}),()=>{const{columns:c,columnsStyles:f,expandColumnKey:d,depth:h,rowData:p,rowIndex:v,style:g}=t;let m=c.map((y,b)=>{const w=tt(p.children)&&p.children.length>0&&y.key===d;return n.cell({column:y,columns:c,columnIndex:b,depth:h,style:f[y.key],rowData:p,rowIndex:v,isScrolling:_(o),expandIconProps:w?{rowData:p,rowIndex:v,onExpand:u}:void 0})});if(n.row&&(m=n.row({cells:m.map(y=>tt(y)&&y.length===1?y[0]:y),style:g,columns:c,depth:h,rowData:p,rowIndex:v,isScrolling:_(o)})),_(a)){const{height:y,...b}=g||{},w=_(s);return O("div",Fn({ref:l,class:t.class,style:w?g:b,role:"row"},r,_(i)),[m])}return O("div",Fn(r,{ref:l,class:t.class,style:g,role:"row"},_(i)),[m])}}});var ZQe=XQe;function JQe(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!wi(t)}const QQe=(t,{slots:e})=>{const{columns:n,columnsStyles:r,depthMap:i,expandColumnKey:o,expandedRowKeys:a,estimatedRowHeight:s,hasFixedColumns:l,rowData:u,rowIndex:c,style:f,isScrolling:d,rowProps:h,rowClass:p,rowKey:v,rowEventHandlers:g,ns:m,onRowHovered:y,onRowExpanded:b}=t,w=$m(p,{columns:n,rowData:u,rowIndex:c},""),S=$m(h,{columns:n,rowData:u,rowIndex:c}),x=u[v],C=i[x]||0,E=!!o,T=c<0,A=[m.e("row"),w,{[m.e(`row-depth-${C}`)]:E&&c>=0,[m.is("expanded")]:E&&a.includes(x),[m.is("fixed")]:!C&&T,[m.is("customized")]:!!e.row}],k=l?y:void 0,M={...S,columns:n,columnsStyles:r,class:A,depth:C,expandColumnKey:o,estimatedRowHeight:T?void 0:s,isScrolling:d,rowIndex:c,rowData:u,rowKey:x,rowEventHandlers:g,style:f};return O(ZQe,Fn(M,{onRowExpand:b,onMouseenter:I=>{k?.({hovered:!0,rowKey:x,event:I,rowData:u,rowIndex:c})},onMouseleave:I=>{k?.({hovered:!1,rowKey:x,event:I,rowData:u,rowIndex:c})},rowkey:x}),JQe(e)?e:{default:()=>[e]})};var eet=QQe;const NH=(t,{slots:e})=>{var n;const{cellData:r,style:i}=t,o=((n=r?.toString)==null?void 0:n.call(r))||"",a=Ee(e,"default",t,()=>[o]);return O("div",{class:t.class,title:o,style:i},[a])};NH.displayName="ElTableV2Cell";NH.inheritAttrs=!1;var tet=NH;const net=t=>{const{expanded:e,expandable:n,onExpand:r,style:i,size:o}=t,a={onClick:n?()=>r(!e):void 0,class:t.class};return O(zt,Fn(a,{size:o,style:i}),{default:()=>[O(Rs,null,null)]})};var ret=net;const tge=({columns:t,column:e,columnIndex:n,depth:r,expandIconProps:i,isScrolling:o,rowData:a,rowIndex:s,style:l,expandedRowKeys:u,ns:c,cellProps:f,expandColumnKey:d,indentSize:h,iconSize:p,rowKey:v},{slots:g})=>{const m=Ep(l);if(e.placeholderSign===Wx)return O("div",{class:c.em("row-cell","placeholder"),style:m},null);const{cellRenderer:y,dataKey:b,dataGetter:w}=e,S=qt(w)?w({columns:t,column:e,columnIndex:n,rowData:a,rowIndex:s}):bo(a,b??""),x=$m(f,{cellData:S,columns:t,column:e,columnIndex:n,rowIndex:s,rowData:a}),C={class:c.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:S,isScrolling:o,rowData:a,rowIndex:s},E=Gve(y),T=E?E(C):Ee(g,"default",C,()=>[O(tet,C,null)]),A=[c.e("row-cell"),e.class,e.align===Ux.CENTER&&c.is("align-center"),e.align===Ux.RIGHT&&c.is("align-right")],k=s>=0&&d&&e.key===d,M=s>=0&&u.includes(a[v]);let D;const L=`margin-inline-start: ${r*h}px;`;return k&&(Nn(i)?D=O(ret,Fn(i,{class:[c.e("expand-icon"),c.is("expanded",M)],size:p,expanded:M,style:L,expandable:!0}),null):D=O("div",{style:[L,`width: ${p}px; height: ${p}px;`].join(" ")},null)),O("div",Fn({class:A,style:m},x,{role:"cell"}),[D,T])};tge.inheritAttrs=!1;var gX=tge;const iet=rt({class:String,columns:_2,columnsStyles:{type:me(Object),required:!0},headerIndex:Number,style:{type:me(Object)}}),oet=ue({name:"ElTableV2HeaderRow",props:iet,setup(t,{slots:e}){return()=>{const{columns:n,columnsStyles:r,headerIndex:i,style:o}=t;let a=n.map((s,l)=>e.cell({columns:n,column:s,columnIndex:l,headerIndex:i,style:r[s.key]}));return e.header&&(a=e.header({cells:a.map(s=>tt(s)&&s.length===1?s[0]:s),columns:n,headerIndex:i})),O("div",{class:t.class,style:o,role:"row"},[a])}}});var aet=oet;function set(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!wi(t)}const uet=({columns:t,columnsStyles:e,headerIndex:n,style:r,headerClass:i,headerProps:o,ns:a},{slots:s})=>{const l={columns:t,headerIndex:n},u=[a.e("header-row"),$m(i,l,""),{[a.is("customized")]:!!s.header}],c={...$m(o,l),columnsStyles:e,class:u,columns:t,headerIndex:n,style:r};return O(aet,c,set(s)?s:{default:()=>[s]})};var cet=uet;const BH=(t,{slots:e})=>Ee(e,"default",t,()=>{var n,r;return[O("div",{class:t.class,title:(n=t.column)==null?void 0:n.title},[(r=t.column)==null?void 0:r.title])]});BH.displayName="ElTableV2HeaderCell";BH.inheritAttrs=!1;var fet=BH;const det=t=>{const{sortOrder:e}=t;return O(zt,{size:14,class:t.class},{default:()=>[e===Gx.ASC?O(l5e,null,null):O(a5e,null,null)]})};var het=det;const pet=(t,{slots:e})=>{const{column:n,ns:r,style:i,onColumnSorted:o}=t,a=Ep(i);if(n.placeholderSign===Wx)return O("div",{class:r.em("header-row-cell","placeholder"),style:a},null);const{headerCellRenderer:s,headerClass:l,sortable:u}=n,c={...t,class:r.e("header-cell-text")},f=Gve(s),d=f?f(c):Ee(e,"default",c,()=>[O(fet,c,null)]),{sortBy:h,sortState:p,headerCellProps:v}=t;let g,m;if(p){const w=p[n.key];g=!!qF[w],m=g?w:Gx.ASC}else g=n.key===h.key,m=g?h.order:Gx.ASC;const y=[r.e("header-cell"),$m(l,t,""),n.align===Ux.CENTER&&r.is("align-center"),n.align===Ux.RIGHT&&r.is("align-right"),u&&r.is("sortable")],b={...$m(v,t),onClick:n.sortable?o:void 0,class:y,style:a,"data-key":n.key};return O("div",Fn(b,{role:"columnheader"}),[d,u&&O(het,{class:[r.e("sort-icon"),g&&r.is("sorting")],sortOrder:m},null)])};var mX=pet;const nge=(t,{slots:e})=>{var n;return O("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};nge.displayName="ElTableV2Footer";var vet=nge;const rge=(t,{slots:e})=>{const n=Ee(e,"default",{},()=>[O(Xpe,null,null)]);return O("div",{class:t.class,style:t.style},[n])};rge.displayName="ElTableV2Empty";var get=rge;const ige=(t,{slots:e})=>{var n;return O("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};ige.displayName="ElTableV2Overlay";var met=ige;function hw(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!wi(t)}const yet="ElTableV2",bet=ue({name:yet,props:TQe,setup(t,{slots:e,expose:n}){const r=Ye("table-v2"),{columnsStyles:i,fixedColumnsOnLeft:o,fixedColumnsOnRight:a,mainColumns:s,mainTableHeight:l,fixedTableHeight:u,leftTableWidth:c,rightTableWidth:f,data:d,depthMap:h,expandedRowKeys:p,hasFixedColumns:v,mainTableRef:g,leftTableRef:m,rightTableRef:y,isDynamic:b,isResetting:w,isScrolling:S,bodyWidth:x,emptyStyle:C,rootStyle:E,footerHeight:T,showEmpty:A,scrollTo:k,scrollToLeft:M,scrollToTop:D,scrollToRow:L,getRowHeight:I,onColumnSorted:R,onRowHeightChange:V,onRowHovered:P,onRowExpanded:B,onRowsRendered:j,onScroll:G,onVerticalScroll:W}=CQe(t);return n({scrollTo:k,scrollToLeft:M,scrollToTop:D,scrollToRow:L}),jn(IH,{ns:r,isResetting:w,isScrolling:S}),()=>{const{cache:Z,cellProps:ee,estimatedRowHeight:oe,expandColumnKey:ce,fixedData:X,headerHeight:H,headerClass:U,headerProps:ne,headerCellProps:J,sortBy:Y,sortState:se,rowHeight:he,rowClass:ye,rowEventHandlers:_e,rowKey:fe,rowProps:Ce,scrollbarAlwaysOn:Oe,indentSize:Ue,iconSize:qe,useIsScrolling:ze,vScrollbarSize:ae,width:Fe}=t,We=_(d),dn={cache:Z,class:r.e("main"),columns:_(s),data:We,fixedData:X,estimatedRowHeight:oe,bodyWidth:_(x),headerHeight:H,headerWidth:_(x),height:_(l),mainTableRef:g,rowKey:fe,rowHeight:he,scrollbarAlwaysOn:Oe,scrollbarStartGap:2,scrollbarEndGap:ae,useIsScrolling:ze,width:Fe,getRowHeight:I,onRowsRendered:j,onScroll:G},At=_(c),$e=_(u),Kt={cache:Z,class:r.e("left"),columns:_(o),data:We,fixedData:X,estimatedRowHeight:oe,leftTableRef:m,rowHeight:he,bodyWidth:At,headerWidth:At,headerHeight:H,height:$e,rowKey:fe,scrollbarAlwaysOn:Oe,scrollbarStartGap:2,scrollbarEndGap:ae,useIsScrolling:ze,width:At,getRowHeight:I,onScroll:W},Kn=_(f),$t={cache:Z,class:r.e("right"),columns:_(a),data:We,fixedData:X,estimatedRowHeight:oe,rightTableRef:y,rowHeight:he,bodyWidth:Kn,headerWidth:Kn,headerHeight:H,height:$e,rowKey:fe,scrollbarAlwaysOn:Oe,scrollbarStartGap:2,scrollbarEndGap:ae,width:Kn,style:`--${_(r.namespace)}-table-scrollbar-size: ${ae}px`,useIsScrolling:ze,getRowHeight:I,onScroll:W},wn=_(i),$n={ns:r,depthMap:_(h),columnsStyles:wn,expandColumnKey:ce,expandedRowKeys:_(p),estimatedRowHeight:oe,hasFixedColumns:_(v),rowProps:Ce,rowClass:ye,rowKey:fe,rowEventHandlers:_e,onRowHovered:P,onRowExpanded:B,onRowHeightChange:V},je={cellProps:ee,expandColumnKey:ce,indentSize:Ue,iconSize:qe,rowKey:fe,expandedRowKeys:_(p),ns:r},mt={ns:r,headerClass:U,headerProps:ne,columnsStyles:wn},re={ns:r,sortBy:Y,sortState:se,headerCellProps:J,onColumnSorted:R},le={row:ct=>O(eet,Fn(ct,$n),{row:e.row,cell:Nt=>{let zn;return e.cell?O(gX,Fn(Nt,je,{style:wn[Nt.column.key]}),hw(zn=e.cell(Nt))?zn:{default:()=>[zn]}):O(gX,Fn(Nt,je,{style:wn[Nt.column.key]}),null)}}),header:ct=>O(cet,Fn(ct,mt),{header:e.header,cell:Nt=>{let zn;return e["header-cell"]?O(mX,Fn(Nt,re,{style:wn[Nt.column.key]}),hw(zn=e["header-cell"](Nt))?zn:{default:()=>[zn]}):O(mX,Fn(Nt,re,{style:wn[Nt.column.key]}),null)}})},Ae=[t.class,r.b(),r.e("root"),{[r.is("dynamic")]:_(b)}],Qe={class:r.e("footer"),style:_(T)};return O("div",{class:Ae,style:_(E)},[O(zQe,dn,hw(le)?le:{default:()=>[le]}),O(GQe,Kt,hw(le)?le:{default:()=>[le]}),O(qQe,$t,hw(le)?le:{default:()=>[le]}),e.footer&&O(vet,Qe,{default:e.footer}),_(A)&&O(get,{class:r.e("empty"),style:_(C)},{default:e.empty}),e.overlay&&O(met,{class:r.e("overlay")},{default:e.overlay})])}}});var _et=bet;const wet=rt({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:me(Function)}}),xet=t=>{const e=F(),n=F(0),r=F(0);let i;return Jt(()=>{i=Di(e,([o])=>{const{width:a,height:s}=o.contentRect,{paddingLeft:l,paddingRight:u,paddingTop:c,paddingBottom:f}=getComputedStyle(o.target),d=Number.parseInt(l)||0,h=Number.parseInt(u)||0,p=Number.parseInt(c)||0,v=Number.parseInt(f)||0;n.value=a-d-h,r.value=s-p-v}).stop}),ur(()=>{i?.()}),Le([n,r],([o,a])=>{var s;(s=t.onResize)==null||s.call(t,{width:o,height:a})}),{sizer:e,width:n,height:r}},Cet=ue({name:"ElAutoResizer",props:wet,setup(t,{slots:e}){const n=Ye("auto-resizer"),{height:r,width:i,sizer:o}=xet(t),a={width:"100%",height:"100%"};return()=>{var s;return O("div",{ref:o,class:n.b(),style:a},[(s=e.default)==null?void 0:s.call(e,{height:r.value,width:i.value})])}}});var Eet=Cet;const Tet=kn(_et),Aet=kn(Eet),MI=Symbol("tabsRootContextKey"),ket=rt({tabs:{type:me(Array),default:()=>ji([])},tabRefs:{type:me(Object),default:()=>ji({})}}),oge="ElTabBar",Met=ue({name:oge}),Pet=ue({...Met,props:ket,setup(t,{expose:e}){const n=t,r=bt(MI);r||xo(oge,"<el-tabs><el-tab-bar /></el-tabs>");const i=Ye("tabs"),o=F(),a=F(),s=()=>{let d=0,h=0;const p=["top","bottom"].includes(r.props.tabPosition)?"width":"height",v=p==="width"?"x":"y",g=v==="x"?"left":"top";return n.tabs.every(m=>{if(gr(m.paneName))return!1;const y=n.tabRefs[m.paneName];if(!y)return!1;if(!m.active)return!0;d=y[`offset${wp(g)}`],h=y[`client${wp(p)}`];const b=window.getComputedStyle(y);return p==="width"&&(h-=Number.parseFloat(b.paddingLeft)+Number.parseFloat(b.paddingRight),d+=Number.parseFloat(b.paddingLeft)),!1}),{[p]:`${h}px`,transform:`translate${wp(v)}(${d}px)`}},l=()=>a.value=s(),u=[],c=()=>{u.forEach(d=>d.stop()),u.length=0,Object.values(n.tabRefs).forEach(d=>{u.push(Di(d,l))})};Le(()=>n.tabs,async()=>{await Pt(),l(),c()},{immediate:!0});const f=Di(o,()=>l());return ur(()=>{u.forEach(d=>d.stop()),u.length=0,f.stop()}),e({ref:o,update:l}),(d,h)=>(N(),Q("div",{ref_key:"barRef",ref:o,class:q([_(i).e("active-bar"),_(i).is(_(r).props.tabPosition)]),style:Ot(a.value)},null,6))}});var Oet=lt(Pet,[["__file","tab-bar.vue"]]);const Iet=rt({panes:{type:me(Array),default:()=>ji([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Ret={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},yX="ElTabNav",Let=ue({name:yX,props:Iet,emits:Ret,setup(t,{expose:e,emit:n}){const r=bt(MI);r||xo(yX,"<el-tabs><tab-nav /></el-tabs>");const i=Ye("tabs"),o=W$e(),a=aFe(),s=F(),l=F(),u=F(),c=F({}),f=F(),d=F(!1),h=F(0),p=F(!1),v=F(!0),g=bi(),m=z(()=>["top","bottom"].includes(r.props.tabPosition)),y=z(()=>m.value?"width":"height"),b=z(()=>({transform:`translate${y.value==="width"?"X":"Y"}(-${h.value}px)`})),w=()=>{if(!s.value)return;const D=s.value[`offset${wp(y.value)}`],L=h.value;if(!L)return;const I=L>D?L-D:0;h.value=I},S=()=>{if(!s.value||!l.value)return;const D=l.value[`offset${wp(y.value)}`],L=s.value[`offset${wp(y.value)}`],I=h.value;if(D-I<=L)return;const R=D-I>L*2?I+L:D-L;h.value=R},x=async()=>{const D=l.value;if(!d.value||!u.value||!s.value||!D)return;await Pt();const L=c.value[t.currentName];if(!L)return;const I=s.value,R=L.getBoundingClientRect(),V=I.getBoundingClientRect(),P=m.value?D.offsetWidth-V.width:D.offsetHeight-V.height,B=h.value;let j=B;m.value?(R.left<V.left&&(j=B-(V.left-R.left)),R.right>V.right&&(j=B+R.right-V.right)):(R.top<V.top&&(j=B-(V.top-R.top)),R.bottom>V.bottom&&(j=B+(R.bottom-V.bottom))),j=Math.max(j,0),h.value=Math.min(j,P)},C=()=>{var D;if(!l.value||!s.value)return;t.stretch&&((D=f.value)==null||D.update());const L=l.value[`offset${wp(y.value)}`],I=s.value[`offset${wp(y.value)}`],R=h.value;I<L?(d.value=d.value||{},d.value.prev=R,d.value.next=R+I<L,L-R<I&&(h.value=L-I)):(d.value=!1,R>0&&(h.value=0))},E=D=>{let L=0;switch(D.code){case Ct.left:case Ct.up:L=-1;break;case Ct.right:case Ct.down:L=1;break;default:return}const I=Array.from(D.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let V=I.indexOf(D.target)+L;V<0?V=I.length-1:V>=I.length&&(V=0),I[V].focus({preventScroll:!0}),I[V].click(),T()},T=()=>{v.value&&(p.value=!0)},A=()=>p.value=!1,k=(D,L)=>{c.value[L]=D},M=async()=>{await Pt();const D=c.value[t.currentName];D?.focus({preventScroll:!0})};return Le(o,D=>{D==="hidden"?v.value=!1:D==="visible"&&setTimeout(()=>v.value=!0,50)}),Le(a,D=>{D?setTimeout(()=>v.value=!0,50):v.value=!1}),Di(u,C),Jt(()=>setTimeout(()=>x(),0)),Hc(()=>C()),e({scrollToActiveTab:x,removeFocus:A,focusActiveTab:M,tabListRef:l,tabBarRef:f,scheduleRender:()=>XA(g)}),()=>{const D=d.value?[O("span",{class:[i.e("nav-prev"),i.is("disabled",!d.value.prev)],onClick:w},[O(zt,null,{default:()=>[O(oh,null,null)]})]),O("span",{class:[i.e("nav-next"),i.is("disabled",!d.value.next)],onClick:S},[O(zt,null,{default:()=>[O(Rs,null,null)]})])]:null,L=t.panes.map((I,R)=>{var V,P,B,j;const G=I.uid,W=I.props.disabled,Z=(P=(V=I.props.name)!=null?V:I.index)!=null?P:`${R}`,ee=!W&&(I.isClosable||t.editable);I.index=`${R}`;const oe=ee?O(zt,{class:"is-icon-close",onClick:H=>n("tabRemove",I,H)},{default:()=>[O(Hu,null,null)]}):null,ce=((j=(B=I.slots).label)==null?void 0:j.call(B))||I.props.label,X=!W&&I.active?0:-1;return O("div",{ref:H=>k(H,Z),class:[i.e("item"),i.is(r.props.tabPosition),i.is("active",I.active),i.is("disabled",W),i.is("closable",ee),i.is("focus",p.value)],id:`tab-${Z}`,key:`tab-${G}`,"aria-controls":`pane-${Z}`,role:"tab","aria-selected":I.active,tabindex:X,onFocus:()=>T(),onBlur:()=>A(),onClick:H=>{A(),n("tabClick",I,Z,H)},onKeydown:H=>{ee&&(H.code===Ct.delete||H.code===Ct.backspace)&&n("tabRemove",I,H)}},[ce,oe])});return g.value,O("div",{ref:u,class:[i.e("nav-wrap"),i.is("scrollable",!!d.value),i.is(r.props.tabPosition)]},[D,O("div",{class:i.e("nav-scroll"),ref:s},[t.panes.length>0?O("div",{class:[i.e("nav"),i.is(r.props.tabPosition),i.is("stretch",t.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:l,style:b.value,role:"tablist",onKeydown:E},[t.type?null:O(Oet,{ref:f,tabs:[...t.panes],tabRefs:c.value},null),L]):null])])}}}),Det=rt({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:me(Function),default:()=>!0},stretch:Boolean}),UD=t=>Ht(t)||Zt(t),Net={[_n]:t=>UD(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>UD(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>UD(t),tabAdd:()=>!0},Bet=ue({name:"ElTabs",props:Det,emits:Net,setup(t,{emit:e,slots:n,expose:r}){var i;const o=Ye("tabs"),a=z(()=>["left","right"].includes(t.tabPosition)),{children:s,addChild:l,removeChild:u,ChildrenSorter:c}=SI(Un(),"ElTabPane"),f=F(),d=F((i=t.modelValue)!=null?i:"0"),h=async(y,b=!1)=>{var w,S,x,C;if(!(d.value===y||gr(y)))try{let E;if(t.beforeLeave){const T=t.beforeLeave(y,d.value);E=T instanceof Promise?await T:T}else E=!0;if(E!==!1){const T=(w=s.value.find(A=>A.paneName===d.value))==null?void 0:w.isFocusInsidePane();d.value=y,b&&(e(_n,y),e("tabChange",y)),(x=(S=f.value)==null?void 0:S.removeFocus)==null||x.call(S),T&&((C=f.value)==null||C.focusActiveTab())}}catch{}},p=(y,b,w)=>{y.props.disabled||(e("tabClick",y,w),h(b,!0))},v=(y,b)=>{y.props.disabled||gr(y.props.name)||(b.stopPropagation(),e("edit",y.props.name,"remove"),e("tabRemove",y.props.name))},g=()=>{e("edit",void 0,"add"),e("tabAdd")},m=y=>{const b=y.el.firstChild,w=["bottom","right"].includes(t.tabPosition)?y.children[0].el:y.children[1].el;b!==w&&b.before(w)};return Le(()=>t.modelValue,y=>h(y)),Le(d,async()=>{var y;await Pt(),(y=f.value)==null||y.scrollToActiveTab()}),jn(MI,{props:t,currentName:d,registerPane:l,unregisterPane:u,nav$:f}),r({currentName:d,get tabNavRef(){return vde(f.value,["scheduleRender"])}}),()=>{const y=n["add-icon"],b=t.editable||t.addable?O("div",{class:[o.e("new-tab"),a.value&&o.e("new-tab-vertical")],tabindex:"0",onClick:g,onKeydown:C=>{[Ct.enter,Ct.numpadEnter].includes(C.code)&&g()}},[y?Ee(n,"add-icon"):O(zt,{class:o.is("icon-plus")},{default:()=>[O(Uu,null,null)]})]):null,w=()=>O(Let,{ref:f,currentName:d.value,editable:t.editable,type:t.type,panes:s.value,stretch:t.stretch,onTabClick:p,onTabRemove:v},null),S=O("div",{class:[o.e("header"),a.value&&o.e("header-vertical"),o.is(t.tabPosition)]},[O(c,null,{default:w,$stable:!0}),b]),x=O("div",{class:o.e("content")},[Ee(n,"default")]);return O("div",{class:[o.b(),o.m(t.tabPosition),{[o.m("card")]:t.type==="card",[o.m("border-card")]:t.type==="border-card"}],onVnodeMounted:m,onVnodeUpdated:m},[x,S])}}});var $et=Bet;const Fet=rt({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),age="ElTabPane",Vet=ue({name:age}),zet=ue({...Vet,props:Fet,setup(t){const e=t,n=Un(),r=Co(),i=bt(MI);i||xo(age,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=Ye("tab-pane"),a=F(),s=F(),l=z(()=>e.closable||i.props.closable),u=MM(()=>{var v;return i.currentName.value===((v=e.name)!=null?v:s.value)}),c=F(u.value),f=z(()=>{var v;return(v=e.name)!=null?v:s.value}),d=MM(()=>!e.lazy||c.value||u.value),h=()=>{var v;return(v=a.value)==null?void 0:v.contains(document.activeElement)};Le(u,v=>{v&&(c.value=!0)});const p=Bn({uid:n.uid,getVnode:()=>n.vnode,slots:r,props:e,paneName:f,active:u,index:s,isClosable:l,isFocusInsidePane:h});return i.registerPane(p),ur(()=>{i.unregisterPane(p)}),Z8(()=>{var v;r.label&&((v=i.nav$.value)==null||v.scheduleRender())}),(v,g)=>_(d)?An((N(),Q("div",{key:0,id:`pane-${_(f)}`,ref_key:"paneRef",ref:a,class:q(_(o).b()),role:"tabpanel","aria-hidden":!_(u),"aria-labelledby":`tab-${_(f)}`},[Ee(v.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[kr,_(u)]]):ge("v-if",!0)}});var sge=lt(zet,[["__file","tab-pane.vue"]]);const Het=kn($et,{TabPane:sge}),jet=Wi(sge),Get=rt({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:ad,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),Uet=ue({name:"ElText"}),Wet=ue({...Uet,props:Get,setup(t){const e=t,n=F(),r=Po(),i=Ye("text"),o=z(()=>[i.b(),i.m(e.type),i.m(r.value),i.is("truncated",e.truncated),i.is("line-clamp",!gr(e.lineClamp))]),a=()=>{var s,l,u,c,f,d,h;if(Th().title)return;let v=!1;const g=((s=n.value)==null?void 0:s.textContent)||"";if(e.truncated){const m=(l=n.value)==null?void 0:l.offsetWidth,y=(u=n.value)==null?void 0:u.scrollWidth;m&&y&&y>m&&(v=!0)}else if(!gr(e.lineClamp)){const m=(c=n.value)==null?void 0:c.offsetHeight,y=(f=n.value)==null?void 0:f.scrollHeight;m&&y&&y>m&&(v=!0)}v?(d=n.value)==null||d.setAttribute("title",g):(h=n.value)==null||h.removeAttribute("title")};return Jt(a),Hc(a),(s,l)=>(N(),de(Vn(s.tag),{ref_key:"textRef",ref:n,class:q(_(o)),style:Ot({"-webkit-line-clamp":s.lineClamp})},{default:$(()=>[Ee(s.$slots,"default")]),_:3},8,["class","style"]))}});var qet=lt(Wet,[["__file","text.vue"]]);const $H=kn(qet),Ket=rt({format:{type:String,default:"HH:mm"},modelValue:{type:me(String)},disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:me(String),default:"light"},clearable:{type:Boolean,default:!0},size:Ho,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:{type:me(String)},maxTime:{type:me(String)},includeEndTime:Boolean,name:String,prefixIcon:{type:me([String,Object]),default:()=>Ude},clearIcon:{type:me([String,Object]),default:()=>Mh},...my}),Nd=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const r=Number.parseInt(e[1],10),i=t.toUpperCase();return i.includes("AM")&&n===12?n=0:i.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},WD=(t,e)=>{const n=Nd(t);if(!n)return-1;const r=Nd(e);if(!r)return-1;const i=n.minutes+n.hours*60,o=r.minutes+r.hours*60;return i===o?0:i>o?1:-1},bX=t=>`${t}`.padStart(2,"0"),L0=t=>`${bX(t.hours)}:${bX(t.minutes)}`,Yet=(t,e)=>{const n=Nd(t);if(!n)return"";const r=Nd(e);if(!r)return"";const i={hours:n.hours,minutes:n.minutes};return i.minutes+=r.minutes,i.hours+=r.hours,i.hours+=Math.floor(i.minutes/60),i.minutes=i.minutes%60,L0(i)},Xet=ue({name:"ElTimeSelect"}),Zet=ue({...Xet,props:Ket,emits:[tr,"blur","focus","clear",_n],setup(t,{expose:e}){const n=t;Ln.extend(Zz);const{Option:r}=Bm,i=Ye("input"),o=F(),a=pa(),{lang:s}=Cr(),l=z(()=>n.modelValue),u=z(()=>{const m=Nd(n.start);return m?L0(m):null}),c=z(()=>{const m=Nd(n.end);return m?L0(m):null}),f=z(()=>{const m=Nd(n.step);return m?L0(m):null}),d=z(()=>{const m=Nd(n.minTime||"");return m?L0(m):null}),h=z(()=>{const m=Nd(n.maxTime||"");return m?L0(m):null}),p=z(()=>{var m;const y=[],b=(w,S)=>{y.push({value:w,disabled:WD(S,d.value||"-1:-1")<=0||WD(S,h.value||"100:100")>=0})};if(n.start&&n.end&&n.step){let w=u.value,S;for(;w&&c.value&&WD(w,c.value)<=0;)S=Ln(w,"HH:mm").locale(s.value).format(n.format),b(S,w),w=Yet(w,f.value);if(n.includeEndTime&&c.value&&((m=y[y.length-1])==null?void 0:m.value)!==c.value){const x=Ln(c.value,"HH:mm").locale(s.value).format(n.format);b(x,c.value)}}return y});return e({blur:()=>{var m,y;(y=(m=o.value)==null?void 0:m.blur)==null||y.call(m)},focus:()=>{var m,y;(y=(m=o.value)==null?void 0:m.focus)==null||y.call(m)}}),(m,y)=>(N(),de(_(Bm),{ref_key:"select",ref:o,"model-value":_(l),disabled:_(a),clearable:m.clearable,"clear-icon":m.clearIcon,size:m.size,effect:m.effect,placeholder:m.placeholder,"default-first-option":"",filterable:m.editable,"empty-values":m.emptyValues,"value-on-clear":m.valueOnClear,"onUpdate:modelValue":b=>m.$emit(_(_n),b),onChange:b=>m.$emit(_(tr),b),onBlur:b=>m.$emit("blur",b),onFocus:b=>m.$emit("focus",b),onClear:()=>m.$emit("clear")},{prefix:$(()=>[m.prefixIcon?(N(),de(_(zt),{key:0,class:q(_(i).e("prefix-icon"))},{default:$(()=>[(N(),de(Vn(m.prefixIcon)))]),_:1},8,["class"])):ge("v-if",!0)]),default:$(()=>[(N(!0),Q(ft,null,gn(_(p),b=>(N(),de(_(r),{key:b.value,label:b.value,value:b.value,disabled:b.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var Jet=lt(Zet,[["__file","time-select.vue"]]);const Qet=kn(Jet),ett="timeline",ttt=ue({name:"ElTimeline",setup(t,{slots:e}){const n=Ye("timeline");return jn(ett,e),()=>Rt("ul",{class:[n.b()]},[Ee(e,"default")])}}),ntt=rt({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Xr},hollow:Boolean}),rtt=ue({name:"ElTimelineItem"}),itt=ue({...rtt,props:ntt,setup(t){const e=t,n=Ye("timeline-item"),r=z(()=>[n.e("node"),n.em("node",e.size||""),n.em("node",e.type||""),n.is("hollow",e.hollow)]);return(i,o)=>(N(),Q("li",{class:q([_(n).b(),{[_(n).e("center")]:i.center}])},[K("div",{class:q(_(n).e("tail"))},null,2),i.$slots.dot?ge("v-if",!0):(N(),Q("div",{key:0,class:q(_(r)),style:Ot({backgroundColor:i.color})},[i.icon?(N(),de(_(zt),{key:0,class:q(_(n).e("icon"))},{default:$(()=>[(N(),de(Vn(i.icon)))]),_:1},8,["class"])):ge("v-if",!0)],6)),i.$slots.dot?(N(),Q("div",{key:1,class:q(_(n).e("dot"))},[Ee(i.$slots,"dot")],2)):ge("v-if",!0),K("div",{class:q(_(n).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?(N(),Q("div",{key:0,class:q([_(n).e("timestamp"),_(n).is("top")])},Ne(i.timestamp),3)):ge("v-if",!0),K("div",{class:q(_(n).e("content"))},[Ee(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?(N(),Q("div",{key:1,class:q([_(n).e("timestamp"),_(n).is("bottom")])},Ne(i.timestamp),3)):ge("v-if",!0)],2)],2))}});var lge=lt(itt,[["__file","timeline-item.vue"]]);const ott=kn(ttt,{TimelineItem:lge}),att=Wi(lge),uge=rt({nowrap:Boolean});var cge=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(cge||{});const stt=Object.values(cge),FH=rt({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:me(Object),default:null}}),ltt=rt({side:{type:me(String),values:stt,required:!0}}),utt=["absolute","fixed"],ctt=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],VH=rt({arrowPadding:{type:me(Number),default:5},effect:{type:me(String),default:"light"},contentClass:String,placement:{type:me(String),values:ctt,default:"bottom"},reference:{type:me(Object),default:null},offset:{type:Number,default:8},strategy:{type:me(String),values:utt,default:"absolute"},showArrow:Boolean,...fs(["ariaLabel"])}),zH=rt({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:me(Function)},"onUpdate:open":{type:me(Function)}}),r0={type:me(Function)},HH=rt({onBlur:r0,onClick:r0,onFocus:r0,onMouseDown:r0,onMouseEnter:r0,onMouseLeave:r0}),ftt=rt({...zH,...FH,...HH,...VH,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:me(Object),default:null},teleported:Boolean,to:{type:me([String,Object]),default:"body"}}),PI=Symbol("tooltipV2"),fge=Symbol("tooltipV2Content"),qD="tooltip_v2.open",dtt=ue({name:"ElTooltipV2Root"}),htt=ue({...dtt,props:zH,setup(t,{expose:e}){const n=t,r=F(n.defaultOpen),i=F(null),o=z({get:()=>Cl(n.open)?r.value:n.open,set:g=>{var m;r.value=g,(m=n["onUpdate:open"])==null||m.call(n,g)}}),a=z(()=>Zt(n.delayDuration)&&n.delayDuration>0),{start:s,stop:l}=Dm(()=>{o.value=!0},z(()=>n.delayDuration),{immediate:!1}),u=Ye("tooltip-v2"),c=Ha(),f=()=>{l(),o.value=!0},d=()=>{_(a)?s():f()},h=f,p=()=>{l(),o.value=!1};return Le(o,g=>{var m;g&&(document.dispatchEvent(new CustomEvent(qD)),h()),(m=n.onOpenChange)==null||m.call(n,g)}),Jt(()=>{document.addEventListener(qD,p)}),ur(()=>{l(),document.removeEventListener(qD,p)}),jn(PI,{contentId:c,triggerRef:i,ns:u,onClose:p,onDelayOpen:d,onOpen:h}),e({onOpen:h,onClose:p}),(g,m)=>Ee(g.$slots,"default",{open:_(o)})}});var ptt=lt(htt,[["__file","root.vue"]]);const vtt=ue({name:"ElTooltipV2Arrow"}),gtt=ue({...vtt,props:{...FH,...ltt},setup(t){const e=t,{ns:n}=bt(PI),{arrowRef:r}=bt(fge),i=z(()=>{const{style:o,width:a,height:s}=e,l=n.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${a}px`,[`--${l}-tooltip-v2-arrow-height`]:`${s}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${a/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:a/2-1,...o||{}}});return(o,a)=>(N(),Q("span",{ref_key:"arrowRef",ref:r,style:Ot(_(i)),class:q(_(n).e("arrow"))},null,6))}});var _X=lt(gtt,[["__file","arrow.vue"]]);const e1=Math.min,mm=Math.max,ZM=Math.round,cT=Math.floor,zf=t=>({x:t,y:t}),mtt={left:"right",right:"left",bottom:"top",top:"bottom"},ytt={start:"end",end:"start"};function YF(t,e,n){return mm(t,e1(e,n))}function w2(t,e){return typeof t=="function"?t(e):t}function Fm(t){return t.split("-")[0]}function S2(t){return t.split("-")[1]}function dge(t){return t==="x"?"y":"x"}function jH(t){return t==="y"?"height":"width"}const btt=new Set(["top","bottom"]);function Tp(t){return btt.has(Fm(t))?"y":"x"}function GH(t){return dge(Tp(t))}function _tt(t,e,n){n===void 0&&(n=!1);const r=S2(t),i=GH(t),o=jH(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=JM(a)),[a,JM(a)]}function wtt(t){const e=JM(t);return[XF(t),e,XF(e)]}function XF(t){return t.replace(/start|end/g,e=>ytt[e])}const wX=["left","right"],SX=["right","left"],Stt=["top","bottom"],xtt=["bottom","top"];function Ctt(t,e,n){switch(t){case"top":case"bottom":return n?e?SX:wX:e?wX:SX;case"left":case"right":return e?Stt:xtt;default:return[]}}function Ett(t,e,n,r){const i=S2(t);let o=Ctt(Fm(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(XF)))),o}function JM(t){return t.replace(/left|right|bottom|top/g,e=>mtt[e])}function Ttt(t){return{top:0,right:0,bottom:0,left:0,...t}}function hge(t){return typeof t!="number"?Ttt(t):{top:t,right:t,bottom:t,left:t}}function QM(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function xX(t,e,n){let{reference:r,floating:i}=t;const o=Tp(e),a=GH(e),s=jH(a),l=Fm(e),u=o==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(S2(e)){case"start":h[a]-=d*(n&&u?-1:1);break;case"end":h[a]+=d*(n&&u?-1:1);break}return h}const Att=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:f}=xX(u,r,l),d=r,h={},p=0;for(let v=0;v<s.length;v++){const{name:g,fn:m}=s[v],{x:y,y:b,data:w,reset:S}=await m({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:u,platform:a,elements:{reference:t,floating:e}});c=y??c,f=b??f,h={...h,[g]:{...h[g],...w}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:c,y:f}=xX(u,d,l)),v=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function UH(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=w2(e,t),p=hge(h),g=s[d?f==="floating"?"reference":"floating":f],m=QM(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),w=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},S=QM(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:b,strategy:l}):y);return{top:(m.top-S.top+p.top)/w.y,bottom:(S.bottom-m.bottom+p.bottom)/w.y,left:(m.left-S.left+p.left)/w.x,right:(S.right-m.right+p.right)/w.x}}const ktt=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:u,padding:c=0}=w2(t,e)||{};if(u==null)return{};const f=hge(c),d={x:n,y:r},h=GH(i),p=jH(h),v=await a.getDimensions(u),g=h==="y",m=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",w=o.reference[p]+o.reference[h]-d[h]-o.floating[p],S=d[h]-o.reference[h],x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=x?x[b]:0;(!C||!await(a.isElement==null?void 0:a.isElement(x)))&&(C=s.floating[b]||o.floating[p]);const E=w/2-S/2,T=C/2-v[p]/2-1,A=e1(f[m],T),k=e1(f[y],T),M=A,D=C-v[p]-k,L=C/2-v[p]/2+E,I=YF(M,L,D),R=!l.arrow&&S2(i)!=null&&L!==I&&o.reference[p]/2-(L<M?A:k)-v[p]/2<0,V=R?L<M?L-M:L-D:0;return{[h]:d[h]+V,data:{[h]:I,centerOffset:L-I-V,...R&&{alignmentOffset:V}},reset:R}}}),Mtt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...g}=w2(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const m=Fm(i),y=Tp(s),b=Fm(s)===s,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=d||(b||!v?[JM(s)]:wtt(s)),x=p!=="none";!d&&x&&S.push(...Ett(s,v,p,w));const C=[s,...S],E=await UH(e,g),T=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&T.push(E[m]),f){const L=_tt(i,a,w);T.push(E[L[0]],E[L[1]])}if(A=[...A,{placement:i,overflows:T}],!T.every(L=>L<=0)){var k,M;const L=(((k=o.flip)==null?void 0:k.index)||0)+1,I=C[L];if(I&&(!(f==="alignment"?y!==Tp(I):!1)||A.every(P=>Tp(P.placement)===y?P.overflows[0]>0:!0)))return{data:{index:L,overflows:A},reset:{placement:I}};let R=(M=A.filter(V=>V.overflows[0]<=0).sort((V,P)=>V.overflows[1]-P.overflows[1])[0])==null?void 0:M.placement;if(!R)switch(h){case"bestFit":{var D;const V=(D=A.filter(P=>{if(x){const B=Tp(P.placement);return B===y||B==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(B=>B>0).reduce((B,j)=>B+j,0)]).sort((P,B)=>P[1]-B[1])[0])==null?void 0:D[0];V&&(R=V);break}case"initialPlacement":R=s;break}if(i!==R)return{reset:{placement:R}}}return{}}}},Ptt=new Set(["left","top"]);async function Ott(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Fm(n),s=S2(n),l=Tp(n)==="y",u=Ptt.has(a)?-1:1,c=o&&l?-1:1,f=w2(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof p=="number"&&(h=s==="end"?p*-1:p),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const Itt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await Ott(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},Rtt=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:g=>{let{x:m,y}=g;return{x:m,y}}},...l}=w2(t,e),u={x:n,y:r},c=await UH(e,l),f=Tp(Fm(i)),d=dge(f);let h=u[d],p=u[f];if(o){const g=d==="y"?"top":"left",m=d==="y"?"bottom":"right",y=h+c[g],b=h-c[m];h=YF(y,h,b)}if(a){const g=f==="y"?"top":"left",m=f==="y"?"bottom":"right",y=p+c[g],b=p-c[m];p=YF(y,p,b)}const v=s.fn({...e,[d]:h,[f]:p});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[d]:o,[f]:a}}}}}};function OI(){return typeof window<"u"}function f_(t){return pge(t)?(t.nodeName||"").toLowerCase():"#document"}function Zl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ld(t){var e;return(e=(pge(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pge(t){return OI()?t instanceof Node||t instanceof Zl(t).Node:!1}function Oc(t){return OI()?t instanceof Element||t instanceof Zl(t).Element:!1}function Zf(t){return OI()?t instanceof HTMLElement||t instanceof Zl(t).HTMLElement:!1}function CX(t){return!OI()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Zl(t).ShadowRoot}const Ltt=new Set(["inline","contents"]);function x2(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ic(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Ltt.has(i)}const Dtt=new Set(["table","td","th"]);function Ntt(t){return Dtt.has(f_(t))}const Btt=[":popover-open",":modal"];function II(t){return Btt.some(e=>{try{return t.matches(e)}catch{return!1}})}const $tt=["transform","translate","scale","rotate","perspective"],Ftt=["transform","translate","scale","rotate","perspective","filter"],Vtt=["paint","layout","strict","content"];function WH(t){const e=qH(),n=Oc(t)?Ic(t):t;return $tt.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Ftt.some(r=>(n.willChange||"").includes(r))||Vtt.some(r=>(n.contain||"").includes(r))}function ztt(t){let e=rv(t);for(;Zf(e)&&!t1(e);){if(WH(e))return e;if(II(e))return null;e=rv(e)}return null}function qH(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Htt=new Set(["html","body","#document"]);function t1(t){return Htt.has(f_(t))}function Ic(t){return Zl(t).getComputedStyle(t)}function RI(t){return Oc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function rv(t){if(f_(t)==="html")return t;const e=t.assignedSlot||t.parentNode||CX(t)&&t.host||ld(t);return CX(e)?e.host:e}function vge(t){const e=rv(t);return t1(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zf(e)&&x2(e)?e:vge(e)}function qx(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=vge(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=Zl(i);if(o){const s=ZF(a);return e.concat(a,a.visualViewport||[],x2(i)?i:[],s&&n?qx(s):[])}return e.concat(i,qx(i,[],n))}function ZF(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function gge(t){const e=Ic(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Zf(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,s=ZM(n)!==o||ZM(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function KH(t){return Oc(t)?t:t.contextElement}function yb(t){const e=KH(t);if(!Zf(e))return zf(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=gge(e);let a=(o?ZM(n.width):n.width)/r,s=(o?ZM(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const jtt=zf(0);function mge(t){const e=Zl(t);return!qH()||!e.visualViewport?jtt:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Gtt(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Zl(t)?!1:e}function Vm(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=KH(t);let a=zf(1);e&&(r?Oc(r)&&(a=yb(r)):a=yb(t));const s=Gtt(o,n,r)?mge(o):zf(0);let l=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,c=i.width/a.x,f=i.height/a.y;if(o){const d=Zl(o),h=r&&Oc(r)?Zl(r):r;let p=d,v=ZF(p);for(;v&&r&&h!==p;){const g=yb(v),m=v.getBoundingClientRect(),y=Ic(v),b=m.left+(v.clientLeft+parseFloat(y.paddingLeft))*g.x,w=m.top+(v.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,f*=g.y,l+=b,u+=w,p=Zl(v),v=ZF(p)}}return QM({width:c,height:f,x:l,y:u})}function LI(t,e){const n=RI(t).scrollLeft;return e?e.left+n:Vm(ld(t)).left+n}function yge(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-LI(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function Utt(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=ld(r),s=e?II(e.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},u=zf(1);const c=zf(0),f=Zf(r);if((f||!f&&!o)&&((f_(r)!=="body"||x2(a))&&(l=RI(r)),Zf(r))){const h=Vm(r);u=yb(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const d=a&&!f&&!o?yge(a,l):zf(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}}function Wtt(t){return Array.from(t.getClientRects())}function qtt(t){const e=ld(t),n=RI(t),r=t.ownerDocument.body,i=mm(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=mm(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+LI(t);const s=-n.scrollTop;return Ic(r).direction==="rtl"&&(a+=mm(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}const EX=25;function Ktt(t,e){const n=Zl(t),r=ld(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const c=qH();(!c||c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const u=LI(r);if(u<=0){const c=r.ownerDocument,f=c.body,d=getComputedStyle(f),h=c.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,p=Math.abs(r.clientWidth-f.clientWidth-h);p<=EX&&(o-=p)}else u<=EX&&(o+=u);return{width:o,height:a,x:s,y:l}}const Ytt=new Set(["absolute","fixed"]);function Xtt(t,e){const n=Vm(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Zf(t)?yb(t):zf(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:a,height:s,x:l,y:u}}function TX(t,e,n){let r;if(e==="viewport")r=Ktt(t,n);else if(e==="document")r=qtt(ld(t));else if(Oc(e))r=Xtt(e,n);else{const i=mge(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return QM(r)}function bge(t,e){const n=rv(t);return n===e||!Oc(n)||t1(n)?!1:Ic(n).position==="fixed"||bge(n,e)}function Ztt(t,e){const n=e.get(t);if(n)return n;let r=qx(t,[],!1).filter(s=>Oc(s)&&f_(s)!=="body"),i=null;const o=Ic(t).position==="fixed";let a=o?rv(t):t;for(;Oc(a)&&!t1(a);){const s=Ic(a),l=WH(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&Ytt.has(i.position)||x2(a)&&!l&&bge(t,a))?r=r.filter(c=>c!==a):i=s,a=rv(a)}return e.set(t,r),r}function Jtt(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?II(e)?[]:Ztt(e,this._c):[].concat(n),r],s=a[0],l=a.reduce((u,c)=>{const f=TX(e,c,i);return u.top=mm(f.top,u.top),u.right=e1(f.right,u.right),u.bottom=e1(f.bottom,u.bottom),u.left=mm(f.left,u.left),u},TX(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Qtt(t){const{width:e,height:n}=gge(t);return{width:e,height:n}}function ent(t,e,n){const r=Zf(e),i=ld(e),o=n==="fixed",a=Vm(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=zf(0);function u(){l.x=LI(i)}if(r||!r&&!o)if((f_(e)!=="body"||x2(i))&&(s=RI(e)),r){const h=Vm(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&u();o&&!r&&i&&u();const c=i&&!r&&!o?yge(i,s):zf(0),f=a.left+s.scrollLeft-l.x-c.x,d=a.top+s.scrollTop-l.y-c.y;return{x:f,y:d,width:a.width,height:a.height}}function KD(t){return Ic(t).position==="static"}function AX(t,e){if(!Zf(t)||Ic(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ld(t)===n&&(n=n.ownerDocument.body),n}function _ge(t,e){const n=Zl(t);if(II(t))return n;if(!Zf(t)){let i=rv(t);for(;i&&!t1(i);){if(Oc(i)&&!KD(i))return i;i=rv(i)}return n}let r=AX(t,e);for(;r&&Ntt(r)&&KD(r);)r=AX(r,e);return r&&t1(r)&&KD(r)&&!WH(r)?n:r||ztt(t)||n}const tnt=async function(t){const e=this.getOffsetParent||_ge,n=this.getDimensions,r=await n(t.floating);return{reference:ent(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nnt(t){return Ic(t).direction==="rtl"}const rnt={convertOffsetParentRelativeRectToViewportRelativeRect:Utt,getDocumentElement:ld,getClippingRect:Jtt,getOffsetParent:_ge,getElementRects:tnt,getClientRects:Wtt,getDimensions:Qtt,getScale:yb,isElement:Oc,isRTL:nnt};function wge(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function int(t,e){let n=null,r;const i=ld(t);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const u=t.getBoundingClientRect(),{left:c,top:f,width:d,height:h}=u;if(s||e(),!d||!h)return;const p=cT(f),v=cT(i.clientWidth-(c+d)),g=cT(i.clientHeight-(f+h)),m=cT(c),b={rootMargin:-p+"px "+-v+"px "+-g+"px "+-m+"px",threshold:mm(0,e1(1,l))||1};let w=!0;function S(x){const C=x[0].intersectionRatio;if(C!==l){if(!w)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!wge(u,t.getBoundingClientRect())&&a(),w=!1}try{n=new IntersectionObserver(S,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,b)}n.observe(t)}return a(!0),o}function ont(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=KH(t),c=i||o?[...u?qx(u):[],...qx(e)]:[];c.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),o&&m.addEventListener("resize",n)});const f=u&&s?int(u,n):null;let d=-1,h=null;a&&(h=new ResizeObserver(m=>{let[y]=m;y&&y.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(e)})),n()}),u&&!l&&h.observe(u),h.observe(e));let p,v=l?Vm(t):null;l&&g();function g(){const m=Vm(t);v&&!wge(v,m)&&n(),v=m,p=requestAnimationFrame(g)}return n(),()=>{var m;c.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f?.(),(m=h)==null||m.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const ant=UH,Sge=Itt,snt=Rtt,lnt=Mtt,xge=ktt,Cge=(t,e,n)=>{const r=new Map,i={platform:rnt,...n},o={...i.platform,_c:r};return Att(t,e,{...i,platform:o})},unt=rt({style:{type:me([String,Object,Array]),default:()=>({})}}),cnt=ue({name:"ElVisuallyHidden"}),fnt=ue({...cnt,props:unt,setup(t){const e=t,n=z(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,i)=>(N(),Q("span",Fn(r.$attrs,{style:_(n)}),[Ee(r.$slots,"default")],16))}});var dnt=lt(fnt,[["__file","visual-hidden.vue"]]);rt({});const hnt=t=>{if(!Ar)return;if(!t)return t;const e=Jo(t);return e||(ai(t)?e:t)},pnt=({middleware:t,placement:e,strategy:n})=>{const r=F(),i=F(),o=F(),a=F(),s=F({}),l={x:o,y:a,placement:e,strategy:n,middlewareData:s},u=async()=>{if(!Ar)return;const c=hnt(r),f=Jo(i);if(!c||!f)return;const d=await Cge(c,f,{placement:_(e),strategy:_(n),middleware:_(t)});jb(l).forEach(h=>{l[h].value=d[h]})};return Jt(()=>{is(()=>{u()})}),{...l,update:u,referenceRef:r,contentRef:i}},vnt=({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const r=_(t);return r?xge({element:r,padding:e}).fn(n):{}}}),gnt=ue({name:"ElTooltipV2Content"}),mnt=ue({...gnt,props:{...VH,...uge},setup(t){const e=t,{triggerRef:n,contentId:r}=bt(PI),i=F(e.placement),o=F(e.strategy),a=F(null),{referenceRef:s,contentRef:l,middlewareData:u,x:c,y:f,update:d}=pnt({placement:i,strategy:o,middleware:z(()=>{const b=[Sge(e.offset)];return e.showArrow&&b.push(vnt({arrowRef:a})),b})}),h=a_().nextZIndex(),p=Ye("tooltip-v2"),v=z(()=>i.value.split("-")[0]),g=z(()=>({position:_(o),top:`${_(f)||0}px`,left:`${_(c)||0}px`,zIndex:h})),m=z(()=>{if(!e.showArrow)return{};const{arrow:b}=_(u);return{[`--${p.namespace.value}-tooltip-v2-arrow-x`]:`${b?.x}px`||"",[`--${p.namespace.value}-tooltip-v2-arrow-y`]:`${b?.y}px`||""}}),y=z(()=>[p.e("content"),p.is("dark",e.effect==="dark"),p.is(_(o)),e.contentClass]);return Le(a,()=>d()),Le(()=>e.placement,b=>i.value=b),Jt(()=>{Le(()=>e.reference||n.value,b=>{s.value=b||void 0},{immediate:!0})}),jn(fge,{arrowRef:a}),(b,w)=>(N(),Q("div",{ref_key:"contentRef",ref:l,style:Ot(_(g)),"data-tooltip-v2-root":""},[b.nowrap?ge("v-if",!0):(N(),Q("div",{key:0,"data-side":_(v),class:q(_(y))},[Ee(b.$slots,"default",{contentStyle:_(g),contentClass:_(y)}),O(_(dnt),{id:_(r),role:"tooltip"},{default:$(()=>[b.ariaLabel?(N(),Q(ft,{key:0},[Be(Ne(b.ariaLabel),1)],64)):Ee(b.$slots,"default",{key:1})]),_:3},8,["id"]),Ee(b.$slots,"arrow",{style:Ot(_(m)),side:_(v)})],10,["data-side"]))],4))}});var kX=lt(mnt,[["__file","content.vue"]]);const ynt=rt({setRef:{type:me(Function),required:!0},onlyChild:Boolean});var bnt=ue({props:ynt,setup(t,{slots:e}){const n=F(),r=TI(n,i=>{i?t.setRef(i.nextElementSibling):t.setRef(null)});return()=>{var i;const[o]=((i=e.default)==null?void 0:i.call(e))||[],a=t.onlyChild?oje(o.children):o.children;return O(ft,{ref:r},[a])}}});const _nt=ue({name:"ElTooltipV2Trigger"}),wnt=ue({..._nt,props:{...uge,...HH},setup(t){const e=t,{onClose:n,onOpen:r,onDelayOpen:i,triggerRef:o,contentId:a}=bt(PI);let s=!1;const l=y=>{o.value=y},u=()=>{s=!1},c=ao(e.onMouseEnter,i),f=ao(e.onMouseLeave,n),d=ao(e.onMouseDown,()=>{n(),s=!0,document.addEventListener("mouseup",u,{once:!0})}),h=ao(e.onFocus,()=>{s||r()}),p=ao(e.onBlur,n),v=ao(e.onClick,y=>{y.detail===0&&n()}),g={blur:p,click:v,focus:h,mousedown:d,mouseenter:c,mouseleave:f},m=(y,b,w)=>{y&&Object.entries(b).forEach(([S,x])=>{y[w](S,x)})};return Le(o,(y,b)=>{m(y,g,"addEventListener"),m(b,g,"removeEventListener"),y&&y.setAttribute("aria-describedby",a.value)}),ur(()=>{m(o.value,g,"removeEventListener"),document.removeEventListener("mouseup",u)}),(y,b)=>y.nowrap?(N(),de(_(bnt),{key:0,"set-ref":l,"only-child":""},{default:$(()=>[Ee(y.$slots,"default")]),_:3})):(N(),Q("button",Fn({key:1,ref_key:"triggerRef",ref:o},y.$attrs),[Ee(y.$slots,"default")],16))}});var Snt=lt(wnt,[["__file","trigger.vue"]]);const xnt=ue({name:"ElTooltipV2"}),Cnt=ue({...xnt,props:ftt,setup(t){const n=zo(t),r=Bn(Zs(n,Object.keys(FH))),i=Bn(Zs(n,Object.keys(VH))),o=Bn(Zs(n,Object.keys(zH))),a=Bn(Zs(n,Object.keys(HH)));return(s,l)=>(N(),de(ptt,Sl(Wf(o)),{default:$(({open:u})=>[O(Snt,Fn(a,{nowrap:""}),{default:$(()=>[Ee(s.$slots,"trigger")]),_:3},16),O(_(l_),{to:s.to,disabled:!s.teleported},{default:$(()=>[s.fullTransition?(N(),de(ka,Sl(Fn({key:0},s.transitionProps)),{default:$(()=>[s.alwaysOn||u?(N(),de(kX,Sl(Fn({key:0},i)),{arrow:$(({style:c,side:f})=>[s.showArrow?(N(),de(_X,Fn({key:0},r,{style:c,side:f}),null,16,["style","side"])):ge("v-if",!0)]),default:$(()=>[Ee(s.$slots,"default")]),_:3},16)):ge("v-if",!0)]),_:2},1040)):(N(),Q(ft,{key:1},[s.alwaysOn||u?(N(),de(kX,Sl(Fn({key:0},i)),{arrow:$(({style:c,side:f})=>[s.showArrow?(N(),de(_X,Fn({key:0},r,{style:c,side:f}),null,16,["style","side"])):ge("v-if",!0)]),default:$(()=>[Ee(s.$slots,"default")]),_:3},16)):ge("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var Ent=lt(Cnt,[["__file","tooltip.vue"]]);const Tnt=kn(Ent),Ege="left-check-change",Tge="right-check-change",D0=rt({data:{type:me(Array),default:()=>[]},titles:{type:me(Array),default:()=>[]},buttonTexts:{type:me(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:me(Function)},leftDefaultChecked:{type:me(Array),default:()=>[]},rightDefaultChecked:{type:me(Array),default:()=>[]},renderContent:{type:me(Function)},modelValue:{type:me(Array),default:()=>[]},format:{type:me(Object),default:()=>({})},filterable:Boolean,props:{type:me(Object),default:()=>ji({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),JF=(t,e)=>[t,e].every(tt)||tt(t)&&So(e),Ant={[tr]:(t,e,n)=>[t,n].every(tt)&&["left","right"].includes(e),[_n]:t=>tt(t),[Ege]:JF,[Tge]:JF},QF="checked-change",knt=rt({data:D0.data,optionRender:{type:me(Function)},placeholder:String,title:String,filterable:Boolean,format:D0.format,filterMethod:D0.filterMethod,defaultChecked:D0.leftDefaultChecked,props:D0.props}),Mnt={[QF]:JF},C2=t=>{const e={label:"label",key:"key",disabled:"disabled"};return z(()=>({...e,...t.props}))},Pnt=(t,e,n)=>{const r=C2(t),i=z(()=>t.data.filter(c=>qt(t.filterMethod)?t.filterMethod(e.query,c):String(c[r.value.label]||c[r.value.key]).toLowerCase().includes(e.query.toLowerCase()))),o=z(()=>i.value.filter(c=>!c[r.value.disabled])),a=z(()=>{const c=e.checked.length,f=t.data.length,{noChecked:d,hasChecked:h}=t.format;return d&&h?c>0?h.replace(/\${checked}/g,c.toString()).replace(/\${total}/g,f.toString()):d.replace(/\${total}/g,f.toString()):`${c}/${f}`}),s=z(()=>{const c=e.checked.length;return c>0&&c<o.value.length}),l=()=>{const c=o.value.map(f=>f[r.value.key]);e.allChecked=c.length>0&&c.every(f=>e.checked.includes(f))},u=c=>{e.checked=c?o.value.map(f=>f[r.value.key]):[]};return Le(()=>e.checked,(c,f)=>{if(l(),e.checkChangeByUser){const d=c.concat(f).filter(h=>!c.includes(h)||!f.includes(h));n(QF,c,d)}else n(QF,c),e.checkChangeByUser=!0}),Le(o,()=>{l()}),Le(()=>t.data,()=>{const c=[],f=i.value.map(d=>d[r.value.key]);e.checked.forEach(d=>{f.includes(d)&&c.push(d)}),e.checkChangeByUser=!1,e.checked=c}),Le(()=>t.defaultChecked,(c,f)=>{if(f&&c.length===f.length&&c.every(p=>f.includes(p)))return;const d=[],h=o.value.map(p=>p[r.value.key]);c.forEach(p=>{h.includes(p)&&d.push(p)}),e.checkChangeByUser=!1,e.checked=d},{immediate:!0}),{filteredData:i,checkableData:o,checkedSummary:a,isIndeterminate:s,updateAllChecked:l,handleAllCheckedChange:u}},Ont=ue({name:"ElTransferPanel"}),Int=ue({...Ont,props:knt,emits:Mnt,setup(t,{expose:e,emit:n}){const r=t,i=Co(),o=({option:b})=>b,{t:a}=Cr(),s=Ye("transfer"),l=Bn({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),u=C2(r),{filteredData:c,checkedSummary:f,isIndeterminate:d,handleAllCheckedChange:h}=Pnt(r,l,n),p=z(()=>!Fl(l.query)&&Fl(c.value)),v=z(()=>!Fl(i.default()[0].children)),{checked:g,allChecked:m,query:y}=zo(l);return e({query:y}),(b,w)=>(N(),Q("div",{class:q(_(s).b("panel"))},[K("p",{class:q(_(s).be("panel","header"))},[O(_(Ku),{modelValue:_(m),"onUpdate:modelValue":S=>ai(m)?m.value=S:null,indeterminate:_(d),"validate-event":!1,onChange:_(h)},{default:$(()=>[Be(Ne(b.title)+" ",1),K("span",null,Ne(_(f)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),K("div",{class:q([_(s).be("panel","body"),_(s).is("with-footer",_(v))])},[b.filterable?(N(),de(_(Ps),{key:0,modelValue:_(y),"onUpdate:modelValue":S=>ai(y)?y.value=S:null,class:q(_(s).be("panel","filter")),size:"default",placeholder:b.placeholder,"prefix-icon":_(pm),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):ge("v-if",!0),An(O(_(Jhe),{modelValue:_(g),"onUpdate:modelValue":S=>ai(g)?g.value=S:null,"validate-event":!1,class:q([_(s).is("filterable",b.filterable),_(s).be("panel","list")])},{default:$(()=>[(N(!0),Q(ft,null,gn(_(c),S=>(N(),de(_(Ku),{key:S[_(u).key],class:q(_(s).be("panel","item")),value:S[_(u).key],disabled:S[_(u).disabled],"validate-event":!1},{default:$(()=>{var x;return[O(o,{option:(x=b.optionRender)==null?void 0:x.call(b,S)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[kr,!_(p)&&!_(Fl)(b.data)]]),An(K("div",{class:q(_(s).be("panel","empty"))},[Ee(b.$slots,"empty",{},()=>[Be(Ne(_(p)?_(a)("el.transfer.noMatch"):_(a)("el.transfer.noData")),1)])],2),[[kr,_(p)||_(Fl)(b.data)]])],2),_(v)?(N(),Q("p",{key:0,class:q(_(s).be("panel","footer"))},[Ee(b.$slots,"default")],2)):ge("v-if",!0)],2))}});var MX=lt(Int,[["__file","transfer-panel.vue"]]);const Rnt=t=>{const e=C2(t),n=z(()=>t.data.reduce((o,a)=>(o[a[e.value.key]]=a)&&o,{})),r=z(()=>t.data.filter(o=>!t.modelValue.includes(o[e.value.key]))),i=z(()=>t.targetOrder==="original"?t.data.filter(o=>t.modelValue.includes(o[e.value.key])):t.modelValue.reduce((o,a)=>{const s=n.value[a];return s&&o.push(s),o},[]));return{sourceData:r,targetData:i}},Lnt=(t,e,n)=>{const r=C2(t),i=(s,l,u)=>{n(_n,s),n(tr,s,l,u)};return{addToLeft:()=>{const s=t.modelValue.slice();e.rightChecked.forEach(l=>{const u=s.indexOf(l);u>-1&&s.splice(u,1)}),i(s,"left",e.rightChecked)},addToRight:()=>{let s=t.modelValue.slice();const l=t.data.filter(u=>{const c=u[r.value.key];return e.leftChecked.includes(c)&&!t.modelValue.includes(c)}).map(u=>u[r.value.key]);s=t.targetOrder==="unshift"?l.concat(s):s.concat(l),t.targetOrder==="original"&&(s=t.data.filter(u=>s.includes(u[r.value.key])).map(u=>u[r.value.key])),i(s,"right",e.leftChecked)}}},Dnt=(t,e)=>({onSourceCheckedChange:(i,o)=>{t.leftChecked=i,o&&e(Ege,i,o)},onTargetCheckedChange:(i,o)=>{t.rightChecked=i,o&&e(Tge,i,o)}}),Nnt=ue({name:"ElTransfer"}),Bnt=ue({...Nnt,props:D0,emits:Ant,setup(t,{expose:e,emit:n}){const r=t,i=Co(),{t:o}=Cr(),a=Ye("transfer"),{formItem:s}=Ua(),l=Bn({leftChecked:[],rightChecked:[]}),u=C2(r),{sourceData:c,targetData:f}=Rnt(r),{onSourceCheckedChange:d,onTargetCheckedChange:h}=Dnt(l,n),{addToLeft:p,addToRight:v}=Lnt(r,l,n),g=F(),m=F(),y=E=>{switch(E){case"left":g.value.query="";break;case"right":m.value.query="";break}},b=z(()=>r.buttonTexts.length===2),w=z(()=>r.titles[0]||o("el.transfer.titles.0")),S=z(()=>r.titles[1]||o("el.transfer.titles.1")),x=z(()=>r.filterPlaceholder||o("el.transfer.filterPlaceholder"));Le(()=>r.modelValue,()=>{var E;r.validateEvent&&((E=s?.validate)==null||E.call(s,"change").catch(T=>void 0))});const C=z(()=>E=>{var T;if(r.renderContent)return r.renderContent(Rt,E);const A=(((T=i.default)==null?void 0:T.call(i,{option:E}))||[]).filter(k=>k.type!==yo);return A.length?A:Rt("span",E[u.value.label]||E[u.value.key])});return e({clearQuery:y,leftPanel:g,rightPanel:m}),(E,T)=>(N(),Q("div",{class:q(_(a).b())},[O(MX,{ref_key:"leftPanel",ref:g,data:_(c),"option-render":_(C),placeholder:_(x),title:_(w),filterable:E.filterable,format:E.format,"filter-method":E.filterMethod,"default-checked":E.leftDefaultChecked,props:r.props,onCheckedChange:_(d)},{empty:$(()=>[Ee(E.$slots,"left-empty")]),default:$(()=>[Ee(E.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),K("div",{class:q(_(a).e("buttons"))},[O(_(Ea),{type:"primary",class:q([_(a).e("button"),_(a).is("with-texts",_(b))]),disabled:_(Fl)(l.rightChecked),onClick:_(p)},{default:$(()=>[O(_(zt),null,{default:$(()=>[O(_(oh))]),_:1}),_(gr)(E.buttonTexts[0])?ge("v-if",!0):(N(),Q("span",{key:0},Ne(E.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),O(_(Ea),{type:"primary",class:q([_(a).e("button"),_(a).is("with-texts",_(b))]),disabled:_(Fl)(l.leftChecked),onClick:_(v)},{default:$(()=>[_(gr)(E.buttonTexts[1])?ge("v-if",!0):(N(),Q("span",{key:0},Ne(E.buttonTexts[1]),1)),O(_(zt),null,{default:$(()=>[O(_(Rs))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),O(MX,{ref_key:"rightPanel",ref:m,data:_(f),"option-render":_(C),placeholder:_(x),filterable:E.filterable,format:E.format,"filter-method":E.filterMethod,title:_(S),"default-checked":E.rightDefaultChecked,props:r.props,onCheckedChange:_(h)},{empty:$(()=>[Ee(E.$slots,"right-empty")]),default:$(()=>[Ee(E.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var $nt=lt(Bnt,[["__file","transfer.vue"]]);const Fnt=kn($nt),bb="$treeNodeId",PX=function(t,e){!e||e[bb]||Object.defineProperty(e,bb,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},YH=(t,e)=>e?.[t||bb],eV=(t,e,n)=>{const r=t.value.currentNode;n();const i=t.value.currentNode;r!==i&&e("current-change",i?i.data:null,i)},tV=t=>{let e=!0,n=!0,r=!0;for(let i=0,o=t.length;i<o;i++){const a=t[i];(a.checked!==!0||a.indeterminate)&&(e=!1,a.disabled||(r=!1)),(a.checked!==!1||a.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:r,half:!e&&!n}},tS=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:r}=tV(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):r?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const i=t.parent;!i||i.level===0||t.store.checkStrictly||tS(i)},fT=function(t,e){const n=t.store.props,r=t.data||{},i=n[e];if(qt(i))return i(r,t);if(Ht(i))return r[i];if(gr(i)){const o=r[e];return gr(o)?"":o}},nV=function(t,e){t.forEach(n=>{n.canFocus=e,nV(n.childNodes,e)})};let Vnt=0,rV=class Sk{constructor(e){this.isLeafByUser=void 0,this.isLeaf=void 0,this.id=Vnt++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)Rr(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var e;const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const r=n.props;if(r&&typeof r.isLeaf<"u"){const a=fT(this,"isLeaf");ei(a)&&(this.isLeafByUser=a)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&!this.isLeafByUser&&this.expand(),tt(this.data)||PX(this,this.data),!this.data)return;const i=n.defaultExpandedKeys,o=n.key;o&&!So(this.key)&&i&&i.includes(this.key)&&this.expand(null,n.autoExpandParent),o&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||((e=this.parent)==null?void 0:e.expanded)===!0)&&(this.canFocus=!0)}setData(e){tt(e)||PX(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&tt(this.data)?n=this.data:n=fT(this,"children")||[];for(let r=0,i=n.length;r<i;r++)this.insertChild({data:n[r]})}get label(){return fT(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return fT(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(r=>r===e||n&&r.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,r){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof Sk)){if(!r){const i=this.getChildren(!0);i?.includes(e.data)||(gr(n)||n<0?i?.push(e.data):i?.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=Bn(new Sk(e)),e instanceof Sk&&e.initialize()}e.level=this.level+1,gr(n)||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(e,r)}insertAfter(e,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(e,r)}removeChild(e){const n=this.getChildren()||[],r=n.indexOf(e.data);r>-1&&n.splice(r,1);const i=this.childNodes.indexOf(e);i>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(i,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===e){n=this.childNodes[r];break}n&&this.removeChild(n)}expand(e,n){const r=()=>{if(n){let i=this.parent;for(;i&&i.level>0;)i.expanded=!0,i=i.parent}this.expanded=!0,e&&e(),nV(this.childNodes,!0)};this.shouldLoadData()?this.loadData(i=>{tt(i)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||tS(this),r())}):r()}doCreateChildren(e,n={}){e.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,nV(this.childNodes,!1)}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,r,i){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:a,allWithoutDisable:s}=tV(this.childNodes);!this.isLeaf&&!a&&s&&(this.checked=!1,e=!1);const l=()=>{if(n){const u=this.childNodes;for(let d=0,h=u.length;d<h;d++){const p=u[d];i=i||e!==!1;const v=p.disabled?p.checked:i;p.setChecked(v,n,!0,i)}const{half:c,all:f}=tV(u);f||(this.checked=f,this.indeterminate=c)}};if(this.shouldLoadData()){this.loadData(()=>{l(),tS(this)},{checked:e!==!1});return}else l()}const o=this.parent;!o||o.level===0||r||tS(o)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let i="children";return r&&(i=r.children||"children"),gr(n[i])&&(n[i]=null),e&&!n[i]&&(n[i]=[]),n[i]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(o=>o.data),r={},i=[];e.forEach((o,a)=>{const s=o[bb];!!s&&n.findIndex(u=>u?.[bb]===s)>=0?r[s]={index:a,data:o}:i.push({index:a,data:o})}),this.store.lazy||n.forEach(o=>{r[o?.[bb]]||this.removeChildByData(o)}),i.forEach(({index:o,data:a})=>{this.insertChild({data:a},o)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=o=>{this.childNodes=[],this.doCreateChildren(o,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,o)},i=()=>{this.loading=!1};this.store.load(this,r,i)}else e&&e.call(this)}eachNode(e){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),e(r)}}reInitChecked(){this.store.checkStrictly||tS(this)}};class znt{constructor(e){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const n in e)Rr(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new rV({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()},Yr)}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,r=this.lazy,i=async function(o){const a=o.root?o.root.childNodes:o.childNodes;for(const[s,l]of a.entries())l.visible=!!n?.call(l,e,l.data,l),s%80===0&&s>0&&await Pt(),await i(l);if(!o.visible&&a.length){let s=!0;s=!a.some(l=>l.visible),o.root?o.root.visible=s===!1:o.visible=s===!1}e&&o.visible&&!o.isLeaf&&(!r||o.loaded)&&o.expand()};i(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof rV)return e;const n=Nn(e)?YH(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){var r;const i=this.getNode(n);(r=i.parent)==null||r.insertBefore({data:e},i)}insertAfter(e,n){var r;const i=this.getNode(n);(r=i.parent)==null||r.insertAfter({data:e},i)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const r=Cl(n)?this.root:this.getNode(n);r&&r.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(r=>{const i=n[r];i&&i.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){const n=this.defaultCheckedKeys||[];!So(e.key)&&n.includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;if(!(!e||!e.data))if(!n)this.nodesMap[e.id]=e;else{const r=e.key;So(r)||(this.nodesMap[r]=e)}}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const r=[],i=function(o){(o.root?o.root.childNodes:o.childNodes).forEach(s=>{(s.checked||n&&s.indeterminate)&&(!e||e&&s.isLeaf)&&r.push(s.data),i(s)})};return i(this),r}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(o=>{o.indeterminate&&e.push(o.data),n(o)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const r in n)Rr(n,r)&&e.push(n[r]);return e}updateChildren(e,n){const r=this.nodesMap[e];if(!r)return;const i=r.childNodes;for(let o=i.length-1;o>=0;o--){const a=i[o];this.remove(a.data)}for(let o=0,a=n.length;o<a;o++){const s=n[o];this.append(s,r.data)}}_setCheckedKeys(e,n=!1,r){const i=this._getAllNodes().sort((l,u)=>l.level-u.level),o=Object.create(null),a=Object.keys(r);i.forEach(l=>l.setChecked(!1,!1));const s=l=>{l.childNodes.forEach(u=>{var c;o[u.data[e]]=!0,(c=u.childNodes)!=null&&c.length&&s(u)})};for(let l=0,u=i.length;l<u;l++){const c=i[l],f=c.data[e].toString();if(!a.includes(f)){c.checked&&!o[f]&&c.setChecked(!1,!1);continue}if(c.childNodes.length&&s(c),c.isLeaf||this.checkStrictly){c.setChecked(!0,!1);continue}if(c.setChecked(!0,!0),n){c.setChecked(!1,!1);const h=function(p){p.childNodes.forEach(g=>{g.isLeaf||g.setChecked(!1,!1),h(g)})};h(c)}}}setCheckedNodes(e,n=!1){const r=this.key,i={};e.forEach(o=>{i[(o||{})[r]]=!0}),this._setCheckedKeys(r,n,i)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const r=this.key,i={};e.forEach(o=>{i[o]=!0}),this._setCheckedKeys(r,n,i)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(e,n,r){const i=this.getNode(e);i&&i.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){var r;const i=e[this.key],o=this.nodesMap[i];this.setCurrentNode(o),n&&this.currentNode&&this.currentNode.level>1&&((r=this.currentNode.parent)==null||r.expand(null,!0))}setCurrentNodeKey(e,n=!0){var r;if(this.currentNodeKey=e,Cl(e)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const i=this.getNode(e);i&&(this.setCurrentNode(i),n&&this.currentNode&&this.currentNode.level>1&&((r=this.currentNode.parent)==null||r.expand(null,!0)))}}const XH="RootTree",Age="NodeInstance",OX="TreeNodeMap",Hnt=ue({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=Ye("tree"),n=bt(Age),r=bt(XH);return()=>{const i=t.node,{data:o,store:a}=i;return t.renderContent?t.renderContent(Rt,{_self:n,node:i,data:o,store:a}):Ee(r.ctx.slots,"default",{node:i,data:o},()=>[Rt($H,{tag:"span",truncated:!0,class:e.be("node","label")},()=>[i.label])])}}});var jnt=lt(Hnt,[["__file","tree-node-content.vue"]]);function kge(t){const e=bt(OX,null),n={treeNodeExpand:r=>{var i;t.node!==r&&((i=t.node)==null||i.collapse())},children:[]};return e&&e.children.push(n),jn(OX,n),{broadcastExpanded:r=>{if(t.accordion)for(const i of n.children)i.treeNodeExpand(r)}}}const Mge=Symbol("dragEvents");function Gnt({props:t,ctx:e,el$:n,dropIndicator$:r,store:i}){const o=Ye("tree"),a=F({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return jn(Mge,{treeNodeDragStart:({event:c,treeNode:f})=>{if(c.dataTransfer){if(qt(t.allowDrag)&&!t.allowDrag(f.node))return c.preventDefault(),!1;c.dataTransfer.effectAllowed="move";try{c.dataTransfer.setData("text/plain","")}catch{}a.value.draggingNode=f,e.emit("node-drag-start",f.node,c)}},treeNodeDragOver:({event:c,treeNode:f})=>{if(!c.dataTransfer)return;const d=f,h=a.value.dropNode;h&&h.node.id!==d.node.id&&Is(h.$el,o.is("drop-inner"));const p=a.value.draggingNode;if(!p||!d)return;let v=!0,g=!0,m=!0,y=!0;qt(t.allowDrop)&&(v=t.allowDrop(p.node,d.node,"prev"),y=g=t.allowDrop(p.node,d.node,"inner"),m=t.allowDrop(p.node,d.node,"next")),c.dataTransfer.dropEffect=g||v||m?"move":"none",(v||g||m)&&h?.node.id!==d.node.id&&(h&&e.emit("node-drag-leave",p.node,h.node,c),e.emit("node-drag-enter",p.node,d.node,c)),v||g||m?a.value.dropNode=d:a.value.dropNode=null,d.node.nextSibling===p.node&&(m=!1),d.node.previousSibling===p.node&&(v=!1),d.node.contains(p.node,!1)&&(g=!1),(p.node===d.node||p.node.contains(d.node))&&(v=!1,g=!1,m=!1);const b=d.$el,w=b.querySelector(`.${o.be("node","content")}`).getBoundingClientRect(),S=n.value.getBoundingClientRect();let x;const C=v?g?.25:m?.45:1:-1,E=m?g?.75:v?.55:0:1;let T=-9999;const A=c.clientY-w.top;A<w.height*C?x="before":A>w.height*E?x="after":g?x="inner":x="none";const k=b.querySelector(`.${o.be("node","expand-icon")}`).getBoundingClientRect(),M=r.value;x==="before"?T=k.top-S.top:x==="after"&&(T=k.bottom-S.top),M.style.top=`${T}px`,M.style.left=`${k.right-S.left}px`,x==="inner"?Pu(b,o.is("drop-inner")):Is(b,o.is("drop-inner")),a.value.showDropIndicator=x==="before"||x==="after",a.value.allowDrop=a.value.showDropIndicator||y,a.value.dropType=x,e.emit("node-drag-over",p.node,d.node,c)},treeNodeDragEnd:c=>{var f,d;const{draggingNode:h,dropType:p,dropNode:v}=a.value;if(c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect="move"),h?.node.data&&v){const g={data:h.node.data};p!=="none"&&h.node.remove(),p==="before"?(f=v.node.parent)==null||f.insertBefore(g,v.node):p==="after"?(d=v.node.parent)==null||d.insertAfter(g,v.node):p==="inner"&&v.node.insertChild(g),p!=="none"&&(i.value.registerNode(g),i.value.key&&h.node.eachNode(m=>{var y;(y=i.value.nodesMap[m.data[i.value.key]])==null||y.setChecked(m.checked,!i.value.checkStrictly)})),Is(v.$el,o.is("drop-inner")),e.emit("node-drag-end",h.node,v.node,p,c),p!=="none"&&e.emit("node-drop",h.node,v.node,p,c)}h&&!v&&e.emit("node-drag-end",h.node,null,p,c),a.value.showDropIndicator=!1,a.value.draggingNode=null,a.value.dropNode=null,a.value.allowDrop=!0}}),{dragState:a}}const Unt=ue({name:"ElTreeNode",components:{ElCollapseTransition:CI,ElCheckbox:Ku,NodeContent:jnt,ElIcon:zt,Loading:Kf},props:{node:{type:rV,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(t,e){const n=Ye("tree"),{broadcastExpanded:r}=kge(t),i=bt(XH),o=F(!1),a=F(!1),s=F(),l=F(),u=F(),c=bt(Mge),f=Un();jn(Age,f),t.node.expanded&&(o.value=!0,a.value=!0);const d=i.props.props.children||"children";Le(()=>{var T;const A=(T=t.node.data)==null?void 0:T[d];return A&&[...A]},()=>{t.node.updateChildren()}),Le(()=>t.node.indeterminate,T=>{v(t.node.checked,T)}),Le(()=>t.node.checked,T=>{v(T,t.node.indeterminate)}),Le(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),Le(()=>t.node.expanded,T=>{Pt(()=>o.value=T),T&&(a.value=!0)});const h=T=>YH(i.props.nodeKey,T.data),p=T=>{const A=t.props.class;if(!A)return{};let k;if(qt(A)){const{data:M}=T;k=A(M,T)}else k=A;return Ht(k)?{[k]:!0}:k},v=(T,A)=>{(s.value!==T||l.value!==A)&&i.ctx.emit("check-change",t.node.data,T,A),s.value=T,l.value=A},g=T=>{eV(i.store,i.ctx.emit,()=>{var A;if((A=i?.props)==null?void 0:A.nodeKey){const M=h(t.node);i.store.value.setCurrentNodeKey(M)}else i.store.value.setCurrentNode(t.node)}),i.currentNode.value=t.node,i.props.expandOnClickNode&&y(),(i.props.checkOnClickNode||t.node.isLeaf&&i.props.checkOnClickLeaf&&t.showCheckbox)&&!t.node.disabled&&b(!t.node.checked),i.ctx.emit("node-click",t.node.data,t.node,f,T)},m=T=>{var A;(A=i.instance.vnode.props)!=null&&A.onNodeContextmenu&&(T.stopPropagation(),T.preventDefault()),i.ctx.emit("node-contextmenu",T,t.node.data,t.node,f)},y=()=>{t.node.isLeaf||(o.value?(i.ctx.emit("node-collapse",t.node.data,t.node,f),t.node.collapse()):t.node.expand(()=>{e.emit("node-expand",t.node.data,t.node,f)}))},b=T=>{t.node.setChecked(T,!i?.props.checkStrictly),Pt(()=>{const A=i.store.value;i.ctx.emit("check",t.node.data,{checkedNodes:A.getCheckedNodes(),checkedKeys:A.getCheckedKeys(),halfCheckedNodes:A.getHalfCheckedNodes(),halfCheckedKeys:A.getHalfCheckedKeys()})})};return{ns:n,node$:u,tree:i,expanded:o,childNodeRendered:a,oldChecked:s,oldIndeterminate:l,getNodeKey:h,getNodeClass:p,handleSelectChange:v,handleClick:g,handleContextMenu:m,handleExpandIconClick:y,handleCheckChange:b,handleChildNodeExpand:(T,A,k)=>{r(A),i.ctx.emit("node-expand",T,A,k)},handleDragStart:T=>{i.props.draggable&&c.treeNodeDragStart({event:T,treeNode:t})},handleDragOver:T=>{T.preventDefault(),i.props.draggable&&c.treeNodeDragOver({event:T,treeNode:{$el:u.value,node:t.node}})},handleDrop:T=>{T.preventDefault()},handleDragEnd:T=>{i.props.draggable&&c.treeNodeDragEnd(T)},CaretRight:Sz}}});function Wnt(t,e,n,r,i,o){const a=pe("el-icon"),s=pe("el-checkbox"),l=pe("loading"),u=pe("node-content"),c=pe("el-tree-node"),f=pe("el-collapse-transition");return An((N(),Q("div",{ref:"node$",class:q([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:an(t.handleClick,["stop"]),onContextmenu:t.handleContextMenu,onDragstart:an(t.handleDragStart,["stop"]),onDragover:an(t.handleDragOver,["stop"]),onDragend:an(t.handleDragEnd,["stop"]),onDrop:an(t.handleDrop,["stop"])},[K("div",{class:q(t.ns.be("node","content")),style:Ot({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(N(),de(a,{key:0,class:q([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:an(t.handleExpandIconClick,["stop"])},{default:$(()=>[(N(),de(Vn(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):ge("v-if",!0),t.showCheckbox?(N(),de(s,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:an(()=>{},["stop"]),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):ge("v-if",!0),t.node.loading?(N(),de(a,{key:2,class:q([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:$(()=>[O(l)]),_:1},8,["class"])):ge("v-if",!0),O(u,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),O(f,null,{default:$(()=>[!t.renderAfterExpand||t.childNodeRendered?An((N(),Q("div",{key:0,class:q(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded,onClick:an(()=>{},["stop"])},[(N(!0),Q(ft,null,gn(t.node.childNodes,d=>(N(),de(c,{key:t.getNodeKey(d),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:d,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded","onClick"])),[[kr,t.expanded]]):ge("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[kr,t.node.visible]])}var qnt=lt(Unt,[["render",Wnt],["__file","tree-node.vue"]]);function Knt({el$:t},e){const n=Ye("tree");Jt(()=>{o()}),Hc(()=>{Array.from(t.value.querySelectorAll("input[type=checkbox]")).forEach(s=>{s.setAttribute("tabindex","-1")})});function r(a,s){var l,u;const c=e.value.getNode(a[s].dataset.key);return c.canFocus&&c.visible&&(((l=c.parent)==null?void 0:l.expanded)||((u=c.parent)==null?void 0:u.level)===0)}Lr(t,"keydown",a=>{const s=a.target;if(!s.className.includes(n.b("node")))return;const l=a.code,u=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),c=u.indexOf(s);let f;if([Ct.up,Ct.down].includes(l)){if(a.preventDefault(),l===Ct.up){f=c===-1?0:c!==0?c-1:u.length-1;const h=f;for(;!r(u,f);){if(f--,f===h){f=-1;break}f<0&&(f=u.length-1)}}else{f=c===-1?0:c<u.length-1?c+1:0;const h=f;for(;!r(u,f);){if(f++,f===h){f=-1;break}f>=u.length&&(f=0)}}f!==-1&&u[f].focus()}[Ct.left,Ct.right].includes(l)&&(a.preventDefault(),s.click());const d=s.querySelector('[type="checkbox"]');[Ct.enter,Ct.numpadEnter,Ct.space].includes(l)&&d&&(a.preventDefault(),d.click())});const o=()=>{var a;if(!t.value)return;const s=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));Array.from(t.value.querySelectorAll("input[type=checkbox]")).forEach(c=>{c.setAttribute("tabindex","-1")});const u=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(u.length){u[0].setAttribute("tabindex","0");return}(a=s[0])==null||a.setAttribute("tabindex","0")}}const Ynt=ue({name:"ElTree",components:{ElTreeNode:qnt},props:{data:{type:me(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:{type:me(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:me(Function)},allowDrop:{type:me(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Xr}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=Cr(),r=Ye("tree"),i=bt(c_,null),o=F(new znt({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));o.value.initialize();const a=F(o.value.root),s=F(null),l=F(null),u=F(null),{broadcastExpanded:c}=kge(t),{dragState:f}=Gnt({props:t,ctx:e,el$:l,dropIndicator$:u,store:o});Knt({el$:l},o);const d=z(()=>{const{childNodes:P}=a.value,B=i?i.hasFilteredOptions!==0:!1;return(!P||P.length===0||P.every(({visible:j})=>!j))&&!B});Le(()=>t.currentNodeKey,P=>{o.value.setCurrentNodeKey(P??null)}),Le(()=>t.defaultCheckedKeys,(P,B)=>{Ei(P,B)||o.value.setDefaultCheckedKey(P??[])}),Le(()=>t.defaultExpandedKeys,P=>{o.value.setDefaultExpandedKeys(P??[])}),Le(()=>t.data,P=>{o.value.setData(P)},{deep:!0}),Le(()=>t.checkStrictly,P=>{o.value.checkStrictly=P});const h=P=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(P)},p=P=>YH(t.nodeKey,P.data),v=P=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const B=o.value.getNode(P);if(!B)return[];const j=[B.data];let G=B.parent;for(;G&&G!==a.value;)j.push(G.data),G=G.parent;return j.reverse()},g=(P,B)=>o.value.getCheckedNodes(P,B),m=P=>o.value.getCheckedKeys(P),y=()=>{const P=o.value.getCurrentNode();return P?P.data:null},b=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const P=y();return P?P[t.nodeKey]:null},w=(P,B)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(P,B)},S=(P,B)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(P,B)},x=(P,B,j)=>{o.value.setChecked(P,B,j)},C=()=>o.value.getHalfCheckedNodes(),E=()=>o.value.getHalfCheckedKeys(),T=(P,B=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");eV(o,e.emit,()=>{c(P),o.value.setUserCurrentNode(P,B)})},A=(P,B=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");eV(o,e.emit,()=>{c(),o.value.setCurrentNodeKey(P??null,B)})},k=P=>o.value.getNode(P),M=P=>{o.value.remove(P)},D=(P,B)=>{o.value.append(P,B)},L=(P,B)=>{o.value.insertBefore(P,B)},I=(P,B)=>{o.value.insertAfter(P,B)},R=(P,B,j)=>{c(B),e.emit("node-expand",P,B,j)},V=(P,B)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(P,B)};return jn(XH,{ctx:e,props:t,store:o,root:a,currentNode:s,instance:Un()}),jn(Yf,void 0),{ns:r,store:o,root:a,currentNode:s,dragState:f,el$:l,dropIndicator$:u,isEmpty:d,filter:h,getNodeKey:p,getNodePath:v,getCheckedNodes:g,getCheckedKeys:m,getCurrentNode:y,getCurrentKey:b,setCheckedNodes:w,setCheckedKeys:S,setChecked:x,getHalfCheckedNodes:C,getHalfCheckedKeys:E,setCurrentNode:T,setCurrentKey:A,t:n,getNode:k,remove:M,append:D,insertBefore:L,insertAfter:I,handleNodeExpand:R,updateKeyChildren:V}}});function Xnt(t,e,n,r,i,o){const a=pe("el-tree-node");return N(),Q("div",{ref:"el$",class:q([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(N(!0),Q(ft,null,gn(t.root.childNodes,s=>(N(),de(a,{key:t.getNodeKey(s),node:s,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(N(),Q("div",{key:0,class:q(t.ns.e("empty-block"))},[Ee(t.$slots,"empty",{},()=>{var s;return[K("span",{class:q(t.ns.e("empty-text"))},Ne((s=t.emptyText)!=null?s:t.t("el.tree.emptyText")),3)]})],2)):ge("v-if",!0),An(K("div",{ref:"dropIndicator$",class:q(t.ns.e("drop-indicator"))},null,2),[[kr,t.dragState.showDropIndicator]])],2)}var Znt=lt(Ynt,[["render",Xnt],["__file","tree.vue"]]);const eP=kn(Znt),Jnt=(t,{attrs:e,emit:n},{select:r,tree:i,key:o})=>{const a=Ye("tree-select");return Le(()=>t.data,()=>{t.filterable&&Pt(()=>{var l,u;(u=i.value)==null||u.filter((l=r.value)==null?void 0:l.states.inputValue)})},{flush:"post"}),{...Zs(zo(t),Object.keys(Bm.props)),...e,class:z(()=>e.class),style:z(()=>e.style),"onUpdate:modelValue":l=>n(_n,l),valueKey:o,popperClass:z(()=>{const l=[a.e("popper")];return t.popperClass&&l.push(t.popperClass),l.join(" ")}),filterMethod:(l="")=>{var u;t.filterMethod?t.filterMethod(l):t.remoteMethod?t.remoteMethod(l):(u=i.value)==null||u.filter(l)}}},Qnt=ue({extends:HM,setup(t,e){const n=HM.setup(t,e);delete n.selectOptionClick;const r=Un().proxy;return Pt(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),Le(()=>e.attrs.visible,i=>{Pt(()=>{n.states.visible=i})},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function iV(t){return t||t===0}function ZH(t){return tt(t)&&t.length}function i0(t){return tt(t)?t:iV(t)?[t]:[]}function xk(t,e,n,r,i){for(let o=0;o<t.length;o++){const a=t[o];if(e(a,o,t,i))return r?r(a,o,t,i):a;{const s=n(a);if(ZH(s)){const l=xk(s,e,n,r,a);if(l)return l}}}}function Ck(t,e,n,r){for(let i=0;i<t.length;i++){const o=t[i];e(o,i,t,r);const a=n(o);ZH(a)&&Ck(a,e,n,o)}}const ert=(t,{attrs:e,slots:n,emit:r},{select:i,tree:o,key:a})=>{Le([()=>t.modelValue,o],()=>{t.showCheckbox&&Pt(()=>{const d=o.value;d&&!Ei(d.getCheckedKeys(),i0(t.modelValue))&&d.setCheckedKeys(i0(t.modelValue))})},{immediate:!0,deep:!0});const s=z(()=>({value:a.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),l=(d,h)=>{var p;const v=s.value[d];return qt(v)?v(h,(p=o.value)==null?void 0:p.getNode(l("value",h))):h[v]},u=i0(t.modelValue).map(d=>xk(t.data||[],h=>l("value",h)===d,h=>l("children",h),(h,p,v,g)=>g&&l("value",g))).filter(d=>iV(d)),c=z(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const d=[];return Ck(t.data.concat(t.cacheData),h=>{const p=l("value",h);d.push({value:p,currentLabel:l("label",h),isDisabled:l("disabled",h)})},h=>l("children",h)),d}),f=()=>{var d;return(d=o.value)==null?void 0:d.getCheckedKeys().filter(h=>{var p;const v=(p=o.value)==null?void 0:p.getNode(h);return!So(v)&&Fl(v.childNodes)})};return{...Zs(zo(t),Object.keys(eP.props)),...e,nodeKey:a,expandOnClickNode:z(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:z(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(u):u),renderContent:(d,{node:h,data:p,store:v})=>d(Qnt,{value:l("value",p),label:l("label",p),disabled:l("disabled",p),visible:h.visible},t.renderContent?()=>t.renderContent(d,{node:h,data:p,store:v}):n.default?()=>n.default({node:h,data:p,store:v}):void 0),filterNodeMethod:(d,h,p)=>t.filterNodeMethod?t.filterNodeMethod(d,h,p):d?new RegExp(bH(d),"i").test(l("label",h)||""):!0,onNodeClick:(d,h,p)=>{var v,g,m,y;if((v=e.onNodeClick)==null||v.call(e,d,h,p),!(t.showCheckbox&&t.checkOnClickNode)){if(!t.showCheckbox&&(t.checkStrictly||h.isLeaf)){if(!l("disabled",d)){const b=(g=i.value)==null?void 0:g.states.options.get(l("value",d));(m=i.value)==null||m.handleOptionSelect(b)}}else t.expandOnClickNode&&p.proxy.handleExpandIconClick();(y=i.value)==null||y.focus()}},onCheck:(d,h)=>{var p;if(!t.showCheckbox)return;const v=l("value",d),g={};Ck([o.value.store.root],w=>g[w.key]=w,w=>w.childNodes);const m=h.checkedKeys,y=t.multiple?i0(t.modelValue).filter(w=>!(w in g)&&!m.includes(w)):[],b=y.concat(m);if(t.checkStrictly)r(_n,t.multiple?b:b.includes(v)?v:void 0);else if(t.multiple){const w=f();r(_n,y.concat(w))}else{const w=xk([d],C=>!ZH(l("children",C))&&!l("disabled",C),C=>l("children",C)),S=w?l("value",w):void 0,x=iV(t.modelValue)&&!!xk([d],C=>l("value",C)===t.modelValue,C=>l("children",C));r(_n,S===t.modelValue||x?void 0:S)}Pt(()=>{var w;const S=i0(t.modelValue);o.value.setCheckedKeys(S),(w=e.onCheck)==null||w.call(e,d,{checkedKeys:o.value.getCheckedKeys(),checkedNodes:o.value.getCheckedNodes(),halfCheckedKeys:o.value.getHalfCheckedKeys(),halfCheckedNodes:o.value.getHalfCheckedNodes()})}),(p=i.value)==null||p.focus()},onNodeExpand:(d,h,p)=>{var v;(v=e.onNodeExpand)==null||v.call(e,d,h,p),Pt(()=>{if(!t.checkStrictly&&t.lazy&&t.multiple&&h.checked){const g={},m=o.value.getCheckedKeys();Ck([o.value.store.root],w=>g[w.key]=w,w=>w.childNodes);const y=i0(t.modelValue).filter(w=>!(w in g)&&!m.includes(w)),b=f();r(_n,y.concat(b))}})},cacheOptions:c}};var trt=ue({props:{data:{type:Array,default:()=>[]}},setup(t){const e=bt(c_);return Le(()=>t.data,()=>{var n;t.data.forEach(i=>{e.states.cachedOptions.has(i.value)||e.states.cachedOptions.set(i.value,i)});const r=((n=e.selectRef)==null?void 0:n.querySelectorAll("input"))||[];Ar&&!Array.from(r).includes(document.activeElement)&&e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const nrt=ue({name:"ElTreeSelect",inheritAttrs:!1,props:{...Bm.props,...eP.props,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:r}=e,i=F(),o=F(),a=z(()=>t.nodeKey||t.valueKey||"value"),s=Jnt(t,e,{select:i,tree:o,key:a}),{cacheOptions:l,...u}=ert(t,e,{select:i,tree:o,key:a}),c=Bn({});return r(c),Jt(()=>{Object.assign(c,{...Zs(o.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...Zs(i.value,["focus","blur","selectedLabel"])})}),()=>Rt(Bm,Bn({...s,ref:f=>i.value=f}),{...n,default:()=>[Rt(trt,{data:l.value}),Rt(eP,Bn({...u,ref:f=>o.value=f}))]})}});var rrt=lt(nrt,[["__file","tree-select.vue"]]);const irt=kn(rrt),JH=Symbol(),ort={key:-1,level:-1,data:{}};var nS=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t.CLASS="",t))(nS||{}),oV=(t=>(t.ADD="add",t.DELETE="delete",t))(oV||{});const Pge={type:Number,default:26},art=rt({data:{type:me(Array),default:()=>ji([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:me(Object),default:()=>ji({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:Boolean,showCheckbox:Boolean,defaultCheckedKeys:{type:me(Array),default:()=>ji([])},checkStrictly:Boolean,defaultExpandedKeys:{type:me(Array),default:()=>ji([])},indent:{type:Number,default:16},itemSize:Pge,icon:{type:Xr},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},currentNodeKey:{type:me([String,Number])},accordion:Boolean,filterMethod:{type:me(Function)},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:Boolean}),srt=rt({node:{type:me(Object),default:()=>ji(ort)},expanded:Boolean,checked:Boolean,indeterminate:Boolean,showCheckbox:Boolean,disabled:Boolean,current:Boolean,hiddenExpandIcon:Boolean,itemSize:Pge}),lrt=rt({node:{type:me(Object),required:!0}}),Oge="node-click",Ige="node-drop",Rge="node-expand",Lge="node-collapse",Dge="current-change",Nge="check",Bge="check-change",$ge="node-contextmenu",urt={[Oge]:(t,e,n)=>t&&e&&n,[Ige]:(t,e,n)=>t&&e&&n,[Rge]:(t,e)=>t&&e,[Lge]:(t,e)=>t&&e,[Dge]:(t,e)=>t&&e,[Nge]:(t,e)=>t&&e,[Bge]:(t,e)=>t&&ei(e),[$ge]:(t,e,n)=>t&&e&&n},crt={click:(t,e)=>!!(t&&e),drop:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&ei(e)};function frt(t,e){const n=F(new Set),r=F(new Set),{emit:i}=Un();Le([()=>e.value,()=>t.defaultCheckedKeys],()=>Pt(()=>{y(t.defaultCheckedKeys)}),{immediate:!0});const o=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:b,maxLevel:w}=e.value,S=n.value,x=new Set;for(let C=w-1;C>=1;--C){const E=b.get(C);E&&E.forEach(T=>{const A=T.children;if(A){let k=!0,M=!1;for(const D of A){const L=D.key;if(S.has(L))M=!0;else if(x.has(L)){k=!1,M=!0;break}else k=!1}k?S.add(T.key):M?(x.add(T.key),S.delete(T.key)):(S.delete(T.key),x.delete(T.key))}})}r.value=x},a=b=>n.value.has(b.key),s=b=>r.value.has(b.key),l=(b,w,S=!0,x=!0)=>{const C=n.value,E=(T,A)=>{C[A?oV.ADD:oV.DELETE](T.key);const k=T.children;!t.checkStrictly&&k&&k.forEach(M=>{M.disabled||E(M,A)})};E(b,w),x&&o(),S&&u(b,w)},u=(b,w)=>{const{checkedNodes:S,checkedKeys:x}=p(),{halfCheckedNodes:C,halfCheckedKeys:E}=v();i(Nge,b.data,{checkedKeys:x,checkedNodes:S,halfCheckedKeys:E,halfCheckedNodes:C}),i(Bge,b.data,w)};function c(b=!1){return p(b).checkedKeys}function f(b=!1){return p(b).checkedNodes}function d(){return v().halfCheckedKeys}function h(){return v().halfCheckedNodes}function p(b=!1){const w=[],S=[];if(e?.value&&t.showCheckbox){const{treeNodeMap:x}=e.value;n.value.forEach(C=>{const E=x.get(C);E&&(!b||b&&E.isLeaf)&&(S.push(C),w.push(E.data))})}return{checkedKeys:S,checkedNodes:w}}function v(){const b=[],w=[];if(e?.value&&t.showCheckbox){const{treeNodeMap:S}=e.value;r.value.forEach(x=>{const C=S.get(x);C&&(w.push(x),b.push(C.data))})}return{halfCheckedNodes:b,halfCheckedKeys:w}}function g(b){n.value.clear(),r.value.clear(),Pt(()=>{y(b)})}function m(b,w){if(e?.value&&t.showCheckbox){const S=e.value.treeNodeMap.get(b);S&&l(S,w,!1)}}function y(b){if(e?.value){const{treeNodeMap:w}=e.value;if(t.showCheckbox&&w&&b?.length>0){for(const S of b){const x=w.get(S);x&&!a(x)&&l(x,!0,!1,!1)}o()}}}return{updateCheckedKeys:o,toggleCheckbox:l,isChecked:a,isIndeterminate:s,getCheckedKeys:c,getCheckedNodes:f,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:m,setCheckedKeys:g}}function drt(t,e){const n=F(new Set([])),r=F(new Set([])),i=z(()=>qt(t.filterMethod));function o(s){var l;if(!i.value)return;const u=new Set,c=r.value,f=n.value,d=[],h=((l=e.value)==null?void 0:l.treeNodes)||[],p=t.filterMethod;f.clear();function v(g){g.forEach(m=>{d.push(m),p?.(s,m.data,m)?d.forEach(b=>{u.add(b.key),b.expanded=!0}):(m.expanded=!1,m.isLeaf&&f.add(m.key));const y=m.children;if(y&&v(y),!m.isLeaf){if(!u.has(m.key))f.add(m.key);else if(y){let b=!0;for(const w of y)if(!f.has(w.key)){b=!1;break}b?c.add(m.key):c.delete(m.key)}}d.pop()})}return v(h),u}function a(s){return r.value.has(s.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:o,isForceHiddenExpandIcon:a}}function hrt(t,e){const n=F(new Set),r=F(),i=bi(),o=F(),{isIndeterminate:a,isChecked:s,toggleCheckbox:l,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:f,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:p}=frt(t,i),{doFilter:v,hiddenNodeKeySet:g,isForceHiddenExpandIcon:m}=drt(t,i),y=z(()=>{var J;return((J=t.props)==null?void 0:J.value)||nS.KEY}),b=z(()=>{var J;return((J=t.props)==null?void 0:J.children)||nS.CHILDREN}),w=z(()=>{var J;return((J=t.props)==null?void 0:J.disabled)||nS.DISABLED}),S=z(()=>{var J;return((J=t.props)==null?void 0:J.label)||nS.LABEL}),x=z(()=>{var J;const Y=n.value,se=g.value,he=[],ye=((J=i.value)==null?void 0:J.treeNodes)||[],_e=[];for(let fe=ye.length-1;fe>=0;--fe)_e.push(ye[fe]);for(;_e.length;){const fe=_e.pop();if(!se.has(fe.key)&&(he.push(fe),fe.children&&Y.has(fe.key)))for(let Ce=fe.children.length-1;Ce>=0;--Ce)_e.push(fe.children[Ce])}return he}),C=z(()=>x.value.length>0);function E(J){const Y=new Map,se=new Map;let he=1;function ye(fe,Ce=1,Oe=void 0){var Ue;const qe=[];for(const ze of fe){const ae=k(ze),Fe={level:Ce,key:ae,data:ze};Fe.label=D(ze),Fe.parent=Oe;const We=A(ze);Fe.disabled=M(ze),Fe.isLeaf=!We||We.length===0,Fe.expanded=n.value.has(ae),We&&We.length&&(Fe.children=ye(We,Ce+1,Fe)),qe.push(Fe),Y.set(ae,Fe),se.has(Ce)||se.set(Ce,[]),(Ue=se.get(Ce))==null||Ue.push(Fe)}return Ce>he&&(he=Ce),qe}const _e=ye(J);return{treeNodeMap:Y,levelTreeNodeMap:se,maxLevel:he,treeNodes:_e}}function T(J){const Y=v(J);Y&&(n.value=Y)}function A(J){return J[b.value]}function k(J){return J?J[y.value]:""}function M(J){return J[w.value]}function D(J){return J[S.value]}function L(J){n.value.has(J.key)?G(J):j(J)}function I(J){const Y=new Set,se=i.value.treeNodeMap;n.value.forEach(he=>{const ye=se.get(he);n.value.delete(ye.key),ye.expanded=!1}),J.forEach(he=>{let ye=se.get(he);for(;ye&&!Y.has(ye.key);)Y.add(ye.key),ye.expanded=!0,ye=ye.parent}),n.value=Y}function R(J,Y){e(Oge,J.data,J,Y),P(J),t.expandOnClickNode&&L(J),t.showCheckbox&&(t.checkOnClickNode||J.isLeaf&&t.checkOnClickLeaf)&&!J.disabled&&l(J,!s(J),!0)}function V(J,Y){e(Ige,J.data,J,Y)}function P(J){Z(J)||(r.value=J.key,e(Dge,J.data,J))}function B(J,Y){l(J,Y)}function j(J){const Y=n.value;if(i.value&&t.accordion){const{treeNodeMap:se}=i.value;Y.forEach(he=>{const ye=se.get(he);J&&J.level===ye?.level&&(Y.delete(he),ye.expanded=!1)})}Y.add(J.key),J.expanded=!0,e(Rge,J.data,J)}function G(J){n.value.delete(J.key),J.expanded=!1,e(Lge,J.data,J)}function W(J){return!!J.disabled}function Z(J){const Y=r.value;return Y!==void 0&&Y===J.key}function ee(){var J,Y;if(r.value)return(Y=(J=i.value)==null?void 0:J.treeNodeMap.get(r.value))==null?void 0:Y.data}function oe(){return r.value}function ce(J){r.value=J}function X(J){i.value=E(J)}function H(J){var Y;const se=Nn(J)?k(J):J;return(Y=i.value)==null?void 0:Y.treeNodeMap.get(se)}function U(J,Y="auto"){const se=H(J);se&&o.value&&o.value.scrollToItem(x.value.indexOf(se),Y)}function ne(J){var Y;(Y=o.value)==null||Y.scrollTo(J)}return Le(()=>t.currentNodeKey,J=>{r.value=J},{immediate:!0}),Le(()=>t.defaultExpandedKeys,J=>{n.value=new Set(J)},{immediate:!0}),Le(()=>t.data,J=>{X(J)},{immediate:!0}),{tree:i,flattenTree:x,isNotEmpty:C,listRef:o,getKey:k,getChildren:A,toggleExpand:L,toggleCheckbox:l,isChecked:s,isIndeterminate:a,isDisabled:W,isCurrent:Z,isForceHiddenExpandIcon:m,handleNodeClick:R,handleNodeDrop:V,handleNodeCheck:B,getCurrentNode:ee,getCurrentKey:oe,setCurrentKey:ce,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:f,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:p,filter:T,setData:X,getNode:H,expandNode:j,collapseNode:G,setExpandedKeys:I,scrollToNode:U,scrollTo:ne}}var prt=ue({name:"ElTreeNodeContent",props:lrt,setup(t){const e=bt(JH),n=Ye("tree");return()=>{const r=t.node,{data:i}=r;return e?.ctx.slots.default?e.ctx.slots.default({node:r,data:i}):Rt($H,{tag:"span",truncated:!0,class:n.be("node","label")},()=>[r?.label])}}});const vrt=ue({name:"ElTreeNode"}),grt=ue({...vrt,props:srt,emits:crt,setup(t,{emit:e}){const n=t,r=bt(JH),i=Ye("tree"),o=z(()=>{var h;return(h=r?.props.indent)!=null?h:16}),a=z(()=>{var h;return(h=r?.props.icon)!=null?h:Sz}),s=h=>{const p=r?.props.props.class;if(!p)return{};let v;if(qt(p)){const{data:g}=h;v=p(g,h)}else v=p;return Ht(v)?{[v]:!0}:v},l=h=>{e("click",n.node,h)},u=h=>{e("drop",n.node,h)},c=()=>{e("toggle",n.node)},f=h=>{e("check",n.node,h)},d=h=>{var p,v,g,m;(g=(v=(p=r?.instance)==null?void 0:p.vnode)==null?void 0:v.props)!=null&&g.onNodeContextmenu&&(h.stopPropagation(),h.preventDefault()),r?.ctx.emit($ge,h,(m=n.node)==null?void 0:m.data,n.node)};return(h,p)=>{var v,g,m;return N(),Q("div",{ref:"node$",class:q([_(i).b("node"),_(i).is("expanded",h.expanded),_(i).is("current",h.current),_(i).is("focusable",!h.disabled),_(i).is("checked",!h.disabled&&h.checked),s(h.node)]),role:"treeitem",tabindex:"-1","aria-expanded":h.expanded,"aria-disabled":h.disabled,"aria-checked":h.checked,"data-key":(v=h.node)==null?void 0:v.key,onClick:an(l,["stop"]),onContextmenu:d,onDragover:an(()=>{},["prevent"]),onDragenter:an(()=>{},["prevent"]),onDrop:an(u,["stop"])},[K("div",{class:q(_(i).be("node","content")),style:Ot({paddingLeft:`${(h.node.level-1)*_(o)}px`,height:h.itemSize+"px"})},[_(a)?(N(),de(_(zt),{key:0,class:q([_(i).is("leaf",!!((g=h.node)!=null&&g.isLeaf)),_(i).is("hidden",h.hiddenExpandIcon),{expanded:!((m=h.node)!=null&&m.isLeaf)&&h.expanded},_(i).be("node","expand-icon")]),onClick:an(c,["stop"])},{default:$(()=>[(N(),de(Vn(_(a))))]),_:1},8,["class","onClick"])):ge("v-if",!0),h.showCheckbox?(N(),de(_(Ku),{key:1,"model-value":h.checked,indeterminate:h.indeterminate,disabled:h.disabled,onChange:f,onClick:an(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):ge("v-if",!0),O(_(prt),{node:{...h.node,expanded:h.expanded}},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var mrt=lt(grt,[["__file","tree-node.vue"]]);const yrt=ue({name:"ElTreeV2"}),brt=ue({...yrt,props:art,emits:urt,setup(t,{expose:e,emit:n}){const r=t,i=Co(),o=z(()=>r.itemSize);jn(JH,{ctx:{emit:n,slots:i},props:r,instance:Un()}),jn(Yf,void 0);const{t:a}=Cr(),s=Ye("tree"),{flattenTree:l,isNotEmpty:u,listRef:c,toggleExpand:f,isIndeterminate:d,isChecked:h,isDisabled:p,isCurrent:v,isForceHiddenExpandIcon:g,handleNodeClick:m,handleNodeDrop:y,handleNodeCheck:b,toggleCheckbox:w,getCurrentNode:S,getCurrentKey:x,setCurrentKey:C,getCheckedKeys:E,getCheckedNodes:T,getHalfCheckedKeys:A,getHalfCheckedNodes:k,setChecked:M,setCheckedKeys:D,filter:L,setData:I,getNode:R,expandNode:V,collapseNode:P,setExpandedKeys:B,scrollToNode:j,scrollTo:G}=hrt(r,n);return e({toggleCheckbox:w,getCurrentNode:S,getCurrentKey:x,setCurrentKey:C,getCheckedKeys:E,getCheckedNodes:T,getHalfCheckedKeys:A,getHalfCheckedNodes:k,setChecked:M,setCheckedKeys:D,filter:L,setData:I,getNode:R,expandNode:V,collapseNode:P,setExpandedKeys:B,scrollToNode:j,scrollTo:G}),(W,Z)=>(N(),Q("div",{class:q([_(s).b(),{[_(s).m("highlight-current")]:W.highlightCurrent}]),role:"tree"},[_(u)?(N(),de(_(yve),{key:0,ref_key:"listRef",ref:c,"class-name":_(s).b("virtual-list"),data:_(l),total:_(l).length,height:W.height,"item-size":_(o),"perf-mode":W.perfMode,"scrollbar-always-on":W.scrollbarAlwaysOn},{default:$(({data:ee,index:oe,style:ce})=>[(N(),de(mrt,{key:ee[oe].key,style:Ot(ce),node:ee[oe],expanded:ee[oe].expanded,"show-checkbox":W.showCheckbox,checked:_(h)(ee[oe]),indeterminate:_(d)(ee[oe]),"item-size":_(o),disabled:_(p)(ee[oe]),current:_(v)(ee[oe]),"hidden-expand-icon":_(g)(ee[oe]),onClick:_(m),onToggle:_(f),onCheck:_(b),onDrop:_(y)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode","scrollbar-always-on"])):(N(),Q("div",{key:1,class:q(_(s).e("empty-block"))},[Ee(W.$slots,"empty",{},()=>{var ee;return[K("span",{class:q(_(s).e("empty-text"))},Ne((ee=W.emptyText)!=null?ee:_(a)("el.tree.emptyText")),3)]})],2))],2))}});var _rt=lt(brt,[["__file","tree.vue"]]);const wrt=kn(_rt),Fge=Symbol("uploadContextKey"),Srt="ElUpload";class xrt extends Error{constructor(e,n,r,i){super(e),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=i}}function IX(t,e,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${e.method} ${t} ${n.status}`,new xrt(r,n.status,e.method,t)}function Crt(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const Ert=t=>{typeof XMLHttpRequest>"u"&&xo(Srt,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",o=>{const a=o;a.percent=o.total>0?o.loaded/o.total*100:0,t.onProgress(a)});const r=new FormData;if(t.data)for(const[o,a]of Object.entries(t.data))tt(a)&&a.length?r.append(o,...a):r.append(o,a);r.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(IX(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(IX(n,t,e));t.onSuccess(Crt(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const i=t.headers||{};if(i instanceof Headers)i.forEach((o,a)=>e.setRequestHeader(a,o));else for(const[o,a]of Object.entries(i))So(a)||e.setRequestHeader(o,String(a));return e.send(r),e},Vge=["text","picture","picture-card"];let Trt=1;const tP=()=>Date.now()+Trt++,zge=rt({action:{type:String,default:"#"},headers:{type:me(Object)},method:{type:String,default:"post"},data:{type:me([Object,Function,Promise]),default:()=>ji({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:me(Array),default:()=>ji([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Vge,default:"text"},httpRequest:{type:me(Function),default:Ert},disabled:Boolean,limit:Number}),Art=rt({...zge,beforeUpload:{type:me(Function),default:Yr},beforeRemove:{type:me(Function)},onRemove:{type:me(Function),default:Yr},onChange:{type:me(Function),default:Yr},onPreview:{type:me(Function),default:Yr},onSuccess:{type:me(Function),default:Yr},onProgress:{type:me(Function),default:Yr},onError:{type:me(Function),default:Yr},onExceed:{type:me(Function),default:Yr},crossorigin:{type:me(String)}}),krt=rt({files:{type:me(Array),default:()=>ji([])},disabled:Boolean,handlePreview:{type:me(Function),default:Yr},listType:{type:String,values:Vge,default:"text"},crossorigin:{type:me(String)}}),Mrt={remove:t=>!!t},Prt=ue({name:"ElUploadList"}),Ort=ue({...Prt,props:krt,emits:Mrt,setup(t,{emit:e}){const n=t,{t:r}=Cr(),i=Ye("upload"),o=Ye("icon"),a=Ye("list"),s=pa(),l=F(!1),u=z(()=>[i.b("list"),i.bm("list",n.listType),i.is("disabled",n.disabled)]),c=f=>{e("remove",f)};return(f,d)=>(N(),de(Kce,{tag:"ul",class:q(_(u)),name:_(a).b()},{default:$(()=>[(N(!0),Q(ft,null,gn(f.files,(h,p)=>(N(),Q("li",{key:h.uid||h.name,class:q([_(i).be("list","item"),_(i).is(h.status),{focusing:l.value}]),tabindex:"0",onKeydown:hi(v=>!_(s)&&c(h),["delete"]),onFocus:v=>l.value=!0,onBlur:v=>l.value=!1,onClick:v=>l.value=!1},[Ee(f.$slots,"default",{file:h,index:p},()=>[f.listType==="picture"||h.status!=="uploading"&&f.listType==="picture-card"?(N(),Q("img",{key:0,class:q(_(i).be("list","item-thumbnail")),src:h.url,crossorigin:f.crossorigin,alt:""},null,10,["src","crossorigin"])):ge("v-if",!0),h.status==="uploading"||f.listType!=="picture-card"?(N(),Q("div",{key:1,class:q(_(i).be("list","item-info"))},[K("a",{class:q(_(i).be("list","item-name")),onClick:an(v=>f.handlePreview(h),["prevent"])},[O(_(zt),{class:q(_(o).m("document"))},{default:$(()=>[O(_(uVe))]),_:1},8,["class"]),K("span",{class:q(_(i).be("list","item-file-name")),title:h.name},Ne(h.name),11,["title"])],10,["onClick"]),h.status==="uploading"?(N(),de(_(uve),{key:0,type:f.listType==="picture-card"?"circle":"line","stroke-width":f.listType==="picture-card"?6:2,percentage:Number(h.percentage),style:Ot(f.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):ge("v-if",!0)],2)):ge("v-if",!0),K("label",{class:q(_(i).be("list","item-status-label"))},[f.listType==="text"?(N(),de(_(zt),{key:0,class:q([_(o).m("upload-success"),_(o).m("circle-check")])},{default:$(()=>[O(_(xz))]),_:1},8,["class"])):["picture-card","picture"].includes(f.listType)?(N(),de(_(zt),{key:1,class:q([_(o).m("upload-success"),_(o).m("check")])},{default:$(()=>[O(_(f2))]),_:1},8,["class"])):ge("v-if",!0)],2),_(s)?ge("v-if",!0):(N(),de(_(zt),{key:2,class:q(_(o).m("close")),onClick:v=>c(h)},{default:$(()=>[O(_(Hu))]),_:2},1032,["class","onClick"])),ge(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),ge(" This is a bug which needs to be fixed "),ge(" TODO: Fix the incorrect navigation interaction "),_(s)?ge("v-if",!0):(N(),Q("i",{key:3,class:q(_(o).m("close-tip"))},Ne(_(r)("el.upload.deleteTip")),3)),f.listType==="picture-card"?(N(),Q("span",{key:4,class:q(_(i).be("list","item-actions"))},[K("span",{class:q(_(i).be("list","item-preview")),onClick:v=>f.handlePreview(h)},[O(_(zt),{class:q(_(o).m("zoom-in"))},{default:$(()=>[O(_(ehe))]),_:1},8,["class"])],10,["onClick"]),_(s)?ge("v-if",!0):(N(),Q("span",{key:0,class:q(_(i).be("list","item-delete")),onClick:v=>c(h)},[O(_(zt),{class:q(_(o).m("delete"))},{default:$(()=>[O(_(ju))]),_:1},8,["class"])],10,["onClick"]))],2)):ge("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),Ee(f.$slots,"append")]),_:3},8,["class","name"]))}});var RX=lt(Ort,[["__file","upload-list.vue"]]);const Irt=rt({disabled:Boolean}),Rrt={file:t=>tt(t)},Hge="ElUploadDrag",Lrt=ue({name:Hge}),Drt=ue({...Lrt,props:Irt,emits:Rrt,setup(t,{emit:e}){bt(Fge)||xo(Hge,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=Ye("upload"),i=F(!1),o=pa(),a=u=>{if(o.value)return;i.value=!1,u.stopPropagation();const c=Array.from(u.dataTransfer.files),f=u.dataTransfer.items||[];c.forEach((d,h)=>{var p;const v=f[h],g=(p=v?.webkitGetAsEntry)==null?void 0:p.call(v);g&&(d.isDirectory=g.isDirectory)}),e("file",c)},s=()=>{o.value||(i.value=!0)},l=u=>{u.currentTarget.contains(u.relatedTarget)||(i.value=!1)};return(u,c)=>(N(),Q("div",{class:q([_(r).b("dragger"),_(r).is("dragover",i.value)]),onDrop:an(a,["prevent"]),onDragover:an(s,["prevent"]),onDragleave:an(l,["prevent"])},[Ee(u.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var Nrt=lt(Drt,[["__file","upload-dragger.vue"]]);const Brt=rt({...zge,beforeUpload:{type:me(Function),default:Yr},onRemove:{type:me(Function),default:Yr},onStart:{type:me(Function),default:Yr},onSuccess:{type:me(Function),default:Yr},onProgress:{type:me(Function),default:Yr},onError:{type:me(Function),default:Yr},onExceed:{type:me(Function),default:Yr}}),$rt=ue({name:"ElUploadContent",inheritAttrs:!1}),Frt=ue({...$rt,props:Brt,setup(t,{expose:e}){const n=t,r=Ye("upload"),i=pa(),o=bi({}),a=bi(),s=v=>{if(v.length===0)return;const{autoUpload:g,limit:m,fileList:y,multiple:b,onStart:w,onExceed:S}=n;if(m&&y.length+v.length>m){S(v,y);return}b||(v=v.slice(0,1));for(const x of v){const C=x;C.uid=tP(),w(C),g&&l(C)}},l=async v=>{if(a.value.value="",!n.beforeUpload)return c(v);let g,m={};try{const b=n.data,w=n.beforeUpload(v);m=_x(n.data)?Hi(n.data):n.data,g=await w,_x(n.data)&&Ei(b,m)&&(m=Hi(n.data))}catch{g=!1}if(g===!1){n.onRemove(v);return}let y=v;g instanceof Blob&&(g instanceof File?y=g:y=new File([g],v.name,{type:v.type})),c(Object.assign(y,{uid:v.uid}),m)},u=async(v,g)=>qt(v)?v(g):v,c=async(v,g)=>{const{headers:m,data:y,method:b,withCredentials:w,name:S,action:x,onProgress:C,onSuccess:E,onError:T,httpRequest:A}=n;try{g=await u(g??y,v)}catch{n.onRemove(v);return}const{uid:k}=v,M={headers:m||{},withCredentials:w,file:v,data:g,method:b,filename:S,action:x,onProgress:L=>{C(L,v)},onSuccess:L=>{E(L,v),delete o.value[k]},onError:L=>{T(L,v),delete o.value[k]}},D=A(M);o.value[k]=D,D instanceof Promise&&D.then(M.onSuccess,M.onError)},f=v=>{const g=v.target.files;g&&s(Array.from(g))},d=()=>{i.value||(a.value.value="",a.value.click())},h=()=>{d()};return e({abort:v=>{Bde(o.value).filter(v?([m])=>String(v.uid)===m:()=>!0).forEach(([m,y])=>{y instanceof XMLHttpRequest&&y.abort(),delete o.value[m]})},upload:l}),(v,g)=>(N(),Q("div",{class:q([_(r).b(),_(r).m(v.listType),_(r).is("drag",v.drag),_(r).is("disabled",_(i))]),tabindex:_(i)?"-1":"0",onClick:d,onKeydown:hi(an(h,["self"]),["enter","space"])},[v.drag?(N(),de(Nrt,{key:0,disabled:_(i),onFile:s},{default:$(()=>[Ee(v.$slots,"default")]),_:3},8,["disabled"])):Ee(v.$slots,"default",{key:1}),K("input",{ref_key:"inputRef",ref:a,class:q(_(r).e("input")),name:v.name,disabled:_(i),multiple:v.multiple,accept:v.accept,type:"file",onChange:f,onClick:an(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var LX=lt(Frt,[["__file","upload-content.vue"]]);const DX="ElUpload",NX=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},Vrt=(t,e)=>{const n=kde(t,"fileList",void 0,{passive:!0}),r=h=>n.value.find(p=>p.uid===h.uid);function i(h){var p;(p=e.value)==null||p.abort(h)}function o(h=["ready","uploading","success","fail"]){n.value=n.value.filter(p=>!h.includes(p.status))}function a(h){n.value=n.value.filter(p=>p.uid!==h.uid)}const s=(h,p)=>{const v=r(p);v&&(console.error(h),v.status="fail",a(v),t.onError(h,v,n.value),t.onChange(v,n.value))},l=(h,p)=>{const v=r(p);v&&(t.onProgress(h,v,n.value),v.status="uploading",v.percentage=Math.round(h.percent))},u=(h,p)=>{const v=r(p);v&&(v.status="success",v.response=h,t.onSuccess(h,v,n.value),t.onChange(v,n.value))},c=h=>{So(h.uid)&&(h.uid=tP());const p={name:h.name,percentage:0,status:"ready",size:h.size,raw:h,uid:h.uid};if(t.listType==="picture-card"||t.listType==="picture")try{p.url=URL.createObjectURL(h)}catch(v){v.message,t.onError(v,p,n.value)}n.value=[...n.value,p],t.onChange(p,n.value)},f=async h=>{const p=h instanceof File?r(h):h;p||xo(DX,"file to be removed not found");const v=g=>{i(g),a(g),t.onRemove(g,n.value),NX(g)};t.beforeRemove?await t.beforeRemove(p,n.value)!==!1&&v(p):v(p)};function d(){n.value.filter(({status:h})=>h==="ready").forEach(({raw:h})=>{var p;return h&&((p=e.value)==null?void 0:p.upload(h))})}return Le(()=>t.listType,h=>{h!=="picture-card"&&h!=="picture"||(n.value=n.value.map(p=>{const{raw:v,url:g}=p;if(!g&&v)try{p.url=URL.createObjectURL(v)}catch(m){t.onError(m,p,n.value)}return p}))}),Le(n,h=>{for(const p of h)p.uid||(p.uid=tP()),p.status||(p.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:i,clearFiles:o,handleError:s,handleProgress:l,handleStart:c,handleSuccess:u,handleRemove:f,submit:d,revokeFileObjectURL:NX}},zrt=ue({name:"ElUpload"}),Hrt=ue({...zrt,props:Art,setup(t,{expose:e}){const n=t,r=pa(),i=bi(),{abort:o,submit:a,clearFiles:s,uploadFiles:l,handleStart:u,handleError:c,handleRemove:f,handleSuccess:d,handleProgress:h,revokeFileObjectURL:p}=Vrt(n,i),v=z(()=>n.listType==="picture-card"),g=z(()=>({...n,fileList:l.value,onStart:u,onProgress:h,onSuccess:d,onError:c,onRemove:f}));return ur(()=>{l.value.forEach(p)}),jn(Fge,{accept:Hr(n,"accept")}),e({abort:o,submit:a,clearFiles:s,handleStart:u,handleRemove:f}),(m,y)=>(N(),Q("div",null,[_(v)&&m.showFileList?(N(),de(RX,{key:0,disabled:_(r),"list-type":m.listType,files:_(l),crossorigin:m.crossorigin,"handle-preview":m.onPreview,onRemove:_(f)},Ml({append:$(()=>[O(LX,Fn({ref_key:"uploadRef",ref:i},_(g)),{default:$(()=>[m.$slots.trigger?Ee(m.$slots,"trigger",{key:0}):ge("v-if",!0),!m.$slots.trigger&&m.$slots.default?Ee(m.$slots,"default",{key:1}):ge("v-if",!0)]),_:3},16)]),_:2},[m.$slots.file?{name:"default",fn:$(({file:b,index:w})=>[Ee(m.$slots,"file",{file:b,index:w})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):ge("v-if",!0),!_(v)||_(v)&&!m.showFileList?(N(),de(LX,Fn({key:1,ref_key:"uploadRef",ref:i},_(g)),{default:$(()=>[m.$slots.trigger?Ee(m.$slots,"trigger",{key:0}):ge("v-if",!0),!m.$slots.trigger&&m.$slots.default?Ee(m.$slots,"default",{key:1}):ge("v-if",!0)]),_:3},16)):ge("v-if",!0),m.$slots.trigger?Ee(m.$slots,"default",{key:2}):ge("v-if",!0),Ee(m.$slots,"tip"),!_(v)&&m.showFileList?(N(),de(RX,{key:3,disabled:_(r),"list-type":m.listType,files:_(l),crossorigin:m.crossorigin,"handle-preview":m.onPreview,onRemove:_(f)},Ml({_:2},[m.$slots.file?{name:"default",fn:$(({file:b,index:w})=>[Ee(m.$slots,"file",{file:b,index:w})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):ge("v-if",!0)]))}});var jrt=lt(Hrt,[["__file","upload.vue"]]);const Grt=kn(jrt),Urt=rt({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:me([String,Array]),default:"Element Plus"},font:{type:me(Object)},gap:{type:me(Array),default:()=>[100,100]},offset:{type:me(Array)}});function Wrt(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function qrt(t){return Object.keys(t).map(e=>`${Wrt(e)}: ${t[e]};`).join(" ")}function Krt(){return window.devicePixelRatio||1}const Yrt=(t,e)=>{let n=!1;return t.removedNodes.length&&e&&(n=Array.from(t.removedNodes).includes(e)),t.type==="attributes"&&t.target===e&&(n=!0),n},jge=3,Xrt={left:[0,.5],start:[0,.5],center:[.5,0],right:[1,-.5],end:[1,-.5]};function YD(t,e,n=1){const r=document.createElement("canvas"),i=r.getContext("2d"),o=t*n,a=e*n;return r.setAttribute("width",`${o}px`),r.setAttribute("height",`${a}px`),i.save(),[i,r,o,a]}function Zrt(){function t(e,n,r,i,o,a,s,l,u){const[c,f,d,h]=YD(i,o,r);if(e instanceof HTMLImageElement)c.drawImage(e,0,0,d,h);else{const{color:W,fontSize:Z,fontStyle:ee,fontWeight:oe,fontFamily:ce,textAlign:X,textBaseline:H}=a,U=Number(Z)*r;c.font=`${ee} normal ${oe} ${U}px/${o}px ${ce}`,c.fillStyle=W,c.textAlign=X,c.textBaseline=H;const ne=tt(e)?e:[e];ne?.forEach((J,Y)=>{const[se,he]=Xrt[X];c.fillText(J??"",d*se+u*he,Y*(U+jge*r))})}const p=Math.PI/180*Number(n),v=Math.max(i,o),[g,m,y]=YD(v,v,r);g.translate(y/2,y/2),g.rotate(p),d>0&&h>0&&g.drawImage(f,-d/2,-h/2);function b(W,Z){const ee=W*Math.cos(p)-Z*Math.sin(p),oe=W*Math.sin(p)+Z*Math.cos(p);return[ee,oe]}let w=0,S=0,x=0,C=0;const E=d/2,T=h/2;[[0-E,0-T],[0+E,0-T],[0+E,0+T],[0-E,0+T]].forEach(([W,Z])=>{const[ee,oe]=b(W,Z);w=Math.min(w,ee),S=Math.max(S,ee),x=Math.min(x,oe),C=Math.max(C,oe)});const k=w+y/2,M=x+y/2,D=S-w,L=C-x,I=s*r,R=l*r,V=(D+I)*2,P=L+R,[B,j]=YD(V,P);function G(W=0,Z=0){B.drawImage(m,k,M,D,L,W,Z,D,L)}return G(),G(D+I,-L/2-R/2),G(D+I,+L/2+R/2),[j.toDataURL(),V/r,P/r]}return t}const Jrt=ue({name:"ElWatermark"}),Qrt=ue({...Jrt,props:Urt,setup(t){const e=t,n={position:"relative"},r=z(()=>{var A,k;return(k=(A=e.font)==null?void 0:A.color)!=null?k:"rgba(0,0,0,.15)"}),i=z(()=>{var A,k;return(k=(A=e.font)==null?void 0:A.fontSize)!=null?k:16}),o=z(()=>{var A,k;return(k=(A=e.font)==null?void 0:A.fontWeight)!=null?k:"normal"}),a=z(()=>{var A,k;return(k=(A=e.font)==null?void 0:A.fontStyle)!=null?k:"normal"}),s=z(()=>{var A,k;return(k=(A=e.font)==null?void 0:A.fontFamily)!=null?k:"sans-serif"}),l=z(()=>{var A,k;return(k=(A=e.font)==null?void 0:A.textAlign)!=null?k:"center"}),u=z(()=>{var A,k;return(k=(A=e.font)==null?void 0:A.textBaseline)!=null?k:"hanging"}),c=z(()=>e.gap[0]),f=z(()=>e.gap[1]),d=z(()=>c.value/2),h=z(()=>f.value/2),p=z(()=>{var A,k;return(k=(A=e.offset)==null?void 0:A[0])!=null?k:d.value}),v=z(()=>{var A,k;return(k=(A=e.offset)==null?void 0:A[1])!=null?k:h.value}),g=()=>{const A={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let k=p.value-d.value,M=v.value-h.value;return k>0&&(A.left=`${k}px`,A.width=`calc(100% - ${k}px)`,k=0),M>0&&(A.top=`${M}px`,A.height=`calc(100% - ${M}px)`,M=0),A.backgroundPosition=`${k}px ${M}px`,A},m=bi(null),y=bi(),b=F(!1),w=()=>{y.value&&(y.value.remove(),y.value=void 0)},S=(A,k)=>{var M;m.value&&y.value&&(b.value=!0,y.value.setAttribute("style",qrt({...g(),backgroundImage:`url('${A}')`,backgroundSize:`${Math.floor(k)}px`})),(M=m.value)==null||M.append(y.value),setTimeout(()=>{b.value=!1}))},x=A=>{let k=120,M=64,D=0;const{image:L,content:I,width:R,height:V,rotate:P}=e;if(!L&&A.measureText){A.font=`${Number(i.value)}px ${s.value}`;const B=tt(I)?I:[I];let j=0,G=0;B.forEach(Z=>{const{width:ee,fontBoundingBoxAscent:oe,fontBoundingBoxDescent:ce,actualBoundingBoxAscent:X,actualBoundingBoxDescent:H}=A.measureText(Z),U=gr(oe)?X+H:oe+ce;ee>j&&(j=Math.ceil(ee)),U>G&&(G=Math.ceil(U))}),k=j,M=G*B.length+(B.length-1)*jge;const W=Math.PI/180*Number(P);D=Math.ceil(Math.abs(Math.sin(W)*M)/2),k+=D}return[R??k,V??M,D]},C=Zrt(),E=()=>{const k=document.createElement("canvas").getContext("2d"),M=e.image,D=e.content,L=e.rotate;if(k){y.value||(y.value=document.createElement("div"));const I=Krt(),[R,V,P]=x(k),B=j=>{const[G,W]=C(j||"",L,I,R,V,{color:r.value,fontSize:i.value,fontStyle:a.value,fontWeight:o.value,fontFamily:s.value,textAlign:l.value,textBaseline:u.value},c.value,f.value,P);S(G,W)};if(M){const j=new Image;j.onload=()=>{B(j)},j.onerror=()=>{B(D)},j.crossOrigin="anonymous",j.referrerPolicy="no-referrer",j.src=M}else B(D)}};return Jt(()=>{E()}),Le(()=>e,()=>{E()},{deep:!0,flush:"post"}),ur(()=>{w()}),Ade(m,A=>{b.value||A.forEach(k=>{Yrt(k,y.value)&&(w(),E())})},{attributes:!0,subtree:!0,childList:!0}),(A,k)=>(N(),Q("div",{ref_key:"containerRef",ref:m,style:Ot([n])},[Ee(A.$slots,"default")],4))}});var eit=lt(Qrt,[["__file","watermark.vue"]]);const tit=kn(eit),nit=rt({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:me(Object)},targetAreaClickable:{type:Boolean,default:!0}}),rit=(t,e,n,r,i)=>{const o=F(null),a=()=>{let f;return Ht(t.value)?f=document.querySelector(t.value):qt(t.value)?f=t.value():f=t.value,f},s=()=>{const f=a();if(!f||!e.value){o.value=null;return}iit(f)||f.scrollIntoView(i.value);const{left:d,top:h,width:p,height:v}=f.getBoundingClientRect();o.value={left:d,top:h,width:p,height:v,radius:0}};Jt(()=>{Le([e,t],()=>{s()},{immediate:!0}),window.addEventListener("resize",s)}),ur(()=>{window.removeEventListener("resize",s)});const l=f=>{var d;return(d=tt(n.value.offset)?n.value.offset[f]:n.value.offset)!=null?d:6},u=z(()=>{var f;if(!o.value)return o.value;const d=l(0),h=l(1),p=((f=n.value)==null?void 0:f.radius)||2;return{left:o.value.left-d,top:o.value.top-h,width:o.value.width+d*2,height:o.value.height+h*2,radius:p}}),c=z(()=>{const f=a();return!r.value||!f||!window.DOMRect?f||void 0:{getBoundingClientRect(){var d,h,p,v;return window.DOMRect.fromRect({width:((d=u.value)==null?void 0:d.width)||0,height:((h=u.value)==null?void 0:h.height)||0,x:((p=u.value)==null?void 0:p.left)||0,y:((v=u.value)==null?void 0:v.top)||0})}}});return{mergedPosInfo:u,triggerTarget:c}},DI=Symbol("ElTour");function iit(t){const e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:i,bottom:o,left:a}=t.getBoundingClientRect();return r>=0&&a>=0&&i<=e&&o<=n}const oit=(t,e,n,r,i,o,a,s)=>{const l=F(),u=F(),c=F({}),f={x:l,y:u,placement:r,strategy:i,middlewareData:c},d=z(()=>{const m=[Sge(_(o)),lnt(),snt(),ait()];return _(s)&&_(n)&&m.push(xge({element:_(n)})),m}),h=async()=>{if(!Ar)return;const m=_(t),y=_(e);if(!m||!y)return;const b=await Cge(m,y,{placement:_(r),strategy:_(i),middleware:_(d)});jb(f).forEach(w=>{f[w].value=b[w]})},p=z(()=>{if(!_(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:_(a)};const{overflow:m}=_(c);return{position:_(i),zIndex:_(a),top:_(u)!=null?`${_(u)}px`:"",left:_(l)!=null?`${_(l)}px`:"",maxWidth:m?.maxWidth?`${m?.maxWidth}px`:""}}),v=z(()=>{if(!_(s))return{};const{arrow:m}=_(c);return{left:m?.x!=null?`${m?.x}px`:"",top:m?.y!=null?`${m?.y}px`:""}});let g;return Jt(()=>{const m=_(t),y=_(e);m&&y&&(g=ont(m,y,h)),is(()=>{h()})}),ur(()=>{g&&g()}),{update:h,contentStyle:p,arrowStyle:v}},ait=()=>({name:"overflow",async fn(t){const e=await ant(t);let n=0;return e.left>0&&(n=e.left),e.right>0&&(n=e.right),{data:{maxWidth:t.rects.floating.width-n}}}}),sit=ue({name:"ElTourMask",inheritAttrs:!1}),lit=ue({...sit,props:nit,setup(t){const e=t,{ns:n}=bt(DI),r=z(()=>{var l,u;return(u=(l=e.pos)==null?void 0:l.radius)!=null?u:2}),i=z(()=>{const l=r.value,u=`a${l},${l} 0 0 1`;return{topRight:`${u} ${l},${l}`,bottomRight:`${u} ${-l},${l}`,bottomLeft:`${u} ${-l},${-l}`,topLeft:`${u} ${l},${-l}`}}),o=z(()=>{const l=window.innerWidth,u=window.innerHeight,c=i.value,f=`M${l},0 L0,0 L0,${u} L${l},${u} L${l},0 Z`,d=r.value;return e.pos?`${f} M${e.pos.left+d},${e.pos.top} h${e.pos.width-d*2} ${c.topRight} v${e.pos.height-d*2} ${c.bottomRight} h${-e.pos.width+d*2} ${c.bottomLeft} v${-e.pos.height+d*2} ${c.topLeft} z`:f}),a=z(()=>({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:e.zIndex,pointerEvents:e.pos&&e.targetAreaClickable?"none":"auto"})),s=z(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return cH(Hr(e,"visible"),{ns:n}),(l,u)=>l.visible?(N(),Q("div",Fn({key:0,class:_(n).e("mask"),style:_(a)},l.$attrs),[(N(),Q("svg",{style:{width:"100%",height:"100%"}},[K("path",{class:q(_(n).e("hollow")),style:Ot(_(s)),d:_(o)},null,14,["d"])]))],16)):ge("v-if",!0)}});var uit=lt(lit,[["__file","mask.vue"]]);const cit=["absolute","fixed"],fit=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],QH=rt({placement:{type:me(String),values:fit,default:"bottom"},reference:{type:me(Object),default:null},strategy:{type:me(String),values:cit,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),dit={close:()=>!0},hit=ue({name:"ElTourContent"}),pit=ue({...hit,props:QH,emits:dit,setup(t,{emit:e}){const n=t,r=F(n.placement),i=F(n.strategy),o=F(null),a=F(null);Le(()=>n.placement,()=>{r.value=n.placement});const{contentStyle:s,arrowStyle:l}=oit(Hr(n,"reference"),o,a,r,i,Hr(n,"offset"),Hr(n,"zIndex"),Hr(n,"showArrow")),u=z(()=>r.value.split("-")[0]),{ns:c}=bt(DI),f=()=>{e("close")},d=h=>{h.detail.focusReason==="pointer"&&h.preventDefault()};return(h,p)=>(N(),Q("div",{ref_key:"contentRef",ref:o,style:Ot(_(s)),class:q(_(c).e("content")),"data-side":_(u),tabindex:"-1"},[O(_(by),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":o.value||void 0,onReleaseRequested:f,onFocusoutPrevented:d},{default:$(()=>[Ee(h.$slots,"default")]),_:3},8,["focus-trap-el"]),h.showArrow?(N(),Q("span",{key:0,ref_key:"arrowRef",ref:a,style:Ot(_(l)),class:q(_(c).e("arrow"))},null,6)):ge("v-if",!0)],14,["data-side"]))}});var vit=lt(pit,[["__file","content.vue"]]),git=ue({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:e,emit:n}){let r=0;return()=>{var i,o;const a=(i=e.default)==null?void 0:i.call(e),s=[];let l=0;function u(c){tt(c)&&c.forEach(f=>{var d;((d=f?.type||{})==null?void 0:d.name)==="ElTourStep"&&(s.push(f),l+=1)})}return a.length&&u(Pf((o=a[0])==null?void 0:o.children)),r!==l&&(r=l,n("update-total",l)),s.length?s[t.current]:null}}});const mit=rt({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:Xr},placement:QH.placement,contentStyle:{type:me([Object])},mask:{type:me([Boolean,Object]),default:!0},gap:{type:me(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:me([Boolean,Object]),default:()=>({block:"center"})},type:{type:me(String)},appendTo:{type:wI.to.type,default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),yit={[_n]:t=>ei(t),"update:current":t=>Zt(t),close:t=>Zt(t),finish:()=>!0,change:t=>Zt(t)},bit=ue({name:"ElTour"}),_it=ue({...bit,props:mit,emits:yit,setup(t,{emit:e}){const n=t,r=Ye("tour"),i=F(0),o=F(),a=kde(n,"current",e,{passive:!0}),s=z(()=>{var T;return(T=o.value)==null?void 0:T.target}),l=z(()=>[r.b(),g.value==="primary"?r.m("primary"):""]),u=z(()=>{var T;return((T=o.value)==null?void 0:T.placement)||n.placement}),c=z(()=>{var T,A;return(A=(T=o.value)==null?void 0:T.contentStyle)!=null?A:n.contentStyle}),f=z(()=>{var T,A;return(A=(T=o.value)==null?void 0:T.mask)!=null?A:n.mask}),d=z(()=>!!f.value&&n.modelValue),h=z(()=>ei(f.value)?void 0:f.value),p=z(()=>{var T,A;return!!s.value&&((A=(T=o.value)==null?void 0:T.showArrow)!=null?A:n.showArrow)}),v=z(()=>{var T,A;return(A=(T=o.value)==null?void 0:T.scrollIntoViewOptions)!=null?A:n.scrollIntoViewOptions}),g=z(()=>{var T,A;return(A=(T=o.value)==null?void 0:T.type)!=null?A:n.type}),{nextZIndex:m}=a_(),y=m(),b=z(()=>{var T;return(T=n.zIndex)!=null?T:y}),{mergedPosInfo:w,triggerTarget:S}=rit(s,Hr(n,"modelValue"),Hr(n,"gap"),f,v);Le(()=>n.modelValue,T=>{T||(a.value=0)});const x=()=>{n.closeOnPressEscape&&(e(_n,!1),e("close",a.value))},C=T=>{i.value=T},E=Co();return jn(DI,{currentStep:o,current:a,total:i,showClose:Hr(n,"showClose"),closeIcon:Hr(n,"closeIcon"),mergedType:g,ns:r,slots:E,updateModelValue(T){e(_n,T)},onClose(){e("close",a.value)},onFinish(){e("finish")},onChange(){e(tr,a.value)}}),(T,A)=>(N(),Q(ft,null,[O(_(l_),{to:T.appendTo},{default:$(()=>{var k,M;return[K("div",Fn({class:_(l)},T.$attrs),[O(uit,{visible:_(d),fill:(k=_(h))==null?void 0:k.color,style:Ot((M=_(h))==null?void 0:M.style),pos:_(w),"z-index":_(b),"target-area-clickable":T.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),T.modelValue?(N(),de(vit,{key:_(a),reference:_(S),placement:_(u),"show-arrow":_(p),"z-index":_(b),style:Ot(_(c)),onClose:x},{default:$(()=>[O(_(git),{current:_(a),onUpdateTotal:C},{default:$(()=>[Ee(T.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):ge("v-if",!0)],16)]}),_:3},8,["to"]),ge(" just for IDE "),ge("v-if",!0)],64))}});var wit=lt(_it,[["__file","tour.vue"]]);const Sit=rt({target:{type:me([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:Xr},showArrow:{type:Boolean,default:void 0},placement:QH.placement,mask:{type:me([Boolean,Object]),default:void 0},contentStyle:{type:me([Object])},prevButtonProps:{type:me(Object)},nextButtonProps:{type:me(Object)},scrollIntoViewOptions:{type:me([Boolean,Object]),default:void 0},type:{type:me(String)}}),xit={close:()=>!0},Cit=ue({name:"ElTourStep"}),Eit=ue({...Cit,props:Sit,emits:xit,setup(t,{emit:e}){const n=t,{Close:r}=the,{t:i}=Cr(),{currentStep:o,current:a,total:s,showClose:l,closeIcon:u,mergedType:c,ns:f,slots:d,updateModelValue:h,onClose:p,onFinish:v,onChange:g}=bt(DI);Le(n,T=>{o.value=T},{immediate:!0});const m=z(()=>{var T;return(T=n.showClose)!=null?T:l.value}),y=z(()=>{var T,A;return(A=(T=n.closeIcon)!=null?T:u.value)!=null?A:r}),b=T=>{if(T)return vde(T,["children","onClick"])},w=()=>{var T,A;a.value-=1,(T=n.prevButtonProps)!=null&&T.onClick&&((A=n.prevButtonProps)==null||A.onClick()),g()},S=()=>{var T;a.value>=s.value-1?x():a.value+=1,(T=n.nextButtonProps)!=null&&T.onClick&&n.nextButtonProps.onClick(),g()},x=()=>{C(),v()},C=()=>{h(!1),p(),e("close")},E=T=>{const A=T.target;if(A?.isContentEditable)return;const M={[Ct.left]:()=>a.value>0&&w(),[Ct.right]:S}[T.code];M&&(T.preventDefault(),M())};return Jt(()=>{window.addEventListener("keydown",E)}),ur(()=>{window.removeEventListener("keydown",E)}),(T,A)=>(N(),Q(ft,null,[_(m)?(N(),Q("button",{key:0,"aria-label":_(i)("el.tour.close"),class:q(_(f).e("closebtn")),type:"button",onClick:C},[O(_(zt),{class:q(_(f).e("close"))},{default:$(()=>[(N(),de(Vn(_(y))))]),_:1},8,["class"])],10,["aria-label"])):ge("v-if",!0),K("header",{class:q([_(f).e("header"),{"show-close":_(l)}])},[Ee(T.$slots,"header",{},()=>[K("span",{role:"heading",class:q(_(f).e("title"))},Ne(T.title),3)])],2),K("div",{class:q(_(f).e("body"))},[Ee(T.$slots,"default",{},()=>[K("span",null,Ne(T.description),1)])],2),K("footer",{class:q(_(f).e("footer"))},[K("div",{class:q(_(f).b("indicators"))},[_(d).indicators?(N(),de(Vn(_(d).indicators),{key:0,current:_(a),total:_(s)},null,8,["current","total"])):(N(!0),Q(ft,{key:1},gn(_(s),(k,M)=>(N(),Q("span",{key:k,class:q([_(f).b("indicator"),M===_(a)?"is-active":""])},null,2))),128))],2),K("div",{class:q(_(f).b("buttons"))},[_(a)>0?(N(),de(_(Ea),Fn({key:0,size:"small",type:_(c)},b(T.prevButtonProps),{onClick:w}),{default:$(()=>{var k,M;return[Be(Ne((M=(k=T.prevButtonProps)==null?void 0:k.children)!=null?M:_(i)("el.tour.previous")),1)]}),_:1},16,["type"])):ge("v-if",!0),_(a)<=_(s)-1?(N(),de(_(Ea),Fn({key:1,size:"small",type:_(c)==="primary"?"default":"primary"},b(T.nextButtonProps),{onClick:S}),{default:$(()=>{var k,M;return[Be(Ne((M=(k=T.nextButtonProps)==null?void 0:k.children)!=null?M:_(a)===_(s)-1?_(i)("el.tour.finish"):_(i)("el.tour.next")),1)]}),_:1},16,["type"])):ge("v-if",!0)],2)],2)],64))}});var Gge=lt(Eit,[["__file","step.vue"]]);const Tit=kn(wit,{TourStep:Gge}),Ait=Wi(Gge),kit=rt({container:{type:me([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:me(String),default:"default"},direction:{type:me(String),default:"vertical"},selectScrollTop:Boolean}),Mit={change:t=>Ht(t),click:(t,e)=>t instanceof MouseEvent&&(Ht(e)||gr(e))},Uge=Symbol("anchor"),dT=t=>{if(!Ar||t==="")return null;if(Ht(t))try{return document.querySelector(t)}catch{return null}return t};function Pit(t){let e=0;const n=(...r)=>{e&&Nm(e),e=ev(()=>{t(...r),e=0})};return n.cancel=()=>{Nm(e),e=0},n}const Oit=ue({name:"ElAnchor"}),Iit=ue({...Oit,props:kit,emits:Mit,setup(t,{expose:e,emit:n}){const r=t,i=Co(),o=F(""),a=F({}),s=F(null),l=F(null),u=F(),c={};let f=!1,d=0;const h=Ye("anchor"),p=z(()=>[h.b(),r.type==="underline"?h.m("underline"):"",h.m(r.direction)]),v=A=>{c[A.href]=A.el},g=A=>{delete c[A]},m=A=>{o.value!==A&&(o.value=A,n(tr,A))};let y=null;const b=A=>{if(!u.value)return;const k=dT(A);if(!k)return;y&&y(),f=!0;const M=LK(k,u.value),D=bF(k,M),L=M.scrollHeight-M.clientHeight,I=Math.min(D-r.offset,L);y=_Fe(u.value,d,I,r.duration,()=>{setTimeout(()=>{f=!1},20)})},w=A=>{A&&(m(A),b(A))},S=(A,k)=>{n("click",A,k),w(k)},x=Pit(()=>{u.value&&(d=DK(u.value));const A=C();f||gr(A)||m(A)}),C=()=>{if(!u.value)return;const A=DK(u.value),k=[];for(const M of Object.keys(c)){const D=dT(M);if(!D)continue;const L=LK(D,u.value),I=bF(D,L);k.push({top:I-r.offset-r.bound,href:M})}k.sort((M,D)=>M.top-D.top);for(let M=0;M<k.length;M++){const D=k[M],L=k[M+1];if(M===0&&A===0)return r.selectScrollTop?D.href:"";if(D.top<=A&&(!L||L.top>A))return D.href}},E=()=>{const A=dT(r.container);!A||u2(A)?u.value=window:u.value=A};Lr(u,"scroll",x);const T=()=>{Pt(()=>{if(!s.value||!l.value||!o.value){a.value={};return}const A=c[o.value];if(!A){a.value={};return}const k=s.value.getBoundingClientRect(),M=l.value.getBoundingClientRect(),D=A.getBoundingClientRect();if(r.direction==="horizontal"){const L=D.left-k.left;a.value={left:`${L}px`,width:`${D.width}px`,opacity:1}}else{const L=D.top-k.top+(D.height-M.height)/2;a.value={top:`${L}px`,opacity:1}}})};return Le(o,T),Le(()=>{var A;return(A=i.default)==null?void 0:A.call(i)},T),Jt(()=>{E();const A=decodeURIComponent(window.location.hash);dT(A)?w(A):x()}),Le(()=>r.container,()=>{E()}),jn(Uge,{ns:h,direction:r.direction,currentAnchor:o,addLink:v,removeLink:g,handleClick:S}),e({scrollTo:w}),(A,k)=>(N(),Q("div",{ref_key:"anchorRef",ref:s,class:q(_(p))},[A.marker?(N(),Q("div",{key:0,ref_key:"markerRef",ref:l,class:q(_(h).e("marker")),style:Ot(a.value)},null,6)):ge("v-if",!0),K("div",{class:q(_(h).e("list"))},[Ee(A.$slots,"default")],2)],2))}});var Rit=lt(Iit,[["__file","anchor.vue"]]);const Lit=rt({title:String,href:String}),Dit=ue({name:"ElAnchorLink"}),Nit=ue({...Dit,props:Lit,setup(t){const e=t,n=F(null),{ns:r,direction:i,currentAnchor:o,addLink:a,removeLink:s,handleClick:l}=bt(Uge),u=z(()=>[r.e("link"),r.is("active",o.value===e.href)]),c=f=>{l(f,e.href)};return Le(()=>e.href,(f,d)=>{Pt(()=>{d&&s(d),f&&a({href:f,el:n.value})})}),Jt(()=>{const{href:f}=e;f&&a({href:f,el:n.value})}),ur(()=>{const{href:f}=e;f&&s(f)}),(f,d)=>(N(),Q("div",{class:q(_(r).e("item"))},[K("a",{ref_key:"linkRef",ref:n,class:q(_(u)),href:f.href,onClick:c},[Ee(f.$slots,"default",{},()=>[Be(Ne(f.title),1)])],10,["href"]),f.$slots["sub-link"]&&_(i)==="vertical"?(N(),Q("div",{key:0,class:q(_(r).e("list"))},[Ee(f.$slots,"sub-link")],2)):ge("v-if",!0)],2))}});var Wge=lt(Nit,[["__file","anchor-link.vue"]]);const Bit=kn(Rit,{AnchorLink:Wge}),$it=Wi(Wge),qge={label:"label",value:"value",disabled:"disabled"},Fit=rt({direction:{type:me(String),default:"horizontal"},options:{type:me(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},props:{type:me(Object),default:()=>qge},block:Boolean,size:Ho,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...fs(["ariaLabel"])}),Vit={[_n]:t=>Ht(t)||Zt(t)||ei(t),[tr]:t=>Ht(t)||Zt(t)||ei(t)},zit=ue({name:"ElSegmented"}),Hit=ue({...zit,props:Fit,emits:Vit,setup(t,{emit:e}){const n=t,r=Ye("segmented"),i=Ha(),o=Po(),a=pa(),{formItem:s}=Ua(),{inputId:l,isLabeledByFormItem:u}=tu(n,{formItemContext:s}),c=F(null),f=x$e(),d=Bn({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),h=k=>{const M=g(k);e(_n,M),e(tr,M)},p=z(()=>({...qge,...n.props})),v=k=>k,g=k=>Nn(k)?k[p.value.value]:k,m=k=>Nn(k)?k[p.value.label]:k,y=k=>!!(a.value||Nn(k)&&k[p.value.disabled]),b=k=>n.modelValue===g(k),w=k=>n.options.find(M=>g(M)===k),S=k=>[r.e("item"),r.is("selected",b(k)),r.is("disabled",y(k))],x=()=>{if(!c.value)return;const k=c.value.querySelector(".is-selected"),M=c.value.querySelector(".is-selected input");if(!k||!M){d.width=0,d.height=0,d.translateX=0,d.translateY=0,d.focusVisible=!1;return}d.isInit=!0,n.direction==="vertical"?(d.height=k.offsetHeight,d.translateY=k.offsetTop):(d.width=k.offsetWidth,d.translateX=k.offsetLeft);try{d.focusVisible=M.matches(":focus-visible")}catch{}},C=z(()=>[r.b(),r.m(o.value),r.is("block",n.block)]),E=z(()=>({width:n.direction==="vertical"?"100%":`${d.width}px`,height:n.direction==="vertical"?`${d.height}px`:"100%",transform:n.direction==="vertical"?`translateY(${d.translateY}px)`:`translateX(${d.translateX}px)`,display:d.isInit?"block":"none"})),T=z(()=>[r.e("item-selected"),r.is("disabled",y(w(n.modelValue))),r.is("focus-visible",d.focusVisible)]),A=z(()=>n.name||i.value);return Di(c,x),Le(f,x),Le(()=>n.modelValue,()=>{var k;x(),n.validateEvent&&((k=s?.validate)==null||k.call(s,"change").catch(M=>void 0))},{flush:"post"}),(k,M)=>k.options.length?(N(),Q("div",{key:0,id:_(l),ref_key:"segmentedRef",ref:c,class:q(_(C)),role:"radiogroup","aria-label":_(u)?void 0:k.ariaLabel||"segmented","aria-labelledby":_(u)?_(s).labelId:void 0},[K("div",{class:q([_(r).e("group"),_(r).m(n.direction)])},[K("div",{style:Ot(_(E)),class:q(_(T))},null,6),(N(!0),Q(ft,null,gn(k.options,(D,L)=>(N(),Q("label",{key:L,class:q(S(D))},[K("input",{class:q(_(r).e("item-input")),type:"radio",name:_(A),disabled:y(D),checked:b(D),onChange:I=>h(D)},null,42,["name","disabled","checked","onChange"]),K("div",{class:q(_(r).e("item-label"))},[Ee(k.$slots,"default",{item:v(D)},()=>[Be(Ne(m(D)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):ge("v-if",!0)}});var jit=lt(Hit,[["__file","segmented.vue"]]);const Git=kn(jit),Uit=(t,e)=>{const n=t.toLowerCase();return(e.label||e.value).toLowerCase().includes(n)},Wit=(t,e,n)=>{const{selectionEnd:r}=t;if(r===null)return;const i=t.value,o=wa(e);let a=-1,s;for(let l=r-1;l>=0;--l){const u=i[l];if(u===n||u===`
`||u==="\r"){a=l;continue}if(o.includes(u)){const c=a===-1?r:a;s={pattern:i.slice(l+1,c),start:l+1,end:c,prefix:u,prefixIndex:l,splitIndex:a,selectionEnd:r};break}}return s},qit=(t,e={debug:!1,useSelectionEnd:!1})=>{const n=t.selectionStart!==null?t.selectionStart:0,r=t.selectionEnd!==null?t.selectionEnd:0,i=e.useSelectionEnd?r:n,o=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(e.debug){const d=document.querySelector("#input-textarea-caret-position-mirror-div");d?.parentNode&&d.parentNode.removeChild(d)}const a=document.createElement("div");a.id="input-textarea-caret-position-mirror-div",document.body.appendChild(a);const s=a.style,l=window.getComputedStyle(t),u=t.nodeName==="INPUT";s.whiteSpace=u?"nowrap":"pre-wrap",u||(s.wordWrap="break-word"),s.position="absolute",e.debug||(s.visibility="hidden"),o.forEach(d=>{if(u&&d==="lineHeight")if(l.boxSizing==="border-box"){const h=Number.parseInt(l.height),p=Number.parseInt(l.paddingTop)+Number.parseInt(l.paddingBottom)+Number.parseInt(l.borderTopWidth)+Number.parseInt(l.borderBottomWidth),v=p+Number.parseInt(l.lineHeight);h>v?s.lineHeight=`${h-p}px`:h===v?s.lineHeight=l.lineHeight:s.lineHeight="0"}else s.lineHeight=l.height;else s[d]=l[d]}),Lz()?t.scrollHeight>Number.parseInt(l.height)&&(s.overflowY="scroll"):s.overflow="hidden",a.textContent=t.value.slice(0,Math.max(0,i)),u&&a.textContent&&(a.textContent=a.textContent.replace(/\s/g,""));const c=document.createElement("span");c.textContent=t.value.slice(Math.max(0,i))||".",c.style.position="relative",c.style.left=`${-t.scrollLeft}px`,c.style.top=`${-t.scrollTop}px`,a.appendChild(c);const f={top:c.offsetTop+Number.parseInt(l.borderTopWidth),left:c.offsetLeft+Number.parseInt(l.borderLeftWidth),height:Number.parseInt(l.fontSize)*1.5};return e.debug?c.style.backgroundColor="#aaa":document.body.removeChild(a),f.left>=t.clientWidth&&(f.left=t.clientWidth),f},Kit=rt({...d2,options:{type:me(Array),default:()=>[]},prefix:{type:me([String,Array]),default:"@",validator:t=>Ht(t)?t.length===1:t.every(e=>Ht(e)&&e.length===1)},split:{type:String,default:" ",validator:t=>t.length===1},filterOption:{type:me([Boolean,Function]),default:()=>Uit,validator:t=>t===!1?!0:qt(t)},placement:{type:me(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:me(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:me(Object),default:()=>({})}}),Yit={[_n]:t=>Ht(t),"whole-remove":(t,e)=>Ht(t)&&Ht(e),input:t=>Ht(t),search:(t,e)=>Ht(t)&&Ht(e),select:(t,e)=>Ht(t.value)&&Ht(e),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},Xit=rt({options:{type:me(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),Zit={select:t=>Ht(t.value)},Jit=ue({name:"ElMentionDropdown"}),Qit=ue({...Jit,props:Xit,emits:Zit,setup(t,{expose:e,emit:n}){const r=t,i=Ye("mention"),{t:o}=Cr(),a=F(-1),s=F(),l=F(),u=F(),c=(b,w)=>[i.be("dropdown","item"),i.is("hovering",a.value===w),i.is("disabled",b.disabled||r.disabled)],f=b=>{b.disabled||r.disabled||n("select",b)},d=b=>{a.value=b},h=z(()=>r.disabled||r.options.every(b=>b.disabled)),p=z(()=>r.options[a.value]),v=()=>{p.value&&n("select",p.value)},g=b=>{const{options:w}=r;if(w.length===0||h.value)return;b==="next"?(a.value++,a.value===w.length&&(a.value=0)):b==="prev"&&(a.value--,a.value<0&&(a.value=w.length-1));const S=w[a.value];if(S.disabled){g(b);return}Pt(()=>m(S))},m=b=>{var w,S,x,C;const{options:E}=r,T=E.findIndex(k=>k.value===b.value),A=(w=l.value)==null?void 0:w[T];if(A){const k=(x=(S=u.value)==null?void 0:S.querySelector)==null?void 0:x.call(S,`.${i.be("dropdown","wrap")}`);k&&wz(k,A)}(C=s.value)==null||C.handleScroll()};return Le(()=>r.options,()=>{h.value||r.options.length===0?a.value=-1:a.value=0},{immediate:!0}),e({hoveringIndex:a,navigateOptions:g,selectHoverOption:v,hoverOption:p}),(b,w)=>(N(),Q("div",{ref_key:"dropdownRef",ref:u,class:q(_(i).b("dropdown"))},[b.$slots.header?(N(),Q("div",{key:0,class:q(_(i).be("dropdown","header"))},[Ee(b.$slots,"header")],2)):ge("v-if",!0),An(O(_(Mc),{id:b.contentId,ref_key:"scrollbarRef",ref:s,tag:"ul","wrap-class":_(i).be("dropdown","wrap"),"view-class":_(i).be("dropdown","list"),role:"listbox","aria-label":b.ariaLabel,"aria-orientation":"vertical"},{default:$(()=>[(N(!0),Q(ft,null,gn(b.options,(S,x)=>(N(),Q("li",{id:`${b.contentId}-${x}`,ref_for:!0,ref_key:"optionRefs",ref:l,key:x,class:q(c(S,x)),role:"option","aria-disabled":S.disabled||b.disabled||void 0,"aria-selected":a.value===x,onMousemove:C=>d(x),onClick:an(C=>f(S),["stop"])},[Ee(b.$slots,"label",{item:S,index:x},()=>{var C;return[K("span",null,Ne((C=S.label)!=null?C:S.value),1)]})],42,["id","aria-disabled","aria-selected","onMousemove","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[kr,b.options.length>0&&!b.loading]]),b.loading?(N(),Q("div",{key:1,class:q(_(i).be("dropdown","loading"))},[Ee(b.$slots,"loading",{},()=>[Be(Ne(_(o)("el.mention.loading")),1)])],2)):ge("v-if",!0),b.$slots.footer?(N(),Q("div",{key:2,class:q(_(i).be("dropdown","footer"))},[Ee(b.$slots,"footer")],2)):ge("v-if",!0)],2))}});var eot=lt(Qit,[["__file","mention-dropdown.vue"]]);const tot=ue({name:"ElMention",inheritAttrs:!1}),not=ue({...tot,props:Kit,emits:Yit,setup(t,{expose:e,emit:n}){const r=t,i=z(()=>Zs(r,Object.keys(d2))),o=Ye("mention"),a=pa(),s=Ha(),l=F(),u=F(),c=F(),f=F(!1),d=F(),h=F(),p=z(()=>r.showArrow?r.placement:`${r.placement}-start`),v=z(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),g=z(()=>{const{filterOption:M,options:D}=r;return!h.value||!M?D:D.filter(L=>M(h.value.pattern,L))}),m=z(()=>f.value&&(!!g.value.length||r.loading)),y=z(()=>{var M;return`${s.value}-${(M=c.value)==null?void 0:M.hoveringIndex}`}),b=M=>{n(_n,M),n(Fo,M),T()},w=M=>{var D,L,I,R;if(!(!("code"in M)||(D=l.value)!=null&&D.isComposing))switch(M.code){case Ct.left:case Ct.right:T();break;case Ct.up:case Ct.down:if(!f.value)return;M.preventDefault(),(L=c.value)==null||L.navigateOptions(M.code===Ct.up?"prev":"next");break;case Ct.enter:case Ct.numpadEnter:if(!f.value)return;M.preventDefault(),(I=c.value)!=null&&I.hoverOption?(R=c.value)==null||R.selectHoverOption():f.value=!1;break;case Ct.esc:if(!f.value)return;M.preventDefault(),f.value=!1;break;case Ct.backspace:if(r.whole&&h.value){const{splitIndex:V,selectionEnd:P,pattern:B,prefixIndex:j,prefix:G}=h.value,W=E();if(!W)return;const Z=W.value,ee=r.options.find(ce=>ce.value===B);if((qt(r.checkIsWhole)?r.checkIsWhole(B,G):ee)&&V!==-1&&V+1===P){M.preventDefault();const ce=Z.slice(0,j)+Z.slice(V+1);n(_n,ce),n(Fo,ce),n("whole-remove",B,G);const X=j;Pt(()=>{W.selectionStart=X,W.selectionEnd=X,k()})}}}},{wrapperRef:S}=Ph(l,{disabled:a,afterFocus(){T()},beforeBlur(M){var D;return(D=u.value)==null?void 0:D.isFocusInsideContent(M)},afterBlur(){f.value=!1}}),x=()=>{T()},C=M=>{if(!h.value)return;const D=E();if(!D)return;const L=D.value,{split:I}=r,R=L.slice(h.value.end),V=R.startsWith(I),P=`${M.value}${V?"":I}`,B=L.slice(0,h.value.start)+P+R;n(_n,B),n(Fo,B),n("select",M,h.value.prefix);const j=h.value.start+P.length+(V?1:0);Pt(()=>{D.selectionStart=j,D.selectionEnd=j,D.focus(),k()})},E=()=>{var M,D;return r.type==="textarea"?(M=l.value)==null?void 0:M.textarea:(D=l.value)==null?void 0:D.input},T=()=>{setTimeout(()=>{A(),k(),Pt(()=>{var M;return(M=u.value)==null?void 0:M.updatePopper()})},0)},A=()=>{const M=E();if(!M)return;const D=qit(M),L=M.getBoundingClientRect(),I=l.value.$el.getBoundingClientRect();d.value={position:"absolute",width:0,height:`${D.height}px`,left:`${D.left+L.left-I.left}px`,top:`${D.top+L.top-I.top}px`}},k=()=>{const M=E();if(document.activeElement!==M){f.value=!1;return}const{prefix:D,split:L}=r;if(h.value=Wit(M,D,L),h.value&&h.value.splitIndex===-1){f.value=!0,n("search",h.value.pattern,h.value.prefix);return}f.value=!1};return e({input:l,tooltip:u,dropdownVisible:m}),(M,D)=>(N(),Q("div",{ref_key:"wrapperRef",ref:S,class:q(_(o).b())},[O(_(Ps),Fn(Fn(_(i),M.$attrs),{ref_key:"elInputRef",ref:l,"model-value":M.modelValue,disabled:_(a),role:_(m)?"combobox":void 0,"aria-activedescendant":_(m)?_(y)||"":void 0,"aria-controls":_(m)?_(s):void 0,"aria-expanded":_(m)||void 0,"aria-label":M.ariaLabel,"aria-autocomplete":_(m)?"none":void 0,"aria-haspopup":_(m)?"listbox":void 0,onInput:b,onKeydown:w,onMousedown:x}),Ml({_:2},[gn(M.$slots,(L,I)=>({name:I,fn:$(R=>[Ee(M.$slots,I,Sl(Wf(R)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),O(_(ja),{ref_key:"tooltipRef",ref:u,visible:_(m),"popper-class":[_(o).e("popper"),M.popperClass],"popper-options":M.popperOptions,placement:_(p),"fallback-placements":_(v),effect:"light",pure:"",offset:M.offset,"show-arrow":M.showArrow},{default:$(()=>[K("div",{style:Ot(d.value)},null,4)]),content:$(()=>{var L;return[O(eot,{ref_key:"dropdownRef",ref:c,options:_(g),disabled:_(a),loading:M.loading,"content-id":_(s),"aria-label":M.ariaLabel,onSelect:C,onClick:an((L=l.value)==null?void 0:L.focus,["stop"])},Ml({_:2},[gn(M.$slots,(I,R)=>({name:R,fn:$(V=>[Ee(M.$slots,R,Sl(Wf(V)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var rot=lt(not,[["__file","mention.vue"]]);const iot=kn(rot),oot=rt({layout:{type:String,default:"horizontal",values:["horizontal","vertical"]},lazy:Boolean}),Kge=Symbol("splitterRootContextKey");function aot(t){const e=F(),{width:n,height:r}=X$e(e),i=z(()=>t.value==="horizontal"?n.value:r.value);return{containerEl:e,containerSize:i}}function ej(t){return Number(t.slice(0,-1))/100}function tj(t){return Number(t.slice(0,-2))}function nj(t){return Ht(t)&&t.endsWith("%")}function rj(t){return Ht(t)&&t.endsWith("px")}function sot(t,e){const n=z(()=>t.value.map(s=>s.size)),r=z(()=>t.value.length),i=F([]);Le([n,r,e],()=>{var s;let l=[],u=0;for(let f=0;f<r.value;f+=1){const d=(s=t.value[f])==null?void 0:s.size;if(nj(d))l[f]=ej(d);else if(rj(d))l[f]=tj(d)/e.value;else if(d||d===0){const h=Number(d);Number.isNaN(h)||(l[f]=h/e.value)}else u+=1,l[f]=void 0}const c=l.reduce((f,d)=>f+(d||0),0);if(c>1||!u){const f=1/c;l=l.map(d=>d===void 0?0:d*f)}else{const f=(1-c)/u;l=l.map(d=>d===void 0?f:d)}i.value=l});const o=s=>s*e.value,a=z(()=>i.value.map(o));return{percentSizes:i,pxSizes:a}}function lot(t,e,n,r){const i=g=>g*e.value||0;function o(g,m){return nj(g)?i(ej(g)):rj(g)?tj(g):g??m}const a=F(0),s=F(null);let l=[],u=Yr;const c=z(()=>t.value.map(g=>[g.min,g.max]));Le(r,()=>{if(a.value){const g=new MouseEvent("mouseup",{bubbles:!0});window.dispatchEvent(g)}});const f=g=>{a.value=0,s.value={index:g,confirmed:!1},l=n.value},d=(g,m)=>{var y,b;let w=null;if((!s.value||!s.value.confirmed)&&m!==0){if(m>0)w=g,s.value={index:g,confirmed:!0};else for(let D=g;D>=0;D-=1)if(l[D]>0){w=D,s.value={index:D,confirmed:!0};break}}const S=(b=w??((y=s.value)==null?void 0:y.index))!=null?b:g,x=[...l],C=S+1,E=o(c.value[S][0],0),T=o(c.value[C][0],0),A=o(c.value[S][1],e.value||0),k=o(c.value[C][1],e.value||0);let M=m;x[S]+M<E&&(M=E-x[S]),x[C]-M<T&&(M=x[C]-T),x[S]+M>A&&(M=A-x[S]),x[C]-M>k&&(M=x[C]-k),x[S]+=M,x[C]-=M,a.value=M,u=()=>{t.value.forEach((D,L)=>{D.size=x[L]}),u=Yr},r.value||u()},h=()=>{r.value&&u(),a.value=0,s.value=null,l=[]},p=[];return{lazyOffset:a,onMoveStart:f,onMoving:d,onMoveEnd:h,movingIndex:s,onCollapse:(g,m)=>{p.length||p.push(...n.value);const y=n.value,b=m==="start"?g:g+1,w=m==="start"?g+1:g,S=y[b],x=y[w];if(S!==0&&x!==0)y[b]=0,y[w]+=S,p[g]=S;else{const C=S+x,E=p[g],T=C-E;y[w]=E,y[b]=T}t.value.forEach((C,E)=>{C.size=y[E]})}}}const uot=ue({name:"ElSplitter"}),cot=ue({...uot,props:oot,emits:["resizeStart","resize","resizeEnd","collapse"],setup(t,{emit:e}){const n=t,r=Ye("splitter"),i=Hr(n,"layout"),o=Hr(n,"lazy"),{containerEl:a,containerSize:s}=aot(i),{removeChild:l,children:u,addChild:c,ChildrenSorter:f}=SI(Un(),"ElSplitterPanel");Le(u,()=>{u.value.forEach((T,A)=>{T.setIndex(A)})});const{percentSizes:d,pxSizes:h}=sot(u,s),{lazyOffset:p,movingIndex:v,onMoveStart:g,onMoving:m,onMoveEnd:y,onCollapse:b}=lot(u,s,h,o),w=z(()=>({[`--${r.b()}-bar-offset`]:o.value?`${p.value}px`:void 0}));return jn(Kge,Bn({panels:u,percentSizes:d,pxSizes:h,layout:i,lazy:o,movingIndex:v,containerSize:s,onMoveStart:T=>{g(T),e("resizeStart",T,h.value)},onMoving:(T,A)=>{m(T,A),o.value||e("resize",T,h.value)},onMoveEnd:T=>{y(),e("resizeEnd",T,h.value)},onCollapse:(T,A)=>{b(T,A),e("collapse",T,A,h.value)},registerPanel:c,unregisterPanel:l})),(T,A)=>(N(),Q("div",{ref_key:"containerEl",ref:a,class:q([_(r).b(),_(r).e(_(i))]),style:Ot(_(w))},[Ee(T.$slots,"default"),O(_(f)),ge(" Prevent iframe touch events from breaking "),_(v)?(N(),Q("div",{key:0,class:q([_(r).e("mask"),_(r).e(`mask-${_(i)}`)])},null,2)):ge("v-if",!0)],6))}});var fot=lt(cot,[["__file","splitter.vue"]]);function dot(t){return t&&Nn(t)?t:{start:!!t,end:!!t}}function BX(t,e,n,r){return!!(t?.collapsible.end&&e>0||n?.collapsible.start&&r===0&&e>0)}const hot=ue({name:"ElSplitterBar"}),pot=ue({...hot,props:{index:{type:Number,required:!0},layout:{type:String,values:["horizontal","vertical"],default:"horizontal"},resizable:{type:Boolean,default:!0},lazy:Boolean,startCollapsible:Boolean,endCollapsible:Boolean},emits:["moveStart","moving","moveEnd","collapse"],setup(t,{emit:e}){const n=t,r=Ye("splitter-bar"),i=z(()=>n.layout==="horizontal"),o=z(()=>i.value?{width:0}:{height:0}),a=z(()=>({width:i.value?"16px":"100%",height:i.value?"100%":"16px",cursor:n.resizable?i.value?"ew-resize":"ns-resize":"auto",touchAction:"none"})),s=z(()=>{const m=r.e("dragger");return{[`${m}-horizontal`]:i.value,[`${m}-vertical`]:!i.value,[`${m}-active`]:!!l.value}}),l=F(null),u=m=>{n.resizable&&(l.value=[m.pageX,m.pageY],e("moveStart",n.index),window.addEventListener("mouseup",h),window.addEventListener("mousemove",f))},c=m=>{if(n.resizable&&m.touches.length===1){m.preventDefault();const y=m.touches[0];l.value=[y.pageX,y.pageY],e("moveStart",n.index),window.addEventListener("touchend",p),window.addEventListener("touchmove",d)}},f=m=>{const{pageX:y,pageY:b}=m,w=y-l.value[0],S=b-l.value[1],x=i.value?w:S;e("moving",n.index,x)},d=m=>{if(m.touches.length===1){m.preventDefault();const y=m.touches[0],b=y.pageX-l.value[0],w=y.pageY-l.value[1],S=i.value?b:w;e("moving",n.index,S)}},h=()=>{l.value=null,window.removeEventListener("mouseup",h),window.removeEventListener("mousemove",f),e("moveEnd",n.index)},p=()=>{l.value=null,window.removeEventListener("touchend",p),window.removeEventListener("touchmove",d),e("moveEnd",n.index)},v=z(()=>i.value?oh:pI),g=z(()=>i.value?Rs:sd);return(m,y)=>(N(),Q("div",{class:q([_(r).b()]),style:Ot(_(o))},[t.startCollapsible?(N(),Q("div",{key:0,class:q([_(r).e("collapse-icon"),_(r).e(`${t.layout}-collapse-icon-start`)]),onClick:b=>e("collapse",t.index,"start")},[Ee(m.$slots,"start-collapsible",{},()=>[(N(),de(Vn(_(v)),{style:{width:"12px",height:"12px"}}))])],10,["onClick"])):ge("v-if",!0),K("div",{class:q([_(r).e("dragger"),_(s),_(r).is("disabled",!t.resizable),_(r).is("lazy",t.resizable&&t.lazy)]),style:Ot(_(a)),onMousedown:u,onTouchstart:c},null,38),t.endCollapsible?(N(),Q("div",{key:1,class:q([_(r).e("collapse-icon"),_(r).e(`${t.layout}-collapse-icon-end`)]),onClick:b=>e("collapse",t.index,"end")},[Ee(m.$slots,"end-collapsible",{},()=>[(N(),de(Vn(_(g)),{style:{width:"12px",height:"12px"}}))])],10,["onClick"])):ge("v-if",!0)],6))}});var vot=lt(pot,[["__file","split-bar.vue"]]);const got=rt({min:{type:[String,Number]},max:{type:[String,Number]},size:{type:[String,Number]},resizable:{type:Boolean,default:!0},collapsible:Boolean}),Yge="ElSplitterPanel",mot=ue({name:Yge}),yot=ue({...mot,props:got,emits:["update:size"],setup(t,{emit:e}){const n=t,r=Ye("splitter-panel"),i=bt(Kge);i||xo(Yge,"usage: <el-splitter><el-splitter-panel /></el-splitter/>");const{panels:o,layout:a,lazy:s,containerSize:l,pxSizes:u}=zo(i),{registerPanel:c,unregisterPanel:f,onCollapse:d,onMoveEnd:h,onMoveStart:p,onMoving:v}=i,g=F(),m=Un(),y=m.uid,b=F(0),w=z(()=>o.value[b.value]),S=R=>{b.value=R},x=z(()=>{var R;return w.value&&(R=u.value[b.value])!=null?R:0}),C=z(()=>{var R;return w.value&&(R=u.value[b.value+1])!=null?R:0}),E=z(()=>w.value?o.value[b.value+1]:null),T=z(()=>{var R;return E.value?n.resizable&&((R=E.value)==null?void 0:R.resizable)&&(x.value!==0||!n.min)&&(C.value!==0||!E.value.min):!1}),A=z(()=>w.value?b.value!==o.value.length-1:!1),k=z(()=>BX(w.value,x.value,E.value,C.value)),M=z(()=>BX(E.value,C.value,w.value,x.value));function D(R){return nj(R)?ej(R)*l.value||0:rj(R)?tj(R):R??0}let L=!1;Le(()=>n.size,()=>{if(!L&&w.value){if(!l.value){w.value.size=n.size;return}const R=D(n.size),V=D(n.max),P=D(n.min),B=Math.min(Math.max(R,P||0),V||R);B!==R&&e("update:size",B),w.value.size=B}}),Le(()=>{var R;return(R=w.value)==null?void 0:R.size},R=>{R!==n.size&&(L=!0,e("update:size",R),Pt(()=>L=!1))}),Le(()=>n.resizable,R=>{w.value&&(w.value.resizable=R)});const I=Bn({el:g.value,uid:y,getVnode:()=>m.vnode,setIndex:S,...n,collapsible:z(()=>dot(n.collapsible))});return c(I),ur(()=>f(I)),(R,V)=>(N(),Q(ft,null,[K("div",Fn({ref_key:"panelEl",ref:g,class:[_(r).b()],style:{flexBasis:`${_(x)}px`}},R.$attrs),[Ee(R.$slots,"default")],16),_(A)?(N(),de(vot,{key:0,index:b.value,layout:_(a),lazy:_(s),resizable:_(T),"start-collapsible":_(k),"end-collapsible":_(M),onMoveStart:_(p),onMoving:_(v),onMoveEnd:_(h),onCollapse:_(d)},{"start-collapsible":$(()=>[Ee(R.$slots,"start-collapsible")]),"end-collapsible":$(()=>[Ee(R.$slots,"end-collapsible")]),_:3},8,["index","layout","lazy","resizable","start-collapsible","end-collapsible","onMoveStart","onMoving","onMoveEnd","onCollapse"])):ge("v-if",!0)],64))}});var Xge=lt(yot,[["__file","split-panel.vue"]]);const bot=kn(fot,{SplitPanel:Xge}),_ot=Wi(Xge);var wot=[TFe,B5e,Aze,Aet,Rze,Vze,Ihe,Jze,Qze,Ea,$he,KHe,QHe,gje,mje,yGe,upe,CGe,Ku,Pje,Jhe,MGe,WGe,qGe,CI,mpe,b9e,S9e,L9e,D9e,N9e,B9e,$9e,v7e,Ope,E7e,T7e,$7e,Vpe,Y7e,$We,FWe,VWe,Xpe,Fqe,Vqe,zt,Zqe,Qpe,Ps,eve,dKe,yKe,BKe,$Ke,FKe,VKe,WKe,BYe,jYe,JYe,khe,uve,spe,Hje,zje,lXe,hXe,_Xe,Mc,Bm,HM,mYe,JXe,sZe,lZe,AZe,IZe,wve,jZe,JZe,QZe,oJe,vQe,gQe,Tet,Het,jet,Up,$H,oUe,Qet,ott,att,ja,Tnt,Fnt,eP,irt,wrt,Grt,tit,Tit,Ait,Bit,$it,Git,iot,bot,_ot];const wu="ElInfiniteScroll",Sot=50,xot=200,Cot=0,Eot={delay:{type:Number,default:xot},distance:{type:Number,default:Cot},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},ij=(t,e)=>Object.entries(Eot).reduce((n,[r,i])=>{var o,a;const{type:s,default:l}=i,u=t.getAttribute(`infinite-scroll-${r}`);let c=(a=(o=e[u])!=null?o:u)!=null?a:l;return c=c==="false"?!1:c,c=s(c),n[r]=Number.isNaN(c)?l:c,n},{}),Zge=t=>{const{observer:e}=t[wu];e&&(e.disconnect(),delete t[wu].observer)},Tot=(t,e)=>{const{container:n,containerEl:r,instance:i,observer:o,lastScrollTop:a}=t[wu],{disabled:s,distance:l}=ij(t,i),{clientHeight:u,scrollHeight:c,scrollTop:f}=r,d=f-a;if(t[wu].lastScrollTop=f,o||s||d<0)return;let h=!1;if(n===t)h=c-(u+f)<=l;else{const{clientTop:p,scrollHeight:v}=t,g=bF(t,r);h=f+u>=g+p+v-l}h&&e.call(i)};function XD(t,e){const{containerEl:n,instance:r}=t[wu],{disabled:i}=ij(t,r);i||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(r):Zge(t))}const Aot={async mounted(t,e){const{instance:n,value:r}=e;qt(r)||xo(wu,"'v-infinite-scroll' binding value must be a function"),await Pt();const{delay:i,immediate:o}=ij(t,n),a=_z(t,!0),s=a===window?document.documentElement:a,l=jp(Tot.bind(null,t,r),i);if(a){if(t[wu]={instance:n,container:a,containerEl:s,delay:i,cb:r,onScroll:l,lastScrollTop:s.scrollTop},o){const u=new MutationObserver(jp(XD.bind(null,t,r),Sot));t[wu].observer=u,u.observe(t,{childList:!0,subtree:!0}),XD(t,r)}a.addEventListener("scroll",l)}},unmounted(t){if(!t[wu])return;const{container:e,onScroll:n}=t[wu];e?.removeEventListener("scroll",n),Zge(t)},async updated(t){if(!t[wu])await Pt();else{const{containerEl:e,cb:n,observer:r}=t[wu];e.clientHeight&&r&&XD(t,n)}}},aV=Aot;aV.install=t=>{t.directive("InfiniteScroll",aV)};const kot=aV;function Mot(t,e){let n;const r=F(!1),i=Bn({...t,originalPosition:"",originalOverflow:"",visible:!1});function o(h){i.text=h}function a(){const h=i.parent,p=d.ns;if(!h.vLoadingAddClassList){let v=h.getAttribute("loading-number");v=Number.parseInt(v)-1,v?h.setAttribute("loading-number",v.toString()):(Is(h,p.bm("parent","relative")),h.removeAttribute("loading-number")),Is(h,p.bm("parent","hidden"))}s(),f.unmount()}function s(){var h,p;(p=(h=d.$el)==null?void 0:h.parentNode)==null||p.removeChild(d.$el)}function l(){var h;t.beforeClose&&!t.beforeClose()||(r.value=!0,clearTimeout(n),n=setTimeout(u,400),i.visible=!1,(h=t.closed)==null||h.call(t))}function u(){if(!r.value)return;const h=i.parent;r.value=!1,h.vLoadingAddClassList=void 0,a()}const f=Qce(ue({name:"ElLoading",setup(h,{expose:p}){const{ns:v,zIndex:g}=hI("loading");return p({ns:v,zIndex:g}),()=>{const m=i.spinner||i.svg,y=Rt("svg",{class:"circular",viewBox:i.svgViewBox?i.svgViewBox:"0 0 50 50",...m?{innerHTML:m}:{}},[Rt("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),b=i.text?Rt("p",{class:v.b("text")},[i.text]):void 0;return Rt(ka,{name:v.b("fade"),onAfterLeave:u},{default:$(()=>[An(O("div",{style:{backgroundColor:i.background||""},class:[v.b("mask"),i.customClass,i.fullscreen?"is-fullscreen":""]},[Rt("div",{class:v.b("spinner")},[y,b])]),[[kr,i.visible]])])})}}}));Object.assign(f._context,e??{});const d=f.mount(document.createElement("div"));return{...zo(i),setText:o,removeElLoadingChild:s,close:l,handleAfterLeave:u,vm:d,get $el(){return d.$el}}}let hT;const _b=function(t={}){if(!Ar)return;const e=Pot(t);if(e.fullscreen&&hT)return hT;const n=Mot({...e,closed:()=>{var i;(i=e.closed)==null||i.call(e),e.fullscreen&&(hT=void 0)}},_b._context);Oot(e,e.parent,n),$X(e,e.parent,n),e.parent.vLoadingAddClassList=()=>$X(e,e.parent,n);let r=e.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",e.parent.setAttribute("loading-number",r),e.parent.appendChild(n.$el),Pt(()=>n.visible.value=e.visible),e.fullscreen&&(hT=n),n},Pot=t=>{var e,n,r,i;let o;return Ht(t.target)?o=(e=document.querySelector(t.target))!=null?e:document.body:o=t.target||document.body,{parent:o===document.body||t.body?document.body:o,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:o===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(r=t.lock)!=null?r:!1,customClass:t.customClass||"",visible:(i=t.visible)!=null?i:!0,beforeClose:t.beforeClose,closed:t.closed,target:o}},Oot=async(t,e,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,i={};if(t.fullscreen)n.originalPosition.value=Dd(document.body,"position"),n.originalOverflow.value=Dd(document.body,"overflow"),i.zIndex=r();else if(t.parent===document.body){n.originalPosition.value=Dd(document.body,"position"),await Pt();for(const o of["top","left"]){const a=o==="top"?"scrollTop":"scrollLeft";i[o]=`${t.target.getBoundingClientRect()[o]+document.body[a]+document.documentElement[a]-Number.parseInt(Dd(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])i[o]=`${t.target.getBoundingClientRect()[o]}px`}else n.originalPosition.value=Dd(e,"position");for(const[o,a]of Object.entries(i))n.$el.style[o]=a},$X=(t,e,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?Is(e,r.bm("parent","relative")):Pu(e,r.bm("parent","relative")),t.fullscreen&&t.lock?Pu(e,r.bm("parent","hidden")):Is(e,r.bm("parent","hidden"))};_b._context=null;const rS=Symbol("ElLoading"),kg=t=>`element-loading-${Ch(t)}`,FX=(t,e)=>{var n,r,i,o;const a=e.instance,s=h=>Nn(e.value)?e.value[h]:void 0,l=h=>{const p=Ht(h)&&a?.[h]||h;return F(p)},u=h=>l(s(h)||t.getAttribute(kg(h))),c=(n=s("fullscreen"))!=null?n:e.modifiers.fullscreen,f={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:c,target:(r=s("target"))!=null?r:c?void 0:t,body:(i=s("body"))!=null?i:e.modifiers.body,lock:(o=s("lock"))!=null?o:e.modifiers.lock},d=_b(f);d._context=jS._context,t[rS]={options:f,instance:d}},Iot=(t,e)=>{for(const n of Object.keys(t))ai(t[n])&&(t[n].value=e[n])},jS={mounted(t,e){e.value&&FX(t,e)},updated(t,e){const n=t[rS];if(!e.value){n?.instance.close(),t[rS]=null;return}n?Iot(n.options,Nn(e.value)?e.value:{text:t.getAttribute(kg("text")),svg:t.getAttribute(kg("svg")),svgViewBox:t.getAttribute(kg("svgViewBox")),spinner:t.getAttribute(kg("spinner")),background:t.getAttribute(kg("background")),customClass:t.getAttribute(kg("customClass"))}):FX(t,e)},unmounted(t){var e;(e=t[rS])==null||e.instance.close(),t[rS]=null}};jS._context=null;const Rot={install(t){_b._context=t._context,jS._context=t._context,t.directive("loading",jS),t.config.globalProperties.$loading=_b},directive:jS,service:_b},Jge=["primary","success","info","warning","error"],Qge=["top","top-left","top-right","bottom","bottom-left","bottom-right"],Kx="top",gs=ji({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,placement:void 0,zIndex:0,grouping:!1,repeatNum:1,appendTo:Ar?document.body:void 0}),Lot=rt({customClass:{type:String,default:gs.customClass},dangerouslyUseHTMLString:{type:Boolean,default:gs.dangerouslyUseHTMLString},duration:{type:Number,default:gs.duration},icon:{type:Xr,default:gs.icon},id:{type:String,default:gs.id},message:{type:me([String,Object,Function]),default:gs.message},onClose:{type:me(Function),default:gs.onClose},showClose:{type:Boolean,default:gs.showClose},type:{type:String,values:Jge,default:gs.type},plain:{type:Boolean,default:gs.plain},offset:{type:Number,default:gs.offset},placement:{type:String,values:Qge,default:gs.placement},zIndex:{type:Number,default:gs.zIndex},grouping:{type:Boolean,default:gs.grouping},repeatNum:{type:Number,default:gs.repeatNum}}),Dot={destroy:()=>!0},wc=WO({}),Not=t=>(wc[t]||(wc[t]=WO([])),wc[t]),Bot=(t,e)=>{const n=wc[e]||[],r=n.findIndex(a=>a.id===t),i=n[r];let o;return r>0&&(o=n[r-1]),{current:i,prev:o}},$ot=(t,e)=>{const{prev:n}=Bot(t,e);return n?n.vm.exposed.bottom.value:0},Fot=(t,e,n)=>(wc[n]||[]).findIndex(o=>o.id===t)>0?16:e,Vot=ue({name:"ElMessage"}),zot=ue({...Vot,props:Lot,emits:Dot,setup(t,{expose:e,emit:n}){const r=t,{Close:i}=Rz,o=F(!1),{ns:a,zIndex:s}=hI("message"),{currentZIndex:l,nextZIndex:u}=s,c=F(),f=F(!1),d=F(0);let h;const p=z(()=>r.type?r.type==="error"?"danger":r.type:"info"),v=z(()=>{const M=r.type;return{[a.bm("icon",M)]:M&&nv[M]}}),g=z(()=>r.icon||nv[r.type]||""),m=z(()=>r.placement||Kx),y=z(()=>$ot(r.id,m.value)),b=z(()=>Fot(r.id,r.offset,m.value)+y.value),w=z(()=>d.value+b.value),S=z(()=>m.value.includes("left")?a.is("left"):m.value.includes("right")?a.is("right"):a.is("center")),x=z(()=>m.value.startsWith("top")?"top":"bottom"),C=z(()=>({[x.value]:`${b.value}px`,zIndex:l.value}));function E(){r.duration!==0&&({stop:h}=Dm(()=>{A()},r.duration))}function T(){h?.()}function A(){f.value=!1,Pt(()=>{var M;o.value||((M=r.onClose)==null||M.call(r),n("destroy"))})}function k({code:M}){M===Ct.esc&&A()}return Jt(()=>{E(),u(),f.value=!0}),Le(()=>r.repeatNum,()=>{T(),E()}),Lr(document,"keydown",k),Di(c,()=>{d.value=c.value.getBoundingClientRect().height}),e({visible:f,bottom:w,close:A}),(M,D)=>(N(),de(ka,{name:_(a).b("fade"),onBeforeEnter:L=>o.value=!0,onBeforeLeave:M.onClose,onAfterLeave:L=>M.$emit("destroy"),persisted:""},{default:$(()=>[An(K("div",{id:M.id,ref_key:"messageRef",ref:c,class:q([_(a).b(),{[_(a).m(M.type)]:M.type},_(a).is("closable",M.showClose),_(a).is("plain",M.plain),_(a).is("bottom",_(x)==="bottom"),_(S),M.customClass]),style:Ot(_(C)),role:"alert",onMouseenter:T,onMouseleave:E},[M.repeatNum>1?(N(),de(_(Ihe),{key:0,value:M.repeatNum,type:_(p),class:q(_(a).e("badge"))},null,8,["value","type","class"])):ge("v-if",!0),_(g)?(N(),de(_(zt),{key:1,class:q([_(a).e("icon"),_(v)])},{default:$(()=>[(N(),de(Vn(_(g))))]),_:1},8,["class"])):ge("v-if",!0),Ee(M.$slots,"default",{},()=>[M.dangerouslyUseHTMLString?(N(),Q(ft,{key:1},[ge(" Caution here, message could've been compromised, never use user's input as message "),K("p",{class:q(_(a).e("content")),innerHTML:M.message},null,10,["innerHTML"])],2112)):(N(),Q("p",{key:0,class:q(_(a).e("content"))},Ne(M.message),3))]),M.showClose?(N(),de(_(zt),{key:2,class:q(_(a).e("closeBtn")),onClick:an(A,["stop"])},{default:$(()=>[O(_(i))]),_:1},8,["class","onClick"])):ge("v-if",!0)],46,["id"]),[[kr,f.value]])]),_:3},8,["name","onBeforeEnter","onBeforeLeave","onAfterLeave"]))}});var Hot=lt(zot,[["__file","message.vue"]]);let jot=1;const Got=t=>{if(!t.appendTo)t.appendTo=document.body;else if(Ht(t.appendTo)){let n=document.querySelector(t.appendTo);Xl(n)||(n=document.body),t.appendTo=n}},Uot=t=>{!t.placement&&Ht(ws.placement)&&ws.placement&&(t.placement=ws.placement),t.placement||(t.placement=Kx),Qge.includes(t.placement)||(t.placement=Kx)},eme=t=>{const e=!t||Ht(t)||wi(t)||qt(t)?{message:t}:t,n={...gs,...e};return Got(n),Uot(n),ei(ws.grouping)&&!n.grouping&&(n.grouping=ws.grouping),Zt(ws.duration)&&n.duration===3e3&&(n.duration=ws.duration),Zt(ws.offset)&&n.offset===16&&(n.offset=ws.offset),ei(ws.showClose)&&!n.showClose&&(n.showClose=ws.showClose),ei(ws.plain)&&!n.plain&&(n.plain=ws.plain),n},Wot=t=>{const e=t.props.placement||Kx,n=wc[e],r=n.indexOf(t);if(r===-1)return;n.splice(r,1);const{handler:i}=t;i.close()},qot=({appendTo:t,...e},n)=>{const r=`message_${jot++}`,i=e.onClose,o=document.createElement("div"),a={...e,id:r,onClose:()=>{i?.(),Wot(c)},onDestroy:()=>{Qp(null,o)}},s=O(Hot,a,qt(a.message)||wi(a.message)?{default:qt(a.message)?a.message:()=>a.message}:null);s.appContext=n||zm._context,Qp(s,o),t.appendChild(o.firstElementChild);const l=s.component,c={id:r,vnode:s,vm:l,handler:{close:()=>{l.exposed.close()}},props:s.component.props};return c},zm=(t={},e)=>{if(!Ar)return{close:()=>{}};const n=eme(t),r=Not(n.placement||Kx);if(n.grouping&&r.length){const o=r.find(({vnode:a})=>{var s;return((s=a.props)==null?void 0:s.message)===n.message});if(o)return o.props.repeatNum+=1,o.props.type=n.type,o.handler}if(Zt(ws.max)&&r.length>=ws.max)return{close:()=>{}};const i=qot(n,e);return r.push(i),i.handler};Jge.forEach(t=>{zm[t]=(e={},n)=>{const r=eme(e);return zm({...r,type:t},n)}});function Kot(t){for(const e in wc)if(Rr(wc,e)){const n=[...wc[e]];for(const r of n)(!t||t===r.props.type)&&r.handler.close()}}function Yot(t){if(!wc[t])return;[...wc[t]].forEach(n=>n.handler.close())}zm.closeAll=Kot;zm.closeAllByPlacement=Yot;zm._context=null;const st=Hde(zm,"$message"),sV="_trap-focus-children",Jg=[],VX=t=>{if(Jg.length===0)return;const e=Jg[Jg.length-1][sV];if(e.length>0&&t.code===Ct.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,r=t.target===e[0],i=t.target===e[e.length-1];r&&n&&(t.preventDefault(),e[e.length-1].focus()),i&&!n&&(t.preventDefault(),e[0].focus())}},Xot={beforeMount(t){t[sV]=HK(t),Jg.push(t),Jg.length<=1&&document.addEventListener("keydown",VX)},updated(t){Pt(()=>{t[sV]=HK(t)})},unmounted(){Jg.shift(),Jg.length===0&&document.removeEventListener("keydown",VX)}},Zot=ue({name:"ElMessageBox",directives:{TrapFocus:Xot},components:{ElButton:Ea,ElFocusTrap:by,ElInput:Ps,ElOverlay:uH,ElIcon:zt,...Rz},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Cve},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:Boolean,container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:n,zIndex:r,ns:i,size:o}=hI("message-box",z(()=>t.buttonSize)),{t:a}=n,{nextZIndex:s}=r,l=F(!1),u=Bn({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",closeIcon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:"",inputValidator:void 0,inputErrorMessage:"",message:"",modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:Ff(Kf),cancelButtonLoadingIcon:Ff(Kf),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:s()}),c=z(()=>{const V=u.type;return{[i.bm("icon",V)]:V&&nv[V]}}),f=Ha(),d=Ha(),h=z(()=>{const V=u.type;return u.icon||V&&nv[V]||""}),p=z(()=>!!u.message),v=F(),g=F(),m=F(),y=F(),b=F(),w=z(()=>u.confirmButtonClass);Le(()=>u.inputValue,async V=>{await Pt(),t.boxType==="prompt"&&V&&D()},{immediate:!0}),Le(()=>l.value,V=>{var P,B;V&&(t.boxType!=="prompt"&&(u.autofocus?m.value=(B=(P=b.value)==null?void 0:P.$el)!=null?B:v.value:m.value=v.value),u.zIndex=s()),t.boxType==="prompt"&&(V?Pt().then(()=>{var j;y.value&&y.value.$el&&(u.autofocus?m.value=(j=L())!=null?j:v.value:m.value=v.value)}):(u.editorErrorMessage="",u.validateError=!1))});const S=z(()=>t.draggable),x=z(()=>t.overflow),{isDragging:C}=Npe(v,g,S,x);Jt(async()=>{await Pt(),t.closeOnHashChange&&window.addEventListener("hashchange",E)}),ur(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",E)});function E(){l.value&&(l.value=!1,Pt(()=>{u.action&&e("action",u.action)}))}const T=()=>{t.closeOnClickModal&&M(u.distinguishCancelAndClose?"close":"cancel")},A=lH(T),k=V=>{if(u.inputType!=="textarea")return V.preventDefault(),M("confirm")},M=V=>{var P;t.boxType==="prompt"&&V==="confirm"&&!D()||(u.action=V,u.beforeClose?(P=u.beforeClose)==null||P.call(u,V,u,E):E())},D=()=>{if(t.boxType==="prompt"){const V=u.inputPattern;if(V&&!V.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||a("el.messagebox.error"),u.validateError=!0,!1;const P=u.inputValidator;if(qt(P)){const B=P(u.inputValue);if(B===!1)return u.editorErrorMessage=u.inputErrorMessage||a("el.messagebox.error"),u.validateError=!0,!1;if(Ht(B))return u.editorErrorMessage=B,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},L=()=>{var V,P;const B=(V=y.value)==null?void 0:V.$refs;return(P=B?.input)!=null?P:B?.textarea},I=()=>{M("close")},R=()=>{t.closeOnPressEscape&&I()};return t.lockScroll&&cH(l),{...zo(u),ns:i,overlayEvent:A,visible:l,hasMessage:p,typeClass:c,contentId:f,inputId:d,btnSize:o,iconComponent:h,confirmButtonClasses:w,rootRef:v,focusStartRef:m,headerRef:g,inputRef:y,isDragging:C,confirmRef:b,doClose:E,handleClose:I,onCloseRequested:R,handleWrapperClick:T,handleInputEnter:k,handleAction:M,t:a}}});function Jot(t,e,n,r,i,o){const a=pe("el-icon"),s=pe("el-input"),l=pe("el-button"),u=pe("el-focus-trap"),c=pe("el-overlay");return N(),de(ka,{name:"fade-in-linear",onAfterLeave:f=>t.$emit("vanish"),persisted:""},{default:$(()=>[An(O(c,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:$(()=>[K("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:q(`${t.ns.namespace.value}-overlay-message-box`),onClick:t.overlayEvent.onClick,onMousedown:t.overlayEvent.onMousedown,onMouseup:t.overlayEvent.onMouseup},[O(u,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:$(()=>[K("div",{ref:"rootRef",class:q([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),t.ns.is("dragging",t.isDragging),{[t.ns.m("center")]:t.center}]),style:Ot(t.customStyle),tabindex:"-1",onClick:an(()=>{},["stop"])},[t.title!==null&&t.title!==void 0?(N(),Q("div",{key:0,ref:"headerRef",class:q([t.ns.e("header"),{"show-close":t.showClose}])},[K("div",{class:q(t.ns.e("title"))},[t.iconComponent&&t.center?(N(),de(a,{key:0,class:q([t.ns.e("status"),t.typeClass])},{default:$(()=>[(N(),de(Vn(t.iconComponent)))]),_:1},8,["class"])):ge("v-if",!0),K("span",null,Ne(t.title),1)],2),t.showClose?(N(),Q("button",{key:0,type:"button",class:q(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),onKeydown:hi(an(f=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[O(a,{class:q(t.ns.e("close"))},{default:$(()=>[(N(),de(Vn(t.closeIcon||"close")))]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):ge("v-if",!0)],2)):ge("v-if",!0),K("div",{id:t.contentId,class:q(t.ns.e("content"))},[K("div",{class:q(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(N(),de(a,{key:0,class:q([t.ns.e("status"),t.typeClass])},{default:$(()=>[(N(),de(Vn(t.iconComponent)))]),_:1},8,["class"])):ge("v-if",!0),t.hasMessage?(N(),Q("div",{key:1,class:q(t.ns.e("message"))},[Ee(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(N(),de(Vn(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(N(),de(Vn(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0,textContent:Ne(t.message)},null,8,["for","textContent"]))])],2)):ge("v-if",!0)],2),An(K("div",{class:q(t.ns.e("input"))},[O(s,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":f=>t.inputValue=f,type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:q({invalid:t.validateError}),onKeydown:hi(t.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),K("div",{class:q(t.ns.e("errormsg")),style:Ot({visibility:t.editorErrorMessage?"visible":"hidden"})},Ne(t.editorErrorMessage),7)],2),[[kr,t.showInput]])],10,["id"]),K("div",{class:q(t.ns.e("btns"))},[t.showCancelButton?(N(),de(l,{key:0,loading:t.cancelButtonLoading,"loading-icon":t.cancelButtonLoadingIcon,class:q([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:f=>t.handleAction("cancel"),onKeydown:hi(an(f=>t.handleAction("cancel"),["prevent"]),["enter"])},{default:$(()=>[Be(Ne(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):ge("v-if",!0),An(O(l,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,"loading-icon":t.confirmButtonLoadingIcon,class:q([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:f=>t.handleAction("confirm"),onKeydown:hi(an(f=>t.handleAction("confirm"),["prevent"]),["enter"])},{default:$(()=>[Be(Ne(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[kr,t.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[kr,t.visible]])]),_:3},8,["onAfterLeave"])}var Qot=lt(Zot,[["render",Jot],["__file","index.vue"]]);const Yx=new Map,eat=t=>{let e=document.body;return t.appendTo&&(Ht(t.appendTo)&&(e=document.querySelector(t.appendTo)),Xl(t.appendTo)&&(e=t.appendTo),Xl(e)||(e=document.body)),e},tat=(t,e,n=null)=>{const r=O(Qot,t,qt(t.message)||wi(t.message)?{default:qt(t.message)?t.message:()=>t.message}:null);return r.appContext=n,Qp(r,e),eat(t).appendChild(e.firstElementChild),r.component},nat=()=>document.createElement("div"),rat=(t,e)=>{const n=nat();t.onVanish=()=>{Qp(null,n),Yx.delete(i)},t.onAction=o=>{const a=Yx.get(i);let s;t.showInput?s={value:i.inputValue,action:o}:s=o,t.callback?t.callback(s,r.proxy):o==="cancel"||o==="close"?t.distinguishCancelAndClose&&o!=="cancel"?a.reject("close"):a.reject("cancel"):a.resolve(s)};const r=tat(t,n,e),i=r.proxy;for(const o in t)Rr(t,o)&&!Rr(i.$props,o)&&(o==="closeIcon"&&Nn(t[o])?i[o]=Ff(t[o]):i[o]=t[o]);return i.visible=!0,i};function d_(t,e=null){if(!Ar)return Promise.reject();let n;return Ht(t)||wi(t)?t={message:t}:n=t.callback,new Promise((r,i)=>{const o=rat(t,e??d_._context);Yx.set(o,{options:t,callback:n,resolve:r,reject:i})})}const iat=["alert","confirm","prompt"],oat={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};iat.forEach(t=>{d_[t]=aat(t)});function aat(t){return(e,n,r,i)=>{let o="";return Nn(n)?(r=n,o=""):gr(n)?o="":o=n,d_(Object.assign({title:o,message:e,type:"",...oat[t]},r,{boxType:t}),i)}}d_.close=()=>{Yx.forEach((t,e)=>{e.doClose()}),Yx.clear()};d_._context=null;const lp=d_;lp.install=t=>{lp._context=t._context,t.config.globalProperties.$msgbox=lp,t.config.globalProperties.$messageBox=lp,t.config.globalProperties.$alert=lp.alert,t.config.globalProperties.$confirm=lp.confirm,t.config.globalProperties.$prompt=lp.prompt};const ua=lp,tme=["primary","success","info","warning","error"],sat=rt({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:Xr},id:{type:String,default:""},message:{type:me([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:me(Function),default:()=>{}},onClose:{type:me(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...tme,""],default:""},zIndex:Number,closeIcon:{type:Xr,default:Hu}}),lat={destroy:()=>!0},uat=ue({name:"ElNotification"}),cat=ue({...uat,props:sat,emits:lat,setup(t,{expose:e}){const n=t,{ns:r,zIndex:i}=hI("notification"),{nextZIndex:o,currentZIndex:a}=i,s=F(!1);let l;const u=z(()=>{const y=n.type;return y&&nv[n.type]?r.m(y):""}),c=z(()=>n.type&&nv[n.type]||n.icon),f=z(()=>n.position.endsWith("right")?"right":"left"),d=z(()=>n.position.startsWith("top")?"top":"bottom"),h=z(()=>{var y;return{[d.value]:`${n.offset}px`,zIndex:(y=n.zIndex)!=null?y:a.value}});function p(){n.duration>0&&({stop:l}=Dm(()=>{s.value&&g()},n.duration))}function v(){l?.()}function g(){s.value=!1}function m({code:y}){y===Ct.delete||y===Ct.backspace?v():y===Ct.esc?s.value&&g():p()}return Jt(()=>{p(),o(),s.value=!0}),Lr(document,"keydown",m),e({visible:s,close:g}),(y,b)=>(N(),de(ka,{name:_(r).b("fade"),onBeforeLeave:y.onClose,onAfterLeave:w=>y.$emit("destroy"),persisted:""},{default:$(()=>[An(K("div",{id:y.id,class:q([_(r).b(),y.customClass,_(f)]),style:Ot(_(h)),role:"alert",onMouseenter:v,onMouseleave:p,onClick:y.onClick},[_(c)?(N(),de(_(zt),{key:0,class:q([_(r).e("icon"),_(u)])},{default:$(()=>[(N(),de(Vn(_(c))))]),_:1},8,["class"])):ge("v-if",!0),K("div",{class:q(_(r).e("group"))},[K("h2",{class:q(_(r).e("title")),textContent:Ne(y.title)},null,10,["textContent"]),An(K("div",{class:q(_(r).e("content")),style:Ot(y.title?void 0:{margin:0})},[Ee(y.$slots,"default",{},()=>[y.dangerouslyUseHTMLString?(N(),Q(ft,{key:1},[ge(" Caution here, message could've been compromised, never use user's input as message "),K("p",{innerHTML:y.message},null,8,["innerHTML"])],2112)):(N(),Q("p",{key:0},Ne(y.message),1))])],6),[[kr,y.message]]),y.showClose?(N(),de(_(zt),{key:0,class:q(_(r).e("closeBtn")),onClick:an(g,["stop"])},{default:$(()=>[(N(),de(Vn(y.closeIcon)))]),_:1},8,["class","onClick"])):ge("v-if",!0)],2)],46,["id","onClick"]),[[kr,s.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var fat=lt(cat,[["__file","notification.vue"]]);const n1={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},nP=16;let dat=1;const Hm=function(t={},e){if(!Ar)return{close:()=>{}};(Ht(t)||wi(t))&&(t={message:t});const n=t.position||"top-right";let r=t.offset||0;n1[n].forEach(({vm:c})=>{var f;r+=(((f=c.el)==null?void 0:f.offsetHeight)||0)+nP}),r+=nP;const i=`notification_${dat++}`,o=t.onClose,a={...t,offset:r,id:i,onClose:()=>{hat(i,n,o)}};let s=document.body;Xl(t.appendTo)?s=t.appendTo:Ht(t.appendTo)&&(s=document.querySelector(t.appendTo)),Xl(s)||(s=document.body);const l=document.createElement("div"),u=O(fat,a,qt(a.message)?a.message:wi(a.message)?()=>a.message:null);return u.appContext=gr(e)?Hm._context:e,u.props.onDestroy=()=>{Qp(null,l)},Qp(u,l),n1[n].push({vm:u}),s.appendChild(l.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};tme.forEach(t=>{Hm[t]=(e={},n)=>((Ht(e)||wi(e))&&(e={message:e}),Hm({...e,type:t},n))});function hat(t,e,n){const r=n1[e],i=r.findIndex(({vm:u})=>{var c;return((c=u.component)==null?void 0:c.props.id)===t});if(i===-1)return;const{vm:o}=r[i];if(!o)return;n?.(o);const a=o.el.offsetHeight,s=e.split("-")[0];r.splice(i,1);const l=r.length;if(!(l<1))for(let u=i;u<l;u++){const{el:c,component:f}=r[u].vm,d=Number.parseInt(c.style[s],10)-a-nP;f.props.offset=d}}function pat(){for(const t of Object.values(n1))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}function vat(t="top-right"){var e,n,r,i;let o=((r=(n=(e=n1[t][0])==null?void 0:e.vm.component)==null?void 0:n.props)==null?void 0:r.offset)||0;for(const{vm:a}of n1[t])a.component.props.offset=o,o+=(((i=a.el)==null?void 0:i.offsetHeight)||0)+nP}Hm.closeAll=pat;Hm.updateOffsets=vat;Hm._context=null;const oj=Hde(Hm,"$notify");var gat=[kot,Rot,st,ua,oj,lve],mat=vFe([...wot,...gat]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const N0=typeof document<"u";function nme(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function yat(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&nme(t.default)}const Li=Object.assign;function ZD(t,e){const n={};for(const r in e){const i=e[r];n[r]=Rc(i)?i.map(t):t(i)}return n}const GS=()=>{},Rc=Array.isArray,rme=/#/g,bat=/&/g,_at=/\//g,wat=/=/g,Sat=/\?/g,ime=/\+/g,xat=/%5B/g,Cat=/%5D/g,ome=/%5E/g,Eat=/%60/g,ame=/%7B/g,Tat=/%7C/g,sme=/%7D/g,Aat=/%20/g;function aj(t){return encodeURI(""+t).replace(Tat,"|").replace(xat,"[").replace(Cat,"]")}function kat(t){return aj(t).replace(ame,"{").replace(sme,"}").replace(ome,"^")}function lV(t){return aj(t).replace(ime,"%2B").replace(Aat,"+").replace(rme,"%23").replace(bat,"%26").replace(Eat,"`").replace(ame,"{").replace(sme,"}").replace(ome,"^")}function Mat(t){return lV(t).replace(wat,"%3D")}function Pat(t){return aj(t).replace(rme,"%23").replace(Sat,"%3F")}function Oat(t){return t==null?"":Pat(t).replace(_at,"%2F")}function Xx(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Iat=/\/$/,Rat=t=>t.replace(Iat,"");function JD(t,e,n="/"){let r,i={},o="",a="";const s=e.indexOf("#");let l=e.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,s>-1?s:e.length),i=t(o)),s>-1&&(r=r||e.slice(0,s),a=e.slice(s,e.length)),r=Bat(r??e,n),{fullPath:r+(o&&"?")+o+a,path:r,query:i,hash:Xx(a)}}function Lat(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function zX(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Dat(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&r1(e.matched[r],n.matched[i])&&lme(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function r1(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function lme(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Nat(t[n],e[n]))return!1;return!0}function Nat(t,e){return Rc(t)?HX(t,e):Rc(e)?HX(e,t):t===e}function HX(t,e){return Rc(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Bat(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,a,s;for(a=0;a<r.length;a++)if(s=r[a],s!==".")if(s==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(a).join("/")}const Kh={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Zx;(function(t){t.pop="pop",t.push="push"})(Zx||(Zx={}));var US;(function(t){t.back="back",t.forward="forward",t.unknown=""})(US||(US={}));function $at(t){if(!t)if(N0){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Rat(t)}const Fat=/^[^#]+#/;function Vat(t,e){return t.replace(Fat,"#")+e}function zat(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const NI=()=>({left:window.scrollX,top:window.scrollY});function Hat(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=zat(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function jX(t,e){return(history.state?history.state.position-e:-1)+t}const uV=new Map;function jat(t,e){uV.set(t,e)}function Gat(t){const e=uV.get(t);return uV.delete(t),e}let Uat=()=>location.protocol+"//"+location.host;function ume(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let s=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(s);return l[0]!=="/"&&(l="/"+l),zX(l,"")}return zX(n,t)+r+i}function Wat(t,e,n,r){let i=[],o=[],a=null;const s=({state:d})=>{const h=ume(t,location),p=n.value,v=e.value;let g=0;if(d){if(n.value=h,e.value=d,a&&a===p){a=null;return}g=v?d.position-v.position:0}else r(h);i.forEach(m=>{m(n.value,p,{delta:g,type:Zx.pop,direction:g?g>0?US.forward:US.back:US.unknown})})};function l(){a=n.value}function u(d){i.push(d);const h=()=>{const p=i.indexOf(d);p>-1&&i.splice(p,1)};return o.push(h),h}function c(){const{history:d}=window;d.state&&d.replaceState(Li({},d.state,{scroll:NI()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function GX(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?NI():null}}function qat(t){const{history:e,location:n}=window,r={value:ume(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,u,c){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:Uat()+t+l;try{e[c?"replaceState":"pushState"](u,"",d),i.value=u}catch(h){console.error(h),n[c?"replace":"assign"](d)}}function a(l,u){const c=Li({},e.state,GX(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});o(l,c,!0),r.value=l}function s(l,u){const c=Li({},i.value,e.state,{forward:l,scroll:NI()});o(c.current,c,!0);const f=Li({},GX(r.value,l,null),{position:c.position+1},u);o(l,f,!1),r.value=l}return{location:r,state:i,push:s,replace:a}}function Kat(t){t=$at(t);const e=qat(t),n=Wat(t,e.state,e.location,e.replace);function r(o,a=!0){a||n.pauseListeners(),history.go(o)}const i=Li({location:"",base:t,go:r,createHref:Vat.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function Yat(t){return typeof t=="string"||t&&typeof t=="object"}function cme(t){return typeof t=="string"||typeof t=="symbol"}const fme=Symbol("");var UX;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(UX||(UX={}));function i1(t,e){return Li(new Error,{type:t,[fme]:!0},e)}function _d(t,e){return t instanceof Error&&fme in t&&(e==null||!!(t.type&e))}const WX="[^/]+?",Xat={sensitive:!1,strict:!1,start:!0,end:!0},Zat=/[.+*?^${}()[\]/\\]/g;function Jat(t,e){const n=Li({},Xat,e),r=[];let i=n.start?"^":"";const o=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const d=u[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(Zat,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:v,optional:g,regexp:m}=d;o.push({name:p,repeatable:v,optional:g});const y=m||WX;if(y!==WX){h+=10;try{new RegExp(`(${y})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+w.message)}}let b=v?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;f||(b=g&&u.length<2?`(?:/${b})`:"/"+b),g&&(b+="?"),i+=b,h+=20,g&&(h+=-8),v&&(h+=-20),y===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function s(u){const c=u.match(a),f={};if(!c)return null;for(let d=1;d<c.length;d++){const h=c[d]||"",p=o[d-1];f[p.name]=h&&p.repeatable?h.split("/"):h}return f}function l(u){let c="",f=!1;for(const d of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const h of d)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:v,optional:g}=h,m=p in u?u[p]:"";if(Rc(m)&&!v)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=Rc(m)?m.join("/"):m;if(!y)if(g)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);c+=y}}return c||"/"}return{re:a,score:r,keys:o,parse:s,stringify:l}}function Qat(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function dme(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=Qat(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(qX(r))return 1;if(qX(i))return-1}return i.length-r.length}function qX(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const est={type:0,value:""},tst=/[a-zA-Z0-9_]/;function nst(t){if(!t)return[[]];if(t==="/")return[[est]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const i=[];let o;function a(){o&&i.push(o),o=[]}let s=0,l,u="",c="";function f(){u&&(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;s<t.length;){if(l=t[s++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),a()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:tst.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),a(),i}function rst(t,e,n){const r=Jat(nst(t.path),n),i=Li(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function ist(t,e){const n=[],r=new Map;e=ZX({strict:!1,end:!0,sensitive:!1},e);function i(f){return r.get(f)}function o(f,d,h){const p=!h,v=YX(f);v.aliasOf=h&&h.record;const g=ZX(e,f),m=[v];if("alias"in f){const w=typeof f.alias=="string"?[f.alias]:f.alias;for(const S of w)m.push(YX(Li({},v,{components:h?h.record.components:v.components,path:S,aliasOf:h?h.record:v})))}let y,b;for(const w of m){const{path:S}=w;if(d&&S[0]!=="/"){const x=d.record.path,C=x[x.length-1]==="/"?"":"/";w.path=d.record.path+(S&&C+S)}if(y=rst(w,d,g),h?h.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),p&&f.name&&!XX(y)&&a(f.name)),hme(y)&&l(y),v.children){const x=v.children;for(let C=0;C<x.length;C++)o(x[C],y,h&&h.children[C])}h=h||y}return b?()=>{a(b)}:GS}function a(f){if(cme(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(a),d.alias.forEach(a))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function s(){return n}function l(f){const d=sst(f,n);n.splice(d,0,f),f.record.name&&!XX(f)&&r.set(f.record.name,f)}function u(f,d){let h,p={},v,g;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw i1(1,{location:f});g=h.record.name,p=Li(KX(d.params,h.keys.filter(b=>!b.optional).concat(h.parent?h.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),f.params&&KX(f.params,h.keys.map(b=>b.name))),v=h.stringify(p)}else if(f.path!=null)v=f.path,h=n.find(b=>b.re.test(v)),h&&(p=h.parse(v),g=h.record.name);else{if(h=d.name?r.get(d.name):n.find(b=>b.re.test(d.path)),!h)throw i1(1,{location:f,currentLocation:d});g=h.record.name,p=Li({},d.params,f.params),v=h.stringify(p)}const m=[];let y=h;for(;y;)m.unshift(y.record),y=y.parent;return{name:g,path:v,params:p,matched:m,meta:ast(m)}}t.forEach(f=>o(f));function c(){n.length=0,r.clear()}return{addRoute:o,resolve:u,removeRoute:a,clearRoutes:c,getRoutes:s,getRecordMatcher:i}}function KX(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function YX(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:ost(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function ost(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function XX(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ast(t){return t.reduce((e,n)=>Li(e,n.meta),{})}function ZX(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function sst(t,e){let n=0,r=e.length;for(;n!==r;){const o=n+r>>1;dme(t,e[o])<0?r=o:n=o+1}const i=lst(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function lst(t){let e=t;for(;e=e.parent;)if(hme(e)&&dme(t,e)===0)return e}function hme({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function ust(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(ime," "),a=o.indexOf("="),s=Xx(a<0?o:o.slice(0,a)),l=a<0?null:Xx(o.slice(a+1));if(s in e){let u=e[s];Rc(u)||(u=e[s]=[u]),u.push(l)}else e[s]=l}return e}function JX(t){let e="";for(let n in t){const r=t[n];if(n=Mat(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Rc(r)?r.map(o=>o&&lV(o)):[r&&lV(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function cst(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Rc(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const fst=Symbol(""),QX=Symbol(""),BI=Symbol(""),pme=Symbol(""),cV=Symbol("");function pw(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function hp(t,e,n,r,i,o=a=>a()){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,l)=>{const u=d=>{d===!1?l(i1(4,{from:n,to:e})):d instanceof Error?l(d):Yat(d)?l(i1(2,{from:e,to:d})):(a&&r.enterCallbacks[i]===a&&typeof d=="function"&&a.push(d),s())},c=o(()=>t.call(r&&r.instances[i],e,n,u));let f=Promise.resolve(c);t.length<3&&(f=f.then(u)),f.catch(d=>l(d))})}function QD(t,e,n,r,i=o=>o()){const o=[];for(const a of t)for(const s in a.components){let l=a.components[s];if(!(e!=="beforeRouteEnter"&&!a.instances[s]))if(nme(l)){const c=(l.__vccOpts||l)[e];c&&o.push(hp(c,n,r,a,s,i))}else{let u=l();o.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${s}" at "${a.path}"`);const f=yat(c)?c.default:c;a.mods[s]=c,a.components[s]=f;const h=(f.__vccOpts||f)[e];return h&&hp(h,n,r,a,s,i)()}))}}return o}function eZ(t){const e=bt(BI),n=bt(pme),r=z(()=>{const l=_(t.to);return e.resolve(l)}),i=z(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const d=f.findIndex(r1.bind(null,c));if(d>-1)return d;const h=tZ(l[u-2]);return u>1&&tZ(c)===h&&f[f.length-1].path!==h?f.findIndex(r1.bind(null,l[u-2])):d}),o=z(()=>i.value>-1&&gst(n.params,r.value.params)),a=z(()=>i.value>-1&&i.value===n.matched.length-1&&lme(n.params,r.value.params));function s(l={}){if(vst(l)){const u=e[_(t.replace)?"replace":"push"](_(t.to)).catch(GS);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:z(()=>r.value.href),isActive:o,isExactActive:a,navigate:s}}function dst(t){return t.length===1?t[0]:t}const hst=ue({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:eZ,setup(t,{slots:e}){const n=Bn(eZ(t)),{options:r}=bt(BI),i=z(()=>({[nZ(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[nZ(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&dst(e.default(n));return t.custom?o:Rt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),pst=hst;function vst(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function gst(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Rc(i)||i.length!==r.length||r.some((o,a)=>o!==i[a]))return!1}return!0}function tZ(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const nZ=(t,e,n)=>t??e??n,mst=ue({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=bt(cV),i=z(()=>t.route||r.value),o=bt(QX,0),a=z(()=>{let u=_(o);const{matched:c}=i.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),s=z(()=>i.value.matched[a.value]);jn(QX,z(()=>a.value+1)),jn(fst,s),jn(cV,i);const l=F();return Le(()=>[l.value,s.value,t.name],([u,c,f],[d,h,p])=>{c&&(c.instances[f]=u,h&&h!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!r1(c,h)||!d)&&(c.enterCallbacks[f]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,f=s.value,d=f&&f.components[c];if(!d)return rZ(n.default,{Component:d,route:u});const h=f.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,g=Rt(d,Li({},p,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return rZ(n.default,{Component:g,route:u})||g}}});function rZ(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const yst=mst;function bst(t){const e=ist(t.routes,t),n=t.parseQuery||ust,r=t.stringifyQuery||JX,i=t.history,o=pw(),a=pw(),s=pw(),l=bi(Kh);let u=Kh;N0&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ZD.bind(null,X=>""+X),f=ZD.bind(null,Oat),d=ZD.bind(null,Xx);function h(X,H){let U,ne;return cme(X)?(U=e.getRecordMatcher(X),ne=H):ne=X,e.addRoute(ne,U)}function p(X){const H=e.getRecordMatcher(X);H&&e.removeRoute(H)}function v(){return e.getRoutes().map(X=>X.record)}function g(X){return!!e.getRecordMatcher(X)}function m(X,H){if(H=Li({},H||l.value),typeof X=="string"){const he=JD(n,X,H.path),ye=e.resolve({path:he.path},H),_e=i.createHref(he.fullPath);return Li(he,ye,{params:d(ye.params),hash:Xx(he.hash),redirectedFrom:void 0,href:_e})}let U;if(X.path!=null)U=Li({},X,{path:JD(n,X.path,H.path).path});else{const he=Li({},X.params);for(const ye in he)he[ye]==null&&delete he[ye];U=Li({},X,{params:f(he)}),H.params=f(H.params)}const ne=e.resolve(U,H),J=X.hash||"";ne.params=c(d(ne.params));const Y=Lat(r,Li({},X,{hash:kat(J),path:ne.path})),se=i.createHref(Y);return Li({fullPath:Y,hash:J,query:r===JX?cst(X.query):X.query||{}},ne,{redirectedFrom:void 0,href:se})}function y(X){return typeof X=="string"?JD(n,X,l.value.path):Li({},X)}function b(X,H){if(u!==X)return i1(8,{from:H,to:X})}function w(X){return C(X)}function S(X){return w(Li(y(X),{replace:!0}))}function x(X){const H=X.matched[X.matched.length-1];if(H&&H.redirect){const{redirect:U}=H;let ne=typeof U=="function"?U(X):U;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=y(ne):{path:ne},ne.params={}),Li({query:X.query,hash:X.hash,params:ne.path!=null?{}:X.params},ne)}}function C(X,H){const U=u=m(X),ne=l.value,J=X.state,Y=X.force,se=X.replace===!0,he=x(U);if(he)return C(Li(y(he),{state:typeof he=="object"?Li({},J,he.state):J,force:Y,replace:se}),H||U);const ye=U;ye.redirectedFrom=H;let _e;return!Y&&Dat(r,ne,U)&&(_e=i1(16,{to:ye,from:ne}),G(ne,ne,!0,!1)),(_e?Promise.resolve(_e):A(ye,ne)).catch(fe=>_d(fe)?_d(fe,2)?fe:j(fe):P(fe,ye,ne)).then(fe=>{if(fe){if(_d(fe,2))return C(Li({replace:se},y(fe.to),{state:typeof fe.to=="object"?Li({},J,fe.to.state):J,force:Y}),H||ye)}else fe=M(ye,ne,!0,se,J);return k(ye,ne,fe),fe})}function E(X,H){const U=b(X,H);return U?Promise.reject(U):Promise.resolve()}function T(X){const H=ee.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(X):X()}function A(X,H){let U;const[ne,J,Y]=_st(X,H);U=QD(ne.reverse(),"beforeRouteLeave",X,H);for(const he of ne)he.leaveGuards.forEach(ye=>{U.push(hp(ye,X,H))});const se=E.bind(null,X,H);return U.push(se),ce(U).then(()=>{U=[];for(const he of o.list())U.push(hp(he,X,H));return U.push(se),ce(U)}).then(()=>{U=QD(J,"beforeRouteUpdate",X,H);for(const he of J)he.updateGuards.forEach(ye=>{U.push(hp(ye,X,H))});return U.push(se),ce(U)}).then(()=>{U=[];for(const he of Y)if(he.beforeEnter)if(Rc(he.beforeEnter))for(const ye of he.beforeEnter)U.push(hp(ye,X,H));else U.push(hp(he.beforeEnter,X,H));return U.push(se),ce(U)}).then(()=>(X.matched.forEach(he=>he.enterCallbacks={}),U=QD(Y,"beforeRouteEnter",X,H,T),U.push(se),ce(U))).then(()=>{U=[];for(const he of a.list())U.push(hp(he,X,H));return U.push(se),ce(U)}).catch(he=>_d(he,8)?he:Promise.reject(he))}function k(X,H,U){s.list().forEach(ne=>T(()=>ne(X,H,U)))}function M(X,H,U,ne,J){const Y=b(X,H);if(Y)return Y;const se=H===Kh,he=N0?history.state:{};U&&(ne||se?i.replace(X.fullPath,Li({scroll:se&&he&&he.scroll},J)):i.push(X.fullPath,J)),l.value=X,G(X,H,U,se),j()}let D;function L(){D||(D=i.listen((X,H,U)=>{if(!oe.listening)return;const ne=m(X),J=x(ne);if(J){C(Li(J,{replace:!0,force:!0}),ne).catch(GS);return}u=ne;const Y=l.value;N0&&jat(jX(Y.fullPath,U.delta),NI()),A(ne,Y).catch(se=>_d(se,12)?se:_d(se,2)?(C(Li(y(se.to),{force:!0}),ne).then(he=>{_d(he,20)&&!U.delta&&U.type===Zx.pop&&i.go(-1,!1)}).catch(GS),Promise.reject()):(U.delta&&i.go(-U.delta,!1),P(se,ne,Y))).then(se=>{se=se||M(ne,Y,!1),se&&(U.delta&&!_d(se,8)?i.go(-U.delta,!1):U.type===Zx.pop&&_d(se,20)&&i.go(-1,!1)),k(ne,Y,se)}).catch(GS)}))}let I=pw(),R=pw(),V;function P(X,H,U){j(X);const ne=R.list();return ne.length?ne.forEach(J=>J(X,H,U)):console.error(X),Promise.reject(X)}function B(){return V&&l.value!==Kh?Promise.resolve():new Promise((X,H)=>{I.add([X,H])})}function j(X){return V||(V=!X,L(),I.list().forEach(([H,U])=>X?U(X):H()),I.reset()),X}function G(X,H,U,ne){const{scrollBehavior:J}=t;if(!N0||!J)return Promise.resolve();const Y=!U&&Gat(jX(X.fullPath,0))||(ne||!U)&&history.state&&history.state.scroll||null;return Pt().then(()=>J(X,H,Y)).then(se=>se&&Hat(se)).catch(se=>P(se,X,H))}const W=X=>i.go(X);let Z;const ee=new Set,oe={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:g,getRoutes:v,resolve:m,options:t,push:w,replace:S,go:W,back:()=>W(-1),forward:()=>W(1),beforeEach:o.add,beforeResolve:a.add,afterEach:s.add,onError:R.add,isReady:B,install(X){const H=this;X.component("RouterLink",pst),X.component("RouterView",yst),X.config.globalProperties.$router=H,Object.defineProperty(X.config.globalProperties,"$route",{enumerable:!0,get:()=>_(l)}),N0&&!Z&&l.value===Kh&&(Z=!0,w(i.location).catch(J=>{}));const U={};for(const J in Kh)Object.defineProperty(U,J,{get:()=>l.value[J],enumerable:!0});X.provide(BI,H),X.provide(pme,WO(U)),X.provide(cV,l);const ne=X.unmount;ee.add(X),X.unmount=function(){ee.delete(X),ee.size<1&&(u=Kh,D&&D(),D=null,l.value=Kh,Z=!1,V=!1),ne()}}};function ce(X){return X.reduce((H,U)=>H.then(()=>T(U)),Promise.resolve())}return oe}function _st(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let a=0;a<o;a++){const s=e.matched[a];s&&(t.matched.find(u=>r1(u,s))?r.push(s):n.push(s));const l=t.matched[a];l&&(e.matched.find(u=>r1(u,l))||i.push(l))}return[n,r,i]}function wst(){return bt(BI)}function vme(t,e){return function(){return t.apply(e,arguments)}}const{toString:Sst}=Object.prototype,{getPrototypeOf:sj}=Object,{iterator:$I,toStringTag:gme}=Symbol,FI=(t=>e=>{const n=Sst.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Kc=t=>(t=t.toLowerCase(),e=>FI(e)===t),VI=t=>e=>typeof e===t,{isArray:h_}=Array,o1=VI("undefined");function E2(t){return t!==null&&!o1(t)&&t.constructor!==null&&!o1(t.constructor)&&Al(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const mme=Kc("ArrayBuffer");function xst(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&mme(t.buffer),e}const Cst=VI("string"),Al=VI("function"),yme=VI("number"),T2=t=>t!==null&&typeof t=="object",Est=t=>t===!0||t===!1,Ek=t=>{if(FI(t)!=="object")return!1;const e=sj(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(gme in t)&&!($I in t)},Tst=t=>{if(!T2(t)||E2(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Ast=Kc("Date"),kst=Kc("File"),Mst=Kc("Blob"),Pst=Kc("FileList"),Ost=t=>T2(t)&&Al(t.pipe),Ist=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Al(t.append)&&((e=FI(t))==="formdata"||e==="object"&&Al(t.toString)&&t.toString()==="[object FormData]"))},Rst=Kc("URLSearchParams"),[Lst,Dst,Nst,Bst]=["ReadableStream","Request","Response","Headers"].map(Kc),$st=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function A2(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),h_(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(E2(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let s;for(r=0;r<a;r++)s=o[r],e.call(null,t[s],s,t)}}function bme(t,e){if(E2(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Qg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_me=t=>!o1(t)&&t!==Qg;function fV(){const{caseless:t,skipUndefined:e}=_me(this)&&this||{},n={},r=(i,o)=>{const a=t&&bme(n,o)||o;Ek(n[a])&&Ek(i)?n[a]=fV(n[a],i):Ek(i)?n[a]=fV({},i):h_(i)?n[a]=i.slice():(!e||!o1(i))&&(n[a]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&A2(arguments[i],r);return n}const Fst=(t,e,n,{allOwnKeys:r}={})=>(A2(e,(i,o)=>{n&&Al(i)?t[o]=vme(i,n):t[o]=i},{allOwnKeys:r}),t),Vst=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),zst=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Hst=(t,e,n,r)=>{let i,o,a;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],(!r||r(a,t,e))&&!s[a]&&(e[a]=t[a],s[a]=!0);t=n!==!1&&sj(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},jst=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Gst=t=>{if(!t)return null;if(h_(t))return t;let e=t.length;if(!yme(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Ust=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&sj(Uint8Array)),Wst=(t,e)=>{const r=(t&&t[$I]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},qst=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Kst=Kc("HTMLFormElement"),Yst=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),iZ=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Xst=Kc("RegExp"),wme=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};A2(n,(i,o)=>{let a;(a=e(i,o,t))!==!1&&(r[o]=a||i)}),Object.defineProperties(t,r)},Zst=t=>{wme(t,(e,n)=>{if(Al(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Al(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Jst=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return h_(t)?r(t):r(String(t).split(e)),n},Qst=()=>{},elt=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function tlt(t){return!!(t&&Al(t.append)&&t[gme]==="FormData"&&t[$I])}const nlt=t=>{const e=new Array(10),n=(r,i)=>{if(T2(r)){if(e.indexOf(r)>=0)return;if(E2(r))return r;if(!("toJSON"in r)){e[i]=r;const o=h_(r)?[]:{};return A2(r,(a,s)=>{const l=n(a,i+1);!o1(l)&&(o[s]=l)}),e[i]=void 0,o}}return r};return n(t,0)},rlt=Kc("AsyncFunction"),ilt=t=>t&&(T2(t)||Al(t))&&Al(t.then)&&Al(t.catch),Sme=((t,e)=>t?setImmediate:e?((n,r)=>(Qg.addEventListener("message",({source:i,data:o})=>{i===Qg&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Qg.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Al(Qg.postMessage)),olt=typeof queueMicrotask<"u"?queueMicrotask.bind(Qg):typeof process<"u"&&process.nextTick||Sme,alt=t=>t!=null&&Al(t[$I]),_t={isArray:h_,isArrayBuffer:mme,isBuffer:E2,isFormData:Ist,isArrayBufferView:xst,isString:Cst,isNumber:yme,isBoolean:Est,isObject:T2,isPlainObject:Ek,isEmptyObject:Tst,isReadableStream:Lst,isRequest:Dst,isResponse:Nst,isHeaders:Bst,isUndefined:o1,isDate:Ast,isFile:kst,isBlob:Mst,isRegExp:Xst,isFunction:Al,isStream:Ost,isURLSearchParams:Rst,isTypedArray:Ust,isFileList:Pst,forEach:A2,merge:fV,extend:Fst,trim:$st,stripBOM:Vst,inherits:zst,toFlatObject:Hst,kindOf:FI,kindOfTest:Kc,endsWith:jst,toArray:Gst,forEachEntry:Wst,matchAll:qst,isHTMLForm:Kst,hasOwnProperty:iZ,hasOwnProp:iZ,reduceDescriptors:wme,freezeMethods:Zst,toObjectSet:Jst,toCamelCase:Yst,noop:Qst,toFiniteNumber:elt,findKey:bme,global:Qg,isContextDefined:_me,isSpecCompliantForm:tlt,toJSONObject:nlt,isAsyncFn:rlt,isThenable:ilt,setImmediate:Sme,asap:olt,isIterable:alt};function Zr(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}_t.inherits(Zr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_t.toJSONObject(this.config),code:this.code,status:this.status}}});const xme=Zr.prototype,Cme={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Cme[t]={value:t}});Object.defineProperties(Zr,Cme);Object.defineProperty(xme,"isAxiosError",{value:!0});Zr.from=(t,e,n,r,i,o)=>{const a=Object.create(xme);_t.toFlatObject(t,a,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const s=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Zr.call(a,s,l,n,r,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",o&&Object.assign(a,o),a};const slt=null;function dV(t){return _t.isPlainObject(t)||_t.isArray(t)}function Eme(t){return _t.endsWith(t,"[]")?t.slice(0,-2):t}function oZ(t,e,n){return t?t.concat(e).map(function(i,o){return i=Eme(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function llt(t){return _t.isArray(t)&&!t.some(dV)}const ult=_t.toFlatObject(_t,{},null,function(e){return/^is[A-Z]/.test(e)});function zI(t,e,n){if(!_t.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=_t.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,g){return!_t.isUndefined(g[v])});const r=n.metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&_t.isSpecCompliantForm(e);if(!_t.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(_t.isDate(p))return p.toISOString();if(_t.isBoolean(p))return p.toString();if(!l&&_t.isBlob(p))throw new Zr("Blob is not supported. Use a Buffer instead.");return _t.isArrayBuffer(p)||_t.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,v,g){let m=p;if(p&&!g&&typeof p=="object"){if(_t.endsWith(v,"{}"))v=r?v:v.slice(0,-2),p=JSON.stringify(p);else if(_t.isArray(p)&&llt(p)||(_t.isFileList(p)||_t.endsWith(v,"[]"))&&(m=_t.toArray(p)))return v=Eme(v),m.forEach(function(b,w){!(_t.isUndefined(b)||b===null)&&e.append(a===!0?oZ([v],w,o):a===null?v:v+"[]",u(b))}),!1}return dV(p)?!0:(e.append(oZ(g,v,o),u(p)),!1)}const f=[],d=Object.assign(ult,{defaultVisitor:c,convertValue:u,isVisitable:dV});function h(p,v){if(!_t.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(p),_t.forEach(p,function(m,y){(!(_t.isUndefined(m)||m===null)&&i.call(e,m,_t.isString(y)?y.trim():y,v,d))===!0&&h(m,v?v.concat(y):[y])}),f.pop()}}if(!_t.isObject(t))throw new TypeError("data must be an object");return h(t),e}function aZ(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function lj(t,e){this._pairs=[],t&&zI(t,this,e)}const Tme=lj.prototype;Tme.append=function(e,n){this._pairs.push([e,n])};Tme.toString=function(e){const n=e?function(r){return e.call(this,r,aZ)}:aZ;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function clt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ame(t,e,n){if(!e)return t;const r=n&&n.encode||clt;_t.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=_t.isURLSearchParams(e)?e.toString():new lj(e,n).toString(r),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class sZ{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_t.forEach(this.handlers,function(r){r!==null&&e(r)})}}const kme={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},flt=typeof URLSearchParams<"u"?URLSearchParams:lj,dlt=typeof FormData<"u"?FormData:null,hlt=typeof Blob<"u"?Blob:null,plt={isBrowser:!0,classes:{URLSearchParams:flt,FormData:dlt,Blob:hlt},protocols:["http","https","file","blob","url","data"]},uj=typeof window<"u"&&typeof document<"u",hV=typeof navigator=="object"&&navigator||void 0,vlt=uj&&(!hV||["ReactNative","NativeScript","NS"].indexOf(hV.product)<0),glt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mlt=uj&&window.location.href||"http://localhost",ylt=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uj,hasStandardBrowserEnv:vlt,hasStandardBrowserWebWorkerEnv:glt,navigator:hV,origin:mlt},Symbol.toStringTag,{value:"Module"})),As={...ylt,...plt};function blt(t,e){return zI(t,new As.classes.URLSearchParams,{visitor:function(n,r,i,o){return As.isNode&&_t.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function _lt(t){return _t.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function wlt(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function Mme(t){function e(n,r,i,o){let a=n[o++];if(a==="__proto__")return!0;const s=Number.isFinite(+a),l=o>=n.length;return a=!a&&_t.isArray(i)?i.length:a,l?(_t.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!s):((!i[a]||!_t.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],o)&&_t.isArray(i[a])&&(i[a]=wlt(i[a])),!s)}if(_t.isFormData(t)&&_t.isFunction(t.entries)){const n={};return _t.forEachEntry(t,(r,i)=>{e(_lt(r),i,n,0)}),n}return null}function Slt(t,e,n){if(_t.isString(t))try{return(e||JSON.parse)(t),_t.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const k2={transitional:kme,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=_t.isObject(e);if(o&&_t.isHTMLForm(e)&&(e=new FormData(e)),_t.isFormData(e))return i?JSON.stringify(Mme(e)):e;if(_t.isArrayBuffer(e)||_t.isBuffer(e)||_t.isStream(e)||_t.isFile(e)||_t.isBlob(e)||_t.isReadableStream(e))return e;if(_t.isArrayBufferView(e))return e.buffer;if(_t.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return blt(e,this.formSerializer).toString();if((s=_t.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return zI(s?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),Slt(e)):e}],transformResponse:[function(e){const n=this.transitional||k2.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(_t.isResponse(e)||_t.isReadableStream(e))return e;if(e&&_t.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(s){if(a)throw s.name==="SyntaxError"?Zr.from(s,Zr.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:As.classes.FormData,Blob:As.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_t.forEach(["delete","get","head","post","put","patch"],t=>{k2.headers[t]={}});const xlt=_t.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Clt=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&xlt[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},lZ=Symbol("internals");function vw(t){return t&&String(t).trim().toLowerCase()}function Tk(t){return t===!1||t==null?t:_t.isArray(t)?t.map(Tk):String(t)}function Elt(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Tlt=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function eN(t,e,n,r,i){if(_t.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!_t.isString(e)){if(_t.isString(r))return e.indexOf(r)!==-1;if(_t.isRegExp(r))return r.test(e)}}function Alt(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function klt(t,e){const n=_t.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,a){return this[r].call(this,e,i,o,a)},configurable:!0})})}let kl=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(s,l,u){const c=vw(l);if(!c)throw new Error("header name must be a non-empty string");const f=_t.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=Tk(s))}const a=(s,l)=>_t.forEach(s,(u,c)=>o(u,c,l));if(_t.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(_t.isString(e)&&(e=e.trim())&&!Tlt(e))a(Clt(e),n);else if(_t.isObject(e)&&_t.isIterable(e)){let s={},l,u;for(const c of e){if(!_t.isArray(c))throw TypeError("Object iterator must return a key-value pair");s[u=c[0]]=(l=s[u])?_t.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}a(s,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=vw(e),e){const r=_t.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Elt(i);if(_t.isFunction(n))return n.call(this,i,r);if(_t.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=vw(e),e){const r=_t.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||eN(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(a){if(a=vw(a),a){const s=_t.findKey(r,a);s&&(!n||eN(r,r[s],s,n))&&(delete r[s],i=!0)}}return _t.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||eN(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return _t.forEach(this,(i,o)=>{const a=_t.findKey(r,o);if(a){n[a]=Tk(i),delete n[o];return}const s=e?Alt(o):String(o).trim();s!==o&&delete n[o],n[s]=Tk(i),r[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return _t.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&_t.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[lZ]=this[lZ]={accessors:{}}).accessors,i=this.prototype;function o(a){const s=vw(a);r[s]||(klt(i,a),r[s]=!0)}return _t.isArray(e)?e.forEach(o):o(e),this}};kl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_t.reduceDescriptors(kl.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});_t.freezeMethods(kl);function tN(t,e){const n=this||k2,r=e||n,i=kl.from(r.headers);let o=r.data;return _t.forEach(t,function(s){o=s.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function Pme(t){return!!(t&&t.__CANCEL__)}function p_(t,e,n){Zr.call(this,t??"canceled",Zr.ERR_CANCELED,e,n),this.name="CanceledError"}_t.inherits(p_,Zr,{__CANCEL__:!0});function Ome(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Zr("Request failed with status code "+n.status,[Zr.ERR_BAD_REQUEST,Zr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Mlt(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Plt(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[o];a||(a=u),n[i]=l,r[i]=u;let f=o,d=0;for(;f!==i;)d+=n[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-a<e)return;const h=c&&u-c;return h?Math.round(d*1e3/h):void 0}}function Olt(t,e){let n=0,r=1e3/e,i,o;const a=(u,c=Date.now())=>{n=c,i=null,o&&(clearTimeout(o),o=null),t(...u)};return[(...u)=>{const c=Date.now(),f=c-n;f>=r?a(u,c):(i=u,o||(o=setTimeout(()=>{o=null,a(i)},r-f)))},()=>i&&a(i)]}const rP=(t,e,n=3)=>{let r=0;const i=Plt(50,250);return Olt(o=>{const a=o.loaded,s=o.lengthComputable?o.total:void 0,l=a-r,u=i(l),c=a<=s;r=a;const f={loaded:a,total:s,progress:s?a/s:void 0,bytes:l,rate:u||void 0,estimated:u&&s&&c?(s-a)/u:void 0,event:o,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(f)},n)},uZ=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},cZ=t=>(...e)=>_t.asap(()=>t(...e)),Ilt=As.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,As.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(As.origin),As.navigator&&/(msie|trident)/i.test(As.navigator.userAgent)):()=>!0,Rlt=As.hasStandardBrowserEnv?{write(t,e,n,r,i,o,a){if(typeof document>"u")return;const s=[`${t}=${encodeURIComponent(e)}`];_t.isNumber(n)&&s.push(`expires=${new Date(n).toUTCString()}`),_t.isString(r)&&s.push(`path=${r}`),_t.isString(i)&&s.push(`domain=${i}`),o===!0&&s.push("secure"),_t.isString(a)&&s.push(`SameSite=${a}`),document.cookie=s.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Llt(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Dlt(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ime(t,e,n){let r=!Llt(e);return t&&(r||n==!1)?Dlt(t,e):e}const fZ=t=>t instanceof kl?{...t}:t;function jm(t,e){e=e||{};const n={};function r(u,c,f,d){return _t.isPlainObject(u)&&_t.isPlainObject(c)?_t.merge.call({caseless:d},u,c):_t.isPlainObject(c)?_t.merge({},c):_t.isArray(c)?c.slice():c}function i(u,c,f,d){if(_t.isUndefined(c)){if(!_t.isUndefined(u))return r(void 0,u,f,d)}else return r(u,c,f,d)}function o(u,c){if(!_t.isUndefined(c))return r(void 0,c)}function a(u,c){if(_t.isUndefined(c)){if(!_t.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function s(u,c,f){if(f in e)return r(u,c);if(f in t)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(u,c,f)=>i(fZ(u),fZ(c),f,!0)};return _t.forEach(Object.keys({...t,...e}),function(c){const f=l[c]||i,d=f(t[c],e[c],c);_t.isUndefined(d)&&f!==s||(n[c]=d)}),n}const Rme=t=>{const e=jm({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:s}=e;if(e.headers=a=kl.from(a),e.url=Ame(Ime(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),_t.isFormData(n)){if(As.hasStandardBrowserEnv||As.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(_t.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,f])=>{u.includes(c.toLowerCase())&&a.set(c,f)})}}if(As.hasStandardBrowserEnv&&(r&&_t.isFunction(r)&&(r=r(e)),r||r!==!1&&Ilt(e.url))){const l=i&&o&&Rlt.read(o);l&&a.set(i,l)}return e},Nlt=typeof XMLHttpRequest<"u",Blt=Nlt&&function(t){return new Promise(function(n,r){const i=Rme(t);let o=i.data;const a=kl.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:u}=i,c,f,d,h,p;function v(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let g=new XMLHttpRequest;g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout;function m(){if(!g)return;const b=kl.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),S={data:!s||s==="text"||s==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:b,config:t,request:g};Ome(function(C){n(C),v()},function(C){r(C),v()},S),g=null}"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(m)},g.onabort=function(){g&&(r(new Zr("Request aborted",Zr.ECONNABORTED,t,g)),g=null)},g.onerror=function(w){const S=w&&w.message?w.message:"Network Error",x=new Zr(S,Zr.ERR_NETWORK,t,g);x.event=w||null,r(x),g=null},g.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||kme;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),r(new Zr(w,S.clarifyTimeoutError?Zr.ETIMEDOUT:Zr.ECONNABORTED,t,g)),g=null},o===void 0&&a.setContentType(null),"setRequestHeader"in g&&_t.forEach(a.toJSON(),function(w,S){g.setRequestHeader(S,w)}),_t.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),s&&s!=="json"&&(g.responseType=i.responseType),u&&([d,p]=rP(u,!0),g.addEventListener("progress",d)),l&&g.upload&&([f,h]=rP(l),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(c=b=>{g&&(r(!b||b.type?new p_(null,t,g):b),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const y=Mlt(i.url);if(y&&As.protocols.indexOf(y)===-1){r(new Zr("Unsupported protocol "+y+":",Zr.ERR_BAD_REQUEST,t));return}g.send(o||null)})},$lt=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(u){if(!i){i=!0,s();const c=u instanceof Error?u:this.reason;r.abort(c instanceof Zr?c:new p_(c instanceof Error?c.message:c))}};let a=e&&setTimeout(()=>{a=null,o(new Zr(`timeout ${e} of ms exceeded`,Zr.ETIMEDOUT))},e);const s=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>_t.asap(s),l}},Flt=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Vlt=async function*(t,e){for await(const n of zlt(t))yield*Flt(n,e)},zlt=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},dZ=(t,e,n,r)=>{const i=Vlt(t,e);let o=0,a,s=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){s(),l.close();return}let f=c.byteLength;if(n){let d=o+=f;n(d)}l.enqueue(new Uint8Array(c))}catch(u){throw s(u),u}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},hZ=64*1024,{isFunction:pT}=_t,Hlt=(({Request:t,Response:e})=>({Request:t,Response:e}))(_t.global),{ReadableStream:pZ,TextEncoder:vZ}=_t.global,gZ=(t,...e)=>{try{return!!t(...e)}catch{return!1}},jlt=t=>{t=_t.merge.call({skipUndefined:!0},Hlt,t);const{fetch:e,Request:n,Response:r}=t,i=e?pT(e):typeof fetch=="function",o=pT(n),a=pT(r);if(!i)return!1;const s=i&&pT(pZ),l=i&&(typeof vZ=="function"?(p=>v=>p.encode(v))(new vZ):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=o&&s&&gZ(()=>{let p=!1;const v=new n(As.origin,{body:new pZ,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!v}),c=a&&s&&gZ(()=>_t.isReadableStream(new r("").body)),f={stream:c&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(v,g)=>{let m=v&&v[p];if(m)return m.call(v);throw new Zr(`Response type '${p}' is not supported`,Zr.ERR_NOT_SUPPORT,g)})});const d=async p=>{if(p==null)return 0;if(_t.isBlob(p))return p.size;if(_t.isSpecCompliantForm(p))return(await new n(As.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(_t.isArrayBufferView(p)||_t.isArrayBuffer(p))return p.byteLength;if(_t.isURLSearchParams(p)&&(p=p+""),_t.isString(p))return(await l(p)).byteLength},h=async(p,v)=>{const g=_t.toFiniteNumber(p.getContentLength());return g??d(v)};return async p=>{let{url:v,method:g,data:m,signal:y,cancelToken:b,timeout:w,onDownloadProgress:S,onUploadProgress:x,responseType:C,headers:E,withCredentials:T="same-origin",fetchOptions:A}=Rme(p),k=e||fetch;C=C?(C+"").toLowerCase():"text";let M=$lt([y,b&&b.toAbortSignal()],w),D=null;const L=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let I;try{if(x&&u&&g!=="get"&&g!=="head"&&(I=await h(E,m))!==0){let G=new n(v,{method:"POST",body:m,duplex:"half"}),W;if(_t.isFormData(m)&&(W=G.headers.get("content-type"))&&E.setContentType(W),G.body){const[Z,ee]=uZ(I,rP(cZ(x)));m=dZ(G.body,hZ,Z,ee)}}_t.isString(T)||(T=T?"include":"omit");const R=o&&"credentials"in n.prototype,V={...A,signal:M,method:g.toUpperCase(),headers:E.normalize().toJSON(),body:m,duplex:"half",credentials:R?T:void 0};D=o&&new n(v,V);let P=await(o?k(D,A):k(v,V));const B=c&&(C==="stream"||C==="response");if(c&&(S||B&&L)){const G={};["status","statusText","headers"].forEach(oe=>{G[oe]=P[oe]});const W=_t.toFiniteNumber(P.headers.get("content-length")),[Z,ee]=S&&uZ(W,rP(cZ(S),!0))||[];P=new r(dZ(P.body,hZ,Z,()=>{ee&&ee(),L&&L()}),G)}C=C||"text";let j=await f[_t.findKey(f,C)||"text"](P,p);return!B&&L&&L(),await new Promise((G,W)=>{Ome(G,W,{data:j,headers:kl.from(P.headers),status:P.status,statusText:P.statusText,config:p,request:D})})}catch(R){throw L&&L(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new Zr("Network Error",Zr.ERR_NETWORK,p,D),{cause:R.cause||R}):Zr.from(R,R&&R.code,p,D)}}},Glt=new Map,Lme=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,o=[r,i,n];let a=o.length,s=a,l,u,c=Glt;for(;s--;)l=o[s],u=c.get(l),u===void 0&&c.set(l,u=s?new Map:jlt(e)),c=u;return u};Lme();const cj={http:slt,xhr:Blt,fetch:{get:Lme}};_t.forEach(cj,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const mZ=t=>`- ${t}`,Ult=t=>_t.isFunction(t)||t===null||t===!1;function Wlt(t,e){t=_t.isArray(t)?t:[t];const{length:n}=t;let r,i;const o={};for(let a=0;a<n;a++){r=t[a];let s;if(i=r,!Ult(r)&&(i=cj[(s=String(r)).toLowerCase()],i===void 0))throw new Zr(`Unknown adapter '${s}'`);if(i&&(_t.isFunction(i)||(i=i.get(e))))break;o[s||"#"+a]=i}if(!i){const a=Object.entries(o).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(mZ).join(`
`):" "+mZ(a[0]):"as no adapter specified";throw new Zr("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i}const Dme={getAdapter:Wlt,adapters:cj};function nN(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new p_(null,t)}function yZ(t){return nN(t),t.headers=kl.from(t.headers),t.data=tN.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Dme.getAdapter(t.adapter||k2.adapter,t)(t).then(function(r){return nN(t),r.data=tN.call(t,t.transformResponse,r),r.headers=kl.from(r.headers),r},function(r){return Pme(r)||(nN(t),r&&r.response&&(r.response.data=tN.call(t,t.transformResponse,r.response),r.response.headers=kl.from(r.response.headers))),Promise.reject(r)})}const Nme="1.13.1",HI={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{HI[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const bZ={};HI.transitional=function(e,n,r){function i(o,a){return"[Axios v"+Nme+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,s)=>{if(e===!1)throw new Zr(i(a," has been removed"+(n?" in "+n:"")),Zr.ERR_DEPRECATED);return n&&!bZ[a]&&(bZ[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,s):!0}};HI.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function qlt(t,e,n){if(typeof t!="object")throw new Zr("options must be an object",Zr.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],a=e[o];if(a){const s=t[o],l=s===void 0||a(s,o,t);if(l!==!0)throw new Zr("option "+o+" must be "+l,Zr.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Zr("Unknown option "+o,Zr.ERR_BAD_OPTION)}}const Ak={assertOptions:qlt,validators:HI},of=Ak.validators;let ym=class{constructor(e){this.defaults=e||{},this.interceptors={request:new sZ,response:new sZ}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=jm(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Ak.assertOptions(r,{silentJSONParsing:of.transitional(of.boolean),forcedJSONParsing:of.transitional(of.boolean),clarifyTimeoutError:of.transitional(of.boolean)},!1),i!=null&&(_t.isFunction(i)?n.paramsSerializer={serialize:i}:Ak.assertOptions(i,{encode:of.function,serialize:of.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ak.assertOptions(n,{baseUrl:of.spelling("baseURL"),withXsrfToken:of.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&_t.merge(o.common,o[n.method]);o&&_t.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=kl.concat(a,o);const s=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,s.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,f=0,d;if(!l){const p=[yZ.bind(this),void 0];for(p.unshift(...s),p.push(...u),d=p.length,c=Promise.resolve(n);f<d;)c=c.then(p[f++],p[f++]);return c}d=s.length;let h=n;for(;f<d;){const p=s[f++],v=s[f++];try{h=p(h)}catch(g){v.call(this,g);break}}try{c=yZ.call(this,h)}catch(p){return Promise.reject(p)}for(f=0,d=u.length;f<d;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=jm(this.defaults,e);const n=Ime(e.baseURL,e.url,e.allowAbsoluteUrls);return Ame(n,e.params,e.paramsSerializer)}};_t.forEach(["delete","get","head","options"],function(e){ym.prototype[e]=function(n,r){return this.request(jm(r||{},{method:e,url:n,data:(r||{}).data}))}});_t.forEach(["post","put","patch"],function(e){function n(r){return function(o,a,s){return this.request(jm(s||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}ym.prototype[e]=n(),ym.prototype[e+"Form"]=n(!0)});let Klt=class Bme{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(s=>{r.subscribe(s),o=s}).then(i);return a.cancel=function(){r.unsubscribe(o)},a},e(function(o,a,s){r.reason||(r.reason=new p_(o,a,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Bme(function(i){e=i}),cancel:e}}};function Ylt(t){return function(n){return t.apply(null,n)}}function Xlt(t){return _t.isObject(t)&&t.isAxiosError===!0}const pV={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(pV).forEach(([t,e])=>{pV[e]=t});function $me(t){const e=new ym(t),n=vme(ym.prototype.request,e);return _t.extend(n,ym.prototype,e,{allOwnKeys:!0}),_t.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return $me(jm(t,i))},n}const Et=$me(k2);Et.Axios=ym;Et.CanceledError=p_;Et.CancelToken=Klt;Et.isCancel=Pme;Et.VERSION=Nme;Et.toFormData=zI;Et.AxiosError=Zr;Et.Cancel=Et.CanceledError;Et.all=function(e){return Promise.all(e)};Et.spread=Ylt;Et.isAxiosError=Xlt;Et.mergeConfig=jm;Et.AxiosHeaders=kl;Et.formToJSON=t=>Mme(_t.isHTMLForm(t)?new FormData(t):t);Et.getAdapter=Dme.getAdapter;Et.HttpStatusCode=pV;Et.default=Et;const{Axios:s7t,AxiosError:l7t,CanceledError:u7t,isCancel:c7t,CancelToken:f7t,VERSION:d7t,all:h7t,Cancel:p7t,isAxiosError:v7t,spread:g7t,toFormData:m7t,AxiosHeaders:y7t,HttpStatusCode:b7t,formToJSON:_7t,getAdapter:w7t,mergeConfig:S7t}=Et,Zlt={key:0},Jlt={__name:"Register",setup(t){const e=F(""),n=F(""),r=F(""),i=F(""),o=async()=>{if(n.value!==r.value){i.value="";return}try{const s=await Et.post("/rest_register/",{username:e.value,password:n.value});i.value=s.data.message}catch(s){i.value=""+(s.response?.data?.message||"")}},a=()=>{X1.push("/login")};return(s,l)=>{const u=pe("el-button");return N(),Q("div",null,[l[8]||(l[8]=K("h2",null,"",-1)),K("form",{onSubmit:an(o,["prevent"])},[K("div",null,[l[3]||(l[3]=K("label",null,":",-1)),An(K("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>e.value=c),type:"text",required:""},null,512),[[hm,e.value]])]),K("div",null,[l[4]||(l[4]=K("label",null,":",-1)),An(K("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>n.value=c),type:"password",required:""},null,512),[[hm,n.value]])]),K("div",null,[l[5]||(l[5]=K("label",null,":",-1)),An(K("input",{"onUpdate:modelValue":l[2]||(l[2]=c=>r.value=c),type:"password",required:""},null,512),[[hm,r.value]])]),l[6]||(l[6]=K("button",{type:"submit"},"",-1))],32),O(u,{plain:"",onClick:a},{default:$(()=>[...l[7]||(l[7]=[Be("  ",-1)])]),_:1}),i.value?(N(),Q("p",Zlt,Ne(i.value),1)):ge("",!0)])}}},Qlt="/assets/login-BjD9quU6.svg";function eut(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}const Me=eut(),ds=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};Jt(()=>{Me.emit("show_menu",!1)});const tut={name:"login",setup(){const t=F(!0),e=()=>{t.value=!t.value},n=()=>{console.log("")},r=Bn({account:"shardora",password:"test"});let i=F(!1);const o=async()=>{console.log("1"),delete Et.defaults.headers.common.Authorization;try{const l=await Et.post("/rest_token/",{username:r.account,password:o0(o0(o0(r.password)))});console.log("2");const u=l.data.access;localStorage.setItem("access_token",l.data.access),Et.defaults.headers.common.Authorization=`Bearer ${u}`,console.log("3"),st({title:"",type:"success",message:" "+r.account}),Me.emit("show_menu",!0),X1.push("/pipeline")}catch(l){st({title:"",type:"danger",message:""+l})}},a=Bn({username:"",email:"",phone:"",password:"",code:""});return{loginForm:r,loginImg:Qlt,loginStatus:t,loginBtnLoading:i,registerForm:a,onRegisterClick:async()=>{try{const l=await Et.post("/rest_register/",{username:a.username,password:o0(o0(o0(a.password))),email:a.email,phone:a.phone});st({title:"",type:"success",message:" "+a.username}),oj({title:"",message:"",type:"success",position:"top-left"}),X1.push("/login")}catch(l){st({title:"",type:"danger",message:l})}},onLoginClick:o,onGetCodeClick:n,onTogglePanelStatus:e,appName:z(()=>""),device:z(()=>"store.state.app.device")}}};function o0(t){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:32,n=t;function r(w,S){return w<<S|w>>>32-S}function i(w,S){var x,C,E,T,A;return E=2147483648&w,T=2147483648&S,A=(1073741823&w)+(1073741823&S),(x=1073741824&w)&(C=1073741824&S)?2147483648^A^E^T:x|C?1073741824&A?3221225472^A^E^T:1073741824^A^E^T:A^E^T}function o(w,S,x,C,E,T,A){var k;return i(r(w=i(w,i(i((k=S)&x|~k&C,E),A)),T),S)}function a(w,S,x,C,E,T,A){var k;return i(r(w=i(w,i(i(S&(k=C)|x&~k,E),A)),T),S)}function s(w,S,x,C,E,T,A){return i(r(w=i(w,i(i(S^x^C,E),A)),T),S)}function l(w,S,x,C,E,T,A){return i(r(w=i(w,i(i(x^(S|~C),E),A)),T),S)}function u(w){var S,x="",C="";for(S=0;S<=3;S++)x+=(C="0"+(w>>>8*S&255).toString(16)).substr(C.length-2,2);return x}var c,f,d,h,p,v,g,m,y,b=Array();for(b=(function(w){for(var S,x=w.length,C=x+8,E=16*((C-C%64)/64+1),T=Array(E-1),A=0,k=0;k<x;)A=k%4*8,T[S=(k-k%4)/4]=T[S]|w.charCodeAt(k)<<A,k++;return A=k%4*8,T[S=(k-k%4)/4]=T[S]|128<<A,T[E-2]=x<<3,T[E-1]=x>>>29,T})(n),v=1732584193,g=4023233417,m=2562383102,y=271733878,c=0;c<b.length;c+=16)g=l(g=l(g=l(g=l(g=s(g=s(g=s(g=s(g=a(g=a(g=a(g=a(g=o(g=o(g=o(g=o(d=g,m=o(h=m,y=o(p=y,v=o(f=v,g,m,y,b[c+0],7,3614090360),g,m,b[c+1],12,3905402710),v,g,b[c+2],17,606105819),y,v,b[c+3],22,3250441966),m=o(m,y=o(y,v=o(v,g,m,y,b[c+4],7,4118548399),g,m,b[c+5],12,1200080426),v,g,b[c+6],17,2821735955),y,v,b[c+7],22,4249261313),m=o(m,y=o(y,v=o(v,g,m,y,b[c+8],7,1770035416),g,m,b[c+9],12,2336552879),v,g,b[c+10],17,4294925233),y,v,b[c+11],22,2304563134),m=o(m,y=o(y,v=o(v,g,m,y,b[c+12],7,1804603682),g,m,b[c+13],12,4254626195),v,g,b[c+14],17,2792965006),y,v,b[c+15],22,1236535329),m=a(m,y=a(y,v=a(v,g,m,y,b[c+1],5,4129170786),g,m,b[c+6],9,3225465664),v,g,b[c+11],14,643717713),y,v,b[c+0],20,3921069994),m=a(m,y=a(y,v=a(v,g,m,y,b[c+5],5,3593408605),g,m,b[c+10],9,38016083),v,g,b[c+15],14,3634488961),y,v,b[c+4],20,3889429448),m=a(m,y=a(y,v=a(v,g,m,y,b[c+9],5,568446438),g,m,b[c+14],9,3275163606),v,g,b[c+3],14,4107603335),y,v,b[c+8],20,1163531501),m=a(m,y=a(y,v=a(v,g,m,y,b[c+13],5,2850285829),g,m,b[c+2],9,4243563512),v,g,b[c+7],14,1735328473),y,v,b[c+12],20,2368359562),m=s(m,y=s(y,v=s(v,g,m,y,b[c+5],4,4294588738),g,m,b[c+8],11,2272392833),v,g,b[c+11],16,1839030562),y,v,b[c+14],23,4259657740),m=s(m,y=s(y,v=s(v,g,m,y,b[c+1],4,2763975236),g,m,b[c+4],11,1272893353),v,g,b[c+7],16,4139469664),y,v,b[c+10],23,3200236656),m=s(m,y=s(y,v=s(v,g,m,y,b[c+13],4,681279174),g,m,b[c+0],11,3936430074),v,g,b[c+3],16,3572445317),y,v,b[c+6],23,76029189),m=s(m,y=s(y,v=s(v,g,m,y,b[c+9],4,3654602809),g,m,b[c+12],11,3873151461),v,g,b[c+15],16,530742520),y,v,b[c+2],23,3299628645),m=l(m,y=l(y,v=l(v,g,m,y,b[c+0],6,4096336452),g,m,b[c+7],10,1126891415),v,g,b[c+14],15,2878612391),y,v,b[c+5],21,4237533241),m=l(m,y=l(y,v=l(v,g,m,y,b[c+12],6,1700485571),g,m,b[c+3],10,2399980690),v,g,b[c+10],15,4293915773),y,v,b[c+1],21,2240044497),m=l(m,y=l(y,v=l(v,g,m,y,b[c+8],6,1873313359),g,m,b[c+15],10,4264355552),v,g,b[c+6],15,2734768916),y,v,b[c+13],21,1309151649),m=l(m,y=l(y,v=l(v,g,m,y,b[c+4],6,4149444226),g,m,b[c+11],10,3174756917),v,g,b[c+2],15,718787259),y,v,b[c+9],21,3951481745),v=i(v,f),g=i(g,d),m=i(m,h),y=i(y,p);return e==32?u(v)+u(g)+u(m)+u(y):u(g)+u(m)}const nut={class:"login-page",style:{"margin-top":"0px"}},rut={class:"panel-container"},iut={class:"block text-center"},out={class:"login-intro custom-primary-bg"},aut={class:"intro-title"},sut=["src"],lut={class:"login-panel"},uut={key:0,style:{"margin-bottom":"10px"}},cut={style:{color:"var(--el-color-primary) !important"}},fut={class:"form-bottom"},dut={class:"form-bottom"};function hut(t,e,n,r,i,o){const a=pe("el-carousel-item"),s=pe("el-carousel"),l=pe("el-input"),u=pe("el-form-item"),c=pe("el-button"),f=pe("el-form");return N(),Q("div",nut,[K("div",rut,[K("div",iut,[O(s,{height:"550px",style:{width:"800px"},"motion-blur":""},{default:$(()=>[(N(),Q(ft,null,gn(4,d=>O(a,{key:d},{default:$(()=>[K("section",out,[K("h1",aut,Ne(r.appName),1),e[6]||(e[6]=K("p",{class:"intro-subtitle"},"",-1)),K("img",{src:r.loginImg,alt:"login"},null,8,sut)])]),_:2},1024)),64))]),_:1})]),K("section",lut,[r.device=="mobile"?(N(),Q("h1",uut,Ne(r.appName),1)):ge("",!0),K("h1",cut,Ne(r.loginStatus?"":""),1),An(O(f,{model:r.loginForm,class:"login-form","label-position":"top"},{default:$(()=>[O(u,{label:""},{default:$(()=>[O(l,{placeholder:"",modelValue:r.loginForm.account,"onUpdate:modelValue":e[0]||(e[0]=d=>r.loginForm.account=d)},null,8,["modelValue"])]),_:1}),O(u,{label:""},{default:$(()=>[O(l,{type:"password",placeholder:"",modelValue:r.loginForm.password,"onUpdate:modelValue":e[1]||(e[1]=d=>r.loginForm.password=d)},null,8,["modelValue"])]),_:1}),O(u,null,{default:$(()=>[O(c,{type:"primary",class:"login-btn",onClick:r.onLoginClick,loading:r.loginBtnLoading},{default:$(()=>[...e[7]||(e[7]=[Be("  ",-1)])]),_:1},8,["onClick","loading"]),K("div",fut,[O(c,{type:"text",onClick:r.onTogglePanelStatus},{default:$(()=>[...e[8]||(e[8]=[Be("  ",-1)])]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["model"]),[[kr,r.loginStatus]]),An(O(f,{model:r.registerForm,class:"login-form","label-position":"top"},{default:$(()=>[O(u,{label:"",name:"username"},{default:$(()=>[O(l,{style:{color:"black"},placeholder:"",modelValue:r.registerForm.username,"onUpdate:modelValue":e[2]||(e[2]=d=>r.registerForm.username=d)},null,8,["modelValue"])]),_:1}),O(u,{label:""},{default:$(()=>[O(l,{type:"password",placeholder:"",modelValue:r.registerForm.password,"onUpdate:modelValue":e[3]||(e[3]=d=>r.registerForm.password=d)},null,8,["modelValue"])]),_:1}),O(u,{label:"",name:"email"},{default:$(()=>[O(l,{placeholder:"",modelValue:r.registerForm.email,"onUpdate:modelValue":e[4]||(e[4]=d=>r.registerForm.email=d),"prefix-icon":t.Message},null,8,["modelValue","prefix-icon"])]),_:1}),O(u,{label:"",name:"phone"},{default:$(()=>[O(l,{placeholder:"",modelValue:r.registerForm.phone,"onUpdate:modelValue":e[5]||(e[5]=d=>r.registerForm.phone=d),"prefix-icon":t.Iphone},null,8,["modelValue","prefix-icon"])]),_:1}),O(u,null,{default:$(()=>[O(c,{type:"primary",class:"login-btn",onClick:r.onRegisterClick},{default:$(()=>[...e[9]||(e[9]=[Be("  ",-1)])]),_:1},8,["onClick"]),K("div",dut,[O(c,{type:"text",onClick:r.onTogglePanelStatus},{default:$(()=>[...e[10]||(e[10]=[Be("  ",-1)])]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["model"]),[[kr,!r.loginStatus]])])])])}const put=ds(tut,[["render",hut],["__scopeId","data-v-9ffacd9d"]]),a1={__name:"splitpanes",props:{horizontal:{type:Boolean,default:!1},pushOtherPanes:{type:Boolean,default:!0},maximizePanes:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean,default:!1}},emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click","splitter-dblclick"],setup(t,{emit:e}){const n=e,r=t,i=Co(),o=F([]),a=z(()=>o.value.reduce((X,H)=>(X[~~H.id]=H)&&X,{})),s=z(()=>o.value.length),l=F(null),u=F(!1),c=F({mouseDown:!1,dragging:!1,activeSplitter:null,cursorOffset:0}),f=F({splitter:null,timeoutId:null}),d=z(()=>({[`splitpanes splitpanes--${r.horizontal?"horizontal":"vertical"}`]:!0,"splitpanes--dragging":c.value.dragging})),h=()=>{document.addEventListener("mousemove",g,{passive:!1}),document.addEventListener("mouseup",m),"ontouchstart"in window&&(document.addEventListener("touchmove",g,{passive:!1}),document.addEventListener("touchend",m))},p=()=>{document.removeEventListener("mousemove",g,{passive:!1}),document.removeEventListener("mouseup",m),"ontouchstart"in window&&(document.removeEventListener("touchmove",g,{passive:!1}),document.removeEventListener("touchend",m))},v=(X,H)=>{const U=X.target.closest(".splitpanes__splitter");if(U){const{left:ne,top:J}=U.getBoundingClientRect(),{clientX:Y,clientY:se}="ontouchstart"in window&&X.touches?X.touches[0]:X;c.value.cursorOffset=r.horizontal?se-J:Y-ne}h(),c.value.mouseDown=!0,c.value.activeSplitter=H},g=X=>{c.value.mouseDown&&(X.preventDefault(),c.value.dragging=!0,requestAnimationFrame(()=>{C(S(X)),oe("resize",{event:X},!0)}))},m=X=>{c.value.dragging&&(window.getSelection().removeAllRanges(),oe("resized",{event:X},!0)),c.value.mouseDown=!1,c.value.activeSplitter=null,setTimeout(()=>{c.value.dragging=!1,p()},100)},y=(X,H)=>{"ontouchstart"in window&&(X.preventDefault(),f.value.splitter===H?(clearTimeout(f.value.timeoutId),f.value.timeoutId=null,b(X,H),f.value.splitter=null):(f.value.splitter=H,f.value.timeoutId=setTimeout(()=>f.value.splitter=null,500))),c.value.dragging||oe("splitter-click",{event:X,index:H},!0)},b=(X,H)=>{if(oe("splitter-dblclick",{event:X,index:H},!0),r.maximizePanes){let U=0;o.value=o.value.map((ne,J)=>(ne.size=J===H?ne.max:ne.min,J!==H&&(U+=ne.min),ne)),o.value[H].size-=U,oe("pane-maximize",{event:X,index:H,pane:o.value[H]}),oe("resized",{event:X,index:H},!0)}},w=(X,H)=>{oe("pane-click",{event:X,index:a.value[H].index,pane:a.value[H]})},S=X=>{const H=l.value.getBoundingClientRect(),{clientX:U,clientY:ne}="ontouchstart"in window&&X.touches?X.touches[0]:X;return{x:U-(r.horizontal?0:c.value.cursorOffset)-H.left,y:ne-(r.horizontal?c.value.cursorOffset:0)-H.top}},x=X=>{X=X[r.horizontal?"y":"x"];const H=l.value[r.horizontal?"clientHeight":"clientWidth"];return r.rtl&&!r.horizontal&&(X=H-X),X*100/H},C=X=>{const H=c.value.activeSplitter;let U={prevPanesSize:T(H),nextPanesSize:A(H),prevReachedMinPanes:0,nextReachedMinPanes:0};const ne=0+(r.pushOtherPanes?0:U.prevPanesSize),J=100-(r.pushOtherPanes?0:U.nextPanesSize),Y=Math.max(Math.min(x(X),J),ne);let se=[H,H+1],he=o.value[se[0]]||null,ye=o.value[se[1]]||null;const _e=he.max<100&&Y>=he.max+U.prevPanesSize,fe=ye.max<100&&Y<=100-(ye.max+A(H+1));if(_e||fe){_e?(he.size=he.max,ye.size=Math.max(100-he.max-U.prevPanesSize-U.nextPanesSize,0)):(he.size=Math.max(100-ye.max-U.prevPanesSize-A(H+1),0),ye.size=ye.max);return}if(r.pushOtherPanes){const Ce=E(U,Y);if(!Ce)return;({sums:U,panesToResize:se}=Ce),he=o.value[se[0]]||null,ye=o.value[se[1]]||null}he!==null&&(he.size=Math.min(Math.max(Y-U.prevPanesSize-U.prevReachedMinPanes,he.min),he.max)),ye!==null&&(ye.size=Math.min(Math.max(100-Y-U.nextPanesSize-U.nextReachedMinPanes,ye.min),ye.max))},E=(X,H)=>{const U=c.value.activeSplitter,ne=[U,U+1];return H<X.prevPanesSize+o.value[ne[0]].min&&(ne[0]=k(U).index,X.prevReachedMinPanes=0,ne[0]<U&&o.value.forEach((J,Y)=>{Y>ne[0]&&Y<=U&&(J.size=J.min,X.prevReachedMinPanes+=J.min)}),X.prevPanesSize=T(ne[0]),ne[0]===void 0)?(X.prevReachedMinPanes=0,o.value[0].size=o.value[0].min,o.value.forEach((J,Y)=>{Y>0&&Y<=U&&(J.size=J.min,X.prevReachedMinPanes+=J.min)}),o.value[ne[1]].size=100-X.prevReachedMinPanes-o.value[0].min-X.prevPanesSize-X.nextPanesSize,null):H>100-X.nextPanesSize-o.value[ne[1]].min&&(ne[1]=M(U).index,X.nextReachedMinPanes=0,ne[1]>U+1&&o.value.forEach((J,Y)=>{Y>U&&Y<ne[1]&&(J.size=J.min,X.nextReachedMinPanes+=J.min)}),X.nextPanesSize=A(ne[1]-1),ne[1]===void 0)?(X.nextReachedMinPanes=0,o.value.forEach((J,Y)=>{Y<s.value-1&&Y>=U+1&&(J.size=J.min,X.nextReachedMinPanes+=J.min)}),o.value[ne[0]].size=100-X.prevPanesSize-A(ne[0]-1),null):{sums:X,panesToResize:ne}},T=X=>o.value.reduce((H,U,ne)=>H+(ne<X?U.size:0),0),A=X=>o.value.reduce((H,U,ne)=>H+(ne>X+1?U.size:0),0),k=X=>[...o.value].reverse().find(H=>H.index<X&&H.size>H.min)||{},M=X=>o.value.find(H=>H.index>X+1&&H.size>H.min)||{},D=()=>{var X;const H=Array.from(((X=l.value)==null?void 0:X.children)||[]);for(const U of H){const ne=U.classList.contains("splitpanes__pane"),J=U.classList.contains("splitpanes__splitter");!ne&&!J&&(U.remove(),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))}},L=(X,H,U=!1)=>{const ne=X-1,J=document.createElement("div");J.classList.add("splitpanes__splitter"),U||(J.onmousedown=Y=>v(Y,ne),typeof window<"u"&&"ontouchstart"in window&&(J.ontouchstart=Y=>v(Y,ne)),J.onclick=Y=>y(Y,ne+1)),J.ondblclick=Y=>b(Y,ne+1),H.parentNode.insertBefore(J,H)},I=X=>{X.onmousedown=void 0,X.onclick=void 0,X.ondblclick=void 0,X.remove()},R=()=>{var X;const H=Array.from(((X=l.value)==null?void 0:X.children)||[]);for(const ne of H)ne.className.includes("splitpanes__splitter")&&I(ne);let U=0;for(const ne of H)ne.className.includes("splitpanes__pane")&&(!U&&r.firstSplitter?L(U,ne,!0):U&&L(U,ne),U++)},V=({uid:X,...H})=>{const U=a.value[X];for(const[ne,J]of Object.entries(H))U[ne]=J},P=X=>{var H;let U=-1;Array.from(((H=l.value)==null?void 0:H.children)||[]).some(ne=>(ne.className.includes("splitpanes__pane")&&U++,ne.isSameNode(X.el))),o.value.splice(U,0,{...X,index:U}),o.value.forEach((ne,J)=>ne.index=J),u.value&&Pt(()=>{R(),j({addedPane:o.value[U]}),oe("pane-add",{pane:o.value[U]})})},B=X=>{const H=o.value.findIndex(ne=>ne.id===X);o.value[H].el=null;const U=o.value.splice(H,1)[0];o.value.forEach((ne,J)=>ne.index=J),Pt(()=>{R(),oe("pane-remove",{pane:U}),j({removedPane:{...U}})})},j=(X={})=>{!X.addedPane&&!X.removedPane?W():o.value.some(H=>H.givenSize!==null||H.min||H.max<100)?Z(X):G(),u.value&&oe("resized")},G=()=>{const X=100/s.value;let H=0;const U=[],ne=[];for(const J of o.value)J.size=Math.max(Math.min(X,J.max),J.min),H-=J.size,J.size>=J.max&&U.push(J.id),J.size<=J.min&&ne.push(J.id);H>.1&&ee(H,U,ne)},W=()=>{let X=100;const H=[],U=[];let ne=0;for(const Y of o.value)X-=Y.size,Y.givenSize!==null&&ne++,Y.size>=Y.max&&H.push(Y.id),Y.size<=Y.min&&U.push(Y.id);let J=100;if(X>.1){for(const Y of o.value)Y.givenSize===null&&(Y.size=Math.max(Math.min(X/(s.value-ne),Y.max),Y.min)),J-=Y.size;J>.1&&ee(J,H,U)}},Z=({addedPane:X,removedPane:H}={})=>{let U=100/s.value,ne=0;const J=[],Y=[];(X?.givenSize??null)!==null&&(U=(100-X.givenSize)/(s.value-1));for(const se of o.value)ne-=se.size,se.size>=se.max&&J.push(se.id),se.size<=se.min&&Y.push(se.id);if(!(Math.abs(ne)<.1)){for(const se of o.value)X?.givenSize!==null&&X?.id===se.id||(se.size=Math.max(Math.min(U,se.max),se.min)),ne-=se.size,se.size>=se.max&&J.push(se.id),se.size<=se.min&&Y.push(se.id);ne>.1&&ee(ne,J,Y)}},ee=(X,H,U)=>{let ne;X>0?ne=X/(s.value-H.length):ne=X/(s.value-U.length),o.value.forEach((J,Y)=>{if(X>0&&!H.includes(J.id)){const se=Math.max(Math.min(J.size+ne,J.max),J.min),he=se-J.size;X-=he,J.size=se}else if(!U.includes(J.id)){const se=Math.max(Math.min(J.size+ne,J.max),J.min),he=se-J.size;X-=he,J.size=se}}),Math.abs(X)>.1&&Pt(()=>{u.value&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})},oe=(X,H=void 0,U=!1)=>{const ne=H?.index??c.value.activeSplitter??null;n(X,{...H,...ne!==null&&{index:ne},...U&&ne!==null&&{prevPane:o.value[ne-(r.firstSplitter?1:0)],nextPane:o.value[ne+(r.firstSplitter?0:1)]},panes:o.value.map(J=>({min:J.min,max:J.max,size:J.size}))})};Le(()=>r.firstSplitter,()=>R()),Jt(()=>{D(),R(),j(),oe("ready"),u.value=!0}),ur(()=>u.value=!1);const ce=()=>{var X;return Rt("div",{ref:l,class:d.value},(X=i.default)==null?void 0:X.call(i))};return jn("panes",o),jn("indexedPanes",a),jn("horizontal",z(()=>r.horizontal)),jn("requestUpdate",V),jn("onPaneAdd",P),jn("onPaneRemove",B),jn("onPaneClick",w),(X,H)=>(N(),de(Vn(ce)))}},qd={__name:"pane",props:{size:{type:[Number,String]},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},setup(t){var e;const n=t,r=bt("requestUpdate"),i=bt("onPaneAdd"),o=bt("horizontal"),a=bt("onPaneRemove"),s=bt("onPaneClick"),l=(e=Un())==null?void 0:e.uid,u=bt("indexedPanes"),c=z(()=>u.value[l]),f=F(null),d=z(()=>{const g=isNaN(n.size)||n.size===void 0?0:parseFloat(n.size);return Math.max(Math.min(g,p.value),h.value)}),h=z(()=>{const g=parseFloat(n.minSize);return isNaN(g)?0:g}),p=z(()=>{const g=parseFloat(n.maxSize);return isNaN(g)?100:g}),v=z(()=>{var g;return`${o.value?"height":"width"}: ${(g=c.value)==null?void 0:g.size}%`});return Le(()=>d.value,g=>r({uid:l,size:g})),Le(()=>h.value,g=>r({uid:l,min:g})),Le(()=>p.value,g=>r({uid:l,max:g})),Jt(()=>{i({id:l,el:f.value,min:h.value,max:p.value,givenSize:n.size===void 0?null:d.value,size:d.value})}),ur(()=>a(l)),(g,m)=>(N(),Q("div",{ref_key:"paneEl",ref:f,class:"splitpanes__pane",onClick:m[0]||(m[0]=y=>_(s)(y,g._.uid)),style:Ot(v.value)},[Ee(g.$slots,"default")],4))}};var rN,_Z;function v_(){return _Z||(_Z=1,rN=TypeError),rN}const vut={},gut=Object.freeze(Object.defineProperty({__proto__:null,default:vut},Symbol.toStringTag,{value:"Module"})),mut=SHe(gut);var iN,wZ;function jI(){if(wZ)return iN;wZ=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=t&&e&&typeof e.get=="function"?e.get:null,r=t&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,a=i&&o&&typeof o.get=="function"?o.get:null,s=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,u=l?WeakMap.prototype.has:null,c=typeof WeakSet=="function"&&WeakSet.prototype,f=c?WeakSet.prototype.has:null,d=typeof WeakRef=="function"&&WeakRef.prototype,h=d?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,v=Object.prototype.toString,g=Function.prototype.toString,m=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,w=String.prototype.toUpperCase,S=String.prototype.toLowerCase,x=RegExp.prototype.test,C=Array.prototype.concat,E=Array.prototype.join,T=Array.prototype.slice,A=Math.floor,k=typeof BigInt=="function"?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,L=typeof Symbol=="function"&&typeof Symbol.iterator=="object",I=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===L||!0)?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,V=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(re){return re.__proto__}:null);function P(re,le){if(re===1/0||re===-1/0||re!==re||re&&re>-1e3&&re<1e3||x.call(/e/,le))return le;var Ae=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof re=="number"){var Qe=re<0?-A(-re):A(re);if(Qe!==re){var ct=String(Qe),Nt=y.call(le,ct.length+1);return b.call(ct,Ae,"$&_")+"."+b.call(b.call(Nt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(le,Ae,"$&_")}var B=mut,j=B.custom,G=he(j)?j:null,W={__proto__:null,double:'"',single:"'"},Z={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};iN=function re(le,Ae,Qe,ct){var Nt=Ae||{};if(fe(Nt,"quoteStyle")&&!fe(W,Nt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(fe(Nt,"maxStringLength")&&(typeof Nt.maxStringLength=="number"?Nt.maxStringLength<0&&Nt.maxStringLength!==1/0:Nt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var zn=fe(Nt,"customInspect")?Nt.customInspect:!0;if(typeof zn!="boolean"&&zn!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(fe(Nt,"indent")&&Nt.indent!==null&&Nt.indent!=="	"&&!(parseInt(Nt.indent,10)===Nt.indent&&Nt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(fe(Nt,"numericSeparator")&&typeof Nt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var li=Nt.numericSeparator;if(typeof le>"u")return"undefined";if(le===null)return"null";if(typeof le=="boolean")return le?"true":"false";if(typeof le=="string")return At(le,Nt);if(typeof le=="number"){if(le===0)return 1/0/le>0?"0":"-0";var sr=String(le);return li?P(le,sr):sr}if(typeof le=="bigint"){var Er=String(le)+"n";return li?P(le,Er):Er}var ut=typeof Nt.depth>"u"?5:Nt.depth;if(typeof Qe>"u"&&(Qe=0),Qe>=ut&&ut>0&&typeof le=="object")return X(le)?"[Array]":"[Object]";var In=$n(Nt,Qe);if(typeof ct>"u")ct=[];else if(Ue(ct,le)>=0)return"[Circular]";function Tn(oa,Rl,Bs){if(Rl&&(ct=T.call(ct),ct.push(Rl)),Bs){var vd={depth:Nt.depth};return fe(Nt,"quoteStyle")&&(vd.quoteStyle=Nt.quoteStyle),re(oa,vd,Qe+1,ct)}return re(oa,Nt,Qe+1,ct)}if(typeof le=="function"&&!U(le)){var to=Oe(le),Uo=mt(le,Tn);return"[Function"+(to?": "+to:" (anonymous)")+"]"+(Uo.length>0?" { "+E.call(Uo,", ")+" }":"")}if(he(le)){var va=L?b.call(String(le),/^(Symbol\(.*\))_[^)]*$/,"$1"):D.call(le);return typeof le=="object"&&!L?Kt(va):va}if(dn(le)){for(var hs="<"+S.call(String(le.nodeName)),Bt=le.attributes||[],Bi=0;Bi<Bt.length;Bi++)hs+=" "+Bt[Bi].name+"="+ee(oe(Bt[Bi].value),"double",Nt);return hs+=">",le.childNodes&&le.childNodes.length&&(hs+="..."),hs+="</"+S.call(String(le.nodeName))+">",hs}if(X(le)){if(le.length===0)return"[]";var hd=mt(le,Tn);return In&&!wn(hd)?"["+je(hd,In)+"]":"[ "+E.call(hd,", ")+" ]"}if(ne(le)){var Qc=mt(le,Tn);return!("cause"in Error.prototype)&&"cause"in le&&!R.call(le,"cause")?"{ ["+String(le)+"] "+E.call(C.call("[cause]: "+Tn(le.cause),Qc),", ")+" }":Qc.length===0?"["+String(le)+"]":"{ ["+String(le)+"] "+E.call(Qc,", ")+" }"}if(typeof le=="object"&&zn){if(G&&typeof le[G]=="function"&&B)return B(le,{depth:ut-Qe});if(zn!=="symbol"&&typeof le.inspect=="function")return le.inspect()}if(qe(le)){var pd=[];return r&&r.call(le,function(oa,Rl){pd.push(Tn(Rl,le,!0)+" => "+Tn(oa,le))}),$t("Map",n.call(le),pd,In)}if(Fe(le)){var Ti=[];return s&&s.call(le,function(oa){Ti.push(Tn(oa,le))}),$t("Set",a.call(le),Ti,In)}if(ze(le))return Kn("WeakMap");if(We(le))return Kn("WeakSet");if(ae(le))return Kn("WeakRef");if(Y(le))return Kt(Tn(Number(le)));if(ye(le))return Kt(Tn(k.call(le)));if(se(le))return Kt(p.call(le));if(J(le))return Kt(Tn(String(le)));if(typeof window<"u"&&le===window)return"{ [object Window] }";if(typeof globalThis<"u"&&le===globalThis||typeof K0<"u"&&le===K0)return"{ [object globalThis] }";if(!H(le)&&!U(le)){var pt=mt(le,Tn),mn=V?V(le)===Object.prototype:le instanceof Object||le.constructor===Object,Nr=le instanceof Object?"":"null prototype",no=!mn&&I&&Object(le)===le&&I in le?y.call(Ce(le),8,-1):Nr?"Object":"",ga=mn||typeof le.constructor!="function"?"":le.constructor.name?le.constructor.name+" ":"",Ns=ga+(no||Nr?"["+E.call(C.call([],no||[],Nr||[]),": ")+"] ":"");return pt.length===0?Ns+"{}":In?Ns+"{"+je(pt,In)+"}":Ns+"{ "+E.call(pt,", ")+" }"}return String(le)};function ee(re,le,Ae){var Qe=Ae.quoteStyle||le,ct=W[Qe];return ct+re+ct}function oe(re){return b.call(String(re),/"/g,"&quot;")}function ce(re){return!I||!(typeof re=="object"&&(I in re||typeof re[I]<"u"))}function X(re){return Ce(re)==="[object Array]"&&ce(re)}function H(re){return Ce(re)==="[object Date]"&&ce(re)}function U(re){return Ce(re)==="[object RegExp]"&&ce(re)}function ne(re){return Ce(re)==="[object Error]"&&ce(re)}function J(re){return Ce(re)==="[object String]"&&ce(re)}function Y(re){return Ce(re)==="[object Number]"&&ce(re)}function se(re){return Ce(re)==="[object Boolean]"&&ce(re)}function he(re){if(L)return re&&typeof re=="object"&&re instanceof Symbol;if(typeof re=="symbol")return!0;if(!re||typeof re!="object"||!D)return!1;try{return D.call(re),!0}catch{}return!1}function ye(re){if(!re||typeof re!="object"||!k)return!1;try{return k.call(re),!0}catch{}return!1}var _e=Object.prototype.hasOwnProperty||function(re){return re in this};function fe(re,le){return _e.call(re,le)}function Ce(re){return v.call(re)}function Oe(re){if(re.name)return re.name;var le=m.call(g.call(re),/^function\s*([\w$]+)/);return le?le[1]:null}function Ue(re,le){if(re.indexOf)return re.indexOf(le);for(var Ae=0,Qe=re.length;Ae<Qe;Ae++)if(re[Ae]===le)return Ae;return-1}function qe(re){if(!n||!re||typeof re!="object")return!1;try{n.call(re);try{a.call(re)}catch{return!0}return re instanceof Map}catch{}return!1}function ze(re){if(!u||!re||typeof re!="object")return!1;try{u.call(re,u);try{f.call(re,f)}catch{return!0}return re instanceof WeakMap}catch{}return!1}function ae(re){if(!h||!re||typeof re!="object")return!1;try{return h.call(re),!0}catch{}return!1}function Fe(re){if(!a||!re||typeof re!="object")return!1;try{a.call(re);try{n.call(re)}catch{return!0}return re instanceof Set}catch{}return!1}function We(re){if(!f||!re||typeof re!="object")return!1;try{f.call(re,f);try{u.call(re,u)}catch{return!0}return re instanceof WeakSet}catch{}return!1}function dn(re){return!re||typeof re!="object"?!1:typeof HTMLElement<"u"&&re instanceof HTMLElement?!0:typeof re.nodeName=="string"&&typeof re.getAttribute=="function"}function At(re,le){if(re.length>le.maxStringLength){var Ae=re.length-le.maxStringLength,Qe="... "+Ae+" more character"+(Ae>1?"s":"");return At(y.call(re,0,le.maxStringLength),le)+Qe}var ct=Z[le.quoteStyle||"single"];ct.lastIndex=0;var Nt=b.call(b.call(re,ct,"\\$1"),/[\x00-\x1f]/g,$e);return ee(Nt,"single",le)}function $e(re){var le=re.charCodeAt(0),Ae={8:"b",9:"t",10:"n",12:"f",13:"r"}[le];return Ae?"\\"+Ae:"\\x"+(le<16?"0":"")+w.call(le.toString(16))}function Kt(re){return"Object("+re+")"}function Kn(re){return re+" { ? }"}function $t(re,le,Ae,Qe){var ct=Qe?je(Ae,Qe):E.call(Ae,", ");return re+" ("+le+") {"+ct+"}"}function wn(re){for(var le=0;le<re.length;le++)if(Ue(re[le],`
`)>=0)return!1;return!0}function $n(re,le){var Ae;if(re.indent==="	")Ae="	";else if(typeof re.indent=="number"&&re.indent>0)Ae=E.call(Array(re.indent+1)," ");else return null;return{base:Ae,prev:E.call(Array(le+1),Ae)}}function je(re,le){if(re.length===0)return"";var Ae=`
`+le.prev+le.base;return Ae+E.call(re,","+Ae)+`
`+le.prev}function mt(re,le){var Ae=X(re),Qe=[];if(Ae){Qe.length=re.length;for(var ct=0;ct<re.length;ct++)Qe[ct]=fe(re,ct)?le(re[ct],re):""}var Nt=typeof M=="function"?M(re):[],zn;if(L){zn={};for(var li=0;li<Nt.length;li++)zn["$"+Nt[li]]=Nt[li]}for(var sr in re)fe(re,sr)&&(Ae&&String(Number(sr))===sr&&sr<re.length||L&&zn["$"+sr]instanceof Symbol||(x.call(/[^\w$]/,sr)?Qe.push(le(sr,re)+": "+le(re[sr],re)):Qe.push(sr+": "+le(re[sr],re))));if(typeof M=="function")for(var Er=0;Er<Nt.length;Er++)R.call(re,Nt[Er])&&Qe.push("["+le(Nt[Er])+"]: "+le(re[Nt[Er]],re));return Qe}return iN}var oN,SZ;function yut(){if(SZ)return oN;SZ=1;var t=jI(),e=v_(),n=function(s,l,u){for(var c=s,f;(f=c.next)!=null;c=f)if(f.key===l)return c.next=f.next,u||(f.next=s.next,s.next=f),f},r=function(s,l){if(s){var u=n(s,l);return u&&u.value}},i=function(s,l,u){var c=n(s,l);c?c.value=u:s.next={key:l,next:s.next,value:u}},o=function(s,l){return s?!!n(s,l):!1},a=function(s,l){if(s)return n(s,l,!0)};return oN=function(){var l,u={assert:function(c){if(!u.has(c))throw new e("Side channel does not contain "+t(c))},delete:function(c){var f=l&&l.next,d=a(l,c);return d&&f&&f===d&&(l=void 0),!!d},get:function(c){return r(l,c)},has:function(c){return o(l,c)},set:function(c,f){l||(l={next:void 0}),i(l,c,f)}};return u},oN}var aN,xZ;function Fme(){return xZ||(xZ=1,aN=Object),aN}var sN,CZ;function but(){return CZ||(CZ=1,sN=Error),sN}var lN,EZ;function _ut(){return EZ||(EZ=1,lN=EvalError),lN}var uN,TZ;function wut(){return TZ||(TZ=1,uN=RangeError),uN}var cN,AZ;function Sut(){return AZ||(AZ=1,cN=ReferenceError),cN}var fN,kZ;function xut(){return kZ||(kZ=1,fN=SyntaxError),fN}var dN,MZ;function Cut(){return MZ||(MZ=1,dN=URIError),dN}var hN,PZ;function Eut(){return PZ||(PZ=1,hN=Math.abs),hN}var pN,OZ;function Tut(){return OZ||(OZ=1,pN=Math.floor),pN}var vN,IZ;function Aut(){return IZ||(IZ=1,vN=Math.max),vN}var gN,RZ;function kut(){return RZ||(RZ=1,gN=Math.min),gN}var mN,LZ;function Mut(){return LZ||(LZ=1,mN=Math.pow),mN}var yN,DZ;function Put(){return DZ||(DZ=1,yN=Math.round),yN}var bN,NZ;function Out(){return NZ||(NZ=1,bN=Number.isNaN||function(e){return e!==e}),bN}var _N,BZ;function Iut(){if(BZ)return _N;BZ=1;var t=Out();return _N=function(n){return t(n)||n===0?n:n<0?-1:1},_N}var wN,$Z;function Rut(){return $Z||($Z=1,wN=Object.getOwnPropertyDescriptor),wN}var SN,FZ;function Vme(){if(FZ)return SN;FZ=1;var t=Rut();if(t)try{t([],"length")}catch{t=null}return SN=t,SN}var xN,VZ;function Lut(){if(VZ)return xN;VZ=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return xN=t,xN}var CN,zZ;function Dut(){return zZ||(zZ=1,CN=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,n);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),CN}var EN,HZ;function Nut(){if(HZ)return EN;HZ=1;var t=typeof Symbol<"u"&&Symbol,e=Dut();return EN=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},EN}var TN,jZ;function zme(){return jZ||(jZ=1,TN=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),TN}var AN,GZ;function Hme(){if(GZ)return AN;GZ=1;var t=Fme();return AN=t.getPrototypeOf||null,AN}var kN,UZ;function But(){if(UZ)return kN;UZ=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(l,u){for(var c=[],f=0;f<l.length;f+=1)c[f]=l[f];for(var d=0;d<u.length;d+=1)c[d+l.length]=u[d];return c},o=function(l,u){for(var c=[],f=u,d=0;f<l.length;f+=1,d+=1)c[d]=l[f];return c},a=function(s,l){for(var u="",c=0;c<s.length;c+=1)u+=s[c],c+1<s.length&&(u+=l);return u};return kN=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==r)throw new TypeError(t+u);for(var c=o(arguments,1),f,d=function(){if(this instanceof f){var m=u.apply(this,i(c,arguments));return Object(m)===m?m:this}return u.apply(l,i(c,arguments))},h=n(0,u.length-c.length),p=[],v=0;v<h;v++)p[v]="$"+v;if(f=Function("binder","return function ("+a(p,",")+"){ return binder.apply(this,arguments); }")(d),u.prototype){var g=function(){};g.prototype=u.prototype,f.prototype=new g,g.prototype=null}return f},kN}var MN,WZ;function GI(){if(WZ)return MN;WZ=1;var t=But();return MN=Function.prototype.bind||t,MN}var PN,qZ;function fj(){return qZ||(qZ=1,PN=Function.prototype.call),PN}var ON,KZ;function jme(){return KZ||(KZ=1,ON=Function.prototype.apply),ON}var IN,YZ;function $ut(){return YZ||(YZ=1,IN=typeof Reflect<"u"&&Reflect&&Reflect.apply),IN}var RN,XZ;function Fut(){if(XZ)return RN;XZ=1;var t=GI(),e=jme(),n=fj(),r=$ut();return RN=r||t.call(n,e),RN}var LN,ZZ;function Gme(){if(ZZ)return LN;ZZ=1;var t=GI(),e=v_(),n=fj(),r=Fut();return LN=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return r(t,n,o)},LN}var DN,JZ;function Vut(){if(JZ)return DN;JZ=1;var t=Gme(),e=Vme(),n;try{n=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return DN=r&&typeof r.get=="function"?t([r.get]):typeof o=="function"?function(s){return o(s==null?s:i(s))}:!1,DN}var NN,QZ;function zut(){if(QZ)return NN;QZ=1;var t=zme(),e=Hme(),n=Vut();return NN=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,NN}var BN,eJ;function Hut(){if(eJ)return BN;eJ=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=GI();return BN=n.call(t,e),BN}var $N,tJ;function dj(){if(tJ)return $N;tJ=1;var t,e=Fme(),n=but(),r=_ut(),i=wut(),o=Sut(),a=xut(),s=v_(),l=Cut(),u=Eut(),c=Tut(),f=Aut(),d=kut(),h=Mut(),p=Put(),v=Iut(),g=Function,m=function(U){try{return g('"use strict"; return ('+U+").constructor;")()}catch{}},y=Vme(),b=Lut(),w=function(){throw new s},S=y?(function(){try{return arguments.callee,w}catch{try{return y(arguments,"callee").get}catch{return w}}})():w,x=Nut()(),C=zut(),E=Hme(),T=zme(),A=jme(),k=fj(),M={},D=typeof Uint8Array>"u"||!C?t:C(Uint8Array),L={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":x&&C?C([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":M,"%AsyncGenerator%":M,"%AsyncGeneratorFunction%":M,"%AsyncIteratorPrototype%":M,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":g,"%GeneratorFunction%":M,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":x&&C?C(C([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!x||!C?t:C(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":y,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!x||!C?t:C(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":x&&C?C(""[Symbol.iterator]()):t,"%Symbol%":x?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":S,"%TypedArray%":D,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":k,"%Function.prototype.apply%":A,"%Object.defineProperty%":b,"%Object.getPrototypeOf%":E,"%Math.abs%":u,"%Math.floor%":c,"%Math.max%":f,"%Math.min%":d,"%Math.pow%":h,"%Math.round%":p,"%Math.sign%":v,"%Reflect.getPrototypeOf%":T};if(C)try{null.error}catch(U){var I=C(C(U));L["%Error.prototype%"]=I}var R=function U(ne){var J;if(ne==="%AsyncFunction%")J=m("async function () {}");else if(ne==="%GeneratorFunction%")J=m("function* () {}");else if(ne==="%AsyncGeneratorFunction%")J=m("async function* () {}");else if(ne==="%AsyncGenerator%"){var Y=U("%AsyncGeneratorFunction%");Y&&(J=Y.prototype)}else if(ne==="%AsyncIteratorPrototype%"){var se=U("%AsyncGenerator%");se&&C&&(J=C(se.prototype))}return L[ne]=J,J},V={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},P=GI(),B=Hut(),j=P.call(k,Array.prototype.concat),G=P.call(A,Array.prototype.splice),W=P.call(k,String.prototype.replace),Z=P.call(k,String.prototype.slice),ee=P.call(k,RegExp.prototype.exec),oe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ce=/\\(\\)?/g,X=function(ne){var J=Z(ne,0,1),Y=Z(ne,-1);if(J==="%"&&Y!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(Y==="%"&&J!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var se=[];return W(ne,oe,function(he,ye,_e,fe){se[se.length]=_e?W(fe,ce,"$1"):ye||he}),se},H=function(ne,J){var Y=ne,se;if(B(V,Y)&&(se=V[Y],Y="%"+se[0]+"%"),B(L,Y)){var he=L[Y];if(he===M&&(he=R(Y)),typeof he>"u"&&!J)throw new s("intrinsic "+ne+" exists, but is not available. Please file an issue!");return{alias:se,name:Y,value:he}}throw new a("intrinsic "+ne+" does not exist!")};return $N=function(ne,J){if(typeof ne!="string"||ne.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof J!="boolean")throw new s('"allowMissing" argument must be a boolean');if(ee(/^%?[^%]*%?$/,ne)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Y=X(ne),se=Y.length>0?Y[0]:"",he=H("%"+se+"%",J),ye=he.name,_e=he.value,fe=!1,Ce=he.alias;Ce&&(se=Ce[0],G(Y,j([0,1],Ce)));for(var Oe=1,Ue=!0;Oe<Y.length;Oe+=1){var qe=Y[Oe],ze=Z(qe,0,1),ae=Z(qe,-1);if((ze==='"'||ze==="'"||ze==="`"||ae==='"'||ae==="'"||ae==="`")&&ze!==ae)throw new a("property names with quotes must have matching quotes");if((qe==="constructor"||!Ue)&&(fe=!0),se+="."+qe,ye="%"+se+"%",B(L,ye))_e=L[ye];else if(_e!=null){if(!(qe in _e)){if(!J)throw new s("base intrinsic for "+ne+" exists, but the property is not available.");return}if(y&&Oe+1>=Y.length){var Fe=y(_e,qe);Ue=!!Fe,Ue&&"get"in Fe&&!("originalValue"in Fe.get)?_e=Fe.get:_e=_e[qe]}else Ue=B(_e,qe),_e=_e[qe];Ue&&!fe&&(L[ye]=_e)}}return _e},$N}var FN,nJ;function Ume(){if(nJ)return FN;nJ=1;var t=dj(),e=Gme(),n=e([t("%String.prototype.indexOf%")]);return FN=function(i,o){var a=t(i,!!o);return typeof a=="function"&&n(i,".prototype.")>-1?e([a]):a},FN}var VN,rJ;function Wme(){if(rJ)return VN;rJ=1;var t=dj(),e=Ume(),n=jI(),r=v_(),i=t("%Map%",!0),o=e("Map.prototype.get",!0),a=e("Map.prototype.set",!0),s=e("Map.prototype.has",!0),l=e("Map.prototype.delete",!0),u=e("Map.prototype.size",!0);return VN=!!i&&function(){var f,d={assert:function(h){if(!d.has(h))throw new r("Side channel does not contain "+n(h))},delete:function(h){if(f){var p=l(f,h);return u(f)===0&&(f=void 0),p}return!1},get:function(h){if(f)return o(f,h)},has:function(h){return f?s(f,h):!1},set:function(h,p){f||(f=new i),a(f,h,p)}};return d},VN}var zN,iJ;function jut(){if(iJ)return zN;iJ=1;var t=dj(),e=Ume(),n=jI(),r=Wme(),i=v_(),o=t("%WeakMap%",!0),a=e("WeakMap.prototype.get",!0),s=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),u=e("WeakMap.prototype.delete",!0);return zN=o?function(){var f,d,h={assert:function(p){if(!h.has(p))throw new i("Side channel does not contain "+n(p))},delete:function(p){if(o&&p&&(typeof p=="object"||typeof p=="function")){if(f)return u(f,p)}else if(r&&d)return d.delete(p);return!1},get:function(p){return o&&p&&(typeof p=="object"||typeof p=="function")&&f?a(f,p):d&&d.get(p)},has:function(p){return o&&p&&(typeof p=="object"||typeof p=="function")&&f?l(f,p):!!d&&d.has(p)},set:function(p,v){o&&p&&(typeof p=="object"||typeof p=="function")?(f||(f=new o),s(f,p,v)):r&&(d||(d=r()),d.set(p,v))}};return h}:r,zN}var HN,oJ;function Gut(){if(oJ)return HN;oJ=1;var t=v_(),e=jI(),n=yut(),r=Wme(),i=jut(),o=i||r||n;return HN=function(){var s,l={assert:function(u){if(!l.has(u))throw new t("Side channel does not contain "+e(u))},delete:function(u){return!!s&&s.delete(u)},get:function(u){return s&&s.get(u)},has:function(u){return!!s&&s.has(u)},set:function(u,c){s||(s=o()),s.set(u,c)}};return l},HN}var jN,aJ;function hj(){if(aJ)return jN;aJ=1;var t=String.prototype.replace,e=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};return jN={default:n.RFC3986,formatters:{RFC1738:function(r){return t.call(r,e,"+")},RFC3986:function(r){return String(r)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986},jN}var GN,sJ;function qme(){if(sJ)return GN;sJ=1;var t=hj(),e=Object.prototype.hasOwnProperty,n=Array.isArray,r=(function(){for(var g=[],m=0;m<256;++m)g.push("%"+((m<16?"0":"")+m.toString(16)).toUpperCase());return g})(),i=function(m){for(;m.length>1;){var y=m.pop(),b=y.obj[y.prop];if(n(b)){for(var w=[],S=0;S<b.length;++S)typeof b[S]<"u"&&w.push(b[S]);y.obj[y.prop]=w}}},o=function(m,y){for(var b=y&&y.plainObjects?{__proto__:null}:{},w=0;w<m.length;++w)typeof m[w]<"u"&&(b[w]=m[w]);return b},a=function g(m,y,b){if(!y)return m;if(typeof y!="object"&&typeof y!="function"){if(n(m))m.push(y);else if(m&&typeof m=="object")(b&&(b.plainObjects||b.allowPrototypes)||!e.call(Object.prototype,y))&&(m[y]=!0);else return[m,y];return m}if(!m||typeof m!="object")return[m].concat(y);var w=m;return n(m)&&!n(y)&&(w=o(m,b)),n(m)&&n(y)?(y.forEach(function(S,x){if(e.call(m,x)){var C=m[x];C&&typeof C=="object"&&S&&typeof S=="object"?m[x]=g(C,S,b):m.push(S)}else m[x]=S}),m):Object.keys(y).reduce(function(S,x){var C=y[x];return e.call(S,x)?S[x]=g(S[x],C,b):S[x]=C,S},w)},s=function(m,y){return Object.keys(y).reduce(function(b,w){return b[w]=y[w],b},m)},l=function(g,m,y){var b=g.replace(/\+/g," ");if(y==="iso-8859-1")return b.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(b)}catch{return b}},u=1024,c=function(m,y,b,w,S){if(m.length===0)return m;var x=m;if(typeof m=="symbol"?x=Symbol.prototype.toString.call(m):typeof m!="string"&&(x=String(m)),b==="iso-8859-1")return escape(x).replace(/%u[0-9a-f]{4}/gi,function(D){return"%26%23"+parseInt(D.slice(2),16)+"%3B"});for(var C="",E=0;E<x.length;E+=u){for(var T=x.length>=u?x.slice(E,E+u):x,A=[],k=0;k<T.length;++k){var M=T.charCodeAt(k);if(M===45||M===46||M===95||M===126||M>=48&&M<=57||M>=65&&M<=90||M>=97&&M<=122||S===t.RFC1738&&(M===40||M===41)){A[A.length]=T.charAt(k);continue}if(M<128){A[A.length]=r[M];continue}if(M<2048){A[A.length]=r[192|M>>6]+r[128|M&63];continue}if(M<55296||M>=57344){A[A.length]=r[224|M>>12]+r[128|M>>6&63]+r[128|M&63];continue}k+=1,M=65536+((M&1023)<<10|T.charCodeAt(k)&1023),A[A.length]=r[240|M>>18]+r[128|M>>12&63]+r[128|M>>6&63]+r[128|M&63]}C+=A.join("")}return C},f=function(m){for(var y=[{obj:{o:m},prop:"o"}],b=[],w=0;w<y.length;++w)for(var S=y[w],x=S.obj[S.prop],C=Object.keys(x),E=0;E<C.length;++E){var T=C[E],A=x[T];typeof A=="object"&&A!==null&&b.indexOf(A)===-1&&(y.push({obj:x,prop:T}),b.push(A))}return i(y),m},d=function(m){return Object.prototype.toString.call(m)==="[object RegExp]"},h=function(m){return!m||typeof m!="object"?!1:!!(m.constructor&&m.constructor.isBuffer&&m.constructor.isBuffer(m))},p=function(m,y){return[].concat(m,y)},v=function(m,y){if(n(m)){for(var b=[],w=0;w<m.length;w+=1)b.push(y(m[w]));return b}return y(m)};return GN={arrayToObject:o,assign:s,combine:p,compact:f,decode:l,encode:c,isBuffer:h,isRegExp:d,maybeMap:v,merge:a},GN}var UN,lJ;function Uut(){if(lJ)return UN;lJ=1;var t=Gut(),e=qme(),n=hj(),r=Object.prototype.hasOwnProperty,i={brackets:function(g){return g+"[]"},comma:"comma",indices:function(g,m){return g+"["+m+"]"},repeat:function(g){return g}},o=Array.isArray,a=Array.prototype.push,s=function(v,g){a.apply(v,o(g)?g:[g])},l=Date.prototype.toISOString,u=n.default,c={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:u,formatter:n.formatters[u],indices:!1,serializeDate:function(g){return l.call(g)},skipNulls:!1,strictNullHandling:!1},f=function(g){return typeof g=="string"||typeof g=="number"||typeof g=="boolean"||typeof g=="symbol"||typeof g=="bigint"},d={},h=function v(g,m,y,b,w,S,x,C,E,T,A,k,M,D,L,I,R,V){for(var P=g,B=V,j=0,G=!1;(B=B.get(d))!==void 0&&!G;){var W=B.get(g);if(j+=1,typeof W<"u"){if(W===j)throw new RangeError("Cyclic object value");G=!0}typeof B.get(d)>"u"&&(j=0)}if(typeof T=="function"?P=T(m,P):P instanceof Date?P=M(P):y==="comma"&&o(P)&&(P=e.maybeMap(P,function(ye){return ye instanceof Date?M(ye):ye})),P===null){if(S)return E&&!I?E(m,c.encoder,R,"key",D):m;P=""}if(f(P)||e.isBuffer(P)){if(E){var Z=I?m:E(m,c.encoder,R,"key",D);return[L(Z)+"="+L(E(P,c.encoder,R,"value",D))]}return[L(m)+"="+L(String(P))]}var ee=[];if(typeof P>"u")return ee;var oe;if(y==="comma"&&o(P))I&&E&&(P=e.maybeMap(P,E)),oe=[{value:P.length>0?P.join(",")||null:void 0}];else if(o(T))oe=T;else{var ce=Object.keys(P);oe=A?ce.sort(A):ce}var X=C?String(m).replace(/\./g,"%2E"):String(m),H=b&&o(P)&&P.length===1?X+"[]":X;if(w&&o(P)&&P.length===0)return H+"[]";for(var U=0;U<oe.length;++U){var ne=oe[U],J=typeof ne=="object"&&ne&&typeof ne.value<"u"?ne.value:P[ne];if(!(x&&J===null)){var Y=k&&C?String(ne).replace(/\./g,"%2E"):String(ne),se=o(P)?typeof y=="function"?y(H,Y):H:H+(k?"."+Y:"["+Y+"]");V.set(g,j);var he=t();he.set(d,V),s(ee,v(J,se,y,b,w,S,x,C,y==="comma"&&I&&o(P)?null:E,T,A,k,M,D,L,I,R,he))}}return ee},p=function(g){if(!g)return c;if(typeof g.allowEmptyArrays<"u"&&typeof g.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof g.encodeDotInKeys<"u"&&typeof g.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(g.encoder!==null&&typeof g.encoder<"u"&&typeof g.encoder!="function")throw new TypeError("Encoder has to be a function.");var m=g.charset||c.charset;if(typeof g.charset<"u"&&g.charset!=="utf-8"&&g.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var y=n.default;if(typeof g.format<"u"){if(!r.call(n.formatters,g.format))throw new TypeError("Unknown format option provided.");y=g.format}var b=n.formatters[y],w=c.filter;(typeof g.filter=="function"||o(g.filter))&&(w=g.filter);var S;if(g.arrayFormat in i?S=g.arrayFormat:"indices"in g?S=g.indices?"indices":"repeat":S=c.arrayFormat,"commaRoundTrip"in g&&typeof g.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var x=typeof g.allowDots>"u"?g.encodeDotInKeys===!0?!0:c.allowDots:!!g.allowDots;return{addQueryPrefix:typeof g.addQueryPrefix=="boolean"?g.addQueryPrefix:c.addQueryPrefix,allowDots:x,allowEmptyArrays:typeof g.allowEmptyArrays=="boolean"?!!g.allowEmptyArrays:c.allowEmptyArrays,arrayFormat:S,charset:m,charsetSentinel:typeof g.charsetSentinel=="boolean"?g.charsetSentinel:c.charsetSentinel,commaRoundTrip:!!g.commaRoundTrip,delimiter:typeof g.delimiter>"u"?c.delimiter:g.delimiter,encode:typeof g.encode=="boolean"?g.encode:c.encode,encodeDotInKeys:typeof g.encodeDotInKeys=="boolean"?g.encodeDotInKeys:c.encodeDotInKeys,encoder:typeof g.encoder=="function"?g.encoder:c.encoder,encodeValuesOnly:typeof g.encodeValuesOnly=="boolean"?g.encodeValuesOnly:c.encodeValuesOnly,filter:w,format:y,formatter:b,serializeDate:typeof g.serializeDate=="function"?g.serializeDate:c.serializeDate,skipNulls:typeof g.skipNulls=="boolean"?g.skipNulls:c.skipNulls,sort:typeof g.sort=="function"?g.sort:null,strictNullHandling:typeof g.strictNullHandling=="boolean"?g.strictNullHandling:c.strictNullHandling}};return UN=function(v,g){var m=v,y=p(g),b,w;typeof y.filter=="function"?(w=y.filter,m=w("",m)):o(y.filter)&&(w=y.filter,b=w);var S=[];if(typeof m!="object"||m===null)return"";var x=i[y.arrayFormat],C=x==="comma"&&y.commaRoundTrip;b||(b=Object.keys(m)),y.sort&&b.sort(y.sort);for(var E=t(),T=0;T<b.length;++T){var A=b[T],k=m[A];y.skipNulls&&k===null||s(S,h(k,A,x,C,y.allowEmptyArrays,y.strictNullHandling,y.skipNulls,y.encodeDotInKeys,y.encode?y.encoder:null,y.filter,y.sort,y.allowDots,y.serializeDate,y.format,y.formatter,y.encodeValuesOnly,y.charset,E))}var M=S.join(y.delimiter),D=y.addQueryPrefix===!0?"?":"";return y.charsetSentinel&&(y.charset==="iso-8859-1"?D+="utf8=%26%2310003%3B&":D+="utf8=%E2%9C%93&"),M.length>0?D+M:""},UN}var WN,uJ;function Wut(){if(uJ)return WN;uJ=1;var t=qme(),e=Object.prototype.hasOwnProperty,n=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:t.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},i=function(d){return d.replace(/&#(\d+);/g,function(h,p){return String.fromCharCode(parseInt(p,10))})},o=function(d,h,p){if(d&&typeof d=="string"&&h.comma&&d.indexOf(",")>-1)return d.split(",");if(h.throwOnLimitExceeded&&p>=h.arrayLimit)throw new RangeError("Array limit exceeded. Only "+h.arrayLimit+" element"+(h.arrayLimit===1?"":"s")+" allowed in an array.");return d},a="utf8=%26%2310003%3B",s="utf8=%E2%9C%93",l=function(h,p){var v={__proto__:null},g=p.ignoreQueryPrefix?h.replace(/^\?/,""):h;g=g.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var m=p.parameterLimit===1/0?void 0:p.parameterLimit,y=g.split(p.delimiter,p.throwOnLimitExceeded?m+1:m);if(p.throwOnLimitExceeded&&y.length>m)throw new RangeError("Parameter limit exceeded. Only "+m+" parameter"+(m===1?"":"s")+" allowed.");var b=-1,w,S=p.charset;if(p.charsetSentinel)for(w=0;w<y.length;++w)y[w].indexOf("utf8=")===0&&(y[w]===s?S="utf-8":y[w]===a&&(S="iso-8859-1"),b=w,w=y.length);for(w=0;w<y.length;++w)if(w!==b){var x=y[w],C=x.indexOf("]="),E=C===-1?x.indexOf("="):C+1,T,A;E===-1?(T=p.decoder(x,r.decoder,S,"key"),A=p.strictNullHandling?null:""):(T=p.decoder(x.slice(0,E),r.decoder,S,"key"),A=t.maybeMap(o(x.slice(E+1),p,n(v[T])?v[T].length:0),function(M){return p.decoder(M,r.decoder,S,"value")})),A&&p.interpretNumericEntities&&S==="iso-8859-1"&&(A=i(String(A))),x.indexOf("[]=")>-1&&(A=n(A)?[A]:A);var k=e.call(v,T);k&&p.duplicates==="combine"?v[T]=t.combine(v[T],A):(!k||p.duplicates==="last")&&(v[T]=A)}return v},u=function(d,h,p,v){var g=0;if(d.length>0&&d[d.length-1]==="[]"){var m=d.slice(0,-1).join("");g=Array.isArray(h)&&h[m]?h[m].length:0}for(var y=v?h:o(h,p,g),b=d.length-1;b>=0;--b){var w,S=d[b];if(S==="[]"&&p.parseArrays)w=p.allowEmptyArrays&&(y===""||p.strictNullHandling&&y===null)?[]:t.combine([],y);else{w=p.plainObjects?{__proto__:null}:{};var x=S.charAt(0)==="["&&S.charAt(S.length-1)==="]"?S.slice(1,-1):S,C=p.decodeDotInKeys?x.replace(/%2E/g,"."):x,E=parseInt(C,10);!p.parseArrays&&C===""?w={0:y}:!isNaN(E)&&S!==C&&String(E)===C&&E>=0&&p.parseArrays&&E<=p.arrayLimit?(w=[],w[E]=y):C!=="__proto__"&&(w[C]=y)}y=w}return y},c=function(h,p,v,g){if(h){var m=v.allowDots?h.replace(/\.([^.[]+)/g,"[$1]"):h,y=/(\[[^[\]]*])/,b=/(\[[^[\]]*])/g,w=v.depth>0&&y.exec(m),S=w?m.slice(0,w.index):m,x=[];if(S){if(!v.plainObjects&&e.call(Object.prototype,S)&&!v.allowPrototypes)return;x.push(S)}for(var C=0;v.depth>0&&(w=b.exec(m))!==null&&C<v.depth;){if(C+=1,!v.plainObjects&&e.call(Object.prototype,w[1].slice(1,-1))&&!v.allowPrototypes)return;x.push(w[1])}if(w){if(v.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+v.depth+" and strictDepth is true");x.push("["+m.slice(w.index)+"]")}return u(x,p,v,g)}},f=function(h){if(!h)return r;if(typeof h.allowEmptyArrays<"u"&&typeof h.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof h.decodeDotInKeys<"u"&&typeof h.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(h.decoder!==null&&typeof h.decoder<"u"&&typeof h.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof h.charset<"u"&&h.charset!=="utf-8"&&h.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof h.throwOnLimitExceeded<"u"&&typeof h.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var p=typeof h.charset>"u"?r.charset:h.charset,v=typeof h.duplicates>"u"?r.duplicates:h.duplicates;if(v!=="combine"&&v!=="first"&&v!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var g=typeof h.allowDots>"u"?h.decodeDotInKeys===!0?!0:r.allowDots:!!h.allowDots;return{allowDots:g,allowEmptyArrays:typeof h.allowEmptyArrays=="boolean"?!!h.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof h.allowPrototypes=="boolean"?h.allowPrototypes:r.allowPrototypes,allowSparse:typeof h.allowSparse=="boolean"?h.allowSparse:r.allowSparse,arrayLimit:typeof h.arrayLimit=="number"?h.arrayLimit:r.arrayLimit,charset:p,charsetSentinel:typeof h.charsetSentinel=="boolean"?h.charsetSentinel:r.charsetSentinel,comma:typeof h.comma=="boolean"?h.comma:r.comma,decodeDotInKeys:typeof h.decodeDotInKeys=="boolean"?h.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof h.decoder=="function"?h.decoder:r.decoder,delimiter:typeof h.delimiter=="string"||t.isRegExp(h.delimiter)?h.delimiter:r.delimiter,depth:typeof h.depth=="number"||h.depth===!1?+h.depth:r.depth,duplicates:v,ignoreQueryPrefix:h.ignoreQueryPrefix===!0,interpretNumericEntities:typeof h.interpretNumericEntities=="boolean"?h.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof h.parameterLimit=="number"?h.parameterLimit:r.parameterLimit,parseArrays:h.parseArrays!==!1,plainObjects:typeof h.plainObjects=="boolean"?h.plainObjects:r.plainObjects,strictDepth:typeof h.strictDepth=="boolean"?!!h.strictDepth:r.strictDepth,strictNullHandling:typeof h.strictNullHandling=="boolean"?h.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:typeof h.throwOnLimitExceeded=="boolean"?h.throwOnLimitExceeded:!1}};return WN=function(d,h){var p=f(h);if(d===""||d===null||typeof d>"u")return p.plainObjects?{__proto__:null}:{};for(var v=typeof d=="string"?l(d,p):d,g=p.plainObjects?{__proto__:null}:{},m=Object.keys(v),y=0;y<m.length;++y){var b=m[y],w=c(b,v[b],p,typeof d=="string");g=t.merge(g,w,p)}return p.allowSparse===!0?g:t.compact(g)},WN}var qN,cJ;function qut(){if(cJ)return qN;cJ=1;var t=Uut(),e=Wut(),n=hj();return qN={formats:n,parse:e,stringify:t},qN}var Kut=qut();const Hn=nu(Kut),UI=ue({__name:"CreatePipeline",props:{pipeline_info:Map},setup(t){const e=["","","",""],n=F(["",""]),r=F(),i=F(!1),o=t,a=F([]),s=F(),l=Bn({pipeline_id:"",project:0,pipeline_name:"",ct_time:"",users:"",monitor_way:0,timeout:"",tags:"",desc:""}),u=Bn({project:[{required:!0,message:"",trigger:"blur"}],pipeline_name:[{required:!0,message:"",trigger:"blur"},{min:1,max:64,message:"64",trigger:"blur"}],ct_time:[{required:!1,message:"",trigger:"change"}],users:[{required:!1,message:"",trigger:"change"}],monitor_way:[{required:!1,message:"",trigger:"change"}],timeout:[{required:!0,message:"",trigger:"change"}],tags:[{required:!1,message:"",trigger:"change"}],desc:[{required:!0,message:"",trigger:"change"}]}),c=async m=>{console.log(l);var y=l.project;l.users="";for(const S of r.value)l.users+=S+",";var b=0;console.log(n.value),n.value.indexOf("")>=0&&(b|=1,console.log("monitor: ",1)),n.value.indexOf("")>=0&&(b|=2,console.log("monitor: ",2)),n.value.indexOf("")>=0&&(b|=4,console.log("monitor: ",4)),n.value.indexOf("")>=0&&(b|=8,console.log("monitor: ",8));var w={name:l.pipeline_name,ct_time:l.ct_time,principal:l.users,monitor_way:b,life_cycle:l.timeout,description:l.desc,project_id:y,tags:l.tags.toString(),type:0};console.log(w),m&&await m.validate((S,x)=>{S?l.pipeline_id?Et.post("/pipeline/update/"+l.pipeline_id+"/",Hn.stringify(w)).then(C=>{C.data.status!=0?st.warning(": "+C.data.msg):(l.project,st.success(""),Me.emit("success_update_pipeline",""))}).catch(C=>{st.error(": "+C)}):Et.post("/pipeline/create/",Hn.stringify(w)).then(C=>{if(C.data.status!=0)st.error(": "+C.data.msg);else{var E=l.project;st.success(""),w.pid=E,w.text=l.pipeline_name,w.is_project=!1,w.id=E+"-"+C.data.pipeline_id,w.pipe_id=C.data.pipeline_id,Me.emit("success_create_pipeline",w)}}).catch(C=>{st.error(": "+C)}):(console.log("error submit!",x),st.error(" "+x))})},f=m=>{m&&(m.resetFields(),o.pipeline_info&&(l.project=o.pipeline_info.project_id))},d=async()=>{await Et.get("/pipeline/get_project_tree/",{params:{}}).then(m=>{a.value=m.data}).catch(m=>{st.error(": "+m)})};Jt(()=>{if(d(),p(),l.project=o.pipeline_info.project_id,o.pipeline_info){o.pipeline_info.id>0&&o.pipeline_info.name!=""&&(i.value=!0),l.pipeline_id=o.pipeline_info.id,l.pipeline_name=o.pipeline_info.name,l.ct_time=o.pipeline_info.ct_time,l.desc=o.pipeline_info.description,n.value=[],o.pipeline_info.monitor_way&1&&n.value.push(e[0]),o.pipeline_info.monitor_way&2&&n.value.push(e[1]),o.pipeline_info.monitor_way&4&&n.value.push(e[2]),o.pipeline_info.monitor_way&8&&n.value.push(e[3]),l.monitor_way=o.pipeline_info.monitor_way,l.timeout=o.pipeline_info.life_cycle,l.users=o.pipeline_info.principal_id_list;var m=[];for(const y of o.pipeline_info.principal_id_list.split(","))y!=""&&m.push(parseInt(y));r.value=m,l.users=o.pipeline_info.principal_id_list,console.log("init update pipeline:",m,l.users,h.value)}});const h=F([]),p=async()=>{await Et.post("/pipeline/get_user_list/",{}).then(m=>{var y=[];for(const b of m.data.user_list)y.push({id:b.id,name:b.name});console.log(y),console.log("create pipeline: ",o.pipeline_info),h.value=y}).catch(m=>console.log(m))},v=[{text:"",value:new Date},{text:"3",value:()=>{const m=new Date;return m.setTime(m.getTime()+3*3600*1e3*24),m}},{text:"",value:()=>{const m=new Date;return m.setTime(m.getTime()+7*3600*1e3*24*7),m}},{text:"",value:()=>{const m=new Date;return m.setTime(m.getTime()+30*3600*1e3*24*7),m}},{text:"",value:()=>{const m=new Date;return m.setTime(m.getTime()+365*3600*1e3*24*7),m}},{text:"",value:()=>{const m=new Date;return m.setTime(m.getTime()+3*365*3600*1e3*24*7),m}}],g=m=>m.getTime()<Date.now();return(m,y)=>{const b=pe("el-tree-select"),w=pe("el-form-item"),S=pe("el-col"),x=pe("el-input"),C=pe("el-button"),E=pe("el-row"),T=pe("el-alert"),A=pe("el-popover"),k=pe("el-option"),M=pe("el-select"),D=pe("el-checkbox-button"),L=pe("el-checkbox-group"),I=pe("el-date-picker"),R=pe("el-divider"),V=pe("el-form");return N(),de(V,{ref_key:"ruleFormRef",ref:s,style:{"max-width":"600px"},model:l,rules:u,"label-width":"auto","label-position":"left"},{default:$(()=>[O(w,{prop:"project",required:""},{default:$(()=>[O(S,{span:24},{default:$(()=>[O(w,{prop:"project",label:"",required:""},{default:$(()=>[O(b,{modelValue:l.project,"onUpdate:modelValue":y[0]||(y[0]=P=>l.project=P),data:a.value,"check-strictly":"","node-key":"id"},null,8,["modelValue","data"])]),_:1})]),_:1})]),_:1}),O(w,{label:"",prop:"pipeline_name"},{default:$(()=>[O(x,{modelValue:l.pipeline_name,"onUpdate:modelValue":y[1]||(y[1]=P=>l.pipeline_name=P)},null,8,["modelValue"])]),_:1}),O(w,{label:"",prop:"ct_time"},{default:$(()=>[O(x,{modelValue:l.ct_time,"onUpdate:modelValue":y[2]||(y[2]=P=>l.ct_time=P),placeholder:"",style:{"margin-top":"0px",width:"91%"}},null,8,["modelValue"]),O(A,{placement:"right",width:520,trigger:"hover"},{reference:$(()=>[O(C,{style:{"margin-left":"12px"},icon:_(LM),circle:""},null,8,["icon"])]),default:$(()=>[O(T,{type:"info","show-icon":"",closable:!1,style:"border: 1px solid --el-color-primary;"},{default:$(()=>[y[24]||(y[24]=K("p",null,'"" crontab:',-1)),O(E,null,{default:$(()=>[O(S,{span:14},{default:$(()=>[...y[10]||(y[10]=[K("p",{style:{"margin-top":"0px","margin-right":"20px","text-align":"left"}},"",-1)])]),_:1}),O(S,{span:10},{default:$(()=>[...y[11]||(y[11]=[K("p",{style:{"margin-top":"0px"}},"* * * * *",-1)])]),_:1})]),_:1}),O(E,{style:{"margin-top":"0px"}},{default:$(()=>[O(S,{span:14},{default:$(()=>[...y[12]||(y[12]=[K("p",{style:{"margin-top":"0px","margin-right":"20px","text-align":"left"}},"10",-1)])]),_:1}),O(S,{span:10},{default:$(()=>[...y[13]||(y[13]=[K("p",{style:{"margin-top":"0px"}},"*/10 * * * *",-1)])]),_:1})]),_:1}),O(E,{style:{"margin-top":"0px"}},{default:$(()=>[O(S,{span:14},{default:$(()=>[...y[14]||(y[14]=[K("p",{style:{"margin-top":"0px","margin-right":"20px","text-align":"left"}},"10",-1)])]),_:1}),O(S,{span:10},{default:$(()=>[...y[15]||(y[15]=[K("p",{style:{"margin-top":"0px"}},"10 * * * *",-1)])]),_:1})]),_:1}),O(E,{style:{"margin-top":"0px"}},{default:$(()=>[O(S,{span:14},{default:$(()=>[...y[16]||(y[16]=[K("p",{style:{"margin-top":"0px","margin-right":"20px","text-align":"left"}},"1210",-1)])]),_:1}),O(S,{span:10},{default:$(()=>[...y[17]||(y[17]=[K("p",{style:{"margin-top":"0px"}},"10 12 * * *",-1)])]),_:1})]),_:1}),O(E,{style:{"margin-top":"0px"}},{default:$(()=>[O(S,{span:14},{default:$(()=>[...y[18]||(y[18]=[K("p",{style:{"margin-top":"0px","margin-right":"20px","text-align":"left"}},"121210",-1)])]),_:1}),O(S,{span:10},{default:$(()=>[...y[19]||(y[19]=[K("p",{style:{"margin-top":"0px"}},"10 12 12 * *",-1)])]),_:1})]),_:1}),O(E,{style:{"margin-top":"0px"}},{default:$(()=>[O(S,{span:14},{default:$(()=>[...y[20]||(y[20]=[K("p",{style:{"margin-top":"0px","margin-right":"20px","text-align":"left"}},"1121210",-1)])]),_:1}),O(S,{span:10},{default:$(()=>[...y[21]||(y[21]=[K("p",{style:{"margin-top":"0px"}},"10 12 12 1 *",-1)])]),_:1})]),_:1}),O(E,{style:{"margin-top":"0px"}},{default:$(()=>[O(S,{span:14},{default:$(()=>[...y[22]||(y[22]=[K("p",{style:{"margin-top":"0px","margin-right":"20px","text-align":"left"}},"1210",-1)])]),_:1}),O(S,{span:10},{default:$(()=>[...y[23]||(y[23]=[K("p",{style:{"margin-top":"0px"}},"10 12 * * 1",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),O(w,{label:":",prop:"users",style:{"margin-top":"17px"}},{default:$(()=>[O(M,{modelValue:r.value,"onUpdate:modelValue":y[3]||(y[3]=P=>r.value=P),multiple:"",clearable:"",filterable:"",placeholder:"Select"},{default:$(()=>[(N(!0),Q(ft,null,gn(h.value,P=>(N(),de(k,{key:P.id,label:P.name,value:P.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),O(w,{label:":",prop:"priority",style:{"margin-top":"17px"}},{default:$(()=>[O(L,{modelValue:n.value,"onUpdate:modelValue":y[4]||(y[4]=P=>n.value=P),size:"large"},{default:$(()=>[(N(),Q(ft,null,gn(e,P=>O(D,{key:P,value:P},{default:$(()=>[Be(Ne(P),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),O(w,{label:"",prop:"timeout"},{default:$(()=>[O(I,{modelValue:l.timeout,"onUpdate:modelValue":y[5]||(y[5]=P=>l.timeout=P),type:"date",placeholder:"","disabled-date":g,"value-format":"YYYY-MM-DD",shortcuts:v,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),O(w,{label:"",prop:"desc",required:""},{default:$(()=>[O(x,{modelValue:l.desc,"onUpdate:modelValue":y[6]||(y[6]=P=>l.desc=P),type:"textarea",placeholder:""},null,8,["modelValue"])]),_:1}),O(R,{"border-style":"dashed"}),O(w,null,{default:$(()=>[i.value?(N(),de(C,{key:0,type:"primary",onClick:y[7]||(y[7]=P=>c(s.value))},{default:$(()=>[...y[25]||(y[25]=[Be("  ",-1)])]),_:1})):(N(),de(C,{key:1,type:"primary",onClick:y[8]||(y[8]=P=>c(s.value))},{default:$(()=>[...y[26]||(y[26]=[Be("  ",-1)])]),_:1})),O(C,{onClick:y[9]||(y[9]=P=>f(s.value))},{default:$(()=>[...y[27]||(y[27]=[Be("",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),pj=ue({__name:"CreateFolder",props:{current_folder_info:Map},setup(t){const e=t,n=F(""),r=F(""),i=F(""),o=F(""),a=F(1),s=F(0),l=Bn({type:[{required:!0,message:"",trigger:"blur"}],name:[{required:!0,message:"",trigger:"blur"}]}),u=()=>{var c=a.value,f=0;n.value==""&&(c=s.value,f=1),Me.emit("create_folder",{cur_id:c,name:i.value,type:f,selected_id:a.value})};return Jt(()=>{console.log("props.current_folder_info: ",e.current_folder_info),o.value=e.current_folder_info.path,a.value=e.current_folder_info.id,s.value=e.current_folder_info.parent_id}),(c,f)=>{const d=pe("el-alert"),h=pe("el-radio-button"),p=pe("el-radio-group"),v=pe("el-form-item"),g=pe("el-input"),m=pe("el-button"),y=pe("el-form");return N(),de(y,{"label-position":"right","label-width":"auto",model:c.formLabelAlign,rules:l,style:{"max-width":"600px"}},{default:$(()=>[O(d,{type:"info","show-icon":"",closable:!1},{default:$(()=>[K("p",null,""+Ne(o.value),1)]),_:1}),O(v,{label:"","label-position":"right",style:{"margin-top":"30px"},required:""},{default:$(()=>[O(p,{modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=b=>n.value=b),"aria-label":""},{default:$(()=>[O(h,{value:""},{default:$(()=>[...f[2]||(f[2]=[Be("",-1)])]),_:1}),O(h,{disabled:o.value==""||o.value==""||o.value=="",value:""},{default:$(()=>[...f[3]||(f[3]=[Be("",-1)])]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1}),O(v,{label:"","label-position":r.value,required:""},{default:$(()=>[O(g,{modelValue:i.value,"onUpdate:modelValue":f[1]||(f[1]=b=>i.value=b)},null,8,["modelValue"])]),_:1},8,["label-position"]),O(m,{icon:_(Uu),style:{"margin-top":"30px"},type:"primary",onClick:u},{default:$(()=>[...f[4]||(f[4]=[Be("",-1)])]),_:1},8,["icon"])]),_:1},8,["model","rules"])}}}),vj=ue({__name:"UpdateFolder",props:{current_folder_info:Map},setup(t){const e=t,n=F(""),r=F(""),i=F(""),o=F(1),a=Bn({name:[{required:!0,message:"",trigger:"blur"}]}),s=()=>{Me.emit("update_folder",{cur_id:o.value,name:r.value})};return Jt(()=>{console.log("props.current_folder_info: ",e.current_folder_info),i.value=e.current_folder_info.path,o.value=e.current_folder_info.id}),(l,u)=>{const c=pe("el-alert"),f=pe("el-input"),d=pe("el-form-item"),h=pe("el-button"),p=pe("el-form");return N(),de(p,{"label-position":"right","label-width":"auto",model:l.formLabelAlign,rules:a,style:{"max-width":"600px"}},{default:$(()=>[O(c,{type:"info","show-icon":"",closable:!1},{default:$(()=>[K("p",null,""+Ne(i.value),1)]),_:1}),O(d,{label:"","label-position":n.value,required:""},{default:$(()=>[O(f,{modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=v=>r.value=v)},null,8,["modelValue"])]),_:1},8,["label-position"]),O(h,{plain:"",icon:_(Uu),style:{"margin-top":"30px"},type:"primary",onClick:s},{default:$(()=>[...u[1]||(u[1]=[Be("",-1)])]),_:1},8,["icon"])]),_:1},8,["model","rules"])}}}),Yut={key:0,class:"custom-tree-node"},Xut={key:0,style:{"margin-top":"0px"}},Zut={key:1,style:{"margin-top":"0px"}},Jut={key:2},Qut={class:"node-buttons"},ect={key:3},tct={class:"node-buttons"},nct={class:"dialog-footer",style:{"margin-top":"20px"}},WI=ue({__name:"Tree",setup(t){const e=F(!1),n=F("rtl"),r=F(null),i=F(0);let o=null;const a=F(""),s=F(),l=F(""),u=F("1"),c=F(""),f=F({});F(!1);const d={id:"",name:"",owner_id:1,ct_time:"",update_time:"",enable:0,type:0,email_to:"",description:"",sms_to:"",tag:"",life_cycle:"",monitor_way:0,private:1,project_id:1,project_name:"",principal_name_list:"",principal_id_list:"",is_super:!0,user_id:1},h=F(structuredClone(d)),p=F({}),v=F(!1),g=F(!1),m=F(1e3),y=F(!1),b=F(-1),w=F([]),S=F("top"),x=ih(),C=F(""),E=()=>{Me.on("success_create_pipeline",H=>{X(H.pid,H),e.value=!1}),Me.on("create_folder",H=>{Et.post("/processor/add_new_project/",Hn.stringify({project_name:H.name,description:"",parent_id:H.cur_id,type:0})).then(U=>{if(U.data.status!=0)st({type:"error",message:""+U.data.msg});else{v.value=!1,H.id=U.data.id,H.text=H.name,H.is_project=!0,H.pipe_id=0;var ne=H.cur_id;ne==0&&(ne=-1),H.type==0?X(H.selected_id,H):X(ne,H),st({type:"success",message:""})}}).catch(U=>{st({type:"error",message:""+U})})}),Me.on("update_folder",H=>{Et.post("/pipeline/update_project/",Hn.stringify({project_name:H.name,description:"",id:H.cur_id})).then(U=>{if(U.data.status!=0)st({type:"error",message:""+U.data.msg});else{g.value=!1;const J=s.value.getNode(H.cur_id);if(J){console.log("upate project name: ",J,J.label),J.label=H.name;var ne=ce(H.cur_id,k.value);ne.label=H.name,console.log("upate project name: ",J,J.label),k.value=[...k.value]}st({type:"success",message:""})}}).catch(U=>{st({type:"error",message:""+U})})}),Me.on("success_update_pipeline",H=>{e.value=!1}),Me.on("home_view_click_create_pipeline",H=>{h.value=structuredClone(d),h.value.project_id=H,e.value=!0}),Me.on("graph_call_delete_pipeline",H=>{const U=s.value.getNode(H);console.log(U),G(U)}),Me.on("show_graph_called",H=>{W({id:H},null)}),Me.on("click_show_pipeline",H=>{c.value="",Et.post("/pipeline/get_pipeline_detail/",Hn.stringify({pipe_id:H.split("-")[1]})).then(U=>{h.value=U.data,U.data.email_to!=""&&(h.value.monitor_way|=1),U.data.sms_to!=""&&(h.value.monitor_way|=2);const ne=""+H;console.log(ne,H,ne.split("-").length),u.value=ne,e.value=!0}).catch(U=>{console.log(U),Me.emit("update_graph","-1")})})},T=()=>{Me.off("success_create_pipeline",null),Me.off("create_folder",null),Me.off("update_folder",null),Me.off("success_update_pipeline",null),Me.off("home_view_click_create_pipeline",null),Me.off("graph_call_delete_pipeline",null),Me.off("show_graph_called",null),Me.off("click_show_pipeline",null)},A={id:"id",label:"label",is_project:"is_project",children:"children",valid:"valid"},k=F([]),M=async()=>{await Et.get("/pipeline/get_project_tree/",{params:{type:0}}).then(H=>{w.value=H.data}).catch(H=>{st.error(": "+H)})},D=()=>{if(C.value.trim()==""){st({type:"warning",message:""});return}console.log("Get pipeline detail: ",f.value),Et.post("/pipeline/copy_pipeline/",Hn.stringify({project_id:b.value,pl_name:C.value.trim(),pl_id:f.value.id,use_src_type:1})).then(H=>{if(H.data.status!=0)st({type:"danger",message:""+H.data.msg});else{y.value=!1;var U={};U.pid=b.value,U.text=C.value.trim(),U.is_project=!1,U.id=b.value+"-"+H.data.pl_id,U.pipe_id=H.data.pl_id,console.log("copy pipeline: ",U),X(b.value,U),st({type:"success",message:""})}}).catch(H=>{st({type:"danger",message:""+H})})},L=H=>{M(),y.value=!0},I=H=>{var U=H.label,ne=0;H.parent&&(U=H.parent.label+"/"+U,ne=H.parent.key),p.value={path:U,id:H.data.id,parent_id:ne},g.value=!0},R=H=>{ua({title:"",message:Rt("p",null,[Rt("span",null,"?  "),Rt("i",{style:"color: red"},H.label)]),showCancelButton:!0,confirmButtonText:"",cancelButtonText:"",beforeClose:(U,ne,J)=>{U==="confirm"?(ne.confirmButtonLoading=!0,ne.confirmButtonText="...",Et.post("/processor/delete_project/",Hn.stringify({project_id:H.data.id})).then(Y=>{Y.data.status!=0?st({type:"danger",message:""+Y.data.msg}):(st({type:"success",message:""}),j(H)),J(),ne.confirmButtonLoading=!1}).catch(Y=>{st({type:"danger",message:""+Y})})):J()}}).then(U=>{})},V=H=>{var U=H.label,ne=0;H.parent&&(U=H.parent.label+"/"+U,ne=H.parent.key),p.value={path:U,id:H.data.id,parent_id:ne},v.value=!0},P=(H,U)=>{Et.get("/pipeline/get_project_tree_async/",{params:{id:H.id}}).then(ne=>{var J=ce(H.id,k.value);J&&(J.children=[]);for(const Y of ne.data)X(H.id,Y)}).catch(ne=>console.log(ne))},B=H=>{c.value="",h.value=structuredClone(d),console.log("ttttt:",H.key);var U=""+H.key;if(U.split("-").length!=2){h.value.project_id=H.key,e.value=!0,l.value=H.label;for(var ne=H.parent;ne;)l.value=ne.label+"/"+l.value,ne=ne.parent;console.log(l.value);return}c.value="",Et.post("/pipeline/get_pipeline_detail/",Hn.stringify({pipe_id:H.key.split("-")[1]})).then(J=>{h.value=J.data,J.data.email_to!=""&&(h.value.monitor_way|=1),J.data.sms_to!=""&&(h.value.monitor_way|=2),e.value=!0;const Y=""+H.key;console.log(Y,H,Y.split("-").length),u.value=Y}).catch(J=>{console.log(J),Me.emit("update_graph","-1")})},j=H=>{var U=null;if(H.parent&&(console.log("now delete node: ",H.parent.key),U=ce(H.parent.key,k.value)),U){const J=U.children.findIndex(Y=>Y.id===H.key);console.log("found parent now delete node: ",J),J!==-1&&U.children.splice(J,1)}else{const J=k.value.findIndex(Y=>Y.id===H.key);console.log("not found parent now delete node: ",J),J!==-1&&k.value.splice(J,1)}k.value=[...k.value],console.log("delete key: ",H.key);var ne=""+H.key;ne.split("-").length==2&&Me.emit("success_delete_pipeline",ne)},G=H=>{ua({title:"",message:Rt("p",null,[Rt("span",null,"?  "),Rt("i",{style:"color: red"},H.label)]),showCancelButton:!0,confirmButtonText:"",cancelButtonText:"",beforeClose:(U,ne,J)=>{U==="confirm"?(ne.confirmButtonLoading=!0,ne.confirmButtonText="...",Et.post("/pipeline/delete/"+H.key.split("-")[1]+"/",{}).then(Y=>{console.log("success delete pipeline."),j(H),J(),ne.confirmButtonLoading=!1}).catch(Y=>{J(),st({type:"danger",message:""+Y})})):J()}}).then(U=>{st({type:"success",message:""})})},W=(H,U)=>{const ne=""+H.id;if(h.value=structuredClone(d),console.log(ne,ne.split("-")[1],ne.split("-").length),u.value=ne,ne.split("-").length!=2){l.value="/"+H.label;for(var J=U.parent;J;)l.value="/"+J.label+l.value,J=J.parent;Me.emit("update_graph",{tag:"-1",project_path:l.value,project_id:""+H.id}),Me.emit("show_update_graph",{tag:"-1",project_path:l.value,project_id:""+H.id}),console.log("update_graph node click 0",l.value,"project_id",H.id);return}Et.post("/pipeline/get_pipeline_detail/",Hn.stringify({pipe_id:H.id.split("-")[1]})).then(Y=>{h.value=Y.data,Y.data.email_to!=""&&(h.value.monitor_way|=1),Y.data.sms_to!=""&&(h.value.monitor_way|=2),console.log("get pipeline detail:",Y.data),console.log("11111:",ne,ne.split("-")[1],ne.split("-").length),f.value=Y.data,b.value=f.value.project_id;var se=Y.data;Et.post("/pipeline/get_tasks/",Hn.stringify({pipeline_id:ne.split("-")[1]})).then(he=>{Me.emit("show_update_graph",{tag:"1",project_path:l.value,pipe_id:ne}),he.data.project_id=ne.split("-")[0],he.data.pipeline_detail=se,Me.emit("update_graph",{tag:"0",project_id:ne.split("-")[0],project_path:l.value,data:he.data}),console.log("update_graph get tasks 1",l.value,he.data,"project_id",ne.split("-")[0])}).catch(he=>{console.log(he),Me.emit("update_graph",{tag:"-1",project_id:ne.split("-")[0],project_path:l.value}),Me.emit("show_update_graph",{tag:"-1",project_path:l.value,project_id:ne.split("-")[0]}),console.log("update_graph get tasks error 2",l.value,"project_id",ne.split("-")[0])})}).catch(Y=>{console.log(Y),Me.emit("update_graph","-1")})},Z=async()=>{await Et.get("/pipeline/get_project_tree_async/",{params:{}}).then(H=>{console.log("0 get_project_tree_async:",H);for(const U of H.data)X(-1,U),U.is_project&&b.value==-1&&(b.value=U.id);console.log("treeRef.value.getNode():",b.value,s.value.getNode(b.value)),P({id:b.value})}).catch(H=>console.log(H)),s.value.expandNode(s.value.getNode(b.value))};Lr(window,"resize",()=>{m.value=window.innerHeight-130}),Jt(()=>{m.value=window.innerHeight-130,E(),r.value&&(i.value=r.value.clientHeight),o=new ResizeObserver(H=>{for(const U of H)U.target===r.value&&(i.value=U.contentRect.height)}),r.value&&o.observe(r.value),Z()}),ur(()=>{T(),o&&r.value&&o.unobserve(r.value)});const ee=H=>{s.value.filter(H)},oe=(H,U)=>U.label.includes(H),ce=(H,U)=>{for(let ne=0;ne<U.length;ne++){const J=U[ne];if(""+J.id==""+H)return J;if(J.children){const Y=ce(H,J.children);if(Y)return Y}}return null},X=(H,U)=>{if(U==null)return;var ne=U.text;ne==""&&(ne="");const J={id:U.id,label:ne,is_project:U.is_project,children:[],valid:!0,pipe_id:U.pipe_id};U.is_project&&J.children.push({id:-1,valid:!1,label:"",is_project:!1,children:[]});var Y=null;H==-1?(k.value.push(J),k.value=[...k.value]):(Y=ce(H,k.value),Y&&(Y.children||(Y.children=[]),Y.children.length==1&&Y.children[0].id==-1&&(Y.children=[]),Y.children.push(J),k.value=[...k.value],s.value.setCurrentKey(J.id))),Me.emit("update_graph",{tag:"0",project_id:H,project_path:l.value,data:J})};return(H,U)=>{const ne=pe("el-input"),J=pe("el-icon"),Y=pe("el-link"),se=pe("el-button"),he=pe("el-tooltip"),ye=pe("el-button-group"),_e=pe("el-tree-v2"),fe=pe("el-drawer"),Ce=pe("el-tree-select"),Oe=pe("el-form-item"),Ue=pe("el-form"),qe=pe("el-dialog");return N(),Q(ft,null,[O(ne,{class:"esponsive-input",modelValue:a.value,"onUpdate:modelValue":U[0]||(U[0]=ze=>a.value=ze),placeholder:"Please enter keyword",onInput:ee,"prefix-icon":_(pm)},null,8,["modelValue","prefix-icon"]),K("div",{class:q({appContainerDark:_(x),appContainerLight:!_(x)}),style:Ot(`min-height: ${m.value}px;`)},[K("div",{class:"tree-container",ref_key:"treeContainerRef",ref:r},[O(_e,{ref_key:"treeRef",ref:s,data:k.value,props:A,height:i.value,"filter-method":oe,"expand-on-click-node":!1,onNodeExpand:P,onNodeClick:W,"highlight-current":!0,"node-key":"id"},{default:$(({node:ze})=>[ze.data.valid?(N(),Q("div",Yut,[ze.data.is_project?(N(),Q("div",Xut,[ze.expanded?(N(),de(J,{key:1,size:18,style:{padding:"4px"},color:"var(--el-color-info)"},{default:$(()=>[O(_(Tz))]),_:1})):(N(),de(J,{key:0,size:18,style:{padding:"4px"},color:"var(--el-color-primary)"},{default:$(()=>[O(_(Az))]),_:1})),O(Y,{style:{"margin-bottom":"10px"}},{default:$(()=>[Be(Ne(ze.label),1)]),_:2},1024)])):(N(),Q("div",Zut,[O(J,{size:18,style:{padding:"4px"},color:"var(--el-color-primary)"},{default:$(()=>[O(_(Zde))]),_:1}),O(Y,{style:{"margin-bottom":"10px"}},{default:$(()=>[Be(Ne(ze.label),1)]),_:2},1024)])),ze.data.is_project?(N(),Q("div",Jut,[K("span",Qut,[O(ye,{class:"ml-4"},{default:$(()=>[O(he,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(se,{plain:"",type:"info",size:"small",icon:_(kz),onClick:ae=>V(ze)},null,8,["icon","onClick"])]),_:2},1024),O(he,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(se,{plain:"",type:"success",size:"small",icon:_(Uu),onClick:ae=>B(ze)},null,8,["icon","onClick"])]),_:2},1024),ze.label!=""?(N(),de(he,{key:0,class:"box-item",effect:"dark",content:""},{default:$(()=>[O(se,{plain:"",type:"primary",size:"small",icon:_(Gu),onClick:ae=>I(ze)},null,8,["icon","onClick"])]),_:2},1024)):ge("",!0),ze.label!=""?(N(),de(he,{key:1,class:"box-item",effect:"dark",content:""},{default:$(()=>[O(se,{plain:"",type:"warning",size:"small",icon:_(ju),onClick:ae=>R(ze)},null,8,["icon","onClick"])]),_:2},1024)):ge("",!0)]),_:2},1024)])])):(N(),Q("div",ect,[K("span",tct,[O(ye,{class:"ml-4"},{default:$(()=>[O(he,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(se,{plain:"",type:"primary",onClick:ae=>B(ze),size:"small",icon:_(Gu)},null,8,["onClick","icon"])]),_:2},1024),O(he,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(se,{plain:"",type:"warning",size:"small",icon:_(ju),onClick:ae=>G(ze)},null,8,["icon","onClick"])]),_:2},1024),O(he,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(se,{plain:"",type:"primary",onClick:ae=>L(ze),size:"small",icon:_(Ez)},null,8,["onClick","icon"])]),_:2},1024)]),_:2},1024)])]))])):ge("",!0)]),_:1},8,["data","height"])],512)],6),O(fe,{modelValue:e.value,"onUpdate:modelValue":U[1]||(U[1]=ze=>e.value=ze),direction:n.value,size:"50%","destroy-on-close":!0},{header:$(()=>[K("h4",null,Ne(c.value),1)]),default:$(()=>[O(UI,{pipeline_info:h.value},null,8,["pipeline_info"])]),_:1},8,["modelValue","direction"]),O(fe,{modelValue:v.value,"onUpdate:modelValue":U[2]||(U[2]=ze=>v.value=ze),direction:n.value,size:"50%","destroy-on-close":!0},{header:$(()=>[...U[8]||(U[8]=[K("h4",null,"",-1)])]),default:$(()=>[O(pj,{current_folder_info:p.value},null,8,["current_folder_info"])]),_:1},8,["modelValue","direction"]),O(fe,{modelValue:g.value,"onUpdate:modelValue":U[3]||(U[3]=ze=>g.value=ze),direction:n.value,size:"50%","destroy-on-close":!0},{header:$(()=>[...U[9]||(U[9]=[K("h4",null,"",-1)])]),default:$(()=>[O(vj,{current_folder_info:p.value},null,8,["current_folder_info"])]),_:1},8,["modelValue","direction"]),O(qe,{modelValue:y.value,"onUpdate:modelValue":U[7]||(U[7]=ze=>y.value=ze),title:"",width:"500","destroy-on-close":"",center:""},{footer:$(()=>[K("div",nct,[O(se,{onClick:U[6]||(U[6]=ze=>y.value=!1)},{default:$(()=>[...U[10]||(U[10]=[Be("",-1)])]),_:1}),O(se,{type:"primary",onClick:D},{default:$(()=>[...U[11]||(U[11]=[Be("  ",-1)])]),_:1})])]),default:$(()=>[K("span",null,[O(Ue,{model:H.form,"label-width":"auto",style:{"max-width":"600px"},"label-position":S.value},{default:$(()=>[O(Oe,{prop:"project",label:""},{default:$(()=>[O(Ce,{modelValue:b.value,"onUpdate:modelValue":U[4]||(U[4]=ze=>b.value=ze),data:w.value,"check-strictly":"","node-key":"id"},null,8,["modelValue","data"])]),_:1}),O(Oe,{label:""},{default:$(()=>[O(ne,{modelValue:C.value,"onUpdate:modelValue":U[5]||(U[5]=ze=>C.value=ze)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","label-position"])])]),_:1},8,["modelValue"])],64)}}});typeof window=="object"&&window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);typeof window<"u"&&(function(t){t.forEach(e=>{Object.prototype.hasOwnProperty.call(e,"append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value(...n){const r=document.createDocumentFragment();n.forEach(i=>{const o=i instanceof Node;r.appendChild(o?i:document.createTextNode(String(i)))}),this.appendChild(r)}})})})([Element.prototype,Document.prototype,DocumentFragment.prototype]);class ol{get disposed(){return this._disposed===!0}dispose(){this._disposed=!0}}(function(t){function e(){return(n,r,i)=>{const o=i.value,a=n.__proto__;i.value=function(...s){this.disposed||(o.call(this,...s),a.dispose.call(this))}}}t.dispose=e})(ol||(ol={}));class fJ{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(e=>{e.dispose()}),this.items.clear())}contains(e){return this.items.has(e)}add(e){this.items.add(e)}remove(e){this.items.delete(e)}clear(){this.items.clear()}}(function(t){function e(n){const r=new t;return n.forEach(i=>{r.add(i)}),r}t.from=e})(fJ||(fJ={}));function Kme(t,e,n){if(n)switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2]);case 4:return t.call(e,n[0],n[1],n[2],n[3]);case 5:return t.call(e,n[0],n[1],n[2],n[3],n[4]);case 6:return t.call(e,n[0],n[1],n[2],n[3],n[4],n[5]);default:return t.apply(e,n)}return t.call(e)}function lr(t,e,...n){return Kme(t,e,n)}function rct(t){return typeof t=="object"&&t.then&&typeof t.then=="function"}function vV(t){return t!=null&&(t instanceof Promise||rct(t))}function gj(...t){const e=[];if(t.forEach(r=>{Array.isArray(r)?e.push(...r):e.push(r)}),e.some(r=>vV(r))){const r=e.map(i=>vV(i)?i:Promise.resolve(i!==!1));return Promise.all(r).then(i=>i.reduce((o,a)=>a!==!1&&o,!0))}return e.every(r=>r!==!1)}function ict(...t){const e=gj(t);return typeof e=="boolean"?Promise.resolve(e):e}function KN(t,e){const n=[];for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1],a=Array.isArray(e)?e:[e],s=Kme(i,o,a);n.push(s)}return gj(n)}class oct{constructor(){this.listeners={}}on(e,n,r){return n==null?this:(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(n,r),this)}once(e,n,r){const i=(...o)=>(this.off(e,i),KN([n,r],o));return this.on(e,i,this)}off(e,n,r){if(!(e||n||r))return this.listeners={},this;const i=this.listeners;return(e?[e]:Object.keys(i)).forEach(a=>{const s=i[a];if(s){if(!(n||r)){delete i[a];return}for(let l=s.length-2;l>=0;l-=2)n&&s[l]!==n||r&&s[l+1]!==r||s.splice(l,2)}}),this}trigger(e,...n){let r=!0;if(e!=="*"){const o=this.listeners[e];o!=null&&(r=KN([...o],n))}const i=this.listeners["*"];return i!=null?gj([r,KN([...i],[e,...n])]):r}emit(e,...n){return this.trigger(e,...n)}}function act(t,...e){e.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(r=>{r!=="constructor"&&Object.defineProperty(t.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r))})})}const sct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])};function lct(t,e){sct(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}let uct=class{};const cct=/^\s*class\s+/.test(`${uct}`)||/^\s*class\s*\{/.test(`${class{}}`);function mj(t,e){let n;return cct?n=class extends e{}:(n=function(){return e.apply(this,arguments)},lct(n,e)),Object.defineProperty(n,"name",{value:t}),n}function dJ(t){return t==="__proto__"}function yj(t,e,n="/"){let r;const i=Array.isArray(e)?e:e.split(n);if(i.length)for(r=t;i.length;){const o=i.shift();if(Object(r)===r&&o&&o in r)r=r[o];else return}return r}function g_(t,e,n,r="/"){const i=Array.isArray(e)?e:e.split(r),o=i.pop();if(o&&!dJ(o)){let a=t;i.forEach(s=>{dJ(s)||(a[s]==null&&(a[s]={}),a=a[s])}),a[o]=n}return t}function hJ(t,e,n="/"){const r=Array.isArray(e)?e.slice():e.split(n),i=r.pop();if(i)if(r.length>0){const o=yj(t,r);o&&delete o[i]}else delete t[i];return t}var fct=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class vo extends oct{dispose(){this.off()}}fct([ol.dispose()],vo.prototype,"dispose",null);(function(t){t.dispose=ol.dispose})(vo||(vo={}));act(vo,ol);const Yme=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},Xme=Yme(t=>t.replace(/\B([A-Z])/g,"-$1").toLowerCase()),bj=Yme(t=>FBe(lI(t)).replace(/ /g,""));function YN(t){let e=2166136261,n=!1,r=t;for(let i=0,o=r.length;i<o;i+=1){let a=r.charCodeAt(i);a>127&&!n&&(r=unescape(encodeURIComponent(r)),a=r.charCodeAt(i),n=!0),e^=a,e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24)}return e>>>0}function iP(){let t="";const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";for(let n=0,r=e.length;n<r;n+=1){const i=e[n],o=Math.random()*16|0,a=i==="x"?o:i==="y"?o&3|8:i;t+=a.toString(16)}return t}function dct(t,e,n){const r=Math.min(2,Math.floor(t.length*.34));let i=Math.floor(t.length*.4)+1,o,a=!1;const s=t.toLowerCase();for(const l of e){const u=n(l);if(u!==void 0&&Math.abs(u.length-s.length)<=r){const c=u.toLowerCase();if(c===s){if(u===t)continue;return l}if(a||u.length<3)continue;const f=hct(s,c,i-1);if(f===void 0)continue;f<3?(a=!0,o=l):(i=f,o=l)}}return o}function hct(t,e,n){let r=new Array(e.length+1),i=new Array(e.length+1);const o=n+1;for(let s=0;s<=e.length;s+=1)r[s]=s;for(let s=1;s<=t.length;s+=1){const l=t.charCodeAt(s-1),u=s>n?s-n:1,c=e.length>n+s?n+s:e.length;i[0]=s;let f=s;for(let h=1;h<u;h+=1)i[h]=o;for(let h=u;h<=c;h+=1){const p=l===e.charCodeAt(h-1)?r[h-1]:Math.min(r[h]+1,i[h-1]+1,r[h-1]+2);i[h]=p,f=Math.min(f,p)}for(let h=c+1;h<=e.length;h+=1)i[h]=o;if(f>n)return;const d=r;r=i,i=d}const a=r[e.length];return a>n?void 0:a}function fh(t){return typeof t=="string"&&t.slice(-1)==="%"}function Sc(t,e){if(t==null)return 0;let n;if(typeof t=="string"){if(n=parseFloat(t),fh(t)&&(n/=100,Number.isFinite(n)))return n*e}else n=t;return Number.isFinite(n)?n>0&&n<1?n*e:n:0}function iv(t){if(typeof t=="object"){let n=0,r=0,i=0,o=0;return t.vertical!=null&&Number.isFinite(t.vertical)&&(r=o=t.vertical),t.horizontal!=null&&Number.isFinite(t.horizontal)&&(i=n=t.horizontal),t.left!=null&&Number.isFinite(t.left)&&(n=t.left),t.top!=null&&Number.isFinite(t.top)&&(r=t.top),t.right!=null&&Number.isFinite(t.right)&&(i=t.right),t.bottom!=null&&Number.isFinite(t.bottom)&&(o=t.bottom),{top:r,right:i,bottom:o,left:n}}let e=0;return t!=null&&Number.isFinite(t)&&(e=t),{top:e,right:e,bottom:e,left:e}}let _j=!1,Zme=!1,Jme=!1,Qme=!1,eye=!1,tye=!1,nye=!1,rye=!1,iye=!1,oye=!1,aye=!1,sye=!1,lye=!1,uye=!1,cye=!1,fye=!1;if(typeof navigator=="object"){const t=navigator.userAgent;_j=t.indexOf("Macintosh")>=0,Zme=!!t.match(/(iPad|iPhone|iPod)/g),Jme=t.indexOf("Windows")>=0,Qme=t.indexOf("MSIE")>=0,eye=!!t.match(/Trident\/7\./),tye=!!t.match(/Edge\//),nye=t.indexOf("Mozilla/")>=0&&t.indexOf("MSIE")<0&&t.indexOf("Edge/")<0,iye=t.indexOf("Chrome/")>=0&&t.indexOf("Edge/")<0,oye=t.indexOf("Opera/")>=0||t.indexOf("OPR/")>=0,aye=t.indexOf("Firefox/")>=0,sye=t.indexOf("AppleWebKit/")>=0&&t.indexOf("Chrome/")<0&&t.indexOf("Edge/")<0,typeof document=="object"&&(fye=!document.createElementNS||`${document.createElementNS("http://www.w3.org/2000/svg","foreignObject")}`!="[object SVGForeignObjectElement]"||t.indexOf("Opera/")>=0)}typeof window=="object"&&(rye=window.chrome!=null&&window.chrome.app!=null&&window.chrome.app.runtime!=null,uye=window.PointerEvent!=null&&!_j);if(typeof document=="object"){lye="ontouchstart"in document.documentElement;try{const t=Object.defineProperty({},"passive",{get(){cye=!0}}),e=document.createElement("div");e.addEventListener&&e.addEventListener("click",()=>{},t)}catch{}}var ov;(function(t){t.IS_MAC=_j,t.IS_IOS=Zme,t.IS_WINDOWS=Jme,t.IS_IE=Qme,t.IS_IE11=eye,t.IS_EDGE=tye,t.IS_NETSCAPE=nye,t.IS_CHROME_APP=rye,t.IS_CHROME=iye,t.IS_OPERA=oye,t.IS_FIREFOX=aye,t.IS_SAFARI=sye,t.SUPPORT_TOUCH=lye,t.SUPPORT_POINTER=uye,t.SUPPORT_PASSIVE=cye,t.NO_FOREIGNOBJECT=fye,t.SUPPORT_FOREIGNOBJECT=!t.NO_FOREIGNOBJECT})(ov||(ov={}));(function(t){function e(){const o=window.module;return o!=null&&o.hot!=null&&o.hot.status!=null?o.hot.status():"unkonwn"}t.getHMRStatus=e;function n(){return e()==="apply"}t.isApplyingHMR=n;const r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function i(o){const a=document.createElement(r[o]||"div"),s=`on${o}`;let l=s in a;return l||(a.setAttribute(s,"return;"),l=typeof a[s]=="function"),l}t.isEventSupported=i})(ov||(ov={}));const wj=/[\t\r\n\f]/g,Sj=/\S+/g,s1=t=>` ${t} `;function l1(t){return t&&t.getAttribute&&t.getAttribute("class")||""}function If(t,e){if(t==null||e==null)return!1;const n=s1(l1(t)),r=s1(e);return t.nodeType===1?n.replace(wj," ").includes(r):!1}function Qn(t,e){if(!(t==null||e==null)){if(typeof e=="function")return Qn(t,e(l1(t)));if(typeof e=="string"&&t.nodeType===1){const n=e.match(Sj)||[],r=s1(l1(t)).replace(wj," ");let i=n.reduce((o,a)=>o.indexOf(s1(a))<0?`${o}${a} `:o,r);i=i.trim(),r!==i&&t.setAttribute("class",i)}}}function _o(t,e){if(t!=null){if(typeof e=="function")return _o(t,e(l1(t)));if((!e||typeof e=="string")&&t.nodeType===1){const n=(e||"").match(Sj)||[],r=s1(l1(t)).replace(wj," ");let i=n.reduce((o,a)=>{const s=s1(a);return o.indexOf(s)>-1?o.replace(s," "):o},r);i=e?i.trim():"",r!==i&&t.setAttribute("class",i)}}}function hc(t,e,n){if(!(t==null||e==null)){if(n!=null&&typeof e=="string"){n?Qn(t,e):_o(t,e);return}if(typeof e=="function")return hc(t,e(l1(t),n),n);typeof e=="string"&&(e.match(Sj)||[]).forEach(i=>{If(t,i)?_o(t,i):Qn(t,i)})}}let pJ=0;function pct(){return pJ+=1,`v${pJ}`}function xj(t){return(t.id==null||t.id==="")&&(t.id=pct()),t.id}function av(t){return t==null?!1:typeof t.getScreenCTM=="function"&&t instanceof SVGElement}const Ba={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},vJ="1.1";function gJ(t,e=document){return e.createElement(t)}function Cj(t,e=Ba.xhtml,n=document){return n.createElementNS(e,t)}function Yc(t,e=document){return Cj(t,Ba.svg,e)}function oP(t){if(t){const n=`<svg xmlns="${Ba.svg}" xmlns:xlink="${Ba.xlink}" version="${vJ}">${t}</svg>`,{documentElement:r}=vct(n,{async:!1});return r}const e=document.createElementNS(Ba.svg,"svg");return e.setAttributeNS(Ba.xmlns,"xmlns:xlink",Ba.xlink),e.setAttribute("version",vJ),e}function vct(t,e={}){let n;try{const r=new DOMParser;if(e.async!=null){const i=r;i.async=e.async}n=r.parseFromString(t,e.mimeType||"text/xml")}catch{n=void 0}if(!n||n.getElementsByTagName("parsererror").length)throw new Error(`Invalid XML: ${t}`);return n}function gct(t,e=!0){const n=t.nodeName;return e?n.toLowerCase():n.toUpperCase()}function Ej(t){let e=0,n=t.previousSibling;for(;n;)n.nodeType===1&&(e+=1),n=n.previousSibling;return e}function mct(t,e){return t.querySelectorAll(e)}function yct(t,e){return t.querySelector(e)}function dye(t,e,n){const r=t.ownerSVGElement;let i=t.parentNode;for(;i&&i!==n&&i!==r;){if(If(i,e))return i;i=i.parentNode}return null}function Tj(t,e){const n=e&&e.parentNode;return t===n||!!(n&&n.nodeType===1&&t.compareDocumentPosition(n)&16)}function Nu(t){t&&(Array.isArray(t)?t:[t]).forEach(n=>{n.parentNode&&n.parentNode.removeChild(n)})}function M2(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Vl(t,e){(Array.isArray(e)?e:[e]).forEach(r=>{r!=null&&t.appendChild(r)})}function hye(t,e){const n=t.firstChild;return n?Aj(n,e):Vl(t,e)}function Aj(t,e){const n=t.parentNode;n&&(Array.isArray(e)?e:[e]).forEach(i=>{i!=null&&n.insertBefore(i,t)})}function Wp(t,e){e?.appendChild(t)}function mJ(t){try{return t instanceof HTMLElement}catch{return typeof t=="object"&&t.nodeType===1&&typeof t.style=="object"&&typeof t.ownerDocument=="object"}}function bct(t,e){const n=[];let r=t.firstChild;for(;r;r=r.nextSibling)r.nodeType===1&&(!e||If(r,e))&&n.push(r);return n}const pye=["viewBox","attributeName","attributeType","repeatCount","textLength","lengthAdjust","gradientUnits"];function _ct(t,e){return t.getAttribute(e)}function kj(t,e){const n=gye(e);n.ns?t.hasAttributeNS(n.ns,n.local)&&t.removeAttributeNS(n.ns,n.local):t.hasAttribute(e)&&t.removeAttribute(e)}function Mj(t,e,n){if(n==null)return kj(t,e);const r=gye(e);r.ns&&typeof n=="string"?t.setAttributeNS(r.ns,e,n):e==="id"?t.id=`${n}`:t.setAttribute(e,`${n}`)}function vye(t,e){Object.keys(e).forEach(n=>{Mj(t,n,e[n])})}function oi(t,e,n){if(e==null){const r=t.attributes,i={};for(let o=0;o<r.length;o+=1)i[r[o].name]=r[o].value;return i}if(typeof e=="string"&&n===void 0)return t.getAttribute(e);typeof e=="object"?vye(t,e):Mj(t,e,n)}function gye(t){if(t.indexOf(":")!==-1){const e=t.split(":");return{ns:Ba[e[0]],local:e[1]}}return{ns:null,local:t}}function Jx(t){const e={};return Object.keys(t).forEach(n=>{const r=pye.includes(n)?n:Xme(n);e[r]=t[n]}),e}function vT(t){const e={};return t.split(";").forEach(r=>{const i=r.trim();if(i){const o=i.split("=");o.length&&(e[o[0].trim()]=o[1]?o[1].trim():"")}}),e}function gV(t,e){return Object.keys(e).forEach(n=>{if(n==="class")t[n]=t[n]?`${t[n]} ${e[n]}`:e[n];else if(n==="style"){const r=typeof t[n]=="object",i=typeof e[n]=="object";let o,a;r&&i?(o=t[n],a=e[n]):r?(o=t[n],a=vT(e[n])):i?(o=vT(t[n]),a=e[n]):(o=vT(t[n]),a=vT(e[n])),t[n]=gV(o,a)}else t[n]=e[n]}),t}function wct(t,e,n={}){const r=n.offset||0,i=[],o=[];let a,s,l=null;for(let u=0;u<t.length;u+=1){a=o[u]=t[u];for(let c=0,f=e.length;c<f;c+=1){const d=e[c],h=d.start+r,p=d.end+r;u>=h&&u<p&&(typeof a=="string"?a=o[u]={t:t[u],attrs:d.attrs}:a.attrs=gV(gV({},a.attrs),d.attrs),n.includeAnnotationIndices&&(a.annotations==null&&(a.annotations=[]),a.annotations.push(c)))}s=o[u-1],s?$o(a)&&$o(s)?(l=l,JSON.stringify(a.attrs)===JSON.stringify(s.attrs)?l.t+=a.t:(i.push(l),l=a)):$o(a)||$o(s)?(l=l,i.push(l),l=a):l=(l||"")+a:l=a}return l!=null&&i.push(l),i}function Sct(t){return t.replace(/ /g,"")}var Bd;(function(t){function e(u){const c="data:";return u.substr(0,c.length)===c}t.isDataUrl=e;function n(u,c){if(!u||e(u)){setTimeout(()=>c(null,u));return}const f=()=>{c(new Error(`Failed to load image: ${u}`))},d=window.FileReader?p=>{if(p.status===200){const v=new FileReader;v.onload=g=>{const m=g.target.result;c(null,m)},v.onerror=f,v.readAsDataURL(p.response)}else f()}:p=>{const v=g=>{const y=[];for(let b=0;b<g.length;b+=32768)y.push(String.fromCharCode.apply(null,g.subarray(b,b+32768)));return y.join("")};if(p.status===200){let g=u.split(".").pop()||"png";g==="svg"&&(g="svg+xml");const m=`data:image/${g};base64,`,y=new Uint8Array(p.response),b=m+btoa(v(y));c(null,b)}else f()},h=new XMLHttpRequest;h.responseType=window.FileReader?"blob":"arraybuffer",h.open("GET",u,!0),h.addEventListener("error",f),h.addEventListener("load",()=>d(h)),h.send()}t.imageToDataUri=n;function r(u){let c=u.replace(/\s/g,"");c=decodeURIComponent(c);const f=c.indexOf(","),d=c.slice(0,f),h=d.split(":")[1].split(";")[0],p=c.slice(f+1);let v;d.indexOf("base64")>=0?v=atob(p):v=unescape(encodeURIComponent(p));const g=new Uint8Array(v.length);for(let m=0;m<v.length;m+=1)g[m]=v.charCodeAt(m);return new Blob([g],{type:h})}t.dataUriToBlob=r;function i(u,c){const f=window.navigator.msSaveBlob;if(f)f(u,c);else{const d=window.URL.createObjectURL(u),h=document.createElement("a");h.href=d,h.download=c,document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(d)}}t.downloadBlob=i;function o(u,c){const f=r(u);i(f,c)}t.downloadDataUri=o;function a(u){const c=u.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return c&&c[2]?c[2].replace(/\s+/," ").split(" "):null}function s(u){const c=parseFloat(u);return Number.isNaN(c)?null:c}function l(u,c={}){let f=null;const d=b=>(f==null&&(f=a(u)),f!=null?s(f[b]):null),h=b=>{const w=u.match(b);return w&&w[2]?s(w[2]):null};let p=c.width;if(p==null&&(p=h(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),p==null&&(p=d(2)),p==null)throw new Error("Can not parse width from svg string");let v=c.height;if(v==null&&(v=h(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),v==null&&(v=d(3)),v==null)throw new Error("Can not parse height from svg string");return`data:image/svg+xml,${encodeURIComponent(u).replace(/'/g,"%27").replace(/"/g,"%22")}`}t.svgToDataUrl=l})(Bd||(Bd={}));let Hg;const xct={px(t){return t},mm(t){return Hg*t},cm(t){return Hg*t*10},in(t){return Hg*t*25.4},pt(t){return Hg*(25.4*t/72)},pc(t){return Hg*(25.4*t/6)}};var yJ;(function(t){function e(r,i,o){const a=document.createElement("div"),s=a.style;s.display="inline-block",s.position="absolute",s.left="-15000px",s.top="-15000px",s.width=r+(o||"px"),s.height=i+(o||"px"),document.body.appendChild(a);const l=a.getBoundingClientRect(),u={width:l.width||0,height:l.height||0};return document.body.removeChild(a),u}t.measure=e;function n(r,i){Hg==null&&(Hg=e("1","1","mm").width);const o=i?xct[i]:null;return o?o(r):r}t.toPx=n})(yJ||(yJ={}));const Cct=/-(.)/g;function Ect(t){return t.replace(Cct,(e,n)=>n.toUpperCase())}const XN={},bJ=["webkit","ms","moz","o"],mye=typeof document<"u"?document.createElement("div").style:{};function Tct(t){for(let e=0;e<bJ.length;e+=1){const n=bJ[e]+t;if(n in mye)return n}return null}function Act(t){const e=Ect(t);if(XN[e]==null){const n=e.charAt(0).toUpperCase()+e.slice(1);XN[e]=e in mye?e:Tct(n)}return XN[e]}function _J(t,e){const n=t.ownerDocument&&t.ownerDocument.defaultView&&t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):window.getComputedStyle(t,null);return n&&e?n.getPropertyValue(e)||n[e]:n}const kct={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function Mct(t){return/^--/.test(t)}function Pct(t,e,n){const r=window.getComputedStyle(t,null);return n?r.getPropertyValue(e)||void 0:r[e]||t.style[e]}function Oct(t,e){return!kct[t]&&typeof e=="number"?`${e}px`:e}function sa(t,e,n){if(typeof e=="string"){const r=Mct(e);if(r||(e=Act(e)),n===void 0)return Pct(t,e,r);r||(n=Oct(e,n));const i=t.style;r?i.setProperty(e,n):i[e]=n;return}for(const r in e)sa(t,r,e[r])}const aP=new WeakMap;function wJ(t,e){const n=lI(e),r=aP.get(t);if(r)return r[n]}function Ict(t,e,n){const r=lI(e),i=aP.get(t);i?i[r]=n:aP.set(t,{[r]:n})}function Gm(t,e,n){if(!e){const r={};return Object.keys(aP).forEach(i=>{r[i]=wJ(t,i)}),r}if(typeof e=="string"){if(n===void 0)return wJ(t,e);Ict(t,e,n);return}for(const r in e)Gm(t,r,e[r])}class Sr{get[Symbol.toStringTag](){return Sr.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(e){this.node.id=e}constructor(e,n,r){if(!e)throw new TypeError("Invalid element to create vector");let i;if(Sr.isVector(e))i=e.node;else if(typeof e=="string")if(e.toLowerCase()==="svg")i=oP();else if(e[0]==="<"){const o=oP(e);i=document.importNode(o.firstChild,!0)}else i=document.createElementNS(Ba.svg,e);else i=e;this.node=i,n&&this.setAttributes(n),r&&this.append(r)}transform(e,n){return e==null?u1(this.node):(u1(this.node,e,n),this)}translate(e,n=0,r={}){return e==null?xJ(this.node):(xJ(this.node,e,n,r),this)}rotate(e,n,r,i={}){return e==null?bV(this.node):(bV(this.node,e,n,r,i),this)}scale(e,n){return e==null?_V(this.node):(_V(this.node,e,n),this)}getTransformToElement(e){const n=Sr.toNode(e);return qS(this.node,n)}removeAttribute(e){return kj(this.node,e),this}getAttribute(e){return _ct(this.node,e)}setAttribute(e,n){return Mj(this.node,e,n),this}setAttributes(e){return vye(this.node,e),this}attr(e,n){return e==null?oi(this.node):typeof e=="string"&&n===void 0?oi(this.node,e):(typeof e=="object"?oi(this.node,e):oi(this.node,e,n),this)}svg(){return this.node instanceof SVGSVGElement?this:Sr.create(this.node.ownerSVGElement)}defs(){const e=this.svg()||this,n=e.node.getElementsByTagName("defs")[0];return n?Sr.create(n):Sr.create("defs").appendTo(e)}text(e,n={}){return bye(this.node,e,n),this}tagName(){return gct(this.node)}clone(){return Sr.create(this.node.cloneNode(!0))}remove(){return Nu(this.node),this}empty(){return M2(this.node),this}append(e){return Vl(this.node,Sr.toNodes(e)),this}appendTo(e){return Wp(this.node,Sr.isVector(e)?e.node:e),this}prepend(e){return hye(this.node,Sr.toNodes(e)),this}before(e){return Aj(this.node,Sr.toNodes(e)),this}replace(e){return this.node.parentNode&&this.node.parentNode.replaceChild(Sr.toNode(e),this.node),Sr.create(e)}first(){return this.node.firstChild?Sr.create(this.node.firstChild):null}last(){return this.node.lastChild?Sr.create(this.node.lastChild):null}get(e){const n=this.node.childNodes[e];return n?Sr.create(n):null}indexOf(e){return Array.prototype.slice.call(this.node.childNodes).indexOf(Sr.toNode(e))}find(e){const n=[],r=mct(this.node,e);if(r)for(let i=0,o=r.length;i<o;i+=1)n.push(Sr.create(r[i]));return n}findOne(e){const n=yct(this.node,e);return n?Sr.create(n):null}findParentByClass(e,n){const r=dye(this.node,e,n);return r?Sr.create(r):null}matches(e){const n=this.node;this.node.matches;const r=n.matches||n.matchesSelector||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||null;return r&&r.call(n,e)}contains(e){return Tj(this.node,Sr.isVector(e)?e.node:e)}wrap(e){const n=Sr.create(e),r=this.node.parentNode;return r?.insertBefore(n.node,this.node),n.append(this)}parent(e){let n=this;if(n.node.parentNode==null)return null;if(n=Sr.create(n.node.parentNode),e==null)return n;do if(typeof e=="string"?n.matches(e):n instanceof e)return n;while(n=Sr.create(n.node.parentNode));return n}children(){const e=this.node.childNodes,n=[];for(let r=0;r<e.length;r+=1)e[r].nodeType===1&&n.push(Sr.create(e[r]));return n}eachChild(e,n){const r=this.children();for(let i=0,o=r.length;i<o;i+=1)e.call(r[i],r[i],i,r),n&&r[i].eachChild(e,n);return this}index(){return Ej(this.node)}hasClass(e){return If(this.node,e)}addClass(e){return Qn(this.node,e),this}removeClass(e){return _o(this.node,e),this}toggleClass(e,n){return hc(this.node,e,n),this}toLocalPoint(e,n){return Jct(this.node,e,n)}sample(e=1){return this.node instanceof SVGPathElement?Nct(this.node,e):[]}toPath(){return Sr.create(jct(this.node))}toPathData(){return xye(this.node)}}(function(t){t.toStringTag=`X6.${t.name}`;function e(a){if(a==null)return!1;if(a instanceof t)return!0;const s=a[Symbol.toStringTag],l=a;return(s==null||s===t.toStringTag)&&l.node instanceof SVGElement&&typeof l.sample=="function"&&typeof l.toPath=="function"}t.isVector=e;function n(a,s,l){return new t(a,s,l)}t.create=n;function r(a){if(a[0]==="<"){const s=oP(a),l=[];for(let u=0,c=s.childNodes.length;u<c;u+=1){const f=s.childNodes[u];l.push(n(document.importNode(f,!0)))}return l}return[n(a)]}t.createVectors=r;function i(a){return e(a)?a.node:a}t.toNode=i;function o(a){return Array.isArray(a)?a.map(s=>i(s)):[i(a)]}t.toNodes=o})(Sr||(Sr={}));function Rct(t,e){const n=Sr.create(e),r=Sr.create("textPath"),i=t.d;if(i&&t["xlink:href"]===void 0){const o=Sr.create("path").attr("d",i).appendTo(n.defs());r.attr("xlink:href",`#${o.id}`)}return typeof t=="object"&&r.attr(t),r.node}function Lct(t,e,n){const r=n.eol,i=n.baseSize,o=n.lineHeight;let a=0,s;const l={},u=e.length-1;for(let c=0;c<=u;c+=1){let f=e[c],d=null;if(typeof f=="object"){const h=f.attrs,p=Sr.create("tspan",h);s=p.node;let v=f.t;r&&c===u&&(v+=r),s.textContent=v;const g=h.class;g&&p.addClass(g),n.includeAnnotationIndices&&p.attr("annotations",f.annotations.join(",")),d=parseFloat(h["font-size"]),d===void 0&&(d=i),d&&d>a&&(a=d)}else r&&c===u&&(f+=r),s=document.createTextNode(f||" "),i&&i>a&&(a=i);t.appendChild(s)}return a&&(l.maxFontSize=a),o?l.lineHeight=o:a&&(l.lineHeight=a*1.2),l}const yye=/em$/;function gT(t,e){const n=parseFloat(t);return yye.test(t)?n*e:n}function Dct(t,e,n,r){if(!Array.isArray(e))return 0;const i=e.length;if(!i)return 0;let o=e[0];const a=gT(o.maxFontSize,n)||n;let s=0;const l=gT(r,n);for(let f=1;f<i;f+=1){o=e[f];const d=gT(o.lineHeight,n)||l;s+=d}const u=gT(o.maxFontSize,n)||n;let c;switch(t){case"middle":c=a/2-.15*u-s/2;break;case"bottom":c=-(.25*u)-s;break;case"top":default:c=.8*a;break}return c}function bye(t,e,n={}){e=Sct(e);const r=n.eol;let i=n.textPath;const o=n.textVerticalAnchor,a=o==="middle"||o==="bottom"||o==="top";let s=n.x;s===void 0&&(s=t.getAttribute("x")||0);const l=n.includeAnnotationIndices;let u=n.annotations;u&&!Array.isArray(u)&&(u=[u]);const c=n.lineHeight,f=c==="auto",d=f?"1.5em":c||"1em";let h=!0;const p=t.childNodes;if(p.length===1){const T=p[0];T&&T.tagName.toUpperCase()==="TITLE"&&(h=!1)}h&&M2(t),oi(t,{"xml:space":"preserve",display:e||n.displayEmpty?null:"none"});const v=oi(t,"font-size");let g=parseFloat(v);g||(g=16,(a||u)&&!v&&oi(t,"font-size",`${g}`));let m;i?(typeof i=="string"&&(i={d:i}),m=Rct(i,t)):m=document.createDocumentFragment();let y,b=0,w;const S=e.split(`
`),x=[],C=S.length-1;for(let T=0;T<=C;T+=1){y=d;let A="v-line";const k=Yc("tspan");let M,D=S[T];if(D)if(u){const L=wct(D,u,{offset:-b,includeAnnotationIndices:l});M=Lct(k,L,{eol:T!==C&&r,baseSize:g,lineHeight:f?null:d,includeAnnotationIndices:l});const I=M.lineHeight;I&&f&&T!==0&&(y=I),T===0&&(w=M.maxFontSize*.8)}else r&&T!==C&&(D+=r),k.textContent=D;else{k.textContent="-",A+=" v-empty-line";const L=k.style;L.fillOpacity=0,L.strokeOpacity=0,u&&(M={})}M&&x.push(M),T>0&&k.setAttribute("dy",y),(T>0||i)&&k.setAttribute("x",s),k.className.baseVal=A,m.appendChild(k),b+=D.length+1}if(a)if(u)y=Dct(o,x,g,d);else if(o==="top")y="0.8em";else{let T;switch(C>0?(T=parseFloat(d)||1,T*=C,yye.test(d)||(T/=g)):T=0,o){case"middle":y=`${.3-T/2}em`;break;case"bottom":y=`${-T-.3}em`;break}}else o===0?y="0em":o?y=o:(y=0,t.getAttribute("y")==null&&t.setAttribute("y",`${w||"0.8em"}`));m.firstChild.setAttribute("dy",y),t.appendChild(m)}function WS(t,e={}){const n=document.createElement("canvas").getContext("2d");if(!t)return{width:0};const r=[],i=e["font-size"]?`${parseFloat(e["font-size"])}px`:"14px";return r.push(e["font-style"]||"normal"),r.push(e["font-variant"]||"normal"),r.push(e["font-weight"]||400),r.push(i),r.push(e["font-family"]||"sans-serif"),n.font=r.join(" "),n.measureText(t)}function SJ(t,e,n,r={}){if(e>=n)return[t,""];const i=t.length,o={};let a=Math.round(e/n*i-1);for(a<0&&(a=0);a>=0&&a<i;){const s=t.slice(0,a),l=o[s]||WS(s,r).width,u=t.slice(0,a+1),c=o[u]||WS(u,r).width;if(o[s]=l,o[u]=c,l>e)a-=1;else if(c<=e)a+=1;else break}return[t.slice(0,a),t.slice(a)]}function _ye(t,e,n={},r={}){const i=e.width,o=e.height,a=r.eol||`
`,s=n.fontSize||14,l=n.lineHeight?parseFloat(n.lineHeight):Math.ceil(s*1.4),u=Math.floor(o/l);if(t.indexOf(a)>-1){const g=iP(),m=[];return t.split(a).map(y=>{const b=_ye(y,Object.assign(Object.assign({},e),{height:Number.MAX_SAFE_INTEGER}),n,Object.assign(Object.assign({},r),{eol:g}));b&&m.push(...b.split(g))}),m.slice(0,u).join(a)}const{width:c}=WS(t,n);if(c<i)return t;const f=[];let d=t,h=c,p=r.ellipsis,v=0;p&&(typeof p!="string"&&(p=""),v=WS(p,n).width);for(let g=0;g<u;g+=1)if(h>i)if(g===u-1){const[y]=SJ(d,i-v,h,n);f.push(p?`${y}${p}`:y)}else{const[y,b]=SJ(d,i,h,n);f.push(y),d=b,h=WS(d,n).width}else{f.push(d);break}return f.join(a)}const mV=.551784;function Qa(t,e,n=NaN){const r=t.getAttribute(e);if(r==null)return n;const i=parseFloat(r);return Number.isNaN(i)?n:i}function Nct(t,e=1){const n=t.getTotalLength(),r=[];let i=0,o;for(;i<n;)o=t.getPointAtLength(i),r.push({distance:i,x:o.x,y:o.y}),i+=e;return r}function Bct(t){return["M",Qa(t,"x1"),Qa(t,"y1"),"L",Qa(t,"x2"),Qa(t,"y2")].join(" ")}function $ct(t){const e=sP(t);return e.length===0?null:`${wye(e)} Z`}function Fct(t){const e=sP(t);return e.length===0?null:wye(e)}function wye(t){return`M ${t.map(n=>`${n.x} ${n.y}`).join(" L")}`}function sP(t){const e=[],n=t.points;if(n)for(let r=0,i=n.numberOfItems;r<i;r+=1)e.push(n.getItem(r));return e}function Vct(t){const e=Qa(t,"cx",0),n=Qa(t,"cy",0),r=Qa(t,"r"),i=r*mV;return["M",e,n-r,"C",e+i,n-r,e+r,n-i,e+r,n,"C",e+r,n+i,e+i,n+r,e,n+r,"C",e-i,n+r,e-r,n+i,e-r,n,"C",e-r,n-i,e-i,n-r,e,n-r,"Z"].join(" ")}function zct(t){const e=Qa(t,"cx",0),n=Qa(t,"cy",0),r=Qa(t,"rx"),i=Qa(t,"ry")||r,o=r*mV,a=i*mV;return["M",e,n-i,"C",e+o,n-i,e+r,n-a,e+r,n,"C",e+r,n+a,e+o,n+i,e,n+i,"C",e-o,n+i,e-r,n+a,e-r,n,"C",e-r,n-a,e-o,n-i,e,n-i,"Z"].join(" ")}function Hct(t){return Sye({x:Qa(t,"x",0),y:Qa(t,"y",0),width:Qa(t,"width",0),height:Qa(t,"height",0),rx:Qa(t,"rx",0),ry:Qa(t,"ry",0)})}function Sye(t){let e;const n=t.x,r=t.y,i=t.width,o=t.height,a=Math.min(t.rx||t["top-rx"]||0,i/2),s=Math.min(t.rx||t["bottom-rx"]||0,i/2),l=Math.min(t.ry||t["top-ry"]||0,o/2),u=Math.min(t.ry||t["bottom-ry"]||0,o/2);return a||s||l||u?e=["M",n,r+l,"v",o-l-u,"a",s,u,0,0,0,s,u,"h",i-2*s,"a",s,u,0,0,0,s,-u,"v",-(o-u-l),"a",a,l,0,0,0,-a,-l,"h",-(i-2*a),"a",a,l,0,0,0,-a,l,"Z"]:e=["M",n,r,"H",n+i,"V",r+o,"H",n,"V",r,"Z"],e.join(" ")}function jct(t){const e=Yc("path");oi(e,oi(t));const n=xye(t);return n&&e.setAttribute("d",n),e}function xye(t){const e=t.tagName.toLowerCase();switch(e){case"path":return t.getAttribute("d");case"line":return Bct(t);case"polygon":return $ct(t);case"polyline":return Fct(t);case"ellipse":return zct(t);case"circle":return Vct(t);case"rect":return Hct(t)}throw new Error(`"${e}" cannot be converted to svg path element.`)}const Gct=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,Cye=/[ ,]+/,Uct=/^(\w+)\((.*)\)/;function Wct(t,e){const r=Yc("svg").createSVGPoint();return r.x=t,r.y=e,r}function Ga(t){const n=Yc("svg").createSVGMatrix();if(t!=null){const r=t,i=n;for(const o in r)i[o]=r[o]}return n}function iS(t){const e=Yc("svg");return t!=null?(t instanceof DOMMatrix||(t=Ga(t)),e.createSVGTransformFromMatrix(t)):e.createSVGTransform()}function Qx(t){let e=Ga();const n=t!=null&&t.match(Gct);if(!n)return e;for(let r=0,i=n.length;r<i;r+=1){const a=n[r].match(Uct);if(a){let s,l,u,c,f,d=Ga();const h=a[2].split(Cye);switch(a[1].toLowerCase()){case"scale":s=parseFloat(h[0]),l=h[1]===void 0?s:parseFloat(h[1]),d=d.scaleNonUniform(s,l);break;case"translate":u=parseFloat(h[0]),c=parseFloat(h[1]),d=d.translate(u,c);break;case"rotate":f=parseFloat(h[0]),u=parseFloat(h[1])||0,c=parseFloat(h[2])||0,u!==0||c!==0?d=d.translate(u,c).rotate(f).translate(-u,-c):d=d.rotate(f);break;case"skewx":f=parseFloat(h[0]),d=d.skewX(f);break;case"skewy":f=parseFloat(h[0]),d=d.skewY(f);break;case"matrix":d.a=parseFloat(h[0]),d.b=parseFloat(h[1]),d.c=parseFloat(h[2]),d.d=parseFloat(h[3]),d.e=parseFloat(h[4]),d.f=parseFloat(h[5]);break;default:continue}e=e.multiply(d)}}return e}function m_(t){const e=t||{},n=e.a!=null?e.a:1,r=e.b!=null?e.b:0,i=e.c!=null?e.c:0,o=e.d!=null?e.d:1,a=e.e!=null?e.e:0,s=e.f!=null?e.f:0;return`matrix(${n},${r},${i},${o},${a},${s})`}function qI(t){let e,n,r;if(t){const o=Cye;if(t.trim().indexOf("matrix")>=0){const a=Qx(t),s=qct(a);e=[s.translateX,s.translateY],n=[s.rotation],r=[s.scaleX,s.scaleY];const l=[];(e[0]!==0||e[1]!==0)&&l.push(`translate(${e.join(",")})`),(r[0]!==1||r[1]!==1)&&l.push(`scale(${r.join(",")})`),n[0]!==0&&l.push(`rotate(${n[0]})`),t=l.join(" ")}else{const a=t.match(/translate\((.*?)\)/);a&&(e=a[1].split(o));const s=t.match(/rotate\((.*?)\)/);s&&(n=s[1].split(o));const l=t.match(/scale\((.*?)\)/);l&&(r=l[1].split(o))}}const i=r&&r[0]?parseFloat(r[0]):1;return{raw:t||"",translation:{tx:e&&e[0]?parseInt(e[0],10):0,ty:e&&e[1]?parseInt(e[1],10):0},rotation:{angle:n&&n[0]?parseInt(n[0],10):0,cx:n&&n[1]?parseInt(n[1],10):void 0,cy:n&&n[2]?parseInt(n[2],10):void 0},scale:{sx:i,sy:r&&r[1]?parseFloat(r[1]):i}}}function yV(t,e){const n=e.x*t.a+e.y*t.c+0,r=e.x*t.b+e.y*t.d+0;return{x:n,y:r}}function qct(t){const e=yV(t,{x:0,y:1}),n=yV(t,{x:1,y:0}),r=180/Math.PI*Math.atan2(e.y,e.x)-90,i=180/Math.PI*Math.atan2(n.y,n.x);return{skewX:r,skewY:i,translateX:t.e,translateY:t.f,scaleX:Math.sqrt(t.a*t.a+t.b*t.b),scaleY:Math.sqrt(t.c*t.c+t.d*t.d),rotation:r}}function Kct(t){let e,n,r,i;return t?(e=t.a==null?1:t.a,i=t.d==null?1:t.d,n=t.b,r=t.c):e=i=1,{sx:n?Math.sqrt(e*e+n*n):e,sy:r?Math.sqrt(r*r+i*i):i}}function Yct(t){let e={x:0,y:1};t&&(e=yV(t,e));const n=180*Math.atan2(e.y,e.x)/Math.PI%360-90;return{angle:n%360+(n<0?360:0)}}function Xct(t){return{tx:t&&t.e||0,ty:t&&t.f||0}}function u1(t,e,n={}){if(e==null)return Qx(oi(t,"transform"));if(n.absolute){t.setAttribute("transform",m_(e));return}const r=t.transform,i=iS(e);r.baseVal.appendItem(i)}function xJ(t,e,n=0,r={}){let i=oi(t,"transform");const o=qI(i);if(e==null)return o.translation;i=o.raw,i=i.replace(/translate\([^)]*\)/g,"").trim();const a=r.absolute?e:o.translation.tx+e,s=r.absolute?n:o.translation.ty+n,l=`translate(${a},${s})`;t.setAttribute("transform",`${l} ${i}`.trim())}function bV(t,e,n,r,i={}){let o=oi(t,"transform");const a=qI(o);if(e==null)return a.rotation;o=a.raw,o=o.replace(/rotate\([^)]*\)/g,"").trim(),e%=360;const s=i.absolute?e:a.rotation.angle+e,l=n!=null&&r!=null?`,${n},${r}`:"",u=`rotate(${s}${l})`;t.setAttribute("transform",`${o} ${u}`.trim())}function _V(t,e,n){let r=oi(t,"transform");const i=qI(r);if(e==null)return i.scale;n=n??e,r=i.raw,r=r.replace(/scale\([^)]*\)/g,"").trim();const o=`scale(${e},${n})`;t.setAttribute("transform",`${r} ${o}`.trim())}function qS(t,e){if(av(e)&&av(t)){const n=e.getScreenCTM(),r=t.getScreenCTM();if(n&&r)return n.inverse().multiply(r)}return Ga()}function Zct(t,e){let n=Ga();if(av(e)&&av(t)){let r=t;const i=[];for(;r&&r!==e;){const o=r.getAttribute("transform")||null,a=Qx(o);i.push(a),r=r.parentNode}i.reverse().forEach(o=>{n=n.multiply(o)})}return n}function Jct(t,e,n){const r=t instanceof SVGSVGElement?t:t.ownerSVGElement,i=r.createSVGPoint();i.x=e,i.y=n;try{const o=r.getScreenCTM(),a=i.matrixTransform(o.inverse()),s=qS(t,r).inverse();return a.matrixTransform(s)}catch{return i}}var Cu;(function(t){const e={};function n(o){return e[o]||{}}t.get=n;function r(o,a){e[o]=a}t.register=r;function i(o){delete e[o]}t.unregister=i})(Cu||(Cu={}));var em;(function(t){const e=new WeakMap;function n(o){return e.has(o)||e.set(o,{events:Object.create(null)}),e.get(o)}t.ensure=n;function r(o){return e.get(o)}t.get=r;function i(o){return e.delete(o)}t.remove=i})(em||(em={}));var qr;(function(t){t.returnTrue=()=>!0,t.returnFalse=()=>!1;function e(i){i.stopPropagation()}t.stopPropagationCallback=e;function n(i,o,a){i.addEventListener!=null&&i.addEventListener(o,a)}t.addEventListener=n;function r(i,o,a){i.removeEventListener!=null&&i.removeEventListener(o,a)}t.removeEventListener=r})(qr||(qr={}));(function(t){const e=/[^\x20\t\r\n\f]+/g,n=/^([^.]*)(?:\.(.+)|)/;function r(s){return(s||"").match(e)||[""]}t.splitType=r;function i(s){const l=n.exec(s)||[];return{originType:l[1]?l[1].trim():l[1],namespaces:l[2]?l[2].split(".").map(u=>u.trim()).sort():[]}}t.normalizeType=i;function o(s){return s.nodeType===1||s.nodeType===9||!+s.nodeType}t.isValidTarget=o;function a(s,l){if(l){const u=s;return u.querySelector!=null&&u.querySelector(l)!=null}return!0}t.isValidSelector=a})(qr||(qr={}));(function(t){let e=0;const n=new WeakMap;function r(s){return n.has(s)||(n.set(s,e),e+=1),n.get(s)}t.ensureHandlerId=r;function i(s){return n.get(s)}t.getHandlerId=i;function o(s){return n.delete(s)}t.removeHandlerId=o;function a(s,l){return n.set(s,l)}t.setHandlerId=a})(qr||(qr={}));(function(t){function e(n,r){const i=[],o=em.get(n),a=o&&o.events&&o.events[r.type],s=a&&a.handlers||[],l=a?a.delegateCount:0;if(l>0&&!(r.type==="click"&&typeof r.button=="number"&&r.button>=1)){for(let u=r.target;u!==n;u=u.parentNode||n)if(u.nodeType===1&&!(r.type==="click"&&u.disabled===!0)){const c=[],f={};for(let d=0;d<l;d+=1){const h=s[d],p=h.selector;if(p!=null&&f[p]==null){const v=n,g=[];v.querySelectorAll(p).forEach(m=>{g.push(m)}),f[p]=g.includes(u)}f[p]&&c.push(h)}c.length&&i.push({elem:u,handlers:c})}}return l<s.length&&i.push({elem:n,handlers:s.slice(l)}),i}t.getHandlerQueue=e})(qr||(qr={}));(function(t){function e(n){return n!=null&&n===n.window}t.isWindow=e})(qr||(qr={}));(function(t){function e(n,r){const i=n.nodeType===9?n.documentElement:n,o=r&&r.parentNode;return n===o||!!(o&&o.nodeType===1&&(i.contains?i.contains(o):n.compareDocumentPosition&&n.compareDocumentPosition(o)&16))}t.contains=e})(qr||(qr={}));class Hf{constructor(e,n){this.isDefaultPrevented=qr.returnFalse,this.isPropagationStopped=qr.returnFalse,this.isImmediatePropagationStopped=qr.returnFalse,this.isSimulated=!1,this.preventDefault=()=>{const r=this.originalEvent;this.isDefaultPrevented=qr.returnTrue,r&&!this.isSimulated&&r.preventDefault()},this.stopPropagation=()=>{const r=this.originalEvent;this.isPropagationStopped=qr.returnTrue,r&&!this.isSimulated&&r.stopPropagation()},this.stopImmediatePropagation=()=>{const r=this.originalEvent;this.isImmediatePropagationStopped=qr.returnTrue,r&&!this.isSimulated&&r.stopImmediatePropagation(),this.stopPropagation()},typeof e=="string"?this.type=e:e.type&&(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?qr.returnTrue:qr.returnFalse,this.target=e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget,this.timeStamp=e.timeStamp),n&&Object.assign(this,n),this.timeStamp||(this.timeStamp=Date.now())}}(function(t){function e(n){return n instanceof t?n:new t(n)}t.create=e})(Hf||(Hf={}));(function(t){function e(n,r){Object.defineProperty(t.prototype,n,{enumerable:!0,configurable:!0,get:typeof r=="function"?function(){if(this.originalEvent)return r(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set(i){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:i})}})}t.addProperty=e})(Hf||(Hf={}));(function(t){const e={bubbles:!0,cancelable:!0,eventPhase:!0,detail:!0,view:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pageX:!0,pageY:!0,screenX:!0,screenY:!0,toElement:!0,pointerId:!0,pointerType:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,touches:!0,changedTouches:!0,targetTouches:!0,which:!0,altKey:!0,ctrlKey:!0,metaKey:!0,shiftKey:!0};Object.keys(e).forEach(n=>t.addProperty(n,e[n]))})(Hf||(Hf={}));(function(t){Cu.register("load",{noBubble:!0})})();(function(t){Cu.register("beforeunload",{postDispatch(e,n){n.result!==void 0&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}})})();(function(t){Cu.register("mouseenter",{delegateType:"mouseover",bindType:"mouseover",handle(e,n){let r;const i=n.relatedTarget,o=n.handleObj;return(!i||i!==e&&!qr.contains(e,i))&&(n.type=o.originType,r=o.handler.call(e,n),n.type="mouseover"),r}}),Cu.register("mouseleave",{delegateType:"mouseout",bindType:"mouseout",handle(e,n){let r;const i=n.relatedTarget,o=n.handleObj;return(!i||i!==e&&!qr.contains(e,i))&&(n.type=o.originType,r=o.handler.call(e,n),n.type="mouseout"),r}})})();var Qct=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},eC;(function(t){let e;function n(a,s,l,u,c){if(!qr.isValidTarget(a))return;let f;if(typeof l!="function"){const{handler:v,selector:g}=l,m=Qct(l,["handler","selector"]);l=v,c=g,f=m}const d=em.ensure(a);let h=d.handler;h==null&&(h=d.handler=function(v,...g){return e!==v.type?i(a,v,...g):void 0});const p=qr.ensureHandlerId(l);qr.splitType(s).forEach(v=>{const{originType:g,namespaces:m}=qr.normalizeType(v);if(!g)return;let y=g,b=Cu.get(y);y=(c?b.delegateType:b.bindType)||y,b=Cu.get(y);const w=Object.assign({type:y,originType:g,data:u,selector:c,guid:p,handler:l,namespace:m.join(".")},f),S=d.events;let x=S[y];x||(x=S[y]={handlers:[],delegateCount:0},(!b.setup||b.setup(a,u,m,h)===!1)&&qr.addEventListener(a,y,h)),b.add&&(qr.removeHandlerId(w.handler),b.add(a,w),qr.setHandlerId(w.handler,p)),c?(x.handlers.splice(x.delegateCount,0,w),x.delegateCount+=1):x.handlers.push(w)})}t.on=n;function r(a,s,l,u,c){const f=em.get(a);if(!f)return;const d=f.events;d&&(qr.splitType(s).forEach(h=>{const{originType:p,namespaces:v}=qr.normalizeType(h);if(!p){Object.keys(d).forEach(S=>{r(a,S+h,l,u,!0)});return}let g=p;const m=Cu.get(g);g=(u?m.delegateType:m.bindType)||g;const y=d[g];if(!y)return;const b=v.length>0?new RegExp(`(^|\\.)${v.join("\\.(?:.*\\.|)")}(\\.|$)`):null,w=y.handlers.length;for(let S=y.handlers.length-1;S>=0;S-=1){const x=y.handlers[S];(c||p===x.originType)&&(!l||qr.getHandlerId(l)===x.guid)&&(b==null||x.namespace&&b.test(x.namespace))&&(u==null||u===x.selector||u==="**"&&x.selector)&&(y.handlers.splice(S,1),x.selector&&(y.delegateCount-=1),m.remove&&m.remove(a,x))}w&&y.handlers.length===0&&((!m.teardown||m.teardown(a,v,f.handler)===!1)&&qr.removeEventListener(a,g,f.handler),delete d[g])}),Object.keys(d).length===0&&em.remove(a))}t.off=r;function i(a,s,...l){const u=Hf.create(s);u.delegateTarget=a;const c=Cu.get(u.type);if(c.preDispatch&&c.preDispatch(a,u)===!1)return;const f=qr.getHandlerQueue(a,u);for(let d=0,h=f.length;d<h&&!u.isPropagationStopped();d+=1){const p=f[d];u.currentTarget=p.elem;for(let v=0,g=p.handlers.length;v<g&&!u.isImmediatePropagationStopped();v+=1){const m=p.handlers[v];if(u.rnamespace==null||m.namespace&&u.rnamespace.test(m.namespace)){u.handleObj=m,u.data=m.data;const y=Cu.get(m.originType).handle,b=y?y(p.elem,u,...l):m.handler.call(p.elem,u,...l);b!==void 0&&(u.result=b,b===!1&&(u.preventDefault(),u.stopPropagation()))}}}return c.postDispatch&&c.postDispatch(a,u),u.result}t.dispatch=i;function o(a,s,l,u){let c=a,f=typeof a=="string"?a:a.type,d=typeof a=="string"||c.namespace==null?[]:c.namespace.split(".");const h=l;if(h.nodeType===3||h.nodeType===8)return;f.indexOf(".")>-1&&(d=f.split("."),f=d.shift(),d.sort());const p=f.indexOf(":")<0&&`on${f}`;c=a instanceof Hf?a:new Hf(f,typeof a=="object"?a:null),c.namespace=d.join("."),c.rnamespace=c.namespace?new RegExp(`(^|\\.)${d.join("\\.(?:.*\\.|)")}(\\.|$)`):null,c.result=void 0,c.target||(c.target=h);const v=[c];Array.isArray(s)?v.push(...s):v.push(s);const g=Cu.get(f);if(!u&&g.trigger&&g.trigger(h,c,s)===!1)return;let m;const y=[h];if(!u&&!g.noBubble&&!qr.isWindow(h)){m=g.delegateType||f;let w=h,S=h.parentNode;for(;S!=null;)y.push(S),w=S,S=S.parentNode;const x=h.ownerDocument||document;if(w===x){const C=w.defaultView||w.parentWindow||window;y.push(C)}}let b=h;for(let w=0,S=y.length;w<S&&!c.isPropagationStopped();w+=1){const x=y[w];b=x,c.type=w>1?m:g.bindType||f;const C=em.get(x);C&&C.events[c.type]&&C.handler&&C.handler.call(x,...v);const E=p&&x[p]||null;E&&qr.isValidTarget(x)&&(c.result=E.call(x,...v),c.result===!1&&c.preventDefault())}if(c.type=f,!u&&!c.isDefaultPrevented()){const w=g.preventDefault;if((w==null||w(y.pop(),c,s)===!1)&&qr.isValidTarget(h)&&p&&typeof h[f]=="function"&&!qr.isWindow(h)){const S=h[p];S&&(h[p]=null),e=f,c.isPropagationStopped()&&b.addEventListener(f,qr.stopPropagationCallback),h[f](),c.isPropagationStopped()&&b.removeEventListener(f,qr.stopPropagationCallback),e=void 0,S&&(h[p]=S)}}return c.result}t.trigger=o})(eC||(eC={}));var Za;(function(t){function e(o,a,s,l,u){return KS.on(o,a,s,l,u),o}t.on=e;function n(o,a,s,l,u){return KS.on(o,a,s,l,u,!0),o}t.once=n;function r(o,a,s,l){return KS.off(o,a,s,l),o}t.off=r;function i(o,a,s,l){return eC.trigger(a,s,o,l),o}t.trigger=i})(Za||(Za={}));var KS;(function(t){function e(r,i,o,a,s,l){if(typeof i=="object"){typeof o!="string"&&(a=a||o,o=void 0),Object.keys(i).forEach(u=>e(r,u,o,a,i[u],l));return}if(a==null&&s==null?(s=o,a=o=void 0):s==null&&(typeof o=="string"?(s=a,a=void 0):(s=a,a=o,o=void 0)),s===!1)s=qr.returnFalse;else if(!s)return;if(l){const u=s;s=function(c,...f){return t.off(r,c),u.call(this,c,...f)},qr.setHandlerId(s,qr.ensureHandlerId(u))}eC.on(r,i,s,a,o)}t.on=e;function n(r,i,o,a){const s=i;if(s&&s.preventDefault!=null&&s.handleObj!=null){const l=s.handleObj;n(s.delegateTarget,l.namespace?`${l.originType}.${l.namespace}`:l.originType,l.selector,l.handler);return}if(typeof i=="object"){const l=i;Object.keys(l).forEach(u=>n(r,u,o,l[u]));return}(o===!1||typeof o=="function")&&(a=o,o=void 0),a===!1&&(a=qr.returnFalse),eC.off(r,i,a,o)}t.off=n})(KS||(KS={}));class Eye{constructor(e,n,r){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=ov.isEventSupported("wheel")?"wheel":"mousewheel",this.target=e,this.onWheelCallback=n,this.onWheelGuard=r,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){this.target.addEventListener(this.eventName,this.onWheel,{passive:!1})}disable(){this.target.removeEventListener(this.eventName,this.onWheel)}onWheel(e){if(this.onWheelGuard!=null&&!this.onWheelGuard(e))return;this.deltaX+=e.deltaX,this.deltaY+=e.deltaY,e.preventDefault();let n;(this.deltaX!==0||this.deltaY!==0)&&(e.stopPropagation(),n=!0),n===!0&&this.animationFrameId===0&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(e)}))}didWheel(e){this.animationFrameId=0,this.onWheelCallback(e,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}function wV(t){const e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView;return{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}}function eft(t){return t.getBoundingClientRect().width}function tft(t){return t.getBoundingClientRect().height}function Tye(t,e=60){let n=null;return(...r)=>{n&&clearTimeout(n),n=window.setTimeout(()=>{t.apply(this,r)},e)}}function nft(t){let e=null,n=[];const r=()=>{if(getComputedStyle(t).position==="static"){const u=t.style;u.position="relative"}const l=document.createElement("object");return l.onload=()=>{l.contentDocument.defaultView.addEventListener("resize",i),i()},l.style.display="block",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.height="100%",l.style.width="100%",l.style.overflow="hidden",l.style.pointerEvents="none",l.style.zIndex="-1",l.style.opacity="0",l.setAttribute("tabindex","-1"),l.type="text/html",t.appendChild(l),l.data="about:blank",l},i=Tye(()=>{n.forEach(l=>l(t))}),o=l=>{e||(e=r()),n.indexOf(l)===-1&&n.push(l)},a=()=>{e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",i),e.parentNode.removeChild(e),e=null,n=[])};return{element:t,bind:o,destroy:a,unbind:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),n.length===0&&e&&a()}}}function rft(t){let e=null,n=[];const r=Tye(()=>{n.forEach(l=>{l(t)})}),i=()=>{const l=new ResizeObserver(r);return l.observe(t),r(),l},o=l=>{e||(e=i()),n.indexOf(l)===-1&&n.push(l)},a=()=>{e&&(e.disconnect(),n=[],e=null)};return{element:t,bind:o,destroy:a,unbind:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),n.length===0&&e&&a()}}}const ift=typeof ResizeObserver<"u"?rft:nft;var lP;(function(t){const e=new WeakMap;function n(i){let o=e.get(i);return o||(o=ift(i),e.set(i,o),o)}function r(i){i.destroy(),e.delete(i.element)}t.bind=(i,o)=>{const a=n(i);return a.bind(o),()=>a.unbind(o)},t.clear=i=>{const o=n(i);r(o)}})(lP||(lP={}));let SV=class Aye{constructor(e={}){this.comparator=e.comparator||Aye.defaultComparator,this.index={},this.data=e.data||[],this.heapify()}isEmpty(){return this.data.length===0}insert(e,n,r){const i={priority:e,value:n},o=this.data.length;return r&&(i.id=r,this.index[r]=o),this.data.push(i),this.bubbleUp(o),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(e,n){const r=this.index[e];if(typeof r>"u")throw new Error(`Node with id '${e}' was not found in the heap.`);const i=this.data,o=i[r].priority,a=this.comparator(n,o);a<0?(i[r].priority=n,this.bubbleUp(r)):a>0&&(i[r].priority=n,this.bubbleDown(r))}remove(){const e=this.data,n=e[0],r=e.pop();return n.id&&delete this.index[n.id],e.length>0&&(e[0]=r,r.id&&(this.index[r.id]=0),this.bubbleDown(0)),n?n.value:null}heapify(){for(let e=0;e<this.data.length;e+=1)this.bubbleUp(e)}bubbleUp(e){const n=this.data;let r,i,o=e;for(;o>0&&(i=o-1>>>1,this.comparator(n[o].priority,n[i].priority)<0);){r=n[i],n[i]=n[o];let a=n[o].id;a!=null&&(this.index[a]=i),n[o]=r,a=n[o].id,a!=null&&(this.index[a]=o),o=i}}bubbleDown(e){const n=this.data,r=n.length-1;let i=e;for(;;){const o=(i<<1)+1,a=o+1;let s=i;if(o<=r&&this.comparator(n[o].priority,n[s].priority)<0&&(s=o),a<=r&&this.comparator(n[a].priority,n[s].priority)<0&&(s=a),s!==i){const l=n[s];n[s]=n[i];let u=n[i].id;u!=null&&(this.index[u]=s),n[i]=l,u=n[i].id,u!=null&&(this.index[u]=i),i=s}else break}}};(function(t){t.defaultComparator=(e,n)=>e-n})(SV||(SV={}));var xV;(function(t){function e(n,r,i=(o,a)=>1){const o={},a={},s={},l=new SV;for(o[r]=0,Object.keys(n).forEach(u=>{u!==r&&(o[u]=1/0),l.insert(o[u],u,u)});!l.isEmpty();){const u=l.remove();s[u]=!0;const c=n[u]||[];for(let f=0;f<c.length;f+=1){const d=c[f];if(!s[d]){const h=o[u]+i(u,d);h<o[d]&&(o[d]=h,a[d]=u,l.updatePriority(d,h))}}}return a}t.run=e})(xV||(xV={}));class Vd{constructor(e,n,r,i){if(e==null)return this.set(255,255,255,1);if(typeof e=="number")return this.set(e,n,r,i);if(typeof e=="string")return Vd.fromString(e)||this;if(Array.isArray(e))return this.set(e);this.set(e.r,e.g,e.b,e.a==null?1:e.a)}blend(e,n,r){this.set(e.r+(n.r-e.r)*r,e.g+(n.g-e.g)*r,e.b+(n.b-e.b)*r,e.a+(n.a-e.a)*r)}lighten(e){const n=Vd.lighten(this.toArray(),e);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}darken(e){this.lighten(-e)}set(e,n,r,i){const o=Array.isArray(e)?e[0]:e,a=Array.isArray(e)?e[1]:n,s=Array.isArray(e)?e[2]:r,l=Array.isArray(e)?e[3]:i;return this.r=Math.round(Xs(o,0,255)),this.g=Math.round(Xs(a,0,255)),this.b=Math.round(Xs(s,0,255)),this.a=l==null?1:Xs(l,0,1),this}toHex(){return`#${["r","g","b"].map(n=>{const r=this[n].toString(16);return r.length<2?`0${r}`:r}).join("")}`}toRGBA(){return this.toArray()}toHSLA(){return Vd.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(e){const n=`${this.r},${this.g},${this.b},`;return e?`rgb(${n})`:`rgba(${n},${this.a})`}toGrey(){return Vd.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}(function(t){function e(b){return new t(b)}t.fromArray=e;function n(b){return new t([...p(b),1])}t.fromHex=n;function r(b){const w=b.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(w){const S=w[1].split(/\s*,\s*/).map(x=>parseInt(x,10));return new t(S)}return null}t.fromRGBA=r;function i(b,w,S){S<0&&++S,S>1&&--S;const x=6*S;return x<1?b+(w-b)*x:2*S<1?w:3*S<2?b+(w-b)*(2/3-S)*6:b}function o(b){const w=b.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(w){const S=w[2].split(/\s*,\s*/),x=(parseFloat(S[0])%360+360)%360/360,C=parseFloat(S[1])/100,E=parseFloat(S[2])/100,T=S[3]==null?1:parseInt(S[3],10);return new t(u(x,C,E,T))}return null}t.fromHSLA=o;function a(b){if(b.startsWith("#"))return n(b);if(b.startsWith("rgb"))return r(b);const w=t.named[b];return w?n(w):o(b)}t.fromString=a;function s(b,w){return t.fromArray([b,b,b,w])}t.makeGrey=s;function l(b,w,S,x){const C=Array.isArray(b)?b[0]:b,E=Array.isArray(b)?b[1]:w,T=Array.isArray(b)?b[2]:S,A=Array.isArray(b)?b[3]:x,k=Math.max(C,E,T),M=Math.min(C,E,T),D=(k+M)/2;let L=0,I=0;if(M!==k){const R=k-M;switch(I=D>.5?R/(2-k-M):R/(k+M),k){case C:L=(E-T)/R+(E<T?6:0);break;case E:L=(T-C)/R+2;break;case T:L=(C-E)/R+4;break}L/=6}return[L,I,D,A??1]}t.rgba2hsla=l;function u(b,w,S,x){const C=Array.isArray(b)?b[0]:b,E=Array.isArray(b)?b[1]:w,T=Array.isArray(b)?b[2]:S,A=Array.isArray(b)?b[3]:x,k=T<=.5?T*(E+1):T+E-T*E,M=2*T-k;return[i(M,k,C+1/3)*256,i(M,k,C)*256,i(M,k,C-1/3)*256,A??1]}t.hsla2rgba=u;function c(b){return new t(Math.round(Math.random()*256),Math.round(Math.random()*256),Math.round(Math.random()*256),b?void 0:parseFloat(Math.random().toFixed(2)))}t.random=c;function f(){const b="0123456789ABCDEF";let w="#";for(let S=0;S<6;S+=1)w+=b[Math.floor(Math.random()*16)];return w}t.randomHex=f;function d(b){return c(b).toString()}t.randomRGBA=d;function h(b,w){if(typeof b=="string"){const T=b[0]==="#",[A,k,M]=p(b);return w?A*.299+k*.587+M*.114>186?"#000000":"#ffffff":`${T?"#":""}${v(255-A,255-k,255-M)}`}const S=b[0],x=b[1],C=b[2],E=b[3];return w?S*.299+x*.587+C*.114>186?[0,0,0,E]:[255,255,255,E]:[255-S,255-x,255-C,E]}t.invert=h;function p(b){const w=b.indexOf("#")===0?b:`#${b}`;let S=+`0x${w.substr(1)}`;if(!(w.length===4||w.length===7)||Number.isNaN(S))throw new Error("Invalid hex color.");const x=w.length===4?4:8,C=(1<<x)-1,E=["b","g","r"].map(()=>{const T=S&C;return S>>=x,x===4?17*T:T});return[E[2],E[1],E[0]]}function v(b,w,S){const x=C=>C.length<2?`0${C}`:C;return`${x(b.toString(16))}${x(w.toString(16))}${x(S.toString(16))}`}function g(b,w){return y(b,w)}t.lighten=g;function m(b,w){return y(b,-w)}t.darken=m;function y(b,w){if(typeof b=="string"){const C=b[0]==="#",E=parseInt(C?b.substr(1):b,16),T=Xs((E>>16)+w,0,255),A=Xs((E>>8&255)+w,0,255),k=Xs((E&255)+w,0,255);return`${C?"#":""}${(k|A<<8|T<<16).toString(16)}`}const S=v(b[0],b[1],b[2]),x=p(y(S,w));return[x[0],x[1],x[2],b[3]]}})(Vd||(Vd={}));(function(t){t.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}})(Vd||(Vd={}));class CV{constructor(){this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(e){return this.map.has(e)}get(e){return this.map.get(e)}set(e,n){this.map.set(e,n),this.arr.push(e)}delete(e){const n=this.arr.indexOf(e);n>=0&&this.arr.splice(n,1);const r=this.map.get(e);return this.map.delete(e),r}each(e){this.arr.forEach(n=>{const r=this.map.get(n);e(r,n)})}dispose(){this.clear()}}var sv;(function(t){function e(i){const o=[],a=[];return Array.isArray(i)?o.push(...i):i.split("|").forEach(s=>{s.indexOf("&")===-1?o.push(s):a.push(...s.split("&"))}),{or:o,and:a}}t.parse=e;function n(i,o){if(i!=null&&o!=null){const a=e(i),s=e(o),l=a.or.sort(),u=s.or.sort(),c=a.and.sort(),f=s.and.sort(),d=(h,p)=>h.length===p.length&&(h.length===0||h.every((v,g)=>v===p[g]));return d(l,u)&&d(c,f)}return i==null&&o==null}t.equals=n;function r(i,o,a){if(o==null||Array.isArray(o)&&o.length===0)return a?i.altKey!==!0&&i.ctrlKey!==!0&&i.metaKey!==!0&&i.shiftKey!==!0:!0;const{or:s,and:l}=e(o),u=c=>{const f=`${c.toLowerCase()}Key`;return i[f]===!0};return s.some(c=>u(c))&&l.every(c=>u(c))}t.isMatch=r})(sv||(sv={}));var Um;(function(t){t.linear=e=>e,t.quad=e=>e*e,t.cubic=e=>e*e*e,t.inout=e=>{if(e<=0)return 0;if(e>=1)return 1;const n=e*e,r=n*e;return 4*(e<.5?r:3*(e-n)+r-.75)},t.exponential=e=>Math.pow(2,10*(e-1)),t.bounce=(e=>{for(let n=0,r=1;;n+=r,r/=2)if(e>=(7-4*n)/11){const i=(11-6*n-11*e)/4;return-i*i+r*r}})})(Um||(Um={}));(function(t){t.decorators={reverse(e){return n=>1-e(1-n)},reflect(e){return n=>.5*(n<.5?e(2*n):2-e(2-2*n))},clamp(e,n=0,r=1){return i=>{const o=e(i);return o<n?n:o>r?r:o}},back(e=1.70158){return n=>n*n*((e+1)*n-e)},elastic(e=1.5){return n=>Math.pow(2,10*(n-1))*Math.cos(20*Math.PI*e/3*n)}}})(Um||(Um={}));(function(t){function e(I){return-1*Math.cos(I*(Math.PI/2))+1}t.easeInSine=e;function n(I){return Math.sin(I*(Math.PI/2))}t.easeOutSine=n;function r(I){return-.5*(Math.cos(Math.PI*I)-1)}t.easeInOutSine=r;function i(I){return I*I}t.easeInQuad=i;function o(I){return I*(2-I)}t.easeOutQuad=o;function a(I){return I<.5?2*I*I:-1+(4-2*I)*I}t.easeInOutQuad=a;function s(I){return I*I*I}t.easeInCubic=s;function l(I){const R=I-1;return R*R*R+1}t.easeOutCubic=l;function u(I){return I<.5?4*I*I*I:(I-1)*(2*I-2)*(2*I-2)+1}t.easeInOutCubic=u;function c(I){return I*I*I*I}t.easeInQuart=c;function f(I){const R=I-1;return 1-R*R*R*R}t.easeOutQuart=f;function d(I){const R=I-1;return I<.5?8*I*I*I*I:1-8*R*R*R*R}t.easeInOutQuart=d;function h(I){return I*I*I*I*I}t.easeInQuint=h;function p(I){const R=I-1;return 1+R*R*R*R*R}t.easeOutQuint=p;function v(I){const R=I-1;return I<.5?16*I*I*I*I*I:1+16*R*R*R*R*R}t.easeInOutQuint=v;function g(I){return I===0?0:Math.pow(2,10*(I-1))}t.easeInExpo=g;function m(I){return I===1?1:-Math.pow(2,-10*I)+1}t.easeOutExpo=m;function y(I){if(I===0||I===1)return I;const R=I*2,V=R-1;return R<1?.5*Math.pow(2,10*V):.5*(-Math.pow(2,-10*V)+2)}t.easeInOutExpo=y;function b(I){const R=I/1;return-1*(Math.sqrt(1-R*I)-1)}t.easeInCirc=b;function w(I){const R=I-1;return Math.sqrt(1-R*R)}t.easeOutCirc=w;function S(I){const R=I*2,V=R-2;return R<1?-.5*(Math.sqrt(1-R*R)-1):.5*(Math.sqrt(1-V*V)+1)}t.easeInOutCirc=S;function x(I,R=1.70158){return I*I*((R+1)*I-R)}t.easeInBack=x;function C(I,R=1.70158){const V=I/1-1;return V*V*((R+1)*V+R)+1}t.easeOutBack=C;function E(I,R=1.70158){const V=I*2,P=V-2,B=R*1.525;return V<1?.5*V*V*((B+1)*V-B):.5*(P*P*((B+1)*P+B)+2)}t.easeInOutBack=E;function T(I,R=.7){if(I===0||I===1)return I;const P=I/1-1,B=1-R,j=B/(2*Math.PI)*Math.asin(1);return-(Math.pow(2,10*P)*Math.sin((P-j)*(2*Math.PI)/B))}t.easeInElastic=T;function A(I,R=.7){const V=1-R,P=I*2;if(I===0||I===1)return I;const B=V/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*P)*Math.sin((P-B)*(2*Math.PI)/V)+1}t.easeOutElastic=A;function k(I,R=.65){const V=1-R;if(I===0||I===1)return I;const P=I*2,B=P-1,j=V/(2*Math.PI)*Math.asin(1);return P<1?-.5*(Math.pow(2,10*B)*Math.sin((B-j)*(2*Math.PI)/V)):Math.pow(2,-10*B)*Math.sin((B-j)*(2*Math.PI)/V)*.5+1}t.easeInOutElastic=k;function M(I){const R=I/1;if(R<1/2.75)return 7.5625*R*R;if(R<2/2.75){const V=R-.5454545454545454;return 7.5625*V*V+.75}if(R<2.5/2.75){const V=R-.8181818181818182;return 7.5625*V*V+.9375}{const V=R-.9545454545454546;return 7.5625*V*V+.984375}}t.easeOutBounce=M;function D(I){return 1-M(1-I)}t.easeInBounce=D;function L(I){return I<.5?D(I*2)*.5:M(I*2-1)*.5+.5}t.easeInOutBounce=L})(Um||(Um={}));var tm;(function(t){t.number=(e,n)=>{const r=n-e;return i=>e+r*i},t.object=(e,n)=>{const r=Object.keys(e);return i=>{const o={};for(let a=r.length-1;a!==-1;a-=1){const s=r[a];o[s]=e[s]+(n[s]-e[s])*i}return o}},t.unit=(e,n)=>{const r=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,i=r.exec(e),o=r.exec(n),a=o?o[1]:"",s=i?+i[1]:0,l=o?+o[1]:0,u=a.indexOf("."),c=u>0?a[1].length-u-1:0,f=l-s,d=i?i[2]:"";return h=>(s+f*h).toFixed(c)+d},t.color=(e,n)=>{const r=parseInt(e.slice(1),16),i=parseInt(n.slice(1),16),o=r&255,a=(i&255)-o,s=r&65280,l=(i&65280)-s,u=r&16711680,c=(i&16711680)-u;return f=>{const d=o+a*f&255,h=s+l*f&65280,p=u+c*f&16711680;return`#${(1<<24|d|h|p).toString(16).slice(1)}`}}})(tm||(tm={}));const YS=[];function y_(t,e){const n=YS.find(r=>r.name===t);if(!(n&&(n.loadTimes+=1,n.loadTimes>1))&&!ov.isApplyingHMR()){const r=document.createElement("style");r.setAttribute("type","text/css"),r.textContent=e;const i=document.querySelector("head");i&&i.insertBefore(r,i.firstChild),YS.push({name:t,loadTimes:1,styleElement:r})}}function b_(t){const e=YS.findIndex(n=>n.name===t);if(e>-1){const n=YS[e];if(n.loadTimes-=1,n.loadTimes>0)return;let r=n.styleElement;r&&r.parentNode&&r.parentNode.removeChild(r),r=null,YS.splice(e,1)}}var xi;(function(t){function e(r){return 180*r/Math.PI%360}t.toDeg=e,t.toRad=function(r,i=!1){return(i?r:r%360)*Math.PI/180};function n(r){return r%360+(r<0?360:0)}t.normalize=n})(xi||(xi={}));var ki;(function(t){function e(s,l=0){return Number.isInteger(s)?s:+s.toFixed(l)}t.round=e;function n(s,l){let u,c;if(l==null?(c=s??1,u=0):(c=l,u=s??0),c<u){const f=u;u=c,c=f}return Math.floor(Math.random()*(c-u+1)+u)}t.random=n;function r(s,l,u){return Number.isNaN(s)?NaN:Number.isNaN(l)||Number.isNaN(u)?0:l<u?s<l?l:s>u?u:s:s<u?u:s>l?l:s}t.clamp=r;function i(s,l){return l*Math.round(s/l)}t.snapToGrid=i;function o(s,l){return l!=null&&s!=null&&l.x>=s.x&&l.x<=s.x+s.width&&l.y>=s.y&&l.y<=s.y+s.height}t.containsPoint=o;function a(s,l){const u=s.x-l.x,c=s.y-l.y;return u*u+c*c}t.squaredLength=a})(ki||(ki={}));class Iv{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}let Ve=class Ri extends Iv{constructor(e,n){super(),this.x=e??0,this.y=n??0}round(e=0){return this.x=ki.round(this.x,e),this.y=ki.round(this.y,e),this}add(e,n){const r=Ri.create(e,n);return this.x+=r.x,this.y+=r.y,this}update(e,n){const r=Ri.create(e,n);return this.x=r.x,this.y=r.y,this}translate(e,n){const r=Ri.create(e,n);return this.x+=r.x,this.y+=r.y,this}rotate(e,n){const r=Ri.rotate(this,e,n);return this.x=r.x,this.y=r.y,this}scale(e,n,r=new Ri){const i=Ri.create(r);return this.x=i.x+e*(this.x-i.x),this.y=i.y+n*(this.y-i.y),this}closest(e){if(e.length===1)return Ri.create(e[0]);let n=null,r=1/0;return e.forEach(i=>{const o=this.squaredDistance(i);o<r&&(n=i,r=o)}),n?Ri.create(n):null}distance(e){return Math.sqrt(this.squaredDistance(e))}squaredDistance(e){const n=Ri.create(e),r=this.x-n.x,i=this.y-n.y;return r*r+i*i}manhattanDistance(e){const n=Ri.create(e);return Math.abs(n.x-this.x)+Math.abs(n.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(e=new Ri){const n=Ri.create(e),r=-(n.y-this.y),i=n.x-this.x;let o=Math.atan2(r,i);return o<0&&(o=2*Math.PI+o),180*o/Math.PI}angleBetween(e,n){if(this.equals(e)||this.equals(n))return NaN;let r=this.theta(n)-this.theta(e);return r<0&&(r+=360),r}vectorAngle(e){return new Ri(0,0).angleBetween(this,e)}toPolar(e){return this.update(Ri.toPolar(this,e)),this}changeInAngle(e,n,r=new Ri){return this.clone().translate(-e,-n).theta(r)-this.theta(r)}adhereToRect(e){return ki.containsPoint(e,this)||(this.x=Math.min(Math.max(this.x,e.x),e.x+e.width),this.y=Math.min(Math.max(this.y,e.y),e.y+e.height)),this}bearing(e){const n=Ri.create(e),r=xi.toRad(this.y),i=xi.toRad(n.y),o=this.x,a=n.x,s=xi.toRad(a-o),l=Math.sin(s)*Math.cos(i),u=Math.cos(r)*Math.sin(i)-Math.sin(r)*Math.cos(i)*Math.cos(s),c=xi.toDeg(Math.atan2(l,u)),f=["NE","E","SE","S","SW","W","NW","N"];let d=c-22.5;return d<0&&(d+=360),d=parseInt(d/45,10),f[d]}cross(e,n){if(e!=null&&n!=null){const r=Ri.create(e),i=Ri.create(n);return(i.x-this.x)*(r.y-this.y)-(i.y-this.y)*(r.x-this.x)}return NaN}dot(e){const n=Ri.create(e);return this.x*n.x+this.y*n.y}diff(e,n){if(typeof e=="number")return new Ri(this.x-e,this.y-n);const r=Ri.create(e);return new Ri(this.x-r.x,this.y-r.y)}lerp(e,n){const r=Ri.create(e);return new Ri((1-n)*this.x+n*r.x,(1-n)*this.y+n*r.y)}normalize(e=1){const n=e/this.magnitude();return this.scale(n,n)}move(e,n){const r=Ri.create(e),i=xi.toRad(r.theta(this));return this.translate(Math.cos(i)*n,-Math.sin(i)*n)}reflection(e){return Ri.create(e).move(this,this.distance(e))}snapToGrid(e,n){return this.x=ki.snapToGrid(this.x,e),this.y=ki.snapToGrid(this.y,n??e),this}equals(e){const n=Ri.create(e);return n!=null&&n.x===this.x&&n.y===this.y}clone(){return Ri.clone(this)}toJSON(){return Ri.toJSON(this)}serialize(){return`${this.x} ${this.y}`}};(function(t){function e(n){return n!=null&&n instanceof t}t.isPoint=e})(Ve||(Ve={}));(function(t){function e(r){return r!=null&&typeof r=="object"&&typeof r.x=="number"&&typeof r.y=="number"}t.isPointLike=e;function n(r){return r!=null&&Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}t.isPointData=n})(Ve||(Ve={}));(function(t){function e(f,d){return f==null||typeof f=="number"?new t(f,d):n(f)}t.create=e;function n(f){return t.isPoint(f)?new t(f.x,f.y):Array.isArray(f)?new t(f[0],f[1]):new t(f.x,f.y)}t.clone=n;function r(f){return t.isPoint(f)?{x:f.x,y:f.y}:Array.isArray(f)?{x:f[0],y:f[1]}:{x:f.x,y:f.y}}t.toJSON=r;function i(f,d,h=new t){let p=Math.abs(f*Math.cos(d)),v=Math.abs(f*Math.sin(d));const g=n(h),m=xi.normalize(xi.toDeg(d));return m<90?v=-v:m<180?(p=-p,v=-v):m<270&&(p=-p),new t(g.x+p,g.y+v)}t.fromPolar=i;function o(f,d=new t){const h=n(f),p=n(d),v=h.x-p.x,g=h.y-p.y;return new t(Math.sqrt(v*v+g*g),xi.toRad(p.theta(h)))}t.toPolar=o;function a(f,d){return f===d?!0:f!=null&&d!=null?f.x===d.x&&f.y===d.y:!1}t.equals=a;function s(f,d){if(f==null&&d!=null||f!=null&&d==null||f!=null&&d!=null&&f.length!==d.length)return!1;if(f!=null&&d!=null){for(let h=0,p=f.length;h<p;h+=1)if(!a(f[h],d[h]))return!1}return!0}t.equalPoints=s;function l(f,d,h,p){return new t(ki.random(f,d),ki.random(h,p))}t.random=l;function u(f,d,h){const p=xi.toRad(xi.normalize(-d)),v=Math.sin(p),g=Math.cos(p);return c(f,g,v,h)}t.rotate=u;function c(f,d,h,p=new t){const v=n(f),g=n(p),m=v.x-g.x,y=v.y-g.y,b=m*d-y*h,w=y*d+m*h;return new t(b+g.x,w+g.y)}t.rotateEx=c})(Ve||(Ve={}));class bn extends Iv{get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new Ve(this.x,this.y)}get topLeft(){return new Ve(this.x,this.y)}get topCenter(){return new Ve(this.x+this.width/2,this.y)}get topRight(){return new Ve(this.x+this.width,this.y)}get center(){return new Ve(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new Ve(this.x,this.y+this.height)}get bottomCenter(){return new Ve(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new Ve(this.x+this.width,this.y+this.height)}get corner(){return new Ve(this.x+this.width,this.y+this.height)}get rightMiddle(){return new Ve(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new Ve(this.x,this.y+this.height/2)}get topLine(){return new fr(this.topLeft,this.topRight)}get rightLine(){return new fr(this.topRight,this.bottomRight)}get bottomLine(){return new fr(this.bottomLeft,this.bottomRight)}get leftLine(){return new fr(this.topLeft,this.bottomLeft)}constructor(e,n,r,i){super(),this.x=e??0,this.y=n??0,this.width=r??0,this.height=i??0}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(e){if(!e)return this.clone();const n=xi.toRad(e),r=Math.abs(Math.sin(n)),i=Math.abs(Math.cos(n)),o=this.width*i+this.height*r,a=this.width*r+this.height*i;return new bn(this.x+(this.width-o)/2,this.y+(this.height-a)/2,o,a)}round(e=0){return this.x=ki.round(this.x,e),this.y=ki.round(this.y,e),this.width=ki.round(this.width,e),this.height=ki.round(this.height,e),this}add(e,n,r,i){const o=bn.create(e,n,r,i),a=Math.min(this.x,o.x),s=Math.min(this.y,o.y),l=Math.max(this.x+this.width,o.x+o.width),u=Math.max(this.y+this.height,o.y+o.height);return this.x=a,this.y=s,this.width=l-a,this.height=u-s,this}update(e,n,r,i){const o=bn.create(e,n,r,i);return this.x=o.x,this.y=o.y,this.width=o.width,this.height=o.height,this}inflate(e,n){const r=e,i=n??e;return this.x-=r,this.y-=i,this.width+=2*r,this.height+=2*i,this}snapToGrid(e,n){const r=this.origin.snapToGrid(e,n),i=this.corner.snapToGrid(e,n);return this.x=r.x,this.y=r.y,this.width=i.x-r.x,this.height=i.y-r.y,this}translate(e,n){const r=Ve.create(e,n);return this.x+=r.x,this.y+=r.y,this}scale(e,n,r=new Ve){const i=this.origin.scale(e,n,r);return this.x=i.x,this.y=i.y,this.width*=e,this.height*=n,this}rotate(e,n=this.getCenter()){if(e!==0){const r=xi.toRad(e),i=Math.cos(r),o=Math.sin(r);let a=this.getOrigin(),s=this.getTopRight(),l=this.getBottomRight(),u=this.getBottomLeft();a=Ve.rotateEx(a,i,o,n),s=Ve.rotateEx(s,i,o,n),l=Ve.rotateEx(l,i,o,n),u=Ve.rotateEx(u,i,o,n);const c=new bn(a.x,a.y,0,0);c.add(s.x,s.y,0,0),c.add(l.x,l.y,0,0),c.add(u.x,u.y,0,0),this.update(c)}return this}rotate90(){const e=(this.width-this.height)/2;this.x+=e,this.y-=e;const n=this.width;return this.width=this.height,this.height=n,this}moveAndExpand(e){const n=bn.clone(e);return this.x+=n.x||0,this.y+=n.y||0,this.width+=n.width||0,this.height+=n.height||0,this}getMaxScaleToFit(e,n=this.center){const r=bn.clone(e),i=n.x,o=n.y;let a=1/0,s=1/0,l=1/0,u=1/0,c=1/0,f=1/0,d=1/0,h=1/0;const p=r.topLeft;p.x<i&&(a=(this.x-i)/(p.x-i)),p.y<o&&(c=(this.y-o)/(p.y-o));const v=r.bottomRight;v.x>i&&(s=(this.x+this.width-i)/(v.x-i)),v.y>o&&(f=(this.y+this.height-o)/(v.y-o));const g=r.topRight;g.x>i&&(l=(this.x+this.width-i)/(g.x-i)),g.y<o&&(d=(this.y-o)/(g.y-o));const m=r.bottomLeft;return m.x<i&&(u=(this.x-i)/(m.x-i)),m.y>o&&(h=(this.y+this.height-o)/(m.y-o)),{sx:Math.min(a,s,l,u),sy:Math.min(c,f,d,h)}}getMaxUniformScaleToFit(e,n=this.center){const r=this.getMaxScaleToFit(e,n);return Math.min(r.sx,r.sy)}containsPoint(e,n){return ki.containsPoint(this,Ve.create(e,n))}containsRect(e,n,r,i){const o=bn.create(e,n,r,i),a=this.x,s=this.y,l=this.width,u=this.height,c=o.x,f=o.y,d=o.width,h=o.height;return l===0||u===0||d===0||h===0?!1:c>=a&&f>=s&&c+d<=a+l&&f+h<=s+u}intersectsWithLine(e){const n=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],r=[],i=[];return n.forEach(o=>{const a=e.intersectsWithLine(o);a!==null&&i.indexOf(a.toString())<0&&(r.push(a),i.push(a.toString()))}),r.length>0?r:null}intersectsWithLineFromCenterToPoint(e,n){const r=Ve.clone(e),i=this.center;let o=null;n!=null&&n!==0&&r.rotate(n,i);const a=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],s=new fr(i,r);for(let l=a.length-1;l>=0;l-=1){const u=a[l].intersectsWithLine(s);if(u!==null){o=u;break}}return o&&n!=null&&n!==0&&o.rotate(-n,i),o}intersectsWithRect(e,n,r,i){const o=bn.create(e,n,r,i);if(!this.isIntersectWithRect(o))return null;const a=this.origin,s=this.corner,l=o.origin,u=o.corner,c=Math.max(a.x,l.x),f=Math.max(a.y,l.y);return new bn(c,f,Math.min(s.x,u.x)-c,Math.min(s.y,u.y)-f)}isIntersectWithRect(e,n,r,i){const o=bn.create(e,n,r,i),a=this.origin,s=this.corner,l=o.origin,u=o.corner;return!(u.x<=a.x||u.y<=a.y||l.x>=s.x||l.y>=s.y)}normalize(){let e=this.x,n=this.y,r=this.width,i=this.height;return this.width<0&&(e=this.x+this.width,r=-this.width),this.height<0&&(n=this.y+this.height,i=-this.height),this.x=e,this.y=n,this.width=r,this.height=i,this}union(e){const n=bn.clone(e),r=this.origin,i=this.corner,o=n.origin,a=n.corner,s=Math.min(r.x,o.x),l=Math.min(r.y,o.y),u=Math.max(i.x,a.x),c=Math.max(i.y,a.y);return new bn(s,l,u-s,c-l)}getNearestSideToPoint(e){const n=Ve.clone(e),r=n.x-this.x,i=this.x+this.width-n.x,o=n.y-this.y,a=this.y+this.height-n.y;let s=r,l="left";return i<s&&(s=i,l="right"),o<s&&(s=o,l="top"),a<s&&(l="bottom"),l}getNearestPointToPoint(e){const n=Ve.clone(e);if(this.containsPoint(n)){const r=this.getNearestSideToPoint(n);if(r==="left")return new Ve(this.x,n.y);if(r==="top")return new Ve(n.x,this.y);if(r==="right")return new Ve(this.x+this.width,n.y);if(r==="bottom")return new Ve(n.x,this.y+this.height)}return n.adhereToRect(this)}equals(e){return e!=null&&e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height}clone(){return new bn(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(function(t){function e(n){return n!=null&&n instanceof t}t.isRectangle=e})(bn||(bn={}));(function(t){function e(n){return n!=null&&typeof n=="object"&&typeof n.x=="number"&&typeof n.y=="number"&&typeof n.width=="number"&&typeof n.height=="number"}t.isRectangleLike=e})(bn||(bn={}));(function(t){function e(a,s,l,u){return a==null||typeof a=="number"?new t(a,s,l,u):n(a)}t.create=e;function n(a){return t.isRectangle(a)?a.clone():Array.isArray(a)?new t(a[0],a[1],a[2],a[3]):new t(a.x,a.y,a.width,a.height)}t.clone=n;function r(a){return new t(a.x-a.a,a.y-a.b,2*a.a,2*a.b)}t.fromEllipse=r;function i(a){return new t(0,0,a.width,a.height)}t.fromSize=i;function o(a,s){return new t(a.x,a.y,s.width,s.height)}t.fromPositionAndSize=o})(bn||(bn={}));let fr=class uc extends Iv{get center(){return new Ve((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}constructor(e,n,r,i){super(),typeof e=="number"&&typeof n=="number"?(this.start=new Ve(e,n),this.end=new Ve(r,i)):(this.start=Ve.create(e),this.end=Ve.create(n))}getCenter(){return this.center}round(e=0){return this.start.round(e),this.end.round(e),this}translate(e,n){return typeof e=="number"?(this.start.translate(e,n),this.end.translate(e,n)):(this.start.translate(e),this.end.translate(e)),this}rotate(e,n){return this.start.rotate(e,n),this.end.rotate(e,n),this}scale(e,n,r){return this.start.scale(e,n,r),this.end.scale(e,n,r),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const e=this.start.x-this.end.x,n=this.start.y-this.end.y;return e*e+n*n}setLength(e){const n=this.length();if(!n)return this;const r=e/n;return this.scale(r,r,this.start)}parallel(e){const n=this.clone();if(!n.isDifferentiable())return n;const{start:r,end:i}=n,o=r.clone().rotate(270,i),a=i.clone().rotate(90,r);return r.move(a,e),i.move(o,e),n}vector(){return new Ve(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const e=new Ve(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)}bbox(){const e=Math.min(this.start.x,this.end.x),n=Math.min(this.start.y,this.end.y),r=Math.max(this.start.x,this.end.x),i=Math.max(this.start.y,this.end.y);return new bn(e,n,r-e,i-n)}bearing(){return this.start.bearing(this.end)}closestPoint(e){return this.pointAt(this.closestPointNormalizedLength(e))}closestPointLength(e){return this.closestPointNormalizedLength(e)*this.length()}closestPointTangent(e){return this.tangentAt(this.closestPointNormalizedLength(e))}closestPointNormalizedLength(e){const n=this.vector().dot(new uc(this.start,e).vector()),r=Math.min(1,Math.max(0,n/this.squaredLength()));return Number.isNaN(r)?0:r}pointAt(e){const n=this.start,r=this.end;return e<=0?n.clone():e>=1?r.clone():n.lerp(r,e)}pointAtLength(e){const n=this.start,r=this.end;let i=!0;e<0&&(i=!1,e=-e);const o=this.length();if(e>=o)return i?r.clone():n.clone();const a=(i?e:o-e)/o;return this.pointAt(a)}divideAt(e){const n=this.pointAt(e);return[new uc(this.start,n),new uc(n,this.end)]}divideAtLength(e){const n=this.pointAtLength(e);return[new uc(this.start,n),new uc(n,this.end)]}containsPoint(e){const n=this.start,r=this.end;if(n.cross(e,r)!==0)return!1;const i=this.length();return!(new uc(n,e).length()>i||new uc(e,r).length()>i)}intersect(e,n){const r=e.intersectsWithLine(this,n);return r?Array.isArray(r)?r:[r]:null}intersectsWithLine(e){const n=new Ve(this.end.x-this.start.x,this.end.y-this.start.y),r=new Ve(e.end.x-e.start.x,e.end.y-e.start.y),i=n.x*r.y-n.y*r.x,o=new Ve(e.start.x-this.start.x,e.start.y-this.start.y),a=o.x*r.y-o.y*r.x,s=o.x*n.y-o.y*n.x;if(i===0||a*i<0||s*i<0)return null;if(i>0){if(a>i||s>i)return null}else if(a<i||s<i)return null;return new Ve(this.start.x+a*n.x/i,this.start.y+a*n.y/i)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(e){const n=Ve.clone(e),r=this.start,i=this.end;return((i.x-r.x)*(n.y-r.y)-(i.y-r.y)*(n.x-r.x))/this.length()}pointSquaredDistance(e,n){const r=Ve.create(e,n);return this.closestPoint(r).squaredDistance(r)}pointDistance(e,n){const r=Ve.create(e,n);return this.closestPoint(r).distance(r)}tangentAt(e){if(!this.isDifferentiable())return null;const n=this.start,r=this.end,i=this.pointAt(e),o=new uc(n,r);return o.translate(i.x-n.x,i.y-n.y),o}tangentAtLength(e){if(!this.isDifferentiable())return null;const n=this.start,r=this.end,i=this.pointAtLength(e),o=new uc(n,r);return o.translate(i.x-n.x,i.y-n.y),o}relativeCcw(e,n){const r=Ve.create(e,n);let i=r.x-this.start.x,o=r.y-this.start.y;const a=this.end.x-this.start.x,s=this.end.y-this.start.y;let l=i*s-o*a;return l===0&&(l=i*a+o*s,l>0&&(i-=a,o-=s,l=i*a+o*s,l<0&&(l=0))),l<0?-1:l>0?1:0}equals(e){return e!=null&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y}clone(){return new uc(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}};(function(t){function e(n){return n!=null&&n instanceof t}t.isLine=e})(fr||(fr={}));let lv=class EV extends Iv{get center(){return new Ve(this.x,this.y)}constructor(e,n,r,i){super(),this.x=e??0,this.y=n??0,this.a=r??0,this.b=i??0}bbox(){return bn.fromEllipse(this)}getCenter(){return this.center}inflate(e,n){const r=e,i=n??e;return this.a+=2*r,this.b+=2*i,this}normalizedDistance(e,n){const r=Ve.create(e,n),i=r.x-this.x,o=r.y-this.y,a=this.a,s=this.b;return i*i/(a*a)+o*o/(s*s)}containsPoint(e,n){return this.normalizedDistance(e,n)<=1}intersectsWithLine(e){const n=[],r=this.a,i=this.b,o=e.start,a=e.end,s=e.vector(),l=o.diff(new Ve(this.x,this.y)),u=new Ve(s.x/(r*r),s.y/(i*i)),c=new Ve(l.x/(r*r),l.y/(i*i)),f=s.dot(u),d=s.dot(c),h=l.dot(c)-1,p=d*d-f*h;if(p<0)return null;if(p>0){const v=Math.sqrt(p),g=(-d-v)/f,m=(-d+v)/f;if((g<0||g>1)&&(m<0||m>1))return null;g>=0&&g<=1&&n.push(o.lerp(a,g)),m>=0&&m<=1&&n.push(o.lerp(a,m))}else{const v=-d/f;if(v>=0&&v<=1)n.push(o.lerp(a,v));else return null}return n}intersectsWithLineFromCenterToPoint(e,n=0){const r=Ve.clone(e);n&&r.rotate(n,this.getCenter());const i=r.x-this.x,o=r.y-this.y;let a;if(i===0)return a=this.bbox().getNearestPointToPoint(r),n?a.rotate(-n,this.getCenter()):a;const s=o/i,l=s*s,u=this.a*this.a,c=this.b*this.b;let f=Math.sqrt(1/(1/u+l/c));f=i<0?-f:f;const d=s*f;return a=new Ve(this.x+f,this.y+d),n?a.rotate(-n,this.getCenter()):a}tangentTheta(e){const n=Ve.clone(e),r=n.x,i=n.y,o=this.a,a=this.b,s=this.bbox().center,l=s.x,u=s.y,c=30,f=r>s.x+o/2,d=r<s.x-o/2;let h,p;return f||d?(p=r>s.x?i-c:i+c,h=o*o/(r-l)-o*o*(i-u)*(p-u)/(a*a*(r-l))+l):(h=i>s.y?r+c:r-c,p=a*a/(i-u)-a*a*(r-l)*(h-l)/(o*o*(i-u))+u),new Ve(h,p).theta(n)}scale(e,n){return this.a*=e,this.b*=n,this}rotate(e,n){const r=bn.fromEllipse(this);r.rotate(e,n);const i=EV.fromRect(r);return this.a=i.a,this.b=i.b,this.x=i.x,this.y=i.y,this}translate(e,n){const r=Ve.create(e,n);return this.x+=r.x,this.y+=r.y,this}equals(e){return e!=null&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b}clone(){return new EV(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}};(function(t){function e(n){return n!=null&&n instanceof t}t.isEllipse=e})(lv||(lv={}));(function(t){function e(i,o,a,s){return i==null||typeof i=="number"?new t(i,o,a,s):n(i)}t.create=e;function n(i){return t.isEllipse(i)?i.clone():Array.isArray(i)?new t(i[0],i[1],i[2],i[3]):new t(i.x,i.y,i.a,i.b)}t.parse=n;function r(i){const o=i.center;return new t(o.x,o.y,i.width/2,i.height/2)}t.fromRect=r})(lv||(lv={}));const oft=new RegExp("^[\\s\\dLMCZz,.]*$");function aft(t){return typeof t!="string"?!1:oft.test(t)}function ZN(t,e){return(t%e+e)%e}function sft(t,e,n,r,i){const o=[],a=t[t.length-1],s=e!=null&&e>0,l=e||0;if(r&&s){t=t.slice();const f=t[0],d=new Ve(a.x+(f.x-a.x)/2,a.y+(f.y-a.y)/2);t.splice(0,0,d)}let u=t[0],c=1;for(n?o.push("M",u.x,u.y):o.push("L",u.x,u.y);c<(r?t.length:t.length-1);){let f=t[ZN(c,t.length)],d=u.x-f.x,h=u.y-f.y;if(s&&(d!==0||h!==0)&&(i==null||i.indexOf(c-1)<0)){let p=Math.sqrt(d*d+h*h);const v=d*Math.min(l,p/2)/p,g=h*Math.min(l,p/2)/p,m=f.x+v,y=f.y+g;o.push("L",m,y);let b=t[ZN(c+1,t.length)];for(;c<t.length-2&&Math.round(b.x-f.x)===0&&Math.round(b.y-f.y)===0;)b=t[ZN(c+2,t.length)],c+=1;d=b.x-f.x,h=b.y-f.y,p=Math.max(1,Math.sqrt(d*d+h*h));const w=d*Math.min(l,p/2)/p,S=h*Math.min(l,p/2)/p,x=f.x+w,C=f.y+S;o.push("Q",f.x,f.y,x,C),f=new Ve(x,C)}else o.push("L",f.x,f.y);u=f,c+=1}return r?o.push("Z"):o.push("L",a.x,a.y),o.map(f=>typeof f=="string"?f:+f.toFixed(3)).join(" ")}function kye(t,e={}){const n=[];return t&&t.length&&t.forEach(r=>{Array.isArray(r)?n.push({x:r[0],y:r[1]}):n.push({x:r.x,y:r.y})}),sft(n,e.round,e.initialMove==null||e.initialMove,e.close,e.exclude)}function uP(t,e,n,r,i=0,o=0,a=0,s,l){if(n===0||r===0)return[];s-=t,l-=e,n=Math.abs(n),r=Math.abs(r);const u=-s/2,c=-l/2,f=Math.cos(i*Math.PI/180),d=Math.sin(i*Math.PI/180),h=f*u+d*c,p=-1*d*u+f*c,v=h*h,g=p*p,m=n*n,y=r*r,b=v/m+g/y;let w;if(b>1)n=Math.sqrt(b)*n,r=Math.sqrt(b)*r,w=0;else{let X=1;o===a&&(X=-1),w=X*Math.sqrt((m*y-m*g-y*v)/(m*g+y*v))}const S=w*n*p/r,x=-1*w*r*h/n,C=f*S-d*x+s/2,E=d*S+f*x+l/2;let T=Math.atan2((p-x)/r,(h-S)/n)-Math.atan2(0,1),A=T>=0?T:2*Math.PI+T;T=Math.atan2((-p-x)/r,(-h-S)/n)-Math.atan2((p-x)/r,(h-S)/n);let k=T>=0?T:2*Math.PI+T;a===0&&k>0?k-=2*Math.PI:a!==0&&k<0&&(k+=2*Math.PI);const M=k*2/Math.PI,D=Math.ceil(M<0?-1*M:M),L=k/D,I=8/3*Math.sin(L/4)*Math.sin(L/4)/Math.sin(L/2),R=f*n,V=f*r,P=d*n,B=d*r;let j=Math.cos(A),G=Math.sin(A),W=-I*(R*G+B*j),Z=-I*(P*G-V*j),ee=0,oe=0;const ce=[];for(let X=0;X<D;X+=1){A+=L,j=Math.cos(A),G=Math.sin(A),ee=R*j-B*G+C,oe=P*j+V*G+E;const H=-I*(R*G+B*j),U=-I*(P*G-V*j),ne=X*6;ce[ne]=Number(W+t),ce[ne+1]=Number(Z+e),ce[ne+2]=Number(ee-H+t),ce[ne+3]=Number(oe-U+e),ce[ne+4]=Number(ee+t),ce[ne+5]=Number(oe+e),W=ee+H,Z=oe+U}return ce.map(X=>+X.toFixed(2))}function lft(t,e,n,r,i=0,o=0,a=0,s,l){const u=[],c=uP(t,e,n,r,i,o,a,s,l);if(c!=null)for(let f=0,d=c.length;f<d;f+=6)u.push("C",c[f],c[f+1],c[f+2],c[f+3],c[f+4],c[f+5]);return u.join(" ")}let Os=class oS extends Iv{get start(){return this.points[0]||null}get end(){return this.points[this.points.length-1]||null}constructor(e){if(super(),e!=null){if(typeof e=="string")return oS.parse(e);this.points=e.map(n=>Ve.create(n))}else this.points=[]}scale(e,n,r=new Ve){return this.points.forEach(i=>i.scale(e,n,r)),this}rotate(e,n){return this.points.forEach(r=>r.rotate(e,n)),this}translate(e,n){const r=Ve.create(e,n);return this.points.forEach(i=>i.translate(r.x,r.y)),this}round(e=0){return this.points.forEach(n=>n.round(e)),this}bbox(){if(this.points.length===0)return new bn;let e=1/0,n=-1/0,r=1/0,i=-1/0;const o=this.points;for(let a=0,s=o.length;a<s;a+=1){const l=o[a],u=l.x,c=l.y;u<e&&(e=u),u>n&&(n=u),c<r&&(r=c),c>i&&(i=c)}return new bn(e,r,n-e,i-r)}closestPoint(e){const n=this.closestPointLength(e);return this.pointAtLength(n)}closestPointLength(e){const n=this.points,r=n.length;if(r===0||r===1)return 0;let i=0,o=0,a=1/0;for(let s=0,l=r-1;s<l;s+=1){const u=new fr(n[s],n[s+1]),c=u.length(),f=u.closestPointNormalizedLength(e),h=u.pointAt(f).squaredDistance(e);h<a&&(a=h,o=i+f*c),i+=c}return o}closestPointNormalizedLength(e){const n=this.length();return n===0?0:this.closestPointLength(e)/n}closestPointTangent(e){const n=this.closestPointLength(e);return this.tangentAtLength(n)}containsPoint(e){if(this.points.length===0)return!1;const n=Ve.clone(e),r=n.x,i=n.y,o=this.points,a=o.length;let s=a-1,l=0;for(let u=0;u<a;u+=1){const c=o[s],f=o[u];if(n.equals(c))return!0;const d=new fr(c,f);if(d.containsPoint(e))return!0;if(i<=c.y&&i>f.y||i>c.y&&i<=f.y){const h=c.x-r>f.x-r?c.x-r:f.x-r;if(h>=0){const p=new Ve(r+h,i),v=new fr(e,p);d.intersectsWithLine(v)&&(l+=1)}}s=u}return l%2===1}intersectsWithLine(e){const n=[];for(let r=0,i=this.points.length-1;r<i;r+=1){const o=this.points[r],a=this.points[r+1],s=e.intersectsWithLine(new fr(o,a));s&&n.push(s)}return n.length>0?n:null}isDifferentiable(){for(let e=0,n=this.points.length-1;e<n;e+=1){const r=this.points[e],i=this.points[e+1];if(new fr(r,i).isDifferentiable())return!0}return!1}length(){let e=0;for(let n=0,r=this.points.length-1;n<r;n+=1){const i=this.points[n],o=this.points[n+1];e+=i.distance(o)}return e}pointAt(e){const n=this.points,r=n.length;if(r===0)return null;if(r===1||e<=0)return n[0].clone();if(e>=1)return n[r-1].clone();const o=this.length()*e;return this.pointAtLength(o)}pointAtLength(e){const n=this.points,r=n.length;if(r===0)return null;if(r===1)return n[0].clone();let i=!0;e<0&&(i=!1,e=-e);let o=0;for(let s=0,l=r-1;s<l;s+=1){const u=i?s:l-1-s,c=n[u],f=n[u+1],d=new fr(c,f),h=c.distance(f);if(e<=o+h)return d.pointAtLength((i?1:-1)*(e-o));o+=h}return(i?n[r-1]:n[0]).clone()}tangentAt(e){const r=this.points.length;if(r===0||r===1)return null;e<0&&(e=0),e>1&&(e=1);const o=this.length()*e;return this.tangentAtLength(o)}tangentAtLength(e){const n=this.points,r=n.length;if(r===0||r===1)return null;let i=!0;e<0&&(i=!1,e=-e);let o,a=0;for(let s=0,l=r-1;s<l;s+=1){const u=i?s:l-1-s,c=n[u],f=n[u+1],d=new fr(c,f),h=c.distance(f);if(d.isDifferentiable()){if(e<=a+h)return d.tangentAtLength((i?1:-1)*(e-a));o=d}a+=h}if(o){const s=i?1:0;return o.tangentAt(s)}return null}simplify(e={}){const n=this.points;if(n.length<3)return this;const r=e.threshold||0;let i=0;for(;n[i+2];){const o=i,a=i+1,s=i+2,l=n[o],u=n[a],c=n[s];new fr(l,c).closestPoint(u).distance(u)<=r?n.splice(a,1):i+=1}return this}toHull(){const e=this.points,n=e.length;if(n===0)return new oS;let r=e[0];for(let d=1;d<n;d+=1)(e[d].y<r.y||e[d].y===r.y&&e[d].x>r.x)&&(r=e[d]);const i=[];for(let d=0;d<n;d+=1){let h=r.theta(e[d]);h===0&&(h=360),i.push([e[d],d,h])}if(i.sort((d,h)=>{let p=d[2]-h[2];return p===0&&(p=h[1]-d[1]),p}),i.length>2){const d=i[i.length-1];i.unshift(d)}const o={},a=[],s=d=>`${d[0].toString()}@${d[1]}`;for(;i.length!==0;){const d=i.pop(),h=d[0];if(o[s(d)])continue;let p=!1;for(;!p;)if(a.length<2)a.push(d),p=!0;else{const v=a.pop(),g=v[0],m=a.pop(),y=m[0],b=y.cross(g,h);if(b<0)a.push(m),a.push(v),a.push(d),p=!0;else if(b===0){const S=g.angleBetween(y,h);Math.abs(S-180)<1e-10||g.equals(h)||y.equals(g)?(o[s(v)]=g,a.push(m)):Math.abs((S+1)%360-1)<1e-10&&(a.push(m),i.push(v))}else o[s(v)]=g,a.push(m)}}a.length>2&&a.pop();let l,u=-1;for(let d=0,h=a.length;d<h;d+=1){const p=a[d][1];(l===void 0||p<l)&&(l=p,u=d)}let c=[];if(u>0){const d=a.slice(u),h=a.slice(0,u);c=d.concat(h)}else c=a;const f=[];for(let d=0,h=c.length;d<h;d+=1)f.push(c[d][0]);return new oS(f)}equals(e){return e==null||e.points.length!==this.points.length?!1:e.points.every((n,r)=>n.equals(this.points[r]))}clone(){return new oS(this.points.map(e=>e.clone()))}toJSON(){return this.points.map(e=>e.toJSON())}serialize(){return this.points.map(e=>`${e.serialize()}`).join(" ")}};(function(t){function e(n){return n!=null&&n instanceof t}t.isPolyline=e})(Os||(Os={}));(function(t){function e(n){const r=n.trim();if(r==="")return new t;const i=[],o=r.split(/\s*,\s*|\s+/);for(let a=0,s=o.length;a<s;a+=2)i.push({x:+o[a],y:+o[a+1]});return new t(i)}t.parse=e})(Os||(Os={}));class No extends Iv{constructor(e,n,r,i){super(),this.PRECISION=3,this.start=Ve.create(e),this.controlPoint1=Ve.create(n),this.controlPoint2=Ve.create(r),this.end=Ve.create(i)}bbox(){const e=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end,o=e.x,a=e.y,s=n.x,l=n.y,u=r.x,c=r.y,f=i.x,d=i.y,h=[],p=[[],[]];let v,g,m,y,b,w,S,x;for(let R=0;R<2;R+=1){if(R===0?(g=6*o-12*s+6*u,v=-3*o+9*s-9*u+3*f,m=3*s-3*o):(g=6*a-12*l+6*c,v=-3*a+9*l-9*c+3*d,m=3*l-3*a),Math.abs(v)<1e-12){if(Math.abs(g)<1e-12)continue;y=-m/g,y>0&&y<1&&h.push(y);continue}S=g*g-4*m*v,x=Math.sqrt(S),!(S<0)&&(b=(-g+x)/(2*v),b>0&&b<1&&h.push(b),w=(-g-x)/(2*v),w>0&&w<1&&h.push(w))}let C,E,T,A=h.length;const k=A;for(;A;)A-=1,y=h[A],T=1-y,C=T*T*T*o+3*T*T*y*s+3*T*y*y*u+y*y*y*f,p[0][A]=C,E=T*T*T*a+3*T*T*y*l+3*T*y*y*c+y*y*y*d,p[1][A]=E;h[k]=0,h[k+1]=1,p[0][k]=o,p[1][k]=a,p[0][k+1]=f,p[1][k+1]=d,h.length=k+2,p[0].length=k+2,p[1].length=k+2;const M=Math.min.apply(null,p[0]),D=Math.min.apply(null,p[1]),L=Math.max.apply(null,p[0]),I=Math.max.apply(null,p[1]);return new bn(M,D,L-M,I-D)}closestPoint(e,n={}){return this.pointAtT(this.closestPointT(e,n))}closestPointLength(e,n={}){const r=this.getOptions(n);return this.lengthAtT(this.closestPointT(e,r),r)}closestPointNormalizedLength(e,n={}){const r=this.getOptions(n),i=this.closestPointLength(e,r);if(!i)return 0;const o=this.length(r);return o===0?0:i/o}closestPointT(e,n={}){const r=this.getPrecision(n),i=this.getDivisions(n),o=Math.pow(10,-r);let a=null,s=0,l=0,u=0,c=0,f=0,d=null;const h=i.length;let p=h>0?1/h:0;for(i.forEach((v,g)=>{const m=v.start.distance(e),y=v.end.distance(e),b=m+y;(d==null||b<d)&&(a=v,s=g*p,l=(g+1)*p,u=m,c=y,d=b,f=v.endpointDistance())});;){const v=u?Math.abs(u-c)/u:0,g=c!=null?Math.abs(u-c)/c:0,m=v<o||g<o,y=u?u<f*o:!0,b=c?c<f*o:!0;if(m||(y||b))return u<=c?s:l;const S=a.divide(.5);p/=2;const x=S[0].start.distance(e),C=S[0].end.distance(e),E=x+C,T=S[1].start.distance(e),A=S[1].end.distance(e),k=T+A;E<=k?(a=S[0],l-=p,u=x,c=C):(a=S[1],s+=p,u=T,c=A)}}closestPointTangent(e,n={}){return this.tangentAtT(this.closestPointT(e,n))}containsPoint(e,n={}){return this.toPolyline(n).containsPoint(e)}divideAt(e,n={}){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);const r=this.tAt(e,n);return this.divideAtT(r)}divideAtLength(e,n={}){const r=this.tAtLength(e,n);return this.divideAtT(r)}divide(e){return this.divideAtT(e)}divideAtT(e){const n=this.start,r=this.controlPoint1,i=this.controlPoint2,o=this.end;if(e<=0)return[new No(n,n,n,n),new No(n,r,i,o)];if(e>=1)return[new No(n,r,i,o),new No(o,o,o,o)];const a=this.getSkeletonPoints(e),s=a.startControlPoint1,l=a.startControlPoint2,u=a.divider,c=a.dividerControlPoint1,f=a.dividerControlPoint2;return[new No(n,s,l,u),new No(u,c,f,o)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(e){const n=this.start,r=this.controlPoint1,i=this.controlPoint2,o=this.end;if(e<=0)return{startControlPoint1:n.clone(),startControlPoint2:n.clone(),divider:n.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:i.clone()};if(e>=1)return{startControlPoint1:r.clone(),startControlPoint2:i.clone(),divider:o.clone(),dividerControlPoint1:o.clone(),dividerControlPoint2:o.clone()};const a=new fr(n,r).pointAt(e),s=new fr(r,i).pointAt(e),l=new fr(i,o).pointAt(e),u=new fr(a,s).pointAt(e),c=new fr(s,l).pointAt(e),f=new fr(u,c).pointAt(e);return{startControlPoint1:a,startControlPoint2:u,divider:f,dividerControlPoint1:c,dividerControlPoint2:l}}getSubdivisions(e={}){const n=this.getPrecision(e);let r=[new No(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(n===0)return r;let i=this.endpointDistance();const o=Math.pow(10,-n);let a=0;for(;;){a+=1;const s=[];r.forEach(c=>{const f=c.divide(.5);s.push(f[0],f[1])});const l=s.reduce((c,f)=>c+f.endpointDistance(),0),u=l!==0?(l-i)/l:0;if(a>1&&u<o)return s;r=s,i=l}}length(e={}){return this.getDivisions(e).reduce((r,i)=>r+i.endpointDistance(),0)}lengthAtT(e,n={}){if(e<=0)return 0;const r=n.precision===void 0?this.PRECISION:n.precision;return this.divide(e)[0].length({precision:r})}pointAt(e,n={}){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const r=this.tAt(e,n);return this.pointAtT(r)}pointAtLength(e,n={}){const r=this.tAtLength(e,n);return this.pointAtT(r)}pointAtT(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider}isDifferentiable(){const e=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;return!(e.equals(n)&&n.equals(r)&&r.equals(i))}tangentAt(e,n={}){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);const r=this.tAt(e,n);return this.tangentAtT(r)}tangentAtLength(e,n={}){if(!this.isDifferentiable())return null;const r=this.tAtLength(e,n);return this.tangentAtT(r)}tangentAtT(e){if(!this.isDifferentiable())return null;e<0&&(e=0),e>1&&(e=1);const n=this.getSkeletonPoints(e),r=n.startControlPoint2,i=n.dividerControlPoint1,o=n.divider,a=new fr(r,i);return a.translate(o.x-r.x,o.y-r.y),a}getPrecision(e={}){return e.precision==null?this.PRECISION:e.precision}getDivisions(e={}){if(e.subdivisions!=null)return e.subdivisions;const n=this.getPrecision(e);return this.getSubdivisions({precision:n})}getOptions(e={}){const n=this.getPrecision(e),r=this.getDivisions(e);return{precision:n,subdivisions:r}}tAt(e,n={}){if(e<=0)return 0;if(e>=1)return 1;const r=this.getOptions(n),o=this.length(r)*e;return this.tAtLength(o,r)}tAtLength(e,n={}){let r=!0;e<0&&(r=!1,e=-e);const i=this.getPrecision(n),o=this.getDivisions(n),a={precision:i,subdivisions:o};let s=null,l,u,c=0,f=0,d=0;const h=o.length;let p=h>0?1/h:0;for(let m=0;m<h;m+=1){const y=r?m:h-1-m,b=o[m],w=b.endpointDistance();if(e<=d+w){s=b,l=y*p,u=(y+1)*p,c=r?e-d:w+d-e,f=r?w+d-e:e-d;break}d+=w}if(s==null)return r?1:0;const v=this.length(a),g=Math.pow(10,-i);for(;;){let m;if(m=v!==0?c/v:0,m<g)return l;if(m=v!==0?f/v:0,m<g)return u;let y,b;const w=s.divide(.5);p/=2;const S=w[0].endpointDistance(),x=w[1].endpointDistance();c<=S?(s=w[0],u-=p,y=c,b=S-y):(s=w[1],l+=p,y=c-S,b=x-y),c=y,f=b}}toPoints(e={}){const n=this.getDivisions(e),r=[n[0].start.clone()];return n.forEach(i=>r.push(i.end.clone())),r}toPolyline(e={}){return new Os(this.toPoints(e))}scale(e,n,r){return this.start.scale(e,n,r),this.controlPoint1.scale(e,n,r),this.controlPoint2.scale(e,n,r),this.end.scale(e,n,r),this}rotate(e,n){return this.start.rotate(e,n),this.controlPoint1.rotate(e,n),this.controlPoint2.rotate(e,n),this.end.rotate(e,n),this}translate(e,n){return typeof e=="number"?(this.start.translate(e,n),this.controlPoint1.translate(e,n),this.controlPoint2.translate(e,n),this.end.translate(e,n)):(this.start.translate(e),this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return e!=null&&this.start.equals(e.start)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)&&this.end.equals(e.end)}clone(){return new No(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(function(t){function e(n){return n!=null&&n instanceof t}t.isCurve=e})(No||(No={}));(function(t){function e(i){const o=i.length,a=[],s=[];let l=2;a[0]=i[0]/l;for(let u=1;u<o;u+=1)s[u]=1/l,l=(u<o-1?4:3.5)-s[u],a[u]=(i[u]-a[u-1])/l;for(let u=1;u<o;u+=1)a[o-u-1]-=s[o-u]*a[o-u];return a}function n(i){const o=i.map(d=>Ve.clone(d)),a=[],s=[],l=o.length-1;if(l===1)return a[0]=new Ve((2*o[0].x+o[1].x)/3,(2*o[0].y+o[1].y)/3),s[0]=new Ve(2*a[0].x-o[0].x,2*a[0].y-o[0].y),[a,s];const u=[];for(let d=1;d<l-1;d+=1)u[d]=4*o[d].x+2*o[d+1].x;u[0]=o[0].x+2*o[1].x,u[l-1]=(8*o[l-1].x+o[l].x)/2;const c=e(u);for(let d=1;d<l-1;d+=1)u[d]=4*o[d].y+2*o[d+1].y;u[0]=o[0].y+2*o[1].y,u[l-1]=(8*o[l-1].y+o[l].y)/2;const f=e(u);for(let d=0;d<l;d+=1)a.push(new Ve(c[d],f[d])),d<l-1?s.push(new Ve(2*o[d+1].x-c[d+1],2*o[d+1].y-f[d+1])):s.push(new Ve((o[l].x+c[l-1])/2,(o[l].y+f[l-1])/2));return[a,s]}function r(i){if(i==null||Array.isArray(i)&&i.length<2)throw new Error("At least 2 points are required");const o=n(i),a=[];for(let s=0,l=o[0].length;s<l;s+=1){const u=new Ve(o[0][s].x,o[0][s].y),c=new Ve(o[1][s].x,o[1][s].y);a.push(new t(i[s],u,c,i[s+1]))}return a}t.throughPoints=r})(No||(No={}));class KI extends Iv{constructor(){super(...arguments),this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(this.previousSegment==null)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(e,n){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(e,n){if(e<=0)return 0;const r=this.length();return e>=1?r:r*e}divideAtT(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class ks extends KI{constructor(e,n){super(),fr.isLine(e)?this.endPoint=e.end.clone().round(2):this.endPoint=Ve.create(e,n).round(2)}get type(){return"L"}get line(){return new fr(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const n=this.line.divideAt(e);return[new ks(n[0]),new ks(n[1])]}divideAtLength(e){const n=this.line.divideAtLength(e);return[new ks(n[0]),new ks(n[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return this.previousSegment==null?!1:!this.start.equals(this.end)}clone(){return new ks(this.end)}scale(e,n,r){return this.end.scale(e,n,r),this}rotate(e,n){return this.end.rotate(e,n),this}translate(e,n){return typeof e=="number"?this.end.translate(e,n):this.end.translate(e),this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}(function(t){function e(...n){const r=n.length,i=n[0];if(fr.isLine(i))return new t(i);if(Ve.isPointLike(i))return r===1?new t(i):n.map(a=>new t(a));if(r===2)return new t(+n[0],+n[1]);const o=[];for(let a=0;a<r;a+=2){const s=+n[a],l=+n[a+1];o.push(new t(s,l))}return o}t.create=e})(ks||(ks={}));class c1 extends KI{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new fr(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const n=this.line.divideAt(e);return[n[1].isDifferentiable()?new ks(n[0]):this.clone(),new ks(n[1])]}divideAtLength(e){const n=this.line.divideAtLength(e);return[n[1].isDifferentiable()?new ks(n[0]):this.clone(),new ks(n[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)}scale(){return this}rotate(){return this}translate(){return this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}clone(){return new c1}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}(function(t){function e(){return new t}t.create=e})(c1||(c1={}));class f1 extends KI{constructor(e,n){super(),this.isVisible=!1,this.isSubpathStart=!0,fr.isLine(e)||No.isCurve(e)?this.endPoint=e.end.clone().round(2):this.endPoint=Ve.create(e,n).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(e,n,r){return this.end.scale(e,n,r),this}rotate(e,n){return this.end.rotate(e,n),this}translate(e,n){return typeof e=="number"?this.end.translate(e,n):this.end.translate(e),this}clone(){return new f1(this.end)}equals(e){return this.type===e.type&&this.end.equals(e.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}(function(t){function e(...n){const r=n.length,i=n[0];if(fr.isLine(i))return new t(i);if(No.isCurve(i))return new t(i);if(Ve.isPointLike(i)){if(r===1)return new t(i);const a=[];for(let s=0;s<r;s+=1)s===0?a.push(new t(n[s])):a.push(new ks(n[s]));return a}if(r===2)return new t(+n[0],+n[1]);const o=[];for(let a=0;a<r;a+=2){const s=+n[a],l=+n[a+1];a===0?o.push(new t(s,l)):o.push(new ks(s,l))}return o}t.create=e})(f1||(f1={}));class Su extends KI{constructor(e,n,r,i,o,a){super(),No.isCurve(e)?(this.controlPoint1=e.controlPoint1.clone().round(2),this.controlPoint2=e.controlPoint2.clone().round(2),this.endPoint=e.end.clone().round(2)):typeof e=="number"?(this.controlPoint1=new Ve(e,n).round(2),this.controlPoint2=new Ve(r,i).round(2),this.endPoint=new Ve(o,a).round(2)):(this.controlPoint1=Ve.create(e).round(2),this.controlPoint2=Ve.create(n).round(2),this.endPoint=Ve.create(r).round(2))}get type(){return"C"}get curve(){return new No(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(e){return this.curve.closestPoint(e)}closestPointLength(e){return this.curve.closestPointLength(e)}closestPointNormalizedLength(e){return this.curve.closestPointNormalizedLength(e)}closestPointTangent(e){return this.curve.closestPointTangent(e)}length(){return this.curve.length()}divideAt(e,n={}){const r=this.curve.divideAt(e,n);return[new Su(r[0]),new Su(r[1])]}divideAtLength(e,n={}){const r=this.curve.divideAtLength(e,n);return[new Su(r[0]),new Su(r[1])]}divideAtT(e){const n=this.curve.divideAtT(e);return[new Su(n[0]),new Su(n[1])]}getSubdivisions(){return[]}pointAt(e){return this.curve.pointAt(e)}pointAtLength(e){return this.curve.pointAtLength(e)}tangentAt(e){return this.curve.tangentAt(e)}tangentAtLength(e){return this.curve.tangentAtLength(e)}isDifferentiable(){if(!this.previousSegment)return!1;const e=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;return!(e.equals(n)&&n.equals(r)&&r.equals(i))}scale(e,n,r){return this.controlPoint1.scale(e,n,r),this.controlPoint2.scale(e,n,r),this.end.scale(e,n,r),this}rotate(e,n){return this.controlPoint1.rotate(e,n),this.controlPoint2.rotate(e,n),this.end.rotate(e,n),this}translate(e,n){return typeof e=="number"?(this.controlPoint1.translate(e,n),this.controlPoint2.translate(e,n),this.end.translate(e,n)):(this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return this.start.equals(e.start)&&this.end.equals(e.end)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)}clone(){return new Su(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.controlPoint1,n=this.controlPoint2,r=this.end;return[this.type,e.x,e.y,n.x,n.y,r.x,r.y].join(" ")}}(function(t){function e(...n){const r=n.length,i=n[0];if(No.isCurve(i))return new t(i);if(Ve.isPointLike(i)){if(r===3)return new t(n[0],n[1],n[2]);const a=[];for(let s=0;s<r;s+=3)a.push(new t(n[s],n[s+1],n[s+2]));return a}if(r===6)return new t(n[0],n[1],n[2],n[3],n[4],n[5]);const o=[];for(let a=0;a<r;a+=6)o.push(new t(n[a],n[a+1],n[a+2],n[a+3],n[a+4],n[a+5]));return o}t.create=e})(Su||(Su={}));function mT(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}function CJ(t,e,n,r,i,o){const a=.3333333333333333,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]}function Mye(t,e,n,r,i,o,a,s,l,u){const c=Math.PI*120/180,f=Math.PI/180*(+i||0);let d=[],h,p,v,g,m;if(u)p=u[0],v=u[1],g=u[2],m=u[3];else{h=mT(t,e,-f),t=h.x,e=h.y,h=mT(s,l,-f),s=h.x,l=h.y;const L=(t-s)/2,I=(e-l)/2;let R=L*L/(n*n)+I*I/(r*r);R>1&&(R=Math.sqrt(R),n=R*n,r=R*r);const V=n*n,P=r*r,B=(o===a?-1:1)*Math.sqrt(Math.abs((V*P-V*I*I-P*L*L)/(V*I*I+P*L*L)));g=B*n*I/r+(t+s)/2,m=B*-r*L/n+(e+l)/2,p=Math.asin((e-m)/r),v=Math.asin((l-m)/r),p=t<g?Math.PI-p:p,v=s<g?Math.PI-v:v,p<0&&(p=Math.PI*2+p),v<0&&(v=Math.PI*2+v),a&&p>v&&(p-=Math.PI*2),!a&&v>p&&(v-=Math.PI*2)}let y=v-p;if(Math.abs(y)>c){const L=v,I=s,R=l;v=p+c*(a&&v>p?1:-1),s=g+n*Math.cos(v),l=m+r*Math.sin(v),d=Mye(s,l,n,r,i,0,a,I,R,[v,L,g,m])}y=v-p;const b=Math.cos(p),w=Math.sin(p),S=Math.cos(v),x=Math.sin(v),C=Math.tan(y/4),E=4/3*(n*C),T=4/3*(r*C),A=[t,e],k=[t+E*w,e-T*b],M=[s+E*x,l-T*S],D=[s,l];if(k[0]=2*A[0]-k[0],k[1]=2*A[1]-k[1],u)return[k,M,D].concat(d);{d=[k,M,D].concat(d).join().split(",");const L=[],I=d.length;for(let R=0;R<I;R+=1)L[R]=R%2?mT(+d[R-1],+d[R],f).y:mT(+d[R],+d[R+1],f).x;return L}}function uft(t){if(!t)return null;const e=`	
\v\f\r \u2028\u2029`,n=new RegExp(`([a-z])[${e},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${e}]*,?[${e}]*)+)`,"ig"),r=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${e}]*,?[${e}]*`,"ig"),i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},o=[];return t.replace(n,(a,s,l)=>{const u=[];let c=s.toLowerCase();l.replace(r,(d,h)=>(h&&u.push(+h),d)),c==="m"&&u.length>2&&(o.push([s,...u.splice(0,2)]),c="l",s=s==="m"?"l":"L");const f=i[c];for(;u.length>=f&&(o.push([s,...u.splice(0,f)]),!!f););return a}),o}function cft(t){const e=uft(t);if(!e||!e.length)return[["M",0,0]];let n=0,r=0,i=0,o=0;const a=[];for(let s=0,l=e.length;s<l;s+=1){const u=[];a.push(u);const c=e[s],f=c[0];if(f!==f.toUpperCase())switch(u[0]=f.toUpperCase(),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+c[6]+n,u[7]=+c[7]+r;break;case"V":u[1]=+c[1]+r;break;case"H":u[1]=+c[1]+n;break;case"M":i=+c[1]+n,o=+c[2]+r;for(let d=1,h=c.length;d<h;d+=1)u[d]=+c[d]+(d%2?n:r);break;default:for(let d=1,h=c.length;d<h;d+=1)u[d]=+c[d]+(d%2?n:r);break}else for(let d=0,h=c.length;d<h;d+=1)u[d]=c[d];switch(u[0]){case"Z":n=+i,r=+o;break;case"H":n=u[1];break;case"V":r=u[1];break;case"M":i=u[u.length-2],o=u[u.length-1],n=u[u.length-2],r=u[u.length-1];break;default:n=u[u.length-2],r=u[u.length-1];break}}return a}function fft(t){const e=cft(t),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function r(l,u,c){let f,d;if(!l)return["C",u.x,u.y,u.x,u.y,u.x,u.y];switch(l[0]in{T:1,Q:1}||(u.qx=null,u.qy=null),l[0]){case"M":u.X=l[1],u.Y=l[2];break;case"A":return parseFloat(l[1])===0||parseFloat(l[2])===0?["L",l[6],l[7]]:["C"].concat(Mye.apply(0,[u.x,u.y].concat(l.slice(1))));case"S":return c==="C"||c==="S"?(f=u.x*2-u.bx,d=u.y*2-u.by):(f=u.x,d=u.y),["C",f,d].concat(l.slice(1));case"T":return c==="Q"||c==="T"?(u.qx=u.x*2-u.qx,u.qy=u.y*2-u.qy):(u.qx=u.x,u.qy=u.y),["C"].concat(CJ(u.x,u.y,u.qx,u.qy,l[1],l[2]));case"Q":return u.qx=l[1],u.qy=l[2],["C"].concat(CJ(u.x,u.y,l[1],l[2],l[3],l[4]));case"H":return["L"].concat(l[1],u.y);case"V":return["L"].concat(u.x,l[1])}return l}function i(l,u){if(l[u].length>7){l[u].shift();const c=l[u];for(;c.length;)o[u]="A",u+=1,l.splice(u,0,["C"].concat(c.splice(0,6)));l.splice(u,1),s=e.length}}const o=[];let a="",s=e.length;for(let l=0;l<s;l+=1){let u="";e[l]&&(u=e[l][0]),u!=="C"&&(o[l]=u,l>0&&(a=o[l-1])),e[l]=r(e[l],n,a),o[l]!=="A"&&u==="C"&&(o[l]="C"),i(e,l);const c=e[l],f=c.length;n.x=c[f-2],n.y=c[f-1],n.bx=parseFloat(c[f-4])||n.x,n.by=parseFloat(c[f-3])||n.y}return(!e[0][0]||e[0][0]!=="M")&&e.unshift(["M",0,0]),e}function dft(t){return fft(t).map(e=>e.map(n=>typeof n=="string"?n:ki.round(n,2))).join(",").split(",").join(" ")}let ii=class Da extends Iv{constructor(e){if(super(),this.PRECISION=3,this.segments=[],Array.isArray(e))if(fr.isLine(e[0])||No.isCurve(e[0])){let n=null;e.forEach((i,o)=>{o===0&&this.appendSegment(Da.createSegment("M",i.start)),n!=null&&!n.end.equals(i.start)&&this.appendSegment(Da.createSegment("M",i.start)),fr.isLine(i)?this.appendSegment(Da.createSegment("L",i.end)):No.isCurve(i)&&this.appendSegment(Da.createSegment("C",i.controlPoint1,i.controlPoint2,i.end)),n=i})}else e.forEach(r=>{r.isSegment&&this.appendSegment(r)});else e!=null&&(fr.isLine(e)?(this.appendSegment(Da.createSegment("M",e.start)),this.appendSegment(Da.createSegment("L",e.end))):No.isCurve(e)?(this.appendSegment(Da.createSegment("M",e.start)),this.appendSegment(Da.createSegment("C",e.controlPoint1,e.controlPoint2,e.end))):Os.isPolyline(e)?e.points&&e.points.length&&e.points.forEach((n,r)=>{const i=r===0?Da.createSegment("M",n):Da.createSegment("L",n);this.appendSegment(i)}):e.isSegment&&this.appendSegment(e))}get start(){const e=this.segments,n=e.length;if(n===0)return null;for(let r=0;r<n;r+=1){const i=e[r];if(i.isVisible)return i.start}return e[n-1].end}get end(){const e=this.segments,n=e.length;if(n===0)return null;for(let r=n-1;r>=0;r-=1){const i=e[r];if(i.isVisible)return i.end}return e[n-1].end}moveTo(...e){return this.appendSegment(f1.create.call(null,...e))}lineTo(...e){return this.appendSegment(ks.create.call(null,...e))}curveTo(...e){return this.appendSegment(Su.create.call(null,...e))}arcTo(e,n,r,i,o,a,s){const l=this.end||new Ve,u=typeof a=="number"?uP(l.x,l.y,e,n,r,i,o,a,s):uP(l.x,l.y,e,n,r,i,o,a.x,a.y);if(u!=null)for(let c=0,f=u.length;c<f;c+=6)this.curveTo(u[c],u[c+1],u[c+2],u[c+3],u[c+4],u[c+5]);return this}quadTo(e,n,r,i){const o=this.end||new Ve,a=["M",o.x,o.y];if(typeof e=="number")a.push("Q",e,n,r,i);else{const l=n;a.push("Q",e.x,e.y,l.x,l.y)}const s=Da.parse(a.join(" "));return this.appendSegment(s.segments.slice(1)),this}close(){return this.appendSegment(c1.create())}drawPoints(e,n={}){const r=kye(e,n),i=Da.parse(r);i&&i.segments&&this.appendSegment(i.segments)}bbox(){const e=this.segments,n=e.length;if(n===0)return null;let r;for(let o=0;o<n;o+=1){const a=e[o];if(a.isVisible){const s=a.bbox();s!=null&&(r=r?r.union(s):s)}}if(r!=null)return r;const i=e[n-1];return new bn(i.end.x,i.end.y,0,0)}appendSegment(e){const n=this.segments.length;let r=n!==0?this.segments[n-1]:null,i;const o=null;if(Array.isArray(e))for(let a=0,s=e.length;a<s;a+=1){const l=e[a];i=this.prepareSegment(l,r,o),this.segments.push(i),r=i}else e!=null&&e.isSegment&&(i=this.prepareSegment(e,r,o),this.segments.push(i));return this}insertSegment(e,n){const r=this.segments.length;if(e<0&&(e=r+e+1),e>r||e<0)throw new Error("Index out of range.");let i,o=null,a=null;if(r!==0&&(e>=1?(o=this.segments[e-1],a=o.nextSegment):(o=null,a=this.segments[0])),!Array.isArray(n))i=this.prepareSegment(n,o,a),this.segments.splice(e,0,i);else for(let s=0,l=n.length;s<l;s+=1){const u=n[s];i=this.prepareSegment(u,o,a),this.segments.splice(e+s,0,i),o=i}return this}removeSegment(e){const n=this.fixIndex(e),r=this.segments.splice(n,1)[0],i=r.previousSegment,o=r.nextSegment;return i&&(i.nextSegment=o),o&&(o.previousSegment=i),r.isSubpathStart&&o&&this.updateSubpathStartSegment(o),r}replaceSegment(e,n){const r=this.fixIndex(e);let i;const o=this.segments[r];let a=o.previousSegment;const s=o.nextSegment;let l=o.isSubpathStart;if(!Array.isArray(n))i=this.prepareSegment(n,a,s),this.segments.splice(r,1,i),l&&i.isSubpathStart&&(l=!1);else{this.segments.splice(e,1);for(let u=0,c=n.length;u<c;u+=1){const f=n[u];i=this.prepareSegment(f,a,s),this.segments.splice(e+u,0,i),a=i,l&&i.isSubpathStart&&(l=!1)}}l&&s&&this.updateSubpathStartSegment(s)}getSegment(e){const n=this.fixIndex(e);return this.segments[n]}fixIndex(e){const n=this.segments.length;if(n===0)throw new Error("Path has no segments.");let r=e;for(;r<0;)r=n+r;if(r>=n||r<0)throw new Error("Index out of range.");return r}segmentAt(e,n={}){const r=this.segmentIndexAt(e,n);return r?this.getSegment(r):null}segmentAtLength(e,n={}){const r=this.segmentIndexAtLength(e,n);return r?this.getSegment(r):null}segmentIndexAt(e,n={}){if(this.segments.length===0)return null;const r=ki.clamp(e,0,1),i=this.getOptions(n),a=this.length(i)*r;return this.segmentIndexAtLength(a,i)}segmentIndexAtLength(e,n={}){const r=this.segments.length;if(r===0)return null;let i=!0;e<0&&(i=!1,e=-e);const o=this.getPrecision(n),a=this.getSubdivisions(n);let s=0,l=null;for(let u=0;u<r;u+=1){const c=i?u:r-1-u,f=this.segments[c],d=a[c],h=f.length({precision:o,subdivisions:d});if(f.isVisible){if(e<=s+h)return c;l=c}s+=h}return l}getSegmentSubdivisions(e={}){const n=this.getPrecision(e),r=[];for(let i=0,o=this.segments.length;i<o;i+=1){const s=this.segments[i].getSubdivisions({precision:n});r.push(s)}return r}updateSubpathStartSegment(e){let n=e.previousSegment,r=e;for(;r&&!r.isSubpathStart;)n!=null?r.subpathStartSegment=n.subpathStartSegment:r.subpathStartSegment=null,n=r,r=r.nextSegment}prepareSegment(e,n,r){e.previousSegment=n,e.nextSegment=r,n!=null&&(n.nextSegment=e),r!=null&&(r.previousSegment=e);let i=e;return e.isSubpathStart&&(e.subpathStartSegment=e,i=r),i!=null&&this.updateSubpathStartSegment(i),e}closestPoint(e,n={}){const r=this.closestPointT(e,n);return r?this.pointAtT(r):null}closestPointLength(e,n={}){const r=this.getOptions(n),i=this.closestPointT(e,r);return i?this.lengthAtT(i,r):0}closestPointNormalizedLength(e,n={}){const r=this.getOptions(n),i=this.closestPointLength(e,r);if(i===0)return 0;const o=this.length(r);return o===0?0:i/o}closestPointT(e,n={}){if(this.segments.length===0)return null;const r=this.getPrecision(n),i=this.getSubdivisions(n);let o,a=1/0;for(let s=0,l=this.segments.length;s<l;s+=1){const u=this.segments[s],c=i[s];if(u.isVisible){const f=u.closestPointT(e,{precision:r,subdivisions:c}),d=u.pointAtT(f),h=ki.squaredLength(d,e);h<a&&(o={segmentIndex:s,value:f},a=h)}}return o||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(e,n={}){if(this.segments.length===0)return null;const r=this.getPrecision(n),i=this.getSubdivisions(n);let o,a=1/0;for(let s=0,l=this.segments.length;s<l;s+=1){const u=this.segments[s],c=i[s];if(u.isDifferentiable()){const f=u.closestPointT(e,{precision:r,subdivisions:c}),d=u.pointAtT(f),h=ki.squaredLength(d,e);h<a&&(o=u.tangentAtT(f),a=h)}}return o||null}containsPoint(e,n={}){const r=this.toPolylines(n);if(!r)return!1;let i=0;for(let o=0,a=r.length;o<a;o+=1)r[o].containsPoint(e)&&(i+=1);return i%2===1}pointAt(e,n={}){if(this.segments.length===0)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const r=this.getOptions(n),o=this.length(r)*e;return this.pointAtLength(o,r)}pointAtLength(e,n={}){if(this.segments.length===0)return null;if(e===0)return this.start.clone();let r=!0;e<0&&(r=!1,e=-e);const i=this.getPrecision(n),o=this.getSubdivisions(n);let a,s=0;for(let u=0,c=this.segments.length;u<c;u+=1){const f=r?u:c-1-u,d=this.segments[f],h=o[f],p=d.length({precision:i,subdivisions:h});if(d.isVisible){if(e<=s+p)return d.pointAtLength((r?1:-1)*(e-s),{precision:i,subdivisions:h});a=d}s+=p}return a?r?a.end:a.start:this.segments[this.segments.length-1].end.clone()}pointAtT(e){const n=this.segments,r=n.length;if(r===0)return null;const i=e.segmentIndex;if(i<0)return n[0].pointAtT(0);if(i>=r)return n[r-1].pointAtT(1);const o=ki.clamp(e.value,0,1);return n[i].pointAtT(o)}divideAt(e,n={}){if(this.segments.length===0)return null;const r=ki.clamp(e,0,1),i=this.getOptions(n),a=this.length(i)*r;return this.divideAtLength(a,i)}divideAtLength(e,n={}){if(this.segments.length===0)return null;let r=!0;e<0&&(r=!1,e=-e);const i=this.getPrecision(n),o=this.getSubdivisions(n);let a=0,s,l,u,c,f;for(let S=0,x=this.segments.length;S<x;S+=1){const C=r?S:x-1-S,E=this.getSegment(C),T=o[C],A={precision:i,subdivisions:T},k=E.length(A);if(E.isDifferentiable()&&(u=E,c=C,e<=a+k)){l=C,s=E.divideAtLength((r?1:-1)*(e-a),A);break}a+=k}if(!u)return null;s||(l=c,f=r?1:0,s=u.divideAtT(f));const d=this.clone(),h=l;d.replaceSegment(h,s);const p=h;let v=h+1,g=h+2;s[0].isDifferentiable()||(d.removeSegment(p),v-=1,g-=1);const m=d.getSegment(v).start;d.insertSegment(v,Da.createSegment("M",m)),g+=1,s[1].isDifferentiable()||(d.removeSegment(g-1),g-=1);const y=g-p-1;for(let S=g,x=d.segments.length;S<x;S+=1){const C=this.getSegment(S-y),E=d.getSegment(S);if(E.type==="Z"&&!C.subpathStartSegment.end.equals(E.subpathStartSegment.end)){const T=Da.createSegment("L",C.end);d.replaceSegment(S,T)}}const b=new Da(d.segments.slice(0,v)),w=new Da(d.segments.slice(v));return[b,w]}intersectsWithLine(e,n={}){const r=this.toPolylines(n);if(r==null)return null;let i=null;for(let o=0,a=r.length;o<a;o+=1){const s=r[o],l=e.intersect(s);l&&(i==null&&(i=[]),Array.isArray(l)?i.push(...l):i.push(l))}return i}isDifferentiable(){for(let e=0,n=this.segments.length;e<n;e+=1)if(this.segments[e].isDifferentiable())return!0;return!1}isValid(){const e=this.segments;return e.length===0||e[0].type==="M"}length(e={}){if(this.segments.length===0)return 0;const n=this.getSubdivisions(e);let r=0;for(let i=0,o=this.segments.length;i<o;i+=1){const a=this.segments[i],s=n[i];r+=a.length({subdivisions:s})}return r}lengthAtT(e,n={}){const r=this.segments.length;if(r===0)return 0;let i=e.segmentIndex;if(i<0)return 0;let o=ki.clamp(e.value,0,1);i>=r&&(i=r-1,o=1);const a=this.getPrecision(n),s=this.getSubdivisions(n);let l=0;for(let f=0;f<i;f+=1){const d=this.segments[f],h=s[f];l+=d.length({precision:a,subdivisions:h})}const u=this.segments[i],c=s[i];return l+=u.lengthAtT(o,{precision:a,subdivisions:c}),l}tangentAt(e,n={}){if(this.segments.length===0)return null;const r=ki.clamp(e,0,1),i=this.getOptions(n),a=this.length(i)*r;return this.tangentAtLength(a,i)}tangentAtLength(e,n={}){if(this.segments.length===0)return null;let r=!0;e<0&&(r=!1,e=-e);const i=this.getPrecision(n),o=this.getSubdivisions(n);let a,s=0;for(let l=0,u=this.segments.length;l<u;l+=1){const c=r?l:u-1-l,f=this.segments[c],d=o[c],h=f.length({precision:i,subdivisions:d});if(f.isDifferentiable()){if(e<=s+h)return f.tangentAtLength((r?1:-1)*(e-s),{precision:i,subdivisions:d});a=f}s+=h}if(a){const l=r?1:0;return a.tangentAtT(l)}return null}tangentAtT(e){const n=this.segments.length;if(n===0)return null;const r=e.segmentIndex;if(r<0)return this.segments[0].tangentAtT(0);if(r>=n)return this.segments[n-1].tangentAtT(1);const i=ki.clamp(e.value,0,1);return this.segments[r].tangentAtT(i)}getPrecision(e={}){return e.precision==null?this.PRECISION:e.precision}getSubdivisions(e={}){if(e.segmentSubdivisions==null){const n=this.getPrecision(e);return this.getSegmentSubdivisions({precision:n})}return e.segmentSubdivisions}getOptions(e={}){const n=this.getPrecision(e),r=this.getSubdivisions(e);return{precision:n,segmentSubdivisions:r}}toPoints(e={}){const n=this.segments,r=n.length;if(r===0)return null;const i=this.getSubdivisions(e),o=[];let a=[];for(let s=0;s<r;s+=1){const l=n[s];if(l.isVisible){const u=i[s];u.length>0?u.forEach(c=>a.push(c.start)):a.push(l.start)}else a.length>0&&(a.push(n[s-1].end),o.push(a),a=[])}return a.length>0&&(a.push(this.end),o.push(a)),o}toPolylines(e={}){const n=this.toPoints(e);return n?n.map(r=>new Os(r)):null}scale(e,n,r){return this.segments.forEach(i=>i.scale(e,n,r)),this}rotate(e,n){return this.segments.forEach(r=>r.rotate(e,n)),this}translate(e,n){return typeof e=="number"?this.segments.forEach(r=>r.translate(e,n)):this.segments.forEach(r=>r.translate(e)),this}clone(){const e=new Da;return this.segments.forEach(n=>e.appendSegment(n.clone())),e}equals(e){if(e==null)return!1;const n=this.segments,r=e.segments,i=n.length;if(r.length!==i)return!1;for(let o=0;o<i;o+=1){const a=n[o],s=r[o];if(a.type!==s.type||!a.equals(s))return!1}return!0}toJSON(){return this.segments.map(e=>e.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(e=>e.serialize()).join(" ")}toString(){return this.serialize()}};(function(t){function e(n){return n!=null&&n instanceof t}t.isPath=e})(ii||(ii={}));(function(t){function e(r){if(!r)return new t;const i=new t,o=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,a=t.normalize(r).match(o);if(a!=null)for(let s=0,l=a.length;s<l;s+=1){const u=a[s],c=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,f=u.match(c);if(f!=null){const d=f[0],h=f.slice(1).map(v=>+v),p=n.call(null,d,...h);i.appendSegment(p)}}return i}t.parse=e;function n(r,...i){if(r==="M")return f1.create.call(null,...i);if(r==="L")return ks.create.call(null,...i);if(r==="C")return Su.create.call(null,...i);if(r==="z"||r==="Z")return c1.create();throw new Error(`Invalid path segment type "${r}"`)}t.createSegment=n})(ii||(ii={}));(function(t){t.normalize=dft,t.isValid=aft,t.drawArc=lft,t.drawPoints=kye,t.arcToCurves=uP})(ii||(ii={}));class ta{constructor(e){this.options=Object.assign({},e),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(e,n,r=!1){if(typeof e=="object"){Object.entries(e).forEach(([a,s])=>{this.register(a,s,n)});return}this.exist(e)&&!r&&!ov.isApplyingHMR()&&this.onDuplicated(e);const i=this.options.process,o=i?lr(i,this,e,n):n;return this.data[e]=o,o}unregister(e){const n=e?this.data[e]:null;return delete this.data[e],n}get(e){return e?this.data[e]:null}exist(e){return e?this.data[e]!=null:!1}onDuplicated(e){try{throw this.options.onConflict&&lr(this.options.onConflict,this,e),new Error(`${TM(this.options.type)} with name '${e}' already registered.`)}catch(n){throw n}}onNotFound(e,n){throw new Error(this.getSpellingSuggestion(e,n))}getSpellingSuggestion(e,n){const r=this.getSpellingSuggestionForName(e),i=n?`${n} ${vBe(this.options.type)}`:this.options.type;return`${TM(i)} with name '${e}' does not exist.${r?` Did you mean '${r}'?`:""}`}getSpellingSuggestionForName(e){return dct(e,Object.keys(this.data),n=>n)}}(function(t){function e(n){return new t(n)}t.create=e})(ta||(ta={}));const hft={color:"#aaaaaa",thickness:1,markup:"rect",update(t,e){const n=e.thickness*e.sx,r=e.thickness*e.sy;oi(t,{width:n,height:r,rx:n,ry:r,fill:e.color})}},pft={color:"#aaaaaa",thickness:1,markup:"rect",update(t,e){const n=e.sx<=1?e.thickness*e.sx:e.thickness;oi(t,{width:n,height:n,rx:n,ry:n,fill:e.color})}},vft={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(t,e){let n;const r=e.width,i=e.height,o=e.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",oi(t,{d:n,stroke:e.color,"stroke-width":e.thickness})}},gft=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(t,e){let n;const r=e.width,i=e.height,o=e.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",oi(t,{d:n,stroke:e.color,"stroke-width":e.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(t,e){let n;const r=e.factor||1,i=e.width*r,o=e.height*r,a=e.thickness;i-a>=0&&o-a>=0?n=["M",i,0,"H0 M0 0 V0",o].join(" "):n="M 0 0 0 0",e.width=i,e.height=o,oi(t,{d:n,stroke:e.color,"stroke-width":e.thickness})}}],mft=Object.freeze(Object.defineProperty({__proto__:null,dot:hft,doubleMesh:gft,fixedDot:pft,mesh:vft},Symbol.toStringTag,{value:"Module"}));let Ap=class{constructor(){this.patterns={},this.root=Sr.create(oP(),{width:"100%",height:"100%"},[Yc("defs")]).node}add(e,n){const r=this.root.childNodes[0];r&&r.appendChild(n),this.patterns[e]=n,Sr.create("rect",{width:"100%",height:"100%",fill:`url(#${e})`}).appendTo(this.root)}get(e){return this.patterns[e]}has(e){return this.patterns[e]!=null}};(function(t){t.presets=mft,t.registry=ta.create({type:"grid"}),t.registry.register(t.presets,!0)})(Ap||(Ap={}));const Pye=function(t){const e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n*2,e.height=r;const i=e.getContext("2d");return i.drawImage(t,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(t,0,0,n,r),e},Oye=function(t){const e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n,e.height=r*2;const i=e.getContext("2d");return i.drawImage(t,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(t,0,0,n,r),e},Iye=function(t){const e=document.createElement("canvas"),n=t.width,r=t.height;e.width=2*n,e.height=2*r;const i=e.getContext("2d");return i.drawImage(t,0,0,n,r),i.setTransform(-1,0,0,-1,e.width,e.height),i.drawImage(t,0,0,n,r),i.setTransform(-1,0,0,1,e.width,0),i.drawImage(t,0,0,n,r),i.setTransform(1,0,0,-1,0,e.height),i.drawImage(t,0,0,n,r),e},yft=function(t,e){const n=t.width,r=t.height,i=document.createElement("canvas");i.width=n*3,i.height=r*3;const o=i.getContext("2d"),a=e.angle!=null?-e.angle:-20,s=xi.toRad(a),l=i.width/4,u=i.height/4;for(let c=0;c<4;c+=1)for(let f=0;f<4;f+=1)(c+f)%2>0&&(o.setTransform(1,0,0,1,(2*c-1)*l,(2*f-1)*u),o.rotate(s),o.drawImage(t,-n/2,-r/2,n,r));return i},bft=Object.freeze(Object.defineProperty({__proto__:null,flipX:Pye,flipXY:Iye,flipY:Oye,watermark:yft},Symbol.toStringTag,{value:"Module"}));var tC;(function(t){t.presets=Object.assign({},bft),t.presets["flip-x"]=Pye,t.presets["flip-y"]=Oye,t.presets["flip-xy"]=Iye,t.registry=ta.create({type:"background pattern"}),t.registry.register(t.presets,!0)})(tC||(tC={}));function Pj(t,e){return t??e}function Fa(t,e){return t!=null&&Number.isFinite(t)?t:e}function _ft(t={}){const e=Pj(t.color,"blue"),n=Fa(t.width,1),r=Fa(t.margin,2),i=Fa(t.opacity,1),o=r,a=r+n;return`
    <filter>
      <feFlood flood-color="${e}" flood-opacity="${i}" result="colored"/>
      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${a}" />
      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${o}" />
      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>
      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>
      <feMerge>
        <feMergeNode in="outline"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  `.trim()}function wft(t={}){const e=Pj(t.color,"red"),n=Fa(t.blur,0),r=Fa(t.width,1),i=Fa(t.opacity,1);return`
      <filter>
        <feFlood flood-color="${e}" flood-opacity="${i}" result="colored"/>
        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${r}"/>
        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>
        <feGaussianBlur result="blured" in="composed" stdDeviation="${n}"/>
        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>
      </filter>
    `.trim()}function Sft(t={}){const e=Fa(t.x,2);return`
    <filter>
      <feGaussianBlur stdDeviation="${t.y!=null&&Number.isFinite(t.y)?[e,t.y]:e}"/>
    </filter>
  `.trim()}function xft(t={}){const e=Fa(t.dx,0),n=Fa(t.dy,0),r=Pj(t.color,"black"),i=Fa(t.blur,4),o=Fa(t.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>
         <feDropShadow stdDeviation="${i}" dx="${e}" dy="${n}" flood-color="${r}" flood-opacity="${o}" />
       </filter>`.trim():`<filter>
         <feGaussianBlur in="SourceAlpha" stdDeviation="${i}" />
         <feOffset dx="${e}" dy="${n}" result="offsetblur" />
         <feFlood flood-color="${r}" />
         <feComposite in2="offsetblur" operator="in" />
         <feComponentTransfer>
           <feFuncA type="linear" slope="${o}" />
         </feComponentTransfer>
         <feMerge>
           <feMergeNode/>
           <feMergeNode in="SourceGraphic"/>
         </feMerge>
       </filter>`.trim()}function Cft(t={}){const e=Fa(t.amount,1),n=.2126+.7874*(1-e),r=.7152-.7152*(1-e),i=.0722-.0722*(1-e),o=.2126-.2126*(1-e),a=.7152+.2848*(1-e),s=.0722-.0722*(1-e),l=.2126-.2126*(1-e),u=.0722+.9278*(1-e);return`
    <filter>
      <feColorMatrix type="matrix" values="${n} ${r} ${i} 0 0 ${o} ${a} ${s} 0 0 ${l} ${r} ${u} 0 0 0 0 0 1 0"/>
    </filter>
  `.trim()}function Eft(t={}){const e=Fa(t.amount,1),n=.393+.607*(1-e),r=.769-.769*(1-e),i=.189-.189*(1-e),o=.349-.349*(1-e),a=.686+.314*(1-e),s=.168-.168*(1-e),l=.272-.272*(1-e),u=.534-.534*(1-e),c=.131+.869*(1-e);return`
      <filter>
        <feColorMatrix type="matrix" values="${n} ${r} ${i} 0 0 ${o} ${a} ${s} 0 0 ${l} ${u} ${c} 0 0 0 0 0 1 0"/>
      </filter>
    `.trim()}function Tft(t={}){return`
      <filter>
        <feColorMatrix type="saturate" values="${1-Fa(t.amount,1)}"/>
      </filter>
    `.trim()}function Aft(t={}){return`
      <filter>
        <feColorMatrix type="hueRotate" values="${Fa(t.angle,0)}"/>
      </filter>
    `.trim()}function kft(t={}){const e=Fa(t.amount,1),n=1-e;return`
      <filter>
        <feComponentTransfer>
          <feFuncR type="table" tableValues="${e} ${n}"/>
          <feFuncG type="table" tableValues="${e} ${n}"/>
          <feFuncB type="table" tableValues="${e} ${n}"/>
        </feComponentTransfer>
      </filter>
    `.trim()}function Mft(t={}){const e=Fa(t.amount,1);return`
    <filter>
      <feComponentTransfer>
        <feFuncR type="linear" slope="${e}"/>
        <feFuncG type="linear" slope="${e}"/>
        <feFuncB type="linear" slope="${e}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}function Pft(t={}){const e=Fa(t.amount,1),n=.5-e/2;return`
    <filter>
     <feComponentTransfer>
        <feFuncR type="linear" slope="${e}" intercept="${n}"/>
        <feFuncG type="linear" slope="${e}" intercept="${n}"/>
        <feFuncB type="linear" slope="${e}" intercept="${n}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}const Oft=Object.freeze(Object.defineProperty({__proto__:null,blur:Sft,brightness:Mft,contrast:Pft,dropShadow:xft,grayScale:Cft,highlight:wft,hueRotate:Aft,invert:kft,outline:_ft,saturate:Tft,sepia:Eft},Symbol.toStringTag,{value:"Module"}));var d1;(function(t){t.presets=Oft,t.registry=ta.create({type:"filter"}),t.registry.register(t.presets,!0)})(d1||(d1={}));const Ift={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},Rft={},Rye={position:YI("x","width","origin")},Lye={position:YI("y","height","origin")},Lft={position:YI("x","width","corner")},Dft={position:YI("y","height","corner")},Dye={set:uv("width","width")},Nye={set:uv("height","height")},Nft={set:uv("rx","width")},Bft={set:uv("ry","height")},Bye={set:(t=>{const e=uv(t,"width"),n=uv(t,"height");return function(r,i){const o=i.refBBox,a=o.height>o.width?e:n;return lr(a,this,r,i)}})("r")},$ft={set(t,{refBBox:e}){let n=parseFloat(t);const r=fh(t);r&&(n/=100);const i=Math.sqrt(e.height*e.height+e.width*e.width);let o;return Number.isFinite(n)&&(r||n>=0&&n<=1?o=n*i:o=Math.max(n+i,0)),{r:o}}},Fft={set:uv("cx","width")},Vft={set:uv("cy","height")},$ye={set:zye({resetOffset:!0})},zft={set:zye({resetOffset:!1})},Fye={set:Hye({resetOffset:!0})},Hft={set:Hye({resetOffset:!1})},jft=Bye,Gft=$ye,Uft=Fye,Wft=Rye,qft=Lye,Kft=Dye,Yft=Nye;function YI(t,e,n){return(r,{refBBox:i})=>{if(r==null)return null;let o=parseFloat(r);const a=fh(r);a&&(o/=100);let s;if(Number.isFinite(o)){const u=i[n];a||o>0&&o<1?s=u[t]+i[e]*o:s=u[t]+o}const l=new Ve;return l[t]=s||0,l}}function uv(t,e){return function(n,{refBBox:r}){let i=parseFloat(n);const o=fh(n);o&&(i/=100);const a={};if(Number.isFinite(i)){const s=o||i>=0&&i<=1?i*r[e]:Math.max(i+r[e],0);a[t]=s}return a}}function Vye(t,e){const n="x6-shape",r=e&&e.resetOffset;return function(i,{elem:o,refBBox:a}){let s=Gm(o,n);if(!s||s.value!==i){const v=t(i);s={value:i,shape:v,shapeBBox:v.bbox()},Gm(o,n,s)}const l=s.shape.clone(),u=s.shapeBBox.clone(),c=u.getOrigin(),f=a.getOrigin();u.x=f.x,u.y=f.y;const d=a.getMaxScaleToFit(u,f),h=u.width===0||a.width===0?1:d.sx,p=u.height===0||a.height===0?1:d.sy;return l.scale(h,p,c),r&&l.translate(-c.x,-c.y),l}}function zye(t){function e(r){return ii.parse(r)}const n=Vye(e,t);return(r,i)=>({d:n(r,i).serialize()})}function Hye(t){const e=Vye(n=>new Os(n),t);return(n,r)=>({points:e(n,r).serialize()})}const Xft={qualify:Gc,set(t,{view:e}){return`url(#${e.graph.defineGradient(t)})`}},Zft={qualify:Gc,set(t,{view:e}){const n=e.cell,r=Object.assign({},t);if(n.isEdge()&&r.type==="linearGradient"){const i=e,o=i.sourcePoint,a=i.targetPoint;r.id=`gradient-${r.type}-${n.id}`,r.attrs=Object.assign(Object.assign({},r.attrs),{x1:o.x,y1:o.y,x2:a.x,y2:a.y,gradientUnits:"userSpaceOnUse"}),e.graph.defs.remove(r.id)}return`url(#${e.graph.defineGradient(r)})`}},jye={qualify(t,{attrs:e}){return e.textWrap==null||!Gc(e.textWrap)},set(t,{view:e,elem:n,attrs:r}){const i="x6-text",o=Gm(n,i),a=c=>{try{return JSON.parse(c)}catch{return c}},s={x:r.x,eol:r.eol,annotations:a(r.annotations),textPath:a(r["text-path"]||r.textPath),textVerticalAnchor:r["text-vertical-anchor"]||r.textVerticalAnchor,displayEmpty:(r["display-empty"]||r.displayEmpty)==="true",lineHeight:r["line-height"]||r.lineHeight},l=r["font-size"]||r.fontSize,u=JSON.stringify([t,s]);if(l&&n.setAttribute("font-size",l),o==null||o!==u){const c=s.textPath;if(c!=null&&typeof c=="object"){const f=c.selector;if(typeof f=="string"){const d=e.find(f)[0];d instanceof SVGPathElement&&(xj(d),s.textPath=Object.assign({"xlink:href":`#${d.id}`},c))}}bye(n,`${t}`,s),Gm(n,i,u)}}},Jft={qualify:Gc,set(t,{view:e,elem:n,attrs:r,refBBox:i}){const o=t,a=o.width||0;fh(a)?i.width*=parseFloat(a)/100:a<=0?i.width+=a:i.width=a;const s=o.height||0;fh(s)?i.height*=parseFloat(s)/100:s<=0?i.height+=s:i.height=s;let l,u=o.text;u==null&&(u=r.text||n?.textContent),u!=null?l=_ye(`${u}`,i,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":r["font-size"]||r.fontSize,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight},{ellipsis:o.ellipsis}):l="",lr(jye.set,this,l,{view:e,elem:n,attrs:r,refBBox:i,cell:e.cell})}},__=(t,{attrs:e})=>e.text!==void 0,Qft={qualify:__},edt={qualify:__},tdt={qualify:__},ndt={qualify:__},rdt={qualify:__},idt={qualify:__},odt={qualify(t,{elem:e}){return e instanceof SVGElement},set(t,{elem:e}){const n="x6-title",r=`${t}`,i=Gm(e,n);if(i==null||i!==r){Gm(e,n,r);const o=e.firstChild;if(o&&o.tagName.toUpperCase()==="TITLE"){const a=o;a.textContent=r}else{const a=document.createElementNS(e.namespaceURI,"title");a.textContent=r,e.insertBefore(a,o)}}}},adt={offset:Gye("x","width","right")},sdt={offset:Gye("y","height","bottom")},ldt={offset(t,{refBBox:e}){return t?{x:-e.x,y:-e.y}:{x:0,y:0}}};function Gye(t,e,n){return(r,{refBBox:i})=>{const o=new Ve;let a;return r==="middle"?a=i[e]/2:r===n?a=i[e]:typeof r=="number"&&Number.isFinite(r)?a=r>-1&&r<1?-i[e]*r:-r:fh(r)?a=i[e]*parseFloat(r)/100:a=0,o[t]=-(i[t]+a),o}}const udt={qualify:Gc,set(t,{elem:e}){sa(e,t)}},cdt={set(t,{elem:e}){e.innerHTML=`${t}`}},fdt={qualify:Gc,set(t,{view:e}){return`url(#${e.graph.defineFilter(t)})`}},ddt={set(t){return t!=null&&typeof t=="object"&&t.id?t.id:t}};function Rv(t,e,n){let r,i;typeof e=="object"?(r=e.x,i=e.y):(r=e,i=n);const o=ii.parse(t),a=o.bbox();if(a){let s=-a.height/2-a.y,l=-a.width/2-a.x;typeof r=="number"&&(l-=r),typeof i=="number"&&(s-=i),o.translate(l,s)}return o.serialize()}var Uye=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const hdt=t=>{var{size:e,width:n,height:r,offset:i,open:o}=t,a=Uye(t,["size","width","height","offset","open"]);return Wye({size:e,width:n,height:r,offset:i},o===!0,!0,void 0,a)},pdt=t=>{var{size:e,width:n,height:r,offset:i,factor:o}=t,a=Uye(t,["size","width","height","offset","factor"]);return Wye({size:e,width:n,height:r,offset:i},!1,!1,o,a)};function Wye(t,e,n,r=3/4,i={}){const o=t.size||10,a=t.width||o,s=t.height||o,l=new ii,u={};if(e)l.moveTo(a,0).lineTo(0,s/2).lineTo(a,s),u.fill="none";else{if(l.moveTo(0,s/2),l.lineTo(a,0),!n){const c=Xs(r,0,1);l.lineTo(a*c,s/2)}l.lineTo(a,s),l.close()}return Object.assign(Object.assign(Object.assign({},u),i),{tagName:"path",d:Rv(l.serialize(),{x:t.offset!=null?t.offset:-a/2})})}var vdt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const gdt=t=>{var{size:e,width:n,height:r,offset:i}=t,o=vdt(t,["size","width","height","offset"]);const a=e||10,s=n||a,l=r||a,u=new ii;return u.moveTo(0,l/2).lineTo(s/2,0).lineTo(s,l/2).lineTo(s/2,l).close(),Object.assign(Object.assign({},o),{tagName:"path",d:Rv(u.serialize(),i??-s/2)})};var mdt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ydt=t=>{var{d:e,offsetX:n,offsetY:r}=t,i=mdt(t,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},i),{tagName:"path",d:Rv(e,n,r)})};var bdt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const _dt=t=>{var{size:e,width:n,height:r,offset:i}=t,o=bdt(t,["size","width","height","offset"]);const a=e||10,s=n||a,l=r||a,u=new ii;return u.moveTo(0,0).lineTo(s,l).moveTo(0,l).lineTo(s,0),Object.assign(Object.assign({},o),{tagName:"path",fill:"none",d:Rv(u.serialize(),i||-s/2)})};var wdt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Sdt=t=>{var{width:e,height:n,offset:r,open:i,flip:o}=t,a=wdt(t,["width","height","offset","open","flip"]);let s=n||6;const l=e||10,u=i===!0,c=o===!0,f=Object.assign(Object.assign({},a),{tagName:"path"});c&&(s=-s);const d=new ii;return d.moveTo(0,s).lineTo(l,0),u?f.fill="none":(d.lineTo(l,s),d.close()),f.d=Rv(d.serialize(),{x:r||-l/2,y:s/2}),f};var qye=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Kye=t=>{var{r:e}=t,n=qye(t,["r"]);const r=e||5;return Object.assign(Object.assign({cx:r},n),{tagName:"circle",r})},xdt=t=>{var{r:e}=t,n=qye(t,["r"]);const r=e||5,i=new ii;return i.moveTo(r,0).lineTo(r,r*2),i.moveTo(0,r).lineTo(r*2,r),{children:[Object.assign(Object.assign({},Kye({r})),{fill:"none"}),Object.assign(Object.assign({},n),{tagName:"path",d:Rv(i.serialize(),-r)})]}};var Cdt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Edt=t=>{var{rx:e,ry:n}=t,r=Cdt(t,["rx","ry"]);const i=e||5,o=n||5;return Object.assign(Object.assign({cx:i},r),{tagName:"ellipse",rx:i,ry:o})},Tdt=Object.freeze(Object.defineProperty({__proto__:null,async:Sdt,block:hdt,circle:Kye,circlePlus:xdt,classic:pdt,cross:_dt,diamond:gdt,ellipse:Edt,path:ydt},Symbol.toStringTag,{value:"Module"}));var cv;(function(t){t.presets=Tdt,t.registry=ta.create({type:"marker"}),t.registry.register(t.presets,!0)})(cv||(cv={}));(function(t){t.normalize=Rv})(cv||(cv={}));var Adt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Oj(t){return typeof t=="string"||Gc(t)}const kdt={qualify:Oj,set(t,{view:e,attrs:n}){return Ij("marker-start",t,e,n)}},Mdt={qualify:Oj,set(t,{view:e,attrs:n}){return Ij("marker-end",t,e,n,{transform:"rotate(180)"})}},Pdt={qualify:Oj,set(t,{view:e,attrs:n}){return Ij("marker-mid",t,e,n)}};function Ij(t,e,n,r,i={}){const o=typeof e=="string"?{name:e}:e,{name:a,args:s}=o,l=Adt(o,["name","args"]);let u=l;if(a&&typeof a=="string"){const f=cv.registry.get(a);if(f)u=f(Object.assign(Object.assign({},l),s));else return cv.registry.onNotFound(a)}const c=Object.assign(Object.assign(Object.assign({},Odt(r,t)),i),u);return{[t]:`url(#${n.graph.defineMarker(c)})`}}function Odt(t,e){const n={},r=t.stroke;typeof r=="string"&&(n.stroke=r,n.fill=r);let i=t.strokeOpacity;if(i==null&&(i=t["stroke-opacity"]),i==null&&(i=t.opacity),i!=null&&(n["stroke-opacity"]=i,n["fill-opacity"]=i),e!=="marker-mid"){const o=parseFloat(t.strokeWidth||t["stroke-width"]);if(Number.isFinite(o)&&o>1){const a=Math.ceil(o/2);n.refX=e==="marker-start"?a:-a}}return n}const P2=(t,{view:e})=>e.cell.isEdge(),Idt={qualify:P2,set(t,e){var n,r,i,o;const a=e.view,s=t.reverse||!1,l=t.stubs||0;let u;if(Number.isFinite(l)&&l!==0)if(s){let c,f;const d=a.getConnectionLength()||0;l<0?(c=(d+l)/2,f=-l):(c=l,f=d-l*2);const h=a.getConnection();u=(o=(i=(r=(n=h?.divideAtLength(c))===null||n===void 0?void 0:n[1])===null||r===void 0?void 0:r.divideAtLength(f))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.serialize()}else{let c;l<0?c=((a.getConnectionLength()||0)+l)/2:c=l;const f=a.getConnection();if(f){const d=f.divideAtLength(c),h=f.divideAtLength(-c);d&&h&&(u=`${d[0].serialize()} ${h[1].serialize()}`)}}return{d:u||a.getConnectionPathData()}}},Yye={qualify:P2,set:XI("getTangentAtLength",{rotate:!0})},Rdt={qualify:P2,set:XI("getTangentAtLength",{rotate:!1})},Xye={qualify:P2,set:XI("getTangentAtRatio",{rotate:!0})},Ldt={qualify:P2,set:XI("getTangentAtRatio",{rotate:!1})},Ddt=Yye,Ndt=Xye;function XI(t,e){const n={x:1,y:0};return(r,i)=>{let o,a;const s=i.view,l=s[t](Number(r));return l?(a=e.rotate?l.vector().vectorAngle(n):0,o=l.start):(o=s.path.start,a=0),a===0?{transform:`translate(${o.x},${o.y}')`}:{transform:`translate(${o.x},${o.y}') rotate(${a})`}}}const Bdt=Object.freeze(Object.defineProperty({__proto__:null,annotations:ndt,atConnectionLength:Ddt,atConnectionLengthIgnoreGradient:Rdt,atConnectionLengthKeepGradient:Yye,atConnectionRatio:Ndt,atConnectionRatioIgnoreGradient:Ldt,atConnectionRatioKeepGradient:Xye,connection:Idt,displayEmpty:idt,eol:rdt,fill:Xft,filter:fdt,html:cdt,lineHeight:Qft,port:ddt,ref:Rft,refCx:Fft,refCy:Vft,refD:Gft,refDKeepOffset:zft,refDResetOffset:$ye,refDx:Lft,refDy:Dft,refHeight:Nye,refHeight2:Yft,refPoints:Uft,refPointsKeepOffset:Hft,refPointsResetOffset:Fye,refR:jft,refRCircumscribed:$ft,refRInscribed:Bye,refRx:Nft,refRy:Bft,refWidth:Dye,refWidth2:Kft,refX:Rye,refX2:Wft,refY:Lye,refY2:qft,resetOffset:ldt,sourceMarker:kdt,stroke:Zft,style:udt,targetMarker:Mdt,text:jye,textPath:tdt,textVerticalAnchor:edt,textWrap:Jft,title:odt,vertexMarker:Pdt,xAlign:adt,yAlign:sdt},Symbol.toStringTag,{value:"Module"}));var Jf;(function(t){function e(n,r,i){return!!(n!=null&&(typeof n=="string"||typeof n.qualify!="function"||lr(n.qualify,this,r,i)))}t.isValidDefinition=e})(Jf||(Jf={}));(function(t){t.presets=Object.assign(Object.assign({},Ift),Bdt),t.registry=ta.create({type:"attribute definition"}),t.registry.register(t.presets,!0)})(Jf||(Jf={}));const Yu={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,prefix(t){return`${Yu.prefixCls}-${t}`}},EJ=Yu.prefix("highlighted"),$dt={highlight(t,e,n){const r=n&&n.className||EJ;Qn(e,r)},unhighlight(t,e,n){const r=n&&n.className||EJ;_o(e,r)}},TJ=Yu.prefix("highlight-opacity"),Fdt={highlight(t,e){Qn(e,TJ)},unhighlight(t,e){_o(e,TJ)}};var Fi;(function(t){t.normalizeMarker=Rv;function e(d,h){const p=Wct(d.x,d.y).matrixTransform(h);return new Ve(p.x,p.y)}t.transformPoint=e;function n(d,h){return new fr(e(d.start,h),e(d.end,h))}t.transformLine=n;function r(d,h){let p=d instanceof Os?d.points:d;return Array.isArray(p)||(p=[]),new Os(p.map(v=>e(v,h)))}t.transformPolyline=r;function i(d,h){const v=Yc("svg").createSVGPoint();v.x=d.x,v.y=d.y;const g=v.matrixTransform(h);v.x=d.x+d.width,v.y=d.y;const m=v.matrixTransform(h);v.x=d.x+d.width,v.y=d.y+d.height;const y=v.matrixTransform(h);v.x=d.x,v.y=d.y+d.height;const b=v.matrixTransform(h),w=Math.min(g.x,m.x,y.x,b.x),S=Math.max(g.x,m.x,y.x,b.x),x=Math.min(g.y,m.y,y.y,b.y),C=Math.max(g.y,m.y,y.y,b.y);return new bn(w,x,S-w,C-x)}t.transformRectangle=i;function o(d,h,p){let v;const g=d.ownerSVGElement;if(!g)return new bn(0,0,0,0);try{v=d.getBBox()}catch{v={x:d.clientLeft,y:d.clientTop,width:d.clientWidth,height:d.clientHeight}}if(h)return bn.create(v);const m=qS(d,p||g);return i(v,m)}t.bbox=o;function a(d,h={}){let p;if(!d.ownerSVGElement||!av(d)){if(mJ(d)){const{left:y,top:b,width:w,height:S}=s(d);return new bn(y,b,w,S)}return new bn(0,0,0,0)}let g=h.target;if(!h.recursive){try{p=d.getBBox()}catch{p={x:d.clientLeft,y:d.clientTop,width:d.clientWidth,height:d.clientHeight}}if(!g)return bn.create(p);const y=qS(d,g);return i(p,y)}{const y=d.childNodes,b=y.length;if(b===0)return a(d,{target:g});g||(g=d);for(let w=0;w<b;w+=1){const S=y[w];let x;S.childNodes.length===0?x=a(S,{target:g}):x=a(S,{target:g,recursive:!0}),p?p=p.union(x):p=x}return p}}t.getBBox=a;function s(d){let h=0,p=0,v=0,g=0;if(d){let m=d;for(;m;)h+=m.offsetLeft,p+=m.offsetTop,m=m.offsetParent,m&&(h+=parseInt(_J(m,"borderLeft"),10),p+=parseInt(_J(m,"borderTop"),10));v=d.offsetWidth,g=d.offsetHeight}return{left:h,top:p,width:v,height:g}}t.getBoundingOffsetRect=s;function l(d){const h=p=>{const v=d.getAttribute(p),g=v?parseFloat(v):0;return Number.isNaN(g)?0:g};switch(d instanceof SVGElement&&d.nodeName.toLowerCase()){case"rect":return new bn(h("x"),h("y"),h("width"),h("height"));case"circle":return new lv(h("cx"),h("cy"),h("r"),h("r"));case"ellipse":return new lv(h("cx"),h("cy"),h("rx"),h("ry"));case"polyline":{const p=sP(d);return new Os(p)}case"polygon":{const p=sP(d);return p.length>1&&p.push(p[0]),new Os(p)}case"path":{let p=d.getAttribute("d");return ii.isValid(p)||(p=ii.normalize(p)),ii.parse(p)}case"line":return new fr(h("x1"),h("y1"),h("x2"),h("y2"))}return a(d)}t.toGeometryShape=l;function u(d,h,p,v){const g=Ve.create(h),m=Ve.create(p);v||(v=d instanceof SVGSVGElement?d:d.ownerSVGElement);const y=_V(d);d.setAttribute("transform","");const b=a(d,{target:v}).scale(y.sx,y.sy),w=iS();w.setTranslate(-b.x-b.width/2,-b.y-b.height/2);const S=iS(),x=g.angleBetween(m,g.clone().translate(1,0));x&&S.setRotate(x,0,0);const C=iS(),E=g.clone().move(m,b.width/2);C.setTranslate(2*g.x-E.x,2*g.y-E.y);const T=qS(d,v),A=iS();A.setMatrix(C.matrix.multiply(S.matrix.multiply(w.matrix.multiply(T.scale(y.sx,y.sy))))),d.setAttribute("transform",m_(A.matrix))}t.translateAndAutoOrient=u;function c(d){if(d==null)return null;let h=d;do{let p=h.tagName;if(typeof p!="string")return null;if(p=p.toUpperCase(),If(h,"x6-port"))h=h.nextElementSibling;else if(p==="G")h=h.firstElementChild;else if(p==="TITLE")h=h.nextElementSibling;else break}while(h);return h}t.findShapeNode=c;function f(d){const h=c(d);if(!av(h)){if(mJ(d)){const{left:g,top:m,width:y,height:b}=s(d);return new bn(g,m,y,b)}return new bn(0,0,0,0)}return l(h).bbox()||bn.create()}t.getBBoxV2=f})(Fi||(Fi={}));const Vdt={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},zdt={highlight(t,e,n){const r=pp.getHighlighterId(e,n);if(pp.hasCache(r))return;n=cde({},n,Vdt);const i=Sr.create(e);let o,a;try{o=i.toPathData()}catch{a=Fi.bbox(i.node,!0),o=Sye(Object.assign(Object.assign({},n),a))}const s=Yc("path");if(oi(s,Object.assign({d:o,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},n.attrs?Jx(n.attrs):null)),t.isEdgeElement(e))oi(s,"d",t.getConnectionPathData());else{let c=i.getTransformToElement(t.container);const f=n.padding;if(f){a==null&&(a=Fi.bbox(i.node,!0));const d=a.x+a.width/2,h=a.y+a.height/2;a=Fi.transformRectangle(a,c);const p=Math.max(a.width,1),v=Math.max(a.height,1),g=(p+f)/p,m=(v+f)/v,y=Ga({a:g,b:0,c:0,d:m,e:d-g*d,f:h-m*h});c=c.multiply(y)}u1(s,c)}Qn(s,Yu.prefix("highlight-stroke"));const l=t.cell,u=()=>pp.removeHighlighter(r);l.on("removed",u),l.model&&l.model.on("reseted",u),t.container.appendChild(s),pp.setCache(r,s)},unhighlight(t,e,n){pp.removeHighlighter(pp.getHighlighterId(e,n))}};var pp;(function(t){function e(a,s){return xj(a),a.id+JSON.stringify(s)}t.getHighlighterId=e;const n={};function r(a,s){n[a]=s}t.setCache=r;function i(a){return n[a]!=null}t.hasCache=i;function o(a){const s=n[a];s&&(Nu(s),delete n[a])}t.removeHighlighter=o})(pp||(pp={}));const Hdt=Object.freeze(Object.defineProperty({__proto__:null,className:$dt,opacity:Fdt,stroke:zdt},Symbol.toStringTag,{value:"Module"}));var Kd;(function(t){function e(n,r){if(typeof r.highlight!="function")throw new Error(`Highlighter '${n}' is missing required \`highlight()\` method`);if(typeof r.unhighlight!="function")throw new Error(`Highlighter '${n}' is missing required \`unhighlight()\` method`)}t.check=e})(Kd||(Kd={}));(function(t){t.presets=Hdt,t.registry=ta.create({type:"highlighter"}),t.registry.register(t.presets,!0)})(Kd||(Kd={}));function TV(t,e={}){return new Ve(Sc(e.x,t.width),Sc(e.y,t.height))}function Rj(t,e,n){return Object.assign({angle:e,position:t.toJSON()},n)}const jdt=(t,e)=>t.map(({x:n,y:r,angle:i})=>Rj(TV(e,{x:n,y:r}),i||0)),Gdt=(t,e,n)=>{const r=n.start||0,i=n.step||20;return Zye(t,e,r,(o,a)=>(o+.5-a/2)*i)},Udt=(t,e,n)=>{const r=n.start||0,i=n.step||360/t.length;return Zye(t,e,r,o=>o*i)};function Zye(t,e,n,r){const i=e.getCenter(),o=e.getTopCenter(),a=e.width/e.height,s=lv.fromRect(e),l=t.length;return t.map((u,c)=>{const f=n+r(c,l),d=o.clone().rotate(-f,i).scale(a,1,i),h=u.compensateRotate?-s.tangentTheta(d):0;return(u.dx||u.dy)&&d.translate(u.dx||0,u.dy||0),u.dr&&d.move(i,u.dr),Rj(d.round(),h,u)})}var Wdt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const qdt=(t,e,n)=>{const r=TV(e,n.start||e.getOrigin()),i=TV(e,n.end||e.getCorner());return O2(t,r,i,n)},Kdt=(t,e,n)=>O2(t,e.getTopLeft(),e.getBottomLeft(),n),Ydt=(t,e,n)=>O2(t,e.getTopRight(),e.getBottomRight(),n),Xdt=(t,e,n)=>O2(t,e.getTopLeft(),e.getTopRight(),n),Zdt=(t,e,n)=>O2(t,e.getBottomLeft(),e.getBottomRight(),n);function O2(t,e,n,r){const i=new fr(e,n),o=t.length;return t.map((a,s)=>{var{strict:l}=a,u=Wdt(a,["strict"]);const c=l||r.strict?(s+1)/(o+1):(s+.5)/o,f=i.pointAt(c);return(u.dx||u.dy)&&f.translate(u.dx||0,u.dy||0),Rj(f.round(),0,u)})}const Jdt=Object.freeze(Object.defineProperty({__proto__:null,absolute:jdt,bottom:Zdt,ellipse:Gdt,ellipseSpread:Udt,left:Kdt,line:qdt,right:Ydt,top:Xdt},Symbol.toStringTag,{value:"Module"}));var bm;(function(t){t.presets=Jdt,t.registry=ta.create({type:"port layout"}),t.registry.register(t.presets,!0)})(bm||(bm={}));const Qdt={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function Lv(t,e){const{x:n,y:r,angle:i,attrs:o}=e||{};return cde({},{angle:i,attrs:o,position:{x:n,y:r}},t,Qdt)}const eht=(t,e,n)=>Lv({position:e.getTopLeft()},n),tht=(t,e,n)=>Lv({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},n),nht=(t,e,n)=>Lv({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},n),rht=(t,e,n)=>Lv({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},n),iht=(t,e,n)=>Lv({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},n),oht=(t,e,n)=>Jye(t,e,!1,n),aht=(t,e,n)=>Jye(t,e,!0,n),sht=(t,e,n)=>Qye(t,e,!1,n),lht=(t,e,n)=>Qye(t,e,!0,n);function Jye(t,e,n,r){const i=r.offset!=null?r.offset:15,o=e.getCenter().theta(t),a=e0e(e);let s,l,u,c,f=0;return o<a[1]||o>a[2]?(s=".3em",l=i,u=0,c="start"):o<a[0]?(s="0",l=0,u=-i,n?(f=-90,c="start"):c="middle"):o<a[3]?(s=".3em",l=-i,u=0,c="end"):(s=".6em",l=0,u=i,n?(f=90,c="start"):c="middle"),Lv({position:{x:Math.round(l),y:Math.round(u)},angle:f,attrs:{".":{y:s,"text-anchor":c}}},r)}function Qye(t,e,n,r){const i=r.offset!=null?r.offset:15,o=e.getCenter().theta(t),a=e0e(e);let s,l,u,c,f=0;return o<a[1]||o>a[2]?(s=".3em",l=-i,u=0,c="end"):o<a[0]?(s=".6em",l=0,u=i,n?(f=90,c="start"):c="middle"):o<a[3]?(s=".3em",l=i,u=0,c="start"):(s="0em",l=0,u=-i,n?(f=-90,c="start"):c="middle"),Lv({position:{x:Math.round(l),y:Math.round(u)},angle:f,attrs:{".":{y:s,"text-anchor":c}}},r)}function e0e(t){const e=t.getCenter(),n=e.theta(t.getTopLeft()),r=e.theta(t.getBottomLeft()),i=e.theta(t.getBottomRight()),o=e.theta(t.getTopRight());return[n,o,i,r]}const uht=(t,e,n)=>t0e(t.diff(e.getCenter()),!1,n),cht=(t,e,n)=>t0e(t.diff(e.getCenter()),!0,n);function t0e(t,e,n){const r=n.offset!=null?n.offset:20,i=new Ve(0,0),o=-t.theta(i),a=t.clone().move(i,r).diff(t).round();let s=".3em",l,u=o;return(o+90)%180===0?(l=e?"end":"middle",!e&&o===-270&&(s="0em")):o>-270&&o<-90?(l="start",u=o-180):l="end",Lv({position:a.round().toJSON(),angle:e?u:0,attrs:{".":{y:s,"text-anchor":l}}},n)}const fht=Object.freeze(Object.defineProperty({__proto__:null,bottom:iht,inside:sht,insideOriented:lht,left:tht,manual:eht,outside:oht,outsideOriented:aht,radial:uht,radialOriented:cht,right:nht,top:rht},Symbol.toStringTag,{value:"Module"}));var h1;(function(t){t.presets=fht,t.registry=ta.create({type:"port label layout"}),t.registry.register(t.presets,!0)})(h1||(h1={}));var dht=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};let Ni=class aS extends vo{get priority(){return 2}get disposeContainer(){return!0}constructor(){super(),this.cid=AV.uniqueId(),aS.views[this.cid]=this}confirmUpdate(e,n){return 0}empty(e=this.container){return M2(e),this}unmount(e=this.container){return Nu(e),this}remove(e=this.container){return e===this.container?(this.removeEventListeners(document),this.onRemove(),delete aS.views[this.cid],this.disposeContainer&&this.unmount(e)):this.unmount(e),this}onRemove(){}setClass(e,n=this.container){n.classList.value=Array.isArray(e)?e.join(" "):e}addClass(e,n=this.container){return Qn(n,Array.isArray(e)?e.join(" "):e),this}removeClass(e,n=this.container){return _o(n,Array.isArray(e)?e.join(" "):e),this}setStyle(e,n=this.container){return sa(n,e),this}setAttrs(e,n=this.container){return e!=null&&n!=null&&oi(n,e),this}findAttr(e,n=this.container){let r=n;for(;r&&r.nodeType===1;){const i=r.getAttribute(e);if(i!=null)return i;if(r===this.container)return null;r=r.parentNode}return null}find(e,n=this.container,r=this.selectors){return aS.find(e,n,r).elems}findOne(e,n=this.container,r=this.selectors){const i=this.find(e,n,r);return i.length>0?i[0]:null}findByAttr(e,n=this.container){let r=n;for(;r&&r.getAttribute;){const i=r.getAttribute(e);if((i!=null||r===this.container)&&i!=="false")return r;r=r.parentNode}return null}getSelector(e,n){let r;if(e===this.container)return typeof n=="string"&&(r=`> ${n}`),r;if(e){const i=Ej(e)+1;r=`${e.tagName.toLowerCase()}:nth-child(${i})`,n&&(r+=` > ${n}`),r=this.getSelector(e.parentNode,r)}return r}prefixClassName(e){return Yu.prefix(e)}delegateEvents(e,n){if(e==null)return this;n||this.undelegateEvents();const r=/^(\S+)\s*(.*)$/;return Object.keys(e).forEach(i=>{const o=i.match(r);if(o==null)return;const a=this.getEventHandler(e[i]);typeof a=="function"&&this.delegateEvent(o[1],o[2],a)}),this}undelegateEvents(){return Za.off(this.container,this.getEventNamespace()),this}delegateDocumentEvents(e,n){return this.addEventListeners(document,e,n),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(e,n,r){return Za.on(this.container,e+this.getEventNamespace(),n,r),this}undelegateEvent(e,n,r){const i=e+this.getEventNamespace();return n==null?Za.off(this.container,i):typeof n=="string"?Za.off(this.container,i,n,r):Za.off(this.container,i,n),this}addEventListeners(e,n,r){if(n==null)return this;const i=this.getEventNamespace();return Object.keys(n).forEach(o=>{const a=this.getEventHandler(n[o]);typeof a=="function"&&Za.on(e,o+i,r,a)}),this}removeEventListeners(e){return e!=null&&Za.off(e,this.getEventNamespace()),this}getEventNamespace(){return`.${Yu.prefixCls}-event-${this.cid}`}getEventHandler(e){let n;if(typeof e=="string"){const r=this[e];typeof r=="function"&&(n=(...i)=>r.call(this,...i))}else n=(...r)=>e.call(this,...r);return n}getEventTarget(e,n={}){const{target:r,type:i,clientX:o=0,clientY:a=0}=e;return n.fromPoint||i==="touchmove"||i==="touchend"?document.elementFromPoint(o,a):r}stopPropagation(e){return this.setEventData(e,{propagationStopped:!0}),this}isPropagationStopped(e){return this.getEventData(e).propagationStopped===!0}getEventData(e){return this.eventData(e)}setEventData(e,n){return this.eventData(e,n)}eventData(e,n){if(e==null)throw new TypeError("Event object required");let r=e.data;const i=`__${this.cid}__`;return n==null?r==null?{}:r[i]||{}:(r==null&&(r=e.data={}),r[i]==null?r[i]=Object.assign({},n):r[i]=Object.assign(Object.assign({},r[i]),n),r[i])}normalizeEvent(e){return aS.normalizeEvent(e)}dispose(){this.remove()}};dht([Ni.dispose()],Ni.prototype,"dispose",null);(function(t){function e(i,o){return o?Yc(i||"g"):Cj(i||"div")}t.createElement=e;function n(i,o,a){if(!i||i===".")return{elems:[o]};if(a){const s=a[i];if(s)return{elems:Array.isArray(s)?s:[s]}}{const s=i.includes(">")?`:scope ${i}`:i;return{isCSSSelector:!0,elems:Array.prototype.slice.call(o.querySelectorAll(s))}}}t.find=n;function r(i){let o=i;const a=i.originalEvent,s=a&&a.changedTouches&&a.changedTouches[0];if(s){for(const l in i)s[l]===void 0&&(s[l]=i[l]);o=s}return o}t.normalizeEvent=r})(Ni||(Ni={}));(function(t){t.views={};function e(n){return t.views[n]||null}t.getView=e})(Ni||(Ni={}));var AV;(function(t){let e=0;function n(){const r=`v${e}`;return e+=1,r}t.uniqueId=n})(AV||(AV={}));class hht{constructor(e){this.view=e,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new CV,this.pathCache={}}get(e){return this.elemCache.has(e)||this.elemCache.set(e,{}),this.elemCache.get(e)}getData(e){const n=this.get(e);return n.data||(n.data={}),n.data}getMatrix(e){const n=this.get(e);if(n.matrix==null){const r=this.view.container;n.matrix=Zct(e,r)}return Ga(n.matrix)}getShape(e){const n=this.get(e);return n.shape==null&&(n.shape=Fi.toGeometryShape(e)),n.shape.clone()}getBoundingRect(e){const n=this.get(e);return n.boundingRect==null&&(n.boundingRect=Fi.getBBoxV2(e)),n.boundingRect.clone()}}var fo;(function(t){function e(u){return u!=null&&!n(u)}t.isJSONMarkup=e;function n(u){return u!=null&&typeof u=="string"}t.isStringMarkup=n;function r(u){return u==null||n(u)?u:Hi(u)}t.clone=r;function i(u){return`${u}`.trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")}t.sanitize=i;function o(u,c={ns:Ba.svg}){const f=document.createDocumentFragment(),d={},h={},p=[{markup:Array.isArray(u)?u:[u],parent:f,ns:c.ns}];for(;p.length>0;){const v=p.pop();let g=v.ns||Ba.svg;const m=v.markup,y=v.parent;m.forEach(b=>{const w=b.tagName;if(!w)throw new TypeError("Invalid tagName");b.ns&&(g=b.ns);const S=g?Cj(w,g):gJ(w),x=b.attrs;x&&oi(S,Jx(x));const C=b.style;C&&sa(S,C);const E=b.className;E!=null&&S.setAttribute("class",Array.isArray(E)?E.join(" "):E),b.textContent&&(S.textContent=b.textContent);const T=b.selector;if(T!=null){if(h[T])throw new TypeError("Selector must be unique");h[T]=S}if(b.groupSelector){let k=b.groupSelector;Array.isArray(k)||(k=[k]),k.forEach(M=>{d[M]||(d[M]=[]),d[M].push(S)})}y.appendChild(S);const A=b.children;Array.isArray(A)&&p.push({ns:g,markup:A,parent:S})})}return Object.keys(d).forEach(v=>{if(h[v])throw new Error("Ambiguous group selector");h[v]=d[v]}),{fragment:f,selectors:h,groups:d}}t.parseJSONMarkup=o;function a(u){return u instanceof SVGElement?Yc("g"):gJ("div")}function s(u){if(n(u)){const h=Sr.createVectors(u),p=h.length;if(p===1)return{elem:h[0].node};if(p>1){const v=a(h[0].node);return h.forEach(g=>{v.appendChild(g.node)}),{elem:v}}return{}}const c=o(u),f=c.fragment;let d=null;return f.childNodes.length>1?(d=a(f.firstChild),d.appendChild(f)):d=f.firstChild,{elem:d,selectors:c.selectors}}t.renderMarkup=s;function l(u){const c=Sr.createVectors(u),f=document.createDocumentFragment();for(let d=0,h=c.length;d<h;d+=1){const p=c[d].node;f.appendChild(p)}return{fragment:f,selectors:{}}}t.parseLabelStringMarkup=l})(fo||(fo={}));(function(t){function e(n,r,i){if(n!=null){let o;const a=n.tagName.toLowerCase();if(n===r)return typeof i=="string"?o=`> ${a} > ${i}`:o=`> ${a}`,o;const s=n.parentNode;if(s&&s.childNodes.length>1){const l=Ej(n)+1;o=`${a}:nth-child(${l})`}else o=a;return i&&(o+=` > ${i}`),e(n.parentNode,r,o)}return i}t.getSelector=e})(fo||(fo={}));(function(t){function e(){return"g"}t.getPortContainerMarkup=e;function n(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}}t.getPortMarkup=n;function r(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}t.getPortLabelMarkup=r})(fo||(fo={}));(function(t){function e(){return[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}]}t.getEdgeMarkup=e})(fo||(fo={}));(function(t){function e(n=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:Ba.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:Ba.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:n?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}t.getForeignObjectMarkup=e})(fo||(fo={}));class n0e{constructor(e){this.view=e}get cell(){return this.view.cell}getDefinition(e){return this.cell.getAttrDefinition(e)}processAttrs(e,n){let r,i,o,a;const s=[];return Object.keys(n).forEach(l=>{const u=n[l],c=this.getDefinition(l),f=lr(Jf.isValidDefinition,this.view,c,u,{elem:e,attrs:n,cell:this.cell,view:this.view});if(c&&f)typeof c=="string"?(r==null&&(r={}),r[c]=u):u!==null&&s.push({name:l,definition:c});else{r==null&&(r={});const d=pye.includes(l)?l:Xme(l);r[d]=u}}),s.forEach(({name:l,definition:u})=>{const c=n[l];typeof u.set=="function"&&(i==null&&(i={}),i[l]=c),typeof u.offset=="function"&&(o==null&&(o={}),o[l]=c),typeof u.position=="function"&&(a==null&&(a={}),a[l]=c)}),{raw:n,normal:r,set:i,offset:o,position:a}}mergeProcessedAttrs(e,n){e.set=Object.assign(Object.assign({},e.set),n.set),e.position=Object.assign(Object.assign({},e.position),n.position),e.offset=Object.assign(Object.assign({},e.offset),n.offset);const r=e.normal&&e.normal.transform;r!=null&&n.normal&&(n.normal.transform=r),e.normal=n.normal}findAttrs(e,n,r,i){const o=[],a=new CV;return Object.keys(e).forEach(s=>{const l=e[s];if(!Gc(l))return;const{isCSSSelector:u,elems:c}=Ni.find(s,n,i);r[s]=c;for(let f=0,d=c.length;f<d;f+=1){const h=c[f],p=i&&i[s]===h,v=a.get(h);if(v){v.array||(o.push(h),v.array=!0,v.attrs=[v.attrs],v.priority=[v.priority]);const g=v.attrs,m=v.priority;if(p)g.unshift(l),m.unshift(-1);else{const y=BBe(m,u?-1:d);g.splice(y,0,l),m.splice(y,0,d)}}else a.set(h,{elem:h,attrs:l,priority:p?-1:d,array:!1})}}),o.forEach(s=>{const l=a.get(s),u=l.attrs;l.attrs=u.reduceRight((c,f)=>Bo(c,f),{})}),a}updateRelativeAttrs(e,n,r){const i=n.raw||{};let o=n.normal||{};const a=n.set,s=n.position,l=n.offset,u=()=>({elem:e,cell:this.cell,view:this.view,attrs:i,refBBox:r.clone()});if(a!=null&&Object.keys(a).forEach(g=>{const m=a[g],y=this.getDefinition(g);if(y!=null){const b=lr(y.set,this.view,m,u());typeof b=="object"?o=Object.assign(Object.assign({},o),b):b!=null&&(o[g]=b)}}),e instanceof HTMLElement){this.view.setAttrs(o,e);return}const c=o.transform,f=c?`${c}`:null,d=Qx(f),h=new Ve(d.e,d.f);c&&(delete o.transform,d.e=0,d.f=0);let p=!1;s!=null&&Object.keys(s).forEach(g=>{const m=s[g],y=this.getDefinition(g);if(y!=null){const b=lr(y.position,this.view,m,u());b!=null&&(p=!0,h.translate(Ve.create(b)))}}),this.view.setAttrs(o,e);let v=!1;if(l!=null){const g=this.view.getBoundingRectOfElement(e);if(g.width>0&&g.height>0){const m=Fi.transformRectangle(g,d);Object.keys(l).forEach(y=>{const b=l[y],w=this.getDefinition(y);if(w!=null){const S=lr(w.offset,this.view,b,{elem:e,cell:this.cell,view:this.view,attrs:i,refBBox:m});S!=null&&(v=!0,h.translate(Ve.create(S)))}})}}(c!=null||p||v)&&(h.round(1),d.e=h.x,d.f=h.y,e.setAttribute("transform",m_(d)))}update(e,n,r){const i={},o=this.findAttrs(r.attrs||n,e,i,r.selectors),a=r.attrs?this.findAttrs(n,e,i,r.selectors):o,s=[];o.each(c=>{const f=c.elem,d=c.attrs,h=this.processAttrs(f,d);if(h.set==null&&h.position==null&&h.offset==null)this.view.setAttrs(h.normal,f);else{const p=a.get(f),v=p?p.attrs:null,g=v&&d.ref==null?v.ref:d.ref;let m;if(g){if(m=(i[g]||this.view.find(g,e,r.selectors))[0],!m)throw new Error(`"${g}" reference does not exist.`)}else m=null;const y={node:f,refNode:m,attributes:v,processedAttributes:h},b=s.findIndex(w=>w.refNode===f);b>-1?s.splice(b,0,y):s.push(y)}});const l=new CV;let u;s.forEach(c=>{const f=c.node,d=c.refNode;let h;const p=d!=null&&r.rotatableNode!=null&&Tj(r.rotatableNode,d);if(d&&(h=l.get(d)),!h){const m=p?r.rotatableNode:e;h=d?Fi.getBBox(d,{target:m}):r.rootBBox,d&&l.set(d,h)}let v;r.attrs&&c.attributes?(v=this.processAttrs(f,c.attributes),this.mergeProcessedAttrs(v,c.processedAttributes)):v=c.processedAttributes;let g=h;p&&r.rotatableNode!=null&&!r.rotatableNode.contains(f)&&(u||(u=Qx(oi(r.rotatableNode,"transform"))),g=Fi.transformRectangle(h,u)),this.updateRelativeAttrs(f,v,g)})}}class r0e{get cell(){return this.view.cell}constructor(e,n,r=[]){this.view=e;const i={},o={};let a=0;Object.keys(n).forEach(l=>{let u=n[l];Array.isArray(u)||(u=[u]),u.forEach(c=>{let f=i[c];f||(a+=1,f=i[c]=1<<a),o[l]|=f})});let s=r;if(Array.isArray(s)||(s=[s]),s.forEach(l=>{i[l]||(a+=1,i[l]=1<<a)}),a>25)throw new Error("Maximum number of flags exceeded.");this.flags=i,this.attrs=o,this.bootstrap=r}getFlag(e){const n=this.flags;return n==null?0:Array.isArray(e)?e.reduce((r,i)=>r|n[i],0):n[e]|0}hasAction(e,n){return e&this.getFlag(n)}removeAction(e,n){return e^e&this.getFlag(n)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let e=0;return this.attrs&&Object.keys(this.attrs).forEach(n=>{this.cell.hasChanged(n)&&(e|=this.attrs[n])}),e}}var pht=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},vht=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class ea extends Ni{static getDefaults(){return this.defaults}static config(e){this.defaults=this.getOptions(e)}static getOptions(e){const n=(u,c)=>c!=null?bde([...Array.isArray(u)?u:[u],...Array.isArray(c)?c:[c]]):Array.isArray(u)?[...u]:[u],r=Hi(this.getDefaults()),{bootstrap:i,actions:o,events:a,documentEvents:s}=e,l=vht(e,["bootstrap","actions","events","documentEvents"]);return i&&(r.bootstrap=n(r.bootstrap,i)),o&&Object.entries(o).forEach(([u,c])=>{const f=r.actions[u];c&&f?r.actions[u]=n(f,c):c&&(r.actions[u]=n(c))}),a&&(r.events=Object.assign(Object.assign({},r.events),a)),e.documentEvents&&(r.documentEvents=Object.assign(Object.assign({},r.documentEvents),s)),Bo(r,l)}get[Symbol.toStringTag](){return ea.toStringTag}constructor(e,n={}){super(),this.cell=e,this.options=this.ensureOptions(n),this.graph=this.options.graph,this.attr=new n0e(this),this.flag=new r0e(this,this.options.actions,this.options.bootstrap),this.cache=new hht(this),this.setContainer(this.ensureContainer()),this.setup(),this.init()}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(e){return this.getConstructor().getOptions(e)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return Ni.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(e){if(this.container!==e){this.undelegateEvents(),this.container=e,this.options.events!=null&&this.delegateEvents(this.options.events);const n=this.getContainerAttrs();n!=null&&this.setAttrs(n,e);const r=this.getContainerStyle();r!=null&&this.setStyle(r,e);const i=this.getContainerClassName();i!=null&&this.addClass(i,e)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(e,n={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(e){return this.flag.getFlag(e)}hasAction(e,n){return this.flag.hasAction(e,n)}removeAction(e,n){return this.flag.removeAction(e,n)}handleAction(e,n,r,i){if(this.hasAction(e,n)){r();const o=[n];return i&&(typeof i=="string"?o.push(i):o.push(...i)),this.removeAction(e,o)}return e}setup(){this.cell.on("changed",this.onCellChanged,this)}onCellChanged({options:e}){this.onAttrsChange(e)}onAttrsChange(e){let n=this.flag.getChangedFlag();e.updated||!n||(e.dirty&&this.hasAction(n,"update")&&(n|=this.getFlag("render")),e.toolId&&(e.async=!1),this.graph!=null&&this.graph.renderer.requestViewUpdate(this,n,e))}parseJSONMarkup(e,n){const r=fo.parseJSONMarkup(e),i=r.selectors,o=this.rootSelector;if(n&&o){if(i[o])throw new Error("Invalid root selector");i[o]=n}return r}can(e){let n=this.graph.options.interacting;if(typeof n=="function"&&(n=lr(n,this.graph,this)),typeof n=="object"){let r=n[e];return typeof r=="function"&&(r=lr(r,this.graph,this)),r!==!1}return typeof n=="boolean"?n:!1}cleanCache(){return this.cache.clean(),this}getCache(e){return this.cache.get(e)}getDataOfElement(e){return this.cache.getData(e)}getMatrixOfElement(e){return this.cache.getMatrix(e)}getShapeOfElement(e){return this.cache.getShape(e)}getBoundingRectOfElement(e){return this.cache.getBoundingRect(e)}getBBoxOfElement(e){const n=this.getBoundingRectOfElement(e),r=this.getMatrixOfElement(e),i=this.getRootRotatedMatrix(),o=this.getRootTranslatedMatrix();return Fi.transformRectangle(n,o.multiply(i).multiply(r))}getUnrotatedBBoxOfElement(e){const n=this.getBoundingRectOfElement(e),r=this.getMatrixOfElement(e),i=this.getRootTranslatedMatrix();return Fi.transformRectangle(n,i.multiply(r))}getBBox(e={}){let n;if(e.useCellGeometry){const r=this.cell,i=r.isNode()?r.getAngle():0;n=r.getBBox().bbox(i)}else n=this.getBBoxOfElement(this.container);return this.graph.coord.localToGraphRect(n)}getRootTranslatedMatrix(){const e=this.cell,n=e.isNode()?e.getPosition():{x:0,y:0};return Ga().translate(n.x,n.y)}getRootRotatedMatrix(){let e=Ga();const n=this.cell,r=n.isNode()?n.getAngle():0;if(r){const i=n.getBBox(),o=i.width/2,a=i.height/2;e=e.translate(o,a).rotate(r).translate(-o,-a)}return e}findMagnet(e=this.container){return this.findByAttr("magnet",e)}updateAttrs(e,n,r={}){r.rootBBox==null&&(r.rootBBox=new bn),r.selectors==null&&(r.selectors=this.selectors),this.attr.update(e,n,r)}isEdgeElement(e){return this.cell.isEdge()&&(e==null||e===this.container)}prepareHighlight(e,n={}){const r=e||this.container;return n.partial=r===this.container,r}highlight(e,n={}){const r=this.prepareHighlight(e,n);return this.notify("cell:highlight",{magnet:r,options:n,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:r,options:n,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:r,options:n,view:this,node:this.cell,cell:this.cell}),this}unhighlight(e,n={}){const r=this.prepareHighlight(e,n);return this.notify("cell:unhighlight",{magnet:r,options:n,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:r,options:n,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:r,options:n,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(e,n){}getEdgeTerminal(e,n,r,i,o){const a=this.cell,s=this.findAttr("port",e),l=e.getAttribute("data-selector"),u={cell:a.id};return l!=null&&(u.magnet=l),s!=null?(u.port=s,a.isNode()&&!a.hasPort(s)&&l==null&&(u.selector=this.getSelector(e))):l==null&&this.container!==e&&(u.selector=this.getSelector(e)),u}getMagnetFromEdgeTerminal(e){const n=this.cell,r=this.container,i=e.port;let o=e.magnet,a;return i!=null&&n.isNode()&&n.hasPort(i)?a=this.findPortElem(i,o)||r:(o||(o=e.selector),!o&&i!=null&&(o=`[port="${i}"]`),a=this.findOne(o,r,this.selectors)),a}hasTools(e){const n=this.tools;return n==null?!1:e==null?!0:n.name===e}addTools(e){if(this.removeTools(),e){if(!this.can("toolsAddable"))return this;const n=da.isToolsView(e)?e:new da(e);this.tools=n,n.config({view:this}),n.mount()}return this}updateTools(e={}){return this.tools&&this.tools.update(e),this}removeTools(){return this.tools&&(this.tools.remove(),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const e=this.cell.getTools();return this.addTools(e),this}notify(e,n){return this.trigger(e,n),this.graph.trigger(e,n),this}getEventArgs(e,n,r){const i=this,o=i.cell;return n==null||r==null?{e,view:i,cell:o}:{e,x:n,y:r,view:i,cell:o}}onClick(e,n,r){this.notify("cell:click",this.getEventArgs(e,n,r))}onDblClick(e,n,r){this.notify("cell:dblclick",this.getEventArgs(e,n,r))}onContextMenu(e,n,r){this.notify("cell:contextmenu",this.getEventArgs(e,n,r))}onMouseDown(e,n,r){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(e,n,r))}onMouseUp(e,n,r){this.notify("cell:mouseup",this.getEventArgs(e,n,r)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(e,n,r){this.notify("cell:mousemove",this.getEventArgs(e,n,r))}onMouseOver(e){this.notify("cell:mouseover",this.getEventArgs(e))}onMouseOut(e){this.notify("cell:mouseout",this.getEventArgs(e))}onMouseEnter(e){this.notify("cell:mouseenter",this.getEventArgs(e))}onMouseLeave(e){this.notify("cell:mouseleave",this.getEventArgs(e))}onMouseWheel(e,n,r,i){this.notify("cell:mousewheel",Object.assign({delta:i},this.getEventArgs(e,n,r)))}onCustomEvent(e,n,r,i){this.notify("cell:customevent",Object.assign({name:n},this.getEventArgs(e,r,i))),this.notify(n,Object.assign({},this.getEventArgs(e,r,i)))}onMagnetMouseDown(e,n,r,i){}onMagnetDblClick(e,n,r,i){}onMagnetContextMenu(e,n,r,i){}onLabelMouseDown(e,n,r){}checkMouseleave(e){const n=this.getEventTarget(e,{fromPoint:!0}),r=this.graph.findViewByElem(n);r!==this&&(this.onMouseLeave(e),r&&r.onMouseEnter(e))}dispose(){this.cell.off("changed",this.onCellChanged,this)}}ea.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}};pht([ea.dispose()],ea.prototype,"dispose",null);(function(t){t.Flag=r0e,t.Attr=n0e})(ea||(ea={}));(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.isNodeView=="function"&&typeof i.isEdgeView=="function"&&typeof i.confirmUpdate=="function"}t.isCellView=e})(ea||(ea={}));(function(t){function e(r){return function(i){i.config({priority:r})}}t.priority=e;function n(r){return function(i){i.config({bootstrap:r})}}t.bootstrap=n})(ea||(ea={}));(function(t){t.registry=ta.create({type:"view"})})(ea||(ea={}));class da extends Ni{get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return da.toStringTag}constructor(e={}){super(),this.svgContainer=this.createContainer(!0,e),this.htmlContainer=this.createContainer(!1,e),this.config(e)}createContainer(e,n){const r=e?Ni.createElement("g",!0):Ni.createElement("div",!1);return Qn(r,this.prefixClassName("cell-tools")),n.className&&Qn(r,n.className),r}config(e){if(this.options=Object.assign(Object.assign({},this.options),e),!ea.isCellView(e.view)||e.view===this.cellView)return this;this.cellView=e.view,this.cell.isEdge()?(Qn(this.svgContainer,this.prefixClassName("edge-tools")),Qn(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(Qn(this.svgContainer,this.prefixClassName("node-tools")),Qn(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const n=this.options.items;if(!Array.isArray(n))return this;this.tools=[];const r=[];n.forEach(i=>{da.ToolItem.isToolItem(i)?i.name==="vertices"?r.unshift(i):r.push(i):(typeof i=="object"?i.name:i)==="vertices"?r.unshift(i):r.push(i)});for(let i=0;i<r.length;i+=1){const o=r[i];let a;if(da.ToolItem.isToolItem(o))a=o;else{const s=typeof o=="object"?o.name:o,l=typeof o=="object"?o.args||{}:{};if(s){if(this.cell.isNode()){const u=v1.registry.get(s);if(u)a=new u(l);else return v1.registry.onNotFound(s)}else if(this.cell.isEdge()){const u=g1.registry.get(s);if(u)a=new u(l);else return g1.registry.onNotFound(s)}}}a&&(a.config(this.cellView,this),a.render(),(a.options.isSVGElement!==!1?this.svgContainer:this.htmlContainer).appendChild(a.container),this.tools.push(a))}return this}update(e={}){const n=this.tools;return n&&n.forEach(r=>{e.toolId!==r.cid&&r.isVisible()&&r.update()}),this}focus(e){const n=this.tools;return n&&n.forEach(r=>{e===r?r.show():r.hide()}),this}blur(e){const n=this.tools;return n&&n.forEach(r=>{r!==e&&!r.isVisible()&&(r.show(),r.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const e=this.tools;return e&&(e.forEach(n=>n.remove()),this.tools=null),Nu(this.svgContainer),Nu(this.htmlContainer),super.remove()}mount(){const e=this.tools,n=this.cellView;if(n&&e){const r=e.some(o=>o.options.isSVGElement!==!1),i=e.some(o=>o.options.isSVGElement===!1);r&&(this.options.local?n.container:n.graph.view.decorator).appendChild(this.svgContainer),i&&this.graph.container.appendChild(this.htmlContainer)}return this}}(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&i.graph!=null&&i.cell!=null&&typeof i.config=="function"&&typeof i.update=="function"&&typeof i.focus=="function"&&typeof i.blur=="function"&&typeof i.show=="function"&&typeof i.hide=="function"}t.isToolsView=e})(da||(da={}));(function(t){class e extends Ni{static getDefaults(){return this.defaults}static config(r){this.defaults=this.getOptions(r)}static getOptions(r){return Bo(Hi(this.getDefaults()),r)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return e.toStringTag}constructor(r={}){super(),this.visible=!0,this.options=this.getOptions(r),this.container=Ni.createElement(this.options.tagName||"g",this.options.isSVGElement!==!1),Qn(this.container,this.prefixClassName("cell-tool")),typeof this.options.className=="string"&&Qn(this.container,this.options.className),this.init()}init(){}getOptions(r){return this.constructor.getOptions(r)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(r,i){return this.cellView=r,this.parent=i,this.stamp(this.container),this.cell.isEdge()?Qn(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&Qn(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const r=this.options.markup;if(r){const i=fo.parseJSONMarkup(r);this.container.appendChild(i.fragment),this.childNodes=i.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(r){r&&r.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return this.visible}focus(){const r=this.options.focusOpacity;return r!=null&&Number.isFinite(r)&&(this.container.style.opacity=`${r}`),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(r){return this.graph==null||this.cellView==null?!0:this.graph.view.guard(r,this.cellView)}}e.defaults={isSVGElement:!0,tagName:"g"},t.ToolItem=e,(function(n){let r=0;function i(a){return a?bj(a):(r+=1,`CustomTool${r}`)}function o(a){const s=mj(i(a.name),this);return s.config(a),s}n.define=o})(e=t.ToolItem||(t.ToolItem={})),(function(n){n.toStringTag=`X6.${n.name}`;function r(i){if(i==null)return!1;if(i instanceof n)return!0;const o=i[Symbol.toStringTag],a=i;return(o==null||o===n.toStringTag)&&a.graph!=null&&a.cell!=null&&typeof a.config=="function"&&typeof a.update=="function"&&typeof a.focus=="function"&&typeof a.blur=="function"&&typeof a.show=="function"&&typeof a.hide=="function"&&typeof a.isVisible=="function"}n.isToolItem=r})(e=t.ToolItem||(t.ToolItem={}))})(da||(da={}));const ght=t=>t;function AJ(t,e){return e===0?"0%":`${Math.round(t/e*100)}%`}function i0e(t){return(n,r,i,o)=>r.isEdgeElement(i)?yht(t,n,r,i,o):mht(t,n,r,i,o)}function mht(t,e,n,r,i){const o=n.cell,a=o.getAngle(),s=n.getUnrotatedBBoxOfElement(r),l=o.getBBox().getCenter(),u=Ve.create(i).rotate(a,l);let c=u.x-s.x,f=u.y-s.y;return t&&(c=AJ(c,s.width),f=AJ(f,s.height)),e.anchor={name:"topLeft",args:{dx:c,dy:f,rotate:!0}},e}function yht(t,e,n,r,i){const o=n.getConnection();if(!o)return e;const a=o.closestPointLength(i);if(t){const s=o.length();e.anchor={name:"ratio",args:{ratio:a/s}}}else e.anchor={name:"length",args:{length:a}};return e}const bht=i0e(!0),_ht=i0e(!1),wht=Object.freeze(Object.defineProperty({__proto__:null,noop:ght,pinAbsolute:_ht,pinRelative:bht},Symbol.toStringTag,{value:"Module"}));var kV;(function(t){t.presets=wht,t.registry=ta.create({type:"connection strategy"}),t.registry.register(t.presets,!0)})(kV||(kV={}));function o0e(t,e,n,r){return lr(kV.presets.pinRelative,this.graph,{},e,n,t,this.cell,r,{}).anchor}function a0e(t,e){return e?t.cell.getBBox():t.cell.isEdge()?t.getConnection().bbox():t.getUnrotatedBBoxOfElement(t.container)}class fv extends da.ToolItem{onRender(){Qn(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const n=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();u1(this.container,n,{absolute:!0})}getNodeMatrix(){const e=this.cellView,n=this.options;let{x:r=0,y:i=0}=n;const{offset:o,useCellGeometry:a,rotate:s}=n;let l=a0e(e,a);const u=e.cell.getAngle();s||(l=l.bbox(u));let c=0,f=0;typeof o=="number"?(c=o,f=o):typeof o=="object"&&(c=o.x,f=o.y),r=Sc(r,l.width),i=Sc(i,l.height);let d=Ga().translate(l.x+l.width/2,l.y+l.height/2);return s&&(d=d.rotate(u)),d=d.translate(r+c-l.width/2,i+f-l.height/2),d}getEdgeMatrix(){const e=this.cellView,n=this.options,{offset:r=0,distance:i=0,rotate:o}=n;let a,s,l;const u=Sc(i,1);u>=0&&u<=1?a=e.getTangentAtRatio(u):a=e.getTangentAtLength(u),a?(s=a.start,l=a.vector().vectorAngle(new Ve(1,0))||0):(s=e.getConnection().start,l=0);let c=Ga().translate(s.x,s.y).rotate(l);return typeof r=="object"?c=c.translate(r.x||0,r.y||0):c=c.translate(0,r),o||(c=c.rotate(-l)),c}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const n=this.options.onClick;typeof n=="function"&&lr(n,this.cellView,{e,view:this.cellView,cell:this.cellView.cell,btn:this})}}(function(t){t.config({name:"button",useCellGeometry:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(fv||(fv={}));(function(t){t.Remove=t.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,useCellGeometry:!0,onClick({view:e,btn:n}){n.parent.remove(),e.cell.remove({ui:!0,toolId:n.cid})}})})(fv||(fv={}));var Sht=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class cP extends da.ToolItem{onRender(){if(Qn(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const e=this.options.attrs,{class:n}=e,r=Sht(e,["class"]);oi(this.container,Jx(r)),n&&Qn(this.container,n)}this.update()}update(){const e=this.cellView,n=this.options,{useCellGeometry:r,rotate:i}=n,o=iv(n.padding);let a=a0e(e,r).moveAndExpand({x:-o.left,y:-o.top,width:o.left+o.right,height:o.top+o.bottom});const s=e.cell;if(s.isNode()){const l=s.getAngle();if(l)if(i){const u=s.getBBox().getCenter();bV(this.container,l,u.x,u.y,{absolute:!0})}else a=a.bbox(l)}return oi(this.container,a.toJSON()),this}}(function(t){t.config({name:"boundary",tagName:"rect",padding:10,useCellGeometry:!0,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})})(cP||(cP={}));class nC extends da.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(n=>{this.stopHandleListening(n),n.remove()})}renderHandles(){const e=this.vertices;for(let n=0,r=e.length;n<r;n+=1){const i=e[n],o=this.options.createHandle,a=this.options.processHandle,s=o({index:n,graph:this.graph,guard:l=>this.guard(l),attrs:this.options.attrs||{}});a&&a(s),s.updatePosition(i.x,i.y),this.stamp(s.container),this.container.appendChild(s.container),this.handles.push(s),this.startHandleListening(s)}}updateHandles(){const e=this.vertices;for(let n=0,r=e.length;n<r;n+=1){const i=e[n],o=this.handles[n];o&&o.updatePosition(i.x,i.y)}}updatePath(){const e=this.childNodes.connection;e&&e.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(e){const n=this.cellView;n.can("vertexMovable")&&(e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)),n.can("vertexDeletable")&&e.on("remove",this.onHandleRemove,this)}stopHandleListening(e){const n=this.cellView;n.can("vertexMovable")&&(e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)),n.can("vertexDeletable")&&e.off("remove",this.onHandleRemove,this)}getNeighborPoints(e){const n=this.cellView,r=this.vertices,i=e>0?r[e-1]:n.sourceAnchor,o=e<r.length-1?r[e+1]:n.targetAnchor;return{prev:Ve.create(i),next:Ve.create(o)}}getMouseEventArgs(e){const n=this.normalizeEvent(e),{x:r,y:i}=this.graph.snapToGrid(n.clientX,n.clientY);return{e:n,x:r,y:i}}onHandleChange({e}){this.focus();const n=this.cellView;if(n.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:r,x:i,y:o}=this.getMouseEventArgs(e);this.eventData(r,{start:{x:i,y:o}}),n.notifyMouseDown(r,i,o)}}onHandleChanging({handle:e,e:n}){const r=this.cellView,i=e.options.index,{e:o,x:a,y:s}=this.getMouseEventArgs(n),l={x:a,y:s};this.snapVertex(l,i),r.cell.setVertexAt(i,l,{ui:!0,toolId:this.cid}),e.updatePosition(l.x,l.y),this.options.stopPropagation||r.notifyMouseMove(o,a,s)}stopBatch(e){this.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),e&&this.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid})}onHandleChanged({e}){const n=this.options,r=this.cellView;if(n.addable&&this.updatePath(),!n.removeRedundancies){this.stopBatch(this.eventData(e).vertexAdded);return}r.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),this.stopBatch(this.eventData(e).vertexAdded);const{e:o,x:a,y:s}=this.getMouseEventArgs(e);if(!this.options.stopPropagation){r.notifyMouseUp(o,a,s);const{start:l}=this.eventData(o);if(l){const{x:u,y:c}=l;u===a&&c===s&&r.onClick(o,a,s)}}r.checkMouseleave(o),n.onChanged&&n.onChanged({edge:r.cell,edgeView:r})}snapVertex(e,n){const r=this.options.snapRadius||0;if(r>0){const i=this.getNeighborPoints(n),o=i.prev,a=i.next;Math.abs(e.x-o.x)<r?e.x=o.x:Math.abs(e.x-a.x)<r&&(e.x=a.x),Math.abs(e.y-o.y)<r?e.y=i.prev.y:Math.abs(e.y-a.y)<r&&(e.y=a.y)}}onHandleRemove({handle:e,e:n}){if(this.options.removable){const r=e.options.index,i=this.cellView;i.cell.removeVertexAt(r,{ui:!0}),this.options.addable&&this.updatePath(),i.checkMouseleave(this.normalizeEvent(n))}}allowAddVertex(e){const n=this.guard(e),r=this.options.addable&&this.cellView.can("vertexAddable"),i=this.options.modifiers?sv.isMatch(e,this.options.modifiers):!0;return!n&&r&&i}onPathMouseDown(e){const n=this.cellView;if(!this.allowAddVertex(e))return;e.stopPropagation(),e.preventDefault();const r=this.normalizeEvent(e),i=this.graph.snapToGrid(r.clientX,r.clientY).toJSON();n.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const o=n.getVertexIndex(i.x,i.y);this.snapVertex(i,o),n.cell.insertVertex(i,o,{ui:!0,toolId:this.cid}),this.render();const a=this.handles[o];this.eventData(r,{vertexAdded:!0}),a.onMouseDown(r)}onRemove(){this.resetHandles()}}(function(t){class e extends Ni{get graph(){return this.options.graph}constructor(r){super(),this.options=r,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}render(){this.container=Ni.createElement("circle",!0);const r=this.options.attrs;if(typeof r=="function"){const i=t.getDefaults();this.setAttrs(Object.assign(Object.assign({},i.attrs),r(this)))}else this.setAttrs(r);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(r,i){this.setAttrs({cx:r,cy:i})}onMouseDown(r){this.options.guard(r)||(r.stopPropagation(),r.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},r.data),this.emit("change",{e:r,handle:this}))}onMouseMove(r){this.emit("changing",{e:r,handle:this})}onMouseUp(r){this.emit("changed",{e:r,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(r){this.emit("remove",{e:r,handle:this})}}t.Handle=e})(nC||(nC={}));(function(t){const e=Yu.prefix("edge-tool-vertex-path");t.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:n=>new t.Handle(n),markup:[{tagName:"path",selector:"connection",className:e,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{[`mousedown .${e}`]:"onPathMouseDown",[`touchstart .${e}`]:"onPathMouseDown"}})})(nC||(nC={}));class rC extends da.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){Qn(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const e=this.cellView,n=[...this.vertices];n.unshift(e.sourcePoint),n.push(e.targetPoint);for(let r=0,i=n.length;r<i-1;r+=1){const o=n[r],a=n[r+1],s=this.renderHandle(o,a,r);this.stamp(s.container),this.handles.push(s)}return this}renderHandle(e,n,r){const i=this.options.createHandle({index:r,graph:this.graph,guard:o=>this.guard(o),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(i),this.updateHandle(i,e,n),this.container.appendChild(i.container),this.startHandleListening(i),i}startHandleListening(e){e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)}stopHandleListening(e){e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(n=>{this.stopHandleListening(n),n.remove()})}shiftHandleIndexes(e){const n=this.handles;for(let r=0,i=n.length;r<i;r+=1)n[r].options.index+=e}resetAnchor(e,n){const r=this.cellView.cell,i={ui:!0,toolId:this.cid};n?r.prop([e,"anchor"],n,i):r.removeProp([e,"anchor"],i)}snapHandle(e,n,r){const i=e.options.axis,o=e.options.index,l=this.cellView.cell.getVertices(),u=l[o-2]||r.sourceAnchor,c=l[o+1]||r.targetAnchor,f=this.options.snapRadius;return Math.abs(n[i]-u[i])<f?n[i]=u[i]:Math.abs(n[i]-c[i])<f&&(n[i]=c[i]),n}onHandleChanging({handle:e,e:n}){const r=this.graph,i=this.options,o=this.cellView,a=i.anchor,s=e.options.axis,l=e.options.index-1,u=this.getEventData(n),c=this.normalizeEvent(n),f=r.snapToGrid(c.clientX,c.clientY),d=this.snapHandle(e,f.clone(),u),h=Hi(this.vertices);let p=h[l],v=h[l+1];const g=o.sourceView,m=o.sourceBBox;let y=!1,b=!1;if(p?l===0?m.containsPoint(p)?(h.shift(),this.shiftHandleIndexes(-1),y=!0):(p[s]=d[s],b=!0):p[s]=d[s]:(p=o.sourceAnchor.toJSON(),p[s]=d[s],m.containsPoint(p)?y=!0:(h.unshift(p),this.shiftHandleIndexes(1),b=!0)),typeof a=="function"&&g){if(y){const E=u.sourceAnchor.clone();E[s]=d[s];const T=lr(a,o,E,g,o.sourceMagnet||g.container,"source",o,this);this.resetAnchor("source",T)}b&&this.resetAnchor("source",u.sourceAnchorDef)}const w=o.targetView,S=o.targetBBox;let x=!1,C=!1;if(v?l===h.length-2?S.containsPoint(v)?(h.pop(),x=!0):(v[s]=d[s],C=!0):v[s]=d[s]:(v=o.targetAnchor.toJSON(),v[s]=d[s],S.containsPoint(v)?x=!0:(h.push(v),C=!0)),typeof a=="function"&&w){if(x){const E=u.targetAnchor.clone();E[s]=d[s];const T=lr(a,o,E,w,o.targetMagnet||w.container,"target",o,this);this.resetAnchor("target",T)}C&&this.resetAnchor("target",u.targetAnchorDef)}Ve.equalPoints(h,this.vertices)||this.cellView.cell.setVertices(h,{ui:!0,toolId:this.cid}),this.updateHandle(e,p,v,0),i.stopPropagation||o.notifyMouseMove(c,f.x,f.y)}onHandleChange({handle:e,e:n}){const r=this.options,i=this.handles,o=this.cellView,a=e.options.index;if(Array.isArray(i)){for(let s=0,l=i.length;s<l;s+=1)s!==a&&i[s].hide();if(this.focus(),this.setEventData(n,{sourceAnchor:o.sourceAnchor.clone(),targetAnchor:o.targetAnchor.clone(),sourceAnchorDef:Hi(this.cell.prop(["source","anchor"])),targetAnchorDef:Hi(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!r.stopPropagation){const s=this.normalizeEvent(n),l=this.graph.snapToGrid(s.clientX,s.clientY);o.notifyMouseDown(s,l.x,l.y)}}}onHandleChanged({e}){const n=this.options,r=this.cellView;n.removeRedundancies&&r.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const i=this.normalizeEvent(e),o=this.graph.snapToGrid(i.clientX,i.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),n.stopPropagation||r.notifyMouseUp(i,o.x,o.y),r.checkMouseleave(i),n.onChanged&&n.onChanged({edge:r.cell,edgeView:r})}updateHandle(e,n,r,i=0){const o=this.options.precision||0,a=Math.abs(n.x-r.x)<o,s=Math.abs(n.y-r.y)<o;if(a||s){const l=new fr(n,r);if(l.length()<this.options.threshold)e.hide();else{const c=l.getCenter(),f=a?"x":"y";c[f]+=i||0;const d=l.vector().vectorAngle(new Ve(1,0));e.updatePosition(c.x,c.y,d,this.cellView),e.show(),e.options.axis=f}}else e.hide()}onRemove(){this.resetHandles()}}(function(t){class e extends Ni{constructor(r){super(),this.options=r,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=Ni.createElement("rect",!0);const r=this.options.attrs;if(typeof r=="function"){const i=t.getDefaults();this.setAttrs(Object.assign(Object.assign({},i.attrs),r(this)))}else this.setAttrs(r);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(r,i,o,a){const s=a.getClosestPoint(new Ve(r,i))||new Ve(r,i);let l=Ga().translate(s.x,s.y);if(s.equals({x:r,y:i}))l=l.rotate(o);else{let c=new fr(r,i,s.x,s.y).vector().vectorAngle(new Ve(1,0));c!==0&&(c+=90),l=l.rotate(c)}this.setAttrs({transform:m_(l),cursor:o%180===0?"row-resize":"col-resize"})}onMouseDown(r){this.options.guard(r)||(this.trigger("change",{e:r,handle:this}),r.stopPropagation(),r.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},r.data))}onMouseMove(r){this.emit("changing",{e:r,handle:this})}onMouseUp(r){this.emit("changed",{e:r,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}}t.Handle=e})(rC||(rC={}));(function(t){t.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:e=>new t.Handle(e),anchor:o0e})})(rC||(rC={}));class fP extends da.ToolItem{get type(){return this.options.type}onRender(){Qn(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){const e=this.type;return this.cellView.getTerminalView(e)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const e=this.childNodes;if(!e)return;const n=e.anchor;if(!n)return;const r=this.type,i=this.cellView,o=this.options,a=i.getTerminalAnchor(r),s=i.cell.prop([r,"anchor"]);n.setAttribute("transform",`translate(${a.x}, ${a.y})`);const l=s?o.customAnchorAttrs:o.defaultAnchorAttrs;l&&Object.keys(l).forEach(u=>{n.setAttribute(u,l[u])})}updateArea(){const e=this.childNodes;if(!e)return;const n=e.area;if(!n)return;const r=this.type,i=this.cellView,o=i.getTerminalView(r);if(o){const a=o.cell,s=i.getTerminalMagnet(r);let l=this.options.areaPadding||0;Number.isFinite(l)||(l=0);let u,c,f;o.isEdgeElement(s)?(u=o.getBBox(),c=0,f=u.getCenter()):(u=o.getUnrotatedBBoxOfElement(s),c=a.getAngle(),f=u.getCenter(),c&&f.rotate(-c,a.getBBox().getCenter())),u.inflate(l),oi(n,{x:-u.width/2,y:-u.height/2,width:u.width,height:u.height,transform:`translate(${f.x}, ${f.y}) rotate(${c})`})}}toggleArea(e){if(this.childNodes){const n=this.childNodes.area;n&&(n.style.display=e?"":"none")}}onMouseDown(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(e){const n=this.type,r=this.cell;e?r.prop([n,"anchor"],e,{rewrite:!0,ui:!0,toolId:this.cid}):r.removeProp([n,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(e){const n=this.type,r=this.cellView,i=r.getTerminalView(n);if(i==null)return;const o=this.normalizeEvent(e),a=i.cell,s=r.getTerminalMagnet(n);let l=this.graph.coord.clientToLocalPoint(o.clientX,o.clientY);const u=this.options.snap;if(typeof u=="function"){const d=lr(u,r,l,i,s,n,r,this);l=Ve.create(d)}if(this.options.restrictArea)if(i.isEdgeElement(s)){const d=i.getClosestPoint(l);d&&(l=d)}else{const d=i.getUnrotatedBBoxOfElement(s),h=a.getAngle(),p=a.getBBox().getCenter(),v=l.clone().rotate(h,p);d.containsPoint(v)||(l=d.getNearestPointToPoint(v).rotate(-h,p))}let c;const f=this.options.anchor;typeof f=="function"&&(c=lr(f,r,l,i,s,n,r,this)),this.resetAnchor(c),this.update()}onMouseUp(e){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);const n=this.cellView;this.options.removeRedundancies&&n.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const e=this.options.resetAnchor;e&&this.resetAnchor(e===!0?void 0:e),this.update()}}(function(t){t.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:o0e,snap(e,n,r,i,o,a){const s=a.options.snapRadius||0,l=i==="source",u=l?0:-1,c=this.cell.getVertexAt(u)||this.getTerminalAnchor(l?"target":"source");return c&&(Math.abs(c.x-e.x)<s&&(e.x=c.x),Math.abs(c.y-e.y)<s&&(e.y=c.y)),e}})})(fP||(fP={}));const xht=fP.define({name:"source-anchor",type:"source"}),Cht=fP.define({name:"target-anchor",type:"target"});var Eht=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class dP extends da.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const e=this.options.attrs,{class:n}=e,r=Eht(e,["class"]);this.setAttrs(r,this.container),n&&Qn(this.container,n)}}onRender(){Qn(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const e=this.ratio,n=this.cellView,r=n.getTangentAtRatio(e),i=r?r.start:n.getPointAtRatio(e),o=r&&r.vector().vectorAngle(new Ve(1,0))||0;if(!i)return this;const a=Ga().translate(i.x,i.y).rotate(o);return u1(this.container,a,{absolute:!0}),this}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const n=this.cellView;if(n.can("arrowheadMovable")){n.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const r=this.graph.snapToGrid(e.clientX,e.clientY),i=n.prepareArrowheadDragging(this.type,{x:r.x,y:r.y,options:Object.assign(Object.assign({},this.options),{toolId:this.cid})});this.cellView.setEventData(e,i),this.delegateDocumentEvents(this.options.documentEvents,e.data),n.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(e){const n=this.normalizeEvent(e),r=this.graph.snapToGrid(n.clientX,n.clientY);this.cellView.onMouseMove(n,r.x,r.y),this.update()}onMouseUp(e){this.undelegateDocumentEvents();const n=this.normalizeEvent(e),r=this.cellView,i=this.graph.snapToGrid(n.clientX,n.clientY);r.onMouseUp(n,i.x,i.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",r.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}(function(t){t.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})})(dP||(dP={}));const Tht=dP.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),Aht=dP.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});class p1 extends da.ToolItem{constructor(){super(...arguments),this.labelIndex=-1,this.distance=.5,this.dblClick=this.onCellDblClick.bind(this)}onRender(){const e=this.cellView;e&&e.on("cell:dblclick",this.dblClick)}createElement(){const e=[this.prefixClassName(`${this.cell.isEdge()?"edge":"node"}-tool-editor`),this.prefixClassName("cell-tool-editor")];this.editor=da.createElement("div",!1),this.addClass(e,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}removeElement(){this.undelegateDocumentEvents(),this.editor&&(this.container.removeChild(this.editor),this.editor=null)}updateEditor(){const{cell:e,editor:n}=this;if(!n)return;const{style:r}=n;e.isNode()?this.updateNodeEditorTransform():e.isEdge()&&this.updateEdgeEditorTransform();const{attrs:i}=this.options;r.fontSize=`${i.fontSize}px`,r.fontFamily=i.fontFamily,r.color=i.color,r.backgroundColor=i.backgroundColor;const o=this.getCellText()||"";return n.innerText=o,this.setCellText(""),this}updateNodeEditorTransform(){const{graph:e,cell:n,editor:r}=this;if(!r)return;let i=Ve.create(),o=20,a="",{x:s,y:l}=this.options;const{width:u,height:c}=this.options;if(typeof s<"u"&&typeof l<"u"){const h=n.getBBox();s=Sc(s,h.width),l=Sc(l,h.height),i=h.topLeft.translate(s,l),o=h.width-s*2}else{const h=n.getBBox();i=h.center,o=h.width-4,a="translate(-50%, -50%)"}const f=e.scale(),{style:d}=r;i=e.localToGraph(i),d.left=`${i.x}px`,d.top=`${i.y}px`,d.transform=`scale(${f.sx}, ${f.sy}) ${a}`,d.minWidth=`${o}px`,typeof u=="number"&&(d.width=`${u}px`),typeof c=="number"&&(d.height=`${c}px`)}updateEdgeEditorTransform(){if(!this.event)return;const{graph:e,editor:n}=this;if(!n)return;let r=Ve.create(),i=20;const{style:o}=n,a=this.event.target,s=a.parentElement;if(s&&If(s,this.prefixClassName("edge-label"))){const c=s.getAttribute("data-index")||"0";this.labelIndex=parseInt(c,10);const f=s.getAttribute("transform"),{translation:d}=qI(f);r=new Ve(d.tx,d.ty),i=Fi.getBBox(a).width}else{if(!this.options.labelAddable)return this;r=e.clientToLocal(Ve.create(this.event.clientX,this.event.clientY));const f=this.cellView.path.closestPointLength(r);this.distance=f,this.labelIndex=-1}r=e.localToGraph(r);const u=e.scale();o.left=`${r.x}px`,o.top=`${r.y}px`,o.minWidth=`${i}px`,o.transform=`scale(${u.sx}, ${u.sy}) translate(-50%, -50%)`}onDocumentMouseUp(e){if(this.editor&&e.target!==this.editor){const n=this.editor.innerText.replace(/\n$/,"")||"";this.setCellText(n!==""?n:null),this.removeElement()}}onCellDblClick({e}){this.editor||(e.stopPropagation(),this.removeElement(),this.event=e,this.createElement(),this.updateEditor(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents))}onMouseDown(e){e.stopPropagation()}autoFocus(){setTimeout(()=>{this.editor&&(this.editor.focus(),this.selectText())})}selectText(){if(window.getSelection&&this.editor){const e=document.createRange(),n=window.getSelection();e.selectNodeContents(this.editor),n.removeAllRanges(),n.addRange(e)}}getCellText(){const{getText:e}=this.options;if(typeof e=="function")return lr(e,this.cellView,{cell:this.cell,index:this.labelIndex});if(typeof e=="string"){if(this.cell.isNode())return this.cell.attr(e);if(this.cell.isEdge()&&this.labelIndex!==-1)return this.cell.prop(`labels/${this.labelIndex}/attrs/${e}`)}}setCellText(e){const n=this.options.setText;if(typeof n=="function"){lr(n,this.cellView,{cell:this.cell,value:e,index:this.labelIndex,distance:this.distance});return}if(typeof n=="string"){if(this.cell.isNode()){e!==null&&this.cell.attr(n,e);return}if(this.cell.isEdge()){const r=this.cell;if(this.labelIndex===-1){if(e){const i={position:{distance:this.distance},attrs:{}};g_(i,`attrs/${n}`,e),r.appendLabel(i)}}else e!==null?r.prop(`labels/${this.labelIndex}/attrs/${n}`,e):typeof this.labelIndex=="number"&&r.removeLabelAt(this.labelIndex)}}}onRemove(){const e=this.cellView;e&&e.off("cell:dblclick",this.dblClick),this.removeElement()}}(function(t){t.config({tagName:"div",isSVGElement:!1,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mouseup:"onDocumentMouseUp",touchend:"onDocumentMouseUp",touchcancel:"onDocumentMouseUp"}})})(p1||(p1={}));(function(t){t.NodeEditor=t.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText:"text/text",setText:"text/text"}),t.EdgeEditor=t.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText:"label/text",setText:"label/text"})})(p1||(p1={}));var s0e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},v1;(function(t){t.presets={boundary:cP,button:fv,"button-remove":fv.Remove,"node-editor":p1.NodeEditor},t.registry=ta.create({type:"node tool",process(e,n){if(typeof n=="function")return n;let r=da.ToolItem;const{inherit:i}=n,o=s0e(n,["inherit"]);if(i){const a=this.get(i);a==null?this.onNotFound(i,"inherited"):r=a}return o.name==null&&(o.name=e),r.define.call(r,o)}}),t.registry.register(t.presets,!0)})(v1||(v1={}));var g1;(function(t){t.presets={boundary:cP,vertices:nC,segments:rC,button:fv,"button-remove":fv.Remove,"source-anchor":xht,"target-anchor":Cht,"source-arrowhead":Tht,"target-arrowhead":Aht,"edge-editor":p1.EdgeEditor},t.registry=ta.create({type:"edge tool",process(e,n){if(typeof n=="function")return n;let r=da.ToolItem;const{inherit:i}=n,o=s0e(n,["inherit"]);if(i){const a=this.get(i);a==null?this.onNotFound(i,"inherited"):r=a}return o.name==null&&(o.name=e),r.define.call(r,o)}}),t.registry.register(t.presets,!0)})(g1||(g1={}));const kht=Ih("center"),Mht=Ih("topCenter"),Pht=Ih("bottomCenter"),Oht=Ih("leftMiddle"),Iht=Ih("rightMiddle"),Rht=Ih("topLeft"),Lht=Ih("topRight"),Dht=Ih("bottomLeft"),Nht=Ih("bottomRight");function Ih(t){return function(e,n,r,i={}){const o=i.rotate?e.getUnrotatedBBoxOfElement(n):e.getBBoxOfElement(n),a=o[t];a.x+=Sc(i.dx,o.width),a.y+=Sc(i.dy,o.height);const s=e.cell;return i.rotate?a.rotate(-s.getAngle(),s.getBBox().getCenter()):a}}function ZI(t){return function(e,n,r,i){if(r instanceof Element){const o=this.graph.findViewByElem(r);let a;if(o)if(o.isEdgeElement(r)){const s=i.fixedAt!=null?i.fixedAt:"50%";a=l0e(o,s)}else a=o.getBBoxOfElement(r).getCenter();else a=new Ve;return t.call(this,e,n,a,i)}return t.apply(this,arguments)}}function l0e(t,e){const n=fh(e),r=typeof e=="string"?parseFloat(e):e;return n?t.getPointAtRatio(r/100):t.getPointAtLength(r)}const Bht=function(t,e,n,r){const i=xi.normalize(t.cell.getAngle()),o=t.getBBoxOfElement(e),a=o.getCenter(),s=o.getTopLeft(),l=o.getBottomRight();let u=r.padding;if(Number.isFinite(u)||(u=0),s.y+u<=n.y&&n.y<=l.y-u){const c=n.y-a.y;a.x+=i===0||i===180?0:c*1/Math.tan(xi.toRad(i)),a.y+=c}else if(s.x+u<=n.x&&n.x<=l.x-u){const c=n.x-a.x;a.y+=i===90||i===270?0:c*Math.tan(xi.toRad(i)),a.x+=c}return a},$ht=ZI(Bht),Fht=function(t,e,n,r,i){const o=t.cell.getConnectionPoint(this.cell,i);return(r.dx||r.dy)&&o.translate(r.dx||0,r.dy||0),o},Vht=function(t,e,n,r){let i,o=0,a;const s=t.cell;r.rotate?(i=t.getUnrotatedBBoxOfElement(e),a=s.getBBox().getCenter(),o=s.getAngle()):i=t.getBBoxOfElement(e);const l=r.padding;l!=null&&Number.isFinite(l)&&i.inflate(l),r.rotate&&n.rotate(o,a);const u=i.getNearestSideToPoint(n);let c;switch(u){case"left":c=i.getLeftMiddle();break;case"right":c=i.getRightMiddle();break;case"top":c=i.getTopCenter();break;case"bottom":c=i.getBottomCenter();break}const f=r.direction;return f==="H"?(u==="top"||u==="bottom")&&(n.x<=i.x+i.width?c=i.getLeftMiddle():c=i.getRightMiddle()):f==="V"&&(n.y<=i.y+i.height?c=i.getTopCenter():c=i.getBottomCenter()),r.rotate?c.rotate(-o,a):c},zht=ZI(Vht),Hht=Object.freeze(Object.defineProperty({__proto__:null,bottom:Pht,bottomLeft:Dht,bottomRight:Nht,center:kht,left:Oht,midSide:zht,nodeCenter:Fht,orth:$ht,right:Iht,top:Mht,topLeft:Rht,topRight:Lht},Symbol.toStringTag,{value:"Module"}));var m1;(function(t){t.presets=Hht,t.registry=ta.create({type:"node endpoint"}),t.registry.register(t.presets,!0)})(m1||(m1={}));const jht=function(t,e,n,r){let i=r.ratio!=null?r.ratio:.5;return i>1&&(i/=100),t.getPointAtRatio(i)},Ght=function(t,e,n,r){const i=r.length!=null?r.length:20;return t.getPointAtLength(i)},u0e=function(t,e,n,r){const i=t.getClosestPoint(n);return i??new Ve},Uht=ZI(u0e),Wht=function(t,e,n,r){const o=t.getConnection(),a=t.getConnectionSubdivisions(),s=new fr(n.clone().translate(0,1e6),n.clone().translate(0,-1e6)),l=new fr(n.clone().translate(1e6,0),n.clone().translate(-1e6,0)),u=s.intersect(o,{segmentSubdivisions:a}),c=l.intersect(o,{segmentSubdivisions:a}),f=[];return u&&f.push(...u),c&&f.push(...c),f.length>0?n.closest(f):r.fallbackAt!=null?l0e(t,r.fallbackAt):lr(u0e,this,t,e,n,r)},qht=ZI(Wht),Kht=Object.freeze(Object.defineProperty({__proto__:null,closest:Uht,length:Ght,orth:qht,ratio:jht},Symbol.toStringTag,{value:"Module"}));var y1;(function(t){t.presets=Kht,t.registry=ta.create({type:"edge endpoint"}),t.registry.register(t.presets,!0)})(y1||(y1={}));function JI(t,e,n){let r;if(typeof n=="object"){if(Number.isFinite(n.y)){const o=new fr(e,t),{start:a,end:s}=o.parallel(n.y);e=a,t=s}r=n.x}else r=n;if(r==null||!Number.isFinite(r))return t;const i=t.distance(e);return r===0&&i>0?t:t.move(e,-Math.min(r,i-1))}function hP(t){const e=t.getAttribute("stroke-width");return e===null?0:parseFloat(e)||0}function Yht(t){if(t==null)return null;let e=t;do{let n=e.tagName;if(typeof n!="string")return null;if(n=n.toUpperCase(),n==="G")e=e.firstElementChild;else if(n==="TITLE")e=e.nextElementSibling;else break}while(e);return e}const c0e=function(t,e,n,r){const i=e.getBBoxOfElement(n);r.stroked&&i.inflate(hP(n)/2);const o=t.intersect(i),a=o&&o.length?t.start.closest(o):t.end;return JI(a,t.start,r.offset)},Xht=function(t,e,n,r,i){const o=e.cell,a=o.isNode()?o.getAngle():0;if(a===0)return lr(c0e,this,t,e,n,r,i);const s=e.getUnrotatedBBoxOfElement(n);r.stroked&&s.inflate(hP(n)/2);const l=s.getCenter(),u=t.clone().rotate(a,l),c=u.setLength(1e6).intersect(s),f=c&&c.length?u.start.closest(c).rotate(-a,l):t.end;return JI(f,t.start,r.offset)},Zht=function(t,e,n,r){let i,o;const a=t.end,s=r.selector;if(typeof s=="string"?i=e.findOne(s):Array.isArray(s)?i=yj(n,s):i=Yht(n),!av(i)){if(i===n||!av(n))return a;i=n}const l=e.getShapeOfElement(i),u=e.getMatrixOfElement(i),c=e.getRootTranslatedMatrix(),f=e.getRootRotatedMatrix(),d=c.multiply(f).multiply(u),h=d.inverse(),p=Fi.transformLine(t,h),v=p.start.clone(),g=e.getDataOfElement(i);if(r.insideout===!1){g.shapeBBox==null&&(g.shapeBBox=l.bbox());const w=g.shapeBBox;if(w!=null&&w.containsPoint(v))return a}r.extrapolate===!0&&p.setLength(1e6);let m;if(ii.isPath(l)){const w=r.precision||2;g.segmentSubdivisions==null&&(g.segmentSubdivisions=l.getSegmentSubdivisions({precision:w})),m={precision:w,segmentSubdivisions:g.segmentSubdivisions},o=p.intersect(l,m)}else o=p.intersect(l);o?Array.isArray(o)&&(o=v.closest(o)):r.sticky===!0&&(bn.isRectangle(l)?o=l.getNearestPointToPoint(v):lv.isEllipse(l)?o=l.intersectsWithLineFromCenterToPoint(v):o=l.closestPoint(v,m));const y=o?Fi.transformPoint(o,d):a;let b=r.offset||0;return r.stroked!==!1&&(typeof b=="object"?(b=Object.assign({},b),b.x==null&&(b.x=0),b.x+=hP(i)/2):b+=hP(i)/2),JI(y,t.start,b)};function Jht(t,e,n=0){const{start:r,end:i}=t;let o,a,s,l;switch(e){case"left":l="x",o=i,a=r,s=-1;break;case"right":l="x",o=r,a=i,s=1;break;case"top":l="y",o=i,a=r,s=-1;break;case"bottom":l="y",o=r,a=i,s=1;break;default:return}r[l]<i[l]?o[l]=a[l]:a[l]=o[l],Number.isFinite(n)&&(o[l]+=s*n,a[l]+=s*n)}const Qht=function(t,e,n,r){const{alignOffset:i,align:o}=r;return o&&Jht(t,o,i),JI(t.end,t.start,r.offset)},ept=Object.freeze(Object.defineProperty({__proto__:null,anchor:Qht,bbox:c0e,boundary:Zht,rect:Xht},Symbol.toStringTag,{value:"Module"}));var b1;(function(t){t.presets=ept,t.registry=ta.create({type:"connection point"}),t.registry.register(t.presets,!0)})(b1||(b1={}));const tpt=function(t){return[...t]},npt=function(t,e,n){const r=e.side||"bottom",i=iv(e.padding||40),o=n.sourceBBox,a=n.targetBBox,s=o.getCenter(),l=a.getCenter();let u,c,f;switch(r){case"top":f=-1,u="y",c="height";break;case"left":f=-1,u="x",c="width";break;case"right":f=1,u="x",c="width";break;case"bottom":default:f=1,u="y",c="height";break}return s[u]+=f*(o[c]/2+i[r]),l[u]+=f*(a[c]/2+i[r]),f*(s[u]-l[u])>0?l[u]=s[u]:s[u]=l[u],[s.toJSON(),...t,l.toJSON()]};function yT(t){return new bn(t.x,t.y,0,0)}function pP(t={}){const e=iv(t.padding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function f0e(t,e={}){return t.sourceBBox.clone().moveAndExpand(pP(e))}function d0e(t,e={}){return t.targetBBox.clone().moveAndExpand(pP(e))}function rpt(t,e={}){return t.sourceAnchor?t.sourceAnchor:f0e(t,e).getCenter()}function ipt(t,e={}){return t.targetAnchor?t.targetAnchor:d0e(t,e).getCenter()}const h0e=function(t,e,n){let r=f0e(n,e),i=d0e(n,e);const o=rpt(n,e),a=ipt(n,e);r=r.union(yT(o)),i=i.union(yT(a));const s=t.map(c=>Ve.create(c));s.unshift(o),s.push(a);let l=null;const u=[];for(let c=0,f=s.length-1;c<f;c+=1){let d=null;const h=s[c],p=s[c+1],v=vu.getBearing(h,p)!=null;if(c===0)c+1===f?r.intersectsWithRect(i.clone().inflate(1))?d=vu.insideNode(h,p,r,i):v||(d=vu.nodeToNode(h,p,r,i)):r.containsPoint(p)?d=vu.insideNode(h,p,r,yT(p).moveAndExpand(pP(e))):v||(d=vu.nodeToVertex(h,p,r));else if(c+1===f){const g=v&&vu.getBearing(p,h)===l;i.containsPoint(h)||g?d=vu.insideNode(h,p,yT(h).moveAndExpand(pP(e)),i,l):v||(d=vu.vertexToNode(h,p,i,l))}else v||(d=vu.vertexToVertex(h,p,l));d?(u.push(...d.points),l=d.direction):l=vu.getBearing(h,p),c+1<f&&u.push(p)}return u};var vu;(function(t){const e={N:"S",S:"N",E:"W",W:"E"},n={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function r(f,d,h){let p=new Ve(f.x,d.y);return h.containsPoint(p)&&(p=new Ve(d.x,f.y)),p}function i(f,d){return f[d==="W"||d==="E"?"width":"height"]}t.getBBoxSize=i;function o(f,d){return f.x===d.x?f.y>d.y?"N":"S":f.y===d.y?f.x>d.x?"W":"E":null}t.getBearing=o;function a(f,d,h){const p=new Ve(f.x,d.y),v=new Ve(d.x,f.y),g=o(f,p),m=o(f,v),y=h?e[h]:null,b=g===h||g!==y&&(m===y||m!==h)?p:v;return{points:[b],direction:o(b,d)}}t.vertexToVertex=a;function s(f,d,h){const p=r(f,d,h);return{points:[p],direction:o(p,d)}}t.nodeToVertex=s;function l(f,d,h,p){const v=[new Ve(f.x,d.y),new Ve(d.x,f.y)],g=v.filter(b=>!h.containsPoint(b)),m=g.filter(b=>o(b,f)!==p);let y;if(m.length>0)return y=m.filter(b=>o(f,b)===p).pop(),y=y||m[0],{points:[y],direction:o(y,d)};{y=Z4e(v,g)[0];const b=Ve.create(d).move(y,-i(h,p)/2);return{points:[r(b,f,h),b],direction:o(b,d)}}}t.vertexToNode=l;function u(f,d,h,p){let v=s(d,f,p);const g=v.points[0];if(h.containsPoint(g)){v=s(f,d,h);const m=v.points[0];if(p.containsPoint(m)){const y=Ve.create(f).move(m,-i(h,o(f,m))/2),b=Ve.create(d).move(g,-i(p,o(d,g))/2),w=new fr(y,b).getCenter(),S=s(f,w,h),x=a(w,d,S.direction);v.points=[S.points[0],x.points[0]],v.direction=x.direction}}return v}t.nodeToNode=u;function c(f,d,h,p,v){const g=h.union(p).inflate(1),m=g.getCenter(),y=m.distance(d)>m.distance(f),b=y?d:f,w=y?f:d;let S,x,C;v?(S=Ve.fromPolar(g.width+g.height,n[v],b),S=g.getNearestPointToPoint(S).move(S,-1)):S=g.getNearestPointToPoint(b).move(b,1),x=r(S,w,g);let E;S.round().equals(x.round())?(x=Ve.fromPolar(g.width+g.height,xi.toRad(S.theta(b))+Math.PI/2,w),x=g.getNearestPointToPoint(x).move(w,1).round(),C=r(S,x,g),E=y?[x,C,S]:[S,C,x]):E=y?[x,S]:[S,x];const T=o(y?S:x,d);return{points:E,direction:T}}t.insideNode=c})(vu||(vu={}));const opt={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeNodes:[],excludeShapes:[],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return Sp(this.step,this)},directions(){const t=Sp(this.step,this),e=Sp(this.cost,this);return[{cost:e,offsetX:t,offsetY:0},{cost:e,offsetX:-t,offsetY:0},{cost:e,offsetX:0,offsetY:t},{cost:e,offsetX:0,offsetY:-t}]},penalties(){const t=Sp(this.step,this);return{0:0,45:t/2,90:t/2}},paddingBox(){const t=Sp(this.step,this);return{x:-t,y:-t,width:2*t,height:2*t}},fallbackRouter:h0e,draggingRouter:null,snapToGrid:!0};function Sp(t,e){return typeof t=="function"?t.call(e):t}function apt(t){const e=Object.keys(t).reduce((n,r)=>{const i=n;return r==="fallbackRouter"||r==="draggingRouter"||r==="fallbackRoute"?i[r]=t[r]:i[r]=Sp(t[r],t),n},{});if(e.padding){const n=iv(e.padding);e.paddingBox={x:-n.left,y:-n.top,width:n.left+n.right,height:n.top+n.bottom}}return e.directions.forEach(n=>{const r=new Ve(0,0),i=new Ve(n.offsetX,n.offsetY);n.angle=xi.normalize(r.theta(i))}),e}const kJ=1,MJ=2;class spt{constructor(){this.items=[],this.hash={},this.values={}}add(e,n){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=kJ,this.values[e]=n;const r=$Be(this.items,e,i=>this.values[i]);this.items.splice(r,0,e)}pop(){const e=this.items.shift();return e&&(this.hash[e]=MJ),e}isOpen(e){return this.hash[e]===kJ}isClose(e){return this.hash[e]===MJ}isEmpty(){return this.items.length===0}}class lpt{constructor(e){this.options=e,this.mapGridSize=100,this.map={}}build(e,n){const r=this.options,i=r.excludeTerminals.reduce((u,c)=>{const f=n[c];if(f){const d=e.getCell(f.cell);d&&u.push(d)}return u},[]);let o=[];const a=e.getCell(n.getSourceCellId());a&&(o=$S(o,a.getAncestors().map(u=>u.id)));const s=e.getCell(n.getTargetCellId());s&&(o=$S(o,s.getAncestors().map(u=>u.id)));const l=this.mapGridSize;return e.getNodes().reduce((u,c)=>{const f=i.some(g=>g.id===c.id),d=c.shape?r.excludeShapes.includes(c.shape):!1,h=r.excludeNodes.some(g=>typeof g=="string"?c.id===g:g===c),p=o.includes(c.id),v=d||f||h||p;if(c.isVisible()&&!v){const g=c.getBBox().moveAndExpand(r.paddingBox),m=g.getOrigin().snapToGrid(l),y=g.getCorner().snapToGrid(l);for(let b=m.x;b<=y.x;b+=l)for(let w=m.y;w<=y.y;w+=l){const S=new Ve(b,w).toString();u[S]==null&&(u[S]=[]),u[S].push(g)}}return u},this.map),this}isAccessible(e){const n=e.clone().snapToGrid(this.mapGridSize).toString(),r=this.map[n];return r?r.every(i=>!i.containsPoint(e)):!0}}function p0e(t,e){const n=t.sourceBBox.clone();return e&&e.paddingBox?n.moveAndExpand(e.paddingBox):n}function v0e(t,e){const n=t.targetBBox.clone();return e&&e.paddingBox?n.moveAndExpand(e.paddingBox):n}function g0e(t,e){return t.sourceAnchor?t.sourceAnchor:p0e(t,e).getCenter()}function upt(t,e){return t.targetAnchor?t.targetAnchor:v0e(t,e).getCenter()}function JN(t,e,n,r,i){const o=360/n,a=t.theta(cpt(t,e,r,i)),s=xi.normalize(a+o/2);return o*Math.floor(s/o)}function cpt(t,e,n,r){const i=r.step,o=e.x-t.x,a=e.y-t.y,s=o/n.x,l=a/n.y,u=s*i,c=l*i;return new Ve(t.x+u,t.y+c)}function PJ(t,e){const n=Math.abs(t-e);return n>180?360-n:n}function fpt(t,e){const n=e.step;return e.directions.forEach(r=>{r.gridOffsetX=r.offsetX/n*t.x,r.gridOffsetY=r.offsetY/n*t.y}),e.directions}function dpt(t,e,n){return{source:e.clone(),x:OJ(n.x-e.x,t),y:OJ(n.y-e.y,t)}}function OJ(t,e){if(!t)return e;const n=Math.abs(t),r=Math.round(n/e);if(!r)return n;const i=r*e,a=(n-i)/r;return e+a}function hpt(t,e){const n=e.source,r=ki.snapToGrid(t.x-n.x,e.x)+n.x,i=ki.snapToGrid(t.y-n.y,e.y)+n.y;return new Ve(r,i)}function sS(t,e){return t.round(e)}function kk(t,e,n){return sS(hpt(t.clone(),e),n)}function XS(t){return t.toString()}function QN(t){return new Ve(t.x===0?0:Math.abs(t.x)/t.x,t.y===0?0:Math.abs(t.y)/t.y)}function IJ(t,e){let n=1/0;for(let r=0,i=e.length;r<i;r+=1){const o=t.manhattanDistance(e[r]);o<n&&(n=o)}return n}function RJ(t,e,n,r,i){const o=i.precision,a=i.directionMap,s=t.diff(e.getCenter()),l=Object.keys(a).reduce((u,c)=>{if(n.includes(c)){const f=a[c],d=new Ve(t.x+f.x*(Math.abs(s.x)+e.width),t.y+f.y*(Math.abs(s.y)+e.height)),p=new fr(t,d).intersect(e)||[];let v,g=null;for(let m=0;m<p.length;m+=1){const y=p[m],b=t.squaredDistance(y);(v==null||b>v)&&(v=b,g=y)}if(g){let m=kk(g,r,o);e.containsPoint(m)&&(m=kk(m.translate(f.x*r.x,f.y*r.y),r,o)),u.push(m)}}return u},[]);return e.containsPoint(t)||l.push(kk(t,r,o)),l}function ppt(t,e,n,r,i){const o=[];let a=QN(i.diff(n)),s=XS(n),l=t[s],u;for(;l;){u=e[s];const d=QN(u.diff(l));d.equals(a)||(o.unshift(u),a=d),s=XS(l),l=t[s]}const c=e[s];return QN(c.diff(r)).equals(a)||o.unshift(c),o}function vpt(t,e,n,r,i){const o=i.precision;let a,s;bn.isRectangle(e)?a=sS(g0e(t,i).clone(),o):a=sS(e.clone(),o),bn.isRectangle(n)?s=sS(upt(t,i).clone(),o):s=sS(n.clone(),o);const l=dpt(i.step,a,s),u=a,c=s;let f,d;if(bn.isRectangle(e)?f=RJ(u,e,i.startDirections,l,i):f=[u],bn.isRectangle(n)?d=RJ(s,n,i.endDirections,l,i):d=[c],f=f.filter(h=>r.isAccessible(h)),d=d.filter(h=>r.isAccessible(h)),f.length>0&&d.length>0){const h=new spt,p={},v={},g={};for(let A=0,k=f.length;A<k;A+=1){const M=f[A],D=XS(M);h.add(D,IJ(M,d)),p[D]=M,g[D]=0}const m=i.previousDirectionAngle,y=m===void 0;let b,w;const S=fpt(l,i),x=S.length,C=d.reduce((A,k)=>{const M=XS(k);return A.push(M),A},[]),E=Ve.equalPoints(f,d);let T=i.maxLoopCount;for(;!h.isEmpty()&&T>0;){const A=h.pop(),k=p[A],M=v[A],D=g[A],L=k.equals(u),I=M==null;let R;if(I?y?L?R=null:R=JN(u,k,x,l,i):R=m:R=JN(M,k,x,l,i),!(I&&E)&&C.indexOf(A)>=0)return i.previousDirectionAngle=R,ppt(v,p,k,u,c);for(let P=0;P<x;P+=1){b=S[P];const B=b.angle;if(w=PJ(R,B),!(y&&L)&&w>i.maxDirectionChange)continue;const j=kk(k.clone().translate(b.gridOffsetX||0,b.gridOffsetY||0),l,o),G=XS(j);if(h.isClose(G)||!r.isAccessible(j))continue;if(C.indexOf(G)>=0&&!j.equals(c)){const ce=JN(j,c,x,l,i);if(PJ(B,ce)>i.maxDirectionChange)continue}const W=b.cost,Z=L?0:i.penalties[w],ee=D+W+Z;(!h.isOpen(G)||ee<g[G])&&(p[G]=j,v[G]=k,g[G]=ee,h.add(G,ee+IJ(j,d)))}T-=1}}return i.fallbackRoute?lr(i.fallbackRoute,this,u,c,i):null}function gpt(t,e=10){if(t.length<=1)return t;for(let n=0,r=t.length;n<r-1;n+=1){const i=t[n],o=t[n+1];if(i.x===o.x){const a=e*Math.round(i.x/e);i.x!==a&&(i.x=a,o.x=a)}else if(i.y===o.y){const a=e*Math.round(i.y/e);i.y!==a&&(i.y=a,o.y=a)}}return t}const mpt=function(t,e,n){const r=apt(e),i=p0e(n,r),o=v0e(n,r),a=g0e(n,r),s=new lpt(r).build(n.graph.model,n.cell),l=t.map(h=>Ve.create(h)),u=[];let c=a,f,d;for(let h=0,p=l.length;h<=p;h+=1){let v=null;if(f=d||i,d=l[h],d==null){d=o;const m=n.cell;if((m.getSourceCellId()==null||m.getTargetCellId()==null)&&typeof r.draggingRouter=="function"){const b=f===i?a:f,w=d.getOrigin();v=lr(r.draggingRouter,n,b,w,r)}}if(v==null&&(v=vpt(n,f,d,s,r)),v===null)return console.warn("Unable to execute manhattan algorithm, use orth instead"),lr(r.fallbackRouter,this,t,r,n);const g=v[0];g&&g.equals(c)&&v.shift(),c=v[v.length-1]||c,u.push(...v)}return r.snapToGrid?gpt(u,n.graph.grid.getGridSize()):u},m0e=function(t,e,n){return lr(mpt,this,t,Object.assign(Object.assign({},opt),e),n)},ypt={maxDirectionChange:45,directions(){const t=Sp(this.step,this),e=Sp(this.cost,this),n=Math.ceil(Math.sqrt(t*t<<1));return[{cost:e,offsetX:t,offsetY:0},{cost:n,offsetX:t,offsetY:t},{cost:e,offsetX:0,offsetY:t},{cost:n,offsetX:-t,offsetY:t},{cost:e,offsetX:-t,offsetY:0},{cost:n,offsetX:-t,offsetY:-t},{cost:e,offsetX:0,offsetY:-t},{cost:n,offsetX:t,offsetY:-t}]},fallbackRoute(t,e,n){const r=t.theta(e),i=[];let o={x:e.x,y:t.y},a={x:t.x,y:e.y};if(r%180>90){const b=o;o=a,a=b}const s=r%90<45?o:a,l=new fr(t,s),u=90*Math.ceil(r/90),c=Ve.fromPolar(l.squaredLength(),xi.toRad(u+135),s),f=new fr(e,c),d=l.intersectsWithLine(f),h=d||e,p=d?h:t,v=360/n.directions.length,g=p.theta(e),m=xi.normalize(g+v/2),y=v*Math.floor(m/v);return n.previousDirectionAngle=y,h&&i.push(h.round()),i.push(e),i}},bpt=function(t,e,n){return lr(m0e,this,t,Object.assign(Object.assign({},ypt),e),n)},_pt=function(t,e,n){const r=e.offset||32,i=e.min==null?16:e.min;let o=0,a=e.direction;const s=n.sourceBBox,l=n.targetBBox,u=s.getCenter(),c=l.getCenter();if(typeof r=="number"&&(o=r),a==null){let m=l.left-s.right,y=l.top-s.bottom;m>=0&&y>=0?a=m>=y?"L":"T":m<=0&&y>=0?(m=s.left-l.right,m>=0?a=m>=y?"R":"T":a="T"):m>=0&&y<=0?(y=s.top-l.bottom,y>=0?a=m>=y?"L":"B":a="L"):(m=s.left-l.right,y=s.top-l.bottom,m>=0&&y>=0?a=m>=y?"R":"B":m<=0&&y>=0?a="B":m>=0&&y<=0?a="R":a=Math.abs(m)>Math.abs(y)?"R":"B")}a==="H"?a=c.x-u.x>=0?"L":"R":a==="V"&&(a=c.y-u.y>=0?"T":"B"),r==="center"&&(a==="L"?o=(l.left-s.right)/2:a==="R"?o=(s.left-l.right)/2:a==="T"?o=(l.top-s.bottom)/2:a==="B"&&(o=(s.top-l.bottom)/2));let f,d,h;const p=a==="L"||a==="R";if(p){if(c.y===u.y)return[...t];h=a==="L"?1:-1,f="x",d="width"}else{if(c.x===u.x)return[...t];h=a==="T"?1:-1,f="y",d="height"}const v=u.clone(),g=c.clone();if(v[f]+=h*(s[d]/2+o),g[f]-=h*(l[d]/2+o),p){const m=v.x,y=g.x,b=s.width/2+i,w=l.width/2+i;c.x>u.x?y<=m&&(v.x=Math.max(y,u.x+b),g.x=Math.min(m,c.x-w)):y>=m&&(v.x=Math.min(y,u.x-b),g.x=Math.max(m,c.x+w))}else{const m=v.y,y=g.y,b=s.height/2+i,w=l.height/2+i;c.y>u.y?y<=m&&(v.y=Math.max(y,u.y+b),g.y=Math.min(m,c.y-w)):y>=m&&(v.y=Math.min(y,u.y-b),g.y=Math.max(m,c.y+w))}return[v.toJSON(),...t,g.toJSON()]};function a0(t,e){if(e!=null&&e!==!1){const n=typeof e=="boolean"?0:e;if(n>0){const r=Ve.create(t[1]).move(t[2],n),i=Ve.create(t[1]).move(t[0],n);return[r.toJSON(),...t,i.toJSON()]}{const r=t[1];return[Object.assign({},r),...t,Object.assign({},r)]}}return t}const wpt=function(t,e,n){const r=e.width||50,o=(e.height||80)/2,a=e.angle||"auto",s=n.sourceAnchor,l=n.targetAnchor,u=n.sourceBBox,c=n.targetBBox;if(s.equals(l)){const f=m=>{const y=xi.toRad(m),b=Math.sin(y),w=Math.cos(y),S=new Ve(s.x+w*r,s.y+b*r),x=new Ve(S.x-w*o,S.y-b*o),C=x.clone().rotate(-90,S),E=x.clone().rotate(90,S);return[C.toJSON(),S.toJSON(),E.toJSON()]},d=m=>{const y=s.clone().move(m,-1),b=new fr(y,m);return!u.containsPoint(m)&&!u.intersectsWithLine(b)},h=[0,90,180,270,45,135,225,315];if(typeof a=="number")return a0(f(a),e.merge);const p=u.getCenter();if(p.equals(s))return a0(f(0),e.merge);const v=p.angleBetween(s,p.clone().translate(1,0));let g=f(v);if(d(g[1]))return a0(g,e.merge);for(let m=1,y=h.length;m<y;m+=1)if(g=f(v+h[m]),d(g[1]))return a0(g,e.merge);return a0(g,e.merge)}{const f=new fr(s,l);let d=f.parallel(-r),h=d.getCenter(),p=d.start.clone().move(d.end,o),v=d.end.clone().move(d.start,o);const g=f.parallel(-1),m=new fr(g.start,h),y=new fr(g.end,h);if((u.containsPoint(h)||c.containsPoint(h)||u.intersectsWithLine(m)||u.intersectsWithLine(y)||c.intersectsWithLine(m)||c.intersectsWithLine(y))&&(d=f.parallel(r),h=d.getCenter(),p=d.start.clone().move(d.end,o),v=d.end.clone().move(d.start,o)),e.merge){const b=new fr(s,l),w=new fr(h,b.center).setLength(Number.MAX_SAFE_INTEGER),S=u.intersectsWithLine(w),x=c.intersectsWithLine(w),C=S?Array.isArray(S)?S:[S]:[];x&&(Array.isArray(x)?C.push(...x):C.push(x));const E=b.center.closest(C);E?(n.sourceAnchor=E.clone(),n.targetAnchor=E.clone()):(n.sourceAnchor=b.center.clone(),n.targetAnchor=b.center.clone())}return a0([p.toJSON(),h.toJSON(),v.toJSON()],e.merge)}},Spt=Object.freeze(Object.defineProperty({__proto__:null,er:_pt,loop:wpt,manhattan:m0e,metro:bpt,normal:tpt,oneSide:npt,orth:h0e},Symbol.toStringTag,{value:"Module"}));var kp;(function(t){t.presets=Spt,t.registry=ta.create({type:"router"}),t.registry.register(t.presets,!0)})(kp||(kp={}));const xpt=function(t,e,n,r={}){const i=[t,...n,e],o=new Os(i),a=new ii(o);return r.raw?a:a.serialize()},Cpt=function(t,e,n,r={}){const i=n.length===3?0:1,o=Ve.create(n[0+i]),a=Ve.create(n[2+i]),s=Ve.create(n[1+i]);if(!Ve.equals(t,e)){const u=new Ve((t.x+e.x)/2,(t.y+e.y)/2),c=u.angleBetween(Ve.create(t).rotate(90,u),s);c>1&&(o.rotate(180-c,u),a.rotate(180-c,u),s.rotate(180-c,u))}const l=`
     M ${t.x} ${t.y}
     Q ${o.x} ${o.y} ${s.x} ${s.y}
     Q ${a.x} ${a.y} ${e.x} ${e.y}
  `;return r.raw?ii.parse(l):l},Ept=function(t,e,n,r={}){const i=new ii;i.appendSegment(ii.createSegment("M",t));const o=1/3,a=2/3,s=r.radius||10;let l,u;for(let c=0,f=n.length;c<f;c+=1){const d=Ve.create(n[c]),h=n[c-1]||t,p=n[c+1]||e;l=u||d.distance(h)/2,u=d.distance(p)/2;const v=-Math.min(s,l),g=-Math.min(s,u),m=d.clone().move(h,v).round(),y=d.clone().move(p,g).round(),b=new Ve(o*m.x+a*d.x,a*d.y+o*m.y),w=new Ve(o*y.x+a*d.x,a*d.y+o*y.y);i.appendSegment(ii.createSegment("L",m)),i.appendSegment(ii.createSegment("C",b,w,y))}return i.appendSegment(ii.createSegment("L",e)),r.raw?i:i.serialize()},Tpt=function(t,e,n,r={}){let i,o=r.direction;if(n&&n.length!==0){const a=[t,...n,e],s=No.throughPoints(a);i=new ii(s)}else if(i=new ii,i.appendSegment(ii.createSegment("M",t)),o||(o=Math.abs(t.x-e.x)>=Math.abs(t.y-e.y)?"H":"V"),o==="H"){const a=(t.x+e.x)/2;i.appendSegment(ii.createSegment("C",a,t.y,a,e.y,e.x,e.y))}else{const a=(t.y+e.y)/2;i.appendSegment(ii.createSegment("C",t.x,a,e.x,a,e.x,e.y))}return r.raw?i:i.serialize()},LJ=1,bT=1/3,_T=2/3;function Apt(t){let e=t.graph._jumpOverUpdateList;if(e==null&&(e=t.graph._jumpOverUpdateList=[],t.graph.on("cell:mouseup",()=>{const n=t.graph._jumpOverUpdateList;setTimeout(()=>{for(let r=0;r<n.length;r+=1)n[r].update()})}),t.graph.on("model:reseted",()=>{e=t.graph._jumpOverUpdateList=[]})),e.indexOf(t)<0){e.push(t);const n=()=>e.splice(e.indexOf(t),1);t.cell.once("change:connector",n),t.cell.once("removed",n)}}function e3(t,e,n=[]){const r=[t,...n,e],i=[];return r.forEach((o,a)=>{const s=r[a+1];s!=null&&i.push(new fr(o,s))}),i}function kpt(t,e){const n=[];return e.forEach(r=>{const i=t.intersectsWithLine(r);i&&n.push(i)}),n}function DJ(t,e){return new fr(t,e).squaredLength()}function Mpt(t,e,n){return e.reduce((r,i,o)=>{if(vP.includes(i))return r;const a=r.pop()||t,s=Ve.create(i).move(a.start,-n);let l=Ve.create(i).move(a.start,+n);const u=e[o+1];if(u!=null){const d=l.distance(u);d<=n&&(l=u.move(a.start,d),vP.push(u))}else if(s.distance(a.end)<n*2+LJ)return r.push(a),r;if(l.distance(a.start)<n*2+LJ)return r.push(a),r;const f=new fr(s,l);return iC.push(f),r.push(new fr(a.start,s),f,new fr(l,a.end)),r},[])}function NJ(t,e,n,r){const i=new ii;let o;return o=ii.createSegment("M",t[0].start),i.appendSegment(o),t.forEach((a,s)=>{if(iC.includes(a)){let l,u,c,f;if(n==="arc"){l=-90,u=a.start.diff(a.end),(u.x<0||u.x===0&&u.y<0)&&(l+=180);const h=a.getCenter(),p=new fr(h,a.end).rotate(l,h);let v;v=new fr(a.start,h),c=v.pointAt(2/3).rotate(l,a.start),f=p.pointAt(1/3).rotate(-l,p.end),o=ii.createSegment("C",c,f,p.end),i.appendSegment(o),v=new fr(h,a.end),c=p.pointAt(1/3).rotate(l,p.end),f=v.pointAt(1/3).rotate(-l,a.end),o=ii.createSegment("C",c,f,a.end),i.appendSegment(o)}else if(n==="gap")o=ii.createSegment("M",a.end),i.appendSegment(o);else if(n==="cubic"){l=a.start.theta(a.end);const d=e*.6;let h=e*1.35;u=a.start.diff(a.end),(u.x<0||u.x===0&&u.y<0)&&(h*=-1),c=new Ve(a.start.x+d,a.start.y+h).rotate(l,a.start),f=new Ve(a.end.x-d,a.end.y+h).rotate(l,a.end),o=ii.createSegment("C",c,f,a.end),i.appendSegment(o)}}else{const l=t[s+1];r===0||!l||iC.includes(l)?(o=ii.createSegment("L",a.end),i.appendSegment(o)):Ppt(r,i,a.end,a.start,l.end)}}),i}function Ppt(t,e,n,r,i){const o=n.distance(r)/2,a=n.distance(i)/2,s=-Math.min(t,o),l=-Math.min(t,a),u=n.clone().move(r,s).round(),c=n.clone().move(i,l).round(),f=new Ve(bT*u.x+_T*n.x,_T*n.y+bT*u.y),d=new Ve(bT*c.x+_T*n.x,_T*n.y+bT*c.y);let h;h=ii.createSegment("L",u),e.appendSegment(h),h=ii.createSegment("C",f,d,c),e.appendSegment(h)}let iC,vP;const Opt=function(t,e,n,r={}){iC=[],vP=[],Apt(this);const i=r.size||5,o=r.type||"arc",a=r.radius||0,s=r.ignoreConnectors||["smooth"],l=this.graph,c=l.model.getEdges();if(c.length===1)return NJ(e3(t,e,n),i,o,a);const f=this.cell,d=c.indexOf(f),h=l.options.connecting.connector||{},p=c.filter((w,S)=>{const x=w.getConnector()||h;return s.includes(x.name)?!1:S>d?x.name!=="jumpover":!0}),v=p.map(w=>l.findViewByCell(w)),g=e3(t,e,n),m=v.map(w=>w==null?[]:w===this?g:e3(w.sourcePoint,w.targetPoint,w.routePoints)),y=[];g.forEach(w=>{const S=p.reduce((x,C,E)=>{if(C!==f){const T=kpt(w,m[E]);x.push(...T)}return x},[]).sort((x,C)=>DJ(w.start,x)-DJ(w.start,C));S.length>0?y.push(...Mpt(w,S,i)):y.push(w)});const b=NJ(y,i,o,a);return iC=[],vP=[],r.raw?b:b.serialize()},Ipt=Object.freeze(Object.defineProperty({__proto__:null,jumpover:Opt,loop:Cpt,normal:xpt,rounded:Ept,smooth:Tpt},Symbol.toStringTag,{value:"Module"}));var _m;(function(t){t.presets=Ipt,t.registry=ta.create({type:"connector"}),t.registry.register(t.presets,!0)})(_m||(_m={}));var Rpt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class y0e extends vo{constructor(e={}){super(),this.pending=!1,this.changing=!1,this.data={},this.mutate(Hi(e)),this.changed={}}mutate(e,n={}){const r=n.unset===!0,i=n.silent===!0,o=[],a=this.changing;this.changing=!0,a||(this.previous=Hi(this.data),this.changed={});const s=this.data,l=this.previous,u=this.changed;if(Object.keys(e).forEach(c=>{const f=c,d=e[f];Ei(s[f],d)||o.push(f),Ei(l[f],d)?delete u[f]:u[f]=d,r?delete s[f]:s[f]=d}),!i&&o.length>0&&(this.pending=!0,this.pendingOptions=n,o.forEach(c=>{this.emit("change:*",{key:c,options:n,store:this,current:s[c],previous:l[c]})})),a)return this;if(!i)for(;this.pending;)this.pending=!1,this.emit("changed",{current:s,previous:l,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(e,n){if(e==null)return this.data;const r=this.data[e];return r??n}getPrevious(e){if(this.previous){const n=this.previous[e];return n??void 0}}set(e,n,r){return e!=null&&(typeof e=="object"?this.mutate(e,n):this.mutate({[e]:n},r)),this}remove(e,n){const i={};let o;if(typeof e=="string")i[e]=void 0,o=n;else if(Array.isArray(e))e.forEach(a=>i[a]=void 0),o=n;else{for(const a in this.data)i[a]=void 0;o=e}return this.mutate(i,Object.assign(Object.assign({},o),{unset:!0})),this}getByPath(e){return yj(this.data,e,"/")}setByPath(e,n,r={}){const o=Array.isArray(e)?[...e]:e.split("/"),a=Array.isArray(e)?e.join("/"):e,s=o[0],l=o.length;if(r.propertyPath=a,r.propertyValue=n,r.propertyPathArray=o,l===1)this.set(s,n,r);else{const u={};let c=u,f=s;for(let p=1;p<l;p+=1){const v=o[p],g=Number.isFinite(Number(v));c=c[f]=g?[]:{},f=v}g_(u,o,n,"/");const d=Hi(this.data);r.rewrite&&hJ(d,e,"/");const h=Bo(d,u);this.set(s,h[s],r)}return this}removeByPath(e,n){const r=Array.isArray(e)?e:e.split("/"),i=r[0];if(r.length===1)this.remove(i,n);else{const o=r.slice(1),a=Hi(this.get(i));a&&hJ(a,o),this.set(i,a,n)}return this}hasChanged(e){return e==null?Object.keys(this.changed).length>0:e in this.changed}getChanges(e){if(e==null)return this.hasChanged()?Hi(this.changed):null;const n=this.changing?this.previous:this.data,r={};let i;for(const o in e){const a=e[o];Ei(n[o],a)||(r[o]=a,i=!0)}return i?Hi(r):null}toJSON(){return Hi(this.data)}clone(){const e=this.constructor;return new e(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}Rpt([vo.dispose()],y0e.prototype,"dispose",null);let MV=class b0e{constructor(e){this.cell=e,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(e,n,r={},i="/"){const o=this.cell.getPropByPath(e),a=U4e(r,b0e.defaultOptions),s=this.getTiming(a.timing),l=this.getInterp(a.interp,o,n);let u=0;const c=Array.isArray(e)?e.join(i):e,f=Array.isArray(e)?e:e.split(i),d=()=>{const h=new Date().getTime();u===0&&(u=h);let v=(h-u)/a.duration;v<1?this.ids[c]=requestAnimationFrame(d):v=1;const g=l(s(v));this.cell.setPropByPath(f,g),r.progress&&r.progress(Object.assign({progress:v,currentValue:g},this.getArgs(c))),v===1&&(this.cell.notify("transition:complete",this.getArgs(c)),r.complete&&r.complete(this.getArgs(c)),this.cell.notify("transition:finish",this.getArgs(c)),r.finish&&r.finish(this.getArgs(c)),this.clean(c))};return setTimeout(()=>{this.stop(e,void 0,i),this.cache[c]={startValue:o,targetValue:n,options:a},this.ids[c]=requestAnimationFrame(d),this.cell.notify("transition:start",this.getArgs(c)),r.start&&r.start(this.getArgs(c))},r.delay),this.stop.bind(this,e,i,r)}stop(e,n={},r="/"){const i=Array.isArray(e)?e:e.split(r);return Object.keys(this.ids).filter(o=>Ei(i,o.split(r).slice(0,i.length))).forEach(o=>{cancelAnimationFrame(this.ids[o]);const a=this.cache[o],s=this.getArgs(o),l=Object.assign(Object.assign({},a.options),n),u=l.jumpedToEnd;u&&a.targetValue!=null&&(this.cell.setPropByPath(o,a.targetValue),this.cell.notify("transition:end",Object.assign({},s)),this.cell.notify("transition:complete",Object.assign({},s)),l.complete&&l.complete(Object.assign({},s)));const c=Object.assign({jumpedToEnd:u},s);this.cell.notify("transition:stop",Object.assign({},c)),l.stop&&l.stop(Object.assign({},c)),this.cell.notify("transition:finish",Object.assign({},s)),l.finish&&l.finish(Object.assign({},s)),this.clean(o)}),this}clean(e){delete this.ids[e],delete this.cache[e]}getTiming(e){return typeof e=="string"?Um[e]:e}getInterp(e,n,r){return e?e(n,r):typeof r=="number"?tm.number(n,r):typeof r=="string"?r[0]==="#"?tm.color(n,r):tm.unit(n,r):tm.object(n,r)}getArgs(e){const n=this.cache[e];return{path:e,startValue:n.startValue,targetValue:n.targetValue,cell:this.cell}}};(function(t){t.defaultOptions={delay:10,duration:100,timing:"linear"}})(MV||(MV={}));var Lpt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},_0e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class di extends vo{static config(e){const{markup:n,propHooks:r,attrHooks:i}=e,o=_0e(e,["markup","propHooks","attrHooks"]);n!=null&&(this.markup=n),r&&(this.propHooks=this.propHooks.slice(),Array.isArray(r)?this.propHooks.push(...r):typeof r=="function"?this.propHooks.push(r):Object.values(r).forEach(a=>{typeof a=="function"&&this.propHooks.push(a)})),i&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),i)),this.defaults=Bo({},this.defaults,o)}static getMarkup(){return this.markup}static getDefaults(e){return e?this.defaults:Hi(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(e,n){return this.propHooks.reduce((r,i)=>i?lr(i,e,r):r,n)}get[Symbol.toStringTag](){return di.toStringTag}constructor(e={}){super();const r=this.constructor.getDefaults(!0),i=Bo({},this.preprocess(r),this.preprocess(e));this.id=i.id||iP(),this.store=new y0e(i),this.animation=new MV(this),this.setup(),this.init(),this.postprocess(e)}init(){}get model(){return this._model}set model(e){this._model!==e&&(this._model=e)}preprocess(e,n){const r=e.id,o=this.constructor.applyPropHooks(this,e);return r==null&&n!==!0&&(o.id=iP()),o}postprocess(e){}setup(){this.store.on("change:*",e=>{const{key:n,current:r,previous:i,options:o}=e;this.notify("change:*",{key:n,options:o,current:r,previous:i,cell:this}),this.notify(`change:${n}`,{options:o,current:r,previous:i,cell:this});const a=n;(a==="source"||a==="target")&&this.notify("change:terminal",{type:a,current:r,previous:i,options:o,cell:this})}),this.store.on("changed",({options:e})=>this.notify("changed",{options:e,cell:this}))}notify(e,n){this.trigger(e,n);const r=this.model;return r&&(r.notify(`cell:${e}`,n),this.isNode()?r.notify(`node:${e}`,Object.assign(Object.assign({},n),{node:this})):this.isEdge()&&r.notify(`edge:${e}`,Object.assign(Object.assign({},n),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(e){return this.store===e.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(e,n){return e==null?this.store.get():this.store.get(e,n)}setProp(e,n,r){if(typeof e=="string")this.store.set(e,n,r);else{const i=this.preprocess(e,!0);this.store.set(Bo({},this.getProp(),i),n),this.postprocess(e)}return this}removeProp(e,n){return typeof e=="string"||Array.isArray(e)?this.store.removeByPath(e,n):this.store.remove(n),this}hasChanged(e){return e==null?this.store.hasChanged():this.store.hasChanged(e)}getPropByPath(e){return this.store.getByPath(e)}setPropByPath(e,n,r={}){return this.model&&(e==="children"?this._children=n?n.map(i=>this.model.getCell(i)).filter(i=>i!=null):null:e==="parent"&&(this._parent=n?this.model.getCell(n):null)),this.store.setByPath(e,n,r),this}removePropByPath(e,n={}){const r=Array.isArray(e)?e:e.split("/");return r[0]==="attrs"&&(n.dirty=!0),this.store.removeByPath(r,n),this}prop(e,n,r){return e==null?this.getProp():typeof e=="string"||Array.isArray(e)?arguments.length===1?this.getPropByPath(e):n==null?this.removePropByPath(e,r||{}):this.setPropByPath(e,n,r||{}):this.setProp(e,n||{})}previous(e){return this.store.getPrevious(e)}get zIndex(){return this.getZIndex()}set zIndex(e){e==null?this.removeZIndex():this.setZIndex(e)}getZIndex(){return this.store.get("zIndex")}setZIndex(e,n={}){return this.store.set("zIndex",e,n),this}removeZIndex(e={}){return this.store.remove("zIndex",e),this}toFront(e={}){const n=this.model;if(n){let r=n.getMaxZIndex(),i;e.deep?(i=this.getDescendants({deep:!0,breadthFirst:!0}),i.unshift(this)):i=[this],r=r-i.length+1;const o=n.total();let a=n.indexOf(this)!==o-i.length;a||(a=i.some((s,l)=>s.getZIndex()!==r+l)),a&&this.batchUpdate("to-front",()=>{r+=i.length,i.forEach((s,l)=>{s.setZIndex(r+l,e)})})}return this}toBack(e={}){const n=this.model;if(n){let r=n.getMinZIndex(),i;e.deep?(i=this.getDescendants({deep:!0,breadthFirst:!0}),i.unshift(this)):i=[this];let o=n.indexOf(this)!==0;o||(o=i.some((a,s)=>a.getZIndex()!==r+s)),o&&this.batchUpdate("to-back",()=>{r-=i.length,i.forEach((a,s)=>{a.setZIndex(r+s,e)})})}return this}get markup(){return this.getMarkup()}set markup(e){e==null?this.removeMarkup():this.setMarkup(e)}getMarkup(){let e=this.store.get("markup");return e==null&&(e=this.constructor.getMarkup()),e}setMarkup(e,n={}){return this.store.set("markup",e,n),this}removeMarkup(e={}){return this.store.remove("markup",e),this}get attrs(){return this.getAttrs()}set attrs(e){e==null?this.removeAttrs():this.setAttrs(e)}getAttrs(){const e=this.store.get("attrs");return e?Object.assign({},e):{}}setAttrs(e,n={}){if(e==null)this.removeAttrs(n);else{const r=i=>this.store.set("attrs",i,n);if(n.overwrite===!0)r(e);else{const i=this.getAttrs();n.deep===!1?r(Object.assign(Object.assign({},i),e)):r(Bo({},i,e))}}return this}replaceAttrs(e,n={}){return this.setAttrs(e,Object.assign(Object.assign({},n),{overwrite:!0}))}updateAttrs(e,n={}){return this.setAttrs(e,Object.assign(Object.assign({},n),{deep:!1}))}removeAttrs(e={}){return this.store.remove("attrs",e),this}getAttrDefinition(e){if(!e)return null;const r=this.constructor.getAttrHooks()||{};let i=r[e]||Jf.registry.get(e);if(!i){const o=lI(e);i=r[o]||Jf.registry.get(o)}return i||null}getAttrByPath(e){return e==null||e===""?this.getAttrs():this.getPropByPath(this.prefixAttrPath(e))}setAttrByPath(e,n,r={}){return this.setPropByPath(this.prefixAttrPath(e),n,r),this}removeAttrByPath(e,n={}){return this.removePropByPath(this.prefixAttrPath(e),n),this}prefixAttrPath(e){return Array.isArray(e)?["attrs"].concat(e):`attrs/${e}`}attr(e,n,r){return e==null?this.getAttrByPath():typeof e=="string"||Array.isArray(e)?arguments.length===1?this.getAttrByPath(e):n==null?this.removeAttrByPath(e,r||{}):this.setAttrByPath(e,n,r||{}):this.setAttrs(e,n||{})}get visible(){return this.isVisible()}set visible(e){this.setVisible(e)}setVisible(e,n={}){return this.store.set("visible",e,n),this}isVisible(){return this.store.get("visible")!==!1}show(e={}){return this.isVisible()||this.setVisible(!0,e),this}hide(e={}){return this.isVisible()&&this.setVisible(!1,e),this}toggleVisible(e,n={}){const r=typeof e=="boolean"?e:!this.isVisible(),i=typeof e=="boolean"?n:e;return r?this.show(i):this.hide(i),this}get data(){return this.getData()}set data(e){this.setData(e)}getData(){return this.store.get("data")}setData(e,n={}){if(e==null)this.removeData(n);else{const r=i=>this.store.set("data",i,n);if(n.overwrite===!0)r(e);else{const i=this.getData();n.deep===!1?r(typeof e=="object"?Object.assign(Object.assign({},i),e):e):r(Bo({},i,e))}}return this}replaceData(e,n={}){return this.setData(e,Object.assign(Object.assign({},n),{overwrite:!0}))}updateData(e,n={}){return this.setData(e,Object.assign(Object.assign({},n),{deep:!1}))}removeData(e={}){return this.store.remove("data",e),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const e=this.getParentId();if(e&&this.model){const n=this.model.getCell(e);return this._parent=n,n}return null}getChildren(){const e=this.store.get("children");if(e&&e.length&&this.model){const n=e.map(r=>{var i;return(i=this.model)===null||i===void 0?void 0:i.getCell(r)}).filter(r=>r!=null);return this._children=n,[...n]}return null}hasParent(){return this.parent!=null}isParentOf(e){return e!=null&&e.getParent()===this}isChildOf(e){return e!=null&&this.getParent()===e}eachChild(e,n){return this.children&&this.children.forEach(e,n),this}filterChild(e,n){return this.children?this.children.filter(e,n):[]}getChildCount(){return this.children==null?0:this.children.length}getChildIndex(e){return this.children==null?-1:this.children.indexOf(e)}getChildAt(e){return this.children!=null&&e>=0?this.children[e]:null}getAncestors(e={}){const n=[];let r=this.getParent();for(;r;)n.push(r),r=e.deep!==!1?r.getParent():null;return n}getDescendants(e={}){if(e.deep!==!1){if(e.breadthFirst){const n=[],r=this.getChildren()||[];for(;r.length>0;){const i=r.shift(),o=i.getChildren();n.push(i),o&&r.push(...o)}return n}{const n=this.getChildren()||[];return n.forEach(r=>{n.push(...r.getDescendants(e))}),n}}return this.getChildren()||[]}isDescendantOf(e,n={}){if(e==null)return!1;if(n.deep!==!1){let r=this.getParent();for(;r;){if(r===e)return!0;r=r.getParent()}return!1}return this.isChildOf(e)}isAncestorOf(e,n={}){return e==null?!1:e.isDescendantOf(this,n)}contains(e){return this.isAncestorOf(e)}getCommonAncestor(...e){return di.getCommonAncestor(this,...e)}setParent(e,n={}){return this._parent=e,e?this.store.set("parent",e.id,n):this.store.remove("parent",n),this}setChildren(e,n={}){return this._children=e,e!=null?this.store.set("children",e.map(r=>r.id),n):this.store.remove("children",n),this}unembed(e,n={}){const r=this.children;if(r!=null&&e!=null){const i=this.getChildIndex(e);i!==-1&&(r.splice(i,1),e.setParent(null,n),this.setChildren(r,n))}return this}embed(e,n={}){return e.addTo(this,n),this}addTo(e,n={}){return di.isCell(e)?e.addChild(this,n):e.addCell(this,n),this}insertTo(e,n,r={}){return e.insertChild(this,n,r),this}addChild(e,n={}){return this.insertChild(e,void 0,n)}insertChild(e,n,r={}){if(e!=null&&e!==this){const i=e.getParent(),o=this!==i;let a=n;if(a==null&&(a=this.getChildCount(),o||(a-=1)),i){const l=i.getChildren();if(l){const u=l.indexOf(e);u>=0&&(e.setParent(null,r),l.splice(u,1),i.setChildren(l,r))}}let s=this.children;if(s==null?(s=[],s.push(e)):s.splice(a,0,e),e.setParent(this,r),this.setChildren(s,r),o&&this.model){const l=this.model.getIncomingEdges(this),u=this.model.getOutgoingEdges(this);l&&l.forEach(c=>c.updateParent(r)),u&&u.forEach(c=>c.updateParent(r))}this.model&&this.model.addCell(e,r)}return this}removeFromParent(e={}){const n=this.getParent();if(n!=null){const r=n.getChildIndex(this);n.removeChildAt(r,e)}return this}removeChild(e,n={}){const r=this.getChildIndex(e);return this.removeChildAt(r,n)}removeChildAt(e,n={}){const r=this.getChildAt(e);return this.children!=null&&r!=null&&(this.unembed(r,n),r.remove(n)),r}remove(e={}){return this.batchUpdate("remove",()=>{const n=this.getParent();n&&n.removeChild(this,e),e.deep!==!1&&this.eachChild(r=>r.remove(e)),this.model&&this.model.removeCell(this,e)}),this}transition(e,n,r={},i="/"){return this.animation.start(e,n,r,i)}stopTransition(e,n,r="/"){return this.animation.stop(e,n,r),this}getTransitions(){return this.animation.get()}translate(e,n,r){return this}scale(e,n,r,i){return this}addTools(e,n,r){const i=Array.isArray(e)?e:[e],o=typeof n=="string"?n:null,a=typeof n=="object"?n:typeof r=="object"?r:{};if(a.reset)return this.setTools({name:o,items:i,local:a.local},a);let s=Hi(this.getTools());if(s==null||o==null||s.name===o)return s==null&&(s={}),s.items||(s.items=[]),s.name=o,s.items=[...s.items,...i],this.setTools(Object.assign({},s),a)}setTools(e,n={}){return e==null?this.removeTools():this.store.set("tools",di.normalizeTools(e),n),this}getTools(){return this.store.get("tools")}removeTools(e={}){return this.store.remove("tools",e),this}hasTools(e){const n=this.getTools();return n==null?!1:e==null?!0:n.name===e}hasTool(e){const n=this.getTools();return n==null?!1:n.items.some(r=>typeof r=="string"?r===e:r.name===e)}removeTool(e,n={}){const r=Hi(this.getTools());if(r){let i=!1;const o=r.items.slice(),a=s=>{o.splice(s,1),i=!0};if(typeof e=="number")a(e);else for(let s=o.length-1;s>=0;s-=1){const l=o[s];(typeof l=="string"?l===e:l.name===e)&&a(s)}i&&(r.items=o,this.setTools(r,n))}return this}getBBox(e){return new bn}getConnectionPoint(e,n){return new Ve}toJSON(e={}){const n=Object.assign({},this.store.get()),r=Object.prototype.toString,i=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!n.shape){const p=this.constructor;throw new Error(`Unable to serialize ${i} missing "shape" prop, check the ${i} "${p.name||r.call(p)}"`)}const o=this.constructor,a=e.diff===!0,s=n.attrs||{},l=o.getDefaults(!0),u=a?this.preprocess(l,!0):l,c=u.attrs||{},f={};Object.entries(n).forEach(([p,v])=>{if(v!=null&&!Array.isArray(v)&&typeof v=="object"&&!Gc(v))throw new Error(`Can only serialize ${i} with plain-object props, but got a "${r.call(v)}" type of key "${p}" on ${i} "${this.id}"`);if(p!=="attrs"&&p!=="shape"&&a){const g=u[p];Ei(v,g)&&delete n[p]}}),Object.keys(s).forEach(p=>{const v=s[p],g=c[p];Object.keys(v).forEach(m=>{const y=v[m],b=g?g[m]:null;y!=null&&typeof y=="object"&&!Array.isArray(y)?Object.keys(y).forEach(w=>{const S=y[w];if(g==null||b==null||!$o(b)||!Ei(b[w],S)){f[p]==null&&(f[p]={}),f[p][m]==null&&(f[p][m]={});const x=f[p][m];x[w]=S}}):(g==null||!Ei(b,y))&&(f[p]==null&&(f[p]={}),f[p][m]=y)})});const d=Object.assign(Object.assign({},n),{attrs:pde(f)?void 0:f});d.attrs==null&&delete d.attrs;const h=d;return h.angle===0&&delete h.angle,Hi(h)}clone(e={}){if(!e.deep){const r=Object.assign({},this.store.get());e.keepId||delete r.id,delete r.parent,delete r.children;const i=this.constructor;return new i(r)}return di.deepClone(this)[this.id]}findView(e){return e.findViewByCell(this)}startBatch(e,n={},r=this.model){return this.notify("batch:start",{name:e,data:n,cell:this}),r&&r.startBatch(e,Object.assign(Object.assign({},n),{cell:this})),this}stopBatch(e,n={},r=this.model){return r&&r.stopBatch(e,Object.assign(Object.assign({},n),{cell:this})),this.notify("batch:stop",{name:e,data:n,cell:this}),this}batchUpdate(e,n,r){const i=this.model;this.startBatch(e,r,i);const o=n();return this.stopBatch(e,r,i),o}dispose(){this.removeFromParent(),this.store.dispose()}}di.defaults={};di.attrHooks={};di.propHooks=[];Lpt([vo.dispose()],di.prototype,"dispose",null);(function(t){function e(n){return typeof n=="string"?{items:[n]}:Array.isArray(n)?{items:n}:n.items?n:{items:[n]}}t.normalizeTools=e})(di||(di={}));(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.isNode=="function"&&typeof i.isEdge=="function"&&typeof i.prop=="function"&&typeof i.attr=="function"}t.isCell=e})(di||(di={}));(function(t){function e(...o){const a=o.filter(l=>l!=null).map(l=>l.getAncestors()).sort((l,u)=>l.length-u.length);return a.shift().find(l=>a.every(u=>u.includes(l)))||null}t.getCommonAncestor=e;function n(o,a={}){let s=null;for(let l=0,u=o.length;l<u;l+=1){const c=o[l];let f=c.getBBox(a);if(f){if(c.isNode()){const d=c.getAngle();d!=null&&d!==0&&(f=f.bbox(d))}s=s==null?f:s.union(f)}}return s}t.getCellsBBox=n;function r(o){const a=[o,...o.getDescendants({deep:!0})];return t.cloneCells(a)}t.deepClone=r;function i(o){const a=bde(o),s=a.reduce((l,u)=>(l[u.id]=u.clone(),l),{});return a.forEach(l=>{const u=s[l.id];if(u.isEdge()){const d=u.getSourceCellId(),h=u.getTargetCellId();d&&s[d]&&u.setSource(Object.assign(Object.assign({},u.getSource()),{cell:s[d].id})),h&&s[h]&&u.setTarget(Object.assign(Object.assign({},u.getTarget()),{cell:s[h].id}))}const c=l.getParent();c&&s[c.id]&&u.setParent(s[c.id]);const f=l.getChildren();if(f&&f.length){const d=f.reduce((h,p)=>(s[p.id]&&h.push(s[p.id]),h),[]);d.length>0&&u.setChildren(d)}}),s}t.cloneCells=i})(di||(di={}));(function(t){t.config({propHooks(e){var{tools:n}=e,r=_0e(e,["tools"]);return n&&(r.tools=t.normalizeTools(n)),r}})})(di||(di={}));var _1;(function(t){let e,n;function r(a,s){return s?e!=null&&e.exist(a):n!=null&&n.exist(a)}t.exist=r;function i(a){e=a}t.setEdgeRegistry=i;function o(a){n=a}t.setNodeRegistry=o})(_1||(_1={}));class Dpt{constructor(e){this.ports=[],this.groups={},this.init(Hi(e))}getPorts(){return this.ports}getGroup(e){return e!=null?this.groups[e]:null}getPortsByGroup(e){return this.ports.filter(n=>n.group===e||n.group==null&&e==null)}getPortsLayoutByGroup(e,n){const r=this.getPortsByGroup(e),i=e?this.getGroup(e):null,o=i?i.position:null,a=o?o.name:null;let s;if(a!=null){const f=bm.registry.get(a);if(f==null)return bm.registry.onNotFound(a);s=f}else s=bm.presets.left;const l=r.map(f=>f&&f.position&&f.position.args||{}),u=o&&o.args||{};return s(l,n,u).map((f,d)=>{const h=r[d];return{portLayout:f,portId:h.id,portSize:h.size,portAttrs:h.attrs,labelSize:h.label.size,labelLayout:this.getPortLabelLayout(h,Ve.create(f.position),n)}})}init(e){const{groups:n,items:r}=e;n!=null&&Object.keys(n).forEach(i=>{this.groups[i]=this.parseGroup(n[i])}),Array.isArray(r)&&r.forEach(i=>{this.ports.push(this.parsePort(i))})}parseGroup(e){return Object.assign(Object.assign({},e),{label:this.getLabel(e,!0),position:this.getPortPosition(e.position,!0)})}parsePort(e){const n=Object.assign({},e),r=this.getGroup(e.group)||{};return n.markup=n.markup||r.markup,n.attrs=Bo({},r.attrs,n.attrs),n.position=this.createPosition(r,n),n.label=Bo({},r.label,this.getLabel(n)),n.zIndex=this.getZIndex(r,n),n.size=Object.assign(Object.assign({},r.size),n.size),n}getZIndex(e,n){return typeof n.zIndex=="number"?n.zIndex:typeof e.zIndex=="number"||e.zIndex==="auto"?e.zIndex:"auto"}createPosition(e,n){return Bo({name:"left",args:{}},e.position,{args:n.args})}getPortPosition(e,n=!1){if(e==null){if(n)return{name:"left",args:{}}}else{if(typeof e=="string")return{name:e,args:{}};if(Array.isArray(e))return{name:"absolute",args:{x:e[0],y:e[1]}};if(typeof e=="object")return e}return{args:{}}}getPortLabelPosition(e,n=!1){if(e==null){if(n)return{name:"left",args:{}}}else{if(typeof e=="string")return{name:e,args:{}};if(typeof e=="object")return e}return{args:{}}}getLabel(e,n=!1){const r=e.label||{};return r.position=this.getPortLabelPosition(r.position,n),r}getPortLabelLayout(e,n,r){const i=e.label.position.name||"left",o=e.label.position.args||{},a=h1.registry.get(i)||h1.presets.left;return a?a(n,r,o):null}}var QI=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let na=class w0e extends di{get[Symbol.toStringTag](){return w0e.toStringTag}constructor(e={}){super(e),this.initPorts()}preprocess(e,n){const{x:r,y:i,width:o,height:a}=e,s=QI(e,["x","y","width","height"]);if(r!=null||i!=null){const l=s.position;s.position=Object.assign(Object.assign({},l),{x:r??(l?l.x:0),y:i??(l?l.y:0)})}if(o!=null||a!=null){const l=s.size;s.size=Object.assign(Object.assign({},l),{width:o??(l?l.width:0),height:a??(l?l.height:0)})}return super.preprocess(s,n)}isNode(){return!0}size(e,n,r){return e===void 0?this.getSize():typeof e=="number"?this.setSize(e,n,r):this.setSize(e,n)}getSize(){const e=this.store.get("size");return e?Object.assign({},e):{width:1,height:1}}setSize(e,n,r){return typeof e=="object"?this.resize(e.width,e.height,n):this.resize(e,n,r),this}resize(e,n,r={}){this.startBatch("resize",r);const i=r.direction;if(i){const o=this.getSize();switch(i){case"left":case"right":n=o.height;break;case"top":case"bottom":e=o.width;break}let s={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[i];const l=xi.normalize(this.getAngle()||0);r.absolute&&(s+=Math.floor((l+45)/90),s%=4);const u=this.getBBox();let c;s===0?c=u.getBottomLeft():s===1?c=u.getCorner():s===2?c=u.getTopRight():c=u.getOrigin();const f=c.clone().rotate(-l,u.getCenter()),d=Math.sqrt(e*e+n*n)/2;let h=s*Math.PI/2;h+=Math.atan(s%2===0?n/e:e/n),h-=xi.toRad(l);const v=Ve.fromPolar(d,h,f).clone().translate(e/-2,n/-2);this.store.set("size",{width:e,height:n},r),this.setPosition(v.x,v.y,r)}else this.store.set("size",{width:e,height:n},r);return this.stopBatch("resize",r),this}scale(e,n,r,i={}){const o=this.getBBox().scale(e,n,r??void 0);return this.startBatch("scale",i),this.setPosition(o.x,o.y,i),this.resize(o.width,o.height,i),this.stopBatch("scale"),this}position(e,n,r){return typeof e=="number"?this.setPosition(e,n,r):this.getPosition(e)}getPosition(e={}){if(e.relative){const r=this.getParent();if(r!=null&&r.isNode()){const i=this.getPosition(),o=r.getPosition();return{x:i.x-o.x,y:i.y-o.y}}}const n=this.store.get("position");return n?Object.assign({},n):{x:0,y:0}}setPosition(e,n,r={}){let i,o,a;if(typeof e=="object"?(i=e.x,o=e.y,a=n||{}):(i=e,o=n,a=r||{}),a.relative){const s=this.getParent();if(s!=null&&s.isNode()){const l=s.getPosition();i+=l.x,o+=l.y}}if(a.deep){const s=this.getPosition();this.translate(i-s.x,o-s.y,a)}else this.store.set("position",{x:i,y:o},a);return this}translate(e=0,n=0,r={}){if(e===0&&n===0)return this;r.translateBy=r.translateBy||this.id;const i=this.getPosition();if(r.restrict!=null&&r.translateBy===this.id){const a=this.getBBox({deep:!0}),s=r.restrict,l=i.x-a.x,u=i.y-a.y,c=Math.max(s.x+l,Math.min(s.x+s.width+l-a.width,i.x+e)),f=Math.max(s.y+u,Math.min(s.y+s.height+u-a.height,i.y+n));e=c-i.x,n=f-i.y}const o={x:i.x+e,y:i.y+n};return r.tx=e,r.ty=n,r.transition?(typeof r.transition!="object"&&(r.transition={}),this.transition("position",o,Object.assign(Object.assign({},r.transition),{interp:tm.object})),this.eachChild(a=>{var s;((s=r.exclude)===null||s===void 0?void 0:s.includes(a))||a.translate(e,n,r)})):(this.startBatch("translate",r),this.store.set("position",o,r),this.eachChild(a=>{var s;((s=r.exclude)===null||s===void 0?void 0:s.includes(a))||a.translate(e,n,r)}),this.stopBatch("translate",r)),this}angle(e,n){return e==null?this.getAngle():this.rotate(e,n)}getAngle(){return this.store.get("angle",0)}rotate(e,n={}){const r=this.getAngle();if(n.center){const i=this.getSize(),o=this.getPosition(),a=this.getBBox().getCenter();a.rotate(r-e,n.center);const s=a.x-i.width/2-o.x,l=a.y-i.height/2-o.y;this.startBatch("rotate",{angle:e,options:n}),this.setPosition(o.x+s,o.y+l,n),this.rotate(e,Object.assign(Object.assign({},n),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",n.absolute?e:(r+e)%360,n);return this}getBBox(e={}){if(e.deep){const n=this.getDescendants({deep:!0,breadthFirst:!0});return n.push(this),di.getCellsBBox(n)}return bn.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(e,n){const r=this.getBBox(),i=r.getCenter(),o=e.getTerminal(n);if(o==null)return i;const a=o.port;if(!a||!this.hasPort(a))return i;const s=this.getPort(a);if(!s||!s.group)return i;const u=this.getPortsPosition(s.group)[a].position,c=Ve.create(u).translate(r.getOrigin()),f=this.getAngle();return f&&c.rotate(-f,i),c}fit(e={}){const r=(this.getChildren()||[]).filter(u=>u.isNode());if(r.length===0)return this;this.startBatch("fit-embeds",e),e.deep&&r.forEach(u=>u.fit(e));let{x:i,y:o,width:a,height:s}=di.getCellsBBox(r);const l=iv(e.padding);return i-=l.left,o-=l.top,a+=l.left+l.right,s+=l.bottom+l.top,this.store.set({position:{x:i,y:o},size:{width:a,height:s}},e),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(e){this.setPortContainerMarkup(e)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||fo.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(e,n={}){return this.store.set("portContainerMarkup",fo.clone(e),n),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(e){this.setPortMarkup(e)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||fo.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(e,n={}){return this.store.set("portMarkup",fo.clone(e),n),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(e){this.setPortLabelMarkup(e)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||fo.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(e,n={}){return this.store.set("portLabelMarkup",fo.clone(e),n),this}get ports(){const e=this.store.get("ports",{items:[]});return e.items==null&&(e.items=[]),e}getPorts(){return Hi(this.ports.items)}getPortsByGroup(e){return this.getPorts().filter(n=>n.group===e)}getPort(e){return Hi(this.ports.items.find(n=>n.id&&n.id===e))}getPortAt(e){return this.ports.items[e]||null}hasPorts(){return this.ports.items.length>0}hasPort(e){return this.getPortIndex(e)!==-1}getPortIndex(e){const n=typeof e=="string"?e:e.id;return n!=null?this.ports.items.findIndex(r=>r.id===n):-1}getPortsPosition(e){const n=this.getSize();return this.port.getPortsLayoutByGroup(e,new bn(0,0,n.width,n.height)).reduce((i,o)=>{const a=o.portLayout;return i[o.portId]={position:Object.assign({},a.position),angle:a.angle||0},i},{})}getPortProp(e,n){return this.getPropByPath(this.prefixPortPath(e,n))}setPortProp(e,n,r,i){if(typeof n=="string"||Array.isArray(n)){const s=this.prefixPortPath(e,n),l=r;return this.setPropByPath(s,l,i)}const o=this.prefixPortPath(e),a=n;return this.setPropByPath(o,a,r)}removePortProp(e,n,r){return typeof n=="string"||Array.isArray(n)?this.removePropByPath(this.prefixPortPath(e,n),r):this.removePropByPath(this.prefixPortPath(e),n)}portProp(e,n,r,i){return n==null?this.getPortProp(e):typeof n=="string"||Array.isArray(n)?arguments.length===2?this.getPortProp(e,n):r==null?this.removePortProp(e,n,i):this.setPortProp(e,n,r,i):this.setPortProp(e,n,r)}prefixPortPath(e,n){const r=this.getPortIndex(e);if(r===-1)throw new Error(`Unable to find port with id: "${e}"`);return n==null||n===""?["ports","items",`${r}`]:Array.isArray(n)?["ports","items",`${r}`,...n]:`ports/items/${r}/${n}`}addPort(e,n){const r=[...this.ports.items];return r.push(e),this.setPropByPath("ports/items",r,n),this}addPorts(e,n){return this.setPropByPath("ports/items",[...this.ports.items,...e],n),this}insertPort(e,n,r){const i=[...this.ports.items];return i.splice(e,0,n),this.setPropByPath("ports/items",i,r),this}removePort(e,n={}){return this.removePortAt(this.getPortIndex(e),n)}removePortAt(e,n={}){if(e>=0){const r=[...this.ports.items];r.splice(e,1),n.rewrite=!0,this.setPropByPath("ports/items",r,n)}return this}removePorts(e,n){let r;if(Array.isArray(e)){if(r=n||{},e.length){r.rewrite=!0;const o=[...this.ports.items].filter(a=>!e.some(s=>{const l=typeof s=="string"?s:s.id;return a.id===l}));this.setPropByPath("ports/items",o,r)}}else r=e||{},r.rewrite=!0,this.setPropByPath("ports/items",[],r);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(e,n){return this.port.getPortsLayoutByGroup(e,n)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const e=this.ports,n={};e.items.forEach(a=>{a.id&&(n[a.id]=!0)});const r={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(a=>{a.id&&!n[a.id]&&(r[a.id]=!0)});const o=this.model;o&&!pde(r)&&(o.getConnectedEdges(this,{incoming:!0}).forEach(l=>{const u=l.getTargetPortId();u&&r[u]&&l.remove()}),o.getConnectedEdges(this,{outgoing:!0}).forEach(l=>{const u=l.getSourcePortId();u&&r[u]&&l.remove()}))}validatePorts(){const e={},n=[];return this.ports.items.forEach(r=>{typeof r!="object"&&n.push(`Invalid port ${r}.`),r.id==null&&(r.id=this.generatePortId()),e[r.id]&&n.push("Duplicitied port id."),e[r.id]=!0}),n}generatePortId(){return iP()}updatePortData(){const e=this.validatePorts();if(e.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(e.join(" "));const n=this.port?this.port.getPorts():null;this.port=new Dpt(this.ports);const r=this.port.getPorts(),i=n?r.filter(a=>n.find(s=>s.id===a.id)?null:a):[...r],o=n?n.filter(a=>r.find(s=>s.id===a.id)?null:a):[];i.length>0&&this.notify("ports:added",{added:i,cell:this,node:this}),o.length>0&&this.notify("ports:removed",{removed:o,cell:this,node:this})}};na.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}};(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.isNode=="function"&&typeof i.isEdge=="function"&&typeof i.prop=="function"&&typeof i.attr=="function"&&typeof i.size=="function"&&typeof i.position=="function"}t.isNode=e})(na||(na={}));(function(t){t.config({propHooks(e){var{ports:n}=e,r=QI(e,["ports"]);return n&&(r.ports=Array.isArray(n)?{items:n}:n),r}})})(na||(na={}));(function(t){t.registry=ta.create({type:"node",process(e,n){if(_1.exist(e,!0))throw new Error(`Node with name '${e}' was registered by anthor Edge`);if(typeof n=="function")return n.config({shape:e}),n;let r=t;const{inherit:i}=n,o=QI(n,["inherit"]);if(i)if(typeof i=="string"){const s=this.get(i);s==null?this.onNotFound(i,"inherited"):r=s}else r=i;o.constructorName==null&&(o.constructorName=e);const a=r.define.call(r,o);return a.config({shape:e}),a}}),_1.setNodeRegistry(t.registry)})(na||(na={}));(function(t){let e=0;function n(o){return o?bj(o):(e+=1,`CustomNode${e}`)}function r(o){const{constructorName:a,overwrite:s}=o,l=QI(o,["constructorName","overwrite"]),u=mj(n(a||l.shape),this);return u.config(l),l.shape&&t.registry.register(l.shape,u,s),u}t.define=r;function i(o){const a=o.shape||"rect",s=t.registry.get(a);return s?new s(o):t.registry.onNotFound(a)}t.create=i})(na||(na={}));var eR=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let jo=class S0e extends di{get[Symbol.toStringTag](){return S0e.toStringTag}constructor(e={}){super(e)}preprocess(e,n){const{source:r,sourceCell:i,sourcePort:o,sourcePoint:a,target:s,targetCell:l,targetPort:u,targetPoint:c}=e,d=eR(e,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),h=p=>typeof p=="string"||typeof p=="number";if(r!=null)if(di.isCell(r))d.source={cell:r.id};else if(h(r))d.source={cell:r};else if(Ve.isPoint(r))d.source=r.toJSON();else if(Array.isArray(r))d.source={x:r[0],y:r[1]};else{const p=r.cell;di.isCell(p)?d.source=Object.assign(Object.assign({},r),{cell:p.id}):d.source=r}if(i!=null||o!=null){let p=d.source;if(i!=null){const v=h(i)?i:i.id;p?p.cell=v:p=d.source={cell:v}}o!=null&&p&&(p.port=o)}else a!=null&&(d.source=Ve.create(a).toJSON());if(s!=null)if(di.isCell(s))d.target={cell:s.id};else if(h(s))d.target={cell:s};else if(Ve.isPoint(s))d.target=s.toJSON();else if(Array.isArray(s))d.target={x:s[0],y:s[1]};else{const p=s.cell;di.isCell(p)?d.target=Object.assign(Object.assign({},s),{cell:p.id}):d.target=s}if(l!=null||u!=null){let p=d.target;if(l!=null){const v=h(l)?l:l.id;p?p.cell=v:p=d.target={cell:v}}u!=null&&p&&(p.port=u)}else c!=null&&(d.target=Ve.create(c).toJSON());return super.preprocess(d,n)}setup(){super.setup(),this.on("change:labels",e=>this.onLabelsChanged(e)),this.on("change:vertices",e=>this.onVertexsChanged(e))}isEdge(){return!0}disconnect(e={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},e),this}get source(){return this.getSource()}set source(e){this.setSource(e)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(e,n,r={}){return this.setTerminal("source",e,n,r)}get target(){return this.getTarget()}set target(e){this.setTarget(e)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(e,n,r={}){return this.setTerminal("target",e,n,r)}getTerminal(e){return Object.assign({},this.store.get(e))}setTerminal(e,n,r,i={}){if(di.isCell(n))return this.store.set(e,Bo({},r,{cell:n.id}),i),this;const o=n;return Ve.isPoint(n)||o.x!=null&&o.y!=null?(this.store.set(e,Bo({},r,{x:o.x,y:o.y}),i),this):(this.store.set(e,Hi(n),i),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(e){const n=this[e];if(Ve.isPointLike(n))return Ve.create(n);const r=this.getTerminalCell(e);return r?r.getConnectionPoint(this,e):new Ve}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(e){if(this.model){const n=e==="source"?this.getSourceCellId():this.getTargetCellId();if(n)return this.model.getCell(n)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(e){let n=this;const r={};for(;n&&n.isEdge();){if(r[n.id])return null;r[n.id]=!0,n=n.getTerminalCell(e)}return n&&n.isNode()?n:null}get router(){return this.getRouter()}set router(e){e==null?this.removeRouter():this.setRouter(e)}getRouter(){return this.store.get("router")}setRouter(e,n,r){return typeof e=="object"?this.store.set("router",e,n):this.store.set("router",{name:e,args:n},r),this}removeRouter(e={}){return this.store.remove("router",e),this}get connector(){return this.getConnector()}set connector(e){e==null?this.removeConnector():this.setConnector(e)}getConnector(){return this.store.get("connector")}setConnector(e,n,r){return typeof e=="object"?this.store.set("connector",e,n):this.store.set("connector",{name:e,args:n},r),this}removeConnector(e={}){return this.store.remove("connector",e)}getDefaultLabel(){const e=this.constructor,n=this.store.get("defaultLabel")||e.defaultLabel||{};return Hi(n)}get labels(){return this.getLabels()}set labels(e){this.setLabels(e)}getLabels(){return[...this.store.get("labels",[])].map(e=>this.parseLabel(e))}setLabels(e,n={}){return this.store.set("labels",Array.isArray(e)?e:[e],n),this}insertLabel(e,n,r={}){const i=this.getLabels(),o=i.length;let a=n!=null&&Number.isFinite(n)?n:o;return a<0&&(a=o+a+1),i.splice(a,0,this.parseLabel(e)),this.setLabels(i,r)}appendLabel(e,n={}){return this.insertLabel(e,-1,n)}getLabelAt(e){const n=this.getLabels();return e!=null&&Number.isFinite(e)?this.parseLabel(n[e]):null}setLabelAt(e,n,r={}){if(e!=null&&Number.isFinite(e)){const i=this.getLabels();i[e]=this.parseLabel(n),this.setLabels(i,r)}return this}removeLabelAt(e,n={}){const r=this.getLabels(),i=e!=null&&Number.isFinite(e)?e:-1,o=r.splice(i,1);return this.setLabels(r,n),o.length?o[0]:null}parseLabel(e){return typeof e=="string"?this.constructor.parseStringLabel(e):e}onLabelsChanged({previous:e,current:n}){const r=e&&n?n.filter(o=>e.find(a=>o===a||Ei(o,a))?null:o):n?[...n]:[],i=e&&n?e.filter(o=>n.find(a=>o===a||Ei(o,a))?null:o):e?[...e]:[];r.length>0&&this.notify("labels:added",{added:r,cell:this,edge:this}),i.length>0&&this.notify("labels:removed",{removed:i,cell:this,edge:this})}get vertices(){return this.getVertices()}set vertices(e){this.setVertices(e)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(e,n={}){const r=Array.isArray(e)?e:[e];return this.store.set("vertices",r.map(i=>Ve.toJSON(i)),n),this}insertVertex(e,n,r={}){const i=this.getVertices(),o=i.length;let a=n!=null&&Number.isFinite(n)?n:o;return a<0&&(a=o+a+1),i.splice(a,0,Ve.toJSON(e)),this.setVertices(i,r)}appendVertex(e,n={}){return this.insertVertex(e,-1,n)}getVertexAt(e){return e!=null&&Number.isFinite(e)?this.getVertices()[e]:null}setVertexAt(e,n,r={}){if(e!=null&&Number.isFinite(e)){const i=this.getVertices();i[e]=n,this.setVertices(i,r)}return this}removeVertexAt(e,n={}){const r=this.getVertices(),i=e!=null&&Number.isFinite(e)?e:-1;return r.splice(i,1),this.setVertices(r,n)}onVertexsChanged({previous:e,current:n}){const r=e&&n?n.filter(o=>e.find(a=>Ve.equals(o,a))?null:o):n?[...n]:[],i=e&&n?e.filter(o=>n.find(a=>Ve.equals(o,a))?null:o):e?[...e]:[];r.length>0&&this.notify("vertexs:added",{added:r,cell:this,edge:this}),i.length>0&&this.notify("vertexs:removed",{removed:i,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||fo.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}translate(e,n,r={}){return r.translateBy=r.translateBy||this.id,r.tx=e,r.ty=n,this.applyToPoints(i=>({x:(i.x||0)+e,y:(i.y||0)+n}),r)}scale(e,n,r,i={}){return this.applyToPoints(o=>Ve.create(o).scale(e,n,r).toJSON(),i)}applyToPoints(e,n={}){const r={},i=this.getSource(),o=this.getTarget();Ve.isPointLike(i)&&(r.source=e(i)),Ve.isPointLike(o)&&(r.target=e(o));const a=this.getVertices();return a.length>0&&(r.vertices=a.map(e)),this.store.set(r,n),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const e=[this.getSourcePoint(),...this.getVertices().map(n=>Ve.create(n)),this.getTargetPoint()];return new Os(e)}updateParent(e){let n=null;const r=this.getSourceCell(),i=this.getTargetCell(),o=this.getParent();return r&&i&&(r===i||r.isDescendantOf(i)?n=i:i.isDescendantOf(r)?n=r:n=di.getCommonAncestor(r,i)),o&&n&&n.id!==o.id&&o.unembed(this,e),n&&(!o||o.id!==n.id)&&n.embed(this,e),n}hasLoop(e={}){const n=this.getSource(),r=this.getTarget(),i=n.cell,o=r.cell;if(!i||!o)return!1;let a=i===o;if(!a&&e.deep&&this._model){const s=this.getSourceCell(),l=this.getTargetCell();s&&l&&(a=s.isAncestorOf(l,e)||l.isAncestorOf(s,e))}return a}getFragmentAncestor(){const e=[this,this.getSourceNode(),this.getTargetNode()].filter(n=>n!=null);return this.getCommonAncestor(...e)}isFragmentDescendantOf(e){const n=this.getFragmentAncestor();return!!n&&(n.id===e.id||n.isDescendantOf(e))}};jo.defaults={};(function(t){function e(n,r){const i=n,o=r;return i.cell===o.cell?i.port===o.port||i.port==null&&o.port==null:!1}t.equalTerminals=e})(jo||(jo={}));(function(t){t.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}};function e(n){return{attrs:{label:{text:n}}}}t.parseStringLabel=e})(jo||(jo={}));(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.isNode=="function"&&typeof i.isEdge=="function"&&typeof i.prop=="function"&&typeof i.attr=="function"&&typeof i.disconnect=="function"&&typeof i.getSource=="function"&&typeof i.getTarget=="function"}t.isEdge=e})(jo||(jo={}));(function(t){t.registry=ta.create({type:"edge",process(e,n){if(_1.exist(e,!1))throw new Error(`Edge with name '${e}' was registered by anthor Node`);if(typeof n=="function")return n.config({shape:e}),n;let r=t;const{inherit:i="edge"}=n,o=eR(n,["inherit"]);if(typeof i=="string"){const s=this.get(i||"edge");s==null&&i?this.onNotFound(i,"inherited"):r=s}else r=i;o.constructorName==null&&(o.constructorName=e);const a=r.define.call(r,o);return a.config({shape:e}),a}}),_1.setEdgeRegistry(t.registry)})(jo||(jo={}));(function(t){let e=0;function n(o){return o?bj(o):(e+=1,`CustomEdge${e}`)}function r(o){const{constructorName:a,overwrite:s}=o,l=eR(o,["constructorName","overwrite"]),u=mj(n(a||l.shape),this);return u.config(l),l.shape&&t.registry.register(l.shape,u,s),u}t.define=r;function i(o){const a=o.shape||"edge",s=t.registry.get(a);return s?new s(o):t.registry.onNotFound(a)}t.create=i})(jo||(jo={}));(function(t){const e="basic.edge";t.config({shape:e,propHooks(n){const{label:r,vertices:i}=n,o=eR(n,["label","vertices"]);if(r){o.labels==null&&(o.labels=[]);const a=typeof r=="string"?t.parseStringLabel(r):r;o.labels.push(a)}return i&&Array.isArray(i)&&(o.vertices=i.map(a=>Ve.create(a).toJSON())),o}}),t.registry.register(e,t)})(jo||(jo={}));var Npt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class gP extends vo{constructor(e,n={}){super(),this.length=0,this.comparator=n.comparator||"zIndex",this.clean(),e&&this.reset(e,{silent:!0})}toJSON(){return this.cells.map(e=>e.toJSON())}add(e,n,r){let i,o;typeof n=="number"?(i=n,o=Object.assign({merge:!1},r)):(i=this.length,o=Object.assign({merge:!1},n)),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);const a=Array.isArray(e)?e:[e],s=this.comparator&&typeof n!="number"&&o.sort!==!1,l=this.comparator||null;let u=!1;const c=[],f=[];return a.forEach(d=>{const h=this.get(d);h?o.merge&&!d.isSameStore(h)&&(h.setProp(d.getProp(),r),f.push(h),s&&!u&&(l==null||typeof l=="function"?u=h.hasChanged():typeof l=="string"?u=h.hasChanged(l):u=l.some(p=>h.hasChanged(p)))):(c.push(d),this.reference(d))}),c.length&&(s&&(u=!0),this.cells.splice(i,0,...c),this.length=this.cells.length),u&&this.sort({silent:!0}),o.silent||(c.forEach((d,h)=>{const p={cell:d,index:i+h,options:o};this.trigger("added",p),o.dryrun||d.notify("added",Object.assign({},p))}),u&&this.trigger("sorted"),(c.length||f.length)&&this.trigger("updated",{added:c,merged:f,removed:[],options:o})),this}remove(e,n={}){const r=Array.isArray(e)?e:[e],i=this.removeCells(r,n);return!n.silent&&i.length>0&&this.trigger("updated",{options:n,removed:i,added:[],merged:[]}),Array.isArray(e)?i:i[0]}removeCells(e,n){const r=[];for(let i=0;i<e.length;i+=1){const o=this.get(e[i]);if(o==null)continue;const a=this.cells.indexOf(o);this.cells.splice(a,1),this.length-=1,delete this.map[o.id],r.push(o),this.unreference(o),n.dryrun||o.remove(),n.silent||(this.trigger("removed",{cell:o,index:a,options:n}),n.dryrun||o.notify("removed",{cell:o,index:a,options:n}))}return r}reset(e,n={}){const r=this.cells.slice();if(r.forEach(i=>this.unreference(i)),this.clean(),this.add(e,Object.assign({silent:!0},n)),!n.silent){const i=this.cells.slice();this.trigger("reseted",{options:n,previous:r,current:i});const o=[],a=[];i.forEach(s=>{r.some(u=>u.id===s.id)||o.push(s)}),r.forEach(s=>{i.some(u=>u.id===s.id)||a.push(s)}),this.trigger("updated",{options:n,added:o,removed:a,merged:[]})}return this}push(e,n){return this.add(e,this.length,n)}pop(e){const n=this.at(this.length-1);return this.remove(n,e)}unshift(e,n){return this.add(e,0,n)}shift(e){const n=this.at(0);return this.remove(n,e)}get(e){if(e==null)return null;const n=typeof e=="string"||typeof e=="number"?e:e.id;return this.map[n]||null}has(e){return this.get(e)!=null}at(e){return e<0&&(e+=this.length),this.cells[e]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(e){return this.cells.indexOf(e)}toArray(){return this.cells.slice()}sort(e={}){return this.comparator!=null&&(this.cells=gz(this.cells,this.comparator),e.silent||this.trigger("sorted")),this}clone(){const e=this.constructor;return new e(this.cells.slice(),{comparator:this.comparator})}reference(e){this.map[e.id]=e,e.on("*",this.notifyCellEvent,this)}unreference(e){e.off("*",this.notifyCellEvent,this),delete this.map[e.id]}notifyCellEvent(e,n){const r=n.cell;this.trigger(`cell:${e}`,n),r&&(r.isNode()?this.trigger(`node:${e}`,Object.assign(Object.assign({},n),{node:r})):r.isEdge()&&this.trigger(`edge:${e}`,Object.assign(Object.assign({},n),{edge:r})))}clean(){this.length=0,this.cells=[],this.map={}}dispose(){this.reset([])}}Npt([gP.dispose()],gP.prototype,"dispose",null);var Bpt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};let Js=class Mk extends vo{get[Symbol.toStringTag](){return Mk.toStringTag}constructor(e=[]){super(),this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new gP(e),this.setup()}notify(e,n){this.trigger(e,n);const r=this.graph;return r&&(e==="sorted"||e==="reseted"||e==="updated"?r.trigger(`model:${e}`,n):r.trigger(e,n)),this}setup(){const e=this.collection;e.on("sorted",()=>this.notify("sorted",null)),e.on("updated",n=>this.notify("updated",n)),e.on("cell:change:zIndex",()=>this.sortOnChangeZ()),e.on("added",({cell:n})=>{this.onCellAdded(n)}),e.on("removed",n=>{const r=n.cell;this.onCellRemoved(r,n.options),this.notify("cell:removed",n),r.isNode()?this.notify("node:removed",Object.assign(Object.assign({},n),{node:r})):r.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},n),{edge:r}))}),e.on("reseted",n=>{this.onReset(n.current),this.notify("reseted",n)}),e.on("edge:change:source",({edge:n})=>this.onEdgeTerminalChanged(n,"source")),e.on("edge:change:target",({edge:n})=>{this.onEdgeTerminalChanged(n,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(e){const n=e.id;e.isEdge()?(e.updateParent(),this.edges[n]=!0,this.onEdgeTerminalChanged(e,"source"),this.onEdgeTerminalChanged(e,"target")):this.nodes[n]=!0}onCellRemoved(e,n){const r=e.id;if(e.isEdge()){delete this.edges[r];const i=e.getSource(),o=e.getTarget();if(i&&i.cell){const a=this.outgoings[i.cell],s=a?a.indexOf(r):-1;s>=0&&(a.splice(s,1),a.length===0&&delete this.outgoings[i.cell])}if(o&&o.cell){const a=this.incomings[o.cell],s=a?a.indexOf(r):-1;s>=0&&(a.splice(s,1),a.length===0&&delete this.incomings[o.cell])}}else delete this.nodes[r];n.clear||(n.disconnectEdges?this.disconnectConnectedEdges(e,n):this.removeConnectedEdges(e,n)),e.model===this&&(e.model=null)}onReset(e){this.nodes={},this.edges={},this.outgoings={},this.incomings={},e.forEach(n=>this.onCellAdded(n))}onEdgeTerminalChanged(e,n){const r=n==="source"?this.outgoings:this.incomings,i=e.previous(n);if(i&&i.cell){const a=di.isCell(i.cell)?i.cell.id:i.cell,s=r[a],l=s?s.indexOf(e.id):-1;l>=0&&(s.splice(l,1),s.length===0&&delete r[a])}const o=e.getTerminal(n);if(o&&o.cell){const a=di.isCell(o.cell)?o.cell.id:o.cell,s=r[a]||[];s.indexOf(e.id)===-1&&s.push(e.id),r[a]=s}}prepareCell(e,n){return!e.model&&(!n||!n.dryrun)&&(e.model=this),e.zIndex==null&&e.setZIndex(this.getMaxZIndex()+1,{silent:!0}),e}resetCells(e,n={}){return e.map(r=>this.prepareCell(r,Object.assign(Object.assign({},n),{dryrun:!0}))),this.collection.reset(e,n),e.map(r=>this.prepareCell(r,{options:n})),this}clear(e={}){const n=this.getCells();if(n.length===0)return this;const r=Object.assign(Object.assign({},e),{clear:!0});return this.batchUpdate("clear",()=>{const i=n.sort((o,a)=>{const s=o.isEdge()?1:2,l=a.isEdge()?1:2;return s-l});for(;i.length>0;){const o=i.shift();o&&o.remove(r)}},r),this}addNode(e,n={}){const r=na.isNode(e)?e:this.createNode(e);return this.addCell(r,n),r}updateNode(e,n={}){const r=this.createNode(e),i=r.getProp();return r.dispose(),this.updateCell(i,n)}createNode(e){return na.create(e)}addEdge(e,n={}){const r=jo.isEdge(e)?e:this.createEdge(e);return this.addCell(r,n),r}createEdge(e){return jo.create(e)}updateEdge(e,n={}){const r=this.createEdge(e),i=r.getProp();return r.dispose(),this.updateCell(i,n)}addCell(e,n={}){return Array.isArray(e)?this.addCells(e,n):(!this.collection.has(e)&&!this.addings.has(e)&&(this.addings.set(e,!0),this.collection.add(this.prepareCell(e,n),n),e.eachChild(r=>this.addCell(r,n)),this.addings.delete(e)),this)}addCells(e,n={}){const r=e.length;if(r===0)return this;const i=Object.assign(Object.assign({},n),{position:r-1,maxPosition:r-1});return this.startBatch("add",Object.assign(Object.assign({},i),{cells:e})),e.forEach(o=>{this.addCell(o,i),i.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},i),{cells:e})),this}updateCell(e,n={}){const r=e.id&&this.getCell(e.id);return r?this.batchUpdate("update",()=>(Object.entries(e).forEach(([i,o])=>r.setProp(i,o,n)),!0),e):!1}removeCell(e,n={}){const r=typeof e=="string"?this.getCell(e):e;return r&&this.has(r)?this.collection.remove(r,n):null}updateCellId(e,n){if(e.id===n)return;this.startBatch("update",{id:n}),e.prop("id",n);const r=e.clone({keepId:!0});return this.addCell(r),this.getConnectedEdges(e).forEach(o=>{const a=o.getSourceCell(),s=o.getTargetCell();a===e&&o.setSource(Object.assign(Object.assign({},o.getSource()),{cell:n})),s===e&&o.setTarget(Object.assign(Object.assign({},o.getTarget()),{cell:n}))}),this.removeCell(e),this.stopBatch("update",{id:n}),r}removeCells(e,n={}){return e.length?this.batchUpdate("remove",()=>e.map(r=>this.removeCell(r,n))):[]}removeConnectedEdges(e,n={}){const r=this.getConnectedEdges(e);return r.forEach(i=>{i.remove(n)}),r}disconnectConnectedEdges(e,n={}){const r=typeof e=="string"?e:e.id;this.getConnectedEdges(e).forEach(i=>{const o=i.getSourceCellId(),a=i.getTargetCellId();o===r&&i.setSource({x:0,y:0},n),a===r&&i.setTarget({x:0,y:0},n)})}has(e){return this.collection.has(e)}total(){return this.collection.length}indexOf(e){return this.collection.indexOf(e)}getCell(e){return this.collection.get(e)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const e=this.collection.first();return e&&e.getZIndex()||0}getMaxZIndex(){const e=this.collection.last();return e&&e.getZIndex()||0}getCellsFromCache(e){return e?Object.keys(e).map(n=>this.getCell(n)).filter(n=>n!=null):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(e){const n=typeof e=="string"?e:e.id,r=this.outgoings[n];return r?r.map(i=>this.getCell(i)).filter(i=>i&&i.isEdge()):null}getIncomingEdges(e){const n=typeof e=="string"?e:e.id,r=this.incomings[n];return r?r.map(i=>this.getCell(i)).filter(i=>i&&i.isEdge()):null}getConnectedEdges(e,n={}){const r=[],i=typeof e=="string"?this.getCell(e):e;if(i==null)return r;const o={},a=n.indirect;let s=n.incoming,l=n.outgoing;s==null&&l==null&&(s=l=!0);const u=(c,f)=>{const d=f?this.getOutgoingEdges(c):this.getIncomingEdges(c);if(d?.forEach(h=>{o[h.id]||(r.push(h),o[h.id]=!0,a&&(s&&u(h,!1),l&&u(h,!0)))}),a&&c.isEdge()){const h=f?c.getTargetCell():c.getSourceCell();h&&h.isEdge()&&(o[h.id]||(r.push(h),u(h,f)))}};if(l&&u(i,!0),s&&u(i,!1),n.deep){const c=i.getDescendants({deep:!0}),f={};c.forEach(h=>{h.isNode()&&(f[h.id]=!0)});const d=(h,p)=>{const v=p?this.getOutgoingEdges(h.id):this.getIncomingEdges(h.id);v?.forEach(g=>{if(!o[g.id]){const m=g.getSourceCell(),y=g.getTargetCell();if(!n.enclosed&&m&&f[m.id]&&y&&f[y.id])return;r.push(g),o[g.id]=!0}})};c.forEach(h=>{h.isEdge()||(l&&d(h,!0),s&&d(h,!1))})}return r}isBoundary(e,n){const r=typeof e=="string"?this.getCell(e):e,i=n?this.getIncomingEdges(r):this.getOutgoingEdges(r);return i==null||i.length===0}getBoundaryNodes(e){const n=[];return Object.keys(this.nodes).forEach(r=>{if(this.isBoundary(r,e)){const i=this.getCell(r);i&&n.push(i)}}),n}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(e){return this.isBoundary(e,!0)}isLeaf(e){return this.isBoundary(e,!1)}getNeighbors(e,n={}){let r=n.incoming,i=n.outgoing;r==null&&i==null&&(r=i=!0);const a=this.getConnectedEdges(e,n).reduce((s,l)=>{const u=l.hasLoop(n),c=l.getSourceCell(),f=l.getTargetCell();return r&&c&&c.isNode()&&!s[c.id]&&(u||c!==e&&(!n.deep||!c.isDescendantOf(e)))&&(s[c.id]=c),i&&f&&f.isNode()&&!s[f.id]&&(u||f!==e&&(!n.deep||!f.isDescendantOf(e)))&&(s[f.id]=f),s},{});if(e.isEdge()){if(r){const s=e.getSourceCell();s&&s.isNode()&&!a[s.id]&&(a[s.id]=s)}if(i){const s=e.getTargetCell();s&&s.isNode()&&!a[s.id]&&(a[s.id]=s)}}return Object.keys(a).map(s=>a[s])}isNeighbor(e,n,r={}){let i=r.incoming,o=r.outgoing;return i==null&&o==null&&(i=o=!0),this.getConnectedEdges(e,r).some(a=>{const s=a.getSourceCell(),l=a.getTargetCell();return!!(i&&s&&s.id===n.id||o&&l&&l.id===n.id)})}getSuccessors(e,n={}){const r=[];return this.search(e,(i,o)=>{i!==e&&this.matchDistance(o,n.distance)&&r.push(i)},Object.assign(Object.assign({},n),{outgoing:!0})),r}isSuccessor(e,n,r={}){let i=!1;return this.search(e,(o,a)=>{if(o===n&&o!==e&&this.matchDistance(a,r.distance))return i=!0,!1},Object.assign(Object.assign({},r),{outgoing:!0})),i}getPredecessors(e,n={}){const r=[];return this.search(e,(i,o)=>{i!==e&&this.matchDistance(o,n.distance)&&r.push(i)},Object.assign(Object.assign({},n),{incoming:!0})),r}isPredecessor(e,n,r={}){let i=!1;return this.search(e,(o,a)=>{if(o===n&&o!==e&&this.matchDistance(a,r.distance))return i=!0,!1},Object.assign(Object.assign({},r),{incoming:!0})),i}matchDistance(e,n){return n==null?!0:typeof n=="function"?n(e):Array.isArray(n)&&n.includes(e)?!0:e===n}getCommonAncestor(...e){const n=[];return e.forEach(r=>{r&&(Array.isArray(r)?n.push(...r):n.push(r))}),di.getCommonAncestor(...n)}getSubGraph(e,n={}){const r=[],i={},o=[],a=[],s=l=>{i[l.id]||(r.push(l),i[l.id]=l,l.isEdge()&&a.push(l),l.isNode()&&o.push(l))};return e.forEach(l=>{s(l),n.deep&&l.getDescendants({deep:!0}).forEach(c=>s(c))}),a.forEach(l=>{const u=l.getSourceCell(),c=l.getTargetCell();u&&!i[u.id]&&(r.push(u),i[u.id]=u,u.isNode()&&o.push(u)),c&&!i[c.id]&&(r.push(c),i[c.id]=c,c.isNode()&&o.push(c))}),o.forEach(l=>{this.getConnectedEdges(l,n).forEach(c=>{const f=c.getSourceCell(),d=c.getTargetCell();!i[c.id]&&f&&i[f.id]&&d&&i[d.id]&&(r.push(c),i[c.id]=c)})}),r}cloneSubGraph(e,n={}){const r=this.getSubGraph(e,n);return this.cloneCells(r)}cloneCells(e){return di.cloneCells(e)}getNodesFromPoint(e,n){const r=typeof e=="number"?{x:e,y:n||0}:e;return this.getNodes().filter(i=>i.getBBox().containsPoint(r))}getNodesInArea(e,n,r,i,o){const a=typeof e=="number"?new bn(e,n,r,i):bn.create(e),s=typeof e=="number"?o:n,l=s&&s.strict;return this.getNodes().filter(u=>{const c=u.getBBox();return l?a.containsRect(c):a.isIntersectWithRect(c)})}getEdgesInArea(e,n,r,i,o){const a=typeof e=="number"?new bn(e,n,r,i):bn.create(e),s=typeof e=="number"?o:n,l=s&&s.strict;return this.getEdges().filter(u=>{const c=u.getBBox();return c.width===0?c.inflate(1,0):c.height===0&&c.inflate(0,1),l?a.containsRect(c):a.isIntersectWithRect(c)})}getNodesUnderNode(e,n={}){const r=e.getBBox();return(n.by==null||n.by==="bbox"?this.getNodesInArea(r):this.getNodesFromPoint(r[n.by])).filter(o=>e.id!==o.id&&!o.isDescendantOf(e))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(e,n={}){return di.getCellsBBox(e,n)}search(e,n,r={}){r.breadthFirst?this.breadthFirstSearch(e,n,r):this.depthFirstSearch(e,n,r)}breadthFirstSearch(e,n,r={}){const i=[],o={},a={};for(i.push(e),a[e.id]=0;i.length>0;){const s=i.shift();if(s==null||o[s.id]||(o[s.id]=!0,lr(n,this,s,a[s.id])===!1))continue;this.getNeighbors(s,r).forEach(u=>{a[u.id]=a[s.id]+1,i.push(u)})}}depthFirstSearch(e,n,r={}){const i=[],o={},a={};for(i.push(e),a[e.id]=0;i.length>0;){const s=i.pop();if(s==null||o[s.id]||(o[s.id]=!0,lr(n,this,s,a[s.id])===!1))continue;const l=this.getNeighbors(s,r),u=i.length;l.forEach(c=>{a[c.id]=a[s.id]+1,i.splice(u,0,c)})}}getShortestPath(e,n,r={}){const i={};this.getEdges().forEach(u=>{const c=u.getSourceCellId(),f=u.getTargetCellId();c&&f&&(i[c]||(i[c]=[]),i[f]||(i[f]=[]),i[c].push(f),r.directed||i[f].push(c))});const o=typeof e=="string"?e:e.id,a=xV.run(i,o,r.weight),s=[];let l=typeof n=="string"?n:n.id;for(a[l]&&s.push(l);l=a[l];)s.unshift(l);return s}translate(e,n,r){return this.getCells().filter(i=>!i.hasParent()).forEach(i=>i.translate(e,n,r)),this}resize(e,n,r){return this.resizeCells(e,n,this.getCells(),r)}resizeCells(e,n,r,i={}){const o=this.getCellsBBox(r);if(o){const a=Math.max(e/o.width,0),s=Math.max(n/o.height,0),l=o.getOrigin();r.forEach(u=>u.scale(a,s,l,i))}return this}toJSON(e={}){return Mk.toJSON(this.getCells(),e)}parseJSON(e){return Mk.fromJSON(e)}fromJSON(e,n={}){const r=this.parseJSON(e);return this.resetCells(r,n),this}startBatch(e,n={}){return this.batches[e]=(this.batches[e]||0)+1,this.notify("batch:start",{name:e,data:n}),this}stopBatch(e,n={}){return this.batches[e]=(this.batches[e]||0)-1,this.notify("batch:stop",{name:e,data:n}),this}batchUpdate(e,n,r={}){this.startBatch(e,r);const i=n();return this.stopBatch(e,r),i}hasActiveBatch(e=Object.keys(this.batches)){return(Array.isArray(e)?e:[e]).some(r=>this.batches[r]>0)}dispose(){this.collection.dispose()}};Bpt([Js.dispose()],Js.prototype,"dispose",null);(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.addNode=="function"&&typeof i.addEdge=="function"&&i.collection!=null}t.isModel=e})(Js||(Js={}));(function(t){function e(r,i={}){return{cells:r.map(o=>o.toJSON(i))}}t.toJSON=e;function n(r){const i=[];return Array.isArray(r)?i.push(...r):(r.cells&&i.push(...r.cells),r.nodes&&r.nodes.forEach(o=>{o.shape==null&&(o.shape="rect"),i.push(o)}),r.edges&&r.edges.forEach(o=>{o.shape==null&&(o.shape="edge"),i.push(o)})),i.map(o=>{const a=o.shape;if(a){if(na.registry.exist(a))return na.create(o);if(jo.registry.exist(a))return jo.create(o)}throw new Error("The `shape` should be specified when creating a node/edge instance")})}t.fromJSON=n})(Js||(Js={}));var $pt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let dv=class extends na{get label(){return this.getLabel()}set label(e){this.setLabel(e)}getLabel(){return this.getAttrByPath("text/text")}setLabel(e,n){return e==null?this.removeLabel():this.setAttrByPath("text/text",e,n),this}removeLabel(){return this.removeAttrByPath("text/text"),this}};(function(t){t.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},t.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},t.config({attrs:{text:Object.assign({},t.labelAttr)},propHooks(e){const{label:n}=e,r=$pt(e,["label"]);return n&&g_(r,"attrs/text/text",n),r},visible:!0})})(dv||(dv={}));var Fpt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Vpt(t,e="body"){return[{tagName:t,selector:e},{tagName:"text",selector:"label"}]}function zpt(t="xlink:href"){return n=>{const{imageUrl:r,imageWidth:i,imageHeight:o}=n,a=Fpt(n,["imageUrl","imageWidth","imageHeight"]);if(r!=null||i!=null||o!=null){const s=()=>{if(a.attrs){const l=a.attrs.image;r!=null&&(l[t]=r),i!=null&&(l.width=i),o!=null&&(l.height=o),a.attrs.image=l}};a.attrs?(a.attrs.image==null&&(a.attrs.image={}),s()):(a.attrs={image:{}},s())}return a}}function w_(t,e,n={}){const r={constructorName:t,markup:Vpt(t,n.selector),attrs:{[t]:Object.assign({},dv.bodyAttr)}};return(n.parent||dv).define(Bo(r,e,{shape:t}))}w_("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}});const x0e=jo.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}});w_("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});var Hpt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class w1 extends dv{get points(){return this.getPoints()}set points(e){this.setPoints(e)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(e,n){return e==null?this.removePoints():this.setAttrByPath("body/refPoints",w1.pointsToString(e),n),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}(function(t){function e(n){return typeof n=="string"?n:n.map(r=>Array.isArray(r)?r.join(","):Ve.isPointLike(r)?`${r.x}, ${r.y}`:"").join(" ")}t.pointsToString=e,t.config({propHooks(n){const{points:r}=n,i=Hpt(n,["points"]);if(r){const o=e(r);o&&g_(i,"attrs/body/refPoints",o)}return i}})})(w1||(w1={}));w_("polygon",{},{parent:w1});w_("polyline",{},{parent:w1});var jpt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};dv.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(t){const{path:e}=t,n=jpt(t,["path"]);return e&&g_(n,"attrs/body/refD",e),n}});var Gpt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};dv.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},ov.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:Ba.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},dv.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(t){const{text:e}=t,n=Gpt(t,["text"]);return e&&g_(n,"attrs/label/text",e),n},attrHooks:{text:{set(t,{cell:e,view:n,refBBox:r,elem:i,attrs:o}){if(i instanceof HTMLElement)i.textContent=t;else{const a=o.style||{},s={text:t,width:-5,height:"100%"},l=Object.assign({textVerticalAnchor:"middle"},a),u=Jf.presets.textWrap;return lr(u.set,this,s,{cell:e,view:n,elem:i,refBBox:r,attrs:l}),{fill:a.color||null}}},position(t,{refBBox:e,elem:n}){if(n instanceof SVGElement)return e.getCenter()}}}});w_("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:zpt()},{selector:"image"});w_("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}});class Lc extends ea{constructor(){super(...arguments),this.portsCache={}}get[Symbol.toStringTag](){return Lc.toStringTag}getContainerClassName(){const e=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||e.push(this.prefixClassName("node-immovable")),e.join(" ")}updateClassName(e){const n=e.target;if(n.hasAttribute("magnet")){const r=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?_o(n,r):Qn(n,r)}else{const r=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(r):this.addClass(r)}}isNodeView(){return!0}confirmUpdate(e,n={}){let r=e;return this.hasAction(r,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(r,"render")?(this.render(),r=this.removeAction(r,["render","update","resize","translate","rotate","ports","tools"])):(r=this.handleAction(r,"resize",()=>this.resize(),"update"),r=this.handleAction(r,"update",()=>this.update(),"ports"),r=this.handleAction(r,"translate",()=>this.translate()),r=this.handleAction(r,"rotate",()=>this.rotate()),r=this.handleAction(r,"ports",()=>this.renderPorts()),r=this.handleAction(r,"tools",()=>{this.getFlag("tools")===e?this.renderTools():this.updateTools(n)})),r}update(e){this.cleanCache(),this.removePorts();const n=this.cell,r=n.getSize(),i=n.getAttrs();this.updateAttrs(this.container,i,{attrs:e===i?null:e,rootBBox:new bn(0,0,r.width,r.height),selectors:this.selectors}),this.renderPorts()}renderMarkup(){const e=this.cell.markup;if(e){if(typeof e=="string")throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid node markup.")}renderJSONMarkup(e){const n=this.parseJSONMarkup(e,this.container);this.selectors=n.selectors,this.container.appendChild(n.fragment)}render(){return this.empty(),this.renderMarkup(),this.resize(),this.updateTransform(),this.renderTools(),this}resize(){this.cell.getAngle()&&this.rotate(),this.update()}translate(){this.updateTransform()}rotate(){this.updateTransform()}getTranslationString(){const e=this.cell.getPosition();return`translate(${e.x},${e.y})`}getRotationString(){const e=this.cell.getAngle();if(e){const n=this.cell.getSize();return`rotate(${e},${n.width/2},${n.height/2})`}}updateTransform(){let e=this.getTranslationString();const n=this.getRotationString();n&&(e+=` ${n}`),this.container.setAttribute("transform",e)}findPortElem(e,n){const r=e?this.portsCache[e]:null;if(!r)return null;const i=r.portContentElement,o=r.portContentSelectors||{};return this.findOne(n,i,o)}cleanPortsCache(){this.portsCache={}}removePorts(){Object.values(this.portsCache).forEach(e=>{Nu(e.portElement)})}renderPorts(){const e=this.container,n=[];e.childNodes.forEach(a=>{n.push(a)});const r=this.cell.getParsedPorts(),i=cK(r,"zIndex"),o="auto";i[o]&&i[o].forEach(a=>{const s=this.getPortElement(a);e.append(s),n.push(s)}),Object.keys(i).forEach(a=>{if(a!==o){const s=parseInt(a,10);this.appendPorts(i[a],s,n)}}),this.updatePorts()}appendPorts(e,n,r){const i=e.map(o=>this.getPortElement(o));r[n]||n<0?Aj(r[Math.max(n,0)],i):Vl(this.container,i)}getPortElement(e){const n=this.portsCache[e.id];return n?n.portElement:this.createPortElement(e)}createPortElement(e){let n=fo.renderMarkup(this.cell.getPortContainerMarkup());const r=n.elem;if(r==null)throw new Error("Invalid port container markup.");n=fo.renderMarkup(this.getPortMarkup(e));const i=n.elem,o=n.selectors;if(i==null)throw new Error("Invalid port markup.");this.setAttrs({port:e.id,"port-group":e.group},i);let a="x6-port";e.group&&(a+=` x6-port-${e.group}`),Qn(r,a),Qn(r,"x6-port"),Qn(i,"x6-port-body"),r.appendChild(i);let s=o,l,u;if(this.existPortLabel(e)){if(n=fo.renderMarkup(this.getPortLabelMarkup(e.label)),l=n.elem,u=n.selectors,l==null)throw new Error("Invalid port label markup.");if(o&&u){for(const f in u)if(o[f]&&f!==this.rootSelector)throw new Error("Selectors within port must be unique.");s=Object.assign(Object.assign({},o),u)}Qn(l,"x6-port-label"),r.appendChild(l)}return this.portsCache[e.id]={portElement:r,portSelectors:s,portLabelElement:l,portLabelSelectors:u,portContentElement:i,portContentSelectors:o},this.graph.options.onPortRendered&&this.graph.options.onPortRendered({port:e,node:this.cell,container:r,selectors:s,labelContainer:l,labelSelectors:u,contentContainer:i,contentSelectors:o}),r}updatePorts(){const e=this.cell.getParsedGroups(),n=Object.keys(e);n.length===0?this.updatePortGroup():n.forEach(r=>this.updatePortGroup(r))}updatePortGroup(e){const n=bn.fromSize(this.cell.getSize()),r=this.cell.getPortsLayoutByGroup(e,n);for(let i=0,o=r.length;i<o;i+=1){const a=r[i],s=a.portId,l=this.portsCache[s]||{},u=a.portLayout;if(this.applyPortTransform(l.portElement,u),a.portAttrs!=null){const f={selectors:l.portSelectors||{}};a.portSize&&(f.rootBBox=bn.fromSize(a.portSize)),this.updateAttrs(l.portElement,a.portAttrs,f)}const c=a.labelLayout;if(c&&l.portLabelElement&&(this.applyPortTransform(l.portLabelElement,c,-(u.angle||0)),c.attrs)){const f={selectors:l.portLabelSelectors||{}};a.labelSize&&(f.rootBBox=bn.fromSize(a.labelSize)),this.updateAttrs(l.portLabelElement,c.attrs,f)}}}applyPortTransform(e,n,r=0){const i=n.angle,o=n.position,a=Ga().rotate(r).translate(o.x||0,o.y||0).rotate(i||0);u1(e,a,{absolute:!0})}getPortMarkup(e){return e.markup||this.cell.portMarkup}getPortLabelMarkup(e){return e.markup||this.cell.portLabelMarkup}existPortLabel(e){return e.attrs&&e.attrs.text}getEventArgs(e,n,r){const i=this,o=i.cell,a=o;return n==null||r==null?{e,view:i,node:o,cell:a}:{e,x:n,y:r,view:i,node:o,cell:a}}getPortEventArgs(e,n,r){const i=this,o=i.cell,a=o;return r?{e,x:r.x,y:r.y,view:i,node:o,cell:a,port:n}:{e,view:i,node:o,cell:a,port:n}}notifyMouseDown(e,n,r){super.onMouseDown(e,n,r),this.notify("node:mousedown",this.getEventArgs(e,n,r))}notifyMouseMove(e,n,r){super.onMouseMove(e,n,r),this.notify("node:mousemove",this.getEventArgs(e,n,r))}notifyMouseUp(e,n,r){super.onMouseUp(e,n,r),this.notify("node:mouseup",this.getEventArgs(e,n,r))}notifyPortEvent(e,n,r){const i=this.findAttr("port",n.target);if(i){const o=n.type;e==="node:port:mouseenter"?n.type="mouseenter":e==="node:port:mouseleave"&&(n.type="mouseleave"),this.notify(e,this.getPortEventArgs(n,i,r)),n.type=o}}onClick(e,n,r){super.onClick(e,n,r),this.notify("node:click",this.getEventArgs(e,n,r)),this.notifyPortEvent("node:port:click",e,{x:n,y:r})}onDblClick(e,n,r){super.onDblClick(e,n,r),this.notify("node:dblclick",this.getEventArgs(e,n,r)),this.notifyPortEvent("node:port:dblclick",e,{x:n,y:r})}onContextMenu(e,n,r){super.onContextMenu(e,n,r),this.notify("node:contextmenu",this.getEventArgs(e,n,r)),this.notifyPortEvent("node:port:contextmenu",e,{x:n,y:r})}onMouseDown(e,n,r){this.isPropagationStopped(e)||(this.notifyMouseDown(e,n,r),this.notifyPortEvent("node:port:mousedown",e,{x:n,y:r}),this.startNodeDragging(e,n,r))}onMouseMove(e,n,r){const i=this.getEventData(e),o=i.action;if(o==="magnet")this.dragMagnet(e,n,r);else{if(o==="move"){const s=i.targetView||this;s.dragNode(e,n,r),s.notify("node:moving",{e,x:n,y:r,view:s,cell:s.cell,node:s.cell})}this.notifyMouseMove(e,n,r),this.notifyPortEvent("node:port:mousemove",e,{x:n,y:r})}this.setEventData(e,i)}onMouseUp(e,n,r){const i=this.getEventData(e),o=i.action;o==="magnet"?this.stopMagnetDragging(e,n,r):(this.notifyMouseUp(e,n,r),this.notifyPortEvent("node:port:mouseup",e,{x:n,y:r}),o==="move"&&(i.targetView||this).stopNodeDragging(e,n,r));const a=i.targetMagnet;a&&this.onMagnetClick(e,a,n,r),this.checkMouseleave(e)}onMouseOver(e){super.onMouseOver(e),this.notify("node:mouseover",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseenter",e),this.notifyPortEvent("node:port:mouseover",e)}onMouseOut(e){super.onMouseOut(e),this.notify("node:mouseout",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseleave",e),this.notifyPortEvent("node:port:mouseout",e)}onMouseEnter(e){this.updateClassName(e),super.onMouseEnter(e),this.notify("node:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("node:mouseleave",this.getEventArgs(e))}onMouseWheel(e,n,r,i){super.onMouseWheel(e,n,r,i),this.notify("node:mousewheel",Object.assign({delta:i},this.getEventArgs(e,n,r)))}onMagnetClick(e,n,r,i){const o=this.graph;o.view.getMouseMovedCount(e)>o.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:n},this.getEventArgs(e,r,i)))}onMagnetDblClick(e,n,r,i){this.notify("node:magnet:dblclick",Object.assign({magnet:n},this.getEventArgs(e,r,i)))}onMagnetContextMenu(e,n,r,i){this.notify("node:magnet:contextmenu",Object.assign({magnet:n},this.getEventArgs(e,r,i)))}onMagnetMouseDown(e,n,r,i){this.startMagnetDragging(e,r,i)}onCustomEvent(e,n,r,i){this.notify("node:customevent",Object.assign({name:n},this.getEventArgs(e,r,i))),super.onCustomEvent(e,n,r,i)}prepareEmbedding(e){const n=this.graph,i=this.getEventData(e).cell||this.cell,o=n.findViewByCell(i),a=n.snapToGrid(e.clientX,e.clientY);this.notify("node:embed",{e,node:i,view:o,cell:i,x:a.x,y:a.y,currentParent:i.getParent()})}processEmbedding(e,n){const r=n.cell||this.cell,i=n.graph||this.graph,o=i.options.embedding,a=o.findParent;let s=typeof a=="function"?lr(a,i,{view:this,node:this.cell}).filter(d=>di.isCell(d)&&this.cell.id!==d.id&&!d.isDescendantOf(this.cell)):i.model.getNodesUnderNode(r,{by:a});if(o.frontOnly&&s.length>0){const d=cK(s,"zIndex"),h=mBe(Object.keys(d).map(p=>parseInt(p,10)));h&&(s=d[h])}s=s.filter(d=>d.visible);let l=null;const u=n.candidateEmbedView,c=o.validate;for(let d=s.length-1;d>=0;d-=1){const h=s[d];if(u&&u.cell.id===h.id){l=u;break}else{const p=h.findView(i);if(c&&lr(c,i,{child:this.cell,parent:p.cell,childView:this,parentView:p})){l=p;break}}}this.clearEmbedding(n),l&&l.highlight(null,{type:"embedding"}),n.candidateEmbedView=l;const f=i.snapToGrid(e.clientX,e.clientY);this.notify("node:embedding",{e,cell:r,node:r,view:i.findViewByCell(r),x:f.x,y:f.y,currentParent:r.getParent(),candidateParent:l?l.cell:null})}clearEmbedding(e){const n=e.candidateEmbedView;n&&(n.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null)}finalizeEmbedding(e,n){this.graph.startBatch("embedding");const r=n.cell||this.cell,i=n.graph||this.graph,o=i.findViewByCell(r),a=r.getParent(),s=n.candidateEmbedView;if(s?(s.unhighlight(null,{type:"embedding"}),n.candidateEmbedView=null,(a==null||a.id!==s.cell.id)&&s.cell.insertChild(r,void 0,{ui:!0})):a&&a.unembed(r,{ui:!0}),i.model.getConnectedEdges(r,{deep:!0}).forEach(l=>{l.updateParent({ui:!0})}),o&&s){const l=i.snapToGrid(e.clientX,e.clientY);o.notify("node:embedded",{e,cell:r,x:l.x,y:l.y,node:r,view:i.findViewByCell(r),previousParent:a,currentParent:r.getParent()})}this.graph.stopBatch("embedding")}getDelegatedView(){let e=this.cell,n=this;for(;n&&!e.isEdge();){if(!e.hasParent()||n.can("stopDelegateOnDragging"))return n;e=e.getParent(),n=this.graph.findViewByCell(e)}return null}validateMagnet(e,n,r){if(n.getAttribute("magnet")!=="passive"){const i=this.graph.options.connecting.validateMagnet;return i?lr(i,this.graph,{e:r,magnet:n,view:e,cell:e.cell}):!0}return!1}startMagnetDragging(e,n,r){if(!this.can("magnetConnectable"))return;e.stopPropagation();const i=e.currentTarget,o=this.graph;this.setEventData(e,{targetMagnet:i}),this.validateMagnet(this,i,e)?(o.options.magnetThreshold<=0&&this.startConnectting(e,i,n,r),this.setEventData(e,{action:"magnet"}),this.stopPropagation(e)):this.onMouseDown(e,n,r),o.view.delegateDragEvents(e,this)}startConnectting(e,n,r,i){this.graph.model.startBatch("add-edge");const o=this.createEdgeFromMagnet(n,r,i);o.setEventData(e,o.prepareArrowheadDragging("target",{x:r,y:i,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(e,{edgeView:o}),o.notifyMouseDown(e,r,i)}getDefaultEdge(e,n){let r;const i=this.graph.options.connecting.createEdge;return i&&(r=lr(i,this.graph,{sourceMagnet:n,sourceView:e,sourceCell:e.cell})),r}createEdgeFromMagnet(e,n,r){const i=this.graph,o=i.model,a=this.getDefaultEdge(this,e);return a.setSource(Object.assign(Object.assign({},a.getSource()),this.getEdgeTerminal(e,n,r,a,"source"))),a.setTarget(Object.assign(Object.assign({},a.getTarget()),{x:n,y:r})),a.addTo(o,{async:!1,ui:!0}),a.findView(i)}dragMagnet(e,n,r){const i=this.getEventData(e),o=i.edgeView;if(o)o.onMouseMove(e,n,r),this.autoScrollGraph(e.clientX,e.clientY);else{const a=this.graph,s=a.options.magnetThreshold,l=this.getEventTarget(e),u=i.targetMagnet;if(s==="onleave"){if(u===l||u.contains(l))return}else if(a.view.getMouseMovedCount(e)<=s)return;this.startConnectting(e,u,n,r)}}stopMagnetDragging(e,n,r){const o=this.eventData(e).edgeView;o&&(o.onMouseUp(e,n,r),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(e,n,r){this.notify("node:unhandled:mousedown",{e,x:n,y:r,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(e,n,r,i,o){let a=[o];const s=this.graph.getPlugin("selection");if(s&&s.isSelectionMovable()){const l=s.getSelectedCells();l.includes(o)&&(a=l.filter(u=>u.isNode()))}a.forEach(l=>{this.notify(e,{e:n,x:r,y:i,cell:l,node:l,view:l.findView(this.graph)})})}getRestrictArea(e){const n=this.graph.options.translating.restrict,r=typeof n=="function"?lr(n,this.graph,e):n;return typeof r=="number"?this.graph.transform.getGraphArea().inflate(r):r===!0?this.graph.transform.getGraphArea():r||null}startNodeDragging(e,n,r){const i=this.getDelegatedView();if(i==null||!i.can("nodeMovable"))return this.notifyUnhandledMouseDown(e,n,r);this.setEventData(e,{targetView:i,action:"move"});const o=Ve.create(i.cell.getPosition());i.setEventData(e,{moving:!1,offset:o.diff(n,r),restrict:this.getRestrictArea(i)})}dragNode(e,n,r){const i=this.cell,o=this.graph,a=o.getGridSize(),s=this.getEventData(e),l=s.offset,u=s.restrict;s.moving||(s.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",e,n,r,this.cell)),this.autoScrollGraph(e.clientX,e.clientY);const c=ki.snapToGrid(n+l.x,a),f=ki.snapToGrid(r+l.y,a);i.setPosition(c,f,{restrict:u,deep:!0,ui:!0}),o.options.embedding.enabled&&(s.embedding||(this.prepareEmbedding(e),s.embedding=!0),this.processEmbedding(e,s))}stopNodeDragging(e,n,r){const i=this.getEventData(e);i.embedding&&this.finalizeEmbedding(e,i),i.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",e,n,r,this.cell)),i.moving=!1,i.embedding=!1}autoScrollGraph(e,n){const r=this.graph.getPlugin("scroller");r&&r.autoScroll(e,n)}}(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.isNodeView=="function"&&typeof i.isEdgeView=="function"&&typeof i.confirmUpdate=="function"&&typeof i.update=="function"&&typeof i.findPortElem=="function"&&typeof i.resize=="function"&&typeof i.rotate=="function"&&typeof i.translate=="function"}t.isNodeView=e})(Lc||(Lc={}));Lc.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}});Lc.registry.register("node",Lc,!0);var Upt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class dh extends ea{constructor(){super(...arguments),this.POINT_ROUNDING=2,this.labelDestroyFn={}}get[Symbol.toStringTag](){return dh.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const e=this.sourceView;if(!e){const r=this.cell.getSource();return new bn(r.x,r.y)}const n=this.sourceMagnet;return e.isEdgeElement(n)?new bn(this.sourceAnchor.x,this.sourceAnchor.y):e.getBBoxOfElement(n||e.container)}get targetBBox(){const e=this.targetView;if(!e){const r=this.cell.getTarget();return new bn(r.x,r.y)}const n=this.targetMagnet;return e.isEdgeElement(n)?new bn(this.targetAnchor.x,this.targetAnchor.y):e.getBBoxOfElement(n||e.container)}isEdgeView(){return!0}confirmUpdate(e,n={}){let r=e;if(this.hasAction(r,"source")){if(!this.updateTerminalProperties("source"))return r;r=this.removeAction(r,"source")}if(this.hasAction(r,"target")){if(!this.updateTerminalProperties("target"))return r;r=this.removeAction(r,"target")}return this.hasAction(r,"render")?(this.render(),r=this.removeAction(r,["render","update","labels","tools"]),r):(r=this.handleAction(r,"update",()=>this.update(n)),r=this.handleAction(r,"labels",()=>this.onLabelsChange(n)),r=this.handleAction(r,"tools",()=>this.renderTools()),r)}render(){return this.empty(),this.renderMarkup(),this.labelContainer=null,this.renderLabels(),this.update(),this.renderTools(),this}renderMarkup(){const e=this.cell.markup;if(e){if(typeof e=="string")throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid edge markup.")}renderJSONMarkup(e){const n=this.parseJSONMarkup(e,this.container);this.selectors=n.selectors,this.container.append(n.fragment)}customizeLabels(){if(this.labelContainer){const e=this.cell,n=e.labels;for(let r=0,i=n.length;r<i;r+=1){const o=n[r],a=this.labelCache[r],s=this.labelSelectors[r],l=this.graph.options.onEdgeLabelRendered;if(l){const u=l({edge:e,label:o,container:a,selectors:s});u&&(this.labelDestroyFn[r]=u)}}}}destroyCustomizeLabels(){const e=this.cell.labels;if(this.labelCache&&this.labelSelectors&&this.labelDestroyFn)for(let n=0,r=e.length;n<r;n+=1){const i=this.labelDestroyFn[n],o=this.labelCache[n],a=this.labelSelectors[n];i&&o&&a&&i({edge:this.cell,label:e[n],container:o,selectors:a})}this.labelDestroyFn={}}renderLabels(){const e=this.cell,n=e.getLabels(),r=n.length;let i=this.labelContainer;if(this.labelCache={},this.labelSelectors={},r<=0)return i&&i.parentNode&&i.parentNode.removeChild(i),this;i?this.empty(i):(i=Yc("g"),this.addClass(this.prefixClassName("edge-labels"),i),this.labelContainer=i);for(let o=0,a=n.length;o<a;o+=1){const s=n[o],l=this.normalizeLabelMarkup(this.parseLabelMarkup(s.markup));let u,c;if(l)u=l.node,c=l.selectors;else{const d=e.getDefaultLabel(),h=this.normalizeLabelMarkup(this.parseLabelMarkup(d.markup));u=h.node,c=h.selectors}u.setAttribute("data-index",`${o}`),i.appendChild(u);const f=this.rootSelector;if(c[f])throw new Error("Ambiguous label root selector.");c[f]=u,this.labelCache[o]=u,this.labelSelectors[o]=c}return i.parentNode==null&&this.container.appendChild(i),this.updateLabels(),this.customizeLabels(),this}onLabelsChange(e={}){this.destroyCustomizeLabels(),this.shouldRerenderLabels(e)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(e={}){const n=this.cell.previous("labels");if(n==null)return!0;if("propertyPathArray"in e&&"propertyValue"in e){const r=e.propertyPathArray||[],i=r.length;if(i>1){const o=r[1];if(n[o]){if(i===2)return typeof e.propertyValue=="object"&&ZE(e.propertyValue,"markup");if(r[2]!=="markup")return!1}}}return!0}parseLabelMarkup(e){return e?typeof e=="string"?this.parseLabelStringMarkup(e):this.parseJSONMarkup(e):null}parseLabelStringMarkup(e){const n=Sr.createVectors(e),r=document.createDocumentFragment();for(let i=0,o=n.length;i<o;i+=1){const a=n[i].node;r.appendChild(a)}return{fragment:r,selectors:{}}}normalizeLabelMarkup(e){if(e==null)return;const n=e.fragment;if(!(n instanceof DocumentFragment)||!n.hasChildNodes())throw new Error("Invalid label markup.");let r;const i=n.childNodes;return i.length>1||i[0].nodeName.toUpperCase()!=="G"?r=Sr.create("g").append(n):r=Sr.create(i[0]),r.addClass(this.prefixClassName("edge-label")),{node:r.node,selectors:e.selectors}}updateLabels(){if(this.labelContainer){const e=this.cell,n=e.labels,r=this.can("edgeLabelMovable"),i=e.getDefaultLabel();for(let o=0,a=n.length;o<a;o+=1){const s=this.labelCache[o],l=this.labelSelectors[o];s.setAttribute("cursor",r?"move":"default");const u=n[o],c=Bo({},i.attrs,u.attrs);this.updateAttrs(s,c,{selectors:l,rootBBox:u.size?bn.fromSize(u.size):void 0})}}}renderTools(){const e=this.cell.getTools();return this.addTools(e),this}update(e={}){this.cleanCache(),this.updateConnection(e);const n=this.cell.getAttrs(),{text:r}=n,i=Upt(n,["text"]);return i!=null&&this.updateAttrs(this.container,i,{selectors:this.selectors}),this.updateLabelPositions(),this.updateTools(e),this}removeRedundantLinearVertices(e={}){const n=this.cell,r=n.getVertices(),i=[this.sourceAnchor,...r,this.targetAnchor],o=i.length,a=new Os(i);a.simplify({threshold:.01});const s=a.points.map(u=>u.toJSON()),l=s.length;return o===l?0:(n.setVertices(s.slice(1,l-1),e),o-l)}getTerminalView(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalAnchor(e){switch(e){case"source":return Ve.create(this.sourceAnchor);case"target":return Ve.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalConnectionPoint(e){switch(e){case"source":return Ve.create(this.sourcePoint);case"target":return Ve.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalMagnet(e,n={}){switch(e){case"source":{if(n.raw)return this.sourceMagnet;const r=this.sourceView;return r?this.sourceMagnet||r.container:null}case"target":{if(n.raw)return this.targetMagnet;const r=this.targetView;return r?this.targetMagnet||r.container:null}default:throw new Error(`Unknown terminal type '${e}'`)}}updateConnection(e={}){const n=this.cell;if(e.translateBy&&n.isFragmentDescendantOf(e.translateBy)){const r=e.tx||0,i=e.ty||0;this.routePoints=new Os(this.routePoints).translate(r,i).points,this.translateConnectionPoints(r,i),this.path.translate(r,i)}else{const r=n.getVertices(),i=this.findAnchors(r);this.sourceAnchor=i.source,this.targetAnchor=i.target,this.routePoints=this.findRoutePoints(r);const o=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=o.source,this.targetPoint=o.target;const a=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,a.source||this.sourcePoint,a.target||this.targetPoint)}this.cleanCache()}findAnchors(e){const n=this.cell,r=n.source,i=n.target,o=e[0],a=e[e.length-1];return i.priority&&!r.priority?this.findAnchorsOrdered("target",a,"source",o):this.findAnchorsOrdered("source",o,"target",a)}findAnchorsOrdered(e,n,r,i){let o,a;const s=this.cell,l=s[e],u=s[r],c=this.getTerminalView(e),f=this.getTerminalView(r),d=this.getTerminalMagnet(e),h=this.getTerminalMagnet(r);if(c){let p;n?p=Ve.create(n):f?p=h:p=Ve.create(u),o=this.getAnchor(l.anchor,c,d,p,e)}else o=Ve.create(l);if(f){const p=Ve.create(i||o);a=this.getAnchor(u.anchor,f,h,p,r)}else a=Ve.isPointLike(u)?Ve.create(u):new Ve;return{[e]:o,[r]:a}}getAnchor(e,n,r,i,o){const a=n.isEdgeElement(r),s=this.graph.options.connecting;let l=typeof e=="string"?{name:e}:e;if(!l){const f=a?(o==="source"?s.sourceEdgeAnchor:s.targetEdgeAnchor)||s.edgeAnchor:(o==="source"?s.sourceAnchor:s.targetAnchor)||s.anchor;l=typeof f=="string"?{name:f}:f}if(!l)throw new Error("Anchor should be specified.");let u;const c=l.name;if(a){const f=y1.registry.get(c);if(typeof f!="function")return y1.registry.onNotFound(c);u=lr(f,this,n,r,i,l.args||{},o)}else{const f=m1.registry.get(c);if(typeof f!="function")return m1.registry.onNotFound(c);u=lr(f,this,n,r,i,l.args||{},o)}return u?u.round(this.POINT_ROUNDING):new Ve}findRoutePoints(e=[]){const n=this.graph.options.connecting.router||kp.presets.normal,r=this.cell.getRouter()||n;let i;if(typeof r=="function")i=lr(r,this,e,{},this);else{const o=typeof r=="string"?r:r.name,a=typeof r=="string"?{}:r.args||{},s=o?kp.registry.get(o):kp.presets.normal;if(typeof s!="function")return kp.registry.onNotFound(o);i=lr(s,this,e,a,this)}return i==null?e.map(o=>Ve.create(o)):i.map(o=>Ve.create(o))}findConnectionPoints(e,n,r){const i=this.cell,o=this.graph.options.connecting,a=i.getSource(),s=i.getTarget(),l=this.sourceView,u=this.targetView,c=e[0],f=e[e.length-1];let d;if(l&&!l.isEdgeElement(this.sourceMagnet)){const p=this.sourceMagnet||l.container,v=c||r,g=new fr(v,n),m=a.connectionPoint||o.sourceConnectionPoint||o.connectionPoint;d=this.getConnectionPoint(m,l,p,g,"source")}else d=n;let h;if(u&&!u.isEdgeElement(this.targetMagnet)){const p=this.targetMagnet||u.container,v=s.connectionPoint||o.targetConnectionPoint||o.connectionPoint,g=f||n,m=new fr(g,r);h=this.getConnectionPoint(v,u,p,m,"target")}else h=r;return{source:d,target:h}}getConnectionPoint(e,n,r,i,o){const a=i.end;if(e==null)return a;const s=typeof e=="string"?e:e.name,l=typeof e=="string"?{}:e.args,u=b1.registry.get(s);if(typeof u!="function")return b1.registry.onNotFound(s);const c=lr(u,this,i,n,r,l||{},o);return c?c.round(this.POINT_ROUNDING):a}findMarkerPoints(e,n,r){const i=f=>{const d=this.cell.getAttrs(),h=Object.keys(d);for(let p=0,v=h.length;p<v;p+=1){const g=d[h[p]];if(g[`${f}Marker`]||g[`${f}-marker`]){const m=g.strokeWidth||g["stroke-width"];if(m)return parseFloat(m);break}}return null},o=e[0],a=e[e.length-1];let s,l;const u=i("source");u&&(s=n.clone().move(o||r,-u));const c=i("target");return c&&(l=r.clone().move(a||n,-c)),this.sourceMarkerPoint=s||n.clone(),this.targetMarkerPoint=l||r.clone(),{source:s,target:l}}findPath(e,n,r){const i=this.cell.getConnector()||this.graph.options.connecting.connector;let o,a,s;if(typeof i=="string"?o=i:(o=i.name,a=i.args),o){const u=_m.registry.get(o);if(typeof u!="function")return _m.registry.onNotFound(o);s=u}else s=_m.presets.normal;const l=lr(s,this,n,r,e,Object.assign(Object.assign({},a),{raw:!0}),this);return typeof l=="string"?ii.parse(l):l}translateConnectionPoints(e,n){this.sourcePoint.translate(e,n),this.targetPoint.translate(e,n),this.sourceAnchor.translate(e,n),this.targetAnchor.translate(e,n),this.sourceMarkerPoint.translate(e,n),this.targetMarkerPoint.translate(e,n)}updateLabelPositions(){if(this.labelContainer==null)return this;if(!this.path)return this;const n=this.cell,r=n.getLabels();if(r.length===0)return this;const i=n.getDefaultLabel(),o=this.normalizeLabelPosition(i.position);for(let a=0,s=r.length;a<s;a+=1){const l=r[a],u=this.labelCache[a];if(!u)continue;const c=this.normalizeLabelPosition(l.position),f=Bo({},o,c),d=this.getLabelTransformationMatrix(f);u.setAttribute("transform",m_(d))}return this}updateTerminalProperties(e){const n=this.cell,r=this.graph,i=n[e],o=i&&i.cell,a=`${e}View`;if(!o)return this[a]=null,this.updateTerminalMagnet(e),!0;const s=r.getCellById(o);if(!s)throw new Error(`Edge's ${e} node with id "${o}" not exists`);const l=s.findView(r);return l?(this[a]=l,this.updateTerminalMagnet(e),!0):!1}updateTerminalMagnet(e){const n=`${e}Magnet`,r=this.getTerminalView(e);if(r){let i=r.getMagnetFromEdgeTerminal(this.cell[e]);i===r.container&&(i=null),this[n]=i}else this[n]=null}getLabelPositionAngle(e){const n=this.cell.getLabelAt(e);return n&&n.position&&typeof n.position=="object"&&n.position.angle||0}getLabelPositionArgs(e){const n=this.cell.getLabelAt(e);if(n&&n.position&&typeof n.position=="object")return n.position.options}getDefaultLabelPositionArgs(){const e=this.cell.getDefaultLabel();if(e&&e.position&&typeof e.position=="object")return e.position.options}mergeLabelPositionArgs(e,n){return e===null?null:e===void 0?n===null?null:n:Bo({},n,e)}getConnection(){return this.path!=null?this.path.clone():null}getConnectionPathData(){if(this.path==null)return"";const e=this.cache.pathCache;return ZE(e,"data")||(e.data=this.path.serialize()),e.data||""}getConnectionSubdivisions(){if(this.path==null)return null;const e=this.cache.pathCache;return ZE(e,"segmentSubdivisions")||(e.segmentSubdivisions=this.path.getSegmentSubdivisions()),e.segmentSubdivisions}getConnectionLength(){if(this.path==null)return 0;const e=this.cache.pathCache;return ZE(e,"length")||(e.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),e.length}getPointAtLength(e){return this.path==null?null:this.path.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(e){return this.path==null?null:(fh(e)&&(e=parseFloat(e)/100),this.path.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(e){return this.path==null?null:this.path.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(e){return this.path==null?null:this.path.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(e){return this.path==null?null:this.path.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(e){return this.path==null?null:this.path.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(e){return this.path==null?null:this.path.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(e,n,r,i){const o={distance:0};let a=0,s;typeof r=="number"?(a=r,s=i):s=r,s!=null&&(o.options=s);const l=s&&s.absoluteOffset,u=!(s&&s.absoluteDistance),c=s&&s.absoluteDistance&&s.reverseDistance,f=this.path,d={segmentSubdivisions:this.getConnectionSubdivisions()},h=new Ve(e,n),p=f.closestPointT(h,d),v=this.getConnectionLength()||0;let g=f.lengthAtT(p,d);u&&(g=v>0?g/v:0),c&&(g=-1*(v-g)||1),o.distance=g;let m;l||(m=f.tangentAtT(p));let y;if(m)y=m.pointOffset(h);else{const b=f.pointAtT(p),w=h.diff(b);y={x:w.x,y:w.y}}return o.offset=y,o.angle=a,o}normalizeLabelPosition(e){return typeof e=="number"?{distance:e}:e}getLabelTransformationMatrix(e){const n=this.normalizeLabelPosition(e),r=n.options||{},i=n.angle||0,o=n.distance,a=o>0&&o<=1;let s=0;const l={x:0,y:0},u=n.offset;u&&(typeof u=="number"?s=u:(u.x!=null&&(l.x=u.x),u.y!=null&&(l.y=u.y)));const c=l.x!==0||l.y!==0||s===0,f=r.keepGradient,d=r.ensureLegibility,h=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},v=a?o*this.getConnectionLength():o,g=h.tangentAtLength(v,p);let m,y=i;if(g){if(c)m=g.start,m.translate(l);else{const b=g.clone();b.rotate(-90,g.start),b.setLength(s),m=b.end}f&&(y=g.angle()+i,d&&(y=xi.normalize((y+90)%180-90)))}else m=h.start,c&&m.translate(l);return Ga().translate(m.x,m.y).rotate(y)}getVertexIndex(e,n){const i=this.cell.getVertices(),o=this.getClosestPointLength(new Ve(e,n));let a=0;if(o!=null)for(const s=i.length;a<s;a+=1){const l=i[a],u=this.getClosestPointLength(l);if(u!=null&&o<u)break}return a}getEventArgs(e,n,r){const i=this,o=i.cell,a=o;return n==null||r==null?{e,view:i,edge:o,cell:a}:{e,x:n,y:r,view:i,edge:o,cell:a}}notifyUnhandledMouseDown(e,n,r){this.notify("edge:unhandled:mousedown",{e,x:n,y:r,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(e,n,r){super.onMouseDown(e,n,r),this.notify("edge:mousedown",this.getEventArgs(e,n,r))}notifyMouseMove(e,n,r){super.onMouseMove(e,n,r),this.notify("edge:mousemove",this.getEventArgs(e,n,r))}notifyMouseUp(e,n,r){super.onMouseUp(e,n,r),this.notify("edge:mouseup",this.getEventArgs(e,n,r))}onClick(e,n,r){super.onClick(e,n,r),this.notify("edge:click",this.getEventArgs(e,n,r))}onDblClick(e,n,r){super.onDblClick(e,n,r),this.notify("edge:dblclick",this.getEventArgs(e,n,r))}onContextMenu(e,n,r){super.onContextMenu(e,n,r),this.notify("edge:contextmenu",this.getEventArgs(e,n,r))}onMouseDown(e,n,r){this.notifyMouseDown(e,n,r),this.startEdgeDragging(e,n,r)}onMouseMove(e,n,r){const i=this.getEventData(e);switch(i.action){case"drag-label":{this.dragLabel(e,n,r);break}case"drag-arrowhead":{this.dragArrowhead(e,n,r);break}case"drag-edge":{this.dragEdge(e,n,r);break}}return this.notifyMouseMove(e,n,r),i}onMouseUp(e,n,r){const i=this.getEventData(e);switch(i.action){case"drag-label":{this.stopLabelDragging(e,n,r);break}case"drag-arrowhead":{this.stopArrowheadDragging(e,n,r);break}case"drag-edge":{this.stopEdgeDragging(e,n,r);break}}return this.notifyMouseUp(e,n,r),this.checkMouseleave(e),i}onMouseOver(e){super.onMouseOver(e),this.notify("edge:mouseover",this.getEventArgs(e))}onMouseOut(e){super.onMouseOut(e),this.notify("edge:mouseout",this.getEventArgs(e))}onMouseEnter(e){super.onMouseEnter(e),this.notify("edge:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("edge:mouseleave",this.getEventArgs(e))}onMouseWheel(e,n,r,i){super.onMouseWheel(e,n,r,i),this.notify("edge:mousewheel",Object.assign({delta:i},this.getEventArgs(e,n,r)))}onCustomEvent(e,n,r,i){if(dye(e.target,"edge-tool",this.container)){if(e.stopPropagation(),this.can("useEdgeTools")){if(n==="edge:remove"){this.cell.remove({ui:!0});return}this.notify("edge:customevent",Object.assign({name:n},this.getEventArgs(e,r,i)))}this.notifyMouseDown(e,r,i)}else this.notify("edge:customevent",Object.assign({name:n},this.getEventArgs(e,r,i))),super.onCustomEvent(e,n,r,i)}onLabelMouseDown(e,n,r){this.notifyMouseDown(e,n,r),this.startLabelDragging(e,n,r),this.getEventData(e).stopPropagation&&e.stopPropagation()}startEdgeDragging(e,n,r){if(!this.can("edgeMovable")){this.notifyUnhandledMouseDown(e,n,r);return}this.setEventData(e,{x:n,y:r,moving:!1,action:"drag-edge"})}dragEdge(e,n,r){const i=this.getEventData(e);i.moving||(i.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e,x:n,y:r,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(n-i.x,r-i.y,{ui:!0}),this.setEventData(e,{x:n,y:r}),this.notify("edge:moving",{e,x:n,y:r,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(e,n,r){const i=this.getEventData(e);i.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e,x:n,y:r,view:this,cell:this.cell,edge:this.cell})),i.moving=!1}prepareArrowheadDragging(e,n){const r=this.getTerminalMagnet(e),i={action:"drag-arrowhead",x:n.x,y:n.y,isNewEdge:n.isNewEdge===!0,terminalType:e,initialMagnet:r,initialTerminal:Px(this.cell[e]),fallbackAction:n.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(e),options:n.options};return this.beforeArrowheadDragging(i),i}createValidateConnectionArgs(e){const n=[];n[4]=e,n[5]=this;let r,i=0,o=0;e==="source"?(i=2,r="target"):(o=2,r="source");const a=this.cell[r],s=a.cell;if(s){let l;const u=n[i]=this.graph.findViewByCell(s);u&&(l=u.getMagnetFromEdgeTerminal(a),l===u.container&&(l=void 0)),n[i+1]=l}return(l,u)=>(n[o]=l,n[o+1]=l.container===u?void 0:u,n)}beforeArrowheadDragging(e){e.zIndex=this.cell.zIndex,this.cell.toFront();const n=this.container.style;e.pointerEvents=n.pointerEvents,n.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(e)}afterArrowheadDragging(e){e.zIndex!=null&&(this.cell.setZIndex(e.zIndex,{ui:!0}),e.zIndex=null);const n=this.container;n.style.pointerEvents=e.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(e)}validateConnection(e,n,r,i,o,a,s){const l=this.graph.options.connecting,u=l.allowLoop,c=l.allowNode,f=l.allowEdge,d=l.allowPort,h=l.allowMulti,p=l.validateConnection,v=a?a.cell:null,g=o==="target"?r:e,m=o==="target"?i:n;let y=!0;const b=w=>{const S=o==="source"?s?s.port:null:v?v.getSourcePortId():null,x=o==="target"?s?s.port:null:v?v.getTargetPortId():null;return lr(w,this.graph,{edge:v,edgeView:a,sourceView:e,targetView:r,sourcePort:S,targetPort:x,sourceMagnet:n,targetMagnet:i,sourceCell:e?e.cell:null,targetCell:r?r.cell:null,type:o})};if(u!=null&&(typeof u=="boolean"?!u&&e===r&&(y=!1):y=b(u)),y&&d!=null&&(typeof d=="boolean"?!d&&m&&(y=!1):y=b(d)),y&&f!=null&&(typeof f=="boolean"?!f&&dh.isEdgeView(g)&&(y=!1):y=b(f)),y&&c!=null&&m==null&&(typeof c=="boolean"?!c&&Lc.isNodeView(g)&&(y=!1):y=b(c)),y&&h!=null&&a){const w=a.cell,S=o==="source"?s:w.getSource(),x=o==="target"?s:w.getTarget(),C=s?this.graph.getCellById(s.cell):null;if(S&&x&&S.cell&&x.cell&&C)if(typeof h=="function")y=b(h);else{const E=this.graph.model.getConnectedEdges(C,{outgoing:o==="source",incoming:o==="target"});E.length&&(h==="withPort"?E.some(A=>{const k=A.getSource(),M=A.getTarget();return k&&M&&k.cell===S.cell&&M.cell===x.cell&&k.port!=null&&k.port===S.port&&M.port!=null&&M.port===x.port})&&(y=!1):h||E.some(A=>{const k=A.getSource(),M=A.getTarget();return k&&M&&k.cell===S.cell&&M.cell===x.cell})&&(y=!1))}}return y&&p!=null&&(y=b(p)),y}allowConnectToBlank(e){const n=this.graph,i=n.options.connecting.allowBlank;if(typeof i!="function")return!!i;const o=n.findViewByCell(e),a=e.getSourceCell(),s=e.getTargetCell(),l=n.findViewByCell(a),u=n.findViewByCell(s);return lr(i,n,{edge:e,edgeView:o,sourceCell:a,targetCell:s,sourceView:l,targetView:u,sourcePort:e.getSourcePortId(),targetPort:e.getTargetPortId(),sourceMagnet:o.sourceMagnet,targetMagnet:o.targetMagnet})}validateEdge(e,n,r){const i=this.graph;if(!this.allowConnectToBlank(e)){const a=e.getSourceCellId(),s=e.getTargetCellId();if(!(a&&s))return!1}const o=i.options.connecting.validateEdge;return o?lr(o,i,{edge:e,type:n,previous:r}):!0}arrowheadDragging(e,n,r,i){i.x=n,i.y=r,i.currentTarget!==e&&(i.currentMagnet&&i.currentView&&i.currentView.unhighlight(i.currentMagnet,{type:"magnetAdsorbed"}),i.currentView=this.graph.findViewByElem(e),i.currentView?(i.currentMagnet=i.currentView.findMagnet(e),i.currentMagnet&&this.validateConnection(...i.getValidateConnectionArgs(i.currentView,i.currentMagnet),i.currentView.getEdgeTerminal(i.currentMagnet,n,r,this.cell,i.terminalType))?i.currentView.highlight(i.currentMagnet,{type:"magnetAdsorbed"}):i.currentMagnet=null):i.currentMagnet=null),i.currentTarget=e,this.cell.prop(i.terminalType,{x:n,y:r},Object.assign(Object.assign({},i.options),{ui:!0}))}arrowheadDragged(e,n,r){const i=e.currentView,o=e.currentMagnet;if(!o||!i)return;i.unhighlight(o,{type:"magnetAdsorbed"});const a=e.terminalType,s=i.getEdgeTerminal(o,n,r,this.cell,a);this.cell.setTerminal(a,s,{ui:!0})}snapArrowhead(e,n,r){const i=this.graph,{snap:o,allowEdge:a}=i.options.connecting,s=typeof o=="object"&&o.radius||50,l=typeof o=="object"&&o.anchor||"center",u=i.renderer.findViewsInArea({x:e-s,y:n-s,width:2*s,height:2*s},{nodeOnly:!0});if(a){const w=i.renderer.findEdgeViewsFromPoint({x:e,y:n},s).filter(S=>S!==this);u.push(...w)}const c=r.closestView||null,f=r.closestMagnet||null;r.closestView=null,r.closestMagnet=null;let d,h=Number.MAX_SAFE_INTEGER;const p=new Ve(e,n);u.forEach(w=>{if(w.container.getAttribute("magnet")!=="false"){if(w.isNodeView())d=l==="center"?w.cell.getBBox().getCenter().distance(p):w.cell.getBBox().getNearestPointToPoint(p).distance(p);else if(w.isEdgeView()){const S=w.getClosestPoint(p);S?d=S.distance(p):d=Number.MAX_SAFE_INTEGER}d<s&&d<h&&(f===w.container||this.validateConnection(...r.getValidateConnectionArgs(w,null),w.getEdgeTerminal(w.container,e,n,this.cell,r.terminalType)))&&(h=d,r.closestView=w,r.closestMagnet=w.container)}w.container.querySelectorAll("[magnet]").forEach(S=>{if(S.getAttribute("magnet")!=="false"){const x=w.getBBoxOfElement(S);d=p.distance(x.getCenter()),d<s&&d<h&&(f===S||this.validateConnection(...r.getValidateConnectionArgs(w,S),w.getEdgeTerminal(S,e,n,this.cell,r.terminalType)))&&(h=d,r.closestView=w,r.closestMagnet=S)}})});let v;const g=r.terminalType,m=r.closestView,y=r.closestMagnet,b=f!==y;if(c&&b&&c.unhighlight(f,{type:"magnetAdsorbed"}),m){if(!b)return;m.highlight(y,{type:"magnetAdsorbed"}),v=m.getEdgeTerminal(y,e,n,this.cell,g)}else v={x:e,y:n};this.cell.setTerminal(g,v,{},Object.assign(Object.assign({},r.options),{ui:!0}))}snapArrowheadEnd(e){const n=e.closestView,r=e.closestMagnet;n&&r&&(n.unhighlight(r,{type:"magnetAdsorbed"}),e.currentMagnet=n.findMagnet(r)),e.closestView=null,e.closestMagnet=null}finishEmbedding(e){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(e.zIndex=null)}fallbackConnection(e){switch(e.fallbackAction){case"remove":this.cell.remove({ui:!0});break;case"revert":default:this.cell.prop(e.terminalType,e.initialTerminal,{ui:!0});break}}notifyConnectionEvent(e,n){const r=e.terminalType,i=e.initialTerminal,o=this.cell[r];if(o&&!jo.equalTerminals(i,o)){const s=this.graph,l=i,u=l.cell?s.getCellById(l.cell):null,c=l.port,f=u?s.findViewByCell(u):null,d=u||e.isNewEdge?null:Ve.create(i).toJSON(),h=o,p=h.cell?s.getCellById(h.cell):null,v=h.port,g=p?s.findViewByCell(p):null,m=p?null:Ve.create(o).toJSON();this.notify("edge:connected",{e:n,previousCell:u,previousPort:c,previousView:f,previousPoint:d,currentCell:p,currentView:g,currentPort:v,currentPoint:m,previousMagnet:e.initialMagnet,currentMagnet:e.currentMagnet,edge:this.cell,view:this,type:r,isNew:e.isNewEdge})}}highlightAvailableMagnets(e){const n=this.graph,r=n.model.getCells();e.marked={};for(let i=0,o=r.length;i<o;i+=1){const a=n.findViewByCell(r[i]);if(!a||a.cell.id===this.cell.id)continue;const s=Array.prototype.slice.call(a.container.querySelectorAll("[magnet]"));a.container.getAttribute("magnet")!=="false"&&s.push(a.container);const l=s.filter(u=>this.validateConnection(...e.getValidateConnectionArgs(a,u),a.getEdgeTerminal(u,e.x,e.y,this.cell,e.terminalType)));if(l.length>0){for(let u=0,c=l.length;u<c;u+=1)a.highlight(l[u],{type:"magnetAvailable"});a.highlight(null,{type:"nodeAvailable"}),e.marked[a.cell.id]=l}}}unhighlightAvailableMagnets(e){const n=e.marked||{};Object.keys(n).forEach(r=>{const i=this.graph.findViewByCell(r);i&&(n[r].forEach(a=>{i.unhighlight(a,{type:"magnetAvailable"})}),i.unhighlight(null,{type:"nodeAvailable"}))}),e.marked=null}startArrowheadDragging(e,n,r){if(!this.can("arrowheadMovable")){this.notifyUnhandledMouseDown(e,n,r);return}const o=e.target.getAttribute("data-terminal"),a=this.prepareArrowheadDragging(o,{x:n,y:r});this.setEventData(e,a)}dragArrowhead(e,n,r){const i=this.getEventData(e);this.graph.options.connecting.snap?this.snapArrowhead(n,r,i):this.arrowheadDragging(this.getEventTarget(e),n,r,i)}stopArrowheadDragging(e,n,r){const i=this.graph,o=this.getEventData(e);i.options.connecting.snap?this.snapArrowheadEnd(o):this.arrowheadDragged(o,n,r),this.validateEdge(this.cell,o.terminalType,o.initialTerminal)?(this.finishEmbedding(o),this.notifyConnectionEvent(o,e)):this.fallbackConnection(o),this.afterArrowheadDragging(o)}startLabelDragging(e,n,r){if(this.can("edgeLabelMovable")){const i=e.currentTarget,o=parseInt(i.getAttribute("data-index"),10),a=this.getLabelPositionAngle(o),s=this.getLabelPositionArgs(o),l=this.getDefaultLabelPositionArgs(),u=this.mergeLabelPositionArgs(s,l);this.setEventData(e,{index:o,positionAngle:a,positionArgs:u,stopPropagation:!0,action:"drag-label"})}else this.setEventData(e,{stopPropagation:!0});this.graph.view.delegateDragEvents(e,this)}dragLabel(e,n,r){const i=this.getEventData(e),o=this.cell.getLabelAt(i.index),a=Bo({},o,{position:this.getLabelPosition(n,r,i.positionAngle,i.positionArgs)});this.cell.setLabelAt(i.index,a)}stopLabelDragging(e,n,r){}}(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag],i=n;return(r==null||r===t.toStringTag)&&typeof i.isNodeView=="function"&&typeof i.isEdgeView=="function"&&typeof i.confirmUpdate=="function"&&typeof i.update=="function"&&typeof i.getConnection=="function"}t.isEdgeView=e})(dh||(dh={}));dh.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],tools:["tools"],vertices:["vertices","update"]}});dh.registry.register("edge",dh,!0);var Wpt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};let Wm=class PV extends Ni{get disposeContainer(){return!1}get options(){return this.graph.options}constructor(e){super(),this.graph=e;const{selectors:n,fragment:r}=fo.parseJSONMarkup(PV.markup);this.background=n.background,this.grid=n.grid,this.svg=n.svg,this.defs=n.defs,this.viewport=n.viewport,this.primer=n.primer,this.stage=n.stage,this.decorator=n.decorator,this.overlay=n.overlay,this.container=this.options.container,this.restore=PV.snapshoot(this.container),Qn(this.container,this.prefixClassName("graph")),Vl(this.container,r),this.delegateEvents()}delegateEvents(){const e=this.constructor;return super.delegateEvents(e.events),this}guard(e,n){return e.type==="mousedown"&&e.button===2||this.options.guard&&this.options.guard(e,n)?!0:e.data&&e.data.guarded!==void 0?e.data.guarded:!(n&&n.cell&&di.isCell(n.cell)||this.svg===e.target||this.container===e.target||this.svg.contains(e.target))}findView(e){return this.graph.findViewByElem(e)}onDblClick(e){this.options.preventDefaultDblClick&&e.preventDefault();const n=this.normalizeEvent(e),r=this.findView(n.target);if(this.guard(n,r))return;const i=this.graph.snapToGrid(n.clientX,n.clientY);r?r.onDblClick(n,i.x,i.y):this.graph.trigger("blank:dblclick",{e:n,x:i.x,y:i.y})}onClick(e){if(this.getMouseMovedCount(e)<=this.options.clickThreshold){const n=this.normalizeEvent(e),r=this.findView(n.target);if(this.guard(n,r))return;const i=this.graph.snapToGrid(n.clientX,n.clientY);r?r.onClick(n,i.x,i.y):this.graph.trigger("blank:click",{e:n,x:i.x,y:i.y})}}isPreventDefaultContextMenu(e){let n=this.options.preventDefaultContextMenu;return typeof n=="function"&&(n=lr(n,this.graph,{view:e})),n}onContextMenu(e){const n=this.normalizeEvent(e),r=this.findView(n.target);if(this.isPreventDefaultContextMenu(r)&&e.preventDefault(),this.guard(n,r))return;const i=this.graph.snapToGrid(n.clientX,n.clientY);r?r.onContextMenu(n,i.x,i.y):this.graph.trigger("blank:contextmenu",{e:n,x:i.x,y:i.y})}delegateDragEvents(e,n){e.data==null&&(e.data={}),this.setEventData(e,{currentView:n||null,mouseMovedCount:0,startPosition:{x:e.clientX,y:e.clientY}});const r=this.constructor;this.delegateDocumentEvents(r.documentEvents,e.data),this.undelegateEvents()}getMouseMovedCount(e){return this.getEventData(e).mouseMovedCount||0}onMouseDown(e){const n=this.normalizeEvent(e),r=this.findView(n.target);if(this.guard(n,r))return;this.options.preventDefaultMouseDown&&e.preventDefault();const i=this.graph.snapToGrid(n.clientX,n.clientY);r?r.onMouseDown(n,i.x,i.y):(this.options.preventDefaultBlankAction&&["touchstart"].includes(n.type)&&e.preventDefault(),this.graph.trigger("blank:mousedown",{e:n,x:i.x,y:i.y})),this.delegateDragEvents(n,r)}onMouseMove(e){const n=this.getEventData(e),r=n.startPosition;if(r&&r.x===e.clientX&&r.y===e.clientY||(n.mouseMovedCount==null&&(n.mouseMovedCount=0),n.mouseMovedCount+=1,n.mouseMovedCount<=this.options.moveThreshold))return;const o=this.normalizeEvent(e),a=this.graph.snapToGrid(o.clientX,o.clientY),s=n.currentView;s?s.onMouseMove(o,a.x,a.y):this.graph.trigger("blank:mousemove",{e:o,x:a.x,y:a.y}),this.setEventData(o,n)}onMouseUp(e){this.undelegateDocumentEvents();const n=this.normalizeEvent(e),r=this.graph.snapToGrid(n.clientX,n.clientY),o=this.getEventData(e).currentView;if(o?o.onMouseUp(n,r.x,r.y):this.graph.trigger("blank:mouseup",{e:n,x:r.x,y:r.y}),!e.isPropagationStopped()){const a=new Hf(e,{type:"click",data:e.data});this.onClick(a)}e.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(e){const n=this.normalizeEvent(e),r=this.findView(n.target);if(!this.guard(n,r))if(r)r.onMouseOver(n);else{if(this.container===n.target)return;this.graph.trigger("blank:mouseover",{e:n})}}onMouseOut(e){const n=this.normalizeEvent(e),r=this.findView(n.target);if(!this.guard(n,r))if(r)r.onMouseOut(n);else{if(this.container===n.target)return;this.graph.trigger("blank:mouseout",{e:n})}}onMouseEnter(e){const n=this.normalizeEvent(e),r=this.findView(n.target);if(this.guard(n,r))return;const i=this.graph.findViewByElem(n.relatedTarget);if(r){if(i===r)return;r.onMouseEnter(n)}else{if(i)return;this.graph.trigger("graph:mouseenter",{e:n})}}onMouseLeave(e){const n=this.normalizeEvent(e),r=this.findView(n.target);if(this.guard(n,r))return;const i=this.graph.findViewByElem(n.relatedTarget);if(r){if(i===r)return;r.onMouseLeave(n)}else{if(i)return;this.graph.trigger("graph:mouseleave",{e:n})}}onMouseWheel(e){const n=this.normalizeEvent(e),r=this.findView(n.target);if(this.guard(n,r))return;const i=n.originalEvent,o=this.graph.snapToGrid(i.clientX,i.clientY),a=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail));r?r.onMouseWheel(n,o.x,o.y,a):this.graph.trigger("blank:mousewheel",{e:n,delta:a,x:o.x,y:o.y})}onCustomEvent(e){const n=e.currentTarget,r=n.getAttribute("event")||n.getAttribute("data-event");if(r){const i=this.findView(n);if(i){const o=this.normalizeEvent(e);if(this.guard(o,i))return;const a=this.graph.snapToGrid(o.clientX,o.clientY);i.onCustomEvent(o,r,a.x,a.y)}}}handleMagnetEvent(e,n){const r=e.currentTarget,i=r.getAttribute("magnet");if(i&&i.toLowerCase()!=="false"){const o=this.findView(r);if(o){const a=this.normalizeEvent(e);if(this.guard(a,o))return;const s=this.graph.snapToGrid(a.clientX,a.clientY);lr(n,this.graph,o,a,r,s.x,s.y)}}}onMagnetMouseDown(e){this.handleMagnetEvent(e,(n,r,i,o,a)=>{n.onMagnetMouseDown(r,i,o,a)})}onMagnetDblClick(e){this.handleMagnetEvent(e,(n,r,i,o,a)=>{n.onMagnetDblClick(r,i,o,a)})}onMagnetContextMenu(e){const n=this.findView(e.target);this.isPreventDefaultContextMenu(n)&&e.preventDefault(),this.handleMagnetEvent(e,(r,i,o,a,s)=>{r.onMagnetContextMenu(i,o,a,s)})}onLabelMouseDown(e){const n=e.currentTarget,r=this.findView(n);if(r){const i=this.normalizeEvent(e);if(this.guard(i,r))return;const o=this.graph.snapToGrid(i.clientX,i.clientY);r.onLabelMouseDown(i,o.x,o.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}};Wpt([Ni.dispose()],Wm.prototype,"dispose",null);(function(t){const e=`${Yu.prefixCls}-graph`;t.markup=[{ns:Ba.xhtml,tagName:"div",selector:"background",className:`${e}-background`},{ns:Ba.xhtml,tagName:"div",selector:"grid",className:`${e}-grid`},{ns:Ba.svg,tagName:"svg",selector:"svg",className:`${e}-svg`,attrs:{width:"100%",height:"100%","xmlns:xlink":Ba.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:`${e}-svg-viewport`,children:[{tagName:"g",selector:"primer",className:`${e}-svg-primer`},{tagName:"g",selector:"stage",className:`${e}-svg-stage`},{tagName:"g",selector:"decorator",className:`${e}-svg-decorator`},{tagName:"g",selector:"overlay",className:`${e}-svg-overlay`}]}]}];function n(r){const i=r.cloneNode();return r.childNodes.forEach(o=>i.appendChild(o)),()=>{for(M2(r);r.attributes.length>0;)r.removeAttribute(r.attributes[0].name);for(let o=0,a=i.attributes.length;o<a;o+=1){const s=i.attributes[o];r.setAttribute(s.name,s.value)}i.childNodes.forEach(o=>r.appendChild(o))}}t.snapshoot=n})(Wm||(Wm={}));(function(t){const e=Yu.prefixCls;t.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${e}-cell`]:"onMouseEnter",[`mouseleave  .${e}-cell`]:"onMouseLeave",[`mouseenter  .${e}-cell-tools`]:"onMouseEnter",[`mouseleave  .${e}-cell-tools`]:"onMouseLeave",[`mousedown   .${e}-cell [event]`]:"onCustomEvent",[`touchstart  .${e}-cell [event]`]:"onCustomEvent",[`mousedown   .${e}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${e}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${e}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${e}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${e}-cell image`]:"onImageDragStart",[`mousedown   .${e}-edge .${e}-edge-label`]:"onLabelMouseDown",[`touchstart  .${e}-edge .${e}-edge-label`]:"onLabelMouseDown"},t.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})(Wm||(Wm={}));const qpt=`.x6-graph {
  position: relative;
  overflow: hidden;
  outline: none;
  touch-action: none;
}
.x6-graph-background,
.x6-graph-grid,
.x6-graph-svg {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-background-stage,
.x6-graph-grid-stage,
.x6-graph-svg-stage {
  user-select: none;
}
.x6-graph.x6-graph-pannable {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph.x6-graph-panning {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-node {
  cursor: move;
  /* stylelint-disable-next-line */
}
.x6-node.x6-node-immovable {
  cursor: default;
}
.x6-node * {
  -webkit-user-drag: none;
}
.x6-node .scalable * {
  vector-effect: non-scaling-stroke;
}
.x6-node [magnet='true'] {
  cursor: crosshair;
  transition: opacity 0.3s;
}
.x6-node [magnet='true']:hover {
  opacity: 0.7;
}
.x6-node foreignObject {
  display: block;
  overflow: visible;
  background-color: transparent;
}
.x6-node foreignObject > body {
  position: static;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: visible;
  background-color: transparent;
}
.x6-edge .source-marker,
.x6-edge .target-marker {
  vector-effect: non-scaling-stroke;
}
.x6-edge .connection {
  stroke-linejoin: round;
  fill: none;
}
.x6-edge .connection-wrap {
  cursor: move;
  opacity: 0;
  fill: none;
  stroke: #000;
  stroke-width: 15;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.x6-edge .connection-wrap:hover {
  opacity: 0.4;
  stroke-opacity: 0.4;
}
.x6-edge .vertices {
  cursor: move;
  opacity: 0;
}
.x6-edge .vertices .vertex {
  fill: #1abc9c;
}
.x6-edge .vertices .vertex :hover {
  fill: #34495e;
  stroke: none;
}
.x6-edge .vertices .vertex-remove {
  cursor: pointer;
  fill: #fff;
}
.x6-edge .vertices .vertex-remove-area {
  cursor: pointer;
  opacity: 0.1;
}
.x6-edge .vertices .vertex-group:hover .vertex-remove-area {
  opacity: 1;
}
.x6-edge .arrowheads {
  cursor: move;
  opacity: 0;
}
.x6-edge .arrowheads .arrowhead {
  fill: #1abc9c;
}
.x6-edge .arrowheads .arrowhead :hover {
  fill: #f39c12;
  stroke: none;
}
.x6-edge .tools {
  cursor: pointer;
  opacity: 0;
}
.x6-edge .tools .tool-options {
  display: none;
}
.x6-edge .tools .tool-remove circle {
  fill: #f00;
}
.x6-edge .tools .tool-remove path {
  fill: #fff;
}
.x6-edge:hover .vertices,
.x6-edge:hover .arrowheads,
.x6-edge:hover .tools {
  opacity: 1;
}
.x6-highlight-opacity {
  opacity: 0.3;
}
.x6-cell-tool-editor {
  position: relative;
  display: inline-block;
  min-height: 1em;
  margin: 0;
  padding: 0;
  line-height: 1;
  white-space: normal;
  text-align: center;
  vertical-align: top;
  overflow-wrap: normal;
  outline: none;
  transform-origin: 0 0;
  -webkit-user-drag: none;
}
.x6-edge-tool-editor {
  border: 1px solid #275fc5;
  border-radius: 2px;
}
`;let Wa=class extends ol{get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}constructor(e){super(),this.graph=e,this.init()}init(){}};var Kpt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class OV extends Wa{init(){y_("core",qpt)}dispose(){b_("core")}}Kpt([OV.dispose()],OV.prototype,"dispose",null);var Ypt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},oC;(function(t){function e(n){const{grid:r,panning:i,mousewheel:o,embedding:a}=n,s=Ypt(n,["grid","panning","mousewheel","embedding"]),l=n.container;if(l!=null)s.width==null&&(s.width=l.clientWidth),s.height==null&&(s.height=l.clientHeight);else throw new Error("Ensure the container of the graph is specified and valid");const u=Bo({},t.defaults,s),c={size:10,visible:!1};return typeof r=="number"?u.grid={size:r,visible:!1}:typeof r=="boolean"?u.grid=Object.assign(Object.assign({},c),{visible:r}):u.grid=Object.assign(Object.assign({},c),r),["panning","mousewheel","embedding"].forEach(d=>{const h=n[d];typeof h=="boolean"?u[d].enabled=h:u[d]=Object.assign(Object.assign({},u[d]),h)}),u}t.get=e})(oC||(oC={}));(function(t){t.defaults={x:0,y:0,scaling:{min:.01,max:16},grid:{size:10,visible:!1},background:!1,panning:{enabled:!1,eventTypes:["leftMouseDown"]},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:Yu.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:Yu.prefix("available-magnet")}}},connecting:{snap:!1,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,allowBlank:!0,allowMulti:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",router:"normal",connector:"normal",validateConnection({type:e,sourceView:n,targetView:r}){return(e==="target"?r:n)!=null},createEdge(){return new x0e}},translating:{restrict:!1},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},async:!0,virtual:!1,guard:()=>!1}})(oC||(oC={}));var Xpt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Zpt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Lj extends Wa{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(e){this.grid.visible!==e&&(this.grid.visible=e,this.update())}getGridSize(){return this.grid.size}setGridSize(e){this.grid.size=Math.max(e,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(e){this.clear(),this.instance=null,Object.assign(this.grid,e),this.patterns=this.resolveGrid(e),this.update()}update(e={}){const n=this.grid.size;if(n<=1||!this.grid.visible)return this.clear();const r=this.graph.matrix(),i=this.getInstance(),o=Array.isArray(e)?e:[e];this.patterns.forEach((l,u)=>{const c=`pattern_${u}`,f=r.a||1,d=r.d||1,{update:h,markup:p}=l,v=Zpt(l,["update","markup"]),g=Object.assign(Object.assign(Object.assign({},v),o[u]),{sx:f,sy:d,ox:r.e||0,oy:r.f||0,width:n*f,height:n*d});i.has(c)||i.add(c,Sr.create("pattern",{id:c,patternUnits:"userSpaceOnUse"},Sr.createVectors(p)).node);const m=i.get(c);typeof h=="function"&&h(m.childNodes[0],g);let y=g.ox%g.width;y<0&&(y+=g.width);let b=g.oy%g.height;b<0&&(b+=g.height),oi(m,{x:y,y:b,width:g.width,height:g.height})});const a=new XMLSerializer().serializeToString(i.root),s=`url(data:image/svg+xml;base64,${btoa(a)})`;this.elem.style.backgroundImage=s}getInstance(){return this.instance||(this.instance=new Ap),this.instance}resolveGrid(e){if(!e)return[];const n=e.type;if(n==null)return[Object.assign(Object.assign({},Ap.presets.dot),e.args)];const r=Ap.registry.get(n);if(r){let i=e.args||[];return Array.isArray(i)||(i=[i]),Array.isArray(r)?r.map((o,a)=>Object.assign(Object.assign({},o),i[a])):[Object.assign(Object.assign({},r),i[0])]}return Ap.registry.onNotFound(n)}dispose(){this.stopListening(),this.clear()}}Xpt([Wa.dispose()],Lj.prototype,"dispose",null);class C0e extends Wa{get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get stage(){return this.graph.view.stage}init(){this.resize()}getMatrix(){const e=this.viewport.getAttribute("transform");return e!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=e),Ga(this.viewportMatrix)}setMatrix(e){const n=Ga(e),r=m_(n);this.viewport.setAttribute("transform",r),this.viewportMatrix=n,this.viewportTransformString=r}resize(e,n){let r=e===void 0?this.options.width:e,i=n===void 0?this.options.height:n;this.options.width=r,this.options.height=i,typeof r=="number"&&(r=Math.round(r)),typeof i=="number"&&(i=Math.round(i)),this.container.style.width=r==null?"":`${r}px`,this.container.style.height=i==null?"":`${i}px`;const o=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},o)),this}getComputedSize(){let e=this.options.width,n=this.options.height;return aF(e)||(e=this.container.clientWidth),aF(n)||(n=this.container.clientHeight),{width:e,height:n}}getScale(){return Kct(this.getMatrix())}scale(e,n=e,r=0,i=0){if(e=this.clampScale(e),n=this.clampScale(n),r||i){const a=this.getTranslation(),s=a.tx-r*(e-1),l=a.ty-i*(n-1);(s!==a.tx||l!==a.ty)&&this.translate(s,l)}const o=this.getMatrix();return o.a=e,o.d=n,this.setMatrix(o),this.graph.trigger("scale",{sx:e,sy:n,ox:r,oy:i}),this}clampScale(e){const n=this.graph.options.scaling;return Xs(e,n.min||.01,n.max||16)}getZoom(){return this.getScale().sx}zoom(e,n){n=n||{};let r=e,i=e;const o=this.getScale(),a=this.getComputedSize();let s=a.width/2,l=a.height/2;if(n.absolute||(r+=o.sx,i+=o.sy),n.scaleGrid&&(r=Math.round(r/n.scaleGrid)*n.scaleGrid,i=Math.round(i/n.scaleGrid)*n.scaleGrid),n.maxScale&&(r=Math.min(n.maxScale,r),i=Math.min(n.maxScale,i)),n.minScale&&(r=Math.max(n.minScale,r),i=Math.max(n.minScale,i)),n.center&&(s=n.center.x,l=n.center.y),r=this.clampScale(r),i=this.clampScale(i),s||l){const u=this.getTranslation(),c=s-(s-u.tx)*(r/o.sx),f=l-(l-u.ty)*(i/o.sy);(c!==u.tx||f!==u.ty)&&this.translate(c,f)}return this.scale(r,i),this}getRotation(){return Yct(this.getMatrix())}rotate(e,n,r){if(n==null||r==null){const o=Fi.getBBox(this.stage);n=o.width/2,r=o.height/2}const i=this.getMatrix().translate(n,r).rotate(e).translate(-n,-r);return this.setMatrix(i),this}getTranslation(){return Xct(this.getMatrix())}translate(e,n){const r=this.getMatrix();r.e=e||0,r.f=n||0,this.setMatrix(r);const i=this.getTranslation();return this.options.x=i.tx,this.options.y=i.ty,this.graph.trigger("translate",Object.assign({},i)),this}setOrigin(e,n){return this.translate(e||0,n||0)}fitToContent(e,n,r,i){if(typeof e=="object"){const b=e;e=b.gridWidth||1,n=b.gridHeight||1,r=b.padding||0,i=b}else e=e||1,n=n||1,r=r||0,i==null&&(i={});const o=iv(r),a=i.border||0,s=i.contentArea?bn.create(i.contentArea):this.getContentArea(i);a>0&&s.inflate(a);const l=this.getScale(),u=this.getTranslation(),c=l.sx,f=l.sy;s.x*=c,s.y*=f,s.width*=c,s.height*=f;let d=Math.max(Math.ceil((s.width+s.x)/e),1)*e,h=Math.max(Math.ceil((s.height+s.y)/n),1)*n,p=0,v=0;(i.allowNewOrigin==="negative"&&s.x<0||i.allowNewOrigin==="positive"&&s.x>=0||i.allowNewOrigin==="any")&&(p=Math.ceil(-s.x/e)*e,p+=o.left,d+=p),(i.allowNewOrigin==="negative"&&s.y<0||i.allowNewOrigin==="positive"&&s.y>=0||i.allowNewOrigin==="any")&&(v=Math.ceil(-s.y/n)*n,v+=o.top,h+=v),d+=o.right,h+=o.bottom,d=Math.max(d,i.minWidth||0),h=Math.max(h,i.minHeight||0),d=Math.min(d,i.maxWidth||Number.MAX_SAFE_INTEGER),h=Math.min(h,i.maxHeight||Number.MAX_SAFE_INTEGER);const g=this.getComputedSize(),m=d!==g.width||h!==g.height;return(p!==u.tx||v!==u.ty)&&this.translate(p,v),m&&this.resize(d,h),new bn(-p/c,-v/f,d/c,h/f)}scaleContentToFit(e={}){this.scaleContentToFitImpl(e)}scaleContentToFitImpl(e={},n=!0){let r,i;if(e.contentArea){const m=e.contentArea;r=this.graph.localToGraph(m),i=Ve.create(m)}else r=this.getContentBBox(e),i=this.graph.graphToLocal(r);if(!r.width||!r.height)return;const o=iv(e.padding),a=e.minScale||0,s=e.maxScale||Number.MAX_SAFE_INTEGER,l=e.minScaleX||a,u=e.maxScaleX||s,c=e.minScaleY||a,f=e.maxScaleY||s;let d;if(e.viewportArea)d=e.viewportArea;else{const m=this.getComputedSize(),y=this.getTranslation();d={x:y.tx,y:y.ty,width:m.width,height:m.height}}d=bn.create(d).moveAndExpand({x:o.left,y:o.top,width:-o.left-o.right,height:-o.top-o.bottom});const h=this.getScale();let p=d.width/r.width*h.sx,v=d.height/r.height*h.sy;e.preserveAspectRatio!==!1&&(p=v=Math.min(p,v));const g=e.scaleGrid;if(g&&(p=g*Math.floor(p/g),v=g*Math.floor(v/g)),p=Xs(p,l,u),v=Xs(v,c,f),this.scale(p,v),n){const m=this.options,y=d.x-i.x*p-m.x,b=d.y-i.y*v-m.y;this.translate(y,b)}}getContentArea(e={}){return e.useCellGeometry!==!1?this.model.getAllCellsBBox()||new bn:Fi.getBBox(this.stage)}getContentBBox(e={}){return this.graph.localToGraph(this.getContentArea(e))}getGraphArea(){const e=bn.fromSize(this.getComputedSize());return this.graph.graphToLocal(e)}zoomToRect(e,n={}){const r=bn.create(e),i=this.graph;n.contentArea=r,n.viewportArea==null&&(n.viewportArea={x:i.options.x,y:i.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(n,!1);const o=r.getCenter();return this.centerPoint(o.x,o.y),this}zoomToFit(e={}){return this.zoomToRect(this.getContentArea(e),e)}centerPoint(e,n){const r=this.getComputedSize(),i=this.getScale(),o=this.getTranslation(),a=r.width/2,s=r.height/2;e=typeof e=="number"?e:a,n=typeof n=="number"?n:s,e=a-e*i.sx,n=s-n*i.sy,(o.tx!==e||o.ty!==n)&&this.translate(e,n)}centerContent(e){const r=this.graph.getContentArea(e).getCenter();this.centerPoint(r.x,r.y)}centerCell(e){return this.positionCell(e,"center")}positionPoint(e,n,r){const i=this.getComputedSize();n=Sc(n,Math.max(0,i.width)),n<0&&(n=i.width+n),r=Sc(r,Math.max(0,i.height)),r<0&&(r=i.height+r);const o=this.getTranslation(),a=this.getScale(),s=n-e.x*a.sx,l=r-e.y*a.sy;(o.tx!==s||o.ty!==l)&&this.translate(s,l)}positionRect(e,n){const r=bn.create(e);switch(n){case"center":return this.positionPoint(r.getCenter(),"50%","50%");case"top":return this.positionPoint(r.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(r.getTopRight(),"100%",0);case"right":return this.positionPoint(r.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(r.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(r.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(r.getBottomLeft(),0,"100%");case"left":return this.positionPoint(r.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(r.getTopLeft(),0,0);default:return this}}positionCell(e,n){const r=e.getBBox();return this.positionRect(r,n)}positionContent(e,n){const r=this.graph.getContentArea(n);return this.positionRect(r,e)}}var Jpt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class Dj extends Wa{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(e={}){let n=e.size||"auto auto",r=e.position||"center";const i=this.graph.transform.getScale(),o=this.graph.translate();if(typeof r=="object"){const a=o.tx+i.sx*(r.x||0),s=o.ty+i.sy*(r.y||0);r=`${a}px ${s}px`}typeof n=="object"&&(n=bn.fromSize(n).scale(i.sx,i.sy),n=`${n.width}px ${n.height}px`),this.elem.style.backgroundSize=n,this.elem.style.backgroundPosition=r}drawBackgroundImage(e,n={}){if(!(e instanceof HTMLImageElement)){this.elem.style.backgroundImage="";return}const r=this.optionsCache;if(r&&r.image!==n.image)return;let i;const o=n.opacity,a=n.size;let s=n.repeat||"no-repeat";const l=tC.registry.get(s);if(typeof l=="function"){const c=n.quality||1;e.width*=c,e.height*=c;const f=l(e,n);if(!(f instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");i=f.toDataURL("image/png"),n.repeat&&s!==n.repeat?s=n.repeat:s="repeat",typeof a=="object"?(a.width*=f.width/e.width,a.height*=f.height/e.height):a===void 0&&(n.size={width:f.width/c,height:f.height/c})}else i=e.src,a===void 0&&(n.size={width:e.width,height:e.height});r!=null&&typeof n.size=="object"&&n.image===r.image&&n.repeat===r.repeat&&n.quality===r.quality&&(r.size=Px(n.size));const u=this.elem.style;u.backgroundImage=`url(${i})`,u.backgroundRepeat=s,u.opacity=o==null||o>=1?"":`${o}`,this.updateBackgroundImage(n)}updateBackgroundColor(e){this.elem.style.backgroundColor=e||""}updateBackgroundOptions(e){this.graph.options.background=e}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(e){const n=e||{};if(this.updateBackgroundOptions(e),this.updateBackgroundColor(n.color),n.image){this.optionsCache=Px(n);const r=document.createElement("img");r.onload=()=>this.drawBackgroundImage(r,e),r.setAttribute("crossorigin","anonymous"),r.src=n.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}Jpt([Wa.dispose()],Dj.prototype,"dispose",null);var Qpt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class Nj extends Wa{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&this.widgetOptions.enabled===!0}init(){this.onRightMouseDown=this.onRightMouseDown.bind(this),this.onSpaceKeyDown=this.onSpaceKeyDown.bind(this),this.onSpaceKeyUp=this.onSpaceKeyUp.bind(this),this.startListening(),this.updateClassName()}startListening(){this.graph.on("blank:mousedown",this.onMouseDown,this),this.graph.on("node:unhandled:mousedown",this.onMouseDown,this),this.graph.on("edge:unhandled:mousedown",this.onMouseDown,this),Za.on(this.graph.container,"mousedown",this.onRightMouseDown),Za.on(document.body,{keydown:this.onSpaceKeyDown,keyup:this.onSpaceKeyUp}),this.mousewheelHandle=new Eye(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()}stopListening(){this.graph.off("blank:mousedown",this.onMouseDown,this),this.graph.off("node:unhandled:mousedown",this.onMouseDown,this),this.graph.off("edge:unhandled:mousedown",this.onMouseDown,this),Za.off(this.graph.container,"mousedown",this.onRightMouseDown),Za.off(document.body,{keydown:this.onSpaceKeyDown,keyup:this.onSpaceKeyUp}),this.mousewheelHandle&&this.mousewheelHandle.disable()}allowPanning(e,n){return e.spaceKey=this.isSpaceKeyPressed,this.pannable&&sv.isMatch(e,this.widgetOptions.modifiers,n)}startPanning(e){const n=this.view.normalizeEvent(e);this.clientX=n.clientX,this.clientY=n.clientY,this.panning=!0,this.updateClassName(),Za.on(document.body,{"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),Za.on(window,"mouseup.panning",this.stopPanning.bind(this))}pan(e){const n=this.view.normalizeEvent(e),r=n.clientX-this.clientX,i=n.clientY-this.clientY;this.clientX=n.clientX,this.clientY=n.clientY,this.graph.translateBy(r,i)}stopPanning(e){this.panning=!1,this.updateClassName(),Za.off(document.body,".panning"),Za.off(window,".panning")}updateClassName(){const e=this.view.container,n=this.view.prefixClassName("graph-panning"),r=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(Qn(e,n),_o(e,r)):(_o(e,n),Qn(e,r)):(_o(e,n),_o(e,r))}onMouseDown({e}){if(!this.allowBlankMouseDown(e))return;const n=this.graph.getPlugin("selection"),r=n&&n.allowRubberband(e,!0);(this.allowPanning(e,!0)||this.allowPanning(e)&&!r)&&this.startPanning(e)}onRightMouseDown(e){const n=this.widgetOptions.eventTypes;n?.includes("rightMouseDown")&&e.button===2&&this.allowPanning(e,!0)&&this.startPanning(e)}onMouseWheel(e,n,r){this.graph.translateBy(-n,-r)}onSpaceKeyDown(e){e.which===32&&(this.isSpaceKeyPressed=!0)}onSpaceKeyUp(e){e.which===32&&(this.isSpaceKeyPressed=!1)}allowBlankMouseDown(e){const n=this.widgetOptions.eventTypes;return n?.includes("leftMouseDown")&&e.button===0||n?.includes("mouseWheelDown")&&e.button===1}allowMouseWheel(e){var n;return this.pannable&&!e.ctrlKey&&((n=this.widgetOptions.eventTypes)===null||n===void 0?void 0:n.includes("mouseWheel"))}autoPanning(e,n){const i=this.graph.getGraphArea();let o=0,a=0;e<=i.left+10&&(o=-10),n<=i.top+10&&(a=-10),e>=i.right-10&&(o=10),n>=i.bottom-10&&(a=10),(o!==0||a!==0)&&this.graph.translateBy(-o,-a)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}Qpt([Wa.dispose()],Nj.prototype,"dispose",null);var evt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class Bj extends Wa{constructor(){super(...arguments),this.cumulatedFactor=1}get widgetOptions(){return this.options.mousewheel}init(){this.container=this.graph.container,this.target=this.widgetOptions.global?document:this.container,this.mousewheelHandle=new Eye(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.widgetOptions.enabled&&this.enable(!0)}get disabled(){return this.widgetOptions.enabled!==!0}enable(e){(this.disabled||e)&&(this.widgetOptions.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.widgetOptions.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(e){const n=this.widgetOptions.guard;return(n==null||n(e))&&sv.isMatch(e,this.widgetOptions.modifiers)}onMouseWheel(e){const n=this.widgetOptions.guard;if((n==null||n(e))&&sv.isMatch(e,this.widgetOptions.modifiers)){const r=this.widgetOptions.factor||1.2;this.currentScale==null&&(this.startPos={x:e.clientX,y:e.clientY},this.currentScale=this.graph.transform.getScale().sx),e.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*r*20)/20/this.currentScale,this.cumulatedFactor===1&&(this.cumulatedFactor=1.05)):this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*(1/r)*20)/20/this.currentScale,this.cumulatedFactor===1&&(this.cumulatedFactor=.95)),this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const o=this.currentScale;let a=this.graph.transform.clampScale(o*this.cumulatedFactor);const s=this.widgetOptions.minScale||Number.MIN_SAFE_INTEGER,l=this.widgetOptions.maxScale||Number.MAX_SAFE_INTEGER;if(a=Xs(a,s,l),a!==o)if(this.widgetOptions.zoomAtMousePosition){const c=!!this.graph.getPlugin("scroller")?this.graph.clientToLocal(this.startPos):this.graph.clientToGraph(this.startPos);this.graph.zoom(a,{absolute:!0,center:c.clone()})}else this.graph.zoom(a,{absolute:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}evt([ol.dispose()],Bj.prototype,"dispose",null);var tvt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class E0e extends Wa{init(){this.resetRenderArea=jp(this.resetRenderArea,200,{leading:!0}),this.resetRenderArea(),this.startListening()}startListening(){this.graph.on("translate",this.resetRenderArea,this),this.graph.on("scale",this.resetRenderArea,this),this.graph.on("resize",this.resetRenderArea,this)}stopListening(){this.graph.off("translate",this.resetRenderArea,this),this.graph.off("scale",this.resetRenderArea,this),this.graph.off("resize",this.resetRenderArea,this)}enableVirtualRender(){this.options.virtual=!0,this.resetRenderArea()}disableVirtualRender(){this.options.virtual=!1,this.graph.renderer.setRenderArea(void 0)}resetRenderArea(){if(this.options.virtual){const e=this.graph.getGraphArea();this.graph.renderer.setRenderArea(e)}}dispose(){this.stopListening()}}tvt([Wa.dispose()],E0e.prototype,"dispose",null);class nvt{constructor(){this.isFlushing=!1,this.isFlushPending=!1,this.scheduleId=0,this.queue=[],this.frameInterval=33,this.initialTime=Date.now()}queueJob(e){if(e.priority&Id.PRIOR)e.cb();else{const n=this.findInsertionIndex(e);n>=0&&this.queue.splice(n,0,e)}}queueFlush(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.scheduleJob())}queueFlushSync(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.flushJobsSync())}clearJobs(){this.queue.length=0,this.isFlushing=!1,this.isFlushPending=!1,this.cancelScheduleJob()}flushJobs(){this.isFlushPending=!1,this.isFlushing=!0;const e=this.getCurrentTime();let n;for(;(n=this.queue.shift())&&(n.cb(),!(this.getCurrentTime()-e>=this.frameInterval)););this.isFlushing=!1,this.queue.length&&this.queueFlush()}flushJobsSync(){this.isFlushPending=!1,this.isFlushing=!0;let e;for(;e=this.queue.shift();)try{e.cb()}catch(n){console.log(n)}this.isFlushing=!1}findInsertionIndex(e){let n=0,r=this.queue.length,i=r-1;const o=e.priority;for(;n<=i;){const a=(i-n>>1)+n;o<=this.queue[a].priority?n=a+1:(r=a,i=a-1)}return r}scheduleJob(){"requestIdleCallback"in window?(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.requestIdleCallback(this.flushJobs.bind(this),{timeout:100})):(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.setTimeout(this.flushJobs.bind(this)))}cancelScheduleJob(){"cancelIdleCallback"in window?(this.scheduleId&&window.cancelIdleCallback(this.scheduleId),this.scheduleId=0):(this.scheduleId&&clearTimeout(this.scheduleId),this.scheduleId=0)}getCurrentTime(){return typeof performance=="object"&&typeof performance.now=="function"?performance.now():Date.now()-this.initialTime}}var Id;(function(t){t[t.Update=2]="Update",t[t.RenderEdge=4]="RenderEdge",t[t.RenderNode=8]="RenderNode",t[t.PRIOR=1048576]="PRIOR"})(Id||(Id={}));var rvt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};let S1=class Bl extends ol{get model(){return this.graph.model}get container(){return this.graph.view.stage}constructor(e){super(),this.views={},this.willRemoveViews={},this.queue=new nvt,this.graph=e,this.init()}init(){this.startListening(),this.renderViews(this.model.getCells())}startListening(){this.model.on("reseted",this.onModelReseted,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("reseted",this.onModelReseted,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}onModelReseted({options:e}){this.queue.clearJobs(),this.removeZPivots(),this.resetViews();const n=this.model.getCells();this.renderViews(n,Object.assign(Object.assign({},e),{queue:n.map(r=>r.id)}))}onCellAdded({cell:e,options:n}){this.renderViews([e],n)}onCellRemoved({cell:e}){this.removeViews([e])}onCellZIndexChanged({cell:e,options:n}){const r=this.views[e.id];r&&this.requestViewUpdate(r.view,Bl.FLAG_INSERT,n,Id.Update,!0)}onCellVisibleChanged({cell:e,current:n}){this.toggleVisible(e,!!n)}requestViewUpdate(e,n,r={},i=Id.Update,o=!0){const a=e.cell.id,s=this.views[a];if(!s)return;s.flag=n,s.options=r,(e.hasAction(n,["translate","resize","rotate"])||r.async===!1)&&(i=Id.PRIOR,o=!1),this.queue.queueJob({id:a,priority:i,cb:()=>{this.renderViewInArea(e,n,r);const c=r.queue;if(c){const f=c.indexOf(e.cell.id);f>=0&&c.splice(f,1),c.length===0&&this.graph.trigger("render:done")}}}),this.getEffectedEdges(e).forEach(c=>{this.requestViewUpdate(c.view,c.flag,r,i,!1)}),o&&this.flush()}setRenderArea(e){this.renderArea=e,this.flushWaitingViews()}isViewMounted(e){if(e==null)return!1;const n=this.views[e.cell.id];return n?n.state===Bl.ViewState.MOUNTED:!1}renderViews(e,n={}){e.sort((r,i)=>r.isNode()&&i.isEdge()?-1:0),e.forEach(r=>{const i=r.id,o=this.views;let a=0,s=o[i];if(s)a=Bl.FLAG_INSERT;else{const l=this.createCellView(r);l&&(l.graph=this.graph,a=Bl.FLAG_INSERT|l.getBootstrapFlag(),s={view:l,flag:a,options:n,state:Bl.ViewState.CREATED},this.views[i]=s)}s&&this.requestViewUpdate(s.view,a,n,this.getRenderPriority(s.view),!1)}),this.flush()}renderViewInArea(e,n,r={}){const i=e.cell,o=i.id,a=this.views[o];if(!a)return;let s=0;this.isUpdatable(e)?(s=this.updateView(e,n,r),a.flag=s):a.state===Bl.ViewState.MOUNTED?(s=this.updateView(e,n,r),a.flag=s):a.state=Bl.ViewState.WAITING,s&&i.isEdge()&&(s&e.getFlag(["source","target"]))===0&&this.queue.queueJob({id:o,priority:Id.RenderEdge,cb:()=>{this.updateView(e,n,r)}})}removeViews(e){e.forEach(n=>{const r=n.id,i=this.views[r];i&&(this.willRemoveViews[r]=i,delete this.views[r],this.queue.queueJob({id:r,priority:this.getRenderPriority(i.view),cb:()=>{this.removeView(i.view)}}))}),this.flush()}flush(){this.graph.options.async?this.queue.queueFlush():this.queue.queueFlushSync()}flushWaitingViews(){Object.values(this.views).forEach(e=>{if(e&&e.state===Bl.ViewState.WAITING){const{view:n,flag:r,options:i}=e;this.requestViewUpdate(n,r,i,this.getRenderPriority(n),!1)}}),this.flush()}updateView(e,n,r={}){if(e==null)return 0;if(ea.isCellView(e)){if(n&Bl.FLAG_REMOVE)return this.removeView(e.cell),0;n&Bl.FLAG_INSERT&&(this.insertView(e),n^=Bl.FLAG_INSERT)}return n?e.confirmUpdate(n,r):0}insertView(e){const n=this.views[e.cell.id];if(n){const r=e.cell.getZIndex(),i=this.addZPivot(r);this.container.insertBefore(e.container,i),e.cell.isVisible()||this.toggleVisible(e.cell,!1),n.state=Bl.ViewState.MOUNTED,this.graph.trigger("view:mounted",{view:e})}}resetViews(){this.willRemoveViews=Object.assign(Object.assign({},this.views),this.willRemoveViews),Object.values(this.willRemoveViews).forEach(e=>{e&&this.removeView(e.view)}),this.views={},this.willRemoveViews={}}removeView(e){const n=e.cell,r=this.willRemoveViews[n.id];r&&e&&(r.view.remove(),delete this.willRemoveViews[n.id],this.graph.trigger("view:unmounted",{view:e}))}toggleVisible(e,n){const r=this.model.getConnectedEdges(e);for(let o=0,a=r.length;o<a;o+=1){const s=r[o];if(n){const l=s.getSourceCell(),u=s.getTargetCell();if(l&&!l.isVisible()||u&&!u.isVisible())continue;this.toggleVisible(s,!0)}else this.toggleVisible(s,!1)}const i=this.views[e.id];i&&sa(i.view.container,{display:n?"unset":"none"})}addZPivot(e=0){this.zPivots==null&&(this.zPivots={});const n=this.zPivots;let r=n[e];if(r)return r;r=n[e]=document.createComment(`z-index:${e+1}`);let i=-1/0;for(const a in n){const s=+a;s<e&&s>i&&(i=s,e-1)}const o=this.container;if(i!==-1/0){const a=n[i];o.insertBefore(r,a.nextSibling)}else o.insertBefore(r,o.firstChild);return r}removeZPivots(){this.zPivots&&Object.values(this.zPivots).forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)}),this.zPivots={}}createCellView(e){const n={graph:this.graph},r=this.graph.options.createCellView;if(r){const o=lr(r,this.graph,e);if(o)return new o(e,n);if(o===null)return null}const i=e.view;if(i!=null&&typeof i=="string"){const o=ea.registry.get(i);return o?new o(e,n):ea.registry.onNotFound(i)}return e.isNode()?new Lc(e,n):e.isEdge()?new dh(e,n):null}getEffectedEdges(e){const n=[],r=e.cell,i=this.model.getConnectedEdges(r);for(let o=0,a=i.length;o<a;o+=1){const s=i[o],l=this.views[s.id];if(!l)continue;const u=l.view;if(!this.isViewMounted(u))continue;const c=["update"];s.getTargetCell()===r&&c.push("target"),s.getSourceCell()===r&&c.push("source"),n.push({id:s.id,view:u,flag:u.getFlag(c)})}return n}isUpdatable(e){if(e.isNodeView())return this.renderArea?this.renderArea.isIntersectWithRect(e.cell.getBBox()):!0;if(e.isEdgeView()){const n=e.cell,r=n.getSourceCell(),i=n.getTargetCell();if(this.renderArea&&r&&i)return this.renderArea.isIntersectWithRect(r.getBBox())||this.renderArea.isIntersectWithRect(i.getBBox())}return!0}getRenderPriority(e){return e.cell.isNode()?Id.RenderNode:Id.RenderEdge}dispose(){this.stopListening(),Object.keys(this.views).forEach(e=>{this.views[e].view.dispose()}),this.views={}}};rvt([ol.dispose()],S1.prototype,"dispose",null);(function(t){t.FLAG_INSERT=1<<30,t.FLAG_REMOVE=1<<29,t.FLAG_RENDER=(1<<26)-1})(S1||(S1={}));(function(t){(function(e){e[e.CREATED=0]="CREATED",e[e.MOUNTED=1]="MOUNTED",e[e.WAITING=2]="WAITING"})(t.ViewState||(t.ViewState={}))})(S1||(S1={}));var ivt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class $j extends Wa{constructor(){super(...arguments),this.schedule=new S1(this.graph)}requestViewUpdate(e,n,r={}){this.schedule.requestViewUpdate(e,n,r)}isViewMounted(e){return this.schedule.isViewMounted(e)}setRenderArea(e){this.schedule.setRenderArea(e)}findViewByElem(e){if(e==null)return null;const n=this.options.container,r=typeof e=="string"?n.querySelector(e):e instanceof Element?e:e[0];if(r){const i=this.graph.view.findAttr("data-cell-id",r);if(i){const o=this.schedule.views;if(o[i])return o[i].view}}return null}findViewByCell(e){if(e==null)return null;const n=di.isCell(e)?e.id:e,r=this.schedule.views;return r[n]?r[n].view:null}findViewsFromPoint(e){const n={x:e.x,y:e.y};return this.model.getCells().map(r=>this.findViewByCell(r)).filter(r=>r!=null?Fi.getBBox(r.container,{target:this.view.stage}).containsPoint(n):!1)}findEdgeViewsFromPoint(e,n=5){return this.model.getEdges().map(r=>this.findViewByCell(r)).filter(r=>{if(r!=null){const i=r.getClosestPoint(e);if(i)return i.distance(e)<=n}return!1})}findViewsInArea(e,n={}){const r=bn.create(e);return this.model.getCells().map(i=>this.findViewByCell(i)).filter(i=>{if(i){if(n.nodeOnly&&!i.isNodeView())return!1;const o=Fi.getBBox(i.container,{target:this.view.stage});return o.width===0?o.inflate(1,0):o.height===0&&o.inflate(0,1),n.strict?r.containsRect(o):r.isIntersectWithRect(o)}return!1})}dispose(){this.schedule.dispose()}}ivt([Wa.dispose()],$j.prototype,"dispose",null);var BJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class T0e extends Wa{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(e){return this.svg.getElementById(e)!=null}filter(e){let n=e.id;const r=e.name;if(n||(n=`filter-${r}-${this.cid}-${YN(JSON.stringify(e))}`),!this.isDefined(n)){const i=d1.registry.get(r);if(i==null)return d1.registry.onNotFound(r);const o=i(e.args||{}),a=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},e.attrs),{id:n});Sr.create(fo.sanitize(o),a).appendTo(this.defs)}return n}gradient(e){let n=e.id;const r=e.type;if(n||(n=`gradient-${r}-${this.cid}-${YN(JSON.stringify(e))}`),!this.isDefined(n)){const o=e.stops.map(l=>{const u=l.opacity!=null&&Number.isFinite(l.opacity)?l.opacity:1;return`<stop offset="${l.offset}" stop-color="${l.color}" stop-opacity="${u}"/>`}),a=`<${r}>${o.join("")}</${r}>`,s=Object.assign({id:n},e.attrs);Sr.create(a,s).appendTo(this.defs)}return n}marker(e){const{id:n,refX:r,refY:i,markerUnits:o,markerOrient:a,tagName:s,children:l}=e,u=BJ(e,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let c=n;if(c||(c=`marker-${this.cid}-${YN(JSON.stringify(e))}`),!this.isDefined(c)){s!=="path"&&delete u.d;const f=Sr.create("marker",{refX:r,refY:i,id:c,overflow:"visible",orient:a??"auto",markerUnits:o||"userSpaceOnUse"},l?l.map(d=>{var{tagName:h}=d,p=BJ(d,["tagName"]);return Sr.create(`${h}`||"path",Jx(Object.assign(Object.assign({},u),p)))}):[Sr.create(s||"path",Jx(u))]);this.defs.appendChild(f.node)}return c}remove(e){const n=this.svg.getElementById(e);n&&n.parentNode&&n.parentNode.removeChild(n)}}class A0e extends Wa{getClientMatrix(){return Ga(this.view.stage.getScreenCTM())}getClientOffset(){const e=this.view.svg.getBoundingClientRect();return new Ve(e.left,e.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(e,n){return(typeof e=="number"?this.clientToLocalPoint(e,n):this.clientToLocalPoint(e.x,e.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(e,n){const r=Ve.create(e,n);return Fi.transformPoint(r,this.graph.matrix())}localToClientPoint(e,n){const r=Ve.create(e,n);return Fi.transformPoint(r,this.getClientMatrix())}localToPagePoint(e,n){return(typeof e=="number"?this.localToGraphPoint(e,n):this.localToGraphPoint(e)).translate(this.getPageOffset())}localToGraphRect(e,n,r,i){const o=bn.create(e,n,r,i);return Fi.transformRectangle(o,this.graph.matrix())}localToClientRect(e,n,r,i){const o=bn.create(e,n,r,i);return Fi.transformRectangle(o,this.getClientMatrix())}localToPageRect(e,n,r,i){return(typeof e=="number"?this.localToGraphRect(e,n,r,i):this.localToGraphRect(e)).translate(this.getPageOffset())}graphToLocalPoint(e,n){const r=Ve.create(e,n);return Fi.transformPoint(r,this.graph.matrix().inverse())}clientToLocalPoint(e,n){const r=Ve.create(e,n);return Fi.transformPoint(r,this.getClientMatrix().inverse())}clientToGraphPoint(e,n){const r=Ve.create(e,n);return Fi.transformPoint(r,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(e,n){const i=Ve.create(e,n).diff(this.getPageOffset());return this.graphToLocalPoint(i)}graphToLocalRect(e,n,r,i){const o=bn.create(e,n,r,i);return Fi.transformRectangle(o,this.graph.matrix().inverse())}clientToLocalRect(e,n,r,i){const o=bn.create(e,n,r,i);return Fi.transformRectangle(o,this.getClientMatrix().inverse())}clientToGraphRect(e,n,r,i){const o=bn.create(e,n,r,i);return Fi.transformRectangle(o,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(e,n,r,i){const o=bn.create(e,n,r,i),a=this.getPageOffset();return o.x-=a.x,o.y-=a.y,this.graphToLocalRect(o)}}var ovt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class mP extends Wa{constructor(){super(...arguments),this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:e,magnet:n,options:r={}}){const i=this.resolveHighlighter(r);if(!i)return;const o=this.getHighlighterId(n,i);if(!this.highlights[o]){const a=i.highlighter;a.highlight(e,n,Object.assign({},i.args)),this.highlights[o]={cellView:e,magnet:n,highlighter:a,args:i.args}}}onCellUnhighlight({magnet:e,options:n={}}){const r=this.resolveHighlighter(n);if(!r)return;const i=this.getHighlighterId(e,r);this.unhighlight(i)}resolveHighlighter(e){const n=this.options;let r=e.highlighter;if(r==null){const s=e.type;r=s&&n.highlighting[s]||n.highlighting.default}if(r==null)return null;const i=typeof r=="string"?{name:r}:r,o=i.name,a=Kd.registry.get(o);return a==null?Kd.registry.onNotFound(o):(Kd.check(o,a),{name:o,highlighter:a,args:i.args||{}})}getHighlighterId(e,n){return xj(e),n.name+e.id+JSON.stringify(n.args)}unhighlight(e){const n=this.highlights[e];n&&(n.highlighter.unhighlight(n.cellView,n.magnet,n.args),delete this.highlights[e])}dispose(){Object.keys(this.highlights).forEach(e=>this.unhighlight(e)),this.stopListening()}}ovt([mP.dispose()],mP.prototype,"dispose",null);var avt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class k0e extends Wa{getScroller(){const e=this.graph.getPlugin("scroller");return e&&e.options.enabled?e:null}getContainer(){const e=this.getScroller();return e?e.container.parentElement:this.graph.container.parentElement}getSensorTarget(){const e=this.options.autoResize;if(e)return typeof e=="boolean"?this.getContainer():e}init(){if(this.options.autoResize){const n=this.getSensorTarget();n&&lP.bind(n,()=>{const r=n.offsetWidth,i=n.offsetHeight;this.resize(r,i)})}}resize(e,n){const r=this.getScroller();r?r.resize(e,n):this.graph.transform.resize(e,n)}dispose(){lP.clear(this.graph.container)}}avt([Wa.dispose()],k0e.prototype,"dispose",null);var svt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};let en=class M0e extends vo{get container(){return this.options.container}get[Symbol.toStringTag](){return M0e.toStringTag}constructor(e){super(),this.installedPlugins=new Set,this.options=oC.get(e),this.css=new OV(this),this.view=new Wm(this),this.defs=new T0e(this),this.coord=new A0e(this),this.transform=new C0e(this),this.highlight=new mP(this),this.grid=new Lj(this),this.background=new Dj(this),this.options.model?this.model=this.options.model:(this.model=new Js,this.model.graph=this),this.renderer=new $j(this),this.panning=new Nj(this),this.mousewheel=new Bj(this),this.virtualRender=new E0e(this),this.size=new k0e(this)}isNode(e){return e.isNode()}isEdge(e){return e.isEdge()}resetCells(e,n={}){return this.model.resetCells(e,n),this}clearCells(e={}){return this.model.clear(e),this}toJSON(e={}){return this.model.toJSON(e)}parseJSON(e){return this.model.parseJSON(e)}fromJSON(e,n={}){return this.model.fromJSON(e,n),this}getCellById(e){return this.model.getCell(e)}addNode(e,n={}){return this.model.addNode(e,n)}addNodes(e,n={}){return this.addCell(e.map(r=>na.isNode(r)?r:this.createNode(r)),n)}createNode(e){return this.model.createNode(e)}removeNode(e,n={}){return this.model.removeCell(e,n)}addEdge(e,n={}){return this.model.addEdge(e,n)}addEdges(e,n={}){return this.addCell(e.map(r=>jo.isEdge(r)?r:this.createEdge(r)),n)}removeEdge(e,n={}){return this.model.removeCell(e,n)}createEdge(e){return this.model.createEdge(e)}addCell(e,n={}){return this.model.addCell(e,n),this}removeCell(e,n={}){return this.model.removeCell(e,n)}removeCells(e,n={}){return this.model.removeCells(e,n)}removeConnectedEdges(e,n={}){return this.model.removeConnectedEdges(e,n)}disconnectConnectedEdges(e,n={}){return this.model.disconnectConnectedEdges(e,n),this}hasCell(e){return this.model.has(e)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(e){return this.model.getOutgoingEdges(e)}getIncomingEdges(e){return this.model.getIncomingEdges(e)}getConnectedEdges(e,n={}){return this.model.getConnectedEdges(e,n)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(e){return this.model.isRoot(e)}isLeafNode(e){return this.model.isLeaf(e)}getNeighbors(e,n={}){return this.model.getNeighbors(e,n)}isNeighbor(e,n,r={}){return this.model.isNeighbor(e,n,r)}getSuccessors(e,n={}){return this.model.getSuccessors(e,n)}isSuccessor(e,n,r={}){return this.model.isSuccessor(e,n,r)}getPredecessors(e,n={}){return this.model.getPredecessors(e,n)}isPredecessor(e,n,r={}){return this.model.isPredecessor(e,n,r)}getCommonAncestor(...e){return this.model.getCommonAncestor(...e)}getSubGraph(e,n={}){return this.model.getSubGraph(e,n)}cloneSubGraph(e,n={}){return this.model.cloneSubGraph(e,n)}cloneCells(e){return this.model.cloneCells(e)}getNodesFromPoint(e,n){return this.model.getNodesFromPoint(e,n)}getNodesInArea(e,n,r,i,o){return this.model.getNodesInArea(e,n,r,i,o)}getNodesUnderNode(e,n={}){return this.model.getNodesUnderNode(e,n)}searchCell(e,n,r={}){return this.model.search(e,n,r),this}getShortestPath(e,n,r={}){return this.model.getShortestPath(e,n,r)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(e,n={}){return this.model.getCellsBBox(e,n)}startBatch(e,n={}){this.model.startBatch(e,n)}stopBatch(e,n={}){this.model.stopBatch(e,n)}batchUpdate(e,n,r){const i=typeof e=="string"?e:"update",o=typeof e=="string"?n:e,a=typeof n=="function"?r:n;this.startBatch(i,a);const s=o();return this.stopBatch(i,a),s}updateCellId(e,n){return this.model.updateCellId(e,n)}findView(e){return di.isCell(e)?this.findViewByCell(e):this.findViewByElem(e)}findViews(e){return bn.isRectangleLike(e)?this.findViewsInArea(e):Ve.isPointLike(e)?this.findViewsFromPoint(e):[]}findViewByCell(e){return this.renderer.findViewByCell(e)}findViewByElem(e){return this.renderer.findViewByElem(e)}findViewsFromPoint(e,n){const r=typeof e=="number"?{x:e,y:n}:e;return this.renderer.findViewsFromPoint(r)}findViewsInArea(e,n,r,i,o){const a=typeof e=="number"?{x:e,y:n,width:r,height:i}:e,s=typeof e=="number"?o:n;return this.renderer.findViewsInArea(a,s)}matrix(e){return typeof e>"u"?this.transform.getMatrix():(this.transform.setMatrix(e),this)}resize(e,n){const r=this.getPlugin("scroller");return r?r.resize(e,n):this.transform.resize(e,n),this}scale(e,n=e,r=0,i=0){return typeof e>"u"?this.transform.getScale():(this.transform.scale(e,n,r,i),this)}zoom(e,n){const r=this.getPlugin("scroller");if(r){if(typeof e>"u")return r.zoom();r.zoom(e,n)}else{if(typeof e>"u")return this.transform.getZoom();this.transform.zoom(e,n)}return this}zoomTo(e,n={}){const r=this.getPlugin("scroller");return r?r.zoom(e,Object.assign(Object.assign({},n),{absolute:!0})):this.transform.zoom(e,Object.assign(Object.assign({},n),{absolute:!0})),this}zoomToRect(e,n={}){const r=this.getPlugin("scroller");return r?r.zoomToRect(e,n):this.transform.zoomToRect(e,n),this}zoomToFit(e={}){const n=this.getPlugin("scroller");return n?n.zoomToFit(e):this.transform.zoomToFit(e),this}rotate(e,n,r){return typeof e>"u"?this.transform.getRotation():(this.transform.rotate(e,n,r),this)}translate(e,n){return typeof e>"u"?this.transform.getTranslation():(this.transform.translate(e,n),this)}translateBy(e,n){const r=this.translate(),i=r.tx+e,o=r.ty+n;return this.translate(i,o)}getGraphArea(){return this.transform.getGraphArea()}getContentArea(e={}){return this.transform.getContentArea(e)}getContentBBox(e={}){return this.transform.getContentBBox(e)}fitToContent(e,n,r,i){return this.transform.fitToContent(e,n,r,i)}scaleContentToFit(e={}){return this.transform.scaleContentToFit(e),this}center(e){return this.centerPoint(e)}centerPoint(e,n,r){const i=this.getPlugin("scroller");return i?i.centerPoint(e,n,r):this.transform.centerPoint(e,n),this}centerContent(e){const n=this.getPlugin("scroller");return n?n.centerContent(e):this.transform.centerContent(e),this}centerCell(e,n){const r=this.getPlugin("scroller");return r?r.centerCell(e,n):this.transform.centerCell(e),this}positionPoint(e,n,r,i={}){const o=this.getPlugin("scroller");return o?o.positionPoint(e,n,r,i):this.transform.positionPoint(e,n,r),this}positionRect(e,n,r){const i=this.getPlugin("scroller");return i?i.positionRect(e,n,r):this.transform.positionRect(e,n),this}positionCell(e,n,r){const i=this.getPlugin("scroller");return i?i.positionCell(e,n,r):this.transform.positionCell(e,n),this}positionContent(e,n){const r=this.getPlugin("scroller");return r?r.positionContent(e,n):this.transform.positionContent(e,n),this}snapToGrid(e,n){return this.coord.snapToGrid(e,n)}pageToLocal(e,n,r,i){return bn.isRectangleLike(e)?this.coord.pageToLocalRect(e):typeof e=="number"&&typeof n=="number"&&typeof r=="number"&&typeof i=="number"?this.coord.pageToLocalRect(e,n,r,i):this.coord.pageToLocalPoint(e,n)}localToPage(e,n,r,i){return bn.isRectangleLike(e)?this.coord.localToPageRect(e):typeof e=="number"&&typeof n=="number"&&typeof r=="number"&&typeof i=="number"?this.coord.localToPageRect(e,n,r,i):this.coord.localToPagePoint(e,n)}clientToLocal(e,n,r,i){return bn.isRectangleLike(e)?this.coord.clientToLocalRect(e):typeof e=="number"&&typeof n=="number"&&typeof r=="number"&&typeof i=="number"?this.coord.clientToLocalRect(e,n,r,i):this.coord.clientToLocalPoint(e,n)}localToClient(e,n,r,i){return bn.isRectangleLike(e)?this.coord.localToClientRect(e):typeof e=="number"&&typeof n=="number"&&typeof r=="number"&&typeof i=="number"?this.coord.localToClientRect(e,n,r,i):this.coord.localToClientPoint(e,n)}localToGraph(e,n,r,i){return bn.isRectangleLike(e)?this.coord.localToGraphRect(e):typeof e=="number"&&typeof n=="number"&&typeof r=="number"&&typeof i=="number"?this.coord.localToGraphRect(e,n,r,i):this.coord.localToGraphPoint(e,n)}graphToLocal(e,n,r,i){return bn.isRectangleLike(e)?this.coord.graphToLocalRect(e):typeof e=="number"&&typeof n=="number"&&typeof r=="number"&&typeof i=="number"?this.coord.graphToLocalRect(e,n,r,i):this.coord.graphToLocalPoint(e,n)}clientToGraph(e,n,r,i){return bn.isRectangleLike(e)?this.coord.clientToGraphRect(e):typeof e=="number"&&typeof n=="number"&&typeof r=="number"&&typeof i=="number"?this.coord.clientToGraphRect(e,n,r,i):this.coord.clientToGraphPoint(e,n)}defineFilter(e){return this.defs.filter(e)}defineGradient(e){return this.defs.gradient(e)}defineMarker(e){return this.defs.marker(e)}getGridSize(){return this.grid.getGridSize()}setGridSize(e){return this.grid.setGridSize(e),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(e){return this.grid.draw(e),this}updateBackground(){return this.background.update(),this}drawBackground(e,n){const r=this.getPlugin("scroller");return r!=null&&(this.options.background==null||!n)?r.drawBackground(e,n):this.background.draw(e),this}clearBackground(e){const n=this.getPlugin("scroller");return n!=null&&(this.options.background==null||!e)?n.clearBackground(e):this.background.clear(),this}enableVirtualRender(){return this.virtualRender.enableVirtualRender(),this}disableVirtualRender(){return this.virtualRender.disableVirtualRender(),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(e){return e==null?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():e?this.enableMouseWheel():this.disableMouseWheel(),this}isPannable(){const e=this.getPlugin("scroller");return e?e.isPannable():this.panning.pannable}enablePanning(){const e=this.getPlugin("scroller");return e?e.enablePanning():this.panning.enablePanning(),this}disablePanning(){const e=this.getPlugin("scroller");return e?e.disablePanning():this.panning.disablePanning(),this}togglePanning(e){return e==null?this.isPannable()?this.disablePanning():this.enablePanning():e!==this.isPannable()&&(e?this.enablePanning():this.disablePanning()),this}use(e,...n){return this.installedPlugins.has(e)||(this.installedPlugins.add(e),e.init(this,...n)),this}getPlugin(e){return Array.from(this.installedPlugins).find(n=>n.name===e)}getPlugins(e){return Array.from(this.installedPlugins).filter(n=>e.includes(n.name))}enablePlugins(e){let n=e;Array.isArray(n)||(n=[n]);const r=this.getPlugins(n);return r?.forEach(i=>{var o;(o=i?.enable)===null||o===void 0||o.call(i)}),this}disablePlugins(e){let n=e;Array.isArray(n)||(n=[n]);const r=this.getPlugins(n);return r?.forEach(i=>{var o;(o=i?.disable)===null||o===void 0||o.call(i)}),this}isPluginEnabled(e){var n;const r=this.getPlugin(e);return(n=r?.isEnabled)===null||n===void 0?void 0:n.call(r)}disposePlugins(e){let n=e;Array.isArray(n)||(n=[n]);const r=this.getPlugins(n);return r?.forEach(i=>{i.dispose(),this.installedPlugins.delete(i)}),this}dispose(e=!0){e&&this.model.dispose(),this.css.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.highlight.dispose(),this.background.dispose(),this.mousewheel.dispose(),this.panning.dispose(),this.view.dispose(),this.renderer.dispose(),this.installedPlugins.forEach(n=>{n.dispose()})}};svt([vo.dispose()],en.prototype,"dispose",null);(function(t){t.View=Wm,t.Renderer=$j,t.MouseWheel=Bj,t.DefsManager=T0e,t.GridManager=Lj,t.CoordManager=A0e,t.TransformManager=C0e,t.HighlightManager=mP,t.BackgroundManager=Dj,t.PanningManager=Nj})(en||(en={}));(function(t){t.toStringTag=`X6.${t.name}`;function e(n){if(n==null)return!1;if(n instanceof t)return!0;const r=n[Symbol.toStringTag];return r==null||r===t.toStringTag}t.isGraph=e})(en||(en={}));(function(t){function e(n,r){const i=n instanceof HTMLElement?new t({container:n}):new t(n);return r!=null&&i.fromJSON(r),i}t.render=e})(en||(en={}));(function(t){t.registerNode=na.registry.register,t.registerEdge=jo.registry.register,t.registerView=ea.registry.register,t.registerAttr=Jf.registry.register,t.registerGrid=Ap.registry.register,t.registerFilter=d1.registry.register,t.registerNodeTool=v1.registry.register,t.registerEdgeTool=g1.registry.register,t.registerBackground=tC.registry.register,t.registerHighlighter=Kd.registry.register,t.registerPortLayout=bm.registry.register,t.registerPortLabelLayout=h1.registry.register,t.registerMarker=cv.registry.register,t.registerRouter=kp.registry.register,t.registerConnector=_m.registry.register,t.registerAnchor=m1.registry.register,t.registerEdgeAnchor=y1.registry.register,t.registerConnectionPoint=b1.registry.register})(en||(en={}));(function(t){t.unregisterNode=na.registry.unregister,t.unregisterEdge=jo.registry.unregister,t.unregisterView=ea.registry.unregister,t.unregisterAttr=Jf.registry.unregister,t.unregisterGrid=Ap.registry.unregister,t.unregisterFilter=d1.registry.unregister,t.unregisterNodeTool=v1.registry.unregister,t.unregisterEdgeTool=g1.registry.unregister,t.unregisterBackground=tC.registry.unregister,t.unregisterHighlighter=Kd.registry.unregister,t.unregisterPortLayout=bm.registry.unregister,t.unregisterPortLabelLayout=h1.registry.unregister,t.unregisterMarker=cv.registry.unregister,t.unregisterRouter=kp.registry.unregister,t.unregisterConnector=_m.registry.unregister,t.unregisterAnchor=m1.registry.unregister,t.unregisterEdgeAnchor=y1.registry.unregister,t.unregisterConnectionPoint=b1.registry.unregister})(en||(en={}));var lvt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},uvt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class x1 extends na{}(function(t){class e extends Lc{init(){super.init(),this.cell.on("change:*",this.onCellChangeAny,this)}onCellChangeAny({key:r}){const i=t.shapeMaps[this.cell.shape];if(i){const{effect:o}=i;(!o||o.includes(r))&&this.renderHTMLComponent()}}confirmUpdate(r){const i=super.confirmUpdate(r);return this.handleAction(i,e.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const r=this.selectors&&this.selectors.foContent;if(r){M2(r);const i=t.shapeMaps[this.cell.shape];if(!i)return;let{html:o}=i;typeof o=="function"&&(o=o(this.cell)),o&&(typeof o=="string"?r.innerHTML=o:Vl(r,o))}}dispose(){this.cell.off("change:*",this.onCellChangeAny,this)}}lvt([e.dispose()],e.prototype,"dispose",null),t.View=e,(function(n){n.action="html",n.config({bootstrap:[n.action],actions:{html:n.action}}),Lc.registry.register("html-view",n,!0)})(e=t.View||(t.View={}))})(x1||(x1={}));(function(t){t.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},fo.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),na.registry.register("html",t,!0)})(x1||(x1={}));(function(t){t.shapeMaps={};function e(n){const{shape:r,html:i,effect:o,inherit:a}=n,s=uvt(n,["shape","html","effect","inherit"]);if(!r)throw new Error("should specify shape in config");t.shapeMaps[r]={html:i,effect:o},en.registerNode(r,Object.assign({inherit:a||"html"},s),!0)}t.register=e})(x1||(x1={}));const cvt=`.x6-widget-dnd {
  position: absolute;
  top: -10000px;
  left: -10000px;
  z-index: 999999;
  display: none;
  cursor: move;
  opacity: 0.7;
  pointer-events: 'cursor';
}
.x6-widget-dnd.dragging {
  display: inline-block;
}
.x6-widget-dnd.dragging * {
  pointer-events: none !important;
}
.x6-widget-dnd .x6-graph {
  background: transparent;
  box-shadow: none;
}
`;var fvt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class hv extends Ni{get targetScroller(){return this.options.target.getPlugin("scroller")}get targetGraph(){return this.options.target}get targetModel(){return this.targetGraph.model}get snapline(){return this.options.target.getPlugin("snapline")}constructor(e){super(),this.name="dnd",this.options=Object.assign(Object.assign({},hv.defaults),e),this.init()}init(){y_(this.name,cvt),this.container=document.createElement("div"),Qn(this.container,this.prefixClassName("widget-dnd")),this.draggingGraph=new en(Object.assign(Object.assign({},this.options.delegateGraphOptions),{container:document.createElement("div"),width:1,height:1,async:!1})),Vl(this.container,this.draggingGraph.container)}start(e,n){const r=n;r.preventDefault(),this.targetModel.startBatch("dnd"),Qn(this.container,"dragging"),Wp(this.container,this.options.draggingContainer||document.body),this.sourceNode=e,this.prepareDragging(e,r.clientX,r.clientY);const i=this.updateNodePosition(r.clientX,r.clientY);this.isSnaplineEnabled()&&(this.snapline.captureCursorOffset({e:r,node:e,cell:e,view:this.draggingView,x:i.x,y:i.y}),this.draggingNode.on("change:position",this.snap,this)),this.delegateDocumentEvents(hv.documentEvents,r.data)}isSnaplineEnabled(){return this.snapline&&this.snapline.isEnabled()}prepareDragging(e,n,r){const i=this.draggingGraph,o=i.model,a=this.options.getDragNode(e,{sourceNode:e,draggingGraph:i,targetGraph:this.targetGraph});a.position(0,0);let s=5;if(this.isSnaplineEnabled()&&(s+=this.snapline.options.tolerance||0),this.isSnaplineEnabled()||this.options.scaled){const c=this.targetGraph.transform.getScale();i.scale(c.sx,c.sy),s*=Math.max(c.sx,c.sy)}else i.scale(1,1);this.clearDragging(),o.resetCells([a]);const l=i.findViewByCell(a);l.undelegateEvents(),l.cell.off("changed"),i.fitToContent({padding:s,allowNewOrigin:"any",useCellGeometry:!1});const u=l.getBBox();this.geometryBBox=l.getBBox({useCellGeometry:!0}),this.delta=this.geometryBBox.getTopLeft().diff(u.getTopLeft()),this.draggingNode=a,this.draggingView=l,this.draggingBBox=a.getBBox(),this.padding=s,this.originOffset=this.updateGraphPosition(n,r)}updateGraphPosition(e,n){const r=document.body.scrollTop||document.documentElement.scrollTop,i=document.body.scrollLeft||document.documentElement.scrollLeft,o=this.delta,a=this.geometryBBox,s=this.padding||5,l={left:e-o.x-a.width/2-s+i,top:n-o.y-a.height/2-s+r};return this.draggingGraph&&sa(this.container,{left:`${l.left}px`,top:`${l.top}px`}),l}updateNodePosition(e,n){const r=this.targetGraph.clientToLocal(e,n),i=this.draggingBBox;return r.x-=i.width/2,r.y-=i.height/2,this.draggingNode.position(r.x,r.y),r}snap({cell:e,current:n,options:r}){const i=e;if(r.snapped){const o=this.draggingBBox;i.position(o.x+r.tx,o.y+r.ty,{silent:!0}),this.draggingView.translate(),i.position(n.x,n.y,{silent:!0}),this.snapOffset={x:r.tx,y:r.ty}}else this.snapOffset=null}onDragging(e){const n=this.draggingView;if(n){e.preventDefault();const r=this.normalizeEvent(e),i=r.clientX,o=r.clientY;this.updateGraphPosition(i,o);const a=this.updateNodePosition(i,o),s=this.targetGraph.options.embedding.enabled,l=(s||this.isSnaplineEnabled())&&this.isInsideValidArea({x:i,y:o});if(s){n.setEventData(r,{graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView});const u=n.getEventData(r);l?n.processEmbedding(r,u):n.clearEmbedding(u),this.candidateEmbedView=u.candidateEmbedView}this.isSnaplineEnabled()&&(l?this.snapline.snapOnMoving({e:r,view:n,x:a.x,y:a.y}):this.snapline.hide())}}onDragEnd(e){const n=this.draggingNode;if(n){const r=this.normalizeEvent(e),i=this.draggingView,o=this.draggingBBox,a=this.snapOffset;let s=o.x,l=o.y;a&&(s+=a.x,l+=a.y),n.position(s,l,{silent:!0});const u=this.drop(n,{x:r.clientX,y:r.clientY}),c=f=>{f?(this.onDropped(n),this.targetGraph.options.embedding.enabled&&i&&(i.setEventData(r,{cell:f,graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView}),i.finalizeEmbedding(r,i.getEventData(r)))):this.onDropInvalid(),this.candidateEmbedView=null,this.targetModel.stopBatch("dnd")};vV(u)?(this.undelegateDocumentEvents(),u.then(c)):c(u)}}clearDragging(){this.draggingNode&&(this.sourceNode=null,this.draggingNode.remove(),this.draggingNode=null,this.draggingView=null,this.delta=null,this.padding=null,this.snapOffset=null,this.originOffset=null,this.undelegateDocumentEvents())}onDropped(e){this.draggingNode===e&&(this.clearDragging(),_o(this.container,"dragging"),Nu(this.container))}onDropInvalid(){const e=this.draggingNode;e&&this.onDropped(e)}isInsideValidArea(e){let n,r=null;const i=this.targetGraph,o=this.targetScroller;this.options.dndContainer&&(r=this.getDropArea(this.options.dndContainer));const a=r&&r.containsPoint(e);if(o)if(o.options.autoResize)n=this.getDropArea(o.container);else{const s=this.getDropArea(o.container);n=this.getDropArea(i.container).intersectsWithRect(s)}else n=this.getDropArea(i.container);return!a&&n&&n.containsPoint(e)}getDropArea(e){const n=wV(e),r=document.body.scrollTop||document.documentElement.scrollTop,i=document.body.scrollLeft||document.documentElement.scrollLeft;return bn.create({x:n.left+parseInt(sa(e,"border-left-width"),10)-i,y:n.top+parseInt(sa(e,"border-top-width"),10)-r,width:e.clientWidth,height:e.clientHeight})}drop(e,n){if(this.isInsideValidArea(n)){const r=this.targetGraph,i=r.model,o=r.clientToLocal(n),a=this.sourceNode,s=this.options.getDropNode(e,{sourceNode:a,draggingNode:e,targetGraph:this.targetGraph,draggingGraph:this.draggingGraph}),l=s.getBBox();o.x+=l.x-l.width/2,o.y+=l.y-l.height/2;const u=this.snapOffset?1:r.getGridSize();s.position(ki.snapToGrid(o.x,u),ki.snapToGrid(o.y,u)),s.removeZIndex();const c=this.options.validateNode,f=c?c(s,{sourceNode:a,draggingNode:e,droppingNode:s,targetGraph:r,draggingGraph:this.draggingGraph}):!0;return typeof f=="boolean"?f?(i.addCell(s,{stencil:this.cid}),s):null:ict(f).then(d=>d?(i.addCell(s,{stencil:this.cid}),s):null)}return null}onRemove(){this.draggingGraph&&(this.draggingGraph.view.remove(),this.draggingGraph.dispose())}dispose(){this.remove(),b_(this.name)}}fvt([Ni.dispose()],hv.prototype,"dispose",null);(function(t){t.defaults={getDragNode:e=>e.clone(),getDropNode:e=>e.clone()},t.documentEvents={mousemove:"onDragging",touchmove:"onDragging",mouseup:"onDragEnd",touchend:"onDragEnd",touchcancel:"onDragEnd"}})(hv||(hv={}));function dvt(t,e={}){const n=Js.isModel(t)?t:new Js().resetCells(t,{sort:!1,dryrun:!0}),r=n.getNodes(),i=e.columns||1,o=Math.ceil(r.length/i),a=e.dx||0,s=e.dy||0,l=e.center!==!1,u=e.resizeToFit===!0,c=e.marginX||0,f=e.marginY||0,d=[];let h=e.columnWidth;if(h==="compact")for(let y=0;y<i;y+=1){const b=xf.getNodesInColumn(r,y,i);d.push(xf.getMaxDim(b,"width")+a)}else{(h==null||h==="auto")&&(h=xf.getMaxDim(r,"width")+a);for(let y=0;y<i;y+=1)d.push(h)}const p=xf.accumulate(d,c),v=[];let g=e.rowHeight;if(g==="compact")for(let y=0;y<o;y+=1){const b=xf.getNodesInRow(r,y,i);v.push(xf.getMaxDim(b,"height")+s)}else{(g==null||g==="auto")&&(g=xf.getMaxDim(r,"height")+s);for(let y=0;y<o;y+=1)v.push(g)}const m=xf.accumulate(v,f);n.startBatch("layout"),r.forEach((y,b)=>{const w=b%i,S=Math.floor(b/i),x=d[w],C=v[S];let E=0,T=0,A=y.getSize();if(u){let k=x-2*a,M=C-2*s;const D=A.height*(A.width?k/A.width:1),L=A.width*(A.height?M/A.height:1);C<D?k=L:M=D,A={width:k,height:M},y.setSize(A,e)}l&&(E=(x-A.width)/2,T=(C-A.height)/2),y.position(p[w]+a+E,m[S]+s+T,e)}),n.stopBatch("layout")}var xf;(function(t){function e(o,a){return o.reduce((s,l)=>Math.max(l?.getSize()[a],s),0)}t.getMaxDim=e;function n(o,a,s){const l=[];for(let u=s*a,c=u+s;u<c;u+=1)o[u]&&l.push(o[u]);return l}t.getNodesInRow=n;function r(o,a,s){const l=[];for(let u=a,c=o.length;u<c;u+=s)o[u]&&l.push(o[u]);return l}t.getNodesInColumn=r;function i(o,a){return o.reduce((s,l,u)=>(s.push(s[u]+l),s),[a||0])}t.accumulate=i})(xf||(xf={}));const hvt=`.x6-widget-dnd {
  position: absolute;
  top: -10000px;
  left: -10000px;
  z-index: 999999;
  display: none;
  cursor: move;
  opacity: 0.7;
  pointer-events: 'cursor';
}
.x6-widget-dnd.dragging {
  display: inline-block;
}
.x6-widget-dnd.dragging * {
  pointer-events: none !important;
}
.x6-widget-dnd .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-stencil {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-widget-stencil::after {
  position: absolute;
  top: 0;
  display: block;
  width: 100%;
  height: 20px;
  padding: 8px 0;
  line-height: 20px;
  text-align: center;
  opacity: 0;
  transition: top 0.1s linear, opacity 0.1s linear;
  content: ' ';
  pointer-events: none;
}
.x6-widget-stencil-content {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  height: auto;
  overflow-x: hidden;
  overflow-y: auto;
}
.x6-widget-stencil .x6-node [magnet]:not([magnet='passive']) {
  pointer-events: none;
}
.x6-widget-stencil-group {
  padding: 0;
  padding-bottom: 8px;
  overflow: hidden;
  user-select: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  padding-bottom: 0;
}
.x6-widget-stencil-group-title {
  position: relative;
  margin-top: 0;
  margin-bottom: 0;
  padding: 4px;
  cursor: pointer;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  user-select: none;
}
.x6-widget-stencil .unmatched {
  opacity: 0.3;
}
.x6-widget-stencil .x6-node.unmatched {
  display: none;
}
.x6-widget-stencil-group.unmatched {
  display: none;
}
.x6-widget-stencil-search-text {
  position: relative;
  z-index: 1;
  box-sizing: border-box;
  width: 100%;
  height: 30px;
  max-height: 30px;
  line-height: 30px;
  outline: 0;
}
.x6-widget-stencil.not-found::after {
  opacity: 1;
  content: attr(data-not-found-text);
}
.x6-widget-stencil.not-found.searchable::after {
  top: 30px;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 50px;
}
.x6-widget-stencil {
  color: #333;
  background: #f5f5f5;
}
.x6-widget-stencil-content {
  position: absolute;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-content {
  top: 32px;
}
.x6-widget-stencil.searchable > .x6-widget-stencil-content {
  top: 80px;
}
.x6-widget-stencil.not-found::after {
  position: absolute;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 80px;
}
.x6-widget-stencil.not-found.searchable::after {
  top: 60px;
}
.x6-widget-stencil-group {
  height: auto;
  margin-bottom: 1px;
  padding: 0;
  transition: none;
}
.x6-widget-stencil-group .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  max-height: 31px;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  position: relative;
  left: 0;
  box-sizing: border-box;
  width: 100%;
  height: 32px;
  padding: 0 5px 0 8px;
  color: #666;
  font-weight: 700;
  font-size: 12px;
  line-height: 32px;
  cursor: default;
  transition: all 0.3;
}
.x6-widget-stencil-title:hover,
.x6-widget-stencil-group > .x6-widget-stencil-group-title:hover {
  color: #444;
}
.x6-widget-stencil-title {
  background: #e9e9e9;
}
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  background: #ededed;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title {
  padding-left: 32px;
  cursor: pointer;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  position: absolute;
  top: 6px;
  left: 8px;
  display: block;
  width: 18px;
  height: 18px;
  margin: 0;
  padding: 0;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  border: none;
  content: ' ';
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48L2c+PC9zdmc+');
  opacity: 0.4;
  transition: all 0.3s;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48cGF0aCBkPSJNOC44MTcgNS42MjN2Ni43NTZhLjU1OC41NTggMCAwMDEuMTE2IDBWNS42MjNhLjU1OC41NTggMCAxMC0xLjExNiAweiIvPjwvZz48L3N2Zz4=');
  opacity: 0.4;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil input[type='search'] {
  appearance: textfield;
}
.x6-widget-stencil input[type='search']::-webkit-search-cancel-button,
.x6-widget-stencil input[type='search']::-webkit-search-decoration {
  appearance: none;
}
.x6-widget-stencil-search-text {
  display: block;
  width: 90%;
  margin: 8px 5%;
  padding-left: 8px;
  color: #333;
  background: #fff;
  border: 1px solid #e9e9e9;
  border-radius: 12px;
  outline: 0;
}
.x6-widget-stencil-search-text:focus {
  outline: 0;
}
.x6-widget-stencil::after {
  color: #808080;
  font-weight: 600;
  font-size: 12px;
  background: 0 0;
}
`;var pvt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class C1 extends Ni{get targetScroller(){return this.options.target.getPlugin("scroller")}get targetGraph(){return this.options.target}get targetModel(){return this.targetGraph.model}constructor(e={}){super(),this.name="stencil",y_(this.name,hvt),this.graphs={},this.groups={},this.options=Object.assign(Object.assign({},C1.defaultOptions),e),this.init()}init(){this.dnd=new hv(this.options),this.onSearch=rl(this.onSearch,200),this.initContainer(),this.initSearch(),this.initContent(),this.initGroups(),this.setTitle(),this.startListening()}load(e,n){return Array.isArray(e)?this.loadGroup(e,n):this.options.groups&&Object.keys(this.options.groups).forEach(r=>{e[r]&&this.loadGroup(e[r],r)}),this}unload(e,n){return Array.isArray(e)?this.loadGroup(e,n,!0):this.options.groups&&Object.keys(this.options.groups).forEach(r=>{e[r]&&this.loadGroup(e[r],r,!0)}),this}toggleGroup(e){return this.isGroupCollapsed(e)?this.expandGroup(e):this.collapseGroup(e),this}collapseGroup(e){if(this.isGroupCollapsable(e)){const n=this.groups[e];n&&!this.isGroupCollapsed(e)&&(this.trigger("group:collapse",{name:e}),Qn(n,"collapsed"))}return this}expandGroup(e){if(this.isGroupCollapsable(e)){const n=this.groups[e];n&&this.isGroupCollapsed(e)&&(this.trigger("group:expand",{name:e}),_o(n,"collapsed"))}return this}isGroupCollapsable(e){const n=this.groups[e];return If(n,"collapsable")}isGroupCollapsed(e){const n=this.groups[e];return n&&If(n,"collapsed")}collapseGroups(){return Object.keys(this.groups).forEach(e=>this.collapseGroup(e)),this}expandGroups(){return Object.keys(this.groups).forEach(e=>this.expandGroup(e)),this}resizeGroup(e,n){const r=this.graphs[e];return r&&r.resize(n.width,n.height),this}addGroup(e){const n=Array.isArray(e)?e:[e];this.options.groups?this.options.groups.push(...n):this.options.groups=n,n.forEach(r=>this.initGroup(r))}removeGroup(e){const n=Array.isArray(e)?e:[e];this.options.groups&&(this.options.groups=this.options.groups.filter(r=>!n.includes(r.name)),n.forEach(r=>{const i=this.graphs[r];this.unregisterGraphEvents(i),i.dispose(),delete this.graphs[r];const o=this.groups[r];Nu(o),delete this.groups[r]}))}initContainer(){this.container=document.createElement("div"),Qn(this.container,this.prefixClassName(gl.base)),oi(this.container,"data-not-found-text",this.options.notFoundText||"No matches found")}initContent(){this.content=document.createElement("div"),Qn(this.content,this.prefixClassName(gl.content)),Wp(this.content,this.container)}initSearch(){this.options.search&&(Qn(this.container,"searchable"),Vl(this.container,this.renderSearch()))}initGroup(e){const n=this.options.stencilGraphOptions||{},r=document.createElement("div");Qn(r,this.prefixClassName(gl.group)),oi(r,"data-name",e.name),(e.collapsable==null&&this.options.collapsable||e.collapsable!==!1)&&Qn(r,"collapsable"),hc(r,"collapsed",e.collapsed===!0);const i=document.createElement("h3");Qn(i,this.prefixClassName(gl.groupTitle)),i.innerHTML=e.title||e.name;const o=document.createElement("div");Qn(o,this.prefixClassName(gl.groupContent));const a=e.graphOptions,s=new en(Object.assign(Object.assign(Object.assign({},n),a),{container:document.createElement("div"),model:n.model||new Js,width:e.graphWidth||this.options.stencilGraphWidth,height:e.graphHeight||this.options.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));this.registerGraphEvents(s),Vl(o,s.container),Vl(r,[i,o]),Wp(r,this.content),this.groups[e.name]=r,this.graphs[e.name]=s}initGroups(){if(this.clearGroups(),this.setCollapsableState(),this.options.groups&&this.options.groups.length)this.options.groups.forEach(e=>{this.initGroup(e)});else{const e=this.options.stencilGraphOptions||{},n=new en(Object.assign(Object.assign({},e),{container:document.createElement("div"),model:e.model||new Js,width:this.options.stencilGraphWidth,height:this.options.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));Vl(this.content,n.container),this.graphs[ZS.defaultGroupName]=n}}setCollapsableState(){this.options.collapsable=this.options.collapsable&&this.options.groups&&this.options.groups.some(e=>e.collapsable!==!1),this.options.collapsable?(Qn(this.container,"collapsable"),this.options.groups&&this.options.groups.every(n=>n.collapsed||n.collapsable===!1)?Qn(this.container,"collapsed"):_o(this.container,"collapsed")):_o(this.container,"collapsable")}setTitle(){const e=document.createElement("div");Qn(e,this.prefixClassName(gl.title)),e.innerHTML=this.options.title,Wp(e,this.container)}renderSearch(){const e=document.createElement("div");Qn(e,this.prefixClassName(gl.search));const n=document.createElement("input");return oi(n,{type:"search",placeholder:this.options.placeholder||"Search"}),Qn(n,this.prefixClassName(gl.searchText)),Vl(e,n),e}startListening(){const e=this.prefixClassName(gl.title),n=this.prefixClassName(gl.searchText),r=this.prefixClassName(gl.groupTitle);this.delegateEvents({[`click .${e}`]:"onTitleClick",[`touchstart .${e}`]:"onTitleClick",[`click .${r}`]:"onGroupTitleClick",[`touchstart .${r}`]:"onGroupTitleClick",[`input .${n}`]:"onSearch",[`focusin .${n}`]:"onSearchFocusIn",[`focusout .${n}`]:"onSearchFocusOut"})}stopListening(){this.undelegateEvents()}registerGraphEvents(e){e.on("cell:mousedown",this.onDragStart,this)}unregisterGraphEvents(e){e.off("cell:mousedown",this.onDragStart,this)}loadGroup(e,n,r){const i=this.getModel(n);if(i){const l=e.map(u=>na.isNode(u)?u:na.create(u));r===!0?i.removeCells(l):i.resetCells(l)}const o=this.getGroup(n);let a=this.options.stencilGraphHeight;o&&o.graphHeight!=null&&(a=o.graphHeight);const s=o&&o.layout||this.options.layout;if(s&&i&&lr(s,this,i,o),!a){const l=this.getGraph(n);l.fitToContent({minWidth:l.options.width,gridHeight:1,padding:o&&o.graphPadding||this.options.stencilGraphPadding||10})}return this}onDragStart(e){const{e:n,node:r}=e,i=this.getGroupByNode(r);i&&i.nodeMovable===!1||this.dnd.start(r,n)}filter(e,n){const r=Object.keys(this.graphs).reduce((i,o)=>{const a=this.graphs[o],s=o===ZS.defaultGroupName?null:o,l=a.model.getNodes().filter(d=>{let h=!1;typeof n=="function"?h=lr(n,this,d,e,s,this):typeof n=="boolean"?h=n:h=this.isCellMatched(d,e,n,e.toLowerCase()!==e);const p=a.renderer.findViewByCell(d);return p&&hc(p.container,"unmatched",!h),h}),u=l.length>0,c=this.options,f=new Js;return f.resetCells(l),c.layout&&lr(c.layout,this,f,this.getGroup(o)),this.groups[o]&&hc(this.groups[o],"unmatched",!u),a.fitToContent({gridWidth:1,gridHeight:1,padding:c.stencilGraphPadding||10}),i||u},!1);hc(this.container,"not-found",!r)}isCellMatched(e,n,r,i){return n&&r?Object.keys(r).some(o=>{if(o==="*"||e.shape===o){const a=r[o];return typeof a=="boolean"?a:(Array.isArray(a)?a:[a]).some(l=>{let u=e.getPropByPath(l);return u!=null?(u=`${u}`,i||(u=u.toLowerCase()),u.indexOf(n)>=0):!1})}return!1}):!0}onSearch(e){this.filter(e.target.value,this.options.search)}onSearchFocusIn(){Qn(this.container,"is-focused")}onSearchFocusOut(){_o(this.container,"is-focused")}onTitleClick(){this.options.collapsable&&(hc(this.container,"collapsed"),If(this.container,"collapsed")?this.collapseGroups():this.expandGroups())}onGroupTitleClick(e){const n=e.target.closest(`.${this.prefixClassName(gl.group)}`);n&&this.toggleGroup(oi(n,"data-name")||"");const r=Object.keys(this.groups).every(i=>{const o=this.getGroup(i),a=this.groups[i];return o&&o.collapsable===!1||If(a,"collapsed")});hc(this.container,"collapsed",r)}getModel(e){const n=this.getGraph(e);return n?n.model:null}getGraph(e){return this.graphs[e||ZS.defaultGroupName]}getGroup(e){const n=this.options.groups;return e!=null&&n&&n.length?n.find(r=>r.name===e):null}getGroupByNode(e){const n=this.options.groups;return n?n.find(r=>{const i=this.getModel(r.name);return i?i.has(e.id):!1}):null}clearGroups(){Object.keys(this.graphs).forEach(e=>{const n=this.graphs[e];this.unregisterGraphEvents(n),n.dispose()}),Object.keys(this.groups).forEach(e=>{const n=this.groups[e];Nu(n)}),this.graphs={},this.groups={}}onRemove(){this.clearGroups(),this.dnd.remove(),this.stopListening(),this.undelegateDocumentEvents()}dispose(){this.remove(),b_(this.name)}}pvt([Ni.dispose()],C1.prototype,"dispose",null);(function(t){t.defaultOptions=Object.assign({stencilGraphWidth:200,stencilGraphHeight:800,title:"Stencil",collapsable:!1,placeholder:"Search",notFoundText:"No matches found",layout(e,n){const r={columnWidth:this.options.stencilGraphWidth/2-10,columns:2,rowHeight:80,resizeToFit:!1,dx:10,dy:10};dvt(e,Object.assign(Object.assign(Object.assign({},r),this.options.layoutOptions),n?n.layoutOptions:{}))}},hv.defaults)})(C1||(C1={}));var gl;(function(t){t.base="widget-stencil",t.title=`${t.base}-title`,t.search=`${t.base}-search`,t.searchText=`${t.search}-text`,t.content=`${t.base}-content`,t.group=`${t.base}-group`,t.groupTitle=`${t.group}-title`,t.groupContent=`${t.group}-content`})(gl||(gl={}));var ZS;(function(t){t.defaultGroupName="__default__"})(ZS||(ZS={}));var vvt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class P0e extends Ni{get model(){return this.graph.model}get view(){return this.graph.renderer.findViewByCell(this.node)}get containerClassName(){return this.prefixClassName("widget-transform")}get resizeClassName(){return`${this.containerClassName}-resize`}get rotateClassName(){return`${this.containerClassName}-rotate`}constructor(e,n,r){super(),this.node=n,this.graph=r,this.options=Object.assign(Object.assign({},ya.defaultOptions),e),this.render(),this.startListening()}startListening(){this.delegateEvents({[`mousedown .${this.resizeClassName}`]:"startResizing",[`touchstart .${this.resizeClassName}`]:"startResizing",[`mousedown .${this.rotateClassName}`]:"startRotating",[`touchstart .${this.rotateClassName}`]:"startRotating"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.node.on("removed",this.remove,this),this.model.on("reseted",this.remove,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this)}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.node.off("removed",this.remove,this),this.model.off("reseted",this.remove,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this)}renderHandles(){this.container=document.createElement("div");const e=document.createElement("div");oi(e,"draggable","false");const n=e.cloneNode(!0);Qn(n,this.rotateClassName);const r=ya.POSITIONS.map(i=>{const o=e.cloneNode(!0);return Qn(o,this.resizeClassName),oi(o,"data-position",i),o});this.empty(),Vl(this.container,[...r,n])}render(){return this.renderHandles(),this.view&&this.view.addClass(ya.NODE_CLS),Qn(this.container,this.containerClassName),hc(this.container,"no-orth-resize",this.options.preserveAspectRatio||!this.options.orthogonalResizing),hc(this.container,"no-resize",!this.options.resizable),hc(this.container,"no-rotate",!this.options.rotatable),this.options.className&&Qn(this.container,this.options.className),this.graph.container.appendChild(this.container),this.update()}update(){const e=this.graph.matrix(),n=this.node.getBBox();n.x*=e.a,n.x+=e.e,n.y*=e.d,n.y+=e.f,n.width*=e.a,n.height*=e.d;const r=xi.normalize(this.node.getAngle()),i=r!==0?`rotate(${r}deg)`:"";return sa(this.container,{transform:i,width:n.width,height:n.height,left:n.x,top:n.y}),this.updateResizerDirections(),this}remove(){return this.view&&this.view.removeClass(ya.NODE_CLS),super.remove()}onKnobMouseDown(){this.startHandle()}onKnobMouseUp(){this.stopHandle()}updateResizerDirections(){const e=xi.normalize(this.node.getAngle()),n=Math.floor(e*(ya.DIRECTIONS.length/360));if(n!==this.prevShift){const r=ya.DIRECTIONS.slice(n).concat(ya.DIRECTIONS.slice(0,n)),i=a=>`${this.containerClassName}-cursor-${a}`;this.container.querySelectorAll(`.${this.resizeClassName}`).forEach((a,s)=>{_o(a,ya.DIRECTIONS.map(l=>i(l)).join(" ")),Qn(a,i(r[s]))}),this.prevShift=n}}getTrueDirection(e){const n=xi.normalize(this.node.getAngle());let r=ya.POSITIONS.indexOf(e);return r+=Math.floor(n*(ya.POSITIONS.length/360)),r%=ya.POSITIONS.length,ya.POSITIONS[r]}toValidResizeDirection(e){return{top:"top-left",bottom:"bottom-right",left:"bottom-left",right:"top-right"}[e]||e}startResizing(e){e.stopPropagation(),this.model.startBatch("resize",{cid:this.cid});const n=oi(e.target,"data-position");this.prepareResizing(e,n),this.startAction(e)}prepareResizing(e,n){const r=this.getTrueDirection(n);let i=0,o=0;n.split("-").forEach(u=>{i={left:-1,right:1}[u]||i,o={top:-1,bottom:1}[u]||o});const a=this.toValidResizeDirection(n),s={"top-right":"bottomLeft","top-left":"bottomRight","bottom-left":"topRight","bottom-right":"topLeft"}[a],l=xi.normalize(this.node.getAngle());this.setEventData(e,{selector:s,direction:a,trueDirection:r,relativeDirection:n,angle:l,resizeX:i,resizeY:o,action:"resizing"})}startRotating(e){e.stopPropagation(),this.model.startBatch("rotate",{cid:this.cid});const n=this.node.getBBox().getCenter(),r=this.normalizeEvent(e),i=this.graph.snapToGrid(r.clientX,r.clientY);this.setEventData(e,{center:n,action:"rotating",angle:xi.normalize(this.node.getAngle()),start:Ve.create(i).theta(n)}),this.startAction(e)}onMouseMove(e){const n=this.graph.findViewByCell(this.node);let r=this.getEventData(e);if(r.action){const i=this.normalizeEvent(e);let o=i.clientX,a=i.clientY;const s=this.graph.getPlugin("scroller"),l=this.options.restrictedResizing;if(l===!0||typeof l=="number"){const h=l===!0?0:l,p=s?Math.max(h,8):h,v=this.graph.container.getBoundingClientRect();o=Xs(o,v.left+p,v.right-p),a=Xs(a,v.top+p,v.bottom-p)}else this.options.autoScrollOnResizing&&s&&s.autoScroll(o,a);const u=this.graph.snapToGrid(o,a),c=this.graph.getGridSize(),f=this.node,d=this.options;if(r.action==="resizing"){r=r,r.resized||(n&&(n.addClass("node-resizing"),this.notify("node:resize",e,n)),r.resized=!0);const h=f.getBBox(),p=Ve.create(u).rotate(r.angle,h.getCenter()).diff(h[r.selector]);let v=r.resizeX?p.x*r.resizeX:h.width,g=r.resizeY?p.y*r.resizeY:h.height;const m=v,y=g;if(v=ki.snapToGrid(v,c),g=ki.snapToGrid(g,c),v=Math.max(v,d.minWidth||c),g=Math.max(g,d.minHeight||c),v=Math.min(v,d.maxWidth||1/0),g=Math.min(g,d.maxHeight||1/0),d.preserveAspectRatio){const w=h.width*g/h.height,S=h.height*v/h.width;v<w?g=S:v=w}const b=r.relativeDirection;if(d.allowReverse&&(m<=-v||y<=-g)){let w;b==="left"?m<=-v&&(w="right"):b==="right"?m<=-v&&(w="left"):b==="top"?y<=-g&&(w="bottom"):b==="bottom"?y<=-g&&(w="top"):b==="top-left"?m<=-v&&y<=-g?w="bottom-right":m<=-v?w="top-right":y<=-g&&(w="bottom-left"):b==="top-right"?m<=-v&&y<=-g?w="bottom-left":m<=-v?w="top-left":y<=-g&&(w="bottom-right"):b==="bottom-left"?m<=-v&&y<=-g?w="top-right":m<=-v?w="bottom-right":y<=-g&&(w="top-left"):b==="bottom-right"&&(m<=-v&&y<=-g?w="top-left":m<=-v?w="bottom-left":y<=-g&&(w="top-right"));const S=w;this.stopHandle();const x=this.container.querySelector(`.${this.resizeClassName}[data-position="${S}"]`);this.startHandle(x),this.prepareResizing(e,S),this.onMouseMove(e)}if(h.width!==v||h.height!==g){const w={ui:!0,direction:r.direction,relativeDirection:r.relativeDirection,trueDirection:r.trueDirection,minWidth:d.minWidth,minHeight:d.minHeight,maxWidth:d.maxWidth,maxHeight:d.maxHeight,preserveAspectRatio:d.preserveAspectRatio===!0};f.resize(v,g,w),this.notify("node:resizing",e,n)}}else if(r.action==="rotating"){r=r,r.rotated||(n&&(n.addClass("node-rotating"),this.notify("node:rotate",e,n)),r.rotated=!0);const h=f.getAngle(),p=r.start-Ve.create(u).theta(r.center);let v=r.angle+p;d.rotateGrid&&(v=ki.snapToGrid(v,d.rotateGrid)),v=xi.normalize(v),h!==v&&(f.rotate(v,{absolute:!0}),this.notify("node:rotating",e,n))}}}onMouseUp(e){const n=this.getEventData(e);n.action&&(this.stopAction(e),this.model.stopBatch(n.action==="resizing"?"resize":"rotate",{cid:this.cid}))}startHandle(e){if(this.handle=e||null,Qn(this.container,`${this.containerClassName}-active`),e){Qn(e,`${this.containerClassName}-active-handle`);const n=e.getAttribute("data-position");if(n){const r=ya.DIRECTIONS[ya.POSITIONS.indexOf(n)];Qn(this.container,`${this.containerClassName}-cursor-${r}`)}}}stopHandle(){if(_o(this.container,`${this.containerClassName}-active`),this.handle){_o(this.handle,`${this.containerClassName}-active-handle`);const e=this.handle.getAttribute("data-position");if(e){const n=ya.DIRECTIONS[ya.POSITIONS.indexOf(e)];_o(this.container,`${this.containerClassName}-cursor-${n}`)}this.handle=null}}startAction(e){this.startHandle(e.target),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(ya.documentEvents,e.data)}stopAction(e){this.stopHandle(),this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const n=this.graph.findViewByCell(this.node),r=this.getEventData(e);n&&(n.removeClass(`node-${r.action}`),r.action==="resizing"&&r.resized?this.notify("node:resized",e,n):r.action==="rotating"&&r.rotated&&this.notify("node:rotated",e,n))}notify(e,n,r,i={}){if(r){const o=r.graph,a=o.view.normalizeEvent(n),s=o.snapToGrid(a.clientX,a.clientY);this.trigger(e,Object.assign({e:a,view:r,node:r.cell,cell:r.cell,x:s.x,y:s.y},i))}}dispose(){this.stopListening(),this.remove(),this.off()}}vvt([Ni.dispose()],P0e.prototype,"dispose",null);var ya;(function(t){t.NODE_CLS="has-widget-transform",t.DIRECTIONS=["nw","n","ne","e","se","s","sw","w"],t.POSITIONS=["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],t.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"},t.defaultOptions={minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,rotateGrid:15,rotatable:!0,preserveAspectRatio:!1,orthogonalResizing:!0,restrictedResizing:!1,autoScrollOnResizing:!0,allowReverse:!0}})(ya||(ya={}));const gvt=`.x6-widget-transform {
  position: absolute;
  box-sizing: content-box !important;
  margin: -5px 0 0 -5px;
  padding: 4px;
  border: 1px dashed #000;
  border-radius: 5px;
  user-select: none;
  pointer-events: none;
}
.x6-widget-transform > div {
  position: absolute;
  box-sizing: border-box;
  background-color: #fff;
  border: 1px solid #000;
  transition: background-color 0.2s;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-transform > div:hover {
  background-color: #d3d3d3;
}
.x6-widget-transform-cursor-n {
  cursor: n-resize;
}
.x6-widget-transform-cursor-s {
  cursor: s-resize;
}
.x6-widget-transform-cursor-e {
  cursor: e-resize;
}
.x6-widget-transform-cursor-w {
  cursor: w-resize;
}
.x6-widget-transform-cursor-ne {
  cursor: ne-resize;
}
.x6-widget-transform-cursor-nw {
  cursor: nw-resize;
}
.x6-widget-transform-cursor-se {
  cursor: se-resize;
}
.x6-widget-transform-cursor-sw {
  cursor: sw-resize;
}
.x6-widget-transform-resize {
  width: 10px;
  height: 10px;
  border-radius: 6px;
}
.x6-widget-transform-resize[data-position='top-left'] {
  top: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='top-right'] {
  top: -5px;
  right: -5px;
}
.x6-widget-transform-resize[data-position='bottom-left'] {
  bottom: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='bottom-right'] {
  right: -5px;
  bottom: -5px;
}
.x6-widget-transform-resize[data-position='top'] {
  top: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='bottom'] {
  bottom: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='left'] {
  top: 50%;
  left: -5px;
  margin-top: -5px;
}
.x6-widget-transform-resize[data-position='right'] {
  top: 50%;
  right: -5px;
  margin-top: -5px;
}
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='top'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='right'] {
  display: none;
}
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='right'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='top'] {
  display: none;
}
.x6-widget-transform.no-resize .x6-widget-transform-resize {
  display: none;
}
.x6-widget-transform-rotate {
  top: -20px;
  left: -20px;
  width: 12px;
  height: 12px;
  border-radius: 6px;
  cursor: crosshair;
}
.x6-widget-transform.no-rotate .x6-widget-transform-rotate {
  display: none;
}
.x6-widget-transform-active {
  border-color: transparent;
  pointer-events: all;
}
.x6-widget-transform-active > div {
  display: none;
}
.x6-widget-transform-active > .x6-widget-transform-active-handle {
  display: block;
  background-color: #808080;
}
`;en.prototype.createTransformWidget=function(t){const e=this.getPlugin("transform");return e&&e.createWidget(t),this};en.prototype.clearTransformWidgets=function(){const t=this.getPlugin("transform");return t&&t.clearWidgets(),this};var mvt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class qm extends vo{constructor(e={}){super(),this.name="transform",this.widgets=new Map,this.disabled=!1,this.options=e,y_(this.name,gvt)}init(e){this.graph=e,!this.disabled&&this.startListening()}startListening(){this.graph.on("node:click",this.onNodeClick,this),this.graph.on("blank:mousedown",this.onBlankMouseDown,this)}stopListening(){this.graph.off("node:click",this.onNodeClick,this),this.graph.off("blank:mousedown",this.onBlankMouseDown,this)}enable(){this.disabled&&(this.disabled=!1,this.startListening())}disable(){this.disabled||(this.disabled=!0,this.stopListening())}isEnabled(){return!this.disabled}createWidget(e){this.clearWidgets();const n=this.createTransform(e);n&&(this.widgets.set(e,n),n.on("*",(r,i)=>{this.trigger(r,i),this.graph.trigger(r,i)}))}onNodeClick({node:e}){this.createWidget(e)}onBlankMouseDown(){this.clearWidgets()}createTransform(e){const n=this.getTransformOptions(e);return n.resizable||n.rotatable?new P0e(n,e,this.graph):null}getTransformOptions(e){this.options.resizing||(this.options.resizing={enabled:!1}),this.options.rotating||(this.options.rotating={enabled:!1}),typeof this.options.resizing=="boolean"&&(this.options.resizing={enabled:this.options.resizing}),typeof this.options.rotating=="boolean"&&(this.options.rotating={enabled:this.options.rotating});const n=qm.parseOptionGroup(this.graph,e,this.options.resizing),r=qm.parseOptionGroup(this.graph,e,this.options.rotating);return{resizable:!!n.enabled,minWidth:n.minWidth||0,maxWidth:n.maxWidth||Number.MAX_SAFE_INTEGER,minHeight:n.minHeight||0,maxHeight:n.maxHeight||Number.MAX_SAFE_INTEGER,orthogonalResizing:typeof n.orthogonal=="boolean"?n.orthogonal:!0,restrictedResizing:!!n.restrict,autoScrollOnResizing:typeof n.autoScroll=="boolean"?n.autoScroll:!0,preserveAspectRatio:!!n.preserveAspectRatio,allowReverse:typeof n.allowReverse=="boolean"?n.allowReverse:!0,rotatable:!!r.enabled,rotateGrid:r.grid||15}}clearWidgets(){this.widgets.forEach((e,n)=>{this.graph.getCellById(n.id)&&e.dispose()}),this.widgets.clear()}dispose(){this.clearWidgets(),this.stopListening(),this.off(),b_(this.name)}}mvt([vo.dispose()],qm.prototype,"dispose",null);(function(t){function e(n,r,i){const o={};return Object.keys(i||{}).forEach(a=>{const s=i[a];o[a]=typeof s=="function"?s.call(n,r):s}),o}t.parseOptionGroup=e})(qm||(qm={}));var yvt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class O0e extends Ni{get graph(){return this.options.graph}get boxClassName(){return this.prefixClassName(ml.classNames.box)}get $boxes(){return bct(this.container,this.boxClassName)}get handleOptions(){return this.options}constructor(e){super(),this.options=e,this.options.model&&(this.options.collection=this.options.model.collection),this.options.collection?this.collection=this.options.collection:(this.collection=new gP([],{comparator:ml.depthComparator}),this.options.collection=this.collection),this.boxCount=0,this.createContainer(),this.startListening()}startListening(){const e=this.graph,n=this.collection;this.delegateEvents({[`mousedown .${this.boxClassName}`]:"onSelectionBoxMouseDown",[`touchstart .${this.boxClassName}`]:"onSelectionBoxMouseDown"},!0),e.on("scale",this.onGraphTransformed,this),e.on("translate",this.onGraphTransformed,this),e.model.on("updated",this.onModelUpdated,this),n.on("added",this.onCellAdded,this),n.on("removed",this.onCellRemoved,this),n.on("reseted",this.onReseted,this),n.on("updated",this.onCollectionUpdated,this),n.on("node:change:position",this.onNodePositionChanged,this),n.on("cell:changed",this.onCellChanged,this)}stopListening(){const e=this.graph,n=this.collection;this.undelegateEvents(),e.off("scale",this.onGraphTransformed,this),e.off("translate",this.onGraphTransformed,this),e.model.off("updated",this.onModelUpdated,this),n.off("added",this.onCellAdded,this),n.off("removed",this.onCellRemoved,this),n.off("reseted",this.onReseted,this),n.off("updated",this.onCollectionUpdated,this),n.off("node:change:position",this.onNodePositionChanged,this),n.off("cell:changed",this.onCellChanged,this)}onRemove(){this.stopListening()}onGraphTransformed(){this.updateSelectionBoxes()}onCellChanged(){this.updateSelectionBoxes()}onNodePositionChanged({node:e,options:n}){const{showNodeSelectionBox:r,pointerEvents:i}=this.options,{ui:o,selection:a,translateBy:s,snapped:l}=n,u=(r!==!0||i&&this.getPointerEventsValue(i)==="none")&&!this.translating&&!a,c=o&&s&&e.id===s;if(u&&(c||l)){this.translating=!0;const f=e.position(),d=e.previous("position"),h=f.x-d.x,p=f.y-d.y;(h!==0||p!==0)&&this.translateSelectedNodes(h,p,e,n),this.translating=!1}}onModelUpdated({removed:e}){e&&e.length&&this.unselect(e)}isEmpty(){return this.length<=0}isSelected(e){return this.collection.has(e)}get length(){return this.collection.length}get cells(){return this.collection.toArray()}select(e,n={}){n.dryrun=!0;const r=this.filter(Array.isArray(e)?e:[e]);return this.collection.add(r,n),this}unselect(e,n={}){return n.dryrun=!0,this.collection.remove(Array.isArray(e)?e:[e],n),this}reset(e,n={}){if(e){if(n.batch){const u=this.filter(Array.isArray(e)?e:[e]);return this.collection.reset(u,Object.assign(Object.assign({},n),{ui:!0})),this}const r=this.cells,i=this.filter(Array.isArray(e)?e:[e]),o={},a={};r.forEach(u=>o[u.id]=u),i.forEach(u=>a[u.id]=u);const s=[],l=[];return i.forEach(u=>{o[u.id]||s.push(u)}),r.forEach(u=>{a[u.id]||l.push(u)}),l.length&&this.unselect(l,Object.assign(Object.assign({},n),{ui:!0})),s.length&&this.select(s,Object.assign(Object.assign({},n),{ui:!0})),l.length===0&&s.length===0&&this.updateContainer(),this}return this.clean(n)}clean(e={}){return this.length&&(e.batch===!1?this.unselect(this.cells,e):this.collection.reset([],Object.assign(Object.assign({},e),{ui:!0}))),this}setFilter(e){this.options.filter=e}setContent(e){this.options.content=e}startSelecting(e){e=this.normalizeEvent(e),this.clean();let n,r;const i=this.graph.container;if(e.offsetX!=null&&e.offsetY!=null&&i.contains(e.target))n=e.offsetX,r=e.offsetY;else{const o=wV(i),a=i.scrollLeft,s=i.scrollTop;n=e.clientX-o.left+window.pageXOffset+a,r=e.clientY-o.top+window.pageYOffset+s}sa(this.container,{top:r,left:n,width:1,height:1}),this.setEventData(e,{action:"selecting",clientX:e.clientX,clientY:e.clientY,offsetX:n,offsetY:r,scrollerX:0,scrollerY:0,moving:!1}),this.delegateDocumentEvents(ml.documentEvents,e.data)}filter(e){const n=this.options.filter;return e.filter(r=>Array.isArray(n)?n.some(i=>typeof i=="string"?r.shape===i:r.id===i.id):typeof n=="function"?lr(n,this.graph,r):!0)}stopSelecting(e){const n=this.graph,r=this.getEventData(e);switch(r.action){case"selecting":{let o=eft(this.container),a=tft(this.container);const s=wV(this.container),l=n.pageToLocal(s.left,s.top),u=n.transform.getScale();o/=u.sx,a/=u.sy;const c=new bn(l.x,l.y,o,a),f=this.getCellViewsInArea(c).map(d=>d.cell);this.reset(f,{batch:!0}),this.hideRubberband();break}case"translating":{const o=n.snapToGrid(e.clientX,e.clientY);if(!this.options.following){const a=r;this.updateSelectedNodesPosition({dx:a.clientX-a.originX,dy:a.clientY-a.originY})}this.graph.model.stopBatch("move-selection"),this.notifyBoxEvent("box:mouseup",e,o.x,o.y);break}default:{this.clean();break}}}onMouseUp(e){this.getEventData(e).action&&(this.stopSelecting(e),this.undelegateDocumentEvents())}onSelectionBoxMouseDown(e){this.options.following||e.stopPropagation();const n=this.normalizeEvent(e);this.options.movable&&this.startTranslating(n);const r=this.getCellViewFromElem(n.target);this.setEventData(n,{activeView:r});const i=this.graph.snapToGrid(n.clientX,n.clientY);this.notifyBoxEvent("box:mousedown",n,i.x,i.y),this.delegateDocumentEvents(ml.documentEvents,n.data)}startTranslating(e){this.graph.model.startBatch("move-selection");const n=this.graph.snapToGrid(e.clientX,e.clientY);this.setEventData(e,{action:"translating",clientX:n.x,clientY:n.y,originX:n.x,originY:n.y})}getRestrictArea(){const e=this.graph.options.translating.restrict,n=typeof e=="function"?lr(e,this.graph,null):e;return typeof n=="number"?this.graph.transform.getGraphArea().inflate(n):n===!0?this.graph.transform.getGraphArea():n||null}getSelectionOffset(e,n){let r=e.x-n.clientX,i=e.y-n.clientY;const o=this.getRestrictArea();if(o){const a=this.collection.toArray(),s=di.getCellsBBox(a,{deep:!0})||bn.create(),l=o.x-s.x,u=o.y-s.y,c=o.x+o.width-(s.x+s.width),f=o.y+o.height-(s.y+s.height);if(r<l&&(r=l),i<u&&(i=u),c<r&&(r=c),f<i&&(i=f),!this.options.following){const d=e.x-n.originX,h=e.y-n.originY;r=d<=l||d>=c?0:r,i=h<=u||h>=f?0:i}}return{dx:r,dy:i}}updateElementPosition(e,n,r){const i=sa(e,"left"),o=sa(e,"top"),a=i?parseFloat(i):0,s=o?parseFloat(o):0;sa(e,"left",a+n),sa(e,"top",s+r)}updateSelectedNodesPosition(e){const{dx:n,dy:r}=e;if(n||r)if(this.translateSelectedNodes(n,r),this.boxesUpdated)this.collection.length>1&&this.updateSelectionBoxes();else{const i=this.graph.transform.getScale();for(let o=0,a=this.$boxes,s=a.length;o<s;o+=1)this.updateElementPosition(a[o],n*i.sx,r*i.sy);this.updateElementPosition(this.selectionContainer,n*i.sx,r*i.sy)}}autoScrollGraph(e,n){const r=this.graph.getPlugin("scroller");return r?r.autoScroll(e,n):{scrollerX:0,scrollerY:0}}adjustSelection(e){const n=this.normalizeEvent(e),r=this.getEventData(n);switch(r.action){case"selecting":{const o=r;o.moving!==!0&&(Wp(this.container,this.graph.container),this.showRubberband(),o.moving=!0);const{scrollerX:a,scrollerY:s}=this.autoScrollGraph(n.clientX,n.clientY);o.scrollerX+=a,o.scrollerY+=s;const l=n.clientX-o.clientX+o.scrollerX,u=n.clientY-o.clientY+o.scrollerY,c=parseInt(sa(this.container,"left")||"0",10),f=parseInt(sa(this.container,"top")||"0",10);sa(this.container,{left:l<0?o.offsetX+l:c,top:u<0?o.offsetY+u:f,width:Math.abs(l),height:Math.abs(u)});break}case"translating":{const o=this.graph.snapToGrid(n.clientX,n.clientY),a=r,s=this.getSelectionOffset(o,a);this.options.following?this.updateSelectedNodesPosition(s):this.updateContainerPosition(s),s.dx&&(a.clientX=o.x),s.dy&&(a.clientY=o.y),this.notifyBoxEvent("box:mousemove",e,o.x,o.y);break}}this.boxesUpdated=!1}translateSelectedNodes(e,n,r,i){const o={},a=[];if(r&&(o[r.id]=!0),this.collection.toArray().forEach(s=>{s.getDescendants({deep:!0}).forEach(l=>{o[l.id]=!0})}),i&&i.translateBy){const s=this.graph.getCellById(i.translateBy);s&&(o[s.id]=!0,s.getDescendants({deep:!0}).forEach(l=>{o[l.id]=!0}),a.push(s))}this.collection.toArray().forEach(s=>{if(!o[s.id]){const l=Object.assign(Object.assign({},i),{selection:this.cid,exclude:a});s.translate(e,n,l),this.graph.model.getConnectedEdges(s).forEach(u=>{o[u.id]||(u.translate(e,n,l),o[u.id]=!0)})}})}getCellViewsInArea(e){const n=this.graph,r={strict:this.options.strict};let i=[];return this.options.rubberNode&&(i=i.concat(n.model.getNodesInArea(e,r).map(o=>n.renderer.findViewByCell(o)).filter(o=>o!=null))),this.options.rubberEdge&&(i=i.concat(n.model.getEdgesInArea(e,r).map(o=>n.renderer.findViewByCell(o)).filter(o=>o!=null))),i}notifyBoxEvent(e,n,r,i){const a=this.getEventData(n).activeView;this.trigger(e,{e:n,view:a,x:r,y:i,cell:a.cell})}getSelectedClassName(e){return this.prefixClassName(`${e.isNode()?"node":"edge"}-selected`)}addCellSelectedClassName(e){const n=this.graph.renderer.findViewByCell(e);n&&n.addClass(this.getSelectedClassName(e))}removeCellUnSelectedClassName(e){const n=this.graph.renderer.findViewByCell(e);n&&n.removeClass(this.getSelectedClassName(e))}destroySelectionBox(e){this.removeCellUnSelectedClassName(e),this.canShowSelectionBox(e)&&(Nu(this.container.querySelector(`[data-cell-id="${e.id}"]`)),this.$boxes.length===0&&this.hide(),this.boxCount=Math.max(0,this.boxCount-1))}destroyAllSelectionBoxes(e){e.forEach(n=>this.removeCellUnSelectedClassName(n)),this.hide(),Nu(this.$boxes),this.boxCount=0}hide(){_o(this.container,this.prefixClassName(ml.classNames.rubberband)),_o(this.container,this.prefixClassName(ml.classNames.selected))}showRubberband(){Qn(this.container,this.prefixClassName(ml.classNames.rubberband))}hideRubberband(){_o(this.container,this.prefixClassName(ml.classNames.rubberband))}showSelected(){kj(this.container,"style"),Qn(this.container,this.prefixClassName(ml.classNames.selected))}createContainer(){this.container=document.createElement("div"),Qn(this.container,this.prefixClassName(ml.classNames.root)),this.options.className&&Qn(this.container,this.options.className),this.selectionContainer=document.createElement("div"),Qn(this.selectionContainer,this.prefixClassName(ml.classNames.inner)),this.selectionContent=document.createElement("div"),Qn(this.selectionContent,this.prefixClassName(ml.classNames.content)),Vl(this.selectionContainer,this.selectionContent),oi(this.selectionContainer,"data-selection-length",this.collection.length),hye(this.container,this.selectionContainer)}updateContainerPosition(e){(e.dx||e.dy)&&this.updateElementPosition(this.selectionContainer,e.dx,e.dy)}updateContainer(){const e={x:1/0,y:1/0},n={x:0,y:0};this.collection.toArray().filter(o=>this.canShowSelectionBox(o)).forEach(o=>{const a=this.graph.renderer.findViewByCell(o);if(a){const s=a.getBBox({useCellGeometry:!0});e.x=Math.min(e.x,s.x),e.y=Math.min(e.y,s.y),n.x=Math.max(n.x,s.x+s.width),n.y=Math.max(n.y,s.y+s.height)}}),sa(this.selectionContainer,{position:"absolute",pointerEvents:"none",left:e.x,top:e.y,width:n.x-e.x,height:n.y-e.y}),oi(this.selectionContainer,"data-selection-length",this.collection.length);const i=this.options.content;if(i)if(typeof i=="function"){const o=lr(i,this.graph,this,this.selectionContent);o&&(this.selectionContent.innerHTML=o)}else this.selectionContent.innerHTML=i;this.collection.length>0&&!this.container.parentNode?Wp(this.container,this.graph.container):this.collection.length<=0&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}canShowSelectionBox(e){return e.isNode()&&this.options.showNodeSelectionBox===!0||e.isEdge()&&this.options.showEdgeSelectionBox===!0}getPointerEventsValue(e){return typeof e=="string"?e:e(this.cells)}createSelectionBox(e){if(this.addCellSelectedClassName(e),this.canShowSelectionBox(e)){const n=this.graph.renderer.findViewByCell(e);if(n){const r=n.getBBox({useCellGeometry:!0}),i=this.boxClassName,o=document.createElement("div"),a=this.options.pointerEvents;Qn(o,i),Qn(o,`${i}-${e.isNode()?"node":"edge"}`),oi(o,"data-cell-id",e.id),sa(o,{position:"absolute",left:r.x,top:r.y,width:r.width,height:r.height,pointerEvents:a?this.getPointerEventsValue(a):"auto"}),Wp(o,this.container),this.showSelected(),this.boxCount+=1}}}updateSelectionBoxes(){this.collection.length>0&&(this.boxesUpdated=!0,this.confirmUpdate())}confirmUpdate(){if(this.boxCount){this.hide();for(let e=0,n=this.$boxes,r=n.length;e<r;e+=1){const i=n[e],o=oi(i,"data-cell-id");Nu(i),this.boxCount-=1;const a=this.collection.get(o);a&&this.createSelectionBox(a)}this.updateContainer()}return 0}getCellViewFromElem(e){const n=e.getAttribute("data-cell-id");if(n){const r=this.collection.get(n);if(r)return this.graph.renderer.findViewByCell(r)}return null}onCellRemoved({cell:e}){this.destroySelectionBox(e),this.updateContainer()}onReseted({previous:e,current:n}){this.destroyAllSelectionBoxes(e),n.forEach(r=>{this.listenCellRemoveEvent(r),this.createSelectionBox(r)}),this.updateContainer()}onCellAdded({cell:e}){this.listenCellRemoveEvent(e),this.createSelectionBox(e),this.updateContainer()}listenCellRemoveEvent(e){e.off("removed",this.onCellRemoved,this),e.on("removed",this.onCellRemoved,this)}onCollectionUpdated({added:e,removed:n,options:r}){e.forEach(o=>{this.trigger("cell:selected",{cell:o,options:r}),o.isNode()?this.trigger("node:selected",{cell:o,options:r,node:o}):o.isEdge()&&this.trigger("edge:selected",{cell:o,options:r,edge:o})}),n.forEach(o=>{this.trigger("cell:unselected",{cell:o,options:r}),o.isNode()?this.trigger("node:unselected",{cell:o,options:r,node:o}):o.isEdge()&&this.trigger("edge:unselected",{cell:o,options:r,edge:o})});const i={added:e,removed:n,options:r,selected:this.cells.filter(o=>!!this.graph.getCellById(o.id))};this.trigger("selection:changed",i)}dispose(){this.clean(),this.remove(),this.off()}}yvt([Ni.dispose()],O0e.prototype,"dispose",null);var ml;(function(t){const e="widget-selection";t.classNames={root:e,inner:`${e}-inner`,box:`${e}-box`,content:`${e}-content`,rubberband:`${e}-rubberband`,selected:`${e}-selected`},t.documentEvents={mousemove:"adjustSelection",touchmove:"adjustSelection",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"};function n(r){return r.getAncestors().length}t.depthComparator=n})(ml||(ml={}));const bvt=`.x6-widget-selection {
  position: absolute;
  top: 0;
  left: 0;
  display: none;
  width: 0;
  height: 0;
  touch-action: none;
}
.x6-widget-selection-rubberband {
  display: block;
  overflow: visible;
  opacity: 0.3;
}
.x6-widget-selection-selected {
  display: block;
}
.x6-widget-selection-box {
  cursor: move;
}
.x6-widget-selection-inner[data-selection-length='0'],
.x6-widget-selection-inner[data-selection-length='1'] {
  display: none;
}
.x6-widget-selection-content {
  position: absolute;
  top: 100%;
  right: -20px;
  left: -20px;
  margin-top: 30px;
  padding: 6px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-selection-content:empty {
  display: none;
}
.x6-widget-selection-rubberband {
  background-color: #3498db;
  border: 2px solid #2980b9;
}
.x6-widget-selection-box {
  box-sizing: content-box !important;
  margin-top: -4px;
  margin-left: -4px;
  padding-right: 4px;
  padding-bottom: 4px;
  border: 2px dashed #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-inner {
  box-sizing: content-box !important;
  margin-top: -8px;
  margin-left: -8px;
  padding-right: 12px;
  padding-bottom: 12px;
  border: 2px solid #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-content {
  color: #fff;
  font-size: 10px;
  background-color: #6a6b8a;
}
`;en.prototype.isSelectionEnabled=function(){const t=this.getPlugin("selection");return t?t.isEnabled():!1};en.prototype.enableSelection=function(){const t=this.getPlugin("selection");return t&&t.enable(),this};en.prototype.disableSelection=function(){const t=this.getPlugin("selection");return t&&t.disable(),this};en.prototype.toggleSelection=function(t){const e=this.getPlugin("selection");return e&&e.toggleEnabled(t),this};en.prototype.isMultipleSelection=function(){const t=this.getPlugin("selection");return t?t.isMultipleSelection():!1};en.prototype.enableMultipleSelection=function(){const t=this.getPlugin("selection");return t&&t.enableMultipleSelection(),this};en.prototype.disableMultipleSelection=function(){const t=this.getPlugin("selection");return t&&t.disableMultipleSelection(),this};en.prototype.toggleMultipleSelection=function(t){const e=this.getPlugin("selection");return e&&e.toggleMultipleSelection(t),this};en.prototype.isSelectionMovable=function(){const t=this.getPlugin("selection");return t?t.isSelectionMovable():!1};en.prototype.enableSelectionMovable=function(){const t=this.getPlugin("selection");return t&&t.enableSelectionMovable(),this};en.prototype.disableSelectionMovable=function(){const t=this.getPlugin("selection");return t&&t.disableSelectionMovable(),this};en.prototype.toggleSelectionMovable=function(t){const e=this.getPlugin("selection");return e&&e.toggleSelectionMovable(t),this};en.prototype.isRubberbandEnabled=function(){const t=this.getPlugin("selection");return t?t.isRubberbandEnabled():!1};en.prototype.enableRubberband=function(){const t=this.getPlugin("selection");return t&&t.enableRubberband(),this};en.prototype.disableRubberband=function(){const t=this.getPlugin("selection");return t&&t.disableRubberband(),this};en.prototype.toggleRubberband=function(t){const e=this.getPlugin("selection");return e&&e.toggleRubberband(t),this};en.prototype.isStrictRubberband=function(){const t=this.getPlugin("selection");return t?t.isStrictRubberband():!1};en.prototype.enableStrictRubberband=function(){const t=this.getPlugin("selection");return t&&t.enableStrictRubberband(),this};en.prototype.disableStrictRubberband=function(){const t=this.getPlugin("selection");return t&&t.disableStrictRubberband(),this};en.prototype.toggleStrictRubberband=function(t){const e=this.getPlugin("selection");return e&&e.toggleStrictRubberband(t),this};en.prototype.setRubberbandModifiers=function(t){const e=this.getPlugin("selection");return e&&e.setRubberbandModifiers(t),this};en.prototype.setSelectionFilter=function(t){const e=this.getPlugin("selection");return e&&e.setSelectionFilter(t),this};en.prototype.setSelectionDisplayContent=function(t){const e=this.getPlugin("selection");return e&&e.setSelectionDisplayContent(t),this};en.prototype.isSelectionEmpty=function(){const t=this.getPlugin("selection");return t?t.isEmpty():!0};en.prototype.cleanSelection=function(t){const e=this.getPlugin("selection");return e&&e.clean(t),this};en.prototype.resetSelection=function(t,e){const n=this.getPlugin("selection");return n&&n.reset(t,e),this};en.prototype.getSelectedCells=function(){const t=this.getPlugin("selection");return t?t.getSelectedCells():[]};en.prototype.getSelectedCellCount=function(){const t=this.getPlugin("selection");return t?t.getSelectedCellCount():0};en.prototype.isSelected=function(t){const e=this.getPlugin("selection");return e?e.isSelected(t):!1};en.prototype.select=function(t,e){const n=this.getPlugin("selection");return n&&n.select(t,e),this};en.prototype.unselect=function(t,e){const n=this.getPlugin("selection");return n&&n.unselect(t,e),this};var _vt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class E1 extends vo{get rubberbandDisabled(){return this.options.enabled!==!0||this.options.rubberband!==!0}get disabled(){return this.options.enabled!==!0}get length(){return this.selectionImpl.length}get cells(){return this.selectionImpl.cells}constructor(e={}){super(),this.name="selection",this.movedMap=new WeakMap,this.unselectMap=new WeakMap,this.options=Object.assign(Object.assign({enabled:!0},E1.defaultOptions),e),y_(this.name,bvt)}init(e){this.graph=e,this.selectionImpl=new O0e(Object.assign(Object.assign({},this.options),{graph:e})),this.setup(),this.startListening()}isEnabled(){return!this.disabled}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}toggleEnabled(e){return e!=null?e!==this.isEnabled()&&(e?this.enable():this.disable()):this.isEnabled()?this.disable():this.enable(),this}isMultipleSelection(){return this.isMultiple()}enableMultipleSelection(){return this.enableMultiple(),this}disableMultipleSelection(){return this.disableMultiple(),this}toggleMultipleSelection(e){return e!=null?e!==this.isMultipleSelection()&&(e?this.enableMultipleSelection():this.disableMultipleSelection()):this.isMultipleSelection()?this.disableMultipleSelection():this.enableMultipleSelection(),this}isSelectionMovable(){return this.options.movable!==!1}enableSelectionMovable(){return this.selectionImpl.options.movable=!0,this}disableSelectionMovable(){return this.selectionImpl.options.movable=!1,this}toggleSelectionMovable(e){return e!=null?e!==this.isSelectionMovable()&&(e?this.enableSelectionMovable():this.disableSelectionMovable()):this.isSelectionMovable()?this.disableSelectionMovable():this.enableSelectionMovable(),this}isRubberbandEnabled(){return!this.rubberbandDisabled}enableRubberband(){return this.rubberbandDisabled&&(this.options.rubberband=!0),this}disableRubberband(){return this.rubberbandDisabled||(this.options.rubberband=!1),this}toggleRubberband(e){return e!=null?e!==this.isRubberbandEnabled()&&(e?this.enableRubberband():this.disableRubberband()):this.isRubberbandEnabled()?this.disableRubberband():this.enableRubberband(),this}isStrictRubberband(){return this.selectionImpl.options.strict===!0}enableStrictRubberband(){return this.selectionImpl.options.strict=!0,this}disableStrictRubberband(){return this.selectionImpl.options.strict=!1,this}toggleStrictRubberband(e){return e!=null?e!==this.isStrictRubberband()&&(e?this.enableStrictRubberband():this.disableStrictRubberband()):this.isStrictRubberband()?this.disableStrictRubberband():this.enableStrictRubberband(),this}setRubberbandModifiers(e){this.setModifiers(e)}setSelectionFilter(e){return this.setFilter(e),this}setSelectionDisplayContent(e){return this.setContent(e),this}isEmpty(){return this.length<=0}clean(e={}){return this.selectionImpl.clean(e),this}reset(e,n={}){return this.selectionImpl.reset(e?this.getCells(e):[],n),this}getSelectedCells(){return this.cells}getSelectedCellCount(){return this.length}isSelected(e){return this.selectionImpl.isSelected(e)}select(e,n={}){const r=this.getCells(e);return r.length&&(this.isMultiple()?this.selectionImpl.select(r,n):this.reset(r.slice(0,1),n)),this}unselect(e,n={}){return this.selectionImpl.unselect(this.getCells(e),n),this}setup(){this.selectionImpl.on("*",(e,n)=>{this.trigger(e,n),this.graph.trigger(e,n)})}startListening(){this.graph.on("blank:mousedown",this.onBlankMouseDown,this),this.graph.on("blank:click",this.onBlankClick,this),this.graph.on("cell:mousemove",this.onCellMouseMove,this),this.graph.on("cell:mouseup",this.onCellMouseUp,this),this.selectionImpl.on("box:mousedown",this.onBoxMouseDown,this)}stopListening(){this.graph.off("blank:mousedown",this.onBlankMouseDown,this),this.graph.off("blank:click",this.onBlankClick,this),this.graph.off("cell:mousemove",this.onCellMouseMove,this),this.graph.off("cell:mouseup",this.onCellMouseUp,this),this.selectionImpl.off("box:mousedown",this.onBoxMouseDown,this)}onBlankMouseDown({e}){if(!this.allowBlankMouseDown(e))return;const n=this.graph.panning.allowPanning(e,!0),r=this.graph.getPlugin("scroller"),i=r&&r.allowPanning(e,!0);(this.allowRubberband(e,!0)||this.allowRubberband(e)&&!i&&!n)&&this.startRubberband(e)}allowBlankMouseDown(e){const n=this.options.eventTypes;return n?.includes("leftMouseDown")&&e.button===0||n?.includes("mouseWheelDown")&&e.button===1}onBlankClick(){this.clean()}allowRubberband(e,n){return!this.rubberbandDisabled&&sv.isMatch(e,this.options.modifiers,n)}allowMultipleSelection(e){return this.isMultiple()&&sv.isMatch(e,this.options.multipleSelectionModifiers)}onCellMouseMove({cell:e}){this.movedMap.set(e,!0)}onCellMouseUp({e,cell:n}){const r=this.options;let i=this.disabled;!i&&this.movedMap.has(n)&&(i=r.selectCellOnMoved===!1,i||(i=r.selectNodeOnMoved===!1&&n.isNode()),i||(i=r.selectEdgeOnMoved===!1&&n.isEdge())),i||(this.allowMultipleSelection(e)?this.unselectMap.has(n)?this.unselectMap.delete(n):this.isSelected(n)?this.unselect(n):this.select(n):this.reset(n)),this.movedMap.delete(n)}onBoxMouseDown({e,cell:n}){this.disabled||this.allowMultipleSelection(e)&&(this.unselect(n),this.unselectMap.set(n,!0))}getCells(e){return(Array.isArray(e)?e:[e]).map(n=>typeof n=="string"?this.graph.getCellById(n):n).filter(n=>n!=null)}startRubberband(e){return this.rubberbandDisabled||this.selectionImpl.startSelecting(e),this}isMultiple(){return this.options.multiple!==!1}enableMultiple(){return this.options.multiple=!0,this}disableMultiple(){return this.options.multiple=!1,this}setModifiers(e){return this.options.modifiers=e,this}setContent(e){return this.selectionImpl.setContent(e),this}setFilter(e){return this.selectionImpl.setFilter(e),this}dispose(){this.stopListening(),this.off(),this.selectionImpl.dispose(),b_(this.name)}}_vt([vo.dispose()],E1.prototype,"dispose",null);(function(t){t.defaultOptions={rubberband:!1,rubberNode:!0,rubberEdge:!1,pointerEvents:"auto",multiple:!0,multipleSelectionModifiers:["ctrl","meta"],movable:!0,strict:!1,selectCellOnMoved:!1,selectNodeOnMoved:!1,selectEdgeOnMoved:!1,following:!0,content:null,eventTypes:["leftMouseDown","mouseWheelDown"]}})(E1||(E1={}));var wvt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Svt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class I0e extends Ni{get model(){return this.graph.model}get containerClassName(){return this.prefixClassName("widget-snapline")}get verticalClassName(){return`${this.containerClassName}-vertical`}get horizontalClassName(){return`${this.containerClassName}-horizontal`}constructor(e){super();const{graph:n}=e,r=Svt(e,["graph"]);this.graph=n,this.options=Object.assign({},r),this.offset={x:0,y:0},this.render(),this.disabled||this.startListening()}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.startListening())}disable(){this.disabled||(this.options.enabled=!1,this.stopListening())}setFilter(e){this.options.filter=e}render(){const e=this.containerWrapper=new Sr("svg"),n=this.horizontal=new Sr("line"),r=this.vertical=new Sr("line");e.addClass(this.containerClassName),n.addClass(this.horizontalClassName),r.addClass(this.verticalClassName),e.setAttribute("width","100%"),e.setAttribute("height","100%"),n.setAttribute("display","none"),r.setAttribute("display","none"),e.append([n,r]),this.options.className&&e.addClass(this.options.className),this.container=this.containerWrapper.node}startListening(){this.stopListening(),this.graph.on("node:mousedown",this.captureCursorOffset,this),this.graph.on("node:mousemove",this.snapOnMoving,this),this.model.on("batch:stop",this.onBatchStop,this),this.delegateDocumentEvents({mouseup:"hide",touchend:"hide"})}stopListening(){this.graph.off("node:mousedown",this.captureCursorOffset,this),this.graph.off("node:mousemove",this.snapOnMoving,this),this.model.off("batch:stop",this.onBatchStop,this),this.undelegateDocumentEvents()}onBatchStop({name:e,data:n}){e==="resize"&&this.snapOnResizing(n.cell,n)}captureCursorOffset({view:e,x:n,y:r}){const i=e.getDelegatedView();if(i&&this.isNodeMovable(i)){const o=e.cell.getPosition();this.offset={x:n-o.x,y:r-o.y}}}isNodeMovable(e){return e&&e.cell.isNode()&&e.can("nodeMovable")}getRestrictArea(e){const n=this.graph.options.translating.restrict,r=typeof n=="function"?lr(n,this.graph,e):n;return typeof r=="number"?this.graph.transform.getGraphArea().inflate(r):r===!0?this.graph.transform.getGraphArea():r||null}snapOnResizing(e,n){if(this.options.resizing&&!n.snapped&&n.ui&&n.direction&&n.trueDirection){const r=this.graph.renderer.findViewByCell(e);if(r&&r.cell.isNode()){const i=e.getBBox(),o=i.bbox(e.getAngle()),a=o.getTopLeft(),s=o.getBottomRight(),l=xi.normalize(e.getAngle()),u=this.options.tolerance||0;let c,f,d,h,p,v;const g={vertical:0,horizontal:0},m=n.direction,y=n.trueDirection,b=n.relativeDirection;y.indexOf("right")!==-1?g.vertical=s.x:g.vertical=a.x,y.indexOf("bottom")!==-1?g.horizontal=s.y:g.horizontal=a.y,this.model.getNodes().some(M=>{if(this.isIgnored(e,M))return!1;const D=M.getBBox().bbox(M.getAngle()),L=D.getTopLeft(),I=D.getBottomRight(),R={vertical:[L.x,I.x],horizontal:[L.y,I.y]},V={};return Object.keys(R).forEach(P=>{const B=P,j=R[B].map(G=>({position:G,distance:Math.abs(G-g[B])})).filter(G=>G.distance<=u);V[B]=gz(j,G=>G.distance)}),c==null&&V.vertical.length>0&&(c=V.vertical[0].position,f=Math.min(o.y,D.y),d=Math.max(s.y,I.y)-f),h==null&&V.horizontal.length>0&&(h=V.horizontal[0].position,p=Math.min(o.x,D.x),v=Math.max(s.x,I.x)-p),c!=null&&h!=null}),this.hide();let w=0,S=0;(h!=null||c!=null)&&(c!=null&&(w=y.indexOf("right")!==-1?c-s.x:a.x-c),h!=null&&(S=y.indexOf("bottom")!==-1?h-s.y:a.y-h));let x=0,C=0;if(l%90===0)l===90||l===270?(x=S,C=w):(x=w,C=S);else{const M=l>=0&&l<90?1:l>=90&&l<180?4:l>=180&&l<270?3:2;h!=null&&c!=null&&(w<S?(S=0,h=void 0):(w=0,c=void 0));const D=xi.toRad(l%90);w&&(x=M===3?w/Math.cos(D):w/Math.sin(D)),S&&(C=M===3?S/Math.cos(D):S/Math.sin(D));const L=M===1||M===3;switch(b){case"top":case"bottom":C=S?S/(L?Math.cos(D):Math.sin(D)):w/(L?Math.sin(D):Math.cos(D));break;case"left":case"right":x=w?w/(L?Math.cos(D):Math.sin(D)):S/(L?Math.sin(D):Math.cos(D));break}}switch(b){case"top":case"bottom":x=0;break;case"left":case"right":C=0;break}const E=this.graph.getGridSize();let T=Math.max(i.width+x,E),A=Math.max(i.height+C,E);n.minWidth&&n.minWidth>E&&(T=Math.max(T,n.minWidth)),n.minHeight&&n.minHeight>E&&(A=Math.max(A,n.minHeight)),n.maxWidth&&(T=Math.min(T,n.maxWidth)),n.maxHeight&&(A=Math.min(A,n.maxHeight)),n.preserveAspectRatio&&(C<x?A=T*(i.height/i.width):T=A*(i.width/i.height)),(T!==i.width||A!==i.height)&&(e.resize(T,A,{direction:m,relativeDirection:b,trueDirection:y,snapped:!0,snaplines:this.cid,restrict:this.getRestrictArea(r)}),d&&(d+=A-i.height),v&&(v+=T-i.width));const k=e.getBBox().bbox(l);c&&Math.abs(k.x-c)>1&&Math.abs(k.width+k.x-c)>1&&(c=void 0),h&&Math.abs(k.y-h)>1&&Math.abs(k.height+k.y-h)>1&&(h=void 0),this.update({verticalLeft:c,verticalTop:f,verticalHeight:d,horizontalTop:h,horizontalLeft:p,horizontalWidth:v})}}}snapOnMoving({view:e,e:n,x:r,y:i}){const o=e.getEventData(n).delegatedView||e;if(!this.isNodeMovable(o))return;const a=o.cell,s=a.getSize(),l=a.getPosition(),u=new bn(r-this.offset.x,i-this.offset.y,s.width,s.height),c=a.getAngle(),f=u.getCenter(),d=u.bbox(c),h=d.getTopLeft(),p=d.getBottomRight(),v=this.options.tolerance||0;let g,m,y,b,w,S,x=0,C=0;if(this.model.getNodes().some(E=>{if(this.isIgnored(a,E))return!1;const T=E.getBBox().bbox(E.getAngle()),A=T.getCenter(),k=T.getTopLeft(),M=T.getBottomRight();return g==null&&(Math.abs(A.x-f.x)<v?(g=A.x,x=.5):Math.abs(k.x-h.x)<v?(g=k.x,x=0):Math.abs(k.x-p.x)<v?(g=k.x,x=1):Math.abs(M.x-p.x)<v?(g=M.x,x=1):Math.abs(M.x-h.x)<v&&(g=M.x),g!=null&&(m=Math.min(d.y,T.y),y=Math.max(p.y,M.y)-m)),b==null&&(Math.abs(A.y-f.y)<v?(b=A.y,C=.5):Math.abs(k.y-h.y)<v?b=k.y:Math.abs(k.y-p.y)<v?(b=k.y,C=1):Math.abs(M.y-p.y)<v?(b=M.y,C=1):Math.abs(M.y-h.y)<v&&(b=M.y),b!=null&&(w=Math.min(d.x,T.x),S=Math.max(p.x,M.x)-w)),g!=null&&b!=null}),this.hide(),b!=null||g!=null){b!=null&&(d.y=b-C*d.height),g!=null&&(d.x=g-x*d.width);const E=d.getCenter(),T=E.x-u.width/2,A=E.y-u.height/2,k=T-l.x,M=A-l.y;(k!==0||M!==0)&&(a.translate(k,M,{snapped:!0,restrict:this.getRestrictArea(o)}),S&&(S+=k),y&&(y+=M)),this.update({verticalLeft:g,verticalTop:m,verticalHeight:y,horizontalTop:b,horizontalLeft:w,horizontalWidth:S})}}isIgnored(e,n){return n.id===e.id||n.isDescendantOf(e)||!this.filter(n)}filter(e){const n=this.options.filter;return Array.isArray(n)?n.some(r=>typeof r=="string"?e.shape===r:e.id===r.id):typeof n=="function"?lr(n,this.graph,e):!0}update(e){if(e.horizontalTop){const n=this.graph.localToGraph(new Ve(e.horizontalLeft,e.horizontalTop)),r=this.graph.localToGraph(new Ve(e.horizontalLeft+e.horizontalWidth,e.horizontalTop));this.horizontal.setAttributes({x1:this.options.sharp?`${n.x}`:"0",y1:`${n.y}`,x2:this.options.sharp?`${r.x}`:"100%",y2:`${r.y}`,display:"inherit"})}else this.horizontal.setAttribute("display","none");if(e.verticalLeft){const n=this.graph.localToGraph(new Ve(e.verticalLeft,e.verticalTop)),r=this.graph.localToGraph(new Ve(e.verticalLeft,e.verticalTop+e.verticalHeight));this.vertical.setAttributes({x1:`${n.x}`,y1:this.options.sharp?`${n.y}`:"0",x2:`${r.x}`,y2:this.options.sharp?`${r.y}`:"100%",display:"inherit"})}else this.vertical.setAttribute("display","none");this.show()}resetTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}show(){return this.resetTimer(),this.container.parentNode==null&&this.graph.container.appendChild(this.container),this}hide(){this.resetTimer(),this.vertical.setAttribute("display","none"),this.horizontal.setAttribute("display","none");const e=this.options.clean,n=typeof e=="number"?e:e!==!1?3e3:0;return n>0&&(this.timer=window.setTimeout(()=>{this.container.parentNode!==null&&this.unmount()},n)),this}onRemove(){this.stopListening(),this.hide()}dispose(){this.remove()}}wvt([Ni.dispose()],I0e.prototype,"dispose",null);const xvt=`.x6-widget-snapline {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  pointer-events: none;
}
.x6-widget-snapline-vertical,
.x6-widget-snapline-horizontal {
  stroke: #2ecc71;
  stroke-width: 1px;
}
`;en.prototype.isSnaplineEnabled=function(){const t=this.getPlugin("snapline");return t?t.isEnabled():!1};en.prototype.enableSnapline=function(){const t=this.getPlugin("snapline");return t&&t.enable(),this};en.prototype.disableSnapline=function(){const t=this.getPlugin("snapline");return t&&t.disable(),this};en.prototype.toggleSnapline=function(){const t=this.getPlugin("snapline");return t&&t.toggleEnabled(),this};en.prototype.hideSnapline=function(){const t=this.getPlugin("snapline");return t&&t.hide(),this};en.prototype.setSnaplineFilter=function(t){const e=this.getPlugin("snapline");return e&&e.setFilter(t),this};en.prototype.isSnaplineOnResizingEnabled=function(){const t=this.getPlugin("snapline");return t?t.isOnResizingEnabled():!1};en.prototype.enableSnaplineOnResizing=function(){const t=this.getPlugin("snapline");return t&&t.enableOnResizing(),this};en.prototype.disableSnaplineOnResizing=function(){const t=this.getPlugin("snapline");return t&&t.disableOnResizing(),this};en.prototype.toggleSnaplineOnResizing=function(t){const e=this.getPlugin("snapline");return e&&e.toggleOnResizing(t),this};en.prototype.isSharpSnapline=function(){const t=this.getPlugin("snapline");return t?t.isSharp():!1};en.prototype.enableSharpSnapline=function(){const t=this.getPlugin("snapline");return t&&t.enableSharp(),this};en.prototype.disableSharpSnapline=function(){const t=this.getPlugin("snapline");return t&&t.disableSharp(),this};en.prototype.toggleSharpSnapline=function(t){const e=this.getPlugin("snapline");return e&&e.toggleSharp(t),this};en.prototype.getSnaplineTolerance=function(){const t=this.getPlugin("snapline");if(t)return t.getTolerance()};en.prototype.setSnaplineTolerance=function(t){const e=this.getPlugin("snapline");return e&&e.setTolerance(t),this};var Cvt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class R0e extends ol{constructor(e={}){super(),this.name="snapline",this.options=Object.assign({enabled:!0,tolerance:10},e),y_(this.name,xvt)}init(e){this.snaplineImpl=new I0e(Object.assign(Object.assign({},this.options),{graph:e}))}isEnabled(){return!this.snaplineImpl.disabled}enable(){this.snaplineImpl.enable()}disable(){this.snaplineImpl.disable()}toggleEnabled(e){if(e!=null)e!==this.isEnabled()&&(e?this.enable():this.disable());else return this.isEnabled()?this.disable():this.enable(),this}hide(){return this.snaplineImpl.hide(),this}setFilter(e){return this.snaplineImpl.setFilter(e),this}isOnResizingEnabled(){return this.snaplineImpl.options.resizing===!0}enableOnResizing(){return this.snaplineImpl.options.resizing=!0,this}disableOnResizing(){return this.snaplineImpl.options.resizing=!1,this}toggleOnResizing(e){return e!=null?e!==this.isOnResizingEnabled()&&(e?this.enableOnResizing():this.disableOnResizing()):this.isOnResizingEnabled()?this.disableOnResizing():this.enableOnResizing(),this}isSharp(){return this.snaplineImpl.options.sharp===!0}enableSharp(){return this.snaplineImpl.options.sharp=!0,this}disableSharp(){return this.snaplineImpl.options.sharp=!1,this}toggleSharp(e){return e!=null?e!==this.isSharp()&&(e?this.enableSharp():this.disableSharp()):this.isSharp()?this.disableSharp():this.enableSharp(),this}getTolerance(){return this.snaplineImpl.options.tolerance}setTolerance(e){return this.snaplineImpl.options.tolerance=e,this}captureCursorOffset(e){this.snaplineImpl.captureCursorOffset(e)}snapOnMoving(e){this.snaplineImpl.snapOnMoving(e)}dispose(){this.snaplineImpl.dispose(),b_(this.name)}}Cvt([ol.dispose()],R0e.prototype,"dispose",null);var t3={exports:{}},$J;function Evt(){return $J||($J=1,(function(t){(function(e,n,r){if(!e)return;for(var i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},o={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},s={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l,u=1;u<20;++u)i[111+u]="f"+u;for(u=0;u<=9;++u)i[u+96]=u.toString();function c(C,E,T){if(C.addEventListener){C.addEventListener(E,T,!1);return}C.attachEvent("on"+E,T)}function f(C){if(C.type=="keypress"){var E=String.fromCharCode(C.which);return C.shiftKey||(E=E.toLowerCase()),E}return i[C.which]?i[C.which]:o[C.which]?o[C.which]:String.fromCharCode(C.which).toLowerCase()}function d(C,E){return C.sort().join(",")===E.sort().join(",")}function h(C){var E=[];return C.shiftKey&&E.push("shift"),C.altKey&&E.push("alt"),C.ctrlKey&&E.push("ctrl"),C.metaKey&&E.push("meta"),E}function p(C){if(C.preventDefault){C.preventDefault();return}C.returnValue=!1}function v(C){if(C.stopPropagation){C.stopPropagation();return}C.cancelBubble=!0}function g(C){return C=="shift"||C=="ctrl"||C=="alt"||C=="meta"}function m(){if(!l){l={};for(var C in i)C>95&&C<112||i.hasOwnProperty(C)&&(l[i[C]]=C)}return l}function y(C,E,T){return T||(T=m()[C]?"keydown":"keypress"),T=="keypress"&&E.length&&(T="keydown"),T}function b(C){return C==="+"?["+"]:(C=C.replace(/\+{2}/g,"+plus"),C.split("+"))}function w(C,E){var T,A,k,M=[];for(T=b(C),k=0;k<T.length;++k)A=T[k],s[A]&&(A=s[A]),E&&E!="keypress"&&a[A]&&(A=a[A],M.push("shift")),g(A)&&M.push(A);return E=y(A,M,E),{key:A,modifiers:M,action:E}}function S(C,E){return C===null||C===n?!1:C===E?!0:S(C.parentNode,E)}function x(C){var E=this;if(C=C||n,!(E instanceof x))return new x(C);E.target=C,E._callbacks={},E._directMap={};var T={},A,k=!1,M=!1,D=!1;function L(G){G=G||{};var W=!1,Z;for(Z in T){if(G[Z]){W=!0;continue}T[Z]=0}W||(D=!1)}function I(G,W,Z,ee,oe,ce){var X,H,U=[],ne=Z.type;if(!E._callbacks[G])return[];for(ne=="keyup"&&g(G)&&(W=[G]),X=0;X<E._callbacks[G].length;++X)if(H=E._callbacks[G][X],!(!ee&&H.seq&&T[H.seq]!=H.level)&&ne==H.action&&(ne=="keypress"&&!Z.metaKey&&!Z.ctrlKey||d(W,H.modifiers))){var J=!ee&&H.combo==oe,Y=ee&&H.seq==ee&&H.level==ce;(J||Y)&&E._callbacks[G].splice(X,1),U.push(H)}return U}function R(G,W,Z,ee){E.stopCallback(W,W.target||W.srcElement,Z,ee)||G(W,Z)===!1&&(p(W),v(W))}E._handleKey=function(G,W,Z){var ee=I(G,W,Z),oe,ce={},X=0,H=!1;for(oe=0;oe<ee.length;++oe)ee[oe].seq&&(X=Math.max(X,ee[oe].level));for(oe=0;oe<ee.length;++oe){if(ee[oe].seq){if(ee[oe].level!=X)continue;H=!0,ce[ee[oe].seq]=1,R(ee[oe].callback,Z,ee[oe].combo,ee[oe].seq);continue}H||R(ee[oe].callback,Z,ee[oe].combo)}var U=Z.type=="keypress"&&M;Z.type==D&&!g(G)&&!U&&L(ce),M=H&&Z.type=="keydown"};function V(G){typeof G.which!="number"&&(G.which=G.keyCode);var W=f(G);if(W){if(G.type=="keyup"&&k===W){k=!1;return}E.handleKey(W,h(G),G)}}function P(){clearTimeout(A),A=setTimeout(L,1e3)}function B(G,W,Z,ee){T[G]=0;function oe(ne){return function(){D=ne,++T[G],P()}}function ce(ne){R(Z,ne,G),ee!=="keyup"&&(k=f(ne)),setTimeout(L,10)}for(var X=0;X<W.length;++X){var H=X+1===W.length,U=H?ce:oe(ee||w(W[X+1]).action);j(W[X],U,ee,G,X)}}function j(G,W,Z,ee,oe){E._directMap[G+":"+Z]=W,G=G.replace(/\s+/g," ");var ce=G.split(" "),X;if(ce.length>1){B(G,ce,W,Z);return}X=w(G,Z),E._callbacks[X.key]=E._callbacks[X.key]||[],I(X.key,X.modifiers,{type:X.action},ee,G,oe),E._callbacks[X.key][ee?"unshift":"push"]({callback:W,modifiers:X.modifiers,action:X.action,seq:ee,level:oe,combo:G})}E._bindMultiple=function(G,W,Z){for(var ee=0;ee<G.length;++ee)j(G[ee],W,Z)},c(C,"keypress",V),c(C,"keydown",V),c(C,"keyup",V)}x.prototype.bind=function(C,E,T){var A=this;return C=C instanceof Array?C:[C],A._bindMultiple.call(A,C,E,T),A},x.prototype.unbind=function(C,E){var T=this;return T.bind.call(T,C,function(){},E)},x.prototype.trigger=function(C,E){var T=this;return T._directMap[C+":"+E]&&T._directMap[C+":"+E]({},C),T},x.prototype.reset=function(){var C=this;return C._callbacks={},C._directMap={},C},x.prototype.stopCallback=function(C,E){var T=this;if((" "+E.className+" ").indexOf(" mousetrap ")>-1||S(E,T.target))return!1;if("composedPath"in C&&typeof C.composedPath=="function"){var A=C.composedPath()[0];A!==C.target&&(E=A)}return E.tagName=="INPUT"||E.tagName=="SELECT"||E.tagName=="TEXTAREA"||E.isContentEditable},x.prototype.handleKey=function(){var C=this;return C._handleKey.apply(C,arguments)},x.addKeycodes=function(C){for(var E in C)C.hasOwnProperty(E)&&(i[E]=C[E]);l=null},x.init=function(){var C=x(n);for(var E in C)E.charAt(0)!=="_"&&(x[E]=(function(T){return function(){return C[T].apply(C,arguments)}})(E))},x.init(),e.Mousetrap=x,t.exports&&(t.exports=x)})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(t3)),t3.exports}var Tvt=Evt();const Avt=nu(Tvt);var kvt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class T1 extends ol{get graph(){return this.options.graph}constructor(e){super(),this.options=e;const n=this.graph.getPlugin("scroller");this.container=n?n.container:this.graph.container,e.global?this.target=document:(this.target=this.container,this.disabled||this.target.setAttribute("tabindex","-1"),this.graph.on("cell:mouseup",this.focus,this),this.graph.on("blank:mouseup",this.focus,this)),this.mousetrap=T1.createMousetrap(this)}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.target instanceof HTMLElement&&this.target.setAttribute("tabindex","-1"))}disable(){this.disabled||(this.options.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}on(e,n,r){this.mousetrap.bind(this.getKeys(e),n,r)}off(e,n){this.mousetrap.unbind(this.getKeys(e),n)}clear(){this.mousetrap.reset()}trigger(e,n){this.mousetrap.trigger(e,n)}focus(e){if(this.isInputEvent(e.e))return;this.target.focus({preventScroll:!0})}getKeys(e){return(Array.isArray(e)?e:[e]).map(n=>this.formatkey(n))}formatkey(e){const n=e.toLocaleLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command").replace("arrowup","up").replace("arrowright","right").replace("arrowdown","down").replace("arrowleft","left"),r=this.options.format;return r?lr(r,this.graph,n):n}isGraphEvent(e){const n=e.target,r=e.currentTarget;return n?n===this.target||r===this.target||n===document.body?!0:Tj(this.container,n):!1}isInputEvent(e){var n;const r=e.target,i=(n=r?.tagName)===null||n===void 0?void 0:n.toLowerCase();let o=["input","textarea"].includes(i);return oi(r,"contenteditable")==="true"&&(o=!0),o}isEnabledForEvent(e){const n=!this.disabled&&this.isGraphEvent(e),r=this.isInputEvent(e);if(n){if(r&&(e.key==="Backspace"||e.key==="Delete"))return!1;if(this.options.guard)return lr(this.options.guard,this.graph,e)}return n}dispose(){this.mousetrap.reset()}}kvt([ol.dispose()],T1.prototype,"dispose",null);(function(t){function e(n){const r=new Avt(n.target),i=r.stopCallback;return r.stopCallback=(o,a,s)=>n.isEnabledForEvent(o)?i?i.call(r,o,a,s):!1:!0,r}t.createMousetrap=e})(T1||(T1={}));en.prototype.isKeyboardEnabled=function(){const t=this.getPlugin("keyboard");return t?t.isEnabled():!1};en.prototype.enableKeyboard=function(){const t=this.getPlugin("keyboard");return t&&t.enable(),this};en.prototype.disableKeyboard=function(){const t=this.getPlugin("keyboard");return t&&t.disable(),this};en.prototype.toggleKeyboard=function(t){const e=this.getPlugin("keyboard");return e&&e.toggleEnabled(t),this};en.prototype.bindKey=function(t,e,n){const r=this.getPlugin("keyboard");return r&&r.bindKey(t,e,n),this};en.prototype.unbindKey=function(t,e){const n=this.getPlugin("keyboard");return n&&n.unbindKey(t,e),this};en.prototype.clearKeys=function(){const t=this.getPlugin("keyboard");return t&&t.clear(),this};en.prototype.triggerKey=function(t,e){const n=this.getPlugin("keyboard");return n&&n.trigger(t,e),this};var Mvt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class L0e extends ol{constructor(e={}){super(),this.name="keyboard",this.options=Object.assign({enabled:!0},e)}init(e){this.keyboardImpl=new T1(Object.assign(Object.assign({},this.options),{graph:e}))}isEnabled(){return!this.keyboardImpl.disabled}enable(){this.keyboardImpl.enable()}disable(){this.keyboardImpl.disable()}toggleEnabled(e){return e!=null?e!==this.isEnabled()&&(e?this.enable():this.disable()):this.isEnabled()?this.disable():this.enable(),this}bindKey(e,n,r){return this.keyboardImpl.on(e,n,r),this}trigger(e,n){return this.keyboardImpl.trigger(e,n),this}clear(){return this.keyboardImpl.clear(),this}unbindKey(e,n){return this.keyboardImpl.off(e,n),this}dispose(){this.keyboardImpl.dispose()}}Mvt([ol.dispose()],L0e.prototype,"dispose",null);class Pvt{constructor(){this.cells=[]}copy(e,n,r={}){this.options=Object.assign({},r);const o=(Js.isModel(n)?n:n.model).cloneSubGraph(e,r);this.cells=gz(Object.keys(o).map(a=>o[a]),a=>a.isEdge()?2:1),this.serialize(r)}cut(e,n,r={}){this.copy(e,n,r),(en.isGraph(n)?n.model:n).batchUpdate("cut",()=>{e.forEach(o=>o.remove())})}paste(e,n={}){const r=Object.assign(Object.assign({},this.options),n),{offset:i,edgeProps:o,nodeProps:a}=r;let s=20,l=20;i&&(s=typeof i=="number"?i:i.dx,l=typeof i=="number"?i:i.dy),this.deserialize(r);const u=this.cells;u.forEach(f=>{f.model=null,f.removeProp("zIndex"),(s||l)&&f.translate(s,l),a&&f.isNode()&&f.prop(a),o&&f.isEdge()&&f.prop(o)});const c=en.isGraph(e)?e.model:e;return c.batchUpdate("paste",()=>{c.addCells(this.cells)}),this.copy(u,e,n),u}serialize(e){e.useLocalStorage!==!1&&JS.save(this.cells)}deserialize(e){if(e.useLocalStorage){const n=JS.fetch();n&&(this.cells=n)}}isEmpty(e={}){return e.useLocalStorage&&this.deserialize(e),this.cells.length<=0}clean(){this.options={},this.cells=[],JS.clean()}}var JS;(function(t){const e=`${Yu.prefixCls}.clipboard.cells`;function n(o){if(window.localStorage){const a=o.map(s=>s.toJSON());localStorage.setItem(e,JSON.stringify(a))}}t.save=n;function r(){if(window.localStorage){const o=localStorage.getItem(e),a=o?JSON.parse(o):[];if(a)return Js.fromJSON(a)}}t.fetch=r;function i(){window.localStorage&&localStorage.removeItem(e)}t.clean=i})(JS||(JS={}));en.prototype.isClipboardEnabled=function(){const t=this.getPlugin("clipboard");return t?t.isEnabled():!1};en.prototype.enableClipboard=function(){const t=this.getPlugin("clipboard");return t&&t.enable(),this};en.prototype.disableClipboard=function(){const t=this.getPlugin("clipboard");return t&&t.disable(),this};en.prototype.toggleClipboard=function(t){const e=this.getPlugin("clipboard");return e&&e.toggleEnabled(t),this};en.prototype.isClipboardEmpty=function(t){const e=this.getPlugin("clipboard");return e?e.isEmpty(t):!0};en.prototype.getCellsInClipboard=function(){const t=this.getPlugin("clipboard");return t?t.getCellsInClipboard():[]};en.prototype.cleanClipboard=function(){const t=this.getPlugin("clipboard");return t&&t.clean(),this};en.prototype.copy=function(t,e){const n=this.getPlugin("clipboard");return n&&n.copy(t,e),this};en.prototype.cut=function(t,e){const n=this.getPlugin("clipboard");return n&&n.cut(t,e),this};en.prototype.paste=function(t,e){const n=this.getPlugin("clipboard");return n?n.paste(t,e):[]};var Ovt=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o},Ivt=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let D0e=class extends vo{get disabled(){return this.options.enabled!==!0}get cells(){return this.clipboardImpl.cells}constructor(e={}){super(),this.name="clipboard",this.options=Object.assign({enabled:!0},e)}init(e){this.graph=e,this.clipboardImpl=new Pvt,this.clipboardImpl.deserialize(this.options)}isEnabled(){return!this.disabled}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}toggleEnabled(e){return e!=null?e!==this.isEnabled()&&(e?this.enable():this.disable()):this.isEnabled()?this.disable():this.enable(),this}isEmpty(e={}){return this.clipboardImpl.isEmpty(e)}getCellsInClipboard(){return this.cells}clean(e){return(!this.disabled||e)&&(this.clipboardImpl.clean(),this.notify("clipboard:changed",{cells:[]})),this}copy(e,n={}){return this.disabled||(this.clipboardImpl.copy(e,this.graph,Object.assign(Object.assign({},this.commonOptions),n)),this.notify("clipboard:changed",{cells:e})),this}cut(e,n={}){return this.disabled||(this.clipboardImpl.cut(e,this.graph,Object.assign(Object.assign({},this.commonOptions),n)),this.notify("clipboard:changed",{cells:e})),this}paste(e={},n=this.graph){return this.disabled?[]:this.clipboardImpl.paste(n,Object.assign(Object.assign({},this.commonOptions),e))}get commonOptions(){const e=this.options,{enabled:n}=e;return Ivt(e,["enabled"])}notify(e,n){this.trigger(e,n),this.graph.trigger(e,n)}dispose(){this.clean(!0),this.off()}};Ovt([vo.dispose()],D0e.prototype,"dispose",null);en.prototype.isHistoryEnabled=function(){const t=this.getPlugin("history");return t?t.isEnabled():!1};en.prototype.enableHistory=function(){const t=this.getPlugin("history");return t&&t.enable(),this};en.prototype.disableHistory=function(){const t=this.getPlugin("history");return t&&t.disable(),this};en.prototype.toggleHistory=function(t){const e=this.getPlugin("history");return e&&e.toggleEnabled(t),this};en.prototype.undo=function(t){const e=this.getPlugin("history");return e&&e.undo(t),this};en.prototype.redo=function(t){const e=this.getPlugin("history");return e&&e.redo(t),this};en.prototype.undoAndCancel=function(t){const e=this.getPlugin("history");return e&&e.cancel(t),this};en.prototype.canUndo=function(){const t=this.getPlugin("history");return t?t.canUndo():!1};en.prototype.canRedo=function(){const t=this.getPlugin("history");return t?t.canRedo():!1};en.prototype.cleanHistory=function(t){const e=this.getPlugin("history");return e&&e.clean(t),this};en.prototype.getHistoryStackSize=function(){return this.getPlugin("history").getSize()};en.prototype.getUndoStackSize=function(){return this.getPlugin("history").getUndoSize()};en.prototype.getRedoStackSize=function(){return this.getPlugin("history").getRedoSize()};en.prototype.getUndoRemainSize=function(){return this.getPlugin("history").getUndoRemainSize()};var N0e=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class A1 extends vo{constructor(e={}){super(),this.name="history",this.batchCommands=null,this.batchLevel=0,this.lastBatchIndex=-1,this.freezed=!1,this.stackSize=0,this.handlers=[];const{stackSize:n=0}=e;this.stackSize=n,this.options=ko.getOptions(e),this.validator=new A1.Validator({history:this,cancelInvalid:this.options.cancelInvalid})}init(e){this.graph=e,this.model=this.graph.model,this.clean(),this.startListening()}isEnabled(){return!this.disabled}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}toggleEnabled(e){return e!=null?e!==this.isEnabled()&&(e?this.enable():this.disable()):this.isEnabled()?this.disable():this.enable(),this}undo(e={}){if(!this.disabled){const n=this.undoStack.pop();n&&(this.revertCommand(n,e),this.redoStack.push(n),this.notify("undo",n,e))}return this}redo(e={}){if(!this.disabled){const n=this.redoStack.pop();n&&(this.applyCommand(n,e),this.undoStackPush(n),this.notify("redo",n,e))}return this}cancel(e={}){if(!this.disabled){const n=this.undoStack.pop();n&&(this.revertCommand(n,e),this.redoStack=[],this.notify("cancel",n,e))}return this}getSize(){return this.stackSize}getUndoRemainSize(){const e=this.undoStack.length;return this.stackSize-e}getUndoSize(){return this.undoStack.length}getRedoSize(){return this.redoStack.length}canUndo(){return!this.disabled&&this.undoStack.length>0}canRedo(){return!this.disabled&&this.redoStack.length>0}clean(e={}){return this.undoStack=[],this.redoStack=[],this.notify("clean",null,e),this}get disabled(){return this.options.enabled!==!0}validate(e,...n){return this.validator.validate(e,...n),this}startListening(){this.model.on("batch:start",this.initBatchCommand,this),this.model.on("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&this.options.eventNames.forEach((e,n)=>{this.handlers[n]=this.addCommand.bind(this,e),this.model.on(e,this.handlers[n])}),this.validator.on("invalid",e=>this.trigger("invalid",e))}stopListening(){this.model.off("batch:start",this.initBatchCommand,this),this.model.off("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&(this.options.eventNames.forEach((e,n)=>{this.model.off(e,this.handlers[n])}),this.handlers.length=0),this.validator.off("invalid")}createCommand(e){return{batch:e?e.batch:!1,data:{}}}revertCommand(e,n){this.freezed=!0;const r=Array.isArray(e)?ko.sortBatchCommands(e):[e];for(let i=r.length-1;i>=0;i-=1){const o=r[i],a=Object.assign(Object.assign({},n),Zs(o.options,this.options.revertOptionsList||[]));this.executeCommand(o,!0,a)}this.freezed=!1}applyCommand(e,n){this.freezed=!0;const r=Array.isArray(e)?ko.sortBatchCommands(e):[e];for(let i=0;i<r.length;i+=1){const o=r[i],a=Object.assign(Object.assign({},n),Zs(o.options,this.options.applyOptionsList||[]));this.executeCommand(o,!1,a)}this.freezed=!1}executeCommand(e,n,r){const i=this.model,o=i.getCell(e.data.id),a=e.event;if(ko.isAddEvent(a)&&n||ko.isRemoveEvent(a)&&!n)o&&o.remove(r);else if(ko.isAddEvent(a)&&!n||ko.isRemoveEvent(a)&&n){const s=e.data;s.node?i.addNode(s.props,r):s.edge&&i.addEdge(s.props,r)}else if(ko.isChangeEvent(a)){const s=e.data,l=s.key;if(l&&o){const u=n?s.prev[l]:s.next[l];s.key==="attrs"&&this.ensureUndefinedAttrs(u,n?s.next[l]:s.prev[l])&&(r.dirty=!0),o.prop(l,u,r)}}else{const s=this.options.executeCommand;s&&lr(s,this,e,n,r)}}addCommand(e,n){if(this.freezed||this.disabled)return;const r=n,i=r.options||{};if(i.dryrun||ko.isAddEvent(e)&&this.options.ignoreAdd||ko.isRemoveEvent(e)&&this.options.ignoreRemove||ko.isChangeEvent(e)&&this.options.ignoreChange)return;const o=this.options.beforeAddCommand;if(o!=null&&lr(o,this,e,n)===!1)return;e==="cell:change:*"&&(e=`cell:change:${r.key}`);const a=r.cell,s=Js.isModel(a);let l;if(this.batchCommands){l=this.batchCommands[Math.max(this.lastBatchIndex,0)];const c=s&&!l.modelChange||l.data.id!==a.id,f=l.event!==e;if(this.lastBatchIndex>=0&&(c||f)){const d=this.batchCommands.findIndex(h=>(s&&h.modelChange||h.data.id===a.id)&&h.event===e);d<0||ko.isAddEvent(e)||ko.isRemoveEvent(e)?l=this.createCommand({batch:!0}):(l=this.batchCommands[d],this.batchCommands.splice(d,1)),this.batchCommands.push(l),this.lastBatchIndex=this.batchCommands.length-1}}else l=this.createCommand({batch:!1});if(ko.isAddEvent(e)||ko.isRemoveEvent(e)){const c=l.data;return l.event=e,l.options=i,c.id=a.id,c.props=Hi(a.toJSON()),a.isEdge()?c.edge=!0:a.isNode()&&(c.node=!0),this.push(l,i)}if(ko.isChangeEvent(e)){const c=n.key,f=l.data;return(!l.batch||!l.event)&&(l.event=e,l.options=i,f.key=c,f.prev==null&&(f.prev={}),f.prev[c]=Hi(a.previous(c)),s?l.modelChange=!0:f.id=a.id),f.next==null&&(f.next={}),f.next[c]=Hi(a.prop(c)),this.push(l,i)}const u=this.options.afterAddCommand;u&&lr(u,this,e,n,l),this.push(l,i)}initBatchCommand(e){this.freezed||(this.batchCommands?this.batchLevel+=1:(this.batchCommands=[this.createCommand({batch:!0})],this.batchLevel=0,this.lastBatchIndex=-1))}storeBatchCommand(e){if(!this.freezed)if(this.batchCommands&&this.batchLevel<=0){const n=this.filterBatchCommand(this.batchCommands);n.length>0&&(this.redoStack=[],this.undoStackPush(n),this.consolidateCommands(),this.notify("add",n,e)),this.batchCommands=null,this.lastBatchIndex=-1,this.batchLevel=0}else this.batchCommands&&this.batchLevel>0&&(this.batchLevel-=1)}filterBatchCommand(e){let n=e.slice();const r=[];for(;n.length>0;){const i=n.shift(),o=i.event,a=i.data.id;if(o!=null&&(a!=null||i.modelChange)){if(ko.isAddEvent(o)){const s=n.findIndex(l=>ko.isRemoveEvent(l.event)&&l.data.id===a);if(s>=0){n=n.filter((l,u)=>s<u||l.data.id!==a);continue}}else if(ko.isRemoveEvent(o)){const s=n.findIndex(l=>ko.isAddEvent(l.event)&&l.data.id===a);if(s>=0){n.splice(s,1);continue}}else if(ko.isChangeEvent(o)){const s=i.data;if(Ei(s.prev,s.next))continue}r.push(i)}}return r}notify(e,n,r){const i=n==null?null:Array.isArray(n)?n:[n];this.emit(e,{cmds:i,options:r}),this.graph.trigger(`history:${e}`,{cmds:i,options:r}),this.emit("change",{cmds:i,options:r}),this.graph.trigger("history:change",{cmds:i,options:r})}push(e,n){this.redoStack=[],e.batch?(this.lastBatchIndex=Math.max(this.lastBatchIndex,0),this.emit("batch",{cmd:e,options:n})):(this.undoStackPush(e),this.consolidateCommands(),this.notify("add",e,n))}consolidateCommands(){var e;const n=this.undoStack[this.undoStack.length-1],r=this.undoStack[this.undoStack.length-2];if(!Array.isArray(n))return;const i=new Set(n.map(a=>a.event));if(i.size!==2||!i.has("cell:change:parent")||!i.has("cell:change:children")||!n.every(a=>{var s;return a.batch&&((s=a.options)===null||s===void 0?void 0:s.ui)})||!Array.isArray(r)||r.length!==1)return;const o=r[0];o.event!=="cell:change:position"||!(!((e=o.options)===null||e===void 0)&&e.ui)||(r.push(...n),this.undoStack.pop())}undoStackPush(e){if(this.stackSize===0){this.undoStack.push(e);return}this.undoStack.length>=this.stackSize&&this.undoStack.shift(),this.undoStack.push(e)}ensureUndefinedAttrs(e,n){let r=!1;return e!==null&&n!==null&&typeof e=="object"&&typeof n=="object"&&Object.keys(n).forEach(i=>{e[i]===void 0&&n[i]!==void 0?(e[i]=void 0,r=!0):typeof e[i]=="object"&&typeof n[i]=="object"&&(r=this.ensureUndefinedAttrs(e[i],n[i]))}),r}dispose(){this.validator.dispose(),this.clean(),this.stopListening(),this.off()}}N0e([vo.dispose()],A1.prototype,"dispose",null);(function(t){class e extends vo{constructor(r){super(),this.map={},this.command=r.history,this.cancelInvalid=r.cancelInvalid!==!1,this.command.on("add",this.onCommandAdded,this)}onCommandAdded({cmds:r}){return Array.isArray(r)?r.every(i=>this.isValidCommand(i)):this.isValidCommand(r)}isValidCommand(r){if(r.options&&r.options.validation===!1)return!0;const i=r.event&&this.map[r.event]||[];let o=null;return i.forEach(a=>{let s=0;const l=u=>{const c=a[s];s+=1;try{if(c)c(u,r,l);else{o=u;return}}catch(f){l(f)}};l(o)}),o?(this.cancelInvalid&&this.command.cancel(),this.emit("invalid",{err:o}),!1):!0}validate(r,...i){const o=Array.isArray(r)?r:r.split(/\s+/);return i.forEach(a=>{if(typeof a!="function")throw new Error(`${o.join(" ")} requires callback functions.`)}),o.forEach(a=>{this.map[a]==null&&(this.map[a]=[]),this.map[a].push(i)}),this}dispose(){this.command.off("add",this.onCommandAdded,this)}}N0e([vo.dispose()],e.prototype,"dispose",null),t.Validator=e})(A1||(A1={}));var ko;(function(t){function e(a){return a==="cell:added"}t.isAddEvent=e;function n(a){return a==="cell:removed"}t.isRemoveEvent=n;function r(a){return a!=null&&a.startsWith("cell:change:")}t.isChangeEvent=r;function i(a){const s=["cell:added","cell:removed","cell:change:*"],l=["batch:start","batch:stop"],u=a.eventNames?a.eventNames.filter(c=>!(t.isChangeEvent(c)||s.includes(c)||l.includes(c))):s;return Object.assign(Object.assign({enabled:!0},a),{eventNames:u,applyOptionsList:a.applyOptionsList||["propertyPath"],revertOptionsList:a.revertOptionsList||["propertyPath"]})}t.getOptions=i;function o(a){const s=[];for(let l=0,u=a.length;l<u;l+=1){const c=a[l];let f=null;if(t.isAddEvent(c.event)){const d=c.data.id;for(let h=0;h<l;h+=1)if(a[h].data.id===d){f=h;break}}f!==null?s.splice(f,0,c):s.push(c)}return s}t.sortBatchCommands=o})(ko||(ko={}));var wT={exports:{}},FJ;function Rvt(){if(FJ)return wT.exports;FJ=1;var t=[],e=[],n="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function r(o,a){if(a=a||{},o===void 0)throw new Error(n);var s=a.prepend===!0?"prepend":"append",l=a.container!==void 0?a.container:document.querySelector("head"),u=t.indexOf(l);u===-1&&(u=t.push(l)-1,e[u]={});var c;return e[u]!==void 0&&e[u][s]!==void 0?c=e[u][s]:(c=e[u][s]=i(),s==="prepend"?l.insertBefore(c,l.childNodes[0]):l.appendChild(c)),o.charCodeAt(0)===65279&&(o=o.substr(1,o.length)),c.styleSheet?c.styleSheet.cssText+=o:c.textContent+=o,c}function i(){var o=document.createElement("style");return o.setAttribute("type","text/css"),o}return wT.exports=r,wT.exports.insertCss=r,wT.exports}var Lvt=Rvt();const Dvt=nu(Lvt);class Nvt{constructor(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.vedges=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=()=>{}}layout(e){return this.init(e),this.execute(!0)}init(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[],this.comboEdges=e.comboEdges||[],this.hiddenNodes=e.hiddenNodes||[],this.hiddenEdges=e.hiddenEdges||[],this.hiddenCombos=e.hiddenCombos||[],this.vedges=e.vedges||[]}execute(e){}executeWithWorker(){}getDefaultCfg(){return{}}updateCfg(e){e&&Object.assign(this,e)}getType(){return"base"}destroy(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}const Bvt=t=>typeof t=="string",VJ=Array.isArray,yP=t=>typeof t=="number",B0e=t=>t!==null&&typeof t=="object",bP=t=>{if(t===null)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof Array){const e=[];return t.forEach(n=>{e.push(n)}),e.map(n=>bP(n))}if(typeof t=="object"&&Object.keys(t).length){const e=Object.assign({},t);return Object.keys(e).forEach(n=>{e[n]=bP(e[n])}),e}return t},s0=(t,e)=>{const n=t[e];return B0e(n)?n.cell:n},zJ=(t,e,n)=>{let r;return n?r=n:yP(t)?r=()=>t:r=()=>e,r},$vt=(t,e)=>{if(t!=="next"&&t!=="prev")return e},HJ=t=>{t.prev.next=t.next,t.next.prev=t.prev,delete t.next,delete t.prev};let Fvt=class{constructor(){const e={};e.prev=e,e.next=e.prev,this.shortcut=e}dequeue(){const e=this.shortcut,n=e.prev;if(n&&n!==e)return HJ(n),n}enqueue(e){const n=this.shortcut;e.prev&&e.next&&HJ(e),e.next=n.next,n.next.prev=e,n.next=e,e.prev=n}toString(){const e=[],n=this.shortcut;let r=n.prev;for(;r!==n;)e.push(JSON.stringify(r,$vt)),r=r?.prev;return`[${e.join(", ")}]`}};var wb;(function(t){t.DEFAULT_EDGE_NAME="\0",t.GRAPH_NODE="\0",t.EDGE_KEY_DELIM=""})(wb||(wb={}));function jJ(t,e){var n=t.get(e)||0;t.set(e,n+1)}function GJ(t,e){var n=t.get(e);n!==void 0&&(n=n-1,n>0?t.set(e,n):t.delete(e))}function $0e(t,e,n,r){var i=String(e),o=String(n);if(!t&&i>o){var a=i;i=o,o=a}return i+wb.EDGE_KEY_DELIM+o+wb.EDGE_KEY_DELIM+(r===void 0?wb.DEFAULT_EDGE_NAME:r)}function UJ(t,e,n,r){var i=String(e),o=String(n),a={v:e,w:n};if(!t&&i>o){var s=a.v;a.v=a.w,a.w=s}return r!==void 0&&(a.name=r),a}function n3(t,e){return $0e(t,e.v,e.w,e.name)}function WJ(t){return typeof t=="function"}var Vvt=function(e){return e.nodes().map(function(n){var r=e.node(n),i=e.parent(n),o={id:n,value:r,parent:i};return o.value===void 0&&delete o.value,o.parent===void 0&&delete o.parent,o})},zvt=function(e){return e.edges().map(function(n){var r=e.edge(n),i={v:n.v,w:n.w,value:r,name:n.name};return i.name===void 0&&delete i.name,i.value===void 0&&delete i.value,i})},Hvt=function(e){var n={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:Vvt(e),edges:zvt(e),value:e.graph()};return n.value===void 0&&delete n.value,n},jvt=function(e){var n=new S_(e.options);return e.value!==void 0&&n.setGraph(e.value),e.nodes.forEach(function(r){n.setNode(r.id,r.value),r.parent&&n.setParent(r.id,r.parent)}),e.edges.forEach(function(r){n.setEdge(r.v,r.w,r.value,r.name)}),n};function qJ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qJ(Object(n),!0).forEach(function(r){Gvt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qJ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gvt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uvt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wvt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qvt(t,e,n){return e&&Wvt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var Kvt={compound:!1,multigraph:!1,directed:!0},S_=(function(){function t(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Uvt(this,t),this.directed=!0,this.multigraph=!1,this.compound=!1,this.GRAPH_NODE=wb.GRAPH_NODE,this.label=void 0,this.nodeCountNum=0,this.edgeCountNum=0,this.defaultNodeLabelFn=function(){},this.defaultEdgeLabelFn=function(){},this.parentMap=void 0,this.childrenMap=void 0,this.nodesLabelMap=new Map,this.inEdgesMap=new Map,this.outEdgesMap=new Map,this.predecessorsMap=new Map,this.successorsMap=new Map,this.edgesMap=new Map,this.edgesLabelsMap=new Map,this.isDirected=function(){return e.directed},this.isMultigraph=function(){return e.multigraph},this.isCompound=function(){return e.compound},this.setGraph=function(i){return e.label=i,e},this.graph=function(){return e.label},this.setDefaultNodeLabel=function(i){return WJ(i)?e.defaultNodeLabelFn=i:e.defaultNodeLabelFn=function(){return i},e},this.nodeCount=function(){return e.nodeCountNum},this.node=function(i){return e.nodesLabelMap.get(i)},this.nodes=function(){return Array.from(e.nodesLabelMap.keys())},this.sources=function(){return e.nodes().filter(function(i){var o;return!(!((o=e.inEdgesMap.get(i))===null||o===void 0)&&o.size)})},this.sinks=function(){return e.nodes().filter(function(i){var o;return!(!((o=e.outEdgesMap.get(i))===null||o===void 0)&&o.size)})},this.setNodes=function(i,o){return i.map(function(a){return e.setNode(a,o)}),e},this.hasNode=function(i){return e.nodesLabelMap.has(i)},this.checkCompound=function(){if(!e.isCompound())throw new Error("Cannot construct parent-children relations in a non-compound graph")},this.parent=function(i){if(e.isCompound()){var o,a=(o=e.parentMap)===null||o===void 0?void 0:o.get(i);if(a!==e.GRAPH_NODE)return a}},this.removeFromParentsChildList=function(i){var o=e.parentMap.get(i);e.childrenMap.get(o).delete(i)},this.setParent=function(i,o){var a,s;e.checkCompound();for(var l=o===void 0?e.GRAPH_NODE:o,u=e.parent(l);u;){if(i===u)throw new Error("Setting "+o+" as parent of "+i+" would create a cycle");u=e.parent(u)}o&&e.setNode(o),e.setNode(i),e.removeFromParentsChildList(i),(a=e.parentMap)===null||a===void 0||a.set(i,l);var c=e.childrenMap.get(l);return c.set(i,!0),(s=e.childrenMap)===null||s===void 0||s.set(l,c),e},this.children=function(i){var o=i===void 0?e.GRAPH_NODE:i;if(e.isCompound()){var a,s=(a=e.childrenMap)===null||a===void 0?void 0:a.get(o);return s?Array.from(s.keys()):void 0}if(o===e.GRAPH_NODE)return e.nodes();if(i&&e.hasNode(i))return[]},this.predecessors=function(i){var o=e.predecessorsMap.get(i);return o?Array.from(o.keys()):void 0},this.successors=function(i){var o=e.successorsMap.get(i);return o?Array.from(o.keys()):void 0},this.neighbors=function(i){var o;if(e.hasNode(i))return Array.from(new Set((o=e.predecessors(i))===null||o===void 0?void 0:o.concat(e.successors(i))))},this.isLeaf=function(i){var o;if(e.isDirected()){var a;return!(!((a=e.successors(i))===null||a===void 0)&&a.length)}return!(!((o=e.neighbors(i))===null||o===void 0)&&o.length)},this.filterNodes=function(i){var o=e.directed,a=e.multigraph,s=e.compound,l=new t({directed:o,multigraph:a,compound:s});if(l.setGraph(e.graph()),e.nodes().forEach(function(c){i(c)&&l.setNode(c,e.node(c))}),e.edges().forEach(function(c){l.hasNode(c.v)&&l.hasNode(c.w)&&l.setEdgeObj(c,e.edge(c))}),s){var u=function(f){for(var d=e.parent(f);d!==void 0&&!l.hasNode(d);)d=e.parent(d);return d};l.nodes().forEach(function(c){l.setParent(c,u(c))})}return l},this.setDefaultEdgeLabel=function(i){return WJ(i)?e.defaultEdgeLabelFn=i:e.defaultEdgeLabelFn=function(){return i},e},this.edgeCount=function(){return e.edgeCountNum},this.setEdgeObj=function(i,o){return e.setEdge(i.v,i.w,o,i.name)},this.setPath=function(i,o){return i.reduce(function(a,s){return e.setEdge(a,s,o),s}),e},this.edgeFromArgs=function(i,o,a){return e.edge({v:i,w:o,name:a})},this.edge=function(i){return e.edgesLabelsMap.get(n3(e.isDirected(),i))},this.hasEdge=function(i,o,a){return e.edgesLabelsMap.has(n3(e.isDirected(),{v:i,w:o,name:a}))},this.removeEdgeObj=function(i){var o=i.v,a=i.w,s=i.name;return e.removeEdge(o,a,s)},this.edges=function(){return Array.from(e.edgesMap.values())},this.inEdges=function(i,o){var a=e.inEdgesMap.get(i);if(a)return Array.from(a.values()).filter(function(s){return!o||s.v===o})},this.outEdges=function(i,o){var a=e.outEdgesMap.get(i);if(a)return Array.from(a.values()).filter(function(s){return!o||s.w===o})},this.nodeEdges=function(i,o){var a;if(e.hasNode(i))return(a=e.inEdges(i,o))===null||a===void 0?void 0:a.concat(e.outEdges(i,o))},this.toJSON=function(){return Hvt(e)},this.nodeInDegree=function(i){var o=e.inEdgesMap.get(i);return o?o.size:0},this.nodeOutDegree=function(i){var o=e.outEdgesMap.get(i);return o?o.size:0},this.nodeDegree=function(i){return e.nodeInDegree(i)+e.nodeOutDegree(i)},this.source=function(i){return i.v},this.target=function(i){return i.w};var r=KJ(KJ({},Kvt),n);this.compound=r.compound,this.directed=r.directed,this.multigraph=r.multigraph,this.compound&&(this.parentMap=new Map,this.childrenMap=new Map)}return qvt(t,[{key:"setNode",value:function(n,r){var i=this.nodesLabelMap,o=this.defaultNodeLabelFn,a=this.isCompound,s=this.parentMap,l=this.childrenMap,u=this.inEdgesMap,c=this.outEdgesMap,f=this.predecessorsMap,d=this.successorsMap;if(i.has(n))return r!==void 0&&i.set(n,r),this;if(i.set(n,r||o(n)),a()){var h;s?.set(n,this.GRAPH_NODE),l?.set(n,new Map),l?.has(this.GRAPH_NODE)||l?.set(this.GRAPH_NODE,new Map),l==null||(h=l.get(this.GRAPH_NODE))===null||h===void 0||h.set(n,!0)}return[u,c,f,d].forEach(function(p){return p.set(n,new Map)}),this.nodeCountNum+=1,this}},{key:"removeNode",value:function(n){var r=this;if(this.hasNode(n)){var i=function(g){r.removeEdge(g.v,g.w,g.name)},o=this.inEdgesMap,a=this.outEdgesMap,s=this.predecessorsMap,l=this.successorsMap,u=this.nodesLabelMap;if(this.isCompound()){var c,f,d;this.removeFromParentsChildList(n),(c=this.parentMap)===null||c===void 0||c.delete(n),(f=this.children(n))===null||f===void 0||f.forEach(function(v){return r.setParent(v)}),(d=this.childrenMap)===null||d===void 0||d.delete(n)}var h=o.get(n),p=a.get(n);Array.from(h.values()).forEach(function(v){return i(v)}),Array.from(p.values()).forEach(function(v){return i(v)}),u.delete(n),o.delete(n),a.delete(n),s.delete(n),l.delete(n),this.nodeCountNum-=1}return this}},{key:"setEdge",value:function(n,r,i,o){var a,s,l=UJ(this.isDirected(),n,r,o),u=n3(this.isDirected(),l),c=l.v,f=l.w;if(this.edgesLabelsMap.has(u))return this.edgesLabelsMap.set(u,i),this;if(o!==void 0&&!this.isMultigraph())throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(f),this.edgesLabelsMap.set(u,i||this.defaultEdgeLabelFn(c,f,o)),Object.freeze(l),this.edgesMap.set(u,l);var d=this.predecessorsMap.get(f),h=this.successorsMap.get(c);return jJ(d,c),jJ(h,f),(a=this.inEdgesMap.get(f))===null||a===void 0||a.set(u,l),(s=this.outEdgesMap.get(c))===null||s===void 0||s.set(u,l),this.edgeCountNum+=1,this}},{key:"removeEdge",value:function(n,r,i){var o=$0e(this.isDirected(),n,r,i),a=this.edgesMap.get(o);if(a){var s=UJ(this.isDirected(),n,r,i),l=s.v,u=s.w;this.edgesLabelsMap.delete(o),this.edgesMap.delete(o);var c=this.predecessorsMap.get(u),f=this.successorsMap.get(l);GJ(c,l),GJ(f,u),this.inEdgesMap.get(u).delete(o),this.outEdgesMap.get(l).delete(o),this.edgeCountNum-=1}return this}}]),t})();S_.fromJSON=jvt;function Yvt(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function Xvt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var F0e=Yvt(function t(){var e=this;Xvt(this,t),this.arr=[],this.keyIndice=new Map,this.size=function(){return e.arr.length},this.keys=function(){return e.arr.map(function(n){return n.key})},this.has=function(n){return e.keyIndice.has(n)},this.priority=function(n){var r=e.keyIndice.get(n);if(r!==void 0)return e.arr[r].priority},this.swap=function(n,r){var i=e.arr,o=e.keyIndice,a=[i[n],i[r]],s=a[0],l=a[1];i[n]=l,i[r]=s,o.set(s.key,r),o.set(l.key,n)},this.innerDecrease=function(n){for(var r=e.arr,i=r[n].priority,o,a=n;a!==0;){var s;if(o=a>>1,((s=r[o])===null||s===void 0?void 0:s.priority)<i)break;e.swap(a,o),a=o}},this.heapify=function(n){var r=e.arr,i=n<<1,o=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,o<r.length&&(a=r[o].priority<r[a].priority?o:a),a!==n&&(e.swap(n,a),e.heapify(a)))},this.min=function(){if(e.size()===0)throw new Error("Queue underflow");return e.arr[0].key},this.add=function(n,r){var i=e.keyIndice,o=e.arr;if(!i.has(n)){var a=o.length;return i.set(n,a),o.push({key:n,priority:r}),e.innerDecrease(a),!0}return!1},this.removeMin=function(){e.swap(0,e.arr.length-1);var n=e.arr.pop();return e.keyIndice.delete(n.key),e.heapify(0),n.key},this.decrease=function(n,r){if(!e.has(n))throw new Error("There's no key named ".concat(n));var i=e.keyIndice.get(n);if(r>e.arr[i].priority)throw new Error("New priority is greater than current priority.Key: ".concat(n," Old: + ").concat(e.arr[i].priority," New: ").concat(r));e.arr[i].priority=r,e.innerDecrease(i)}}),Zvt=function(e,n){var r=new S_,i=new Map,o=new F0e,a;function s(c){var f=c.v===a?c.w:c.v,d=o.priority(f);if(d!==void 0){var h=n(c);h<d&&(i.set(f,a),o.decrease(f,h))}}if(e.nodeCount()===0)return r;e.nodes().forEach(function(c){o.add(c,Number.POSITIVE_INFINITY),r.setNode(c)}),o.decrease(e.nodes()[0],0);for(var l=!1;o.size()>0;){var u;if(a=o.removeMin(),i.has(a))r.setEdge(a,i.get(a));else{if(l)throw new Error("Input graph is not connected: "+e.graph());l=!0}(u=e.nodeEdges(a))===null||u===void 0||u.forEach(s)}return r},Jvt=function(e){var n=new Set,r=[],i=e.nodes();return i.forEach(function(o){for(var a=[],s=[o];s.length>0;){var l=s.pop();if(!n.has(l)){var u,c;n.add(l),a.push(l),(u=e.successors(l))===null||u===void 0||u.forEach(function(f){return s.push(f)}),(c=e.predecessors(l))===null||c===void 0||c.forEach(function(f){return s.push(f)})}}a.length&&r.push(a)}),r},Qvt=function t(e,n,r,i,o,a){i.includes(n)||(i.push(n),r||a.push(n),o(n).forEach(function(s){return t(e,s,r,i,o,a)}),r&&a.push(n))},Fj=function(e,n,r){var i=Array.isArray(n)?n:[n],o=function(u){return e.isDirected()?e.successors(u):e.neighbors(u)},a=[],s=[];return i.forEach(function(l){if(e.hasNode(l))Qvt(e,l,r==="post",s,o,a);else throw new Error("Graph does not have node: "+l)}),a};function egt(t,e){return igt(t)||rgt(t,e)||ngt(t,e)||tgt()}function tgt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ngt(t,e){if(t){if(typeof t=="string")return YJ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YJ(t,e)}}function YJ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rgt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function igt(t){if(Array.isArray(t))return t}var ogt=function(){return 1},V0e=function(e,n,r,i){return agt(e,n,r||ogt,i||function(o){return e.outEdges(o)})},agt=function(e,n,r,i){var o=new Map,a=new F0e,s,l,u=function(d){var h=d.v!==s?d.v:d.w,p=o.get(h),v=r(d),g=l.distance+v;if(v<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+d+" Weight: "+v);g<p.distance&&(p.distance=g,p.predecessor=s,a.decrease(h,g))};for(e.nodes().forEach(function(f){var d=f===n?0:Number.POSITIVE_INFINITY;o.set(f,{distance:d}),a.add(f,d)});a.size()>0&&(s=a.removeMin(),l=o.get(s),!(l&&l.distance===Number.POSITIVE_INFINITY));)i(s).forEach(u);var c={};return Array.from(o.entries()).forEach(function(f){var d=egt(f,2),h=d[0],p=d[1];return c[String(h)]=p,c}),c},sgt=function(e,n,r){var i={};return e.nodes().forEach(function(o){return i[String(o)]=V0e(e,o,n,r),i}),i},z0e=function(e){var n=0,r=[],i=new Map,o=[];function a(s){var l,u={onStack:!0,lowlink:n,index:n};if(i.set(s,u),n+=1,r.push(s),(l=e.successors(s))===null||l===void 0||l.forEach(function(h){var p;if(i.has(h)){if(!((p=i.get(h))===null||p===void 0)&&p.onStack){var g=i.get(h);u.lowlink=Math.min(u.lowlink,g.index)}}else{a(h);var v=i.get(h);u.lowlink=Math.min(u.lowlink,v.lowlink)}}),u.lowlink===u.index){var c=[],f;do{f=r.pop();var d=i.get(f);d.onStack=!1,c.push(f)}while(s!==f);o.push(c)}}return e.nodes().forEach(function(s){i.has(s)||a(s)}),o},lgt=function(e){return z0e(e).filter(function(n){return n.length>1||n.length===1&&e.hasEdge(n[0],n[0])})};function IV(t){"@babel/helpers - typeof";return IV=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IV(t)}function ugt(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function cgt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fgt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aC(t,e)}function dgt(t){var e=H0e();return function(){var r=sC(t),i;if(e){var o=sC(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return hgt(this,i)}}function hgt(t,e){if(e&&(IV(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pgt(t)}function pgt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RV(t){var e=typeof Map=="function"?new Map:void 0;return RV=function(r){if(r===null||!vgt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Pk(r,arguments,sC(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),aC(i,r)},RV(t)}function Pk(t,e,n){return H0e()?Pk=Reflect.construct:Pk=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),u=new l;return a&&aC(u,a.prototype),u},Pk.apply(null,arguments)}function H0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vgt(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function aC(t,e){return aC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},aC(t,e)}function sC(t){return sC=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},sC(t)}var LV=(function(t){fgt(n,t);var e=dgt(n);function n(){return cgt(this,n),e.apply(this,arguments)}return ugt(n)})(RV(Error));function j0e(t){var e=new Set,n=new Set,r=[];function i(o){if(n.has(o))throw new LV;if(!e.has(o)){var a;n.add(o),e.add(o),(a=t.predecessors(o))===null||a===void 0||a.forEach(i),n.delete(o),r.push(o)}}if(t.sinks().forEach(i),e.size!==t.nodeCount())throw new LV;return r}var ggt=function(e){try{j0e(e)}catch(n){if(n instanceof LV)return!1;throw n}return!0},mgt=function(e,n){return Fj(e,n,"post")},ygt=function(e,n){return Fj(e,n,"pre")},bgt=function(){return 1};function _gt(t,e,n){return wgt(t,e||bgt,n||function(r){return t.outEdges(r)})}function wgt(t,e,n){var r={},i=t.nodes();return i.forEach(function(o){var a=String(o);r[a]={},r[a][a]={distance:0},i.forEach(function(s){o!==s&&(r[a][String(s)]={distance:Number.POSITIVE_INFINITY})}),n(o).forEach(function(s){var l=s.v===o?s.w:s.v,u=e(s);r[a][String(l)]={distance:u,predecessor:o}})}),i.forEach(function(o){var a=String(o),s=r[a];i.forEach(function(l){var u=String(l),c=r[u];i.forEach(function(f){var d=String(f),h=c[a],p=s[d],v=c[d],g=h.distance+p.distance;g<v.distance&&(v.distance=g,v.predecessor=p.predecessor)})})}),r}const Sgt=Object.freeze(Object.defineProperty({__proto__:null,components:Jvt,dfs:Fj,dijkstra:V0e,dijkstraAll:sgt,findCycles:lgt,floydWarshall:_gt,isAcyclic:ggt,postorder:mgt,preorder:ygt,prim:Zvt,tarjan:z0e,topsort:j0e},Symbol.toStringTag,{value:"Module"}));class xgt extends Fvt{}class Cgt extends S_{}const Egt=()=>1,Tgt=(t,e)=>{var n;if(t.nodeCount()<=1)return[];const r=kgt(t,e||Egt);return(n=Agt(r.graph,r.buckets,r.zeroIdx).map(o=>t.outEdges(o.v,o.w)))===null||n===void 0?void 0:n.flat()},Agt=(t,e,n)=>{let r=[];const i=e[e.length-1],o=e[0];let a;for(;t.nodeCount();){for(;a=o.dequeue();)r3(t,e,n,a);for(;a=i.dequeue();)r3(t,e,n,a);if(t.nodeCount()){for(let s=e.length-2;s>0;--s)if(a=e[s].dequeue(),a){r=r.concat(r3(t,e,n,a,!0));break}}}return r},r3=(t,e,n,r,i)=>{var o,a;const s=[];return(o=t.inEdges(r.v))===null||o===void 0||o.forEach(l=>{const u=t.edge(l),c=t.node(l.v);i&&s.push({v:l.v,w:l.w,in:0,out:0}),c.out===void 0&&(c.out=0),c.out-=u,DV(e,n,c)}),(a=t.outEdges(r.v))===null||a===void 0||a.forEach(l=>{const u=t.edge(l),c=l.w,f=t.node(c);f.in===void 0&&(f.in=0),f.in-=u,DV(e,n,f)}),t.removeNode(r.v),i?s:void 0},kgt=(t,e)=>{const n=new Cgt;let r=0,i=0;t.nodes().forEach(l=>{n.setNode(l,{v:l,in:0,out:0})}),t.edges().forEach(l=>{const u=n.edge(l)||0,c=e?.(l)||1,f=u+c;n.setEdge(l.v,l.w,f),i=Math.max(i,n.node(l.v).out+=c),r=Math.max(r,n.node(l.w).in+=c)});const o=[],a=i+r+3;for(let l=0;l<a;l++)o.push(new xgt);const s=r+1;return n.nodes().forEach(l=>{DV(o,s,n.node(l))}),{buckets:o,zeroIdx:s,graph:n}},DV=(t,e,n)=>{n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)},Mgt=t=>{const e=r=>i=>{var o;return((o=r.edge(i))===null||o===void 0?void 0:o.weight)||1},n=t.graph().acyclicer==="greedy"?Tgt(t,e(t)):Pgt(t);n?.forEach(r=>{const i=t.edge(r);t.removeEdgeObj(r),i.forwardName=r.name,i.reversed=!0,t.setEdge(r.w,r.v,i,`rev-${Math.random()}`)})},Pgt=t=>{const e=[],n={},r={},i=o=>{var a;r[o]||(r[o]=!0,n[o]=!0,(a=t.outEdges(o))===null||a===void 0||a.forEach(s=>{n[s.w]?e.push(s):i(s.w)}),delete n[o])};return t.nodes().forEach(i),e},Ogt=t=>{t.edges().forEach(e=>{const n=t.edge(e);if(n.reversed){t.removeEdgeObj(e);const r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})},XJ={run:Mgt,undo:Ogt};let hh=class extends S_{};const Igt=(t,e)=>Number(t)-Number(e),x_=(t,e,n,r)=>{let i;do i=`${r}${Math.random()}`;while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i},Rgt=t=>{const e=new hh().setGraph(t.graph());return t.nodes().forEach(n=>{e.setNode(n,t.node(n))}),t.edges().forEach(n=>{const r=e.edgeFromArgs(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e},G0e=t=>{const e=new hh({multigraph:t.isMultigraph()}).setGraph(t.graph());return t.nodes().forEach(n=>{var r;!((r=t.children(n))===null||r===void 0)&&r.length||e.setNode(n,t.node(n))}),t.edges().forEach(n=>{e.setEdgeObj(n,t.edge(n))}),e},Lgt=(t,e)=>t?.reduce((n,r,i)=>(n[r]=e[i],n),{}),ZJ=(t,e)=>{const n=Number(t.x),r=Number(t.y),i=Number(e.x)-n,o=Number(e.y)-r;let a=Number(t.width)/2,s=Number(t.height)/2;if(!i&&!o)return{x:0,y:0};let l,u;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),l=s*i/o,u=s):(i<0&&(a=-a),l=a,u=a*o/i),{x:n+l,y:r+u}},lC=t=>{const e=[],n=U0e(t)+1;for(let r=0;r<n;r++)e.push([]);t.nodes().forEach(r=>{const i=t.node(r);if(!i)return;const o=i.rank;o!==void 0&&e[o]&&e[o].push(r)});for(let r=0;r<n;r++)e[r]=e[r].sort((i,o)=>{var a,s;return Igt((a=t.node(i))===null||a===void 0?void 0:a.order,(s=t.node(o))===null||s===void 0?void 0:s.order)});return e},Dgt=t=>{const e=t.nodes().filter(r=>{var i;return((i=t.node(r))===null||i===void 0?void 0:i.rank)!==void 0}).map(r=>t.node(r).rank),n=Math.min(...e);t.nodes().forEach(r=>{const i=t.node(r);i.hasOwnProperty("rank")&&n!==1/0&&(i.rank-=n)})},Ngt=t=>{const e=t.nodes(),n=e.filter(s=>{var l;return((l=t.node(s))===null||l===void 0?void 0:l.rank)!==void 0}).map(s=>t.node(s).rank),r=Math.min(...n),i=[];e.forEach(s=>{var l;const u=(((l=t.node(s))===null||l===void 0?void 0:l.rank)||0)-r;i[u]||(i[u]=[]),i[u].push(s)});let o=0;const a=t.graph().nodeRankFactor||0;for(let s=0;s<i.length;s++){const l=i[s];l===void 0?s%a!==0&&(o-=1):o&&l?.forEach(u=>{const c=t.node(u);c&&(c.rank=c.rank||0,c.rank+=o)})}},JJ=(t,e,n,r)=>{const i={width:0,height:0};return yP(n)&&yP(r)&&(i.rank=n,i.order=r),x_(t,"border",i,e)},U0e=t=>{let e;return t.nodes().forEach(n=>{var r;const i=(r=t.node(n))===null||r===void 0?void 0:r.rank;i!==void 0&&(e===void 0||i>e)&&(e=i)}),e||(e=0),e},Bgt=(t,e)=>{const n={lhs:[],rhs:[]};return t?.forEach(r=>{e(r)?n.lhs.push(r):n.rhs.push(r)}),n},W0e=(t,e)=>{const n=Date.now();try{return e()}finally{console.log(`${t} time: ${Date.now()-n}ms`)}},q0e=(t,e)=>e(),Vj=(t,e)=>t.reduce((n,r)=>{const i=e(n),o=e(r);return i>o?r:n}),$gt=t=>{t.graph().dummyChains=[],t.edges().forEach(e=>Fgt(t,e))},Fgt=(t,e)=>{let n=e.v,r=t.node(n).rank;const i=e.w,o=t.node(i).rank,a=e.name,s=t.edge(e),l=s.labelRank;if(o===r+1)return;t.removeEdgeObj(e);const u=t.graph();let c,f,d;for(d=0,++r;r<o;++d,++r)s.points=[],f={edgeLabel:s,width:0,height:0,edgeObj:e,rank:r},c=x_(t,"edge",f,"_d"),r===l&&(f.width=s.width,f.height=s.height,f.dummy="edge-label",f.labelpos=s.labelpos),t.setEdge(n,c,{weight:s.weight},a),d===0&&(u.dummyChains||(u.dummyChains=[]),u.dummyChains.push(c)),n=c;t.setEdge(n,i,{weight:s.weight},a)},Vgt=t=>{var e;(e=t.graph().dummyChains)===null||e===void 0||e.forEach(n=>{let r=t.node(n);const i=r.edgeLabel;let o;r.edgeObj&&t.setEdgeObj(r.edgeObj,i);let a=n;for(;r.dummy;)o=t.successors(a)[0],t.removeNode(a),i.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),a=o,r=t.node(a)})},QJ={run:$gt,undo:Vgt},K0e=t=>{var e;const n={},r=i=>{var o;const a=t.node(i);if(!a)return 0;if(n[i])return a.rank;n[i]=!0;let s;return(o=t.outEdges(i))===null||o===void 0||o.forEach(l=>{const u=r(l.w),c=t.edge(l).minlen,f=u-c;f&&(s===void 0||f<s)&&(s=f)}),s||(s=0),a.rank=s,s};(e=t.sources())===null||e===void 0||e.forEach(i=>r(i))},zgt=t=>{var e;const n={};let r;const i=s=>{var l;const u=t.node(s);if(!u)return 0;if(n[s])return u.rank;n[s]=!0;let c;return(l=t.outEdges(s))===null||l===void 0||l.forEach(f=>{const d=i(f.w),h=t.edge(f).minlen,p=d-h;p&&(c===void 0||p<c)&&(c=p)}),c||(c=0),(r===void 0||c<r)&&(r=c),u.rank=c,c};(e=t.sources())===null||e===void 0||e.forEach(s=>{t.node(s)&&i(s)}),r===void 0&&(r=0);const o={},a=(s,l)=>{var u;const c=t.node(s),f=isNaN(c.layer)?l:c.layer;(c.rank===void 0||c.rank<f)&&(c.rank=f),!o[s]&&(o[s]=!0,(u=t.outEdges(s))===null||u===void 0||u.map(d=>{a(d.w,f+t.edge(d).minlen)}))};t.nodes().forEach(s=>{const l=t.node(s);l&&(isNaN(l.layer)?l.rank-=r:a(s,l.layer))})},pv=(t,e)=>t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen,Hgt=t=>{const e=new hh({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});let i,o;for(;jgt(e,t)<r;)i=Y0e(e,t),o=e.hasNode(i.v)?pv(t,i):-pv(t,i),X0e(e,t,o);return e},jgt=(t,e)=>{const n=r=>{e.nodeEdges(r).forEach(i=>{const o=i.v,a=r===o?i.w:o;!t.hasNode(a)&&!pv(e,i)&&(t.setNode(a,{}),t.setEdge(r,a,{}),n(a))})};return t.nodes().forEach(n),t.nodeCount()},Ggt=t=>{const e=new hh({directed:!1}),n=t.nodes()[0],r=t.nodes().filter(a=>!!t.node(a)).length;e.setNode(n,{});let i,o;for(;Ugt(e,t)<r;)i=Y0e(e,t),o=e.hasNode(i.v)?pv(t,i):-pv(t,i),X0e(e,t,o);return e},Ugt=(t,e)=>{const n=r=>{var i;(i=e.nodeEdges(r))===null||i===void 0||i.forEach(o=>{const a=o.v,s=r===a?o.w:a;!t.hasNode(s)&&(e.node(s).layer!==void 0||!pv(e,o))&&(t.setNode(s,{}),t.setEdge(r,s,{}),n(s))})};return t.nodes().forEach(n),t.nodeCount()},Y0e=(t,e)=>Vj(e.edges(),n=>t.hasNode(n.v)!==t.hasNode(n.w)?pv(e,n):1/0),X0e=(t,e,n)=>{t.nodes().forEach(r=>{e.node(r).rank||(e.node(r).rank=0),e.node(r).rank+=n})},{preorder:Wgt,postorder:qgt}=Sgt,Kgt=t=>{const e=Rgt(t);K0e(e);const n=Hgt(e);J0e(n),Z0e(n,e);let r,i;for(;r=Zgt(n);)i=Jgt(n,e,r),Qgt(n,e,r,i)},Z0e=(t,e)=>{let n=qgt(t,t.nodes());n=n?.slice(0,n?.length-1),n?.forEach(r=>{Ygt(t,e,r)})},Ygt=(t,e,n)=>{const i=t.node(n).parent;t.edgeFromArgs(n,i).cutvalue=Xgt(t,e,n)},Xgt=(t,e,n)=>{var r;const o=t.node(n).parent;let a=!0,s=e.edgeFromArgs(n,o),l=0;return s||(a=!1,s=e.edgeFromArgs(o,n)),l=s.weight,(r=e.nodeEdges(n))===null||r===void 0||r.forEach(u=>{const c=u.v===n,f=c?u.w:u.v;if(f!==o){const d=c===a,h=e.edge(u).weight;if(l+=d?h:-h,tmt(t,n,f)){const p=t.edgeFromArgs(n,f).cutvalue;l+=d?-p:p}}}),l},J0e=(t,e=t.nodes()[0])=>{Q0e(t,{},1,e)},Q0e=(t,e,n,r,i)=>{var o;const a=n;let s=n;const l=t.node(r);return e[r]=!0,(o=t.neighbors(r))===null||o===void 0||o.forEach(u=>{e[u]||(s=Q0e(t,e,s,u,r))}),l.low=a,l.lim=s++,i?l.parent=i:delete l.parent,s},Zgt=t=>t.edges().find(e=>t.edge(e).cutvalue<0),Jgt=(t,e,n)=>{let r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);const o=t.node(r),a=t.node(i);let s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);const u=e.edges().filter(c=>l===eQ(t,t.node(c.v),s)&&l!==eQ(t,t.node(c.w),s));return Vj(u,c=>pv(e,c))},Qgt=(t,e,n,r)=>{const i=n.v,o=n.w;t.removeEdge(i,o),t.setEdge(r.v,r.w,{}),J0e(t),Z0e(t,e),emt(t,e)},emt=(t,e)=>{const n=t.nodes().find(i=>{var o;return!(!((o=e.node(i))===null||o===void 0)&&o.parent)});let r=Wgt(t,n);r=r?.slice(1),r?.forEach(i=>{const o=t.node(i).parent;let a=e.edgeFromArgs(i,o),s=!1;a||(a=e.edgeFromArgs(o,i),s=!0),e.node(i).rank=e.node(o).rank+(s?a.minlen:-a.minlen)})},tmt=(t,e,n)=>t.hasEdge(e,n),eQ=(t,e,n)=>n.low<=e.lim&&e.lim<=n.lim,nmt=t=>{switch(t.graph().ranker){case"network-simplex":imt(t);break;case"tight-tree":tQ(t);break;case"longest-path":rmt(t);break;default:tQ(t)}},rmt=K0e,tQ=t=>{zgt(t),Ggt(t)},imt=t=>{Kgt(t)},omt=t=>{var e;const n={};let r=0;const i=o=>{var a;const s=r;(a=t.children(o))===null||a===void 0||a.forEach(i),n[o]={low:s,lim:r++}};return(e=t.children())===null||e===void 0||e.forEach(i),n},amt=(t,e,n,r)=>{const i=[],o=[],a=Math.min(e[n].low,e[r].low),s=Math.max(e[n].lim,e[r].lim);let l,u;l=n;do l=t.parent(l),i.push(l);while(l&&(e[l].low>a||s>e[l].lim));for(u=l,l=r;l&&l!==u;)o.push(l),l=t.parent(l);return{lca:u,path:i.concat(o.reverse())}},smt=t=>{var e;const n=omt(t);(e=t.graph().dummyChains)===null||e===void 0||e.forEach(r=>{var i,o;let a=r,s=t.node(a);const l=s.edgeObj;if(!l)return;const u=amt(t,n,l.v,l.w),c=u.path,f=u.lca;let d=0,h=c[d],p=!0;for(;a!==l.w;){if(s=t.node(a),p){for(;h!==f&&((i=t.node(h))===null||i===void 0?void 0:i.maxRank)<s.rank;)d++,h=c[d];h===f&&(p=!1)}if(!p){for(;d<c.length-1&&((o=t.node(c[d+1]))===null||o===void 0?void 0:o.minRank)<=s.rank;)d++;h=c[d]}t.setParent(a,h),a=t.successors(a)[0]}})},lmt=t=>{var e;const n=x_(t,"root",{},"_root"),r=umt(t);let i=Math.max(...Object.values(r));Math.abs(i)===1/0&&(i=1);const o=i-1,a=2*o+1;t.graph().nestingRoot=n,t.edges().forEach(l=>{t.edge(l).minlen*=a});const s=cmt(t)+1;(e=t.children())===null||e===void 0||e.forEach(l=>{ebe(t,n,a,s,o,r,l)}),t.graph().nodeRankFactor=a},ebe=(t,e,n,r,i,o,a)=>{const s=t.children(a);if(!s?.length){a!==e&&t.setEdge(e,a,{weight:0,minlen:n});return}const l=JJ(t,"_bt"),u=JJ(t,"_bb"),c=t.node(a);t.setParent(l,a),c.borderTop=l,t.setParent(u,a),c.borderBottom=u,s?.forEach(f=>{ebe(t,e,n,r,i,o,f);const d=t.node(f),h=d.borderTop?d.borderTop:f,p=d.borderBottom?d.borderBottom:f,v=d.borderTop?r:2*r,g=h!==p?1:i-o[a]+1;t.setEdge(l,h,{minlen:g,weight:v,nestingEdge:!0}),t.setEdge(p,u,{minlen:g,weight:v,nestingEdge:!0})}),t.parent(a)||t.setEdge(e,l,{weight:0,minlen:i+o[a]})},umt=t=>{var e;const n={},r=(i,o)=>{const a=t.children(i);a?.forEach(s=>r(s,o+1)),n[i]=o};return(e=t.children())===null||e===void 0||e.forEach(i=>r(i,1)),n},cmt=t=>{let e=0;return t.edges().forEach(n=>{e+=t.edge(n).weight}),e},fmt=t=>{const e=t.graph();e.nestingRoot&&t.removeNode(e.nestingRoot),delete e.nestingRoot,t.edges().forEach(n=>{t.edge(n).nestingEdge&&t.removeEdgeObj(n)})},nQ={run:lmt,cleanup:fmt},dmt=t=>{var e;const n=r=>{const i=t.children(r),o=t.node(r);if(i?.length&&i.forEach(a=>n(a)),o.hasOwnProperty("minRank")){o.borderLeft=[],o.borderRight=[];for(let a=o.minRank,s=o.maxRank+1;a<s;a+=1)rQ(t,"borderLeft","_bl",r,o,a),rQ(t,"borderRight","_br",r,o,a)}};(e=t.children())===null||e===void 0||e.forEach(r=>n(r))},rQ=(t,e,n,r,i,o)=>{const a={rank:o,borderType:e,width:0,height:0},s=i[e][o-1],l=x_(t,"border",a,n);i[e][o]=l,t.setParent(l,r),s&&t.setEdge(s,l,{weight:1})},hmt=t=>{var e;const n=(e=t.graph().rankdir)===null||e===void 0?void 0:e.toLowerCase();(n==="lr"||n==="rl")&&tbe(t)},pmt=t=>{var e;const n=(e=t.graph().rankdir)===null||e===void 0?void 0:e.toLowerCase();(n==="bt"||n==="rl")&&vmt(t),(n==="lr"||n==="rl")&&(gmt(t),tbe(t))},tbe=t=>{t.nodes().forEach(e=>{iQ(t.node(e))}),t.edges().forEach(e=>{iQ(t.edge(e))})},iQ=t=>{const e=t.width;t.width=t.height,t.height=e},vmt=t=>{t.nodes().forEach(e=>{i3(t.node(e))}),t.edges().forEach(e=>{var n;const r=t.edge(e);(n=r.points)===null||n===void 0||n.forEach(i=>i3(i)),r.hasOwnProperty("y")&&i3(r)})},i3=t=>{t?.y&&(t.y=-t.y)},gmt=t=>{t.nodes().forEach(e=>{o3(t.node(e))}),t.edges().forEach(e=>{var n;const r=t.edge(e);(n=r.points)===null||n===void 0||n.forEach(i=>o3(i)),r.hasOwnProperty("x")&&o3(r)})},o3=t=>{const e=t.x;t.x=t.y,t.y=e},oQ={adjust:hmt,undo:pmt};function mmt(t){return Array.isArray(t)}function NV(t){if(!Array.isArray(t))return-1/0;var e=t.length;if(!e)return-1/0;for(var n=t[0],r=1;r<e;r++)n=Math.max(n,t[r]);return n}const aQ=(function(t){if(mmt(t))return t.reduce(function(e,n){return Math.min(e,n)},t[0])}),sQ=t=>{const e={},n=t.nodes().filter(c=>{var f;return!(!((f=t.children(c))===null||f===void 0)&&f.length)}),r=n.map(c=>t.node(c).rank),i=NV(r),o=[];for(let c=0;c<i+1;c++)o.push([]);const a=c=>{var f;if(e.hasOwnProperty(c))return;e[c]=!0;const d=t.node(c);isNaN(d.rank)||o[d.rank].push(c),(f=t.successors(c))===null||f===void 0||f.forEach(h=>a(h))},s=n.sort((c,f)=>t.node(c).rank-t.node(f).rank),u=s.filter(c=>t.node(c).fixorder!==void 0).sort((c,f)=>t.node(c).fixorder-t.node(f).fixorder);return u?.forEach(c=>{isNaN(t.node(c).rank)||o[t.node(c).rank].push(c),e[c]=!0}),s?.forEach(a),o},ymt=(t,e,n)=>{const r=Lgt(n,n.map((c,f)=>f)),o=e.map(c=>{var f;const d=(f=t.outEdges(c))===null||f===void 0?void 0:f.map(h=>({pos:r[h.w]||0,weight:t.edge(h).weight}));return d?.sort((h,p)=>h.pos-p.pos)}).flat().filter(c=>c!==void 0);let a=1;for(;a<n.length;)a<<=1;const s=2*a-1;a-=1;const l=Array(s).fill(0,0,s);let u=0;return o?.forEach(c=>{if(c){let f=c.pos+a;l[f]+=c.weight;let d=0;for(;f>0;)f%2&&(d+=l[f+1]),f=f-1>>1,l[f]+=c.weight;u+=c.weight*d}}),u},lQ=(t,e)=>{let n=0;for(let r=1;r<e?.length;r+=1)n+=ymt(t,e[r-1],e[r]);return n},bmt=(t,e,n)=>{const r=_mt(t),i=new hh({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(o=>t.node(o));return t.nodes().forEach(o=>{var a;const s=t.node(o),l=t.parent(o);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(i.setNode(o),i.setParent(o,l||r),(a=t[n](o))===null||a===void 0||a.forEach(u=>{const c=u.v===o?u.w:u.v,f=i.edgeFromArgs(c,o),d=f!==void 0?f.weight:0;i.setEdge(c,o,{weight:t.edge(u).weight+d})}),s.hasOwnProperty("minRank")&&i.setNode(o,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),i},_mt=t=>{let e;for(;t.hasNode(e=`_root${Math.random()}`););return e},wmt=(t,e,n)=>{const r={};let i;n?.forEach(o=>{let a=t.parent(o),s,l;for(;a;){if(s=t.parent(a),s?(l=r[s],r[s]=a):(l=i,i=a),l&&l!==a){e.setEdge(l,a);return}a=s}})},Smt=(t,e)=>e.map(n=>{const r=t.inEdges(n);if(!r?.length)return{v:n};{const i={sum:0,weight:0};return r?.forEach(o=>{const a=t.edge(o),s=t.node(o.v);i.sum+=a.weight*s.order,i.weight+=a.weight}),{v:n,barycenter:i.sum/i.weight,weight:i.weight}}}),xmt=(t,e)=>{var n,r,i;const o={};t?.forEach((s,l)=>{o[s.v]={i:l,indegree:0,in:[],out:[],vs:[s.v]};const u=o[s.v];s.barycenter!==void 0&&(u.barycenter=s.barycenter,u.weight=s.weight)}),(n=e.edges())===null||n===void 0||n.forEach(s=>{const l=o[s.v],u=o[s.w];l!==void 0&&u!==void 0&&(u.indegree++,l.out.push(o[s.w]))});const a=(i=(r=Object.values(o)).filter)===null||i===void 0?void 0:i.call(r,s=>!s.indegree);return Cmt(a)},Cmt=t=>{var e,n;const r=[],i=l=>u=>{u.merged||(u.barycenter===void 0||l.barycenter===void 0||u.barycenter>=l.barycenter)&&Emt(l,u)},o=l=>u=>{u.in.push(l),--u.indegree===0&&t.push(u)};for(;t?.length;){const l=t.pop();r.push(l),(e=l.in.reverse())===null||e===void 0||e.forEach(u=>i(l)(u)),(n=l.out)===null||n===void 0||n.forEach(u=>o(l)(u))}const a=r.filter(l=>!l.merged),s=["vs","i","barycenter","weight"];return a.map(l=>{const u={};return s?.forEach(c=>{l[c]!==void 0&&(u[c]=l[c])}),u})},Emt=(t,e)=>{var n;let r=0,i=0;t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.vs=(n=e.vs)===null||n===void 0?void 0:n.concat(t.vs),t.barycenter=r/i,t.weight=i,t.i=Math.min(e.i,t.i),e.merged=!0},Tmt=(t,e,n,r)=>{const i=Bgt(t,d=>{const h=d.hasOwnProperty("fixorder")&&!isNaN(d.fixorder);return r?!h&&d.hasOwnProperty("barycenter"):h||d.hasOwnProperty("barycenter")}),o=i.lhs,a=i.rhs.sort((d,h)=>-d.i- -h.i),s=[];let l=0,u=0,c=0;o?.sort(Amt(!!e,!!n)),c=uQ(s,a,c),o?.forEach(d=>{var h;c+=(h=d.vs)===null||h===void 0?void 0:h.length,s.push(d.vs),l+=d.barycenter*d.weight,u+=d.weight,c=uQ(s,a,c)});const f={vs:s.flat()};return u&&(f.barycenter=l/u,f.weight=u),f},uQ=(t,e,n)=>{let r=n,i;for(;e.length&&(i=e[e.length-1]).i<=r;)e.pop(),t?.push(i.vs),r++;return r},Amt=(t,e)=>(n,r)=>{if(n.fixorder!==void 0&&r.fixorder!==void 0)return n.fixorder-r.fixorder;if(n.barycenter<r.barycenter)return-1;if(n.barycenter>r.barycenter)return 1;if(e&&n.order!==void 0&&r.order!==void 0){if(n.order<r.order)return-1;if(n.order>r.order)return 1}return t?r.i-n.i:n.i-r.i},nbe=(t,e,n,r,i,o)=>{var a,s,l,u;let c=t.children(e);const f=t.node(e),d=f?f.borderLeft:void 0,h=f?f.borderRight:void 0,p={};d&&(c=c?.filter(y=>y!==d&&y!==h));const v=Smt(t,c||[]);v?.forEach(y=>{var b;if(!((b=t.children(y.v))===null||b===void 0)&&b.length){const w=nbe(t,y.v,n,r,o);p[y.v]=w,w.hasOwnProperty("barycenter")&&Mmt(y,w)}});const g=xmt(v,n);kmt(g,p),(a=g.filter(y=>y.vs.length>0))===null||a===void 0||a.forEach(y=>{const b=t.node(y.vs[0]);b&&(y.fixorder=b.fixorder,y.order=b.order)});const m=Tmt(g,r,i,o);if(d&&(m.vs=[d,m.vs,h].flat(),!((s=t.predecessors(d))===null||s===void 0)&&s.length)){const y=t.node(((l=t.predecessors(d))===null||l===void 0?void 0:l[0])||""),b=t.node(((u=t.predecessors(h))===null||u===void 0?void 0:u[0])||"");m.hasOwnProperty("barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+y.order+b.order)/(m.weight+2),m.weight+=2}return m},kmt=(t,e)=>{t?.forEach(n=>{var r;const i=(r=n.vs)===null||r===void 0?void 0:r.map(o=>e[o]?e[o].vs:o);n.vs=i.flat()})},Mmt=(t,e)=>{t.barycenter!==void 0?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)},Pmt=(t,e)=>{const n=U0e(t),r=[],i=[];for(let c=1;c<n+1;c++)r.push(c);for(let c=n-1;c>-1;c--)i.push(c);const o=cQ(t,r,"inEdges"),a=cQ(t,i,"outEdges");let s=sQ(t);a3(t,s);let l=Number.POSITIVE_INFINITY,u;for(let c=0,f=0;f<4;++c,++f){fQ(c%2?o:a,c%4>=2,!1,e),s=lC(t);const d=lQ(t,s);d<l&&(f=0,u=bP(s),l=d)}s=sQ(t),a3(t,s);for(let c=0,f=0;f<4;++c,++f){fQ(c%2?o:a,c%4>=2,!0,e),s=lC(t);const d=lQ(t,s);d<l&&(f=0,u=bP(s),l=d)}a3(t,u)},cQ=(t,e,n)=>e.map(r=>bmt(t,r,n)),fQ=(t,e,n,r)=>{const i=new hh;t?.forEach(o=>{var a;const s=o.graph().root,l=nbe(o,s,i,e,n,r);for(let u=0;u<((a=l.vs)===null||a===void 0?void 0:a.length);u++){const c=o.node(l.vs[u]);c&&(c.order=u)}wmt(o,i,l.vs)})},a3=(t,e)=>{e?.forEach(n=>{n?.forEach((r,i)=>{t.node(r).order=i})})};class Omt extends S_{}const Imt=(t,e)=>{const n={},r=(i,o)=>{let a=0,s=0;const l=i.length,u=o?.[o?.length-1];return o?.forEach((c,f)=>{var d;const h=Lmt(t,c),p=h?t.node(h).order:l;(h||c===u)&&((d=o.slice(s,f+1))===null||d===void 0||d.forEach(v=>{var g;(g=t.predecessors(v))===null||g===void 0||g.forEach(m=>{var y;const b=t.node(m),w=b.order;(w<a||p<w)&&!(b.dummy&&(!((y=t.node(v))===null||y===void 0)&&y.dummy))&&rbe(n,m,v)})}),s=f+1,a=p)}),o};return e?.length&&e.reduce(r),n},Rmt=(t,e)=>{const n={};function r(s,l,u,c,f){var d,h;let p;for(let v=l;v<u;v++)p=s[v],!((d=t.node(p))===null||d===void 0)&&d.dummy&&((h=t.predecessors(p))===null||h===void 0||h.forEach(g=>{const m=t.node(g);m.dummy&&(m.order<c||m.order>f)&&rbe(n,g,p)}))}function i(s){return JSON.stringify(s.slice(1))}function o(s,l){const u=i(s);l.get(u)||(r(...s),l.set(u,!0))}const a=(s,l)=>{let u=-1,c,f=0;const d=new Map;return l?.forEach((h,p)=>{var v;if(((v=t.node(h))===null||v===void 0?void 0:v.dummy)==="border"){const g=t.predecessors(h)||[];g.length&&(c=t.node(g[0]).order,o([l,f,p,u,c],d),f=p,u=c)}o([l,f,l.length,c,s.length],d)}),l};return e?.length&&e.reduce(a),n},Lmt=(t,e)=>{var n,r;if(!((n=t.node(e))===null||n===void 0)&&n.dummy)return(r=t.predecessors(e))===null||r===void 0?void 0:r.find(i=>t.node(i).dummy)},rbe=(t,e,n)=>{let r=e,i=n;if(r>i){const a=r;r=i,i=a}let o=t[r];o||(t[r]=o={}),o[i]=!0},Dmt=(t,e,n)=>{let r=e,i=n;if(r>i){const o=e;r=i,i=o}return!!t[r]},Nmt=(t,e,n,r)=>{const i={},o={},a={};return e?.forEach(s=>{s?.forEach((l,u)=>{i[l]=l,o[l]=l,a[l]=u})}),e?.forEach(s=>{let l=-1;s?.forEach(u=>{let c=r(u);if(c.length){c=c.sort((d,h)=>a[d]-a[h]);const f=(c.length-1)/2;for(let d=Math.floor(f),h=Math.ceil(f);d<=h;++d){const p=c[d];o[u]===u&&l<a[p]&&!Dmt(n,u,p)&&(o[p]=u,o[u]=i[u]=i[p],l=a[p])}}})}),{root:i,align:o}},Bmt=(t,e,n,r,i)=>{var o;const a={},s=$mt(t,e,n,i),l=i?"borderLeft":"borderRight",u=(d,h)=>{let p=s.nodes(),v=p.pop();const g={};for(;v;)g[v]?d(v):(g[v]=!0,p.push(v),p=p.concat(h(v))),v=p.pop()},c=d=>{a[d]=(s.inEdges(d)||[]).reduce((h,p)=>Math.max(h,(a[p.v]||0)+s.edge(p)),0)},f=d=>{const h=(s.outEdges(d)||[]).reduce((v,g)=>Math.min(v,(a[g.w]||0)-s.edge(g)),Number.POSITIVE_INFINITY),p=t.node(d);h!==Number.POSITIVE_INFINITY&&p.borderType!==l&&(a[d]=Math.max(a[d],h))};return u(c,s.predecessors.bind(s)),u(f,s.successors.bind(s)),(o=Object.values(r))===null||o===void 0||o.forEach(d=>{a[d]=a[n[d]]}),a},$mt=(t,e,n,r)=>{const i=new Omt,o=t.graph(),a=Hmt(o.nodesep,o.edgesep,r);return e?.forEach(s=>{let l;s?.forEach(u=>{const c=n[u];if(i.setNode(c),l){const f=n[l],d=i.edgeFromArgs(f,c);i.setEdge(f,c,Math.max(a(t,u,l),d||0))}l=u})}),i},Fmt=(t,e)=>Vj(Object.values(e),n=>{var r;let i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return(r=Object.keys(n))===null||r===void 0||r.forEach(a=>{const s=n[a],l=jmt(t,a)/2;i=Math.max(s+l,i),o=Math.min(s-l,o)}),i-o});function Vmt(t,e){const n=Object.values(e),r=aQ(n),i=NV(n);["u","d"].forEach(o=>{["l","r"].forEach(a=>{const s=o+a,l=t[s];let u;if(l===e)return;const c=Object.values(l);u=a==="l"?r-aQ(c):i-NV(c),u&&(t[s]={},Object.keys(l).forEach(f=>{t[s][f]=l[f]+u}))})})}const zmt=(t,e)=>{const n={};return Object.keys(t.ul).forEach(r=>{if(e)n[r]=t[e.toLowerCase()][r];else{const i=Object.values(t).map(o=>o[r]);n[r]=(i[0]+i[1])/2}}),n},Hmt=(t,e,n)=>(r,i,o)=>{const a=r.node(i),s=r.node(o);let l=0,u;if(l+=a.width/2,a.hasOwnProperty("labelpos"))switch((a.labelpos||"").toLowerCase()){case"l":u=-a.width/2;break;case"r":u=a.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(a.dummy?e:t)/2,l+=(s.dummy?e:t)/2,l+=s.width/2,s.labelpos)switch((s.labelpos||"").toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2;break}return u&&(l+=n?u:-u),u=0,l},jmt=(t,e)=>t.node(e).width||0,Gmt=t=>{const e=lC(t),n=t.graph().ranksep;let r=0;e?.forEach(i=>{const o=i.map(s=>t.node(s).height),a=Math.max(...o,0);i?.forEach(s=>{t.node(s).y=r+a/2}),r+=a+n})},Umt=t=>{const e=lC(t),n=Object.assign(Imt(t,e),Rmt(t,e)),r={};let i=[];["u","d"].forEach(a=>{i=a==="u"?e:Object.values(e).reverse(),["l","r"].forEach(s=>{s==="r"&&(i=i.map(f=>Object.values(f).reverse()));const l=(a==="u"?t.predecessors:t.successors).bind(t),u=Nmt(t,i,n,l),c=Bmt(t,i,u.root,u.align,s==="r");s==="r"&&Object.keys(c).forEach(f=>c[f]=-c[f]),r[a+s]=c})});const o=Fmt(t,r);return o&&Vmt(r,o),zmt(r,t.graph().align)},Wmt=t=>{var e;const n=G0e(t);Gmt(n);const r=Umt(n);(e=Object.keys(r))===null||e===void 0||e.forEach(i=>{n.node(i).x=r[i]})},qmt=(t,e)=>{const r=t.nodes().filter(a=>{var s;return!(!((s=t.children(a))===null||s===void 0)&&s.length)}).map(a=>t.node(a).rank),i=Math.max(...r),o=[];for(let a=0;a<i+1;a++)o[a]=[];e?.forEach(a=>{const s=t.node(a);!s||s?.dummy||isNaN(s.rank)||(s.fixorder=o[s.rank].length,o[s.rank].push(a))})},Kmt=(t,e)=>{const n=e&&e.debugTiming?W0e:q0e;n("layout",()=>{e&&!e.keepNodeOrder&&e.prevGraph&&n("  inheritOrder",()=>{Xmt(t,e.prevGraph)});const r=n("  buildLayoutGraph",()=>iyt(t));e&&e.edgeLabelSpace===!1||n("  makeSpaceForEdgeLabels",()=>{oyt(r)});try{n("  runLayout",()=>{Ymt(r,n,e)})}catch(i){if(i.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,i);return}throw i}n("  updateInputGraph",()=>{Zmt(t,r)})})},Ymt=(t,e,n)=>{e("    removeSelfEdges",()=>{pyt(t)}),e("    acyclic",()=>{XJ.run(t)}),e("    nestingGraph.run",()=>{nQ.run(t)}),e("    rank",()=>{nmt(G0e(t))}),e("    injectEdgeLabelProxies",()=>{ayt(t)}),e("    removeEmptyRanks",()=>{Ngt(t)}),e("    nestingGraph.cleanup",()=>{nQ.cleanup(t)}),e("    normalizeRanks",()=>{Dgt(t)}),e("    assignRankMinMax",()=>{syt(t)}),e("    removeEdgeLabelProxies",()=>{lyt(t)}),e("    normalize.run",()=>{QJ.run(t)}),e("    parentDummyChains",()=>{smt(t)}),e("    addBorderSegments",()=>{dmt(t)}),n&&n.keepNodeOrder&&e("    initDataOrder",()=>{qmt(t,n.nodeOrder)}),e("    order",()=>{Pmt(t,n?.keepNodeOrder)}),e("    insertSelfEdges",()=>{vyt(t)}),e("    adjustCoordinateSystem",()=>{oQ.adjust(t)}),e("    position",()=>{Wmt(t)}),e("    positionSelfEdges",()=>{gyt(t)}),e("    removeBorderNodes",()=>{hyt(t)}),e("    normalize.undo",()=>{QJ.undo(t)}),e("    fixupEdgeLabelCoords",()=>{fyt(t)}),e("    undoCoordinateSystem",()=>{oQ.undo(t)}),e("    translateGraph",()=>{uyt(t)}),e("    assignNodeIntersects",()=>{cyt(t)}),e("    reversePoints",()=>{dyt(t)}),e("    acyclic.undo",()=>{XJ.undo(t)})},Xmt=(t,e)=>{t.nodes().forEach(n=>{const r=t.node(n),i=e.node(n);i!==void 0?(r.fixorder=i._order,delete i._order):delete r.fixorder})},Zmt=(t,e)=>{t.nodes().forEach(n=>{var r;const i=t.node(n);if(i){const o=e.node(n);i.x=o.x,i.y=o.y,i._order=o.order,i._rank=o.rank,!((r=e.children(n))===null||r===void 0)&&r.length&&(i.width=o.width,i.height=o.height)}}),t.edges().forEach(n=>{const r=t.edge(n),i=e.edge(n);r.points=i?i.points:[],i&&i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height},Jmt=["nodesep","edgesep","ranksep","marginx","marginy"],Qmt={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},s3=["acyclicer","ranker","rankdir","align"],eyt=["width","height","layer","fixorder"],tyt={width:0,height:0},nyt=["minlen","weight","width","height","labeloffset"],ryt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},l3=["labelpos"],iyt=t=>{const e=new hh({multigraph:!0,compound:!0}),n=c3(t.graph()),r={};return s3?.forEach(i=>{n[i]!==void 0&&(r[i]=n[i])}),e.setGraph(Object.assign({},Qmt,u3(n,Jmt),r)),t.nodes().forEach(i=>{const o=c3(t.node(i)),a=Object.assign(Object.assign({},tyt),o),s=u3(a,eyt);e.setNode(i,s),e.setParent(i,t.parent(i))}),t.edges().forEach(i=>{const o=c3(t.edge(i)),a={};l3?.forEach(s=>{o[s]!==void 0&&(a[s]=o[s])}),e.setEdgeObj(i,Object.assign({},ryt,u3(o,nyt),a))}),e},oyt=t=>{const e=t.graph();e.ranksep||(e.ranksep=0),e.ranksep/=2,t.nodes().forEach(n=>{const r=t.node(n);isNaN(r.layer)||r.layer||(r.layer=0)}),t.edges().forEach(n=>{var r;const i=t.edge(n);i.minlen*=2,((r=i.labelpos)===null||r===void 0?void 0:r.toLowerCase())!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?i.width+=i.labeloffset:i.height+=i.labeloffset)})},ayt=t=>{t.edges().forEach(e=>{const n=t.edge(e);if(n.width&&n.height){const r=t.node(e.v),i=t.node(e.w),o={e,rank:(i.rank-r.rank)/2+r.rank};x_(t,"edge-proxy",o,"_ep")}})},syt=t=>{let e=0;t.nodes().forEach(n=>{var r,i;const o=t.node(n);o.borderTop&&(o.minRank=(r=t.node(o.borderTop))===null||r===void 0?void 0:r.rank,o.maxRank=(i=t.node(o.borderBottom))===null||i===void 0?void 0:i.rank,e=Math.max(e,o.maxRank||-1/0))}),t.graph().maxRank=e},lyt=t=>{t.nodes().forEach(e=>{const n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})},uyt=t=>{let e,n=0,r,i=0;const o=t.graph(),a=o.marginx||0,s=o.marginy||0,l=u=>{if(!u)return;const c=u.x,f=u.y,d=u.width,h=u.height;!isNaN(c)&&!isNaN(d)&&(e===void 0&&(e=c-d/2),e=Math.min(e,c-d/2),n=Math.max(n,c+d/2)),!isNaN(f)&&!isNaN(h)&&(r===void 0&&(r=f-h/2),r=Math.min(r,f-h/2),i=Math.max(i,f+h/2))};t.nodes().forEach(u=>{l(t.node(u))}),t.edges().forEach(u=>{const c=t.edge(u);c?.hasOwnProperty("x")&&l(c)}),e-=a,r-=s,t.nodes().forEach(u=>{const c=t.node(u);c&&(c.x-=e,c.y-=r)}),t.edges().forEach(u=>{var c;const f=t.edge(u);(c=f.points)===null||c===void 0||c.forEach(d=>{d.x-=e,d.y-=r}),f.hasOwnProperty("x")&&(f.x-=e),f.hasOwnProperty("y")&&(f.y-=r)}),o.width=n-e+a,o.height=i-r+s},cyt=t=>{t.edges().forEach(e=>{const n=t.edge(e),r=t.node(e.v),i=t.node(e.w);let o,a;n.points?(o=n.points[0],a=n.points[n.points.length-1]):(n.points=[],o=i,a=r),n.points.unshift(ZJ(r,o)),n.points.push(ZJ(i,a))})},fyt=t=>{t.edges().forEach(e=>{const n=t.edge(e);if(n?.hasOwnProperty("x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})},dyt=t=>{t.edges().forEach(e=>{var n;const r=t.edge(e);r.reversed&&((n=r.points)===null||n===void 0||n.reverse())})},hyt=t=>{t.nodes().forEach(e=>{var n,r,i;if(!((n=t.children(e))===null||n===void 0)&&n.length){const o=t.node(e),a=t.node(o.borderTop),s=t.node(o.borderBottom),l=t.node(o.borderLeft[((r=o.borderLeft)===null||r===void 0?void 0:r.length)-1]),u=t.node(o.borderRight[((i=o.borderRight)===null||i===void 0?void 0:i.length)-1]);o.width=Math.abs(u?.x-l?.x)||10,o.height=Math.abs(s?.y-a?.y)||10,o.x=(l?.x||0)+o.width/2,o.y=(a?.y||0)+o.height/2}}),t.nodes().forEach(e=>{var n;((n=t.node(e))===null||n===void 0?void 0:n.dummy)==="border"&&t.removeNode(e)})},pyt=t=>{t.edges().forEach(e=>{if(e.v===e.w){const n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdgeObj(e)}})},vyt=t=>{const e=lC(t);e?.forEach(n=>{let r=0;n?.forEach((i,o)=>{var a;const s=t.node(i);s.order=o+r,(a=s.selfEdges)===null||a===void 0||a.forEach(l=>{x_(t,"selfedge",{width:l.label.width,height:l.label.height,rank:s.rank,order:o+ ++r,e:l.e,label:l.label},"_se")}),delete s.selfEdges})})},gyt=t=>{t.nodes().forEach(e=>{const n=t.node(e);if(n.dummy==="selfedge"){const r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdgeObj(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{y:o,x:i+a},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})},u3=(t,e)=>{const n={};return e?.forEach(r=>{t[r]!==void 0&&(n[r]=+t[r])}),n},c3=(t={})=>{const e={};return Object.keys(t).forEach(n=>{e[n.toLowerCase()]=t[n]}),e},myt={layout:Kmt,util:{time:W0e,notime:q0e}};class dQ extends Nvt{constructor(e){super(),this.rankdir="TB",this.nodesep=50,this.ranksep=50,this.controlPoints=!1,this.sortByCombo=!1,this.edgeLabelSpace=!0,this.radial=!1,this.nodes=[],this.edges=[],this.onLayoutEnd=()=>{},this.layoutNode=n=>{const r=this,{nodes:i}=r,o=i.find(a=>a.id===n);return o?o.layout!==!1:!0},this.updateCfg(e)}getDefaultCfg(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}}execute(){var e,n,r,i;const o=this,{nodes:a,nodeSize:s,rankdir:l,combos:u,begin:c,radial:f,comboEdges:d=[],vedges:h=[]}=o;if(!a)return;const p=o.edges||[],v=new hh({multigraph:!0,compound:!0});o.nodeMap={};const g={};a.forEach(M=>{o.nodeMap[M.id]=M,M.comboId&&(g[M.comboId]=g[M.comboId]||[],g[M.comboId].push(M.id))});let m=[];const y={};!((e=o.nodeOrder)===null||e===void 0)&&e.length?(o.nodeOrder.forEach(M=>{y[M]=!0,m.push(o.nodeMap[M])}),a.forEach(M=>{y[M.id]||m.push(M)})):m=a;let b;s?VJ(s)?b=()=>s:b=()=>[s,s]:b=M=>M.size?VJ(M.size)?M.size:B0e(M.size)?[M.size.width||40,M.size.height||40]:[M.size,M.size]:[40,40];const w=zJ(o.ranksep,50,o.ranksepFunc),S=zJ(o.nodesep,50,o.nodesepFunc);let x=S,C=w;(l==="LR"||l==="RL")&&(x=w,C=S),v.setDefaultEdgeLabel(()=>({})),v.setGraph(o);const E={};this.sortByCombo&&u&&u.forEach(M=>{if(E[M.id]=M,M.collapsed){const D=b(M),L=C(M),I=x(M),R=D[0]+2*I,V=D[1]+2*L;v.setNode(M.id,{width:R,height:V})}M.parentId&&(E[M.parentId]||v.setNode(M.parentId,{}),v.setParent(M.id,M.parentId))}),m.filter(M=>M.layout!==!1).forEach(M=>{const D=b(M),L=C(M),I=x(M),R=D[0]+2*I,V=D[1]+2*L,P=M.layer;yP(P)?v.setNode(M.id,{width:R,height:V,layer:P}):v.setNode(M.id,{width:R,height:V}),this.sortByCombo&&M.comboId&&(E[M.comboId]||(E[M.comboId]={id:M.comboId},v.setNode(M.comboId,{})),v.setParent(M.id,M.comboId))}),p.forEach(M=>{const D=s0(M,"source"),L=s0(M,"target");this.layoutNode(D)&&this.layoutNode(L)&&v.setEdge(D,L,{weight:M.weight||1})}),(n=d?.concat(h||[]))===null||n===void 0||n.forEach(M=>{var D,L;const{source:I,target:R}=M,V=!((D=E[I])===null||D===void 0)&&D.collapsed?[I]:g[I]||[I],P=!((L=E[R])===null||L===void 0)&&L.collapsed?[R]:g[R]||[R];V.forEach(B=>{P.forEach(j=>{v.setEdge(B,j,{weight:M.weight||1})})})});let T;!((r=o.preset)===null||r===void 0)&&r.nodes&&(T=new hh({multigraph:!0,compound:!0}),o.preset.nodes.forEach(M=>{T?.setNode(M.id,M)})),myt.layout(v,{prevGraph:T,edgeLabelSpace:o.edgeLabelSpace,keepNodeOrder:!!o.nodeOrder,nodeOrder:o.nodeOrder});const A=[0,0];if(c){let M=1/0,D=1/0;v.nodes().forEach(L=>{const I=v.node(L);M>I.x&&(M=I.x),D>I.y&&(D=I.y)}),v.edges().forEach(L=>{var I;(I=v.edge(L).points)===null||I===void 0||I.forEach(V=>{M>V.x&&(M=V.x),D>V.y&&(D=V.y)})}),A[0]=c[0]-M,A[1]=c[1]-D}const k=l==="LR"||l==="RL";if(f){const{focusNode:M,ranksep:D,getRadialPos:L}=this,I=Bvt(M)?M:M?.id,R=I?(i=v.node(I))===null||i===void 0?void 0:i._rank:0,V=[],P=k?"y":"x",B=k?"height":"width";let j=1/0,G=-1/0;v.nodes().forEach(U=>{const ne=v.node(U);if(!o.nodeMap[U])return;const J=S(o.nodeMap[U]);if(R===0)V[ne._rank]||(V[ne._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),V[ne._rank].nodes.push(U),V[ne._rank].totalWidth+=J*2+ne[B],V[ne._rank].maxSize<Math.max(ne.width,ne.height)&&(V[ne._rank].maxSize=Math.max(ne.width,ne.height));else{const he=ne._rank-R;if(he===0)V[he]||(V[he]={nodes:[],totalWidth:0,maxSize:-1/0}),V[he].nodes.push(U),V[he].totalWidth+=J*2+ne[B],V[he].maxSize<Math.max(ne.width,ne.height)&&(V[he].maxSize=Math.max(ne.width,ne.height));else{const ye=Math.abs(he);V[ye]||(V[ye]={left:[],right:[],totalWidth:0,maxSize:-1/0}),V[ye].totalWidth+=J*2+ne[B],V[ye].maxSize<Math.max(ne.width,ne.height)&&(V[ye].maxSize=Math.max(ne.width,ne.height)),he<0?V[ye].left.push(U):V[ye].right.push(U)}}const Y=ne[P]-ne[B]/2-J,se=ne[P]+ne[B]/2+J;Y<j&&(j=Y),se>G&&(G=se)});let W=D||50;const Z={},ee=(G-j)/.9,oe=[(j+G-ee)*.5,(j+G+ee)*.5],ce=(U,ne,J=-1/0,Y=[0,1])=>{let se=J;return U.forEach(he=>{const ye=v.node(he);Z[he]=ne;const{x:_e,y:fe}=L(ye[P],oe,ee,ne,Y);if(!o.nodeMap[he])return;o.nodeMap[he].x=_e+A[0],o.nodeMap[he].y=fe+A[1],o.nodeMap[he]._order=ye._order;const Ce=w(o.nodeMap[he]);se<Ce&&(se=Ce)}),se};let X=!0;const H=0;V.forEach(U=>{var ne,J,Y,se,he,ye,_e;if(!(!((ne=U?.nodes)===null||ne===void 0)&&ne.length)&&!(!((J=U?.left)===null||J===void 0)&&J.length)&&!(!((Y=U?.right)===null||Y===void 0)&&Y.length))return;if(X&&U.nodes.length===1){const Ce=U.nodes[0];if(!o.nodeMap[Ce])return;o.nodeMap[Ce].x=A[0],o.nodeMap[Ce].y=A[1],Z[U.nodes[0]]=0,W=w(o.nodeMap[Ce]),X=!1;return}W=Math.max(W,U.totalWidth/(2*Math.PI));let fe=-1/0;if(R===0||!((se=U.nodes)===null||se===void 0)&&se.length)fe=ce(U.nodes,W,fe,[0,1]);else{const Ce=((he=U.left)===null||he===void 0?void 0:he.length)/(((ye=U.left)===null||ye===void 0?void 0:ye.length)+((_e=U.right)===null||_e===void 0?void 0:_e.length));fe=ce(U.left,W,fe,[0,Ce]),fe=ce(U.right,W,fe,[Ce+.05,1])}W+=fe,X=!1,H-U.maxSize}),v.edges().forEach(U=>{var ne,J,Y;const se=v.edge(U),he=p.findIndex(ye=>{const _e=s0(ye,"source"),fe=s0(ye,"target");return _e===U.v&&fe===U.w});if(!(he<=-1)&&o.edgeLabelSpace&&o.controlPoints&&p[he].type!=="loop"){const ye=P==="x"?"y":"x",_e=(ne=se?.points)===null||ne===void 0?void 0:ne.slice(1,se.points.length-1),fe=[],Ce=(J=v.node(U.v))===null||J===void 0?void 0:J[ye],Oe=Ce-((Y=v.node(U.w))===null||Y===void 0?void 0:Y[ye]),Ue=Z[U.v],qe=Ue-Z[U.w];_e?.forEach(ze=>{const ae=(ze[ye]-Ce)/Oe*qe+Ue,Fe=L(ze[P],oe,ee,ae);fe.push({x:Fe.x+A[0],y:Fe.y+A[1]})}),p[he].controlPoints=fe}})}else{const M=new Set,L=l==="BT"||l==="RL"?(P,B)=>B-P:(P,B)=>P-B;v.nodes().forEach(P=>{const B=v.node(P);if(!B)return;let j=this.nodeMap[P];j||(j=u?.find(G=>G.id===P)),j&&(j.x=B.x+A[0],j.y=B.y+A[1],j._order=B._order,M.add(k?j.x:j.y))});const I=Array.from(M).sort(L),R=k?(P,B)=>P.x!==B.x:(P,B)=>P.y!==B.y,V=k?(P,B,j)=>{const G=Math.max(B.y,j.y),W=Math.min(B.y,j.y);return P.filter(Z=>Z.y<=G&&Z.y>=W)}:(P,B,j)=>{const G=Math.max(B.x,j.x),W=Math.min(B.x,j.x);return P.filter(Z=>Z.x<=G&&Z.x>=W)};v.edges().forEach(P=>{var B;const j=v.edge(P),G=p.findIndex(W=>{const Z=s0(W,"source"),ee=s0(W,"target");return Z===P.v&&ee===P.w});if(!(G<=-1)&&o.edgeLabelSpace&&o.controlPoints&&p[G].type!=="loop"){(B=j?.points)===null||B===void 0||B.forEach(ee=>{ee.x+=A[0],ee.y+=A[1]});const W=o.nodeMap[P.v],Z=o.nodeMap[P.w];p[G].controlPoints=yyt(j?.points,W,Z,I,k,R,V)}})}return o.onLayoutEnd&&o.onLayoutEnd(),{nodes:a,edges:p}}getRadialPos(e,n,r,i,o=[0,1]){let a=(e-n[0])/r;a=a*(o[1]-o[0])+o[0];const s=a*2*Math.PI;return{x:Math.cos(s)*i,y:Math.sin(s)*i}}getType(){return"dagre"}}const yyt=(t,e,n,r,i,o,a)=>{let s=t?.slice(1,t.length-1)||[];if(e&&n){let{x:l,y:u}=e,{x:c,y:f}=n;if(i&&(l=e.y,u=e.x,c=n.y,f=n.x),f!==u&&l!==c){const d=r.indexOf(u),h=r[d+1];if(h){const g=s[0],m=i?{x:(u+h)/2,y:g?.y||c}:{x:g?.x||c,y:(u+h)/2};(!g||o(g,m))&&s.unshift(m)}const p=r.indexOf(f),v=Math.abs(p-d);if(v===1)s=a(s,e,n),s.length||s.push(i?{x:(u+f)/2,y:l}:{x:l,y:(u+f)/2});else if(v>1){const g=r[p-1];if(g){const m=s[s.length-1],y=i?{x:(f+g)/2,y:m?.y||c}:{x:m?.x||l,y:(f+g)/2};(!m||o(m,y))&&s.push(y)}}}}return s};var hQ,pQ,vQ,gQ;(function(t){t[t.META=0]="META",t[t.NODE=1]="NODE",t[t.BRIDGE=2]="BRIDGE"})(hQ||(hQ={})),(function(t){t[t.INCLUDE=0]="INCLUDE",t[t.EXCLUDE=1]="EXCLUDE",t[t.UNSPECIFIED=2]="UNSPECIFIED"})(pQ||(pQ={})),(function(t){t[t.META=0]="META",t[t.CORE=1]="CORE",t[t.BRIDGE=2]="BRIDGE"})(vQ||(vQ={})),(function(t){t[t.META=0]="META",t[t.OP=1]="OP",t[t.SERIES=2]="SERIES"})(gQ||(gQ={}));var ST=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zj(t,e){return t(e={exports:{}},e.exports),e.exports}var byt=function(){this.__data__=[],this.size=0},C_=function(t,e){return t===e||t!=t&&e!=e},tR=function(t,e){for(var n=t.length;n--;)if(C_(t[n][0],e))return n;return-1},_yt=Array.prototype.splice,wyt=function(t){var e=this.__data__,n=tR(e,t);return!(n<0)&&(n==e.length-1?e.pop():_yt.call(e,n,1),--this.size,!0)},Syt=function(t){var e=this.__data__,n=tR(e,t);return n<0?void 0:e[n][1]},xyt=function(t){return tR(this.__data__,t)>-1},Cyt=function(t,e){var n=this.__data__,r=tR(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function B0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}B0.prototype.clear=byt,B0.prototype.delete=wyt,B0.prototype.get=Syt,B0.prototype.has=xyt,B0.prototype.set=Cyt;var nR=B0,Eyt=function(){this.__data__=new nR,this.size=0},Tyt=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ayt=function(t){return this.__data__.get(t)},kyt=function(t){return this.__data__.has(t)},ibe=typeof ST=="object"&&ST&&ST.Object===Object&&ST,Myt=typeof self=="object"&&self&&self.Object===Object&&self,Xc=ibe||Myt||Function("return this")(),Xu=Xc.Symbol,obe=Object.prototype,Pyt=obe.hasOwnProperty,Oyt=obe.toString,gw=Xu?Xu.toStringTag:void 0,Iyt=function(t){var e=Pyt.call(t,gw),n=t[gw];try{t[gw]=void 0;var r=!0}catch{}var i=Oyt.call(t);return r&&(e?t[gw]=n:delete t[gw]),i},Ryt=Object.prototype.toString,Lyt=function(t){return Ryt.call(t)},mQ=Xu?Xu.toStringTag:void 0,Dv=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":mQ&&mQ in Object(t)?Iyt(t):Lyt(t)},Pl=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},yQ,I2=function(t){if(!Pl(t))return!1;var e=Dv(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},f3=Xc["__core-js_shared__"],bQ=(yQ=/[^.]+$/.exec(f3&&f3.keys&&f3.keys.IE_PROTO||""))?"Symbol(src)_1."+yQ:"",Dyt=function(t){return!!bQ&&bQ in t},Nyt=Function.prototype.toString,_y=function(t){if(t!=null){try{return Nyt.call(t)}catch{}try{return t+""}catch{}}return""},Byt=/^\[object .+?Constructor\]$/,$yt=Function.prototype,Fyt=Object.prototype,Vyt=$yt.toString,zyt=Fyt.hasOwnProperty,Hyt=RegExp("^"+Vyt.call(zyt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jyt=function(t){return!(!Pl(t)||Dyt(t))&&(I2(t)?Hyt:Byt).test(_y(t))},Gyt=function(t,e){return t?.[e]},wy=function(t,e){var n=Gyt(t,e);return jyt(n)?n:void 0},uC=wy(Xc,"Map"),cC=wy(Object,"create"),Uyt=function(){this.__data__=cC?cC(null):{},this.size=0},Wyt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qyt=Object.prototype.hasOwnProperty,Kyt=function(t){var e=this.__data__;if(cC){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return qyt.call(e,t)?e[t]:void 0},Yyt=Object.prototype.hasOwnProperty,Xyt=function(t){var e=this.__data__;return cC?e[t]!==void 0:Yyt.call(e,t)},Zyt=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=cC&&e===void 0?"__lodash_hash_undefined__":e,this};function $0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$0.prototype.clear=Uyt,$0.prototype.delete=Wyt,$0.prototype.get=Kyt,$0.prototype.has=Xyt,$0.prototype.set=Zyt;var _Q=$0,Jyt=function(){this.size=0,this.__data__={hash:new _Q,map:new(uC||nR),string:new _Q}},Qyt=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},rR=function(t,e){var n=t.__data__;return Qyt(e)?n[typeof e=="string"?"string":"hash"]:n.map},e0t=function(t){var e=rR(this,t).delete(t);return this.size-=e?1:0,e},t0t=function(t){return rR(this,t).get(t)},n0t=function(t){return rR(this,t).has(t)},r0t=function(t,e){var n=rR(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function F0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}F0.prototype.clear=Jyt,F0.prototype.delete=e0t,F0.prototype.get=t0t,F0.prototype.has=n0t,F0.prototype.set=r0t;var iR=F0,i0t=function(t,e){var n=this.__data__;if(n instanceof nR){var r=n.__data__;if(!uC||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new iR(r)}return n.set(t,e),this.size=n.size,this};function V0(t){var e=this.__data__=new nR(t);this.size=e.size}V0.prototype.clear=Eyt,V0.prototype.delete=Tyt,V0.prototype.get=Ayt,V0.prototype.has=kyt,V0.prototype.set=i0t;var Sb=V0,Hj=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},_P=(function(){try{var t=wy(Object,"defineProperty");return t({},"",{}),t}catch{}})(),oR=function(t,e,n){e=="__proto__"&&_P?_P(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},o0t=Object.prototype.hasOwnProperty,aR=function(t,e,n){var r=t[e];o0t.call(t,e)&&C_(r,n)&&(n!==void 0||e in t)||oR(t,e,n)},R2=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=void 0;l===void 0&&(l=t[s]),i?oR(n,s,l):aR(n,s,l)}return n},a0t=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Dc=function(t){return t!=null&&typeof t=="object"},wQ=function(t){return Dc(t)&&Dv(t)=="[object Arguments]"},abe=Object.prototype,s0t=abe.hasOwnProperty,l0t=abe.propertyIsEnumerable,k1=wQ((function(){return arguments})())?wQ:function(t){return Dc(t)&&s0t.call(t,"callee")&&!l0t.call(t,"callee")},Go=Array.isArray,u0t=function(){return!1},Km=zj((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n?Xc.Buffer:void 0,o=(i?i.isBuffer:void 0)||u0t;t.exports=o})),c0t=/^(?:0|[1-9]\d*)$/,sR=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&c0t.test(t))&&t>-1&&t%1==0&&t<e},jj=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},lo={};lo["[object Float32Array]"]=lo["[object Float64Array]"]=lo["[object Int8Array]"]=lo["[object Int16Array]"]=lo["[object Int32Array]"]=lo["[object Uint8Array]"]=lo["[object Uint8ClampedArray]"]=lo["[object Uint16Array]"]=lo["[object Uint32Array]"]=!0,lo["[object Arguments]"]=lo["[object Array]"]=lo["[object ArrayBuffer]"]=lo["[object Boolean]"]=lo["[object DataView]"]=lo["[object Date]"]=lo["[object Error]"]=lo["[object Function]"]=lo["[object Map]"]=lo["[object Number]"]=lo["[object Object]"]=lo["[object RegExp]"]=lo["[object Set]"]=lo["[object String]"]=lo["[object WeakMap]"]=!1;var f0t=function(t){return Dc(t)&&jj(t.length)&&!!lo[Dv(t)]},lR=function(t){return function(e){return t(e)}},M1=zj((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n&&ibe.process,o=(function(){try{var a=r&&r.require&&r.require("util").types;return a||i&&i.binding&&i.binding("util")}catch{}})();t.exports=o})),SQ=M1&&M1.isTypedArray,L2=SQ?lR(SQ):f0t,d0t=Object.prototype.hasOwnProperty,sbe=function(t,e){var n=Go(t),r=!n&&k1(t),i=!n&&!r&&Km(t),o=!n&&!r&&!i&&L2(t),a=n||r||i||o,s=a?a0t(t.length,String):[],l=s.length;for(var u in t)!e&&!d0t.call(t,u)||a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||sR(u,l))||s.push(u);return s},h0t=Object.prototype,uR=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||h0t)},lbe=function(t,e){return function(n){return t(e(n))}},p0t=lbe(Object.keys,Object),v0t=Object.prototype.hasOwnProperty,Gj=function(t){if(!uR(t))return p0t(t);var e=[];for(var n in Object(t))v0t.call(t,n)&&n!="constructor"&&e.push(n);return e},Rh=function(t){return t!=null&&jj(t.length)&&!I2(t)},Nv=function(t){return Rh(t)?sbe(t):Gj(t)},g0t=function(t,e){return t&&R2(e,Nv(e),t)},m0t=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},y0t=Object.prototype.hasOwnProperty,b0t=function(t){if(!Pl(t))return m0t(t);var e=uR(t),n=[];for(var r in t)(r!="constructor"||!e&&y0t.call(t,r))&&n.push(r);return n},Sy=function(t){return Rh(t)?sbe(t,!0):b0t(t)},_0t=function(t,e){return t&&R2(e,Sy(e),t)},ube=zj((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n?Xc.Buffer:void 0,o=i?i.allocUnsafe:void 0;t.exports=function(a,s){if(s)return a.slice();var l=a.length,u=o?o(l):new a.constructor(l);return a.copy(u),u}})),cbe=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},fbe=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o},dbe=function(){return[]},w0t=Object.prototype.propertyIsEnumerable,xQ=Object.getOwnPropertySymbols,Uj=xQ?function(t){return t==null?[]:(t=Object(t),fbe(xQ(t),(function(e){return w0t.call(t,e)})))}:dbe,S0t=function(t,e){return R2(t,Uj(t),e)},Wj=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},cR=lbe(Object.getPrototypeOf,Object),hbe=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Wj(e,Uj(t)),t=cR(t);return e}:dbe,x0t=function(t,e){return R2(t,hbe(t),e)},pbe=function(t,e,n){var r=e(t);return Go(t)?r:Wj(r,n(t))},BV=function(t){return pbe(t,Nv,Uj)},C0t=function(t){return pbe(t,Sy,hbe)},$V=wy(Xc,"DataView"),FV=wy(Xc,"Promise"),xb=wy(Xc,"Set"),VV=wy(Xc,"WeakMap"),E0t=_y($V),T0t=_y(uC),A0t=_y(FV),k0t=_y(xb),M0t=_y(VV),Mg=Dv;($V&&Mg(new $V(new ArrayBuffer(1)))!="[object DataView]"||uC&&Mg(new uC)!="[object Map]"||FV&&Mg(FV.resolve())!="[object Promise]"||xb&&Mg(new xb)!="[object Set]"||VV&&Mg(new VV)!="[object WeakMap]")&&(Mg=function(t){var e=Dv(t),n=e=="[object Object]"?t.constructor:void 0,r=n?_y(n):"";if(r)switch(r){case E0t:return"[object DataView]";case T0t:return"[object Map]";case A0t:return"[object Promise]";case k0t:return"[object Set]";case M0t:return"[object WeakMap]"}return e});var Ym=Mg,P0t=Object.prototype.hasOwnProperty,O0t=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&P0t.call(t,"index")&&(n.index=t.index,n.input=t.input),n},wP=Xc.Uint8Array,qj=function(t){var e=new t.constructor(t.byteLength);return new wP(e).set(new wP(t)),e},I0t=function(t,e){var n=e?qj(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},R0t=/\w*$/,L0t=function(t){var e=new t.constructor(t.source,R0t.exec(t));return e.lastIndex=t.lastIndex,e},CQ=Xu?Xu.prototype:void 0,EQ=CQ?CQ.valueOf:void 0,D0t=function(t){return EQ?Object(EQ.call(t)):{}},vbe=function(t,e){var n=e?qj(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},N0t=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return qj(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return I0t(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return vbe(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return L0t(t);case"[object Set]":return new r;case"[object Symbol]":return D0t(t)}},TQ=Object.create,gbe=(function(){function t(){}return function(e){if(!Pl(e))return{};if(TQ)return TQ(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})(),mbe=function(t){return typeof t.constructor!="function"||uR(t)?{}:gbe(cR(t))},B0t=function(t){return Dc(t)&&Ym(t)=="[object Map]"},AQ=M1&&M1.isMap,$0t=AQ?lR(AQ):B0t,F0t=function(t){return Dc(t)&&Ym(t)=="[object Set]"},kQ=M1&&M1.isSet,V0t=kQ?lR(kQ):F0t,ro={};ro["[object Arguments]"]=ro["[object Array]"]=ro["[object ArrayBuffer]"]=ro["[object DataView]"]=ro["[object Boolean]"]=ro["[object Date]"]=ro["[object Float32Array]"]=ro["[object Float64Array]"]=ro["[object Int8Array]"]=ro["[object Int16Array]"]=ro["[object Int32Array]"]=ro["[object Map]"]=ro["[object Number]"]=ro["[object Object]"]=ro["[object RegExp]"]=ro["[object Set]"]=ro["[object String]"]=ro["[object Symbol]"]=ro["[object Uint8Array]"]=ro["[object Uint8ClampedArray]"]=ro["[object Uint16Array]"]=ro["[object Uint32Array]"]=!0,ro["[object Error]"]=ro["[object Function]"]=ro["[object WeakMap]"]=!1;var ybe=function t(e,n,r,i,o,a){var s,l=1&n,u=2&n,c=4&n;if(s!==void 0)return s;if(!Pl(e))return e;var f=Go(e);if(f){if(s=O0t(e),!l)return cbe(e,s)}else{var d=Ym(e),h=d=="[object Function]"||d=="[object GeneratorFunction]";if(Km(e))return ube(e,l);if(d=="[object Object]"||d=="[object Arguments]"||h&&!o){if(s=u||h?{}:mbe(e),!l)return u?x0t(e,_0t(s,e)):S0t(e,g0t(s,e))}else{if(!ro[d])return o?e:{};s=N0t(e,d,l)}}a||(a=new Sb);var p=a.get(e);if(p)return p;a.set(e,s),V0t(e)?e.forEach((function(g){s.add(t(g,n,r,g,e,a))})):$0t(e)&&e.forEach((function(g,m){s.set(m,t(g,n,r,m,e,a))}));var v=f?void 0:(c?u?C0t:BV:u?Sy:Nv)(e);return Hj(v||e,(function(g,m){v&&(g=e[m=g]),aR(s,m,t(g,n,r,m,e,a))})),s},z0t=function(t){return ybe(t,4)},Kj=function(t){return function(){return t}},Yj=(function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[++i];if(n(o[l],l,o)===!1)break}return e}})(),Xj=function(t,e){return t&&Yj(t,e,Nv)},fR=(function(t,e){return function(n,r){if(n==null)return n;if(!Rh(n))return t(n,r);for(var i=n.length,o=-1,a=Object(n);++o<i&&r(a[o],o,a)!==!1;);return n}})(Xj),xy=function(t){return t},bbe=function(t){return typeof t=="function"?t:xy},_be=function(t,e){return(Go(t)?Hj:fR)(t,bbe(e))},wbe=_be,H0t=function(t,e){var n=[];return fR(t,(function(r,i,o){e(r,i,o)&&n.push(r)})),n},j0t=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},G0t=function(t){return this.__data__.has(t)};function Ok(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new iR;++e<n;)this.add(t[e])}Ok.prototype.add=Ok.prototype.push=j0t,Ok.prototype.has=G0t;var Sbe=Ok,U0t=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},xbe=function(t,e){return t.has(e)},Cbe=function(t,e,n,r,i,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,h=2&n?new Sbe:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var p=t[f],v=e[f];if(r)var g=a?r(v,p,f,e,t,o):r(p,v,f,t,e,o);if(g!==void 0){if(g)continue;d=!1;break}if(h){if(!U0t(e,(function(m,y){if(!xbe(h,y)&&(p===m||i(p,m,n,r,o)))return h.push(y)}))){d=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d},W0t=function(t){var e=-1,n=Array(t.size);return t.forEach((function(r,i){n[++e]=[i,r]})),n},Zj=function(t){var e=-1,n=Array(t.size);return t.forEach((function(r){n[++e]=r})),n},MQ=Xu?Xu.prototype:void 0,d3=MQ?MQ.valueOf:void 0,q0t=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new wP(t),new wP(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return C_(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=W0t;case"[object Set]":var l=1&r;if(s||(s=Zj),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=2,a.set(t,e);var c=Cbe(s(t),s(e),r,i,o,a);return a.delete(t),c;case"[object Symbol]":if(d3)return d3.call(t)==d3.call(e)}return!1},K0t=Object.prototype.hasOwnProperty,Y0t=function(t,e,n,r,i,o){var a=1&n,s=BV(t),l=s.length;if(l!=BV(e).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in e:K0t.call(e,c)))return!1}var f=o.get(t),d=o.get(e);if(f&&d)return f==e&&d==t;var h=!0;o.set(t,e),o.set(e,t);for(var p=a;++u<l;){var v=t[c=s[u]],g=e[c];if(r)var m=a?r(g,v,c,e,t,o):r(v,g,c,t,e,o);if(!(m===void 0?v===g||i(v,g,n,r,o):m)){h=!1;break}p||(p=c=="constructor")}if(h&&!p){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||typeof y=="function"&&y instanceof y&&typeof b=="function"&&b instanceof b||(h=!1)}return o.delete(t),o.delete(e),h},PQ=Object.prototype.hasOwnProperty,X0t=function(t,e,n,r,i,o){var a=Go(t),s=Go(e),l=a?"[object Array]":Ym(t),u=s?"[object Array]":Ym(e),c=(l=l=="[object Arguments]"?"[object Object]":l)=="[object Object]",f=(u=u=="[object Arguments]"?"[object Object]":u)=="[object Object]",d=l==u;if(d&&Km(t)){if(!Km(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new Sb),a||L2(t)?Cbe(t,e,n,r,i,o):q0t(t,e,l,n,r,i,o);if(!(1&n)){var h=c&&PQ.call(t,"__wrapped__"),p=f&&PQ.call(e,"__wrapped__");if(h||p){var v=h?t.value():t,g=p?e.value():e;return o||(o=new Sb),i(v,g,n,r,o)}}return!!d&&(o||(o=new Sb),Y0t(t,e,n,r,i,o))},Ebe=function t(e,n,r,i,o){return e===n||(e==null||n==null||!Dc(e)&&!Dc(n)?e!=e&&n!=n:X0t(e,n,r,i,t,o))},Z0t=function(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var s=(a=n[i])[0],l=t[s],u=a[1];if(a[2]){if(l===void 0&&!(s in t))return!1}else{var c=new Sb,f;if(!(f===void 0?Ebe(u,l,3,r,c):f))return!1}}return!0},Tbe=function(t){return t==t&&!Pl(t)},J0t=function(t){for(var e=Nv(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Tbe(i)]}return e},Abe=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},Q0t=function(t){var e=J0t(t);return e.length==1&&e[0][2]?Abe(e[0][0],e[0][1]):function(n){return n===t||Z0t(n,t,e)}},Xm=function(t){return typeof t=="symbol"||Dc(t)&&Dv(t)=="[object Symbol]"},ebt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tbt=/^\w*$/,Jj=function(t,e){if(Go(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Xm(t))||tbt.test(t)||!ebt.test(t)||e!=null&&t in Object(e)};function Qj(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Qj.Cache||iR),n}Qj.Cache=iR;var nbt=Qj,rbt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ibt=/\\(\\)?/g,obt=(function(t){var e=nbt(t,(function(r){return n.size===500&&n.clear(),r})),n=e.cache;return e})((function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rbt,(function(n,r,i,o){e.push(i?o.replace(ibt,"$1"):r||n)})),e})),Cb=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},OQ=Xu?Xu.prototype:void 0,IQ=OQ?OQ.toString:void 0,abt=function t(e){if(typeof e=="string")return e;if(Go(e))return Cb(e,t)+"";if(Xm(e))return IQ?IQ.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},kbe=function(t){return t==null?"":abt(t)},dR=function(t,e){return Go(t)?t:Jj(t,e)?[t]:obt(kbe(t))},D2=function(t){if(typeof t=="string"||Xm(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},hR=function(t,e){for(var n=0,r=(e=dR(e,t)).length;t!=null&&n<r;)t=t[D2(e[n++])];return n&&n==r?t:void 0},sbt=function(t,e,n){var r=t==null?void 0:hR(t,e);return r===void 0?n:r},lbt=function(t,e){return t!=null&&e in Object(t)},Mbe=function(t,e,n){for(var r=-1,i=(e=dR(e,t)).length,o=!1;++r<i;){var a=D2(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=t==null?0:t.length)&&jj(i)&&sR(a,i)&&(Go(t)||k1(t))},Pbe=function(t,e){return t!=null&&Mbe(t,e,lbt)},ubt=function(t,e){return Jj(t)&&Tbe(e)?Abe(D2(t),e):function(n){var r=sbt(n,t);return r===void 0&&r===e?Pbe(n,t):Ebe(e,r,3)}},Obe=function(t){return function(e){return e?.[t]}},cbt=function(t){return function(e){return hR(e,t)}},fbt=function(t){return Jj(t)?Obe(D2(t)):cbt(t)},Lh=function(t){return typeof t=="function"?t:t==null?xy:typeof t=="object"?Go(t)?ubt(t[0],t[1]):Q0t(t):fbt(t)},Ibe=function(t,e){return(Go(t)?fbe:H0t)(t,Lh(e))},dbt=Object.prototype.hasOwnProperty,hbt=function(t,e){return t!=null&&dbt.call(t,e)},Rbe=function(t,e){return t!=null&&Mbe(t,e,hbt)},pbt=Object.prototype.hasOwnProperty,vbt=function(t){if(t==null)return!0;if(Rh(t)&&(Go(t)||typeof t=="string"||typeof t.splice=="function"||Km(t)||L2(t)||k1(t)))return!t.length;var e=Ym(t);if(e=="[object Map]"||e=="[object Set]")return!t.size;if(uR(t))return!Gj(t).length;for(var n in t)if(pbt.call(t,n))return!1;return!0},Lbe=function(t){return t===void 0},Dbe=function(t,e){var n=-1,r=Rh(t)?Array(t.length):[];return fR(t,(function(i,o,a){r[++n]=e(i,o,a)})),r},Nbe=function(t,e){return(Go(t)?Cb:Dbe)(t,Lh(e))},gbt=function(t,e,n,r){var i=-1,o=t==null?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n},mbt=function(t,e,n,r,i){return i(t,(function(o,a,s){n=r?(r=!1,o):e(n,o,a,s)})),n},Bbe=function(t,e,n){var r=Go(t)?gbt:mbt,i=arguments.length<3;return r(t,Lh(e),n,i,fR)},ybt=function(t){return typeof t=="string"||!Go(t)&&Dc(t)&&Dv(t)=="[object String]"},bbt=Obe("length"),_bt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),wbt=function(t){return _bt.test(t)},Sbt="[\\ud800-\\udfff]",zV="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",HV="\\ud83c[\\udffb-\\udfff]",$be="[^\\ud800-\\udfff]",Fbe="(?:\\ud83c[\\udde6-\\uddff]){2}",Vbe="[\\ud800-\\udbff][\\udc00-\\udfff]",RQ="(?:"+zV+"|"+HV+")?",xbt="[\\ufe0e\\ufe0f]?"+RQ+("(?:\\u200d(?:"+[$be,Fbe,Vbe].join("|")+")[\\ufe0e\\ufe0f]?"+RQ+")*"),Cbt="(?:"+[$be+zV+"?",zV,Fbe,Vbe,Sbt].join("|")+")",LQ=RegExp(HV+"(?="+HV+")|"+Cbt+xbt,"g"),Ebt=function(t){for(var e=LQ.lastIndex=0;LQ.test(t);)++e;return e},Tbt=function(t){return wbt(t)?Ebt(t):bbt(t)},Abt=function(t){if(t==null)return 0;if(Rh(t))return ybt(t)?Tbt(t):t.length;var e=Ym(t);return e=="[object Map]"||e=="[object Set]"?t.size:Gj(t).length},kbt=function(t,e,n){var r=Go(t),i=r||Km(t)||L2(t);if(e=Lh(e),n==null){var o=t&&t.constructor;n=i?r?new o:[]:Pl(t)&&I2(o)?gbe(cR(t)):{}}return(i?Hj:Xj)(t,(function(a,s,l){return e(n,a,s,l)})),n},DQ=Xu?Xu.isConcatSpreadable:void 0,Mbt=function(t){return Go(t)||k1(t)||!!(DQ&&t&&t[DQ])},eG=function(e,n,r,i,o){var a=-1,s=e.length;for(r||(r=Mbt),o||(o=[]);++a<s;){var l=e[a];r(l)?Wj(o,l):i||(o[o.length]=l)}return o},Pbt=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},NQ=Math.max,zbe=function(t,e,n){return e=NQ(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=NQ(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),Pbt(t,this,s)}},Obt=_P?function(t,e){return _P(t,"toString",{configurable:!0,enumerable:!1,value:Kj(e),writable:!0})}:xy,Ibt=Date.now,Hbe=(function(t){var e=0,n=0;return function(){var r=Ibt(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}})(Obt),pR=function(t,e){return Hbe(zbe(t,e,xy),t+"")},jbe=function(t,e,n,r){for(var i=t.length,o=n+-1;++o<i;)if(e(t[o],o,t))return o;return-1},Rbt=function(t){return t!=t},Lbt=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1},Dbt=function(t,e,n){return e==e?Lbt(t,e,n):jbe(t,Rbt,n)},Nbt=function(t,e){return!!(t!=null&&t.length)&&Dbt(t,e,0)>-1},Bbt=function(){},$bt=xb&&1/Zj(new xb([,-0]))[1]==1/0?function(t){return new xb(t)}:Bbt,Fbt=function(t,e,n){var r=-1,i=Nbt,o=t.length,a=!0,s=[],l=s;if(o>=200){var u=$bt(t);if(u)return Zj(u);a=!1,i=xbe,l=new Sbe}else l=s;e:for(;++r<o;){var c=t[r],f=c;if(c=c!==0?c:0,a&&f==f){for(var d=l.length;d--;)if(l[d]===f)continue e;s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s},Gbe=function(t){return Dc(t)&&Rh(t)},Vbt=pR((function(t){return Fbt(eG(t,1,Gbe,!0))})),zbt=function(t,e){return Cb(e,(function(n){return t[n]}))},SP,Ube=function(t){return t==null?[]:zbt(t,Nv(t))};try{SP={clone:z0t,constant:Kj,each:wbe,filter:Ibe,has:Rbe,isArray:Go,isEmpty:vbt,isFunction:I2,isUndefined:Lbe,keys:Nv,map:Nbe,reduce:Bbe,size:Abt,transform:kbt,union:Vbt,values:Ube}}catch{}SP||(SP=window._);var Dn=SP,tG=fi;function fi(t){this._isDirected=!Dn.has(t,"directed")||t.directed,this._isMultigraph=!!Dn.has(t,"multigraph")&&t.multigraph,this._isCompound=!!Dn.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=Dn.constant(void 0),this._defaultEdgeLabelFn=Dn.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function BQ(t,e){t[e]?t[e]++:t[e]=1}function $Q(t,e){--t[e]||delete t[e]}function lS(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}return i+""+o+""+(Dn.isUndefined(r)?"\0":r)}function Hbt(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function h3(t,e){return lS(t,e.v,e.w,e.name)}fi.prototype._nodeCount=0,fi.prototype._edgeCount=0,fi.prototype.isDirected=function(){return this._isDirected},fi.prototype.isMultigraph=function(){return this._isMultigraph},fi.prototype.isCompound=function(){return this._isCompound},fi.prototype.setGraph=function(t){return this._label=t,this},fi.prototype.graph=function(){return this._label},fi.prototype.setDefaultNodeLabel=function(t){return Dn.isFunction(t)||(t=Dn.constant(t)),this._defaultNodeLabelFn=t,this},fi.prototype.nodeCount=function(){return this._nodeCount},fi.prototype.nodes=function(){return Dn.keys(this._nodes)},fi.prototype.sources=function(){var t=this;return Dn.filter(this.nodes(),(function(e){return Dn.isEmpty(t._in[e])}))},fi.prototype.sinks=function(){var t=this;return Dn.filter(this.nodes(),(function(e){return Dn.isEmpty(t._out[e])}))},fi.prototype.setNodes=function(t,e){var n=arguments,r=this;return Dn.each(t,(function(i){n.length>1?r.setNode(i,e):r.setNode(i)})),this},fi.prototype.setNode=function(t,e){return Dn.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},fi.prototype.node=function(t){return this._nodes[t]},fi.prototype.hasNode=function(t){return Dn.has(this._nodes,t)},fi.prototype.removeNode=function(t){var e=this;if(Dn.has(this._nodes,t)){var n=function(r){e.removeEdge(e._edgeObjs[r])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],Dn.each(this.children(t),(function(r){e.setParent(r)})),delete this._children[t]),Dn.each(Dn.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],Dn.each(Dn.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},fi.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Dn.isUndefined(e))e="\0";else{for(var n=e+="";!Dn.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},fi.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},fi.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!=="\0")return e}},fi.prototype.children=function(t){if(Dn.isUndefined(t)&&(t="\0"),this._isCompound){var e=this._children[t];if(e)return Dn.keys(e)}else{if(t==="\0")return this.nodes();if(this.hasNode(t))return[]}},fi.prototype.predecessors=function(t){var e=this._preds[t];if(e)return Dn.keys(e)},fi.prototype.successors=function(t){var e=this._sucs[t];if(e)return Dn.keys(e)},fi.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return Dn.union(e,this.successors(t))},fi.prototype.isLeaf=function(t){return(this.isDirected()?this.successors(t):this.neighbors(t)).length===0},fi.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;Dn.each(this._nodes,(function(o,a){t(a)&&e.setNode(a,o)})),Dn.each(this._edgeObjs,(function(o){e.hasNode(o.v)&&e.hasNode(o.w)&&e.setEdge(o,n.edge(o))}));var r={};function i(o){var a=n.parent(o);return a===void 0||e.hasNode(a)?(r[o]=a,a):a in r?r[a]:i(a)}return this._isCompound&&Dn.each(e.nodes(),(function(o){e.setParent(o,i(o))})),e},fi.prototype.setDefaultEdgeLabel=function(t){return Dn.isFunction(t)||(t=Dn.constant(t)),this._defaultEdgeLabelFn=t,this},fi.prototype.edgeCount=function(){return this._edgeCount},fi.prototype.edges=function(){return Dn.values(this._edgeObjs)},fi.prototype.setPath=function(t,e){var n=this,r=arguments;return Dn.reduce(t,(function(i,o){return r.length>1?n.setEdge(i,o,e):n.setEdge(i,o),o})),this},fi.prototype.setEdge=function(){var t,e,n,r,i=!1,o=arguments[0];typeof o=="object"&&o!==null&&"v"in o?(t=o.v,e=o.w,n=o.name,arguments.length===2&&(r=arguments[1],i=!0)):(t=o,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),t=""+t,e=""+e,Dn.isUndefined(n)||(n=""+n);var a=lS(this._isDirected,t,e,n);if(Dn.has(this._edgeLabels,a))return i&&(this._edgeLabels[a]=r),this;if(!Dn.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[a]=i?r:this._defaultEdgeLabelFn(t,e,n);var s=Hbt(this._isDirected,t,e,n);return t=s.v,e=s.w,Object.freeze(s),this._edgeObjs[a]=s,BQ(this._preds[e],t),BQ(this._sucs[t],e),this._in[e][a]=s,this._out[t][a]=s,this._edgeCount++,this},fi.prototype.edge=function(t,e,n){var r=arguments.length===1?h3(this._isDirected,arguments[0]):lS(this._isDirected,t,e,n);return this._edgeLabels[r]},fi.prototype.hasEdge=function(t,e,n){var r=arguments.length===1?h3(this._isDirected,arguments[0]):lS(this._isDirected,t,e,n);return Dn.has(this._edgeLabels,r)},fi.prototype.removeEdge=function(t,e,n){var r=arguments.length===1?h3(this._isDirected,arguments[0]):lS(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],$Q(this._preds[e],t),$Q(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},fi.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=Dn.values(n);return e?Dn.filter(r,(function(i){return i.v===e})):r}},fi.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=Dn.values(n);return e?Dn.filter(r,(function(i){return i.w===e})):r}},fi.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};var FQ={Graph:tG,version:"2.1.8"},jbt={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:Gbt(t),edges:Ubt(t)};return Dn.isUndefined(t.graph())||(e.value=Dn.clone(t.graph())),e},read:function(t){var e=new tG(t.options).setGraph(t.value);return Dn.each(t.nodes,(function(n){e.setNode(n.v,n.value),n.parent&&e.setParent(n.v,n.parent)})),Dn.each(t.edges,(function(n){e.setEdge({v:n.v,w:n.w,name:n.name},n.value)})),e}};function Gbt(t){return Dn.map(t.nodes(),(function(e){var n=t.node(e),r=t.parent(e),i={v:e};return Dn.isUndefined(n)||(i.value=n),Dn.isUndefined(r)||(i.parent=r),i}))}function Ubt(t){return Dn.map(t.edges(),(function(e){var n=t.edge(e),r={v:e.v,w:e.w};return Dn.isUndefined(e.name)||(r.name=e.name),Dn.isUndefined(n)||(r.value=n),r}))}var Wbt=function(t){var e,n={},r=[];function i(o){Dn.has(n,o)||(n[o]=!0,e.push(o),Dn.each(t.successors(o),i),Dn.each(t.predecessors(o),i))}return Dn.each(t.nodes(),(function(o){e=[],i(o),e.length&&r.push(e)})),r},Wbe=hu;function hu(){this._arr=[],this._keyIndices={}}hu.prototype.size=function(){return this._arr.length},hu.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},hu.prototype.has=function(t){return Dn.has(this._keyIndices,t)},hu.prototype.priority=function(t){var e=this._keyIndices[t];if(e!==void 0)return this._arr[e].priority},hu.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},hu.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!Dn.has(n,t)){var r=this._arr,i=r.length;return n[t]=i,r.push({key:t,priority:e}),this._decrease(i),!0}return!1},hu.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},hu.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},hu.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},hu.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;t!==0&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},hu.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e};var qbe=function(t,e,n,r){return(function(i,o,a,s){var l,u,c={},f=new Wbe,d=function(h){var p=h.v!==l?h.v:h.w,v=c[p],g=a(h),m=u.distance+g;if(g<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+g);m<v.distance&&(v.distance=m,v.predecessor=l,f.decrease(p,m))};for(i.nodes().forEach((function(h){var p=h===o?0:Number.POSITIVE_INFINITY;c[h]={distance:p},f.add(h,p)}));f.size()>0&&(l=f.removeMin(),(u=c[l]).distance!==Number.POSITIVE_INFINITY);)s(l).forEach(d);return c})(t,String(e),n||qbt,r||function(i){return t.outEdges(i)})},qbt=Dn.constant(1),Kbt=function(t,e,n){return Dn.transform(t.nodes(),(function(r,i){r[i]=qbe(t,i,e,n)}),{})},Kbe=function(t){var e=0,n=[],r={},i=[];function o(a){var s=r[a]={onStack:!0,lowlink:e,index:e++};if(n.push(a),t.successors(a).forEach((function(c){Dn.has(r,c)?r[c].onStack&&(s.lowlink=Math.min(s.lowlink,r[c].index)):(o(c),s.lowlink=Math.min(s.lowlink,r[c].lowlink))})),s.lowlink===s.index){var l,u=[];do l=n.pop(),r[l].onStack=!1,u.push(l);while(a!==l);i.push(u)}}return t.nodes().forEach((function(a){Dn.has(r,a)||o(a)})),i},Ybt=function(t){return Dn.filter(Kbe(t),(function(e){return e.length>1||e.length===1&&t.hasEdge(e[0],e[0])}))},Xbt=function(t,e,n){return(function(r,i,o){var a={},s=r.nodes();return s.forEach((function(l){a[l]={},a[l][l]={distance:0},s.forEach((function(u){l!==u&&(a[l][u]={distance:Number.POSITIVE_INFINITY})})),o(l).forEach((function(u){var c=u.v===l?u.w:u.v,f=i(u);a[l][c]={distance:f,predecessor:l}}))})),s.forEach((function(l){var u=a[l];s.forEach((function(c){var f=a[c];s.forEach((function(d){var h=f[l],p=u[d],v=f[d],g=h.distance+p.distance;g<v.distance&&(v.distance=g,v.predecessor=p.predecessor)}))}))})),a})(t,e||Zbt,n||function(r){return t.outEdges(r)})},Zbt=Dn.constant(1),p3=Ybe;function Ybe(t){var e={},n={},r=[];if(Dn.each(t.sinks(),(function i(o){if(Dn.has(n,o))throw new xP;Dn.has(e,o)||(n[o]=!0,e[o]=!0,Dn.each(t.predecessors(o),i),delete n[o],r.push(o))})),Dn.size(e)!==t.nodeCount())throw new xP;return r}function xP(){}Ybe.CycleException=xP,xP.prototype=new Error;var VQ=function(t,e,n){Dn.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],o={};return Dn.each(e,(function(a){if(!t.hasNode(a))throw new Error("Graph does not have node: "+a);Xbe(t,a,n==="post",o,r,i)})),i};function Xbe(t,e,n,r,i,o){Dn.has(r,e)||(r[e]=!0,n||o.push(e),Dn.each(i(e),(function(a){Xbe(t,a,n,r,i,o)})),n&&o.push(e))}var CP,Jbt={Graph:FQ.Graph,json:jbt,alg:{components:Wbt,dijkstra:qbe,dijkstraAll:Kbt,findCycles:Ybt,floydWarshall:Xbt,isAcyclic:function(t){try{p3(t)}catch(e){if(e instanceof p3.CycleException)return!1;throw e}return!0},postorder:function(t,e){return VQ(t,e,"post")},preorder:function(t,e){return VQ(t,e,"pre")},prim:function(t,e){var n,r=new tG,i={},o=new Wbe;function a(l){var u=l.v===n?l.w:l.v,c=o.priority(u);if(c!==void 0){var f=e(l);f<c&&(i[u]=n,o.decrease(u,f))}}if(t.nodeCount()===0)return r;Dn.each(t.nodes(),(function(l){o.add(l,Number.POSITIVE_INFINITY),r.setNode(l)})),o.decrease(t.nodes()[0],0);for(var s=!1;o.size()>0;){if(n=o.removeMin(),Dn.has(i,n))r.setEdge(n,i[n]);else{if(s)throw new Error("Input graph is not connected: "+t);s=!0}t.nodeEdges(n).forEach(a)}return r},tarjan:Kbe,topsort:p3},version:FQ.version};try{CP=Jbt}catch{}CP||(CP=window.graphlib);var ud=CP,Qbt=function(t){return ybe(t,5)},fC=function(t,e,n){if(!Pl(n))return!1;var r=typeof e;return!!(r=="number"?Rh(n)&&sR(e,n.length):r=="string"&&e in n)&&C_(n[e],t)},Zbe=Object.prototype,e1t=Zbe.hasOwnProperty,t1t=pR((function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&fC(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=Sy(o),s=-1,l=a.length;++s<l;){var u=a[s],c=t[u];(c===void 0||C_(c,Zbe[u])&&!e1t.call(t,u))&&(t[u]=o[u])}return t})),n1t=function(t){return function(e,n,r){var i=Object(e);if(!Rh(e)){var o=Lh(n);e=Nv(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}},r1t=/^\s+|\s+$/g,i1t=/^[-+]0x[0-9a-f]+$/i,o1t=/^0b[01]+$/i,a1t=/^0o[0-7]+$/i,s1t=parseInt,l1t=function(t){if(typeof t=="number")return t;if(Xm(t))return NaN;if(Pl(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Pl(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(r1t,"");var n=o1t.test(t);return n||a1t.test(t)?s1t(t.slice(2),n?2:8):i1t.test(t)?NaN:+t},Ik=function(t){return t?(t=l1t(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:t===0?t:0},u1t=function(t){var e=Ik(t),n=e%1;return e==e?n?e-n:e:0},c1t=Math.max,f1t=n1t((function(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:u1t(n);return i<0&&(i=c1t(r+i,0)),jbe(t,Lh(e),i)})),Jbe=function(t){return t!=null&&t.length?eG(t):[]},d1t=function(t,e){return t==null?t:Yj(t,bbe(e),Sy)},h1t=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},p1t=function(t,e){var n={};return e=Lh(e),Xj(t,(function(r,i,o){oR(n,i,e(r,i,o))})),n},nG=function(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a==a&&!Xm(a):n(a,s)))var s=a,l=o}return l},v1t=function(t,e){return t>e},g1t=function(t){return t&&t.length?nG(t,xy,v1t):void 0},jV=function(t,e,n){(n!==void 0&&!C_(t[e],n)||n===void 0&&!(e in t))&&oR(t,e,n)},m1t=Function.prototype,y1t=Object.prototype,Qbe=m1t.toString,b1t=y1t.hasOwnProperty,_1t=Qbe.call(Object),w1t=function(t){if(!Dc(t)||Dv(t)!="[object Object]")return!1;var e=cR(t);if(e===null)return!0;var n=b1t.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Qbe.call(n)==_1t},zQ=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},S1t=function(t){return R2(t,Sy(t))},x1t=function(t,e,n,r,i,o,a){var s=zQ(t,n),l=zQ(e,n),u=a.get(l);if(u)jV(t,n,u);else{var c=void 0,f=c===void 0;if(f){var d=Go(l),h=!d&&Km(l),p=!d&&!h&&L2(l);c=l,d||h||p?Go(s)?c=s:Gbe(s)?c=cbe(s):h?(f=!1,c=ube(l,!0)):p?(f=!1,c=vbe(l,!0)):c=[]:w1t(l)||k1(l)?(c=s,k1(s)?c=S1t(s):Pl(s)&&!I2(s)||(c=mbe(l))):f=!1}f&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),jV(t,n,c)}},C1t=function t(e,n,r,i,o){e!==n&&Yj(n,(function(a,s){if(o||(o=new Sb),Pl(a))x1t(e,n,s,r,t,i,o);else{var l=void 0;l===void 0&&(l=a),jV(e,s,l)}}),Sy)},E1t=(function(t){return pR((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&fC(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e}))})((function(t,e,n){C1t(t,e,n)})),e1e=function(t,e){return t<e},T1t=function(t){return t&&t.length?nG(t,xy,e1e):void 0},A1t=function(t,e){return t&&t.length?nG(t,Lh(e),e1e):void 0},k1t=function(){return Xc.Date.now()},M1t=function(t,e,n,r){if(!Pl(t))return t;for(var i=-1,o=(e=dR(e,t)).length,a=o-1,s=t;s!=null&&++i<o;){var l=D2(e[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var c=s[l];(u=void 0)==void 0&&(u=Pl(c)?c:sR(e[i+1])?[]:{})}aR(s,l,u),s=s[l]}return t},P1t=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=hR(t,a);n(s,a)&&M1t(o,dR(a,t),s)}return o},O1t=function(t,e){return P1t(t,e,(function(n,r){return Pbe(t,r)}))},I1t=(function(t){return Hbe(zbe(t,void 0,Jbe),t+"")})((function(t,e){return t==null?{}:O1t(t,e)})),R1t=Math.ceil,L1t=Math.max,D1t=function(t,e,n,r){for(var i=-1,o=L1t(R1t((e-t)/(n||1)),0),a=Array(o);o--;)a[++i]=t,t+=n;return a},N1t=(function(t){return function(e,n,r){return r&&typeof r!="number"&&fC(e,n,r)&&(n=r=void 0),e=Ik(e),n===void 0?(n=e,e=0):n=Ik(n),r=r===void 0?e<n?1:-1:Ik(r),D1t(e,n,r)}})(),B1t=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t},$1t=function(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t==t,o=Xm(t),a=e!==void 0,s=e===null,l=e==e,u=Xm(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0},F1t=function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=$1t(i[r],o[r]);if(l)return r>=s?l:l*(n[r]=="desc"?-1:1)}return t.index-e.index},V1t=function(t,e,n){e=e.length?Cb(e,(function(o){return Go(o)?function(a){return hR(a,o.length===1?o[0]:o)}:o})):[xy];var r=-1;e=Cb(e,lR(Lh));var i=Dbe(t,(function(o,a,s){return{criteria:Cb(e,(function(l){return l(o)})),index:++r,value:o}}));return B1t(i,(function(o,a){return F1t(o,a,n)}))},z1t=pR((function(t,e){if(t==null)return[];var n=e.length;return n>1&&fC(t,e[0],e[1])?e=[]:n>2&&fC(e[0],e[1],e[2])&&(e=[e[0]]),V1t(t,eG(e),[])})),H1t=0,j1t=function(t){var e=++H1t;return kbe(t)+e},G1t=function(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a},EP,U1t=function(t,e){return G1t(t||[],e||[],aR)};try{EP={cloneDeep:Qbt,constant:Kj,defaults:t1t,each:wbe,filter:Ibe,find:f1t,flatten:Jbe,forEach:_be,forIn:d1t,has:Rbe,isUndefined:Lbe,last:h1t,map:Nbe,mapValues:p1t,max:g1t,merge:E1t,min:T1t,minBy:A1t,now:k1t,pick:I1t,range:N1t,reduce:Bbe,sortBy:z1t,uniqueId:j1t,values:Ube,zipObject:U1t}}catch{}EP||(EP=window._);var W1t=EP;ud.Graph;W1t.constant(1);ud.Graph;ud.Graph;ud.alg.preorder;ud.alg.postorder;ud.Graph;ud.Graph;ud.Graph;ud.Graph;ud.Graph;function dC(t){"@babel/helpers - typeof";return dC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dC(t)}function q1t(t,e){if(dC(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dC(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K1t(t){var e=q1t(t,"string");return dC(e)=="symbol"?e:e+""}function xn(t,e,n){return(e=K1t(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v3,HQ;function t1e(){if(HQ)return v3;HQ=1;var t=typeof K0=="object"&&K0&&K0.Object===Object&&K0;return v3=t,v3}var g3,jQ;function Y1t(){if(jQ)return g3;jQ=1;var t=t1e(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return g3=n,g3}var m3,GQ;function n1e(){if(GQ)return m3;GQ=1;var t=Y1t(),e=t.Symbol;return m3=e,m3}var y3,UQ;function X1t(){if(UQ)return y3;UQ=1;var t=n1e(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(a){var s=n.call(a,i),l=a[i];try{a[i]=void 0;var u=!0}catch{}var c=r.call(a);return u&&(s?a[i]=l:delete a[i]),c}return y3=o,y3}var b3,WQ;function Z1t(){if(WQ)return b3;WQ=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return b3=n,b3}var _3,qQ;function rG(){if(qQ)return _3;qQ=1;var t=n1e(),e=X1t(),n=Z1t(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?e(s):n(s)}return _3=a,_3}var w3,KQ;function J1t(){if(KQ)return w3;KQ=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return w3=e,w3}var S3,YQ;function iG(){if(YQ)return S3;YQ=1;function t(e){return e!=null&&typeof e=="object"}return S3=t,S3}var x3,XQ;function Q1t(){if(XQ)return x3;XQ=1;var t=rG(),e=J1t(),n=iG(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",p="[object String]",v="[object WeakMap]",g="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",w="[object Int8Array]",S="[object Int16Array]",x="[object Int32Array]",C="[object Uint8Array]",E="[object Uint8ClampedArray]",T="[object Uint16Array]",A="[object Uint32Array]",k={};k[y]=k[b]=k[w]=k[S]=k[x]=k[C]=k[E]=k[T]=k[A]=!0,k[r]=k[i]=k[g]=k[o]=k[m]=k[a]=k[s]=k[l]=k[u]=k[c]=k[f]=k[d]=k[h]=k[p]=k[v]=!1;function M(D){return n(D)&&e(D.length)&&!!k[t(D)]}return x3=M,x3}var C3,ZQ;function e_t(){if(ZQ)return C3;ZQ=1;function t(e){return function(n){return e(n)}}return C3=t,C3}var uS={exports:{}};uS.exports;var JQ;function t_t(){return JQ||(JQ=1,(function(t,e){var n=t1e(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=s})(uS,uS.exports)),uS.exports}var E3,QQ;function n_t(){if(QQ)return E3;QQ=1;var t=Q1t(),e=e_t(),n=t_t(),r=n&&n.isTypedArray,i=r?e(r):t;return E3=i,E3}n_t();var T3,eee;function r_t(){if(eee)return T3;eee=1;var t=rG(),e=iG(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return T3=r,T3}r_t();var A3={exports:{}},k3={exports:{}},tee;function r1e(){return tee||(tee=1,(function(t){function e(n,r){this.v=n,this.k=r}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(k3)),k3.exports}var M3={exports:{}},P3={exports:{}},nee;function i1e(){return nee||(nee=1,(function(t){function e(n,r,i,o){var a=Object.defineProperty;try{a({},"",{})}catch{a=0}t.exports=e=function(l,u,c,f){function d(h,p){e(l,h,function(v){return this._invoke(h,p,v)})}u?a?a(l,u,{value:c,enumerable:!f,configurable:!f,writable:!f}):l[u]=c:(d("next",0),d("throw",1),d("return",2))},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r,i,o)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(P3)),P3.exports}var ree;function o1e(){return ree||(ree=1,(function(t){var e=i1e();function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var r,i,o=typeof Symbol=="function"?Symbol:{},a=o.iterator||"@@iterator",s=o.toStringTag||"@@toStringTag";function l(g,m,y,b){var w=m&&m.prototype instanceof c?m:c,S=Object.create(w.prototype);return e(S,"_invoke",(function(x,C,E){var T,A,k,M=0,D=E||[],L=!1,I={p:0,n:0,v:r,a:R,f:R.bind(r,4),d:function(P,B){return T=P,A=0,k=r,I.n=B,u}};function R(V,P){for(A=V,k=P,i=0;!L&&M&&!B&&i<D.length;i++){var B,j=D[i],G=I.p,W=j[2];V>3?(B=W===P)&&(k=j[(A=j[4])?5:(A=3,3)],j[4]=j[5]=r):j[0]<=G&&((B=V<2&&G<j[1])?(A=0,I.v=P,I.n=j[1]):G<W&&(B=V<3||j[0]>P||P>W)&&(j[4]=V,j[5]=P,I.n=W,A=0))}if(B||V>1)return u;throw L=!0,P}return function(V,P,B){if(M>1)throw TypeError("Generator is already running");for(L&&P===1&&R(P,B),A=P,k=B;(i=A<2?r:k)||!L;){T||(A?A<3?(A>1&&(I.n=-1),R(A,k)):I.n=k:I.v=k);try{if(M=2,T){if(A||(V="next"),i=T[V]){if(!(i=i.call(T,k)))throw TypeError("iterator result is not an object");if(!i.done)return i;k=i.value,A<2&&(A=0)}else A===1&&(i=T.return)&&i.call(T),A<2&&(k=TypeError("The iterator does not provide a '"+V+"' method"),A=1);T=r}else if((i=(L=I.n<0)?k:x.call(C,I))!==u)break}catch(j){T=r,A=1,k=j}finally{M=1}}return{value:i,done:L}}})(g,y,b),!0),S}var u={};function c(){}function f(){}function d(){}i=Object.getPrototypeOf;var h=[][a]?i(i([][a]())):(e(i={},a,function(){return this}),i),p=d.prototype=c.prototype=Object.create(h);function v(g){return Object.setPrototypeOf?Object.setPrototypeOf(g,d):(g.__proto__=d,e(g,s,"GeneratorFunction")),g.prototype=Object.create(p),g}return f.prototype=d,e(p,"constructor",d),e(d,"constructor",f),f.displayName="GeneratorFunction",e(d,s,"GeneratorFunction"),e(p),e(p,s,"Generator"),e(p,a,function(){return this}),e(p,"toString",function(){return"[object Generator]"}),(t.exports=n=function(){return{w:l,m:v}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(M3)),M3.exports}var O3={exports:{}},I3={exports:{}},R3={exports:{}},iee;function a1e(){return iee||(iee=1,(function(t){var e=r1e(),n=i1e();function r(i,o){function a(l,u,c,f){try{var d=i[l](u),h=d.value;return h instanceof e?o.resolve(h.v).then(function(p){a("next",p,c,f)},function(p){a("throw",p,c,f)}):o.resolve(h).then(function(p){d.value=p,c(d)},function(p){return a("throw",p,c,f)})}catch(p){f(p)}}var s;this.next||(n(r.prototype),n(r.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),n(this,"_invoke",function(l,u,c){function f(){return new o(function(d,h){a(l,c,d,h)})}return s=s?s.then(f,f):f()},!0)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(R3)),R3.exports}var oee;function s1e(){return oee||(oee=1,(function(t){var e=o1e(),n=a1e();function r(i,o,a,s,l){return new n(e().w(i,o,a,s),l||Promise)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(I3)),I3.exports}var aee;function i_t(){return aee||(aee=1,(function(t){var e=s1e();function n(r,i,o,a,s){var l=e(r,i,o,a,s);return l.next().then(function(u){return u.done?u.value:l.next()})}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(O3)),O3.exports}var L3={exports:{}},see;function o_t(){return see||(see=1,(function(t){function e(n){var r=Object(n),i=[];for(var o in r)i.unshift(o);return function a(){for(;i.length;)if((o=i.pop())in r)return a.value=o,a.done=!1,a;return a.done=!0,a}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(L3)),L3.exports}var D3={exports:{}},N3={exports:{}},lee;function a_t(){return lee||(lee=1,(function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(N3)),N3.exports}var uee;function s_t(){return uee||(uee=1,(function(t){var e=a_t().default;function n(r){if(r!=null){var i=r[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],o=0;if(i)return i.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length))return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}}}throw new TypeError(e(r)+" is not iterable")}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(D3)),D3.exports}var cee;function l_t(){return cee||(cee=1,(function(t){var e=r1e(),n=o1e(),r=i_t(),i=s1e(),o=a1e(),a=o_t(),s=s_t();function l(){var u=n(),c=u.m(l),f=(Object.getPrototypeOf?Object.getPrototypeOf(c):c.__proto__).constructor;function d(v){var g=typeof v=="function"&&v.constructor;return!!g&&(g===f||(g.displayName||g.name)==="GeneratorFunction")}var h={throw:1,return:2,break:3,continue:3};function p(v){var g,m;return function(y){g||(g={stop:function(){return m(y.a,2)},catch:function(){return y.v},abrupt:function(w,S){return m(y.a,h[w],S)},delegateYield:function(w,S,x){return g.resultName=S,m(y.d,s(w),x)},finish:function(w){return m(y.f,w)}},m=function(w,S,x){y.p=g.prev,y.n=g.next;try{return w(S,x)}finally{g.next=y.n}}),g.resultName&&(g[g.resultName]=y.v,g.resultName=void 0),g.sent=y.v,g.next=y.n;try{return v.call(this,g)}finally{y.p=g.prev,y.n=g.next}}}return(t.exports=l=function(){return{wrap:function(m,y,b,w){return u.w(p(m),y,b,w&&w.reverse())},isGeneratorFunction:d,mark:u.m,awrap:function(m,y){return new e(m,y)},AsyncIterator:o,async:function(m,y,b,w,S){return(d(y)?i:r)(p(m),y,b,w,S)},keys:a,values:s}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports})(A3)),A3.exports}var B3,fee;function u_t(){if(fee)return B3;fee=1;var t=l_t()();B3=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}return B3}u_t();var yn;(function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.MAX_EXT=32776]="MAX_EXT",t[t.MIN_EXT=32775]="MIN_EXT",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.CULL_FACE=2884]="CULL_FACE",t[t.BLEND=3042]="BLEND",t[t.DITHER=3024]="DITHER",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.TEXTURE1=33985]="TEXTURE1",t[t.TEXTURE2=33986]="TEXTURE2",t[t.TEXTURE3=33987]="TEXTURE3",t[t.TEXTURE4=33988]="TEXTURE4",t[t.TEXTURE5=33989]="TEXTURE5",t[t.TEXTURE6=33990]="TEXTURE6",t[t.TEXTURE7=33991]="TEXTURE7",t[t.TEXTURE8=33992]="TEXTURE8",t[t.TEXTURE9=33993]="TEXTURE9",t[t.TEXTURE10=33994]="TEXTURE10",t[t.TEXTURE11=33995]="TEXTURE11",t[t.TEXTURE12=33996]="TEXTURE12",t[t.TEXTURE13=33997]="TEXTURE13",t[t.TEXTURE14=33998]="TEXTURE14",t[t.TEXTURE15=33999]="TEXTURE15",t[t.TEXTURE16=34e3]="TEXTURE16",t[t.TEXTURE17=34001]="TEXTURE17",t[t.TEXTURE18=34002]="TEXTURE18",t[t.TEXTURE19=34003]="TEXTURE19",t[t.TEXTURE20=34004]="TEXTURE20",t[t.TEXTURE21=34005]="TEXTURE21",t[t.TEXTURE22=34006]="TEXTURE22",t[t.TEXTURE23=34007]="TEXTURE23",t[t.TEXTURE24=34008]="TEXTURE24",t[t.TEXTURE25=34009]="TEXTURE25",t[t.TEXTURE26=34010]="TEXTURE26",t[t.TEXTURE27=34011]="TEXTURE27",t[t.TEXTURE28=34012]="TEXTURE28",t[t.TEXTURE29=34013]="TEXTURE29",t[t.TEXTURE30=34014]="TEXTURE30",t[t.TEXTURE31=34015]="TEXTURE31",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t[t.COPY_SRC=1]="COPY_SRC",t[t.COPY_DST=2]="COPY_DST",t[t.SAMPLED=4]="SAMPLED",t[t.STORAGE=8]="STORAGE",t[t.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(yn||(yn={}));var dee;(function(t){t.Void="Void",t.Boolean="Boolean",t.Float="Float",t.Uint32="Uint32",t.Int32="Int32",t.Vector="Vector",t.Vector2Float="vec2<f32>",t.Vector3Float="vec3<f32>",t.Vector4Float="vec4<f32>",t.Vector2Boolean="vec2<bool>",t.Vector3Boolean="vec3<bool>",t.Vector4Boolean="vec4<bool>",t.Vector2Uint="vec2<u32>",t.Vector3Uint="vec3<u32>",t.Vector4Uint="vec4<u32>",t.Vector2Int="vec2<i32>",t.Vector3Int="vec3<i32>",t.Vector4Int="vec4<i32>",t.Matrix="Matrix",t.Matrix3x3Float="mat3x3<f32>",t.Matrix4x4Float="mat4x4<i32>",t.Struct="Struct",t.FloatArray="Float[]",t.Vector4FloatArray="vec4<f32>[]"})(dee||(dee={}));var hee;(function(t){t.Program="Program",t.Identifier="Identifier",t.VariableDeclaration="VariableDeclaration",t.BlockStatement="BlockStatement",t.ReturnStatement="ReturnStatement",t.FunctionDeclaration="FunctionDeclaration",t.VariableDeclarator="VariableDeclarator",t.AssignmentExpression="AssignmentExpression",t.LogicalExpression="LogicalExpression",t.BinaryExpression="BinaryExpression",t.ArrayExpression="ArrayExpression",t.UnaryExpression="UnaryExpression",t.UpdateExpression="UpdateExpression",t.FunctionExpression="FunctionExpression",t.MemberExpression="MemberExpression",t.ConditionalExpression="ConditionalExpression",t.ExpressionStatement="ExpressionStatement",t.CallExpression="CallExpression",t.NumThreadStatement="NumThreadStatement",t.StorageStatement="StorageStatement",t.DoWhileStatement="DoWhileStatement",t.WhileStatement="WhileStatement",t.ForStatement="ForStatement",t.BreakStatement="BreakStatement",t.ContinueStatement="ContinueStatement",t.IfStatement="IfStatement",t.ImportedFunctionStatement="ImportedFunctionStatement"})(hee||(hee={}));var pee;(function(t){t.Input="Input",t.Output="Output",t.Uniform="Uniform",t.Workgroup="Workgroup",t.UniformConstant="UniformConstant",t.Image="Image",t.StorageBuffer="StorageBuffer",t.Private="Private",t.Function="Function"})(pee||(pee={}));var vee;(function(t){t.GLSL100="GLSL100",t.GLSL450="GLSL450",t.WGSL="WGSL"})(vee||(vee={}));var Rk={exports:{}},c_t=Rk.exports,gee;function f_t(){return gee||(gee=1,(function(t,e){(function(n,r){t.exports=r()})(c_t,(function(){var n=function(te){return te instanceof Uint8Array||te instanceof Uint16Array||te instanceof Uint32Array||te instanceof Int8Array||te instanceof Int16Array||te instanceof Int32Array||te instanceof Float32Array||te instanceof Float64Array||te instanceof Uint8ClampedArray},r=function(te,be){for(var ke=Object.keys(be),ot=0;ot<ke.length;++ot)te[ke[ot]]=be[ke[ot]];return te},i=`
`;function o(te){return typeof atob<"u"?atob(te):"base64:"+te}function a(te){var be=new Error("(regl) "+te);throw console.error(be),be}function s(te,be){te||a(be)}function l(te){return te?": "+te:""}function u(te,be,ke){te in be||a("unknown parameter ("+te+")"+l(ke)+". possible values: "+Object.keys(be).join())}function c(te,be){n(te)||a("invalid parameter type"+l(be)+". must be a typed array")}function f(te,be){switch(be){case"number":return typeof te=="number";case"object":return typeof te=="object";case"string":return typeof te=="string";case"boolean":return typeof te=="boolean";case"function":return typeof te=="function";case"undefined":return typeof te>"u";case"symbol":return typeof te=="symbol"}}function d(te,be,ke){f(te,be)||a("invalid parameter type"+l(ke)+". expected "+be+", got "+typeof te)}function h(te,be){te>=0&&(te|0)===te||a("invalid parameter type, ("+te+")"+l(be)+". must be a nonnegative integer")}function p(te,be,ke){be.indexOf(te)<0&&a("invalid value"+l(ke)+". must be one of: "+be)}var v=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function g(te){Object.keys(te).forEach(function(be){v.indexOf(be)<0&&a('invalid regl constructor argument "'+be+'". must be one of '+v)})}function m(te,be){for(te=te+"";te.length<be;)te=" "+te;return te}function y(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function b(te,be){this.number=te,this.line=be,this.errors=[]}function w(te,be,ke){this.file=te,this.line=be,this.message=ke}function S(){var te=new Error,be=(te.stack||te).toString(),ke=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(be);if(ke)return ke[1];var ot=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(be);return ot?ot[1]:"unknown"}function x(){var te=new Error,be=(te.stack||te).toString(),ke=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(be);if(ke)return ke[1];var ot=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(be);return ot?ot[1]:"unknown"}function C(te,be){var ke=te.split(`
`),ot=1,St=0,it={unknown:new y,0:new y};it.unknown.name=it[0].name=be||S(),it.unknown.lines.push(new b(0,""));for(var dt=0;dt<ke.length;++dt){var Ft=ke[dt],jt=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Ft);if(jt)switch(jt[1]){case"line":var Yt=/(\d+)(\s+\d+)?/.exec(jt[2]);Yt&&(ot=Yt[1]|0,Yt[2]&&(St=Yt[2]|0,St in it||(it[St]=new y)));break;case"define":var Gt=/SHADER_NAME(_B64)?\s+(.*)$/.exec(jt[2]);Gt&&(it[St].name=Gt[1]?o(Gt[2]):Gt[2]);break}it[St].lines.push(new b(ot++,Ft))}return Object.keys(it).forEach(function(Qt){var sn=it[Qt];sn.lines.forEach(function(Vt){sn.index[Vt.number]=Vt})}),it}function E(te){var be=[];return te.split(`
`).forEach(function(ke){if(!(ke.length<5)){var ot=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(ke);ot?be.push(new w(ot[1]|0,ot[2]|0,ot[3].trim())):ke.length>0&&be.push(new w("unknown",0,ke))}}),be}function T(te,be){be.forEach(function(ke){var ot=te[ke.file];if(ot){var St=ot.index[ke.line];if(St){St.errors.push(ke),ot.hasErrors=!0;return}}te.unknown.hasErrors=!0,te.unknown.lines[0].errors.push(ke)})}function A(te,be,ke,ot,St){if(!te.getShaderParameter(be,te.COMPILE_STATUS)){var it=te.getShaderInfoLog(be),dt=ot===te.FRAGMENT_SHADER?"fragment":"vertex";V(ke,"string",dt+" shader source must be a string",St);var Ft=C(ke,St),jt=E(it);T(Ft,jt),Object.keys(Ft).forEach(function(Yt){var Gt=Ft[Yt];if(!Gt.hasErrors)return;var Qt=[""],sn=[""];function Vt(tn,Xe){Qt.push(tn),sn.push(Xe||"")}Vt("file number "+Yt+": "+Gt.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Gt.lines.forEach(function(tn){if(tn.errors.length>0){Vt(m(tn.number,4)+"|  ","background-color:yellow; font-weight:bold"),Vt(tn.line+i,"color:red; background-color:yellow; font-weight:bold");var Xe=0;tn.errors.forEach(function(ht){var Wt=ht.message,cn=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Wt);if(cn){var It=cn[1];switch(Wt=cn[2],It){case"assign":It="=";break}Xe=Math.max(tn.line.indexOf(It,Xe),0)}else Xe=0;Vt(m("| ",6)),Vt(m("^^^",Xe+3)+i,"font-weight:bold"),Vt(m("| ",6)),Vt(Wt+i,"font-weight:bold")}),Vt(m("| ",6)+i)}else Vt(m(tn.number,4)+"|  "),Vt(tn.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(sn[0]=Qt.join("%c"),console.log.apply(console,sn)):console.log(Qt.join(""))}),s.raise("Error compiling "+dt+" shader, "+Ft[0].name)}}function k(te,be,ke,ot,St){if(!te.getProgramParameter(be,te.LINK_STATUS)){var it=te.getProgramInfoLog(be),dt=C(ke,St),Ft=C(ot,St),jt='Error linking program with vertex shader, "'+Ft[0].name+'", and fragment shader "'+dt[0].name+'"';typeof document<"u"?console.log("%c"+jt+i+"%c"+it,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(jt+i+it),s.raise(jt)}}function M(te){te._commandRef=S()}function D(te,be,ke,ot){M(te);function St(jt){return jt?ot.id(jt):0}te._fragId=St(te.static.frag),te._vertId=St(te.static.vert);function it(jt,Yt){Object.keys(Yt).forEach(function(Gt){jt[ot.id(Gt)]=!0})}var dt=te._uniformSet={};it(dt,be.static),it(dt,be.dynamic);var Ft=te._attributeSet={};it(Ft,ke.static),it(Ft,ke.dynamic),te._hasCount="count"in te.static||"count"in te.dynamic||"elements"in te.static||"elements"in te.dynamic}function L(te,be){var ke=x();a(te+" in command "+(be||S())+(ke==="unknown"?"":" called from "+ke))}function I(te,be,ke){te||L(be,ke||S())}function R(te,be,ke,ot){te in be||L("unknown parameter ("+te+")"+l(ke)+". possible values: "+Object.keys(be).join(),ot||S())}function V(te,be,ke,ot){f(te,be)||L("invalid parameter type"+l(ke)+". expected "+be+", got "+typeof te,ot||S())}function P(te){te()}function B(te,be,ke){te.texture?p(te.texture._texture.internalformat,be,"unsupported texture format for attachment"):p(te.renderbuffer._renderbuffer.format,ke,"unsupported renderbuffer format for attachment")}var j=33071,G=9728,W=9984,Z=9985,ee=9986,oe=9987,ce=5120,X=5121,H=5122,U=5123,ne=5124,J=5125,Y=5126,se=32819,he=32820,ye=33635,_e=34042,fe=36193,Ce={};Ce[ce]=Ce[X]=1,Ce[H]=Ce[U]=Ce[fe]=Ce[ye]=Ce[se]=Ce[he]=2,Ce[ne]=Ce[J]=Ce[Y]=Ce[_e]=4;function Oe(te,be){return te===he||te===se||te===ye?2:te===_e?4:Ce[te]*be}function Ue(te){return!(te&te-1)&&!!te}function qe(te,be,ke){var ot,St=be.width,it=be.height,dt=be.channels;s(St>0&&St<=ke.maxTextureSize&&it>0&&it<=ke.maxTextureSize,"invalid texture shape"),(te.wrapS!==j||te.wrapT!==j)&&s(Ue(St)&&Ue(it),"incompatible wrap mode for texture, both width and height must be power of 2"),be.mipmask===1?St!==1&&it!==1&&s(te.minFilter!==W&&te.minFilter!==ee&&te.minFilter!==Z&&te.minFilter!==oe,"min filter requires mipmap"):(s(Ue(St)&&Ue(it),"texture must be a square power of 2 to support mipmapping"),s(be.mipmask===(St<<1)-1,"missing or incomplete mipmap data")),be.type===Y&&(ke.extensions.indexOf("oes_texture_float_linear")<0&&s(te.minFilter===G&&te.magFilter===G,"filter not supported, must enable oes_texture_float_linear"),s(!te.genMipmaps,"mipmap generation not supported with float textures"));var Ft=be.images;for(ot=0;ot<16;++ot)if(Ft[ot]){var jt=St>>ot,Yt=it>>ot;s(be.mipmask&1<<ot,"missing mipmap data");var Gt=Ft[ot];if(s(Gt.width===jt&&Gt.height===Yt,"invalid shape for mip images"),s(Gt.format===be.format&&Gt.internalformat===be.internalformat&&Gt.type===be.type,"incompatible type for mip image"),!Gt.compressed)if(Gt.data){var Qt=Math.ceil(Oe(Gt.type,dt)*jt/Gt.unpackAlignment)*Gt.unpackAlignment;s(Gt.data.byteLength===Qt*Yt,"invalid data for image, buffer size is inconsistent with image format")}else Gt.element||Gt.copy}else te.genMipmaps||s((be.mipmask&1<<ot)===0,"extra mipmap data");be.compressed&&s(!te.genMipmaps,"mipmap generation for compressed images not supported")}function ze(te,be,ke,ot){var St=te.width,it=te.height,dt=te.channels;s(St>0&&St<=ot.maxTextureSize&&it>0&&it<=ot.maxTextureSize,"invalid texture shape"),s(St===it,"cube map must be square"),s(be.wrapS===j&&be.wrapT===j,"wrap mode not supported by cube map");for(var Ft=0;Ft<ke.length;++Ft){var jt=ke[Ft];s(jt.width===St&&jt.height===it,"inconsistent cube map face shape"),be.genMipmaps&&(s(!jt.compressed,"can not generate mipmap for compressed textures"),s(jt.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Yt=jt.images,Gt=0;Gt<16;++Gt){var Qt=Yt[Gt];if(Qt){var sn=St>>Gt,Vt=it>>Gt;s(jt.mipmask&1<<Gt,"missing mipmap data"),s(Qt.width===sn&&Qt.height===Vt,"invalid shape for mip images"),s(Qt.format===te.format&&Qt.internalformat===te.internalformat&&Qt.type===te.type,"incompatible type for mip image"),Qt.compressed||(Qt.data?s(Qt.data.byteLength===sn*Vt*Math.max(Oe(Qt.type,dt),Qt.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Qt.element||Qt.copy)}}}}var ae=r(s,{optional:P,raise:a,commandRaise:L,command:I,parameter:u,commandParameter:R,constructor:g,type:d,commandType:V,isTypedArray:c,nni:h,oneOf:p,shaderError:A,linkError:k,callSite:x,saveCommandRef:M,saveDrawInfo:D,framebufferFormat:B,guessCommand:S,texture2D:qe,textureCube:ze}),Fe=0,We=0,dn=5,At=6;function $e(te,be){this.id=Fe++,this.type=te,this.data=be}function Kt(te){return te.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Kn(te){if(te.length===0)return[];var be=te.charAt(0),ke=te.charAt(te.length-1);if(te.length>1&&be===ke&&(be==='"'||be==="'"))return['"'+Kt(te.substr(1,te.length-2))+'"'];var ot=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(te);if(ot)return Kn(te.substr(0,ot.index)).concat(Kn(ot[1])).concat(Kn(te.substr(ot.index+ot[0].length)));var St=te.split(".");if(St.length===1)return['"'+Kt(te)+'"'];for(var it=[],dt=0;dt<St.length;++dt)it=it.concat(Kn(St[dt]));return it}function $t(te){return"["+Kn(te).join("][")+"]"}function wn(te,be){return new $e(te,$t(be+""))}function $n(te){return typeof te=="function"&&!te._reglType||te instanceof $e}function je(te,be){if(typeof te=="function")return new $e(We,te);if(typeof te=="number"||typeof te=="boolean")return new $e(dn,te);if(Array.isArray(te))return new $e(At,te.map((ke,ot)=>je(ke,be+"["+ot+"]")));if(te instanceof $e)return te;ae(!1,"invalid option type in uniform "+be)}var mt={DynamicVariable:$e,define:wn,isDynamic:$n,unbox:je,accessor:$t},re={next:typeof requestAnimationFrame=="function"?function(te){return requestAnimationFrame(te)}:function(te){return setTimeout(te,16)},cancel:typeof cancelAnimationFrame=="function"?function(te){return cancelAnimationFrame(te)}:clearTimeout},le=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Ae(){var te={"":0},be=[""];return{id:function(ke){var ot=te[ke];return ot||(ot=te[ke]=be.length,be.push(ke),ot)},str:function(ke){return be[ke]}}}function Qe(te,be,ke){var ot=document.createElement("canvas");r(ot.style,{border:0,margin:0,padding:0,top:0,left:0}),te.appendChild(ot),te===document.body&&(ot.style.position="absolute",r(te.style,{margin:0,padding:0}));function St(){var Ft=window.innerWidth,jt=window.innerHeight;if(te!==document.body){var Yt=te.getBoundingClientRect();Ft=Yt.right-Yt.left,jt=Yt.bottom-Yt.top}ot.width=ke*Ft,ot.height=ke*jt,r(ot.style,{width:Ft+"px",height:jt+"px"})}var it;te!==document.body&&typeof ResizeObserver=="function"?(it=new ResizeObserver(function(){setTimeout(St)}),it.observe(te)):window.addEventListener("resize",St,!1);function dt(){it?it.disconnect():window.removeEventListener("resize",St),te.removeChild(ot)}return St(),{canvas:ot,onDestroy:dt}}function ct(te,be){function ke(ot){try{return te.getContext(ot,be)}catch{return null}}return ke("webgl")||ke("experimental-webgl")||ke("webgl-experimental")}function Nt(te){return typeof te.nodeName=="string"&&typeof te.appendChild=="function"&&typeof te.getBoundingClientRect=="function"}function zn(te){return typeof te.drawArrays=="function"||typeof te.drawElements=="function"}function li(te){return typeof te=="string"?te.split():(ae(Array.isArray(te),"invalid extension array"),te)}function sr(te){return typeof te=="string"?(ae(typeof document<"u","not supported outside of DOM"),document.querySelector(te)):te}function Er(te){var be=te||{},ke,ot,St,it,dt={},Ft=[],jt=[],Yt=typeof window>"u"?1:window.devicePixelRatio,Gt=!1,Qt=function(tn){tn&&ae.raise(tn)},sn=function(){};if(typeof be=="string"?(ae(typeof document<"u","selector queries only supported in DOM enviroments"),ke=document.querySelector(be),ae(ke,"invalid query string for element")):typeof be=="object"?Nt(be)?ke=be:zn(be)?(it=be,St=it.canvas):(ae.constructor(be),"gl"in be?it=be.gl:"canvas"in be?St=sr(be.canvas):"container"in be&&(ot=sr(be.container)),"attributes"in be&&(dt=be.attributes,ae.type(dt,"object","invalid context attributes")),"extensions"in be&&(Ft=li(be.extensions)),"optionalExtensions"in be&&(jt=li(be.optionalExtensions)),"onDone"in be&&(ae.type(be.onDone,"function","invalid or missing onDone callback"),Qt=be.onDone),"profile"in be&&(Gt=!!be.profile),"pixelRatio"in be&&(Yt=+be.pixelRatio,ae(Yt>0,"invalid pixel ratio"))):ae.raise("invalid arguments to regl"),ke&&(ke.nodeName.toLowerCase()==="canvas"?St=ke:ot=ke),!it){if(!St){ae(typeof document<"u","must manually specify webgl context outside of DOM environments");var Vt=Qe(ot||document.body,Qt,Yt);if(!Vt)return null;St=Vt.canvas,sn=Vt.onDestroy}dt.premultipliedAlpha===void 0&&(dt.premultipliedAlpha=!0),it=ct(St,dt)}return it?{gl:it,canvas:St,container:ot,extensions:Ft,optionalExtensions:jt,pixelRatio:Yt,profile:Gt,onDone:Qt,onDestroy:sn}:(sn(),Qt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function ut(te,be){var ke={};function ot(dt){ae.type(dt,"string","extension name must be string");var Ft=dt.toLowerCase(),jt;try{jt=ke[Ft]=te.getExtension(Ft)}catch{}return!!jt}for(var St=0;St<be.extensions.length;++St){var it=be.extensions[St];if(!ot(it))return be.onDestroy(),be.onDone('"'+it+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return be.optionalExtensions.forEach(ot),{extensions:ke,restore:function(){Object.keys(ke).forEach(function(dt){if(ke[dt]&&!ot(dt))throw new Error("(regl): error restoring extension "+dt)})}}}function In(te,be){for(var ke=Array(te),ot=0;ot<te;++ot)ke[ot]=be(ot);return ke}var Tn=5120,to=5121,Uo=5122,va=5123,hs=5124,Bt=5125,Bi=5126;function hd(te){for(var be=16;be<=1<<28;be*=16)if(te<=be)return be;return 0}function Qc(te){var be,ke;return be=(te>65535)<<4,te>>>=be,ke=(te>255)<<3,te>>>=ke,be|=ke,ke=(te>15)<<2,te>>>=ke,be|=ke,ke=(te>3)<<1,te>>>=ke,be|=ke,be|te>>1}function pd(){var te=In(8,function(){return[]});function be(it){var dt=hd(it),Ft=te[Qc(dt)>>2];return Ft.length>0?Ft.pop():new ArrayBuffer(dt)}function ke(it){te[Qc(it.byteLength)>>2].push(it)}function ot(it,dt){var Ft=null;switch(it){case Tn:Ft=new Int8Array(be(dt),0,dt);break;case to:Ft=new Uint8Array(be(dt),0,dt);break;case Uo:Ft=new Int16Array(be(2*dt),0,dt);break;case va:Ft=new Uint16Array(be(2*dt),0,dt);break;case hs:Ft=new Int32Array(be(4*dt),0,dt);break;case Bt:Ft=new Uint32Array(be(4*dt),0,dt);break;case Bi:Ft=new Float32Array(be(4*dt),0,dt);break;default:return null}return Ft.length!==dt?Ft.subarray(0,dt):Ft}function St(it){ke(it.buffer)}return{alloc:be,free:ke,allocType:ot,freeType:St}}var Ti=pd();Ti.zero=pd();var pt=3408,mn=3410,Nr=3411,no=3412,ga=3413,Ns=3414,oa=3415,Rl=33901,Bs=33902,vd=3379,hL=3386,Ry=34921,vt=36347,hn=36348,rr=35661,Tr=35660,Wo=34930,iu=36349,Fv=34076,Ly=34024,pL=7936,e7=7937,vL=7938,gL=35724,mL=34047,GAe=36063,UAe=34852,gE=3553,t7=34067,WAe=34069,qAe=33984,j_=6408,yL=5126,n7=5121,bL=36160,KAe=36053,YAe=36064,XAe=16384,ZAe=function(te,be){var ke=1;be.ext_texture_filter_anisotropic&&(ke=te.getParameter(mL));var ot=1,St=1;be.webgl_draw_buffers&&(ot=te.getParameter(UAe),St=te.getParameter(GAe));var it=!!be.oes_texture_float;if(it){var dt=te.createTexture();te.bindTexture(gE,dt),te.texImage2D(gE,0,j_,1,1,0,j_,yL,null);var Ft=te.createFramebuffer();if(te.bindFramebuffer(bL,Ft),te.framebufferTexture2D(bL,YAe,gE,dt,0),te.bindTexture(gE,null),te.checkFramebufferStatus(bL)!==KAe)it=!1;else{te.viewport(0,0,1,1),te.clearColor(1,0,0,1),te.clear(XAe);var jt=Ti.allocType(yL,4);te.readPixels(0,0,1,1,j_,yL,jt),te.getError()?it=!1:(te.deleteFramebuffer(Ft),te.deleteTexture(dt),it=jt[0]===1),Ti.freeType(jt)}}var Yt=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Gt=!0;if(!Yt){var Qt=te.createTexture(),sn=Ti.allocType(n7,36);te.activeTexture(qAe),te.bindTexture(t7,Qt),te.texImage2D(WAe,0,j_,3,3,0,j_,n7,sn),Ti.freeType(sn),te.bindTexture(t7,null),te.deleteTexture(Qt),Gt=!te.getError()}return{colorBits:[te.getParameter(mn),te.getParameter(Nr),te.getParameter(no),te.getParameter(ga)],depthBits:te.getParameter(Ns),stencilBits:te.getParameter(oa),subpixelBits:te.getParameter(pt),extensions:Object.keys(be).filter(function(Vt){return!!be[Vt]}),maxAnisotropic:ke,maxDrawbuffers:ot,maxColorAttachments:St,pointSizeDims:te.getParameter(Rl),lineWidthDims:te.getParameter(Bs),maxViewportDims:te.getParameter(hL),maxCombinedTextureUnits:te.getParameter(rr),maxCubeMapSize:te.getParameter(Fv),maxRenderbufferSize:te.getParameter(Ly),maxTextureUnits:te.getParameter(Wo),maxTextureSize:te.getParameter(vd),maxAttributes:te.getParameter(Ry),maxVertexUniforms:te.getParameter(vt),maxVertexTextureUnits:te.getParameter(Tr),maxVaryingVectors:te.getParameter(hn),maxFragmentUniforms:te.getParameter(iu),glsl:te.getParameter(gL),renderer:te.getParameter(e7),vendor:te.getParameter(pL),version:te.getParameter(vL),readFloat:it,npotTextureCube:Gt}};function rc(te){return!!te&&typeof te=="object"&&Array.isArray(te.shape)&&Array.isArray(te.stride)&&typeof te.offset=="number"&&te.shape.length===te.stride.length&&(Array.isArray(te.data)||n(te.data))}var Ll=function(te){return Object.keys(te).map(function(be){return te[be]})},mE={shape:tke,flatten:eke};function JAe(te,be,ke){for(var ot=0;ot<be;++ot)ke[ot]=te[ot]}function QAe(te,be,ke,ot){for(var St=0,it=0;it<be;++it)for(var dt=te[it],Ft=0;Ft<ke;++Ft)ot[St++]=dt[Ft]}function r7(te,be,ke,ot,St,it){for(var dt=it,Ft=0;Ft<be;++Ft)for(var jt=te[Ft],Yt=0;Yt<ke;++Yt)for(var Gt=jt[Yt],Qt=0;Qt<ot;++Qt)St[dt++]=Gt[Qt]}function i7(te,be,ke,ot,St){for(var it=1,dt=ke+1;dt<be.length;++dt)it*=be[dt];var Ft=be[ke];if(be.length-ke===4){var jt=be[ke+1],Yt=be[ke+2],Gt=be[ke+3];for(dt=0;dt<Ft;++dt)r7(te[dt],jt,Yt,Gt,ot,St),St+=it}else for(dt=0;dt<Ft;++dt)i7(te[dt],be,ke+1,ot,St),St+=it}function eke(te,be,ke,ot){var St=1;if(be.length)for(var it=0;it<be.length;++it)St*=be[it];else St=0;var dt=ot||Ti.allocType(ke,St);switch(be.length){case 0:break;case 1:JAe(te,be[0],dt);break;case 2:QAe(te,be[0],be[1],dt);break;case 3:r7(te,be[0],be[1],be[2],dt,0);break;default:i7(te,be,0,dt,0)}return dt}function tke(te){for(var be=[],ke=te;ke.length;ke=ke[0])be.push(ke.length);return be}var _L={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},nke=5120,rke=5122,ike=5124,oke=5121,ake=5123,ske=5125,lke=5126,uke=5126,Vv={int8:nke,int16:rke,int32:ike,uint8:oke,uint16:ake,uint32:ske,float:lke,float32:uke},cke=35048,fke=35040,yE={dynamic:cke,stream:fke,static:35044},wL=mE.flatten,o7=mE.shape,a7=35044,dke=35040,SL=5121,xL=5126,zh=[];zh[5120]=1,zh[5122]=2,zh[5124]=4,zh[5121]=1,zh[5123]=2,zh[5125]=4,zh[5126]=4;function bE(te){return _L[Object.prototype.toString.call(te)]|0}function s7(te,be){for(var ke=0;ke<be.length;++ke)te[ke]=be[ke]}function l7(te,be,ke,ot,St,it,dt){for(var Ft=0,jt=0;jt<ke;++jt)for(var Yt=0;Yt<ot;++Yt)te[Ft++]=be[St*jt+it*Yt+dt]}function hke(te,be,ke,ot){var St=0,it={};function dt(Xe){this.id=St++,this.buffer=te.createBuffer(),this.type=Xe,this.usage=a7,this.byteLength=0,this.dimension=1,this.dtype=SL,this.persistentData=null,ke.profile&&(this.stats={size:0})}dt.prototype.bind=function(){te.bindBuffer(this.type,this.buffer)},dt.prototype.destroy=function(){sn(this)};var Ft=[];function jt(Xe,ht){var Wt=Ft.pop();return Wt||(Wt=new dt(Xe)),Wt.bind(),Qt(Wt,ht,dke,0,1,!1),Wt}function Yt(Xe){Ft.push(Xe)}function Gt(Xe,ht,Wt){Xe.byteLength=ht.byteLength,te.bufferData(Xe.type,ht,Wt)}function Qt(Xe,ht,Wt,cn,It,Sn){var Dt;if(Xe.usage=Wt,Array.isArray(ht)){if(Xe.dtype=cn||xL,ht.length>0){var nn;if(Array.isArray(ht[0])){Dt=o7(ht);for(var Lt=1,rn=1;rn<Dt.length;++rn)Lt*=Dt[rn];Xe.dimension=Lt,nn=wL(ht,Dt,Xe.dtype),Gt(Xe,nn,Wt),Sn?Xe.persistentData=nn:Ti.freeType(nn)}else if(typeof ht[0]=="number"){Xe.dimension=It;var Xn=Ti.allocType(Xe.dtype,ht.length);s7(Xn,ht),Gt(Xe,Xn,Wt),Sn?Xe.persistentData=Xn:Ti.freeType(Xn)}else n(ht[0])?(Xe.dimension=ht[0].length,Xe.dtype=cn||bE(ht[0])||xL,nn=wL(ht,[ht.length,ht[0].length],Xe.dtype),Gt(Xe,nn,Wt),Sn?Xe.persistentData=nn:Ti.freeType(nn)):ae.raise("invalid buffer data")}}else if(n(ht))Xe.dtype=cn||bE(ht),Xe.dimension=It,Gt(Xe,ht,Wt),Sn&&(Xe.persistentData=new Uint8Array(new Uint8Array(ht.buffer)));else if(rc(ht)){Dt=ht.shape;var vr=ht.stride,ln=ht.offset,Xt=0,Mt=0,cr=0,Pr=0;Dt.length===1?(Xt=Dt[0],Mt=1,cr=vr[0],Pr=0):Dt.length===2?(Xt=Dt[0],Mt=Dt[1],cr=vr[0],Pr=vr[1]):ae.raise("invalid shape"),Xe.dtype=cn||bE(ht.data)||xL,Xe.dimension=Mt;var Pn=Ti.allocType(Xe.dtype,Xt*Mt);l7(Pn,ht.data,Xt,Mt,cr,Pr,ln),Gt(Xe,Pn,Wt),Sn?Xe.persistentData=Pn:Ti.freeType(Pn)}else ht instanceof ArrayBuffer?(Xe.dtype=SL,Xe.dimension=It,Gt(Xe,ht,Wt),Sn&&(Xe.persistentData=new Uint8Array(new Uint8Array(ht)))):ae.raise("invalid buffer data")}function sn(Xe){be.bufferCount--,ot(Xe);var ht=Xe.buffer;ae(ht,"buffer must not be deleted already"),te.deleteBuffer(ht),Xe.buffer=null,delete it[Xe.id]}function Vt(Xe,ht,Wt,cn){be.bufferCount++;var It=new dt(ht);it[It.id]=It;function Sn(Lt){var rn=a7,Xn=null,vr=0,ln=0,Xt=1;return Array.isArray(Lt)||n(Lt)||rc(Lt)||Lt instanceof ArrayBuffer?Xn=Lt:typeof Lt=="number"?vr=Lt|0:Lt&&(ae.type(Lt,"object","buffer arguments must be an object, a number or an array"),"data"in Lt&&(ae(Xn===null||Array.isArray(Xn)||n(Xn)||rc(Xn),"invalid data for buffer"),Xn=Lt.data),"usage"in Lt&&(ae.parameter(Lt.usage,yE,"invalid buffer usage"),rn=yE[Lt.usage]),"type"in Lt&&(ae.parameter(Lt.type,Vv,"invalid buffer type"),ln=Vv[Lt.type]),"dimension"in Lt&&(ae.type(Lt.dimension,"number","invalid dimension"),Xt=Lt.dimension|0),"length"in Lt&&(ae.nni(vr,"buffer length must be a nonnegative integer"),vr=Lt.length|0)),It.bind(),Xn?Qt(It,Xn,rn,ln,Xt,cn):(vr&&te.bufferData(It.type,vr,rn),It.dtype=ln||SL,It.usage=rn,It.dimension=Xt,It.byteLength=vr),ke.profile&&(It.stats.size=It.byteLength*zh[It.dtype]),Sn}function Dt(Lt,rn){ae(rn+Lt.byteLength<=It.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Lt.byteLength+" starting from offset "+rn+" to a buffer of size "+It.byteLength),te.bufferSubData(It.type,rn,Lt)}function nn(Lt,rn){var Xn=(rn||0)|0,vr;if(It.bind(),n(Lt)||Lt instanceof ArrayBuffer)Dt(Lt,Xn);else if(Array.isArray(Lt)){if(Lt.length>0)if(typeof Lt[0]=="number"){var ln=Ti.allocType(It.dtype,Lt.length);s7(ln,Lt),Dt(ln,Xn),Ti.freeType(ln)}else if(Array.isArray(Lt[0])||n(Lt[0])){vr=o7(Lt);var Xt=wL(Lt,vr,It.dtype);Dt(Xt,Xn),Ti.freeType(Xt)}else ae.raise("invalid buffer data")}else if(rc(Lt)){vr=Lt.shape;var Mt=Lt.stride,cr=0,Pr=0,Pn=0,Vr=0;vr.length===1?(cr=vr[0],Pr=1,Pn=Mt[0],Vr=0):vr.length===2?(cr=vr[0],Pr=vr[1],Pn=Mt[0],Vr=Mt[1]):ae.raise("invalid shape");var br=Array.isArray(Lt.data)?It.dtype:bE(Lt.data),Br=Ti.allocType(br,cr*Pr);l7(Br,Lt.data,cr,Pr,Pn,Vr,Lt.offset),Dt(Br,Xn),Ti.freeType(Br)}else ae.raise("invalid data for buffer subdata");return Sn}return Wt||Sn(Xe),Sn._reglType="buffer",Sn._buffer=It,Sn.subdata=nn,ke.profile&&(Sn.stats=It.stats),Sn.destroy=function(){sn(It)},Sn}function tn(){Ll(it).forEach(function(Xe){Xe.buffer=te.createBuffer(),te.bindBuffer(Xe.type,Xe.buffer),te.bufferData(Xe.type,Xe.persistentData||Xe.byteLength,Xe.usage)})}return ke.profile&&(be.getTotalBufferSize=function(){var Xe=0;return Object.keys(it).forEach(function(ht){Xe+=it[ht].stats.size}),Xe}),{create:Vt,createStream:jt,destroyStream:Yt,clear:function(){Ll(it).forEach(sn),Ft.forEach(sn)},getBuffer:function(Xe){return Xe&&Xe._buffer instanceof dt?Xe._buffer:null},restore:tn,_initBuffer:Qt}}var pke=0,vke=0,gke=1,mke=1,yke=4,bke=4,Dy={points:pke,point:vke,lines:gke,line:mke,triangles:yke,triangle:bke,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},_ke=0,wke=1,G_=4,Ske=5120,Ny=5121,u7=5122,By=5123,c7=5124,zv=5125,CL=34963,xke=35040,Cke=35044;function Eke(te,be,ke,ot){var St={},it=0,dt={uint8:Ny,uint16:By};be.oes_element_index_uint&&(dt.uint32=zv);function Ft(tn){this.id=it++,St[this.id]=this,this.buffer=tn,this.primType=G_,this.vertCount=0,this.type=0}Ft.prototype.bind=function(){this.buffer.bind()};var jt=[];function Yt(tn){var Xe=jt.pop();return Xe||(Xe=new Ft(ke.create(null,CL,!0,!1)._buffer)),Qt(Xe,tn,xke,-1,-1,0,0),Xe}function Gt(tn){jt.push(tn)}function Qt(tn,Xe,ht,Wt,cn,It,Sn){tn.buffer.bind();var Dt;if(Xe){var nn=Sn;!Sn&&(!n(Xe)||rc(Xe)&&!n(Xe.data))&&(nn=be.oes_element_index_uint?zv:By),ke._initBuffer(tn.buffer,Xe,ht,nn,3)}else te.bufferData(CL,It,ht),tn.buffer.dtype=Dt||Ny,tn.buffer.usage=ht,tn.buffer.dimension=3,tn.buffer.byteLength=It;if(Dt=Sn,!Sn){switch(tn.buffer.dtype){case Ny:case Ske:Dt=Ny;break;case By:case u7:Dt=By;break;case zv:case c7:Dt=zv;break;default:ae.raise("unsupported type for element array")}tn.buffer.dtype=Dt}tn.type=Dt,ae(Dt!==zv||!!be.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Lt=cn;Lt<0&&(Lt=tn.buffer.byteLength,Dt===By?Lt>>=1:Dt===zv&&(Lt>>=2)),tn.vertCount=Lt;var rn=Wt;if(Wt<0){rn=G_;var Xn=tn.buffer.dimension;Xn===1&&(rn=_ke),Xn===2&&(rn=wke),Xn===3&&(rn=G_)}tn.primType=rn}function sn(tn){ot.elementsCount--,ae(tn.buffer!==null,"must not double destroy elements"),delete St[tn.id],tn.buffer.destroy(),tn.buffer=null}function Vt(tn,Xe){var ht=ke.create(null,CL,!0),Wt=new Ft(ht._buffer);ot.elementsCount++;function cn(It){if(!It)ht(),Wt.primType=G_,Wt.vertCount=0,Wt.type=Ny;else if(typeof It=="number")ht(It),Wt.primType=G_,Wt.vertCount=It|0,Wt.type=Ny;else{var Sn=null,Dt=Cke,nn=-1,Lt=-1,rn=0,Xn=0;Array.isArray(It)||n(It)||rc(It)?Sn=It:(ae.type(It,"object","invalid arguments for elements"),"data"in It&&(Sn=It.data,ae(Array.isArray(Sn)||n(Sn)||rc(Sn),"invalid data for element buffer")),"usage"in It&&(ae.parameter(It.usage,yE,"invalid element buffer usage"),Dt=yE[It.usage]),"primitive"in It&&(ae.parameter(It.primitive,Dy,"invalid element buffer primitive"),nn=Dy[It.primitive]),"count"in It&&(ae(typeof It.count=="number"&&It.count>=0,"invalid vertex count for elements"),Lt=It.count|0),"type"in It&&(ae.parameter(It.type,dt,"invalid buffer type"),Xn=dt[It.type]),"length"in It?rn=It.length|0:(rn=Lt,Xn===By||Xn===u7?rn*=2:(Xn===zv||Xn===c7)&&(rn*=4))),Qt(Wt,Sn,Dt,nn,Lt,rn,Xn)}return cn}return cn(tn),cn._reglType="elements",cn._elements=Wt,cn.subdata=function(It,Sn){return ht.subdata(It,Sn),cn},cn.destroy=function(){sn(Wt)},cn}return{create:Vt,createStream:Yt,destroyStream:Gt,getElements:function(tn){return typeof tn=="function"&&tn._elements instanceof Ft?tn._elements:null},clear:function(){Ll(St).forEach(sn)}}}var f7=new Float32Array(1),Tke=new Uint32Array(f7.buffer),Ake=5123;function d7(te){for(var be=Ti.allocType(Ake,te.length),ke=0;ke<te.length;++ke)if(isNaN(te[ke]))be[ke]=65535;else if(te[ke]===1/0)be[ke]=31744;else if(te[ke]===-1/0)be[ke]=64512;else{f7[0]=te[ke];var ot=Tke[0],St=ot>>>31<<15,it=(ot<<1>>>24)-127,dt=ot>>13&1023;if(it<-24)be[ke]=St;else if(it<-14){var Ft=-14-it;be[ke]=St+(dt+1024>>Ft)}else it>15?be[ke]=St+31744:be[ke]=St+(it+15<<10)+dt}return be}function Eo(te){return Array.isArray(te)||n(te)}var h7=function(te){return!(te&te-1)&&!!te},kke=34467,ef=3553,EL=34067,_E=34069,Hv=6408,TL=6406,wE=6407,U_=6409,SE=6410,p7=32854,AL=32855,v7=36194,Mke=32819,Pke=32820,Oke=33635,Ike=34042,kL=6402,xE=34041,ML=35904,PL=35906,$y=36193,OL=33776,IL=33777,RL=33778,LL=33779,g7=35986,m7=35987,y7=34798,b7=35840,_7=35841,w7=35842,S7=35843,x7=36196,Fy=5121,DL=5123,NL=5125,W_=5126,Rke=10242,Lke=10243,Dke=10497,BL=33071,Nke=33648,Bke=10240,$ke=10241,$L=9728,Fke=9729,FL=9984,C7=9985,E7=9986,VL=9987,Vke=33170,CE=4352,zke=4353,Hke=4354,jke=34046,Gke=3317,Uke=37440,Wke=37441,qke=37443,T7=37444,q_=33984,Kke=[FL,E7,C7,VL],EE=[0,U_,SE,wE,Hv],ou={};ou[U_]=ou[TL]=ou[kL]=1,ou[xE]=ou[SE]=2,ou[wE]=ou[ML]=3,ou[Hv]=ou[PL]=4;function Vy(te){return"[object "+te+"]"}var A7=Vy("HTMLCanvasElement"),k7=Vy("OffscreenCanvas"),M7=Vy("CanvasRenderingContext2D"),P7=Vy("ImageBitmap"),O7=Vy("HTMLImageElement"),I7=Vy("HTMLVideoElement"),Yke=Object.keys(_L).concat([A7,k7,M7,P7,O7,I7]),zy=[];zy[Fy]=1,zy[W_]=4,zy[$y]=2,zy[DL]=2,zy[NL]=4;var Ia=[];Ia[p7]=2,Ia[AL]=2,Ia[v7]=2,Ia[xE]=4,Ia[OL]=.5,Ia[IL]=.5,Ia[RL]=1,Ia[LL]=1,Ia[g7]=.5,Ia[m7]=1,Ia[y7]=1,Ia[b7]=.5,Ia[_7]=.25,Ia[w7]=.5,Ia[S7]=.25,Ia[x7]=.5;function R7(te){return Array.isArray(te)&&(te.length===0||typeof te[0]=="number")}function L7(te){if(!Array.isArray(te))return!1;var be=te.length;return!(be===0||!Eo(te[0]))}function jv(te){return Object.prototype.toString.call(te)}function D7(te){return jv(te)===A7}function N7(te){return jv(te)===k7}function Xke(te){return jv(te)===M7}function Zke(te){return jv(te)===P7}function Jke(te){return jv(te)===O7}function Qke(te){return jv(te)===I7}function zL(te){if(!te)return!1;var be=jv(te);return Yke.indexOf(be)>=0?!0:R7(te)||L7(te)||rc(te)}function B7(te){return _L[Object.prototype.toString.call(te)]|0}function eMe(te,be){var ke=be.length;switch(te.type){case Fy:case DL:case NL:case W_:var ot=Ti.allocType(te.type,ke);ot.set(be),te.data=ot;break;case $y:te.data=d7(be);break;default:ae.raise("unsupported texture type, must specify a typed array")}}function $7(te,be){return Ti.allocType(te.type===$y?W_:te.type,be)}function F7(te,be){te.type===$y?(te.data=d7(be),Ti.freeType(be)):te.data=be}function tMe(te,be,ke,ot,St,it){for(var dt=te.width,Ft=te.height,jt=te.channels,Yt=dt*Ft*jt,Gt=$7(te,Yt),Qt=0,sn=0;sn<Ft;++sn)for(var Vt=0;Vt<dt;++Vt)for(var tn=0;tn<jt;++tn)Gt[Qt++]=be[ke*Vt+ot*sn+St*tn+it];F7(te,Gt)}function TE(te,be,ke,ot,St,it){var dt;if(typeof Ia[te]<"u"?dt=Ia[te]:dt=ou[te]*zy[be],it&&(dt*=6),St){for(var Ft=0,jt=ke;jt>=1;)Ft+=dt*jt*jt,jt/=2;return Ft}else return dt*ke*ot}function nMe(te,be,ke,ot,St,it,dt){var Ft={"don't care":CE,"dont care":CE,nice:Hke,fast:zke},jt={repeat:Dke,clamp:BL,mirror:Nke},Yt={nearest:$L,linear:Fke},Gt=r({mipmap:VL,"nearest mipmap nearest":FL,"linear mipmap nearest":C7,"nearest mipmap linear":E7,"linear mipmap linear":VL},Yt),Qt={none:0,browser:T7},sn={uint8:Fy,rgba4:Mke,rgb565:Oke,"rgb5 a1":Pke},Vt={alpha:TL,luminance:U_,"luminance alpha":SE,rgb:wE,rgba:Hv,rgba4:p7,"rgb5 a1":AL,rgb565:v7},tn={};be.ext_srgb&&(Vt.srgb=ML,Vt.srgba=PL),be.oes_texture_float&&(sn.float32=sn.float=W_),be.oes_texture_half_float&&(sn.float16=sn["half float"]=$y),be.webgl_depth_texture&&(r(Vt,{depth:kL,"depth stencil":xE}),r(sn,{uint16:DL,uint32:NL,"depth stencil":Ike})),be.webgl_compressed_texture_s3tc&&r(tn,{"rgb s3tc dxt1":OL,"rgba s3tc dxt1":IL,"rgba s3tc dxt3":RL,"rgba s3tc dxt5":LL}),be.webgl_compressed_texture_atc&&r(tn,{"rgb atc":g7,"rgba atc explicit alpha":m7,"rgba atc interpolated alpha":y7}),be.webgl_compressed_texture_pvrtc&&r(tn,{"rgb pvrtc 4bppv1":b7,"rgb pvrtc 2bppv1":_7,"rgba pvrtc 4bppv1":w7,"rgba pvrtc 2bppv1":S7}),be.webgl_compressed_texture_etc1&&(tn["rgb etc1"]=x7);var Xe=Array.prototype.slice.call(te.getParameter(kke));Object.keys(tn).forEach(function(Te){var at=tn[Te];Xe.indexOf(at)>=0&&(Vt[Te]=at)});var ht=Object.keys(Vt);ke.textureFormats=ht;var Wt=[];Object.keys(Vt).forEach(function(Te){var at=Vt[Te];Wt[at]=Te});var cn=[];Object.keys(sn).forEach(function(Te){var at=sn[Te];cn[at]=Te});var It=[];Object.keys(Yt).forEach(function(Te){var at=Yt[Te];It[at]=Te});var Sn=[];Object.keys(Gt).forEach(function(Te){var at=Gt[Te];Sn[at]=Te});var Dt=[];Object.keys(jt).forEach(function(Te){var at=jt[Te];Dt[at]=Te});var nn=ht.reduce(function(Te,at){var et=Vt[at];return et===U_||et===TL||et===U_||et===SE||et===kL||et===xE||be.ext_srgb&&(et===ML||et===PL)?Te[et]=et:et===AL||at.indexOf("rgba")>=0?Te[et]=Hv:Te[et]=wE,Te},{});function Lt(){this.internalformat=Hv,this.format=Hv,this.type=Fy,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=T7,this.width=0,this.height=0,this.channels=0}function rn(Te,at){Te.internalformat=at.internalformat,Te.format=at.format,Te.type=at.type,Te.compressed=at.compressed,Te.premultiplyAlpha=at.premultiplyAlpha,Te.flipY=at.flipY,Te.unpackAlignment=at.unpackAlignment,Te.colorSpace=at.colorSpace,Te.width=at.width,Te.height=at.height,Te.channels=at.channels}function Xn(Te,at){if(!(typeof at!="object"||!at)){if("premultiplyAlpha"in at&&(ae.type(at.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),Te.premultiplyAlpha=at.premultiplyAlpha),"flipY"in at&&(ae.type(at.flipY,"boolean","invalid texture flip"),Te.flipY=at.flipY),"alignment"in at&&(ae.oneOf(at.alignment,[1,2,4,8],"invalid texture unpack alignment"),Te.unpackAlignment=at.alignment),"colorSpace"in at&&(ae.parameter(at.colorSpace,Qt,"invalid colorSpace"),Te.colorSpace=Qt[at.colorSpace]),"type"in at){var et=at.type;ae(be.oes_texture_float||!(et==="float"||et==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),ae(be.oes_texture_half_float||!(et==="half float"||et==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ae(be.webgl_depth_texture||!(et==="uint16"||et==="uint32"||et==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ae.parameter(et,sn,"invalid texture type"),Te.type=sn[et]}var En=Te.width,zr=Te.height,Se=Te.channels,ve=!1;"shape"in at?(ae(Array.isArray(at.shape)&&at.shape.length>=2,"shape must be an array"),En=at.shape[0],zr=at.shape[1],at.shape.length===3&&(Se=at.shape[2],ae(Se>0&&Se<=4,"invalid number of channels"),ve=!0),ae(En>=0&&En<=ke.maxTextureSize,"invalid width"),ae(zr>=0&&zr<=ke.maxTextureSize,"invalid height")):("radius"in at&&(En=zr=at.radius,ae(En>=0&&En<=ke.maxTextureSize,"invalid radius")),"width"in at&&(En=at.width,ae(En>=0&&En<=ke.maxTextureSize,"invalid width")),"height"in at&&(zr=at.height,ae(zr>=0&&zr<=ke.maxTextureSize,"invalid height")),"channels"in at&&(Se=at.channels,ae(Se>0&&Se<=4,"invalid number of channels"),ve=!0)),Te.width=En|0,Te.height=zr|0,Te.channels=Se|0;var Ie=!1;if("format"in at){var Ke=at.format;ae(be.webgl_depth_texture||!(Ke==="depth"||Ke==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ae.parameter(Ke,Vt,"invalid texture format");var Ze=Te.internalformat=Vt[Ke];Te.format=nn[Ze],Ke in sn&&("type"in at||(Te.type=sn[Ke])),Ke in tn&&(Te.compressed=!0),Ie=!0}!ve&&Ie?Te.channels=ou[Te.format]:ve&&!Ie?Te.channels!==EE[Te.format]&&(Te.format=Te.internalformat=EE[Te.channels]):Ie&&ve&&ae(Te.channels===ou[Te.format],"number of channels inconsistent with specified format")}}function vr(Te){te.pixelStorei(Uke,Te.flipY),te.pixelStorei(Wke,Te.premultiplyAlpha),te.pixelStorei(qke,Te.colorSpace),te.pixelStorei(Gke,Te.unpackAlignment)}function ln(){Lt.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Xt(Te,at){var et=null;if(zL(at)?et=at:at&&(ae.type(at,"object","invalid pixel data type"),Xn(Te,at),"x"in at&&(Te.xOffset=at.x|0),"y"in at&&(Te.yOffset=at.y|0),zL(at.data)&&(et=at.data)),ae(!Te.compressed||et instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),at.copy){ae(!et,"can not specify copy and data field for the same texture");var En=St.viewportWidth,zr=St.viewportHeight;Te.width=Te.width||En-Te.xOffset,Te.height=Te.height||zr-Te.yOffset,Te.needsCopy=!0,ae(Te.xOffset>=0&&Te.xOffset<En&&Te.yOffset>=0&&Te.yOffset<zr&&Te.width>0&&Te.width<=En&&Te.height>0&&Te.height<=zr,"copy texture read out of bounds")}else if(!et)Te.width=Te.width||1,Te.height=Te.height||1,Te.channels=Te.channels||4;else if(n(et))Te.channels=Te.channels||4,Te.data=et,!("type"in at)&&Te.type===Fy&&(Te.type=B7(et));else if(R7(et))Te.channels=Te.channels||4,eMe(Te,et),Te.alignment=1,Te.needsFree=!0;else if(rc(et)){var Se=et.data;!Array.isArray(Se)&&Te.type===Fy&&(Te.type=B7(Se));var ve=et.shape,Ie=et.stride,Ke,Ze,De,Re,He,xe;ve.length===3?(De=ve[2],xe=Ie[2]):(ae(ve.length===2,"invalid ndarray pixel data, must be 2 or 3D"),De=1,xe=1),Ke=ve[0],Ze=ve[1],Re=Ie[0],He=Ie[1],Te.alignment=1,Te.width=Ke,Te.height=Ze,Te.channels=De,Te.format=Te.internalformat=EE[De],Te.needsFree=!0,tMe(Te,Se,Re,He,xe,et.offset)}else if(D7(et)||N7(et)||Xke(et))D7(et)||N7(et)?Te.element=et:Te.element=et.canvas,Te.width=Te.element.width,Te.height=Te.element.height,Te.channels=4;else if(Zke(et))Te.element=et,Te.width=et.width,Te.height=et.height,Te.channels=4;else if(Jke(et))Te.element=et,Te.width=et.naturalWidth,Te.height=et.naturalHeight,Te.channels=4;else if(Qke(et))Te.element=et,Te.width=et.videoWidth,Te.height=et.videoHeight,Te.channels=4;else if(L7(et)){var Pe=Te.width||et[0].length,we=Te.height||et.length,Ge=Te.channels;Eo(et[0][0])?Ge=Ge||et[0][0].length:Ge=Ge||1;for(var Je=mE.shape(et),wt=1,xt=0;xt<Je.length;++xt)wt*=Je[xt];var gt=$7(Te,wt);mE.flatten(et,Je,"",gt),F7(Te,gt),Te.alignment=1,Te.width=Pe,Te.height=we,Te.channels=Ge,Te.format=Te.internalformat=EE[Ge],Te.needsFree=!0}Te.type===W_?ae(ke.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):Te.type===$y&&ae(ke.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Mt(Te,at,et){var En=Te.element,zr=Te.data,Se=Te.internalformat,ve=Te.format,Ie=Te.type,Ke=Te.width,Ze=Te.height;vr(Te),En?te.texImage2D(at,et,ve,ve,Ie,En):Te.compressed?te.compressedTexImage2D(at,et,Se,Ke,Ze,0,zr):Te.needsCopy?(ot(),te.copyTexImage2D(at,et,ve,Te.xOffset,Te.yOffset,Ke,Ze,0)):te.texImage2D(at,et,ve,Ke,Ze,0,ve,Ie,zr||null)}function cr(Te,at,et,En,zr){var Se=Te.element,ve=Te.data,Ie=Te.internalformat,Ke=Te.format,Ze=Te.type,De=Te.width,Re=Te.height;vr(Te),Se?te.texSubImage2D(at,zr,et,En,Ke,Ze,Se):Te.compressed?te.compressedTexSubImage2D(at,zr,et,En,Ie,De,Re,ve):Te.needsCopy?(ot(),te.copyTexSubImage2D(at,zr,et,En,Te.xOffset,Te.yOffset,De,Re)):te.texSubImage2D(at,zr,et,En,De,Re,Ke,Ze,ve)}var Pr=[];function Pn(){return Pr.pop()||new ln}function Vr(Te){Te.needsFree&&Ti.freeType(Te.data),ln.call(Te),Pr.push(Te)}function br(){Lt.call(this),this.genMipmaps=!1,this.mipmapHint=CE,this.mipmask=0,this.images=Array(16)}function Br(Te,at,et){var En=Te.images[0]=Pn();Te.mipmask=1,En.width=Te.width=at,En.height=Te.height=et,En.channels=Te.channels=4}function ui(Te,at){var et=null;if(zL(at))et=Te.images[0]=Pn(),rn(et,Te),Xt(et,at),Te.mipmask=1;else if(Xn(Te,at),Array.isArray(at.mipmap))for(var En=at.mipmap,zr=0;zr<En.length;++zr)et=Te.images[zr]=Pn(),rn(et,Te),et.width>>=zr,et.height>>=zr,Xt(et,En[zr]),Te.mipmask|=1<<zr;else et=Te.images[0]=Pn(),rn(et,Te),Xt(et,at),Te.mipmask=1;rn(Te,Te.images[0]),Te.compressed&&(Te.internalformat===OL||Te.internalformat===IL||Te.internalformat===RL||Te.internalformat===LL)&&ae(Te.width%4===0&&Te.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Io(Te,at){for(var et=Te.images,En=0;En<et.length;++En){if(!et[En])return;Mt(et[En],at,En)}}var aa=[];function Wr(){var Te=aa.pop()||new br;Lt.call(Te),Te.mipmask=0;for(var at=0;at<16;++at)Te.images[at]=null;return Te}function qo(Te){for(var at=Te.images,et=0;et<at.length;++et)at[et]&&Vr(at[et]),at[et]=null;aa.push(Te)}function qi(){this.minFilter=$L,this.magFilter=$L,this.wrapS=BL,this.wrapT=BL,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=CE}function Ro(Te,at){if("min"in at){var et=at.min;ae.parameter(et,Gt),Te.minFilter=Gt[et],Kke.indexOf(Te.minFilter)>=0&&!("faces"in at)&&(Te.genMipmaps=!0)}if("mag"in at){var En=at.mag;ae.parameter(En,Yt),Te.magFilter=Yt[En]}var zr=Te.wrapS,Se=Te.wrapT;if("wrap"in at){var ve=at.wrap;typeof ve=="string"?(ae.parameter(ve,jt),zr=Se=jt[ve]):Array.isArray(ve)&&(ae.parameter(ve[0],jt),ae.parameter(ve[1],jt),zr=jt[ve[0]],Se=jt[ve[1]])}else{if("wrapS"in at){var Ie=at.wrapS;ae.parameter(Ie,jt),zr=jt[Ie]}if("wrapT"in at){var Ke=at.wrapT;ae.parameter(Ke,jt),Se=jt[Ke]}}if(Te.wrapS=zr,Te.wrapT=Se,"anisotropic"in at){var Ze=at.anisotropic;ae(typeof Ze=="number"&&Ze>=1&&Ze<=ke.maxAnisotropic,"aniso samples must be between 1 and "),Te.anisotropic=at.anisotropic}if("mipmap"in at){var De=!1;switch(typeof at.mipmap){case"string":ae.parameter(at.mipmap,Ft,"invalid mipmap hint"),Te.mipmapHint=Ft[at.mipmap],Te.genMipmaps=!0,De=!0;break;case"boolean":De=Te.genMipmaps=at.mipmap;break;case"object":ae(Array.isArray(at.mipmap),"invalid mipmap type"),Te.genMipmaps=!1,De=!0;break;default:ae.raise("invalid mipmap type")}De&&!("min"in at)&&(Te.minFilter=FL)}}function Ko(Te,at){te.texParameteri(at,$ke,Te.minFilter),te.texParameteri(at,Bke,Te.magFilter),te.texParameteri(at,Rke,Te.wrapS),te.texParameteri(at,Lke,Te.wrapT),be.ext_texture_filter_anisotropic&&te.texParameteri(at,jke,Te.anisotropic),Te.genMipmaps&&(te.hint(Vke,Te.mipmapHint),te.generateMipmap(at))}var Yo=0,ma={},Ra=ke.maxTextureUnits,To=Array(Ra).map(function(){return null});function Or(Te){Lt.call(this),this.mipmask=0,this.internalformat=Hv,this.id=Yo++,this.refCount=1,this.target=Te,this.texture=te.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new qi,dt.profile&&(this.stats={size:0})}function La(Te){te.activeTexture(q_),te.bindTexture(Te.target,Te.texture)}function vi(){var Te=To[0];Te?te.bindTexture(Te.target,Te.texture):te.bindTexture(ef,null)}function ir(Te){var at=Te.texture;ae(at,"must not double destroy texture");var et=Te.unit,En=Te.target;et>=0&&(te.activeTexture(q_+et),te.bindTexture(En,null),To[et]=null),te.deleteTexture(at),Te.texture=null,Te.params=null,Te.pixels=null,Te.refCount=0,delete ma[Te.id],it.textureCount--}r(Or.prototype,{bind:function(){var Te=this;Te.bindCount+=1;var at=Te.unit;if(at<0){for(var et=0;et<Ra;++et){var En=To[et];if(En){if(En.bindCount>0)continue;En.unit=-1}To[et]=Te,at=et;break}at>=Ra&&ae.raise("insufficient number of texture units"),dt.profile&&it.maxTextureUnits<at+1&&(it.maxTextureUnits=at+1),Te.unit=at,te.activeTexture(q_+at),te.bindTexture(Te.target,Te.texture)}return at},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&ir(this)}});function jr(Te,at){var et=new Or(ef);ma[et.id]=et,it.textureCount++;function En(ve,Ie){var Ke=et.texInfo;qi.call(Ke);var Ze=Wr();return typeof ve=="number"?typeof Ie=="number"?Br(Ze,ve|0,Ie|0):Br(Ze,ve|0,ve|0):ve?(ae.type(ve,"object","invalid arguments to regl.texture"),Ro(Ke,ve),ui(Ze,ve)):Br(Ze,1,1),Ke.genMipmaps&&(Ze.mipmask=(Ze.width<<1)-1),et.mipmask=Ze.mipmask,rn(et,Ze),ae.texture2D(Ke,Ze,ke),et.internalformat=Ze.internalformat,En.width=Ze.width,En.height=Ze.height,La(et),Io(Ze,ef),Ko(Ke,ef),vi(),qo(Ze),dt.profile&&(et.stats.size=TE(et.internalformat,et.type,Ze.width,Ze.height,Ke.genMipmaps,!1)),En.format=Wt[et.internalformat],En.type=cn[et.type],En.mag=It[Ke.magFilter],En.min=Sn[Ke.minFilter],En.wrapS=Dt[Ke.wrapS],En.wrapT=Dt[Ke.wrapT],En}function zr(ve,Ie,Ke,Ze){ae(!!ve,"must specify image data");var De=Ie|0,Re=Ke|0,He=Ze|0,xe=Pn();return rn(xe,et),xe.width=0,xe.height=0,Xt(xe,ve),xe.width=xe.width||(et.width>>He)-De,xe.height=xe.height||(et.height>>He)-Re,ae(et.type===xe.type&&et.format===xe.format&&et.internalformat===xe.internalformat,"incompatible format for texture.subimage"),ae(De>=0&&Re>=0&&De+xe.width<=et.width&&Re+xe.height<=et.height,"texture.subimage write out of bounds"),ae(et.mipmask&1<<He,"missing mipmap data"),ae(xe.data||xe.element||xe.needsCopy,"missing image data"),La(et),cr(xe,ef,De,Re,He),vi(),Vr(xe),En}function Se(ve,Ie){var Ke=ve|0,Ze=Ie|0||Ke;if(Ke===et.width&&Ze===et.height)return En;En.width=et.width=Ke,En.height=et.height=Ze,La(et);for(var De=0;et.mipmask>>De;++De){var Re=Ke>>De,He=Ze>>De;if(!Re||!He)break;te.texImage2D(ef,De,et.format,Re,He,0,et.format,et.type,null)}return vi(),dt.profile&&(et.stats.size=TE(et.internalformat,et.type,Ke,Ze,!1,!1)),En}return En(Te,at),En.subimage=zr,En.resize=Se,En._reglType="texture2d",En._texture=et,dt.profile&&(En.stats=et.stats),En.destroy=function(){et.decRef()},En}function ni(Te,at,et,En,zr,Se){var ve=new Or(EL);ma[ve.id]=ve,it.cubeCount++;var Ie=new Array(6);function Ke(Re,He,xe,Pe,we,Ge){var Je,wt=ve.texInfo;for(qi.call(wt),Je=0;Je<6;++Je)Ie[Je]=Wr();if(typeof Re=="number"||!Re){var xt=Re|0||1;for(Je=0;Je<6;++Je)Br(Ie[Je],xt,xt)}else if(typeof Re=="object")if(He)ui(Ie[0],Re),ui(Ie[1],He),ui(Ie[2],xe),ui(Ie[3],Pe),ui(Ie[4],we),ui(Ie[5],Ge);else if(Ro(wt,Re),Xn(ve,Re),"faces"in Re){var gt=Re.faces;for(ae(Array.isArray(gt)&&gt.length===6,"cube faces must be a length 6 array"),Je=0;Je<6;++Je)ae(typeof gt[Je]=="object"&&!!gt[Je],"invalid input for cube map face"),rn(Ie[Je],ve),ui(Ie[Je],gt[Je])}else for(Je=0;Je<6;++Je)ui(Ie[Je],Re);else ae.raise("invalid arguments to cube map");for(rn(ve,Ie[0]),ke.npotTextureCube||ae(h7(ve.width)&&h7(ve.height),"your browser does not support non power or two texture dimensions"),wt.genMipmaps?ve.mipmask=(Ie[0].width<<1)-1:ve.mipmask=Ie[0].mipmask,ae.textureCube(ve,wt,Ie,ke),ve.internalformat=Ie[0].internalformat,Ke.width=Ie[0].width,Ke.height=Ie[0].height,La(ve),Je=0;Je<6;++Je)Io(Ie[Je],_E+Je);for(Ko(wt,EL),vi(),dt.profile&&(ve.stats.size=TE(ve.internalformat,ve.type,Ke.width,Ke.height,wt.genMipmaps,!0)),Ke.format=Wt[ve.internalformat],Ke.type=cn[ve.type],Ke.mag=It[wt.magFilter],Ke.min=Sn[wt.minFilter],Ke.wrapS=Dt[wt.wrapS],Ke.wrapT=Dt[wt.wrapT],Je=0;Je<6;++Je)qo(Ie[Je]);return Ke}function Ze(Re,He,xe,Pe,we){ae(!!He,"must specify image data"),ae(typeof Re=="number"&&Re===(Re|0)&&Re>=0&&Re<6,"invalid face");var Ge=xe|0,Je=Pe|0,wt=we|0,xt=Pn();return rn(xt,ve),xt.width=0,xt.height=0,Xt(xt,He),xt.width=xt.width||(ve.width>>wt)-Ge,xt.height=xt.height||(ve.height>>wt)-Je,ae(ve.type===xt.type&&ve.format===xt.format&&ve.internalformat===xt.internalformat,"incompatible format for texture.subimage"),ae(Ge>=0&&Je>=0&&Ge+xt.width<=ve.width&&Je+xt.height<=ve.height,"texture.subimage write out of bounds"),ae(ve.mipmask&1<<wt,"missing mipmap data"),ae(xt.data||xt.element||xt.needsCopy,"missing image data"),La(ve),cr(xt,_E+Re,Ge,Je,wt),vi(),Vr(xt),Ke}function De(Re){var He=Re|0;if(He!==ve.width){Ke.width=ve.width=He,Ke.height=ve.height=He,La(ve);for(var xe=0;xe<6;++xe)for(var Pe=0;ve.mipmask>>Pe;++Pe)te.texImage2D(_E+xe,Pe,ve.format,He>>Pe,He>>Pe,0,ve.format,ve.type,null);return vi(),dt.profile&&(ve.stats.size=TE(ve.internalformat,ve.type,Ke.width,Ke.height,!1,!0)),Ke}}return Ke(Te,at,et,En,zr,Se),Ke.subimage=Ze,Ke.resize=De,Ke._reglType="textureCube",Ke._texture=ve,dt.profile&&(Ke.stats=ve.stats),Ke.destroy=function(){ve.decRef()},Ke}function Ao(){for(var Te=0;Te<Ra;++Te)te.activeTexture(q_+Te),te.bindTexture(ef,null),To[Te]=null;Ll(ma).forEach(ir),it.cubeCount=0,it.textureCount=0}dt.profile&&(it.getTotalTextureSize=function(){var Te=0;return Object.keys(ma).forEach(function(at){Te+=ma[at].stats.size}),Te});function nf(){for(var Te=0;Te<Ra;++Te){var at=To[Te];at&&(at.bindCount=0,at.unit=-1,To[Te]=null)}Ll(ma).forEach(function(et){et.texture=te.createTexture(),te.bindTexture(et.target,et.texture);for(var En=0;En<32;++En)if((et.mipmask&1<<En)!==0)if(et.target===ef)te.texImage2D(ef,En,et.internalformat,et.width>>En,et.height>>En,0,et.internalformat,et.type,null);else for(var zr=0;zr<6;++zr)te.texImage2D(_E+zr,En,et.internalformat,et.width>>En,et.height>>En,0,et.internalformat,et.type,null);Ko(et.texInfo,et.target)})}function Xv(){for(var Te=0;Te<Ra;++Te){var at=To[Te];at&&(at.bindCount=0,at.unit=-1,To[Te]=null),te.activeTexture(q_+Te),te.bindTexture(ef,null),te.bindTexture(EL,null)}}return{create2D:jr,createCube:ni,clear:Ao,getTexture:function(Te){return null},restore:nf,refresh:Xv}}var Hh=36161,AE=32854,V7=32855,z7=36194,H7=33189,j7=36168,G7=34041,U7=35907,W7=34836,q7=34842,K7=34843,ic=[];ic[AE]=2,ic[V7]=2,ic[z7]=2,ic[H7]=2,ic[j7]=1,ic[G7]=4,ic[U7]=4,ic[W7]=16,ic[q7]=8,ic[K7]=6;function Y7(te,be,ke){return ic[te]*be*ke}var rMe=function(te,be,ke,ot,St){var it={rgba4:AE,rgb565:z7,"rgb5 a1":V7,depth:H7,stencil:j7,"depth stencil":G7};be.ext_srgb&&(it.srgba=U7),be.ext_color_buffer_half_float&&(it.rgba16f=q7,it.rgb16f=K7),be.webgl_color_buffer_float&&(it.rgba32f=W7);var dt=[];Object.keys(it).forEach(function(Vt){var tn=it[Vt];dt[tn]=Vt});var Ft=0,jt={};function Yt(Vt){this.id=Ft++,this.refCount=1,this.renderbuffer=Vt,this.format=AE,this.width=0,this.height=0,St.profile&&(this.stats={size:0})}Yt.prototype.decRef=function(){--this.refCount<=0&&Gt(this)};function Gt(Vt){var tn=Vt.renderbuffer;ae(tn,"must not double destroy renderbuffer"),te.bindRenderbuffer(Hh,null),te.deleteRenderbuffer(tn),Vt.renderbuffer=null,Vt.refCount=0,delete jt[Vt.id],ot.renderbufferCount--}function Qt(Vt,tn){var Xe=new Yt(te.createRenderbuffer());jt[Xe.id]=Xe,ot.renderbufferCount++;function ht(cn,It){var Sn=0,Dt=0,nn=AE;if(typeof cn=="object"&&cn){var Lt=cn;if("shape"in Lt){var rn=Lt.shape;ae(Array.isArray(rn)&&rn.length>=2,"invalid renderbuffer shape"),Sn=rn[0]|0,Dt=rn[1]|0}else"radius"in Lt&&(Sn=Dt=Lt.radius|0),"width"in Lt&&(Sn=Lt.width|0),"height"in Lt&&(Dt=Lt.height|0);"format"in Lt&&(ae.parameter(Lt.format,it,"invalid renderbuffer format"),nn=it[Lt.format])}else typeof cn=="number"?(Sn=cn|0,typeof It=="number"?Dt=It|0:Dt=Sn):cn?ae.raise("invalid arguments to renderbuffer constructor"):Sn=Dt=1;if(ae(Sn>0&&Dt>0&&Sn<=ke.maxRenderbufferSize&&Dt<=ke.maxRenderbufferSize,"invalid renderbuffer size"),!(Sn===Xe.width&&Dt===Xe.height&&nn===Xe.format))return ht.width=Xe.width=Sn,ht.height=Xe.height=Dt,Xe.format=nn,te.bindRenderbuffer(Hh,Xe.renderbuffer),te.renderbufferStorage(Hh,nn,Sn,Dt),ae(te.getError()===0,"invalid render buffer format"),St.profile&&(Xe.stats.size=Y7(Xe.format,Xe.width,Xe.height)),ht.format=dt[Xe.format],ht}function Wt(cn,It){var Sn=cn|0,Dt=It|0||Sn;return Sn===Xe.width&&Dt===Xe.height||(ae(Sn>0&&Dt>0&&Sn<=ke.maxRenderbufferSize&&Dt<=ke.maxRenderbufferSize,"invalid renderbuffer size"),ht.width=Xe.width=Sn,ht.height=Xe.height=Dt,te.bindRenderbuffer(Hh,Xe.renderbuffer),te.renderbufferStorage(Hh,Xe.format,Sn,Dt),ae(te.getError()===0,"invalid render buffer format"),St.profile&&(Xe.stats.size=Y7(Xe.format,Xe.width,Xe.height))),ht}return ht(Vt,tn),ht.resize=Wt,ht._reglType="renderbuffer",ht._renderbuffer=Xe,St.profile&&(ht.stats=Xe.stats),ht.destroy=function(){Xe.decRef()},ht}St.profile&&(ot.getTotalRenderbufferSize=function(){var Vt=0;return Object.keys(jt).forEach(function(tn){Vt+=jt[tn].stats.size}),Vt});function sn(){Ll(jt).forEach(function(Vt){Vt.renderbuffer=te.createRenderbuffer(),te.bindRenderbuffer(Hh,Vt.renderbuffer),te.renderbufferStorage(Hh,Vt.format,Vt.width,Vt.height)}),te.bindRenderbuffer(Hh,null)}return{create:Qt,clear:function(){Ll(jt).forEach(Gt)},restore:sn}},gd=36160,HL=36161,Gv=3553,kE=34069,X7=36064,Z7=36096,J7=36128,Q7=33306,eW=36053,iMe=36054,oMe=36055,aMe=36057,sMe=36061,lMe=36193,uMe=5121,cMe=5126,tW=6407,nW=6408,fMe=6402,dMe=[tW,nW],jL=[];jL[nW]=4,jL[tW]=3;var ME=[];ME[uMe]=1,ME[cMe]=4,ME[lMe]=2;var hMe=32854,pMe=32855,vMe=36194,gMe=33189,mMe=36168,rW=34041,yMe=35907,bMe=34836,_Me=34842,wMe=34843,SMe=[hMe,pMe,vMe,yMe,_Me,wMe,bMe],Hy={};Hy[eW]="complete",Hy[iMe]="incomplete attachment",Hy[aMe]="incomplete dimensions",Hy[oMe]="incomplete, missing attachment",Hy[sMe]="unsupported";function xMe(te,be,ke,ot,St,it){var dt={cur:null,next:null,dirty:!1,setFBO:null},Ft=["rgba"],jt=["rgba4","rgb565","rgb5 a1"];be.ext_srgb&&jt.push("srgba"),be.ext_color_buffer_half_float&&jt.push("rgba16f","rgb16f"),be.webgl_color_buffer_float&&jt.push("rgba32f");var Yt=["uint8"];be.oes_texture_half_float&&Yt.push("half float","float16"),be.oes_texture_float&&Yt.push("float","float32");function Gt(ln,Xt,Mt){this.target=ln,this.texture=Xt,this.renderbuffer=Mt;var cr=0,Pr=0;Xt?(cr=Xt.width,Pr=Xt.height):Mt&&(cr=Mt.width,Pr=Mt.height),this.width=cr,this.height=Pr}function Qt(ln){ln&&(ln.texture&&ln.texture._texture.decRef(),ln.renderbuffer&&ln.renderbuffer._renderbuffer.decRef())}function sn(ln,Xt,Mt){if(ln)if(ln.texture){var cr=ln.texture._texture,Pr=Math.max(1,cr.width),Pn=Math.max(1,cr.height);ae(Pr===Xt&&Pn===Mt,"inconsistent width/height for supplied texture"),cr.refCount+=1}else{var Vr=ln.renderbuffer._renderbuffer;ae(Vr.width===Xt&&Vr.height===Mt,"inconsistent width/height for renderbuffer"),Vr.refCount+=1}}function Vt(ln,Xt){Xt&&(Xt.texture?te.framebufferTexture2D(gd,ln,Xt.target,Xt.texture._texture.texture,0):te.framebufferRenderbuffer(gd,ln,HL,Xt.renderbuffer._renderbuffer.renderbuffer))}function tn(ln){var Xt=Gv,Mt=null,cr=null,Pr=ln;typeof ln=="object"&&(Pr=ln.data,"target"in ln&&(Xt=ln.target|0)),ae.type(Pr,"function","invalid attachment data");var Pn=Pr._reglType;return Pn==="texture2d"?(Mt=Pr,ae(Xt===Gv)):Pn==="textureCube"?(Mt=Pr,ae(Xt>=kE&&Xt<kE+6,"invalid cube map target")):Pn==="renderbuffer"?(cr=Pr,Xt=HL):ae.raise("invalid regl object for attachment"),new Gt(Xt,Mt,cr)}function Xe(ln,Xt,Mt,cr,Pr){if(Mt){var Pn=ot.create2D({width:ln,height:Xt,format:cr,type:Pr});return Pn._texture.refCount=0,new Gt(Gv,Pn,null)}else{var Vr=St.create({width:ln,height:Xt,format:cr});return Vr._renderbuffer.refCount=0,new Gt(HL,null,Vr)}}function ht(ln){return ln&&(ln.texture||ln.renderbuffer)}function Wt(ln,Xt,Mt){ln&&(ln.texture?ln.texture.resize(Xt,Mt):ln.renderbuffer&&ln.renderbuffer.resize(Xt,Mt),ln.width=Xt,ln.height=Mt)}var cn=0,It={};function Sn(){this.id=cn++,It[this.id]=this,this.framebuffer=te.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Dt(ln){ln.colorAttachments.forEach(Qt),Qt(ln.depthAttachment),Qt(ln.stencilAttachment),Qt(ln.depthStencilAttachment)}function nn(ln){var Xt=ln.framebuffer;ae(Xt,"must not double destroy framebuffer"),te.deleteFramebuffer(Xt),ln.framebuffer=null,it.framebufferCount--,delete It[ln.id]}function Lt(ln){var Xt;te.bindFramebuffer(gd,ln.framebuffer);var Mt=ln.colorAttachments;for(Xt=0;Xt<Mt.length;++Xt)Vt(X7+Xt,Mt[Xt]);for(Xt=Mt.length;Xt<ke.maxColorAttachments;++Xt)te.framebufferTexture2D(gd,X7+Xt,Gv,null,0);te.framebufferTexture2D(gd,Q7,Gv,null,0),te.framebufferTexture2D(gd,Z7,Gv,null,0),te.framebufferTexture2D(gd,J7,Gv,null,0),Vt(Z7,ln.depthAttachment),Vt(J7,ln.stencilAttachment),Vt(Q7,ln.depthStencilAttachment);var cr=te.checkFramebufferStatus(gd);!te.isContextLost()&&cr!==eW&&ae.raise("framebuffer configuration not supported, status = "+Hy[cr]),te.bindFramebuffer(gd,dt.next?dt.next.framebuffer:null),dt.cur=dt.next,te.getError()}function rn(ln,Xt){var Mt=new Sn;it.framebufferCount++;function cr(Pn,Vr){var br;ae(dt.next!==Mt,"can not update framebuffer which is currently in use");var Br=0,ui=0,Io=!0,aa=!0,Wr=null,qo=!0,qi="rgba",Ro="uint8",Ko=1,Yo=null,ma=null,Ra=null,To=!1;if(typeof Pn=="number")Br=Pn|0,ui=Vr|0||Br;else if(!Pn)Br=ui=1;else{ae.type(Pn,"object","invalid arguments for framebuffer");var Or=Pn;if("shape"in Or){var La=Or.shape;ae(Array.isArray(La)&&La.length>=2,"invalid shape for framebuffer"),Br=La[0],ui=La[1]}else"radius"in Or&&(Br=ui=Or.radius),"width"in Or&&(Br=Or.width),"height"in Or&&(ui=Or.height);("color"in Or||"colors"in Or)&&(Wr=Or.color||Or.colors,Array.isArray(Wr)&&ae(Wr.length===1||be.webgl_draw_buffers,"multiple render targets not supported")),Wr||("colorCount"in Or&&(Ko=Or.colorCount|0,ae(Ko>0,"invalid color buffer count")),"colorTexture"in Or&&(qo=!!Or.colorTexture,qi="rgba4"),"colorType"in Or&&(Ro=Or.colorType,qo?(ae(be.oes_texture_float||!(Ro==="float"||Ro==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ae(be.oes_texture_half_float||!(Ro==="half float"||Ro==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Ro==="half float"||Ro==="float16"?(ae(be.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),qi="rgba16f"):(Ro==="float"||Ro==="float32")&&(ae(be.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),qi="rgba32f"),ae.oneOf(Ro,Yt,"invalid color type")),"colorFormat"in Or&&(qi=Or.colorFormat,Ft.indexOf(qi)>=0?qo=!0:jt.indexOf(qi)>=0?qo=!1:qo?ae.oneOf(Or.colorFormat,Ft,"invalid color format for texture"):ae.oneOf(Or.colorFormat,jt,"invalid color format for renderbuffer"))),("depthTexture"in Or||"depthStencilTexture"in Or)&&(To=!!(Or.depthTexture||Or.depthStencilTexture),ae(!To||be.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Or&&(typeof Or.depth=="boolean"?Io=Or.depth:(Yo=Or.depth,aa=!1)),"stencil"in Or&&(typeof Or.stencil=="boolean"?aa=Or.stencil:(ma=Or.stencil,Io=!1)),"depthStencil"in Or&&(typeof Or.depthStencil=="boolean"?Io=aa=Or.depthStencil:(Ra=Or.depthStencil,Io=!1,aa=!1))}var vi=null,ir=null,jr=null,ni=null;if(Array.isArray(Wr))vi=Wr.map(tn);else if(Wr)vi=[tn(Wr)];else for(vi=new Array(Ko),br=0;br<Ko;++br)vi[br]=Xe(Br,ui,qo,qi,Ro);ae(be.webgl_draw_buffers||vi.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ae(vi.length<=ke.maxColorAttachments,"too many color attachments, not supported"),Br=Br||vi[0].width,ui=ui||vi[0].height,Yo?ir=tn(Yo):Io&&!aa&&(ir=Xe(Br,ui,To,"depth","uint32")),ma?jr=tn(ma):aa&&!Io&&(jr=Xe(Br,ui,!1,"stencil","uint8")),Ra?ni=tn(Ra):!Yo&&!ma&&aa&&Io&&(ni=Xe(Br,ui,To,"depth stencil","depth stencil")),ae(!!Yo+!!ma+!!Ra<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Ao=null;for(br=0;br<vi.length;++br)if(sn(vi[br],Br,ui),ae(!vi[br]||vi[br].texture&&dMe.indexOf(vi[br].texture._texture.format)>=0||vi[br].renderbuffer&&SMe.indexOf(vi[br].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+br+" is invalid"),vi[br]&&vi[br].texture){var nf=jL[vi[br].texture._texture.format]*ME[vi[br].texture._texture.type];Ao===null?Ao=nf:ae(Ao===nf,"all color attachments much have the same number of bits per pixel.")}return sn(ir,Br,ui),ae(!ir||ir.texture&&ir.texture._texture.format===fMe||ir.renderbuffer&&ir.renderbuffer._renderbuffer.format===gMe,"invalid depth attachment for framebuffer object"),sn(jr,Br,ui),ae(!jr||jr.renderbuffer&&jr.renderbuffer._renderbuffer.format===mMe,"invalid stencil attachment for framebuffer object"),sn(ni,Br,ui),ae(!ni||ni.texture&&ni.texture._texture.format===rW||ni.renderbuffer&&ni.renderbuffer._renderbuffer.format===rW,"invalid depth-stencil attachment for framebuffer object"),Dt(Mt),Mt.width=Br,Mt.height=ui,Mt.colorAttachments=vi,Mt.depthAttachment=ir,Mt.stencilAttachment=jr,Mt.depthStencilAttachment=ni,cr.color=vi.map(ht),cr.depth=ht(ir),cr.stencil=ht(jr),cr.depthStencil=ht(ni),cr.width=Mt.width,cr.height=Mt.height,Lt(Mt),cr}function Pr(Pn,Vr){ae(dt.next!==Mt,"can not resize a framebuffer which is currently in use");var br=Math.max(Pn|0,1),Br=Math.max(Vr|0||br,1);if(br===Mt.width&&Br===Mt.height)return cr;for(var ui=Mt.colorAttachments,Io=0;Io<ui.length;++Io)Wt(ui[Io],br,Br);return Wt(Mt.depthAttachment,br,Br),Wt(Mt.stencilAttachment,br,Br),Wt(Mt.depthStencilAttachment,br,Br),Mt.width=cr.width=br,Mt.height=cr.height=Br,Lt(Mt),cr}return cr(ln,Xt),r(cr,{resize:Pr,_reglType:"framebuffer",_framebuffer:Mt,destroy:function(){nn(Mt),Dt(Mt)},use:function(Pn){dt.setFBO({framebuffer:cr},Pn)}})}function Xn(ln){var Xt=Array(6);function Mt(Pr){var Pn;ae(Xt.indexOf(dt.next)<0,"can not update framebuffer which is currently in use");var Vr={color:null},br=0,Br=null,ui="rgba",Io="uint8",aa=1;if(typeof Pr=="number")br=Pr|0;else if(!Pr)br=1;else{ae.type(Pr,"object","invalid arguments for framebuffer");var Wr=Pr;if("shape"in Wr){var qo=Wr.shape;ae(Array.isArray(qo)&&qo.length>=2,"invalid shape for framebuffer"),ae(qo[0]===qo[1],"cube framebuffer must be square"),br=qo[0]}else"radius"in Wr&&(br=Wr.radius|0),"width"in Wr?(br=Wr.width|0,"height"in Wr&&ae(Wr.height===br,"must be square")):"height"in Wr&&(br=Wr.height|0);("color"in Wr||"colors"in Wr)&&(Br=Wr.color||Wr.colors,Array.isArray(Br)&&ae(Br.length===1||be.webgl_draw_buffers,"multiple render targets not supported")),Br||("colorCount"in Wr&&(aa=Wr.colorCount|0,ae(aa>0,"invalid color buffer count")),"colorType"in Wr&&(ae.oneOf(Wr.colorType,Yt,"invalid color type"),Io=Wr.colorType),"colorFormat"in Wr&&(ui=Wr.colorFormat,ae.oneOf(Wr.colorFormat,Ft,"invalid color format for texture"))),"depth"in Wr&&(Vr.depth=Wr.depth),"stencil"in Wr&&(Vr.stencil=Wr.stencil),"depthStencil"in Wr&&(Vr.depthStencil=Wr.depthStencil)}var qi;if(Br)if(Array.isArray(Br))for(qi=[],Pn=0;Pn<Br.length;++Pn)qi[Pn]=Br[Pn];else qi=[Br];else{qi=Array(aa);var Ro={radius:br,format:ui,type:Io};for(Pn=0;Pn<aa;++Pn)qi[Pn]=ot.createCube(Ro)}for(Vr.color=Array(qi.length),Pn=0;Pn<qi.length;++Pn){var Ko=qi[Pn];ae(typeof Ko=="function"&&Ko._reglType==="textureCube","invalid cube map"),br=br||Ko.width,ae(Ko.width===br&&Ko.height===br,"invalid cube map shape"),Vr.color[Pn]={target:kE,data:qi[Pn]}}for(Pn=0;Pn<6;++Pn){for(var Yo=0;Yo<qi.length;++Yo)Vr.color[Yo].target=kE+Pn;Pn>0&&(Vr.depth=Xt[0].depth,Vr.stencil=Xt[0].stencil,Vr.depthStencil=Xt[0].depthStencil),Xt[Pn]?Xt[Pn](Vr):Xt[Pn]=rn(Vr)}return r(Mt,{width:br,height:br,color:qi})}function cr(Pr){var Pn,Vr=Pr|0;if(ae(Vr>0&&Vr<=ke.maxCubeMapSize,"invalid radius for cube fbo"),Vr===Mt.width)return Mt;var br=Mt.color;for(Pn=0;Pn<br.length;++Pn)br[Pn].resize(Vr);for(Pn=0;Pn<6;++Pn)Xt[Pn].resize(Vr);return Mt.width=Mt.height=Vr,Mt}return Mt(ln),r(Mt,{faces:Xt,resize:cr,_reglType:"framebufferCube",destroy:function(){Xt.forEach(function(Pr){Pr.destroy()})}})}function vr(){dt.cur=null,dt.next=null,dt.dirty=!0,Ll(It).forEach(function(ln){ln.framebuffer=te.createFramebuffer(),Lt(ln)})}return r(dt,{getFramebuffer:function(ln){if(typeof ln=="function"&&ln._reglType==="framebuffer"){var Xt=ln._framebuffer;if(Xt instanceof Sn)return Xt}return null},create:rn,createCube:Xn,clear:function(){Ll(It).forEach(nn)},restore:vr})}var CMe=5126,iW=34962;function GL(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=CMe,this.offset=0,this.stride=0,this.divisor=0}function EMe(te,be,ke,ot,St){for(var it=ke.maxAttributes,dt=new Array(it),Ft=0;Ft<it;++Ft)dt[Ft]=new GL;var jt=0,Yt={},Gt={Record:GL,scope:{},state:dt,currentVAO:null,targetVAO:null,restore:sn()?It:function(){},createVAO:Sn,getVAO:tn,destroyBuffer:Qt,setVAO:sn()?Xe:ht,clear:sn()?Wt:function(){}};function Qt(Dt){for(var nn=0;nn<dt.length;++nn){var Lt=dt[nn];Lt.buffer===Dt&&(te.disableVertexAttribArray(nn),Lt.buffer=null)}}function sn(){return be.oes_vertex_array_object}function Vt(){return be.angle_instanced_arrays}function tn(Dt){return typeof Dt=="function"&&Dt._vao?Dt._vao:null}function Xe(Dt){if(Dt!==Gt.currentVAO){var nn=sn();Dt?nn.bindVertexArrayOES(Dt.vao):nn.bindVertexArrayOES(null),Gt.currentVAO=Dt}}function ht(Dt){if(Dt!==Gt.currentVAO){if(Dt)Dt.bindAttrs();else for(var nn=Vt(),Lt=0;Lt<dt.length;++Lt){var rn=dt[Lt];rn.buffer?(te.enableVertexAttribArray(Lt),te.vertexAttribPointer(Lt,rn.size,rn.type,rn.normalized,rn.stride,rn.offfset),nn&&rn.divisor&&nn.vertexAttribDivisorANGLE(Lt,rn.divisor)):(te.disableVertexAttribArray(Lt),te.vertexAttrib4f(Lt,rn.x,rn.y,rn.z,rn.w))}Gt.currentVAO=Dt}}function Wt(){Ll(Yt).forEach(function(Dt){Dt.destroy()})}function cn(){this.id=++jt,this.attributes=[];var Dt=sn();Dt?this.vao=Dt.createVertexArrayOES():this.vao=null,Yt[this.id]=this,this.buffers=[]}cn.prototype.bindAttrs=function(){for(var Dt=Vt(),nn=this.attributes,Lt=0;Lt<nn.length;++Lt){var rn=nn[Lt];rn.buffer?(te.enableVertexAttribArray(Lt),te.bindBuffer(iW,rn.buffer.buffer),te.vertexAttribPointer(Lt,rn.size,rn.type,rn.normalized,rn.stride,rn.offset),Dt&&rn.divisor&&Dt.vertexAttribDivisorANGLE(Lt,rn.divisor)):(te.disableVertexAttribArray(Lt),te.vertexAttrib4f(Lt,rn.x,rn.y,rn.z,rn.w))}for(var Xn=nn.length;Xn<it;++Xn)te.disableVertexAttribArray(Xn)},cn.prototype.refresh=function(){var Dt=sn();Dt&&(Dt.bindVertexArrayOES(this.vao),this.bindAttrs(),Gt.currentVAO=this)},cn.prototype.destroy=function(){if(this.vao){var Dt=sn();this===Gt.currentVAO&&(Gt.currentVAO=null,Dt.bindVertexArrayOES(null)),Dt.deleteVertexArrayOES(this.vao),this.vao=null}Yt[this.id]&&(delete Yt[this.id],ot.vaoCount-=1)};function It(){var Dt=sn();Dt&&Ll(Yt).forEach(function(nn){nn.refresh()})}function Sn(Dt){var nn=new cn;ot.vaoCount+=1;function Lt(rn){ae(Array.isArray(rn),"arguments to vertex array constructor must be an array"),ae(rn.length<it,"too many attributes"),ae(rn.length>0,"must specify at least one attribute");var Xn={},vr=nn.attributes;vr.length=rn.length;for(var ln=0;ln<rn.length;++ln){var Xt=rn[ln],Mt=vr[ln]=new GL,cr=Xt.data||Xt;if(Array.isArray(cr)||n(cr)||rc(cr)){var Pr;nn.buffers[ln]&&(Pr=nn.buffers[ln],n(cr)&&Pr._buffer.byteLength>=cr.byteLength?Pr.subdata(cr):(Pr.destroy(),nn.buffers[ln]=null)),nn.buffers[ln]||(Pr=nn.buffers[ln]=St.create(Xt,iW,!1,!0)),Mt.buffer=St.getBuffer(Pr),Mt.size=Mt.buffer.dimension|0,Mt.normalized=!1,Mt.type=Mt.buffer.dtype,Mt.offset=0,Mt.stride=0,Mt.divisor=0,Mt.state=1,Xn[ln]=1}else St.getBuffer(Xt)?(Mt.buffer=St.getBuffer(Xt),Mt.size=Mt.buffer.dimension|0,Mt.normalized=!1,Mt.type=Mt.buffer.dtype,Mt.offset=0,Mt.stride=0,Mt.divisor=0,Mt.state=1):St.getBuffer(Xt.buffer)?(Mt.buffer=St.getBuffer(Xt.buffer),Mt.size=(+Xt.size||Mt.buffer.dimension)|0,Mt.normalized=!!Xt.normalized||!1,"type"in Xt?(ae.parameter(Xt.type,Vv,"invalid buffer type"),Mt.type=Vv[Xt.type]):Mt.type=Mt.buffer.dtype,Mt.offset=(Xt.offset||0)|0,Mt.stride=(Xt.stride||0)|0,Mt.divisor=(Xt.divisor||0)|0,Mt.state=1,ae(Mt.size>=1&&Mt.size<=4,"size must be between 1 and 4"),ae(Mt.offset>=0,"invalid offset"),ae(Mt.stride>=0&&Mt.stride<=255,"stride must be between 0 and 255"),ae(Mt.divisor>=0,"divisor must be positive"),ae(!Mt.divisor||!!be.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Xt?(ae(ln>0,"first attribute must not be a constant"),Mt.x=+Xt.x||0,Mt.y=+Xt.y||0,Mt.z=+Xt.z||0,Mt.w=+Xt.w||0,Mt.state=2):ae(!1,"invalid attribute spec for location "+ln)}for(var Pn=0;Pn<nn.buffers.length;++Pn)!Xn[Pn]&&nn.buffers[Pn]&&(nn.buffers[Pn].destroy(),nn.buffers[Pn]=null);return nn.refresh(),Lt}return Lt.destroy=function(){for(var rn=0;rn<nn.buffers.length;++rn)nn.buffers[rn]&&nn.buffers[rn].destroy();nn.buffers.length=0,nn.destroy()},Lt._vao=nn,Lt._reglType="vao",Lt(Dt)}return Gt}var oW=35632,TMe=35633,AMe=35718,kMe=35721;function MMe(te,be,ke,ot){var St={},it={};function dt(Xe,ht,Wt,cn){this.name=Xe,this.id=ht,this.location=Wt,this.info=cn}function Ft(Xe,ht){for(var Wt=0;Wt<Xe.length;++Wt)if(Xe[Wt].id===ht.id){Xe[Wt].location=ht.location;return}Xe.push(ht)}function jt(Xe,ht,Wt){var cn=Xe===oW?St:it,It=cn[ht];if(!It){var Sn=be.str(ht);It=te.createShader(Xe),te.shaderSource(It,Sn),te.compileShader(It),ae.shaderError(te,It,Sn,Xe,Wt),cn[ht]=It}return It}var Yt={},Gt=[],Qt=0;function sn(Xe,ht){this.id=Qt++,this.fragId=Xe,this.vertId=ht,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ot.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Vt(Xe,ht,Wt){var cn,It,Sn=jt(oW,Xe.fragId),Dt=jt(TMe,Xe.vertId),nn=Xe.program=te.createProgram();if(te.attachShader(nn,Sn),te.attachShader(nn,Dt),Wt)for(cn=0;cn<Wt.length;++cn){var Lt=Wt[cn];te.bindAttribLocation(nn,Lt[0],Lt[1])}te.linkProgram(nn),ae.linkError(te,nn,be.str(Xe.fragId),be.str(Xe.vertId),ht);var rn=te.getProgramParameter(nn,AMe);ot.profile&&(Xe.stats.uniformsCount=rn);var Xn=Xe.uniforms;for(cn=0;cn<rn;++cn)if(It=te.getActiveUniform(nn,cn),It)if(It.size>1)for(var vr=0;vr<It.size;++vr){var ln=It.name.replace("[0]","["+vr+"]");Ft(Xn,new dt(ln,be.id(ln),te.getUniformLocation(nn,ln),It))}else Ft(Xn,new dt(It.name,be.id(It.name),te.getUniformLocation(nn,It.name),It));var Xt=te.getProgramParameter(nn,kMe);ot.profile&&(Xe.stats.attributesCount=Xt);var Mt=Xe.attributes;for(cn=0;cn<Xt;++cn)It=te.getActiveAttrib(nn,cn),It&&Ft(Mt,new dt(It.name,be.id(It.name),te.getAttribLocation(nn,It.name),It))}ot.profile&&(ke.getMaxUniformsCount=function(){var Xe=0;return Gt.forEach(function(ht){ht.stats.uniformsCount>Xe&&(Xe=ht.stats.uniformsCount)}),Xe},ke.getMaxAttributesCount=function(){var Xe=0;return Gt.forEach(function(ht){ht.stats.attributesCount>Xe&&(Xe=ht.stats.attributesCount)}),Xe});function tn(){St={},it={};for(var Xe=0;Xe<Gt.length;++Xe)Vt(Gt[Xe],null,Gt[Xe].attributes.map(function(ht){return[ht.location,ht.name]}))}return{clear:function(){var Xe=te.deleteShader.bind(te);Ll(St).forEach(Xe),St={},Ll(it).forEach(Xe),it={},Gt.forEach(function(ht){te.deleteProgram(ht.program)}),Gt.length=0,Yt={},ke.shaderCount=0},program:function(Xe,ht,Wt,cn){ae.command(Xe>=0,"missing vertex shader",Wt),ae.command(ht>=0,"missing fragment shader",Wt);var It=Yt[ht];It||(It=Yt[ht]={});var Sn=It[Xe];if(Sn&&(Sn.refCount++,!cn))return Sn;var Dt=new sn(ht,Xe);return ke.shaderCount++,Vt(Dt,Wt,cn),Sn||(It[Xe]=Dt),Gt.push(Dt),r(Dt,{destroy:function(){if(Dt.refCount--,Dt.refCount<=0){te.deleteProgram(Dt.program);var nn=Gt.indexOf(Dt);Gt.splice(nn,1),ke.shaderCount--}It[Dt.vertId].refCount<=0&&(te.deleteShader(it[Dt.vertId]),delete it[Dt.vertId],delete Yt[Dt.fragId][Dt.vertId]),Object.keys(Yt[Dt.fragId]).length||(te.deleteShader(St[Dt.fragId]),delete St[Dt.fragId],delete Yt[Dt.fragId])}})},restore:tn,shader:jt,frag:-1,vert:-1}}var PMe=6408,K_=5121,OMe=3333,PE=5126;function IMe(te,be,ke,ot,St,it,dt){function Ft(Gt){var Qt;be.next===null?(ae(St.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Qt=K_):(ae(be.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Qt=be.next.colorAttachments[0].texture._texture.type,it.oes_texture_float?(ae(Qt===K_||Qt===PE,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Qt===PE&&ae(dt.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ae(Qt===K_,"Reading from a framebuffer is only allowed for the type 'uint8'"));var sn=0,Vt=0,tn=ot.framebufferWidth,Xe=ot.framebufferHeight,ht=null;n(Gt)?ht=Gt:Gt&&(ae.type(Gt,"object","invalid arguments to regl.read()"),sn=Gt.x|0,Vt=Gt.y|0,ae(sn>=0&&sn<ot.framebufferWidth,"invalid x offset for regl.read"),ae(Vt>=0&&Vt<ot.framebufferHeight,"invalid y offset for regl.read"),tn=(Gt.width||ot.framebufferWidth-sn)|0,Xe=(Gt.height||ot.framebufferHeight-Vt)|0,ht=Gt.data||null),ht&&(Qt===K_?ae(ht instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Qt===PE&&ae(ht instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ae(tn>0&&tn+sn<=ot.framebufferWidth,"invalid width for read pixels"),ae(Xe>0&&Xe+Vt<=ot.framebufferHeight,"invalid height for read pixels"),ke();var Wt=tn*Xe*4;return ht||(Qt===K_?ht=new Uint8Array(Wt):Qt===PE&&(ht=ht||new Float32Array(Wt))),ae.isTypedArray(ht,"data buffer for regl.read() must be a typedarray"),ae(ht.byteLength>=Wt,"data buffer for regl.read() too small"),te.pixelStorei(OMe,4),te.readPixels(sn,Vt,tn,Xe,PMe,Qt,ht),ht}function jt(Gt){var Qt;return be.setFBO({framebuffer:Gt.framebuffer},function(){Qt=Ft(Gt)}),Qt}function Yt(Gt){return!Gt||!("framebuffer"in Gt)?Ft(Gt):jt(Gt)}return Yt}function jy(te){return Array.prototype.slice.call(te)}function Gy(te){return jy(te).join("")}function RMe(){var te=0,be=[],ke=[];function ot(Qt){for(var sn=0;sn<ke.length;++sn)if(ke[sn]===Qt)return be[sn];var Vt="g"+te++;return be.push(Vt),ke.push(Qt),Vt}function St(){var Qt=[];function sn(){Qt.push.apply(Qt,jy(arguments))}var Vt=[];function tn(){var Xe="v"+te++;return Vt.push(Xe),arguments.length>0&&(Qt.push(Xe,"="),Qt.push.apply(Qt,jy(arguments)),Qt.push(";")),Xe}return r(sn,{def:tn,toString:function(){return Gy([Vt.length>0?"var "+Vt.join(",")+";":"",Gy(Qt)])}})}function it(){var Qt=St(),sn=St(),Vt=Qt.toString,tn=sn.toString;function Xe(ht,Wt){sn(ht,Wt,"=",Qt.def(ht,Wt),";")}return r(function(){Qt.apply(Qt,jy(arguments))},{def:Qt.def,entry:Qt,exit:sn,save:Xe,set:function(ht,Wt,cn){Xe(ht,Wt),Qt(ht,Wt,"=",cn,";")},toString:function(){return Vt()+tn()}})}function dt(){var Qt=Gy(arguments),sn=it(),Vt=it(),tn=sn.toString,Xe=Vt.toString;return r(sn,{then:function(){return sn.apply(sn,jy(arguments)),this},else:function(){return Vt.apply(Vt,jy(arguments)),this},toString:function(){var ht=Xe();return ht&&(ht="else{"+ht+"}"),Gy(["if(",Qt,"){",tn(),"}",ht])}})}var Ft=St(),jt={};function Yt(Qt,sn){var Vt=[];function tn(){var It="a"+Vt.length;return Vt.push(It),It}sn=sn||0;for(var Xe=0;Xe<sn;++Xe)tn();var ht=it(),Wt=ht.toString,cn=jt[Qt]=r(ht,{arg:tn,toString:function(){return Gy(["function(",Vt.join(),"){",Wt(),"}"])}});return cn}function Gt(){var Qt=['"use strict";',Ft,"return {"];Object.keys(jt).forEach(function(tn){Qt.push('"',tn,'":',jt[tn].toString(),",")}),Qt.push("}");var sn=Gy(Qt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Vt=Function.apply(null,be.concat(sn));return Vt.apply(null,ke)}return{global:Ft,link:ot,block:St,proc:Yt,scope:it,cond:dt,compile:Gt}}var Uy="xyzw".split(""),aW=5121,Wy=1,UL=2,WL=0,qL=1,KL=2,YL=3,OE=4,sW=5,lW=6,uW="dither",cW="blend.enable",fW="blend.color",XL="blend.equation",ZL="blend.func",dW="depth.enable",hW="depth.func",pW="depth.range",vW="depth.mask",JL="colorMask",gW="cull.enable",mW="cull.face",QL="frontFace",eD="lineWidth",yW="polygonOffset.enable",tD="polygonOffset.offset",bW="sample.alpha",_W="sample.enable",nD="sample.coverage",wW="stencil.enable",SW="stencil.mask",rD="stencil.func",iD="stencil.opFront",Y_="stencil.opBack",xW="scissor.enable",IE="scissor.box",md="viewport",X_="profile",Uv="framebuffer",Z_="vert",J_="frag",Wv="elements",qv="primitive",Kv="count",RE="offset",LE="instances",Q_="vao",oD="Width",aD="Height",qy=Uv+oD,Ky=Uv+aD,LMe=md+oD,DMe=md+aD,CW="drawingBuffer",EW=CW+oD,TW=CW+aD,NMe=[ZL,XL,rD,iD,Y_,nD,md,IE,tD],Yy=34962,BMe=34963,$Me=35632,FMe=35633,AW=3553,VMe=34067,zMe=2884,HMe=3042,jMe=3024,GMe=2960,UMe=2929,WMe=3089,qMe=32823,KMe=32926,YMe=32928,sD=5126,DE=35664,NE=35665,BE=35666,lD=5124,$E=35667,FE=35668,VE=35669,uD=35670,zE=35671,HE=35672,jE=35673,ew=35674,tw=35675,nw=35676,rw=35678,iw=35680,kW=4,ow=1028,Yv=1029,MW=2304,cD=2305,XMe=32775,ZMe=32776,JMe=519,jh=7680,PW=0,OW=1,IW=32774,QMe=513,RW=36160,ePe=36064,tf={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},LW=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Xy={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Gh={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},DW={frag:$Me,vert:FMe},fD={cw:MW,ccw:cD};function GE(te){return Array.isArray(te)||n(te)||rc(te)}function NW(te){return te.sort(function(be,ke){return be===md?-1:ke===md?1:be<ke?-1:1})}function $s(te,be,ke,ot){this.thisDep=te,this.contextDep=be,this.propDep=ke,this.append=ot}function Uh(te){return te&&!(te.thisDep||te.contextDep||te.propDep)}function Oo(te){return new $s(!1,!1,!1,te)}function fl(te,be){var ke=te.type;if(ke===WL){var ot=te.data.length;return new $s(!0,ot>=1,ot>=2,be)}else if(ke===OE){var St=te.data;return new $s(St.thisDep,St.contextDep,St.propDep,be)}else{if(ke===sW)return new $s(!1,!1,!1,be);if(ke===lW){for(var it=!1,dt=!1,Ft=!1,jt=0;jt<te.data.length;++jt){var Yt=te.data[jt];if(Yt.type===qL)Ft=!0;else if(Yt.type===KL)dt=!0;else if(Yt.type===YL)it=!0;else if(Yt.type===WL){it=!0;var Gt=Yt.data;Gt>=1&&(dt=!0),Gt>=2&&(Ft=!0)}else Yt.type===OE&&(it=it||Yt.data.thisDep,dt=dt||Yt.data.contextDep,Ft=Ft||Yt.data.propDep)}return new $s(it,dt,Ft,be)}else return new $s(ke===YL,ke===KL,ke===qL,be)}}var BW=new $s(!1,!1,!1,function(){});function tPe(te,be,ke,ot,St,it,dt,Ft,jt,Yt,Gt,Qt,sn,Vt,tn){var Xe=Yt.Record,ht={add:32774,subtract:32778,"reverse subtract":32779};ke.ext_blend_minmax&&(ht.min=XMe,ht.max=ZMe);var Wt=ke.angle_instanced_arrays,cn=ke.webgl_draw_buffers,It={dirty:!0,profile:tn.profile},Sn={},Dt=[],nn={},Lt={};function rn(Se){return Se.replace(".","_")}function Xn(Se,ve,Ie){var Ke=rn(Se);Dt.push(Se),Sn[Ke]=It[Ke]=!!Ie,nn[Ke]=ve}function vr(Se,ve,Ie){var Ke=rn(Se);Dt.push(Se),Array.isArray(Ie)?(It[Ke]=Ie.slice(),Sn[Ke]=Ie.slice()):It[Ke]=Sn[Ke]=Ie,Lt[Ke]=ve}Xn(uW,jMe),Xn(cW,HMe),vr(fW,"blendColor",[0,0,0,0]),vr(XL,"blendEquationSeparate",[IW,IW]),vr(ZL,"blendFuncSeparate",[OW,PW,OW,PW]),Xn(dW,UMe,!0),vr(hW,"depthFunc",QMe),vr(pW,"depthRange",[0,1]),vr(vW,"depthMask",!0),vr(JL,JL,[!0,!0,!0,!0]),Xn(gW,zMe),vr(mW,"cullFace",Yv),vr(QL,QL,cD),vr(eD,eD,1),Xn(yW,qMe),vr(tD,"polygonOffset",[0,0]),Xn(bW,KMe),Xn(_W,YMe),vr(nD,"sampleCoverage",[1,!1]),Xn(wW,GMe),vr(SW,"stencilMask",-1),vr(rD,"stencilFunc",[JMe,0,-1]),vr(iD,"stencilOpSeparate",[ow,jh,jh,jh]),vr(Y_,"stencilOpSeparate",[Yv,jh,jh,jh]),Xn(xW,WMe),vr(IE,"scissor",[0,0,te.drawingBufferWidth,te.drawingBufferHeight]),vr(md,md,[0,0,te.drawingBufferWidth,te.drawingBufferHeight]);var ln={gl:te,context:sn,strings:be,next:Sn,current:It,draw:Qt,elements:it,buffer:St,shader:Gt,attributes:Yt.state,vao:Yt,uniforms:jt,framebuffer:Ft,extensions:ke,timer:Vt,isBufferArgs:GE},Xt={primTypes:Dy,compareFuncs:Xy,blendFuncs:tf,blendEquations:ht,stencilOps:Gh,glTypes:Vv,orientationType:fD};ae.optional(function(){ln.isArrayLike=Eo}),cn&&(Xt.backBuffer=[Yv],Xt.drawBuffer=In(ot.maxDrawbuffers,function(Se){return Se===0?[0]:In(Se,function(ve){return ePe+ve})}));var Mt=0;function cr(){var Se=RMe(),ve=Se.link,Ie=Se.global;Se.id=Mt++,Se.batchId="0";var Ke=ve(ln),Ze=Se.shared={props:"a0"};Object.keys(ln).forEach(function(Pe){Ze[Pe]=Ie.def(Ke,".",Pe)}),ae.optional(function(){Se.CHECK=ve(ae),Se.commandStr=ae.guessCommand(),Se.command=ve(Se.commandStr),Se.assert=function(Pe,we,Ge){Pe("if(!(",we,"))",this.CHECK,".commandRaise(",ve(Ge),",",this.command,");")},Xt.invalidBlendCombinations=LW});var De=Se.next={},Re=Se.current={};Object.keys(Lt).forEach(function(Pe){Array.isArray(It[Pe])&&(De[Pe]=Ie.def(Ze.next,".",Pe),Re[Pe]=Ie.def(Ze.current,".",Pe))});var He=Se.constants={};Object.keys(Xt).forEach(function(Pe){He[Pe]=Ie.def(JSON.stringify(Xt[Pe]))}),Se.invoke=function(Pe,we){switch(we.type){case WL:var Ge=["this",Ze.context,Ze.props,Se.batchId];return Pe.def(ve(we.data),".call(",Ge.slice(0,Math.max(we.data.length+1,4)),")");case qL:return Pe.def(Ze.props,we.data);case KL:return Pe.def(Ze.context,we.data);case YL:return Pe.def("this",we.data);case OE:return we.data.append(Se,Pe),we.data.ref;case sW:return we.data.toString();case lW:return we.data.map(function(Je){return Se.invoke(Pe,Je)})}},Se.attribCache={};var xe={};return Se.scopeAttrib=function(Pe){var we=be.id(Pe);if(we in xe)return xe[we];var Ge=Yt.scope[we];Ge||(Ge=Yt.scope[we]=new Xe);var Je=xe[we]=ve(Ge);return Je},Se}function Pr(Se){var ve=Se.static,Ie=Se.dynamic,Ke;if(X_ in ve){var Ze=!!ve[X_];Ke=Oo(function(Re,He){return Ze}),Ke.enable=Ze}else if(X_ in Ie){var De=Ie[X_];Ke=fl(De,function(Re,He){return Re.invoke(He,De)})}return Ke}function Pn(Se,ve){var Ie=Se.static,Ke=Se.dynamic;if(Uv in Ie){var Ze=Ie[Uv];return Ze?(Ze=Ft.getFramebuffer(Ze),ae.command(Ze,"invalid framebuffer object"),Oo(function(Re,He){var xe=Re.link(Ze),Pe=Re.shared;He.set(Pe.framebuffer,".next",xe);var we=Pe.context;return He.set(we,"."+qy,xe+".width"),He.set(we,"."+Ky,xe+".height"),xe})):Oo(function(Re,He){var xe=Re.shared;He.set(xe.framebuffer,".next","null");var Pe=xe.context;return He.set(Pe,"."+qy,Pe+"."+EW),He.set(Pe,"."+Ky,Pe+"."+TW),"null"})}else if(Uv in Ke){var De=Ke[Uv];return fl(De,function(Re,He){var xe=Re.invoke(He,De),Pe=Re.shared,we=Pe.framebuffer,Ge=He.def(we,".getFramebuffer(",xe,")");ae.optional(function(){Re.assert(He,"!"+xe+"||"+Ge,"invalid framebuffer object")}),He.set(we,".next",Ge);var Je=Pe.context;return He.set(Je,"."+qy,Ge+"?"+Ge+".width:"+Je+"."+EW),He.set(Je,"."+Ky,Ge+"?"+Ge+".height:"+Je+"."+TW),Ge})}else return null}function Vr(Se,ve,Ie){var Ke=Se.static,Ze=Se.dynamic;function De(xe){if(xe in Ke){var Pe=Ke[xe];ae.commandType(Pe,"object","invalid "+xe,Ie.commandStr);var we=!0,Ge=Pe.x|0,Je=Pe.y|0,wt,xt;return"width"in Pe?(wt=Pe.width|0,ae.command(wt>=0,"invalid "+xe,Ie.commandStr)):we=!1,"height"in Pe?(xt=Pe.height|0,ae.command(xt>=0,"invalid "+xe,Ie.commandStr)):we=!1,new $s(!we&&ve&&ve.thisDep,!we&&ve&&ve.contextDep,!we&&ve&&ve.propDep,function(Wn,Ir){var On=Wn.shared.context,or=wt;"width"in Pe||(or=Ir.def(On,".",qy,"-",Ge));var wr=xt;return"height"in Pe||(wr=Ir.def(On,".",Ky,"-",Je)),[Ge,Je,or,wr]})}else if(xe in Ze){var gt=Ze[xe],Ut=fl(gt,function(Wn,Ir){var On=Wn.invoke(Ir,gt);ae.optional(function(){Wn.assert(Ir,On+"&&typeof "+On+'==="object"',"invalid "+xe)});var or=Wn.shared.context,wr=Ir.def(On,".x|0"),ci=Ir.def(On,".y|0"),mo=Ir.def('"width" in ',On,"?",On,".width|0:","(",or,".",qy,"-",wr,")"),Fs=Ir.def('"height" in ',On,"?",On,".height|0:","(",or,".",Ky,"-",ci,")");return ae.optional(function(){Wn.assert(Ir,mo+">=0&&"+Fs+">=0","invalid "+xe)}),[wr,ci,mo,Fs]});return ve&&(Ut.thisDep=Ut.thisDep||ve.thisDep,Ut.contextDep=Ut.contextDep||ve.contextDep,Ut.propDep=Ut.propDep||ve.propDep),Ut}else return ve?new $s(ve.thisDep,ve.contextDep,ve.propDep,function(Wn,Ir){var On=Wn.shared.context;return[0,0,Ir.def(On,".",qy),Ir.def(On,".",Ky)]}):null}var Re=De(md);if(Re){var He=Re;Re=new $s(Re.thisDep,Re.contextDep,Re.propDep,function(xe,Pe){var we=He.append(xe,Pe),Ge=xe.shared.context;return Pe.set(Ge,"."+LMe,we[2]),Pe.set(Ge,"."+DMe,we[3]),we})}return{viewport:Re,scissor_box:De(IE)}}function br(Se,ve){var Ie=Se.static,Ke=typeof Ie[J_]=="string"&&typeof Ie[Z_]=="string";if(Ke){if(Object.keys(ve.dynamic).length>0)return null;var Ze=ve.static,De=Object.keys(Ze);if(De.length>0&&typeof Ze[De[0]]=="number"){for(var Re=[],He=0;He<De.length;++He)ae(typeof Ze[De[He]]=="number","must specify all vertex attribute locations when using vaos"),Re.push([Ze[De[He]]|0,De[He]]);return Re}}return null}function Br(Se,ve,Ie){var Ke=Se.static,Ze=Se.dynamic;function De(we){if(we in Ke){var Ge=be.id(Ke[we]);ae.optional(function(){Gt.shader(DW[we],Ge,ae.guessCommand())});var Je=Oo(function(){return Ge});return Je.id=Ge,Je}else if(we in Ze){var wt=Ze[we];return fl(wt,function(xt,gt){var Ut=xt.invoke(gt,wt),Wn=gt.def(xt.shared.strings,".id(",Ut,")");return ae.optional(function(){gt(xt.shared.shader,".shader(",DW[we],",",Wn,",",xt.command,");")}),Wn})}return null}var Re=De(J_),He=De(Z_),xe=null,Pe;return Uh(Re)&&Uh(He)?(xe=Gt.program(He.id,Re.id,null,Ie),Pe=Oo(function(we,Ge){return we.link(xe)})):Pe=new $s(Re&&Re.thisDep||He&&He.thisDep,Re&&Re.contextDep||He&&He.contextDep,Re&&Re.propDep||He&&He.propDep,function(we,Ge){var Je=we.shared.shader,wt;Re?wt=Re.append(we,Ge):wt=Ge.def(Je,".",J_);var xt;He?xt=He.append(we,Ge):xt=Ge.def(Je,".",Z_);var gt=Je+".program("+xt+","+wt;return ae.optional(function(){gt+=","+we.command}),Ge.def(gt+")")}),{frag:Re,vert:He,progVar:Pe,program:xe}}function ui(Se,ve){var Ie=Se.static,Ke=Se.dynamic;function Ze(){if(Wv in Ie){var we=Ie[Wv];GE(we)?we=it.getElements(it.create(we,!0)):we&&(we=it.getElements(we),ae.command(we,"invalid elements",ve.commandStr));var Ge=Oo(function(wt,xt){if(we){var gt=wt.link(we);return wt.ELEMENTS=gt,gt}return wt.ELEMENTS=null,null});return Ge.value=we,Ge}else if(Wv in Ke){var Je=Ke[Wv];return fl(Je,function(wt,xt){var gt=wt.shared,Ut=gt.isBufferArgs,Wn=gt.elements,Ir=wt.invoke(xt,Je),On=xt.def("null"),or=xt.def(Ut,"(",Ir,")"),wr=wt.cond(or).then(On,"=",Wn,".createStream(",Ir,");").else(On,"=",Wn,".getElements(",Ir,");");return ae.optional(function(){wt.assert(wr.else,"!"+Ir+"||"+On,"invalid elements")}),xt.entry(wr),xt.exit(wt.cond(or).then(Wn,".destroyStream(",On,");")),wt.ELEMENTS=On,On})}return null}var De=Ze();function Re(){if(qv in Ie){var we=Ie[qv];return ae.commandParameter(we,Dy,"invalid primitve",ve.commandStr),Oo(function(Je,wt){return Dy[we]})}else if(qv in Ke){var Ge=Ke[qv];return fl(Ge,function(Je,wt){var xt=Je.constants.primTypes,gt=Je.invoke(wt,Ge);return ae.optional(function(){Je.assert(wt,gt+" in "+xt,"invalid primitive, must be one of "+Object.keys(Dy))}),wt.def(xt,"[",gt,"]")})}else if(De)return Uh(De)?De.value?Oo(function(Je,wt){return wt.def(Je.ELEMENTS,".primType")}):Oo(function(){return kW}):new $s(De.thisDep,De.contextDep,De.propDep,function(Je,wt){var xt=Je.ELEMENTS;return wt.def(xt,"?",xt,".primType:",kW)});return null}function He(we,Ge){if(we in Ie){var Je=Ie[we]|0;return ae.command(!Ge||Je>=0,"invalid "+we,ve.commandStr),Oo(function(xt,gt){return Ge&&(xt.OFFSET=Je),Je})}else if(we in Ke){var wt=Ke[we];return fl(wt,function(xt,gt){var Ut=xt.invoke(gt,wt);return Ge&&(xt.OFFSET=Ut,ae.optional(function(){xt.assert(gt,Ut+">=0","invalid "+we)})),Ut})}else if(Ge&&De)return Oo(function(xt,gt){return xt.OFFSET="0",0});return null}var xe=He(RE,!0);function Pe(){if(Kv in Ie){var we=Ie[Kv]|0;return ae.command(typeof we=="number"&&we>=0,"invalid vertex count",ve.commandStr),Oo(function(){return we})}else if(Kv in Ke){var Ge=Ke[Kv];return fl(Ge,function(xt,gt){var Ut=xt.invoke(gt,Ge);return ae.optional(function(){xt.assert(gt,"typeof "+Ut+'==="number"&&'+Ut+">=0&&"+Ut+"===("+Ut+"|0)","invalid vertex count")}),Ut})}else if(De)if(Uh(De)){if(De)return xe?new $s(xe.thisDep,xe.contextDep,xe.propDep,function(xt,gt){var Ut=gt.def(xt.ELEMENTS,".vertCount-",xt.OFFSET);return ae.optional(function(){xt.assert(gt,Ut+">=0","invalid vertex offset/element buffer too small")}),Ut}):Oo(function(xt,gt){return gt.def(xt.ELEMENTS,".vertCount")});var Je=Oo(function(){return-1});return ae.optional(function(){Je.MISSING=!0}),Je}else{var wt=new $s(De.thisDep||xe.thisDep,De.contextDep||xe.contextDep,De.propDep||xe.propDep,function(xt,gt){var Ut=xt.ELEMENTS;return xt.OFFSET?gt.def(Ut,"?",Ut,".vertCount-",xt.OFFSET,":-1"):gt.def(Ut,"?",Ut,".vertCount:-1")});return ae.optional(function(){wt.DYNAMIC=!0}),wt}return null}return{elements:De,primitive:Re(),count:Pe(),instances:He(LE,!1),offset:xe}}function Io(Se,ve){var Ie=Se.static,Ke=Se.dynamic,Ze={};return Dt.forEach(function(De){var Re=rn(De);function He(xe,Pe){if(De in Ie){var we=xe(Ie[De]);Ze[Re]=Oo(function(){return we})}else if(De in Ke){var Ge=Ke[De];Ze[Re]=fl(Ge,function(Je,wt){return Pe(Je,wt,Je.invoke(wt,Ge))})}}switch(De){case gW:case cW:case uW:case wW:case dW:case xW:case yW:case bW:case _W:case vW:return He(function(xe){return ae.commandType(xe,"boolean",De,ve.commandStr),xe},function(xe,Pe,we){return ae.optional(function(){xe.assert(Pe,"typeof "+we+'==="boolean"',"invalid flag "+De,xe.commandStr)}),we});case hW:return He(function(xe){return ae.commandParameter(xe,Xy,"invalid "+De,ve.commandStr),Xy[xe]},function(xe,Pe,we){var Ge=xe.constants.compareFuncs;return ae.optional(function(){xe.assert(Pe,we+" in "+Ge,"invalid "+De+", must be one of "+Object.keys(Xy))}),Pe.def(Ge,"[",we,"]")});case pW:return He(function(xe){return ae.command(Eo(xe)&&xe.length===2&&typeof xe[0]=="number"&&typeof xe[1]=="number"&&xe[0]<=xe[1],"depth range is 2d array",ve.commandStr),xe},function(xe,Pe,we){ae.optional(function(){xe.assert(Pe,xe.shared.isArrayLike+"("+we+")&&"+we+".length===2&&typeof "+we+'[0]==="number"&&typeof '+we+'[1]==="number"&&'+we+"[0]<="+we+"[1]","depth range must be a 2d array")});var Ge=Pe.def("+",we,"[0]"),Je=Pe.def("+",we,"[1]");return[Ge,Je]});case ZL:return He(function(xe){ae.commandType(xe,"object","blend.func",ve.commandStr);var Pe="srcRGB"in xe?xe.srcRGB:xe.src,we="srcAlpha"in xe?xe.srcAlpha:xe.src,Ge="dstRGB"in xe?xe.dstRGB:xe.dst,Je="dstAlpha"in xe?xe.dstAlpha:xe.dst;return ae.commandParameter(Pe,tf,Re+".srcRGB",ve.commandStr),ae.commandParameter(we,tf,Re+".srcAlpha",ve.commandStr),ae.commandParameter(Ge,tf,Re+".dstRGB",ve.commandStr),ae.commandParameter(Je,tf,Re+".dstAlpha",ve.commandStr),ae.command(LW.indexOf(Pe+", "+Ge)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Pe+", "+Ge+")",ve.commandStr),[tf[Pe],tf[Ge],tf[we],tf[Je]]},function(xe,Pe,we){var Ge=xe.constants.blendFuncs;ae.optional(function(){xe.assert(Pe,we+"&&typeof "+we+'==="object"',"invalid blend func, must be an object")});function Je(On,or){var wr=Pe.def('"',On,or,'" in ',we,"?",we,".",On,or,":",we,".",On);return ae.optional(function(){xe.assert(Pe,wr+" in "+Ge,"invalid "+De+"."+On+or+", must be one of "+Object.keys(tf))}),wr}var wt=Je("src","RGB"),xt=Je("dst","RGB");ae.optional(function(){var On=xe.constants.invalidBlendCombinations;xe.assert(Pe,On+".indexOf("+wt+'+", "+'+xt+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var gt=Pe.def(Ge,"[",wt,"]"),Ut=Pe.def(Ge,"[",Je("src","Alpha"),"]"),Wn=Pe.def(Ge,"[",xt,"]"),Ir=Pe.def(Ge,"[",Je("dst","Alpha"),"]");return[gt,Wn,Ut,Ir]});case XL:return He(function(xe){if(typeof xe=="string")return ae.commandParameter(xe,ht,"invalid "+De,ve.commandStr),[ht[xe],ht[xe]];if(typeof xe=="object")return ae.commandParameter(xe.rgb,ht,De+".rgb",ve.commandStr),ae.commandParameter(xe.alpha,ht,De+".alpha",ve.commandStr),[ht[xe.rgb],ht[xe.alpha]];ae.commandRaise("invalid blend.equation",ve.commandStr)},function(xe,Pe,we){var Ge=xe.constants.blendEquations,Je=Pe.def(),wt=Pe.def(),xt=xe.cond("typeof ",we,'==="string"');return ae.optional(function(){function gt(Ut,Wn,Ir){xe.assert(Ut,Ir+" in "+Ge,"invalid "+Wn+", must be one of "+Object.keys(ht))}gt(xt.then,De,we),xe.assert(xt.else,we+"&&typeof "+we+'==="object"',"invalid "+De),gt(xt.else,De+".rgb",we+".rgb"),gt(xt.else,De+".alpha",we+".alpha")}),xt.then(Je,"=",wt,"=",Ge,"[",we,"];"),xt.else(Je,"=",Ge,"[",we,".rgb];",wt,"=",Ge,"[",we,".alpha];"),Pe(xt),[Je,wt]});case fW:return He(function(xe){return ae.command(Eo(xe)&&xe.length===4,"blend.color must be a 4d array",ve.commandStr),In(4,function(Pe){return+xe[Pe]})},function(xe,Pe,we){return ae.optional(function(){xe.assert(Pe,xe.shared.isArrayLike+"("+we+")&&"+we+".length===4","blend.color must be a 4d array")}),In(4,function(Ge){return Pe.def("+",we,"[",Ge,"]")})});case SW:return He(function(xe){return ae.commandType(xe,"number",Re,ve.commandStr),xe|0},function(xe,Pe,we){return ae.optional(function(){xe.assert(Pe,"typeof "+we+'==="number"',"invalid stencil.mask")}),Pe.def(we,"|0")});case rD:return He(function(xe){ae.commandType(xe,"object",Re,ve.commandStr);var Pe=xe.cmp||"keep",we=xe.ref||0,Ge="mask"in xe?xe.mask:-1;return ae.commandParameter(Pe,Xy,De+".cmp",ve.commandStr),ae.commandType(we,"number",De+".ref",ve.commandStr),ae.commandType(Ge,"number",De+".mask",ve.commandStr),[Xy[Pe],we,Ge]},function(xe,Pe,we){var Ge=xe.constants.compareFuncs;ae.optional(function(){function gt(){xe.assert(Pe,Array.prototype.join.call(arguments,""),"invalid stencil.func")}gt(we+"&&typeof ",we,'==="object"'),gt('!("cmp" in ',we,")||(",we,".cmp in ",Ge,")")});var Je=Pe.def('"cmp" in ',we,"?",Ge,"[",we,".cmp]",":",jh),wt=Pe.def(we,".ref|0"),xt=Pe.def('"mask" in ',we,"?",we,".mask|0:-1");return[Je,wt,xt]});case iD:case Y_:return He(function(xe){ae.commandType(xe,"object",Re,ve.commandStr);var Pe=xe.fail||"keep",we=xe.zfail||"keep",Ge=xe.zpass||"keep";return ae.commandParameter(Pe,Gh,De+".fail",ve.commandStr),ae.commandParameter(we,Gh,De+".zfail",ve.commandStr),ae.commandParameter(Ge,Gh,De+".zpass",ve.commandStr),[De===Y_?Yv:ow,Gh[Pe],Gh[we],Gh[Ge]]},function(xe,Pe,we){var Ge=xe.constants.stencilOps;ae.optional(function(){xe.assert(Pe,we+"&&typeof "+we+'==="object"',"invalid "+De)});function Je(wt){return ae.optional(function(){xe.assert(Pe,'!("'+wt+'" in '+we+")||("+we+"."+wt+" in "+Ge+")","invalid "+De+"."+wt+", must be one of "+Object.keys(Gh))}),Pe.def('"',wt,'" in ',we,"?",Ge,"[",we,".",wt,"]:",jh)}return[De===Y_?Yv:ow,Je("fail"),Je("zfail"),Je("zpass")]});case tD:return He(function(xe){ae.commandType(xe,"object",Re,ve.commandStr);var Pe=xe.factor|0,we=xe.units|0;return ae.commandType(Pe,"number",Re+".factor",ve.commandStr),ae.commandType(we,"number",Re+".units",ve.commandStr),[Pe,we]},function(xe,Pe,we){ae.optional(function(){xe.assert(Pe,we+"&&typeof "+we+'==="object"',"invalid "+De)});var Ge=Pe.def(we,".factor|0"),Je=Pe.def(we,".units|0");return[Ge,Je]});case mW:return He(function(xe){var Pe=0;return xe==="front"?Pe=ow:xe==="back"&&(Pe=Yv),ae.command(!!Pe,Re,ve.commandStr),Pe},function(xe,Pe,we){return ae.optional(function(){xe.assert(Pe,we+'==="front"||'+we+'==="back"',"invalid cull.face")}),Pe.def(we,'==="front"?',ow,":",Yv)});case eD:return He(function(xe){return ae.command(typeof xe=="number"&&xe>=ot.lineWidthDims[0]&&xe<=ot.lineWidthDims[1],"invalid line width, must be a positive number between "+ot.lineWidthDims[0]+" and "+ot.lineWidthDims[1],ve.commandStr),xe},function(xe,Pe,we){return ae.optional(function(){xe.assert(Pe,"typeof "+we+'==="number"&&'+we+">="+ot.lineWidthDims[0]+"&&"+we+"<="+ot.lineWidthDims[1],"invalid line width")}),we});case QL:return He(function(xe){return ae.commandParameter(xe,fD,Re,ve.commandStr),fD[xe]},function(xe,Pe,we){return ae.optional(function(){xe.assert(Pe,we+'==="cw"||'+we+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Pe.def(we+'==="cw"?'+MW+":"+cD)});case JL:return He(function(xe){return ae.command(Eo(xe)&&xe.length===4,"color.mask must be length 4 array",ve.commandStr),xe.map(function(Pe){return!!Pe})},function(xe,Pe,we){return ae.optional(function(){xe.assert(Pe,xe.shared.isArrayLike+"("+we+")&&"+we+".length===4","invalid color.mask")}),In(4,function(Ge){return"!!"+we+"["+Ge+"]"})});case nD:return He(function(xe){ae.command(typeof xe=="object"&&xe,Re,ve.commandStr);var Pe="value"in xe?xe.value:1,we=!!xe.invert;return ae.command(typeof Pe=="number"&&Pe>=0&&Pe<=1,"sample.coverage.value must be a number between 0 and 1",ve.commandStr),[Pe,we]},function(xe,Pe,we){ae.optional(function(){xe.assert(Pe,we+"&&typeof "+we+'==="object"',"invalid sample.coverage")});var Ge=Pe.def('"value" in ',we,"?+",we,".value:1"),Je=Pe.def("!!",we,".invert");return[Ge,Je]})}}),Ze}function aa(Se,ve){var Ie=Se.static,Ke=Se.dynamic,Ze={};return Object.keys(Ie).forEach(function(De){var Re=Ie[De],He;if(typeof Re=="number"||typeof Re=="boolean")He=Oo(function(){return Re});else if(typeof Re=="function"){var xe=Re._reglType;xe==="texture2d"||xe==="textureCube"?He=Oo(function(Pe){return Pe.link(Re)}):xe==="framebuffer"||xe==="framebufferCube"?(ae.command(Re.color.length>0,'missing color attachment for framebuffer sent to uniform "'+De+'"',ve.commandStr),He=Oo(function(Pe){return Pe.link(Re.color[0])})):ae.commandRaise('invalid data for uniform "'+De+'"',ve.commandStr)}else Eo(Re)?He=Oo(function(Pe){var we=Pe.global.def("[",In(Re.length,function(Ge){return ae.command(typeof Re[Ge]=="number"||typeof Re[Ge]=="boolean","invalid uniform "+De,Pe.commandStr),Re[Ge]}),"]");return we}):ae.commandRaise('invalid or missing data for uniform "'+De+'"',ve.commandStr);He.value=Re,Ze[De]=He}),Object.keys(Ke).forEach(function(De){var Re=Ke[De];Ze[De]=fl(Re,function(He,xe){return He.invoke(xe,Re)})}),Ze}function Wr(Se,ve){var Ie=Se.static,Ke=Se.dynamic,Ze={};return Object.keys(Ie).forEach(function(De){var Re=Ie[De],He=be.id(De),xe=new Xe;if(GE(Re))xe.state=Wy,xe.buffer=St.getBuffer(St.create(Re,Yy,!1,!0)),xe.type=0;else{var Pe=St.getBuffer(Re);if(Pe)xe.state=Wy,xe.buffer=Pe,xe.type=0;else if(ae.command(typeof Re=="object"&&Re,"invalid data for attribute "+De,ve.commandStr),"constant"in Re){var we=Re.constant;xe.buffer="null",xe.state=UL,typeof we=="number"?xe.x=we:(ae.command(Eo(we)&&we.length>0&&we.length<=4,"invalid constant for attribute "+De,ve.commandStr),Uy.forEach(function(Wn,Ir){Ir<we.length&&(xe[Wn]=we[Ir])}))}else{GE(Re.buffer)?Pe=St.getBuffer(St.create(Re.buffer,Yy,!1,!0)):Pe=St.getBuffer(Re.buffer),ae.command(!!Pe,'missing buffer for attribute "'+De+'"',ve.commandStr);var Ge=Re.offset|0;ae.command(Ge>=0,'invalid offset for attribute "'+De+'"',ve.commandStr);var Je=Re.stride|0;ae.command(Je>=0&&Je<256,'invalid stride for attribute "'+De+'", must be integer betweeen [0, 255]',ve.commandStr);var wt=Re.size|0;ae.command(!("size"in Re)||wt>0&&wt<=4,'invalid size for attribute "'+De+'", must be 1,2,3,4',ve.commandStr);var xt=!!Re.normalized,gt=0;"type"in Re&&(ae.commandParameter(Re.type,Vv,"invalid type for attribute "+De,ve.commandStr),gt=Vv[Re.type]);var Ut=Re.divisor|0;"divisor"in Re&&(ae.command(Ut===0||Wt,'cannot specify divisor for attribute "'+De+'", instancing not supported',ve.commandStr),ae.command(Ut>=0,'invalid divisor for attribute "'+De+'"',ve.commandStr)),ae.optional(function(){var Wn=ve.commandStr,Ir=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Re).forEach(function(On){ae.command(Ir.indexOf(On)>=0,'unknown parameter "'+On+'" for attribute pointer "'+De+'" (valid parameters are '+Ir+")",Wn)})}),xe.buffer=Pe,xe.state=Wy,xe.size=wt,xe.normalized=xt,xe.type=gt||Pe.dtype,xe.offset=Ge,xe.stride=Je,xe.divisor=Ut}}Ze[De]=Oo(function(Wn,Ir){var On=Wn.attribCache;if(He in On)return On[He];var or={isStream:!1};return Object.keys(xe).forEach(function(wr){or[wr]=xe[wr]}),xe.buffer&&(or.buffer=Wn.link(xe.buffer),or.type=or.type||or.buffer+".dtype"),On[He]=or,or})}),Object.keys(Ke).forEach(function(De){var Re=Ke[De];function He(xe,Pe){var we=xe.invoke(Pe,Re),Ge=xe.shared,Je=xe.constants,wt=Ge.isBufferArgs,xt=Ge.buffer;ae.optional(function(){xe.assert(Pe,we+"&&(typeof "+we+'==="object"||typeof '+we+'==="function")&&('+wt+"("+we+")||"+xt+".getBuffer("+we+")||"+xt+".getBuffer("+we+".buffer)||"+wt+"("+we+'.buffer)||("constant" in '+we+"&&(typeof "+we+'.constant==="number"||'+Ge.isArrayLike+"("+we+".constant))))",'invalid dynamic attribute "'+De+'"')});var gt={isStream:Pe.def(!1)},Ut=new Xe;Ut.state=Wy,Object.keys(Ut).forEach(function(or){gt[or]=Pe.def(""+Ut[or])});var Wn=gt.buffer,Ir=gt.type;Pe("if(",wt,"(",we,")){",gt.isStream,"=true;",Wn,"=",xt,".createStream(",Yy,",",we,");",Ir,"=",Wn,".dtype;","}else{",Wn,"=",xt,".getBuffer(",we,");","if(",Wn,"){",Ir,"=",Wn,".dtype;",'}else if("constant" in ',we,"){",gt.state,"=",UL,";","if(typeof "+we+'.constant === "number"){',gt[Uy[0]],"=",we,".constant;",Uy.slice(1).map(function(or){return gt[or]}).join("="),"=0;","}else{",Uy.map(function(or,wr){return gt[or]+"="+we+".constant.length>"+wr+"?"+we+".constant["+wr+"]:0;"}).join(""),"}}else{","if(",wt,"(",we,".buffer)){",Wn,"=",xt,".createStream(",Yy,",",we,".buffer);","}else{",Wn,"=",xt,".getBuffer(",we,".buffer);","}",Ir,'="type" in ',we,"?",Je.glTypes,"[",we,".type]:",Wn,".dtype;",gt.normalized,"=!!",we,".normalized;");function On(or){Pe(gt[or],"=",we,".",or,"|0;")}return On("size"),On("offset"),On("stride"),On("divisor"),Pe("}}"),Pe.exit("if(",gt.isStream,"){",xt,".destroyStream(",Wn,");","}"),gt}Ze[De]=fl(Re,He)}),Ze}function qo(Se,ve){var Ie=Se.static,Ke=Se.dynamic;if(Q_ in Ie){var Ze=Ie[Q_];return Ze!==null&&Yt.getVAO(Ze)===null&&(Ze=Yt.createVAO(Ze)),Oo(function(Re){return Re.link(Yt.getVAO(Ze))})}else if(Q_ in Ke){var De=Ke[Q_];return fl(De,function(Re,He){var xe=Re.invoke(He,De);return He.def(Re.shared.vao+".getVAO("+xe+")")})}return null}function qi(Se){var ve=Se.static,Ie=Se.dynamic,Ke={};return Object.keys(ve).forEach(function(Ze){var De=ve[Ze];Ke[Ze]=Oo(function(Re,He){return typeof De=="number"||typeof De=="boolean"?""+De:Re.link(De)})}),Object.keys(Ie).forEach(function(Ze){var De=Ie[Ze];Ke[Ze]=fl(De,function(Re,He){return Re.invoke(He,De)})}),Ke}function Ro(Se,ve,Ie,Ke,Ze){var De=Se.static,Re=Se.dynamic;ae.optional(function(){var On=[Uv,Z_,J_,Wv,qv,RE,Kv,LE,X_,Q_].concat(Dt);function or(wr){Object.keys(wr).forEach(function(ci){ae.command(On.indexOf(ci)>=0,'unknown parameter "'+ci+'"',Ze.commandStr)})}or(De),or(Re)});var He=br(Se,ve),xe=Pn(Se),Pe=Vr(Se,xe,Ze),we=ui(Se,Ze),Ge=Io(Se,Ze),Je=Br(Se,Ze,He);function wt(On){var or=Pe[On];or&&(Ge[On]=or)}wt(md),wt(rn(IE));var xt=Object.keys(Ge).length>0,gt={framebuffer:xe,draw:we,shader:Je,state:Ge,dirty:xt,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(gt.profile=Pr(Se),gt.uniforms=aa(Ie,Ze),gt.drawVAO=gt.scopeVAO=qo(Se),!gt.drawVAO&&Je.program&&!He&&ke.angle_instanced_arrays){var Ut=!0,Wn=Je.program.attributes.map(function(On){var or=ve.static[On];return Ut=Ut&&!!or,or});if(Ut&&Wn.length>0){var Ir=Yt.getVAO(Yt.createVAO(Wn));gt.drawVAO=new $s(null,null,null,function(On,or){return On.link(Ir)}),gt.useVAO=!0}}return He?gt.useVAO=!0:gt.attributes=Wr(ve,Ze),gt.context=qi(Ke),gt}function Ko(Se,ve,Ie){var Ke=Se.shared,Ze=Ke.context,De=Se.scope();Object.keys(Ie).forEach(function(Re){ve.save(Ze,"."+Re);var He=Ie[Re],xe=He.append(Se,ve);Array.isArray(xe)?De(Ze,".",Re,"=[",xe.join(),"];"):De(Ze,".",Re,"=",xe,";")}),ve(De)}function Yo(Se,ve,Ie,Ke){var Ze=Se.shared,De=Ze.gl,Re=Ze.framebuffer,He;cn&&(He=ve.def(Ze.extensions,".webgl_draw_buffers"));var xe=Se.constants,Pe=xe.drawBuffer,we=xe.backBuffer,Ge;Ie?Ge=Ie.append(Se,ve):Ge=ve.def(Re,".next"),Ke||ve("if(",Ge,"!==",Re,".cur){"),ve("if(",Ge,"){",De,".bindFramebuffer(",RW,",",Ge,".framebuffer);"),cn&&ve(He,".drawBuffersWEBGL(",Pe,"[",Ge,".colorAttachments.length]);"),ve("}else{",De,".bindFramebuffer(",RW,",null);"),cn&&ve(He,".drawBuffersWEBGL(",we,");"),ve("}",Re,".cur=",Ge,";"),Ke||ve("}")}function ma(Se,ve,Ie){var Ke=Se.shared,Ze=Ke.gl,De=Se.current,Re=Se.next,He=Ke.current,xe=Ke.next,Pe=Se.cond(He,".dirty");Dt.forEach(function(we){var Ge=rn(we);if(!(Ge in Ie.state)){var Je,wt;if(Ge in Re){Je=Re[Ge],wt=De[Ge];var xt=In(It[Ge].length,function(Ut){return Pe.def(Je,"[",Ut,"]")});Pe(Se.cond(xt.map(function(Ut,Wn){return Ut+"!=="+wt+"["+Wn+"]"}).join("||")).then(Ze,".",Lt[Ge],"(",xt,");",xt.map(function(Ut,Wn){return wt+"["+Wn+"]="+Ut}).join(";"),";"))}else{Je=Pe.def(xe,".",Ge);var gt=Se.cond(Je,"!==",He,".",Ge);Pe(gt),Ge in nn?gt(Se.cond(Je).then(Ze,".enable(",nn[Ge],");").else(Ze,".disable(",nn[Ge],");"),He,".",Ge,"=",Je,";"):gt(Ze,".",Lt[Ge],"(",Je,");",He,".",Ge,"=",Je,";")}}}),Object.keys(Ie.state).length===0&&Pe(He,".dirty=false;"),ve(Pe)}function Ra(Se,ve,Ie,Ke){var Ze=Se.shared,De=Se.current,Re=Ze.current,He=Ze.gl;NW(Object.keys(Ie)).forEach(function(xe){var Pe=Ie[xe];if(!(Ke&&!Ke(Pe))){var we=Pe.append(Se,ve);if(nn[xe]){var Ge=nn[xe];Uh(Pe)?we?ve(He,".enable(",Ge,");"):ve(He,".disable(",Ge,");"):ve(Se.cond(we).then(He,".enable(",Ge,");").else(He,".disable(",Ge,");")),ve(Re,".",xe,"=",we,";")}else if(Eo(we)){var Je=De[xe];ve(He,".",Lt[xe],"(",we,");",we.map(function(wt,xt){return Je+"["+xt+"]="+wt}).join(";"),";")}else ve(He,".",Lt[xe],"(",we,");",Re,".",xe,"=",we,";")}})}function To(Se,ve){Wt&&(Se.instancing=ve.def(Se.shared.extensions,".angle_instanced_arrays"))}function Or(Se,ve,Ie,Ke,Ze){var De=Se.shared,Re=Se.stats,He=De.current,xe=De.timer,Pe=Ie.profile;function we(){return typeof performance>"u"?"Date.now()":"performance.now()"}var Ge,Je;function wt(On){Ge=ve.def(),On(Ge,"=",we(),";"),typeof Ze=="string"?On(Re,".count+=",Ze,";"):On(Re,".count++;"),Vt&&(Ke?(Je=ve.def(),On(Je,"=",xe,".getNumPendingQueries();")):On(xe,".beginQuery(",Re,");"))}function xt(On){On(Re,".cpuTime+=",we(),"-",Ge,";"),Vt&&(Ke?On(xe,".pushScopeStats(",Je,",",xe,".getNumPendingQueries(),",Re,");"):On(xe,".endQuery();"))}function gt(On){var or=ve.def(He,".profile");ve(He,".profile=",On,";"),ve.exit(He,".profile=",or,";")}var Ut;if(Pe){if(Uh(Pe)){Pe.enable?(wt(ve),xt(ve.exit),gt("true")):gt("false");return}Ut=Pe.append(Se,ve),gt(Ut)}else Ut=ve.def(He,".profile");var Wn=Se.block();wt(Wn),ve("if(",Ut,"){",Wn,"}");var Ir=Se.block();xt(Ir),ve.exit("if(",Ut,"){",Ir,"}")}function La(Se,ve,Ie,Ke,Ze){var De=Se.shared;function Re(xe){switch(xe){case DE:case $E:case zE:return 2;case NE:case FE:case HE:return 3;case BE:case VE:case jE:return 4;default:return 1}}function He(xe,Pe,we){var Ge=De.gl,Je=ve.def(xe,".location"),wt=ve.def(De.attributes,"[",Je,"]"),xt=we.state,gt=we.buffer,Ut=[we.x,we.y,we.z,we.w],Wn=["buffer","normalized","offset","stride"];function Ir(){ve("if(!",wt,".buffer){",Ge,".enableVertexAttribArray(",Je,");}");var or=we.type,wr;if(we.size?wr=ve.def(we.size,"||",Pe):wr=Pe,ve("if(",wt,".type!==",or,"||",wt,".size!==",wr,"||",Wn.map(function(mo){return wt+"."+mo+"!=="+we[mo]}).join("||"),"){",Ge,".bindBuffer(",Yy,",",gt,".buffer);",Ge,".vertexAttribPointer(",[Je,wr,or,we.normalized,we.stride,we.offset],");",wt,".type=",or,";",wt,".size=",wr,";",Wn.map(function(mo){return wt+"."+mo+"="+we[mo]+";"}).join(""),"}"),Wt){var ci=we.divisor;ve("if(",wt,".divisor!==",ci,"){",Se.instancing,".vertexAttribDivisorANGLE(",[Je,ci],");",wt,".divisor=",ci,";}")}}function On(){ve("if(",wt,".buffer){",Ge,".disableVertexAttribArray(",Je,");",wt,".buffer=null;","}if(",Uy.map(function(or,wr){return wt+"."+or+"!=="+Ut[wr]}).join("||"),"){",Ge,".vertexAttrib4f(",Je,",",Ut,");",Uy.map(function(or,wr){return wt+"."+or+"="+Ut[wr]+";"}).join(""),"}")}xt===Wy?Ir():xt===UL?On():(ve("if(",xt,"===",Wy,"){"),Ir(),ve("}else{"),On(),ve("}"))}Ke.forEach(function(xe){var Pe=xe.name,we=Ie.attributes[Pe],Ge;if(we){if(!Ze(we))return;Ge=we.append(Se,ve)}else{if(!Ze(BW))return;var Je=Se.scopeAttrib(Pe);ae.optional(function(){Se.assert(ve,Je+".state","missing attribute "+Pe)}),Ge={},Object.keys(new Xe).forEach(function(wt){Ge[wt]=ve.def(Je,".",wt)})}He(Se.link(xe),Re(xe.info.type),Ge)})}function vi(Se,ve,Ie,Ke,Ze){for(var De=Se.shared,Re=De.gl,He,xe=0;xe<Ke.length;++xe){var Pe=Ke[xe],we=Pe.name,Ge=Pe.info.type,Je=Ie.uniforms[we],wt=Se.link(Pe),xt=wt+".location",gt;if(Je){if(!Ze(Je))continue;if(Uh(Je)){var Ut=Je.value;if(ae.command(Ut!==null&&typeof Ut<"u",'missing uniform "'+we+'"',Se.commandStr),Ge===rw||Ge===iw){ae.command(typeof Ut=="function"&&(Ge===rw&&(Ut._reglType==="texture2d"||Ut._reglType==="framebuffer")||Ge===iw&&(Ut._reglType==="textureCube"||Ut._reglType==="framebufferCube")),"invalid texture for uniform "+we,Se.commandStr);var Wn=Se.link(Ut._texture||Ut.color[0]._texture);ve(Re,".uniform1i(",xt,",",Wn+".bind());"),ve.exit(Wn,".unbind();")}else if(Ge===ew||Ge===tw||Ge===nw){ae.optional(function(){ae.command(Eo(Ut),"invalid matrix for uniform "+we,Se.commandStr),ae.command(Ge===ew&&Ut.length===4||Ge===tw&&Ut.length===9||Ge===nw&&Ut.length===16,"invalid length for matrix uniform "+we,Se.commandStr)});var Ir=Se.global.def("new Float32Array(["+Array.prototype.slice.call(Ut)+"])"),On=2;Ge===tw?On=3:Ge===nw&&(On=4),ve(Re,".uniformMatrix",On,"fv(",xt,",false,",Ir,");")}else{switch(Ge){case sD:ae.commandType(Ut,"number","uniform "+we,Se.commandStr),He="1f";break;case DE:ae.command(Eo(Ut)&&Ut.length===2,"uniform "+we,Se.commandStr),He="2f";break;case NE:ae.command(Eo(Ut)&&Ut.length===3,"uniform "+we,Se.commandStr),He="3f";break;case BE:ae.command(Eo(Ut)&&Ut.length===4,"uniform "+we,Se.commandStr),He="4f";break;case uD:ae.commandType(Ut,"boolean","uniform "+we,Se.commandStr),He="1i";break;case lD:ae.commandType(Ut,"number","uniform "+we,Se.commandStr),He="1i";break;case zE:ae.command(Eo(Ut)&&Ut.length===2,"uniform "+we,Se.commandStr),He="2i";break;case $E:ae.command(Eo(Ut)&&Ut.length===2,"uniform "+we,Se.commandStr),He="2i";break;case HE:ae.command(Eo(Ut)&&Ut.length===3,"uniform "+we,Se.commandStr),He="3i";break;case FE:ae.command(Eo(Ut)&&Ut.length===3,"uniform "+we,Se.commandStr),He="3i";break;case jE:ae.command(Eo(Ut)&&Ut.length===4,"uniform "+we,Se.commandStr),He="4i";break;case VE:ae.command(Eo(Ut)&&Ut.length===4,"uniform "+we,Se.commandStr),He="4i";break}ve(Re,".uniform",He,"(",xt,",",Eo(Ut)?Array.prototype.slice.call(Ut):Ut,");")}continue}else gt=Je.append(Se,ve)}else{if(!Ze(BW))continue;gt=ve.def(De.uniforms,"[",be.id(we),"]")}Ge===rw?(ae(!Array.isArray(gt),"must specify a scalar prop for textures"),ve("if(",gt,"&&",gt,'._reglType==="framebuffer"){',gt,"=",gt,".color[0];","}")):Ge===iw&&(ae(!Array.isArray(gt),"must specify a scalar prop for cube maps"),ve("if(",gt,"&&",gt,'._reglType==="framebufferCube"){',gt,"=",gt,".color[0];","}")),ae.optional(function(){function Fs(oc,GW){Se.assert(ve,oc,'bad data or missing for uniform "'+we+'".  '+GW)}function dD(oc){ae(!Array.isArray(gt),"must not specify an array type for uniform"),Fs("typeof "+gt+'==="'+oc+'"',"invalid type, expected "+oc)}function au(oc,GW){Array.isArray(gt)?ae(gt.length===oc,"must have length "+oc):Fs(De.isArrayLike+"("+gt+")&&"+gt+".length==="+oc,"invalid vector, should have length "+oc,Se.commandStr)}function jW(oc){ae(!Array.isArray(gt),"must not specify a value type"),Fs("typeof "+gt+'==="function"&&'+gt+'._reglType==="texture'+(oc===AW?"2d":"Cube")+'"',"invalid texture type",Se.commandStr)}switch(Ge){case lD:dD("number");break;case $E:au(2);break;case FE:au(3);break;case VE:au(4);break;case sD:dD("number");break;case DE:au(2);break;case NE:au(3);break;case BE:au(4);break;case uD:dD("boolean");break;case zE:au(2);break;case HE:au(3);break;case jE:au(4);break;case ew:au(4);break;case tw:au(9);break;case nw:au(16);break;case rw:jW(AW);break;case iw:jW(VMe);break}});var or=1;switch(Ge){case rw:case iw:var wr=ve.def(gt,"._texture");ve(Re,".uniform1i(",xt,",",wr,".bind());"),ve.exit(wr,".unbind();");continue;case lD:case uD:He="1i";break;case $E:case zE:He="2i",or=2;break;case FE:case HE:He="3i",or=3;break;case VE:case jE:He="4i",or=4;break;case sD:He="1f";break;case DE:He="2f",or=2;break;case NE:He="3f",or=3;break;case BE:He="4f",or=4;break;case ew:He="Matrix2fv";break;case tw:He="Matrix3fv";break;case nw:He="Matrix4fv";break}if(ve(Re,".uniform",He,"(",xt,","),He.charAt(0)==="M"){var ci=Math.pow(Ge-ew+2,2),mo=Se.global.def("new Float32Array(",ci,")");Array.isArray(gt)?ve("false,(",In(ci,function(Fs){return mo+"["+Fs+"]="+gt[Fs]}),",",mo,")"):ve("false,(Array.isArray(",gt,")||",gt," instanceof Float32Array)?",gt,":(",In(ci,function(Fs){return mo+"["+Fs+"]="+gt+"["+Fs+"]"}),",",mo,")")}else or>1?ve(In(or,function(Fs){return Array.isArray(gt)?gt[Fs]:gt+"["+Fs+"]"})):(ae(!Array.isArray(gt),"uniform value must not be an array"),ve(gt));ve(");")}}function ir(Se,ve,Ie,Ke){var Ze=Se.shared,De=Ze.gl,Re=Ze.draw,He=Ke.draw;function xe(){var wr=He.elements,ci,mo=ve;return wr?((wr.contextDep&&Ke.contextDynamic||wr.propDep)&&(mo=Ie),ci=wr.append(Se,mo)):ci=mo.def(Re,".",Wv),ci&&mo("if("+ci+")"+De+".bindBuffer("+BMe+","+ci+".buffer.buffer);"),ci}function Pe(){var wr=He.count,ci,mo=ve;return wr?((wr.contextDep&&Ke.contextDynamic||wr.propDep)&&(mo=Ie),ci=wr.append(Se,mo),ae.optional(function(){wr.MISSING&&Se.assert(ve,"false","missing vertex count"),wr.DYNAMIC&&Se.assert(mo,ci+">=0","missing vertex count")})):(ci=mo.def(Re,".",Kv),ae.optional(function(){Se.assert(mo,ci+">=0","missing vertex count")})),ci}var we=xe();function Ge(wr){var ci=He[wr];return ci?ci.contextDep&&Ke.contextDynamic||ci.propDep?ci.append(Se,Ie):ci.append(Se,ve):ve.def(Re,".",wr)}var Je=Ge(qv),wt=Ge(RE),xt=Pe();if(typeof xt=="number"){if(xt===0)return}else Ie("if(",xt,"){"),Ie.exit("}");var gt,Ut;Wt&&(gt=Ge(LE),Ut=Se.instancing);var Wn=we+".type",Ir=He.elements&&Uh(He.elements);function On(){function wr(){Ie(Ut,".drawElementsInstancedANGLE(",[Je,xt,Wn,wt+"<<(("+Wn+"-"+aW+")>>1)",gt],");")}function ci(){Ie(Ut,".drawArraysInstancedANGLE(",[Je,wt,xt,gt],");")}we?Ir?wr():(Ie("if(",we,"){"),wr(),Ie("}else{"),ci(),Ie("}")):ci()}function or(){function wr(){Ie(De+".drawElements("+[Je,xt,Wn,wt+"<<(("+Wn+"-"+aW+")>>1)"]+");")}function ci(){Ie(De+".drawArrays("+[Je,wt,xt]+");")}we?Ir?wr():(Ie("if(",we,"){"),wr(),Ie("}else{"),ci(),Ie("}")):ci()}Wt&&(typeof gt!="number"||gt>=0)?typeof gt=="string"?(Ie("if(",gt,">0){"),On(),Ie("}else if(",gt,"<0){"),or(),Ie("}")):On():or()}function jr(Se,ve,Ie,Ke,Ze){var De=cr(),Re=De.proc("body",Ze);return ae.optional(function(){De.commandStr=ve.commandStr,De.command=De.link(ve.commandStr)}),Wt&&(De.instancing=Re.def(De.shared.extensions,".angle_instanced_arrays")),Se(De,Re,Ie,Ke),De.compile().body}function ni(Se,ve,Ie,Ke){To(Se,ve),Ie.useVAO?Ie.drawVAO?ve(Se.shared.vao,".setVAO(",Ie.drawVAO.append(Se,ve),");"):ve(Se.shared.vao,".setVAO(",Se.shared.vao,".targetVAO);"):(ve(Se.shared.vao,".setVAO(null);"),La(Se,ve,Ie,Ke.attributes,function(){return!0})),vi(Se,ve,Ie,Ke.uniforms,function(){return!0}),ir(Se,ve,ve,Ie)}function Ao(Se,ve){var Ie=Se.proc("draw",1);To(Se,Ie),Ko(Se,Ie,ve.context),Yo(Se,Ie,ve.framebuffer),ma(Se,Ie,ve),Ra(Se,Ie,ve.state),Or(Se,Ie,ve,!1,!0);var Ke=ve.shader.progVar.append(Se,Ie);if(Ie(Se.shared.gl,".useProgram(",Ke,".program);"),ve.shader.program)ni(Se,Ie,ve,ve.shader.program);else{Ie(Se.shared.vao,".setVAO(null);");var Ze=Se.global.def("{}"),De=Ie.def(Ke,".id"),Re=Ie.def(Ze,"[",De,"]");Ie(Se.cond(Re).then(Re,".call(this,a0);").else(Re,"=",Ze,"[",De,"]=",Se.link(function(He){return jr(ni,Se,ve,He,1)}),"(",Ke,");",Re,".call(this,a0);"))}Object.keys(ve.state).length>0&&Ie(Se.shared.current,".dirty=true;")}function nf(Se,ve,Ie,Ke){Se.batchId="a1",To(Se,ve);function Ze(){return!0}La(Se,ve,Ie,Ke.attributes,Ze),vi(Se,ve,Ie,Ke.uniforms,Ze),ir(Se,ve,ve,Ie)}function Xv(Se,ve,Ie,Ke){To(Se,ve);var Ze=Ie.contextDep,De=ve.def(),Re="a0",He="a1",xe=ve.def();Se.shared.props=xe,Se.batchId=De;var Pe=Se.scope(),we=Se.scope();ve(Pe.entry,"for(",De,"=0;",De,"<",He,";++",De,"){",xe,"=",Re,"[",De,"];",we,"}",Pe.exit);function Ge(Wn){return Wn.contextDep&&Ze||Wn.propDep}function Je(Wn){return!Ge(Wn)}if(Ie.needsContext&&Ko(Se,we,Ie.context),Ie.needsFramebuffer&&Yo(Se,we,Ie.framebuffer),Ra(Se,we,Ie.state,Ge),Ie.profile&&Ge(Ie.profile)&&Or(Se,we,Ie,!1,!0),Ke)Ie.useVAO?Ie.drawVAO?Ge(Ie.drawVAO)?we(Se.shared.vao,".setVAO(",Ie.drawVAO.append(Se,we),");"):Pe(Se.shared.vao,".setVAO(",Ie.drawVAO.append(Se,Pe),");"):Pe(Se.shared.vao,".setVAO(",Se.shared.vao,".targetVAO);"):(Pe(Se.shared.vao,".setVAO(null);"),La(Se,Pe,Ie,Ke.attributes,Je),La(Se,we,Ie,Ke.attributes,Ge)),vi(Se,Pe,Ie,Ke.uniforms,Je),vi(Se,we,Ie,Ke.uniforms,Ge),ir(Se,Pe,we,Ie);else{var wt=Se.global.def("{}"),xt=Ie.shader.progVar.append(Se,we),gt=we.def(xt,".id"),Ut=we.def(wt,"[",gt,"]");we(Se.shared.gl,".useProgram(",xt,".program);","if(!",Ut,"){",Ut,"=",wt,"[",gt,"]=",Se.link(function(Wn){return jr(nf,Se,Ie,Wn,2)}),"(",xt,");}",Ut,".call(this,a0[",De,"],",De,");")}}function Te(Se,ve){var Ie=Se.proc("batch",2);Se.batchId="0",To(Se,Ie);var Ke=!1,Ze=!0;Object.keys(ve.context).forEach(function(wt){Ke=Ke||ve.context[wt].propDep}),Ke||(Ko(Se,Ie,ve.context),Ze=!1);var De=ve.framebuffer,Re=!1;De?(De.propDep?Ke=Re=!0:De.contextDep&&Ke&&(Re=!0),Re||Yo(Se,Ie,De)):Yo(Se,Ie,null),ve.state.viewport&&ve.state.viewport.propDep&&(Ke=!0);function He(wt){return wt.contextDep&&Ke||wt.propDep}ma(Se,Ie,ve),Ra(Se,Ie,ve.state,function(wt){return!He(wt)}),(!ve.profile||!He(ve.profile))&&Or(Se,Ie,ve,!1,"a1"),ve.contextDep=Ke,ve.needsContext=Ze,ve.needsFramebuffer=Re;var xe=ve.shader.progVar;if(xe.contextDep&&Ke||xe.propDep)Xv(Se,Ie,ve,null);else{var Pe=xe.append(Se,Ie);if(Ie(Se.shared.gl,".useProgram(",Pe,".program);"),ve.shader.program)Xv(Se,Ie,ve,ve.shader.program);else{Ie(Se.shared.vao,".setVAO(null);");var we=Se.global.def("{}"),Ge=Ie.def(Pe,".id"),Je=Ie.def(we,"[",Ge,"]");Ie(Se.cond(Je).then(Je,".call(this,a0,a1);").else(Je,"=",we,"[",Ge,"]=",Se.link(function(wt){return jr(Xv,Se,ve,wt,2)}),"(",Pe,");",Je,".call(this,a0,a1);"))}}Object.keys(ve.state).length>0&&Ie(Se.shared.current,".dirty=true;")}function at(Se,ve){var Ie=Se.proc("scope",3);Se.batchId="a2";var Ke=Se.shared,Ze=Ke.current;Ko(Se,Ie,ve.context),ve.framebuffer&&ve.framebuffer.append(Se,Ie),NW(Object.keys(ve.state)).forEach(function(Re){var He=ve.state[Re],xe=He.append(Se,Ie);Eo(xe)?xe.forEach(function(Pe,we){Ie.set(Se.next[Re],"["+we+"]",Pe)}):Ie.set(Ke.next,"."+Re,xe)}),Or(Se,Ie,ve,!0,!0),[Wv,RE,Kv,LE,qv].forEach(function(Re){var He=ve.draw[Re];He&&Ie.set(Ke.draw,"."+Re,""+He.append(Se,Ie))}),Object.keys(ve.uniforms).forEach(function(Re){var He=ve.uniforms[Re].append(Se,Ie);Array.isArray(He)&&(He="["+He.join()+"]"),Ie.set(Ke.uniforms,"["+be.id(Re)+"]",He)}),Object.keys(ve.attributes).forEach(function(Re){var He=ve.attributes[Re].append(Se,Ie),xe=Se.scopeAttrib(Re);Object.keys(new Xe).forEach(function(Pe){Ie.set(xe,"."+Pe,He[Pe])})}),ve.scopeVAO&&Ie.set(Ke.vao,".targetVAO",ve.scopeVAO.append(Se,Ie));function De(Re){var He=ve.shader[Re];He&&Ie.set(Ke.shader,"."+Re,He.append(Se,Ie))}De(Z_),De(J_),Object.keys(ve.state).length>0&&(Ie(Ze,".dirty=true;"),Ie.exit(Ze,".dirty=true;")),Ie("a1(",Se.shared.context,",a0,",Se.batchId,");")}function et(Se){if(!(typeof Se!="object"||Eo(Se))){for(var ve=Object.keys(Se),Ie=0;Ie<ve.length;++Ie)if(mt.isDynamic(Se[ve[Ie]]))return!0;return!1}}function En(Se,ve,Ie){var Ke=ve.static[Ie];if(!Ke||!et(Ke))return;var Ze=Se.global,De=Object.keys(Ke),Re=!1,He=!1,xe=!1,Pe=Se.global.def("{}");De.forEach(function(Ge){var Je=Ke[Ge];if(mt.isDynamic(Je)){typeof Je=="function"&&(Je=Ke[Ge]=mt.unbox(Je));var wt=fl(Je,null);Re=Re||wt.thisDep,xe=xe||wt.propDep,He=He||wt.contextDep}else{switch(Ze(Pe,".",Ge,"="),typeof Je){case"number":Ze(Je);break;case"string":Ze('"',Je,'"');break;case"object":Array.isArray(Je)&&Ze("[",Je.join(),"]");break;default:Ze(Se.link(Je));break}Ze(";")}});function we(Ge,Je){De.forEach(function(wt){var xt=Ke[wt];if(mt.isDynamic(xt)){var gt=Ge.invoke(Je,xt);Je(Pe,".",wt,"=",gt,";")}})}ve.dynamic[Ie]=new mt.DynamicVariable(OE,{thisDep:Re,contextDep:He,propDep:xe,ref:Pe,append:we}),delete ve.static[Ie]}function zr(Se,ve,Ie,Ke,Ze){var De=cr();De.stats=De.link(Ze),Object.keys(ve.static).forEach(function(He){En(De,ve,He)}),NMe.forEach(function(He){En(De,Se,He)});var Re=Ro(Se,ve,Ie,Ke,De);return Ao(De,Re),at(De,Re),Te(De,Re),r(De.compile(),{destroy:function(){Re.shader.program.destroy()}})}return{next:Sn,current:It,procs:(function(){var Se=cr(),ve=Se.proc("poll"),Ie=Se.proc("refresh"),Ke=Se.block();ve(Ke),Ie(Ke);var Ze=Se.shared,De=Ze.gl,Re=Ze.next,He=Ze.current;Ke(He,".dirty=false;"),Yo(Se,ve),Yo(Se,Ie,null,!0);var xe;Wt&&(xe=Se.link(Wt)),ke.oes_vertex_array_object&&Ie(Se.link(ke.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Pe=0;Pe<ot.maxAttributes;++Pe){var we=Ie.def(Ze.attributes,"[",Pe,"]"),Ge=Se.cond(we,".buffer");Ge.then(De,".enableVertexAttribArray(",Pe,");",De,".bindBuffer(",Yy,",",we,".buffer.buffer);",De,".vertexAttribPointer(",Pe,",",we,".size,",we,".type,",we,".normalized,",we,".stride,",we,".offset);").else(De,".disableVertexAttribArray(",Pe,");",De,".vertexAttrib4f(",Pe,",",we,".x,",we,".y,",we,".z,",we,".w);",we,".buffer=null;"),Ie(Ge),Wt&&Ie(xe,".vertexAttribDivisorANGLE(",Pe,",",we,".divisor);")}return Ie(Se.shared.vao,".currentVAO=null;",Se.shared.vao,".setVAO(",Se.shared.vao,".targetVAO);"),Object.keys(nn).forEach(function(Je){var wt=nn[Je],xt=Ke.def(Re,".",Je),gt=Se.block();gt("if(",xt,"){",De,".enable(",wt,")}else{",De,".disable(",wt,")}",He,".",Je,"=",xt,";"),Ie(gt),ve("if(",xt,"!==",He,".",Je,"){",gt,"}")}),Object.keys(Lt).forEach(function(Je){var wt=Lt[Je],xt=It[Je],gt,Ut,Wn=Se.block();if(Wn(De,".",wt,"("),Eo(xt)){var Ir=xt.length;gt=Se.global.def(Re,".",Je),Ut=Se.global.def(He,".",Je),Wn(In(Ir,function(On){return gt+"["+On+"]"}),");",In(Ir,function(On){return Ut+"["+On+"]="+gt+"["+On+"];"}).join("")),ve("if(",In(Ir,function(On){return gt+"["+On+"]!=="+Ut+"["+On+"]"}).join("||"),"){",Wn,"}")}else gt=Ke.def(Re,".",Je),Ut=Ke.def(He,".",Je),Wn(gt,");",He,".",Je,"=",gt,";"),ve("if(",gt,"!==",Ut,"){",Wn,"}");Ie(Wn)}),Se.compile()})(),compile:zr}}function nPe(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var rPe=34918,iPe=34919,$W=35007,oPe=function(te,be){if(!be.ext_disjoint_timer_query)return null;var ke=[];function ot(){return ke.pop()||be.ext_disjoint_timer_query.createQueryEXT()}function St(Wt){ke.push(Wt)}var it=[];function dt(Wt){var cn=ot();be.ext_disjoint_timer_query.beginQueryEXT($W,cn),it.push(cn),Vt(it.length-1,it.length,Wt)}function Ft(){be.ext_disjoint_timer_query.endQueryEXT($W)}function jt(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Yt=[];function Gt(){return Yt.pop()||new jt}function Qt(Wt){Yt.push(Wt)}var sn=[];function Vt(Wt,cn,It){var Sn=Gt();Sn.startQueryIndex=Wt,Sn.endQueryIndex=cn,Sn.sum=0,Sn.stats=It,sn.push(Sn)}var tn=[],Xe=[];function ht(){var Wt,cn,It=it.length;if(It!==0){Xe.length=Math.max(Xe.length,It+1),tn.length=Math.max(tn.length,It+1),tn[0]=0,Xe[0]=0;var Sn=0;for(Wt=0,cn=0;cn<it.length;++cn){var Dt=it[cn];be.ext_disjoint_timer_query.getQueryObjectEXT(Dt,iPe)?(Sn+=be.ext_disjoint_timer_query.getQueryObjectEXT(Dt,rPe),St(Dt)):it[Wt++]=Dt,tn[cn+1]=Sn,Xe[cn+1]=Wt}for(it.length=Wt,Wt=0,cn=0;cn<sn.length;++cn){var nn=sn[cn],Lt=nn.startQueryIndex,rn=nn.endQueryIndex;nn.sum+=tn[rn]-tn[Lt];var Xn=Xe[Lt],vr=Xe[rn];vr===Xn?(nn.stats.gpuTime+=nn.sum/1e6,Qt(nn)):(nn.startQueryIndex=Xn,nn.endQueryIndex=vr,sn[Wt++]=nn)}sn.length=Wt}}return{beginQuery:dt,endQuery:Ft,pushScopeStats:Vt,update:ht,getNumPendingQueries:function(){return it.length},clear:function(){ke.push.apply(ke,it);for(var Wt=0;Wt<ke.length;Wt++)be.ext_disjoint_timer_query.deleteQueryEXT(ke[Wt]);it.length=0,ke.length=0},restore:function(){it.length=0,ke.length=0}}},aPe=16384,sPe=256,lPe=1024,uPe=34962,FW="webglcontextlost",VW="webglcontextrestored",zW=1,cPe=2,fPe=3;function HW(te,be){for(var ke=0;ke<te.length;++ke)if(te[ke]===be)return ke;return-1}function dPe(te){var be=Er(te);if(!be)return null;var ke=be.gl,ot=ke.getContextAttributes(),St=ke.isContextLost(),it=ut(ke,be);if(!it)return null;var dt=Ae(),Ft=nPe(),jt=it.extensions,Yt=oPe(ke,jt),Gt=le(),Qt=ke.drawingBufferWidth,sn=ke.drawingBufferHeight,Vt={tick:0,time:0,viewportWidth:Qt,viewportHeight:sn,framebufferWidth:Qt,framebufferHeight:sn,drawingBufferWidth:Qt,drawingBufferHeight:sn,pixelRatio:be.pixelRatio},tn={},Xe={elements:null,primitive:4,count:-1,offset:0,instances:-1},ht=ZAe(ke,jt),Wt=hke(ke,Ft,be,It),cn=EMe(ke,jt,ht,Ft,Wt);function It(ir){return cn.destroyBuffer(ir)}var Sn=Eke(ke,jt,Wt,Ft),Dt=MMe(ke,dt,Ft,be),nn=nMe(ke,jt,ht,function(){Xn.procs.poll()},Vt,Ft,be),Lt=rMe(ke,jt,ht,Ft,be),rn=xMe(ke,jt,ht,nn,Lt,Ft),Xn=tPe(ke,dt,jt,ht,Wt,Sn,nn,rn,tn,cn,Dt,Xe,Vt,Yt,be),vr=IMe(ke,rn,Xn.procs.poll,Vt,ot,jt,ht),ln=Xn.next,Xt=ke.canvas,Mt=[],cr=[],Pr=[],Pn=[be.onDestroy],Vr=null;function br(){if(Mt.length===0){Yt&&Yt.update(),Vr=null;return}Vr=re.next(br),Ra();for(var ir=Mt.length-1;ir>=0;--ir){var jr=Mt[ir];jr&&jr(Vt,null,0)}ke.flush(),Yt&&Yt.update()}function Br(){!Vr&&Mt.length>0&&(Vr=re.next(br))}function ui(){Vr&&(re.cancel(br),Vr=null)}function Io(ir){ir.preventDefault(),St=!0,ui(),cr.forEach(function(jr){jr()})}function aa(ir){ke.getError(),St=!1,it.restore(),Dt.restore(),Wt.restore(),nn.restore(),Lt.restore(),rn.restore(),cn.restore(),Yt&&Yt.restore(),Xn.procs.refresh(),Br(),Pr.forEach(function(jr){jr()})}Xt&&(Xt.addEventListener(FW,Io,!1),Xt.addEventListener(VW,aa,!1));function Wr(){Mt.length=0,ui(),Xt&&(Xt.removeEventListener(FW,Io),Xt.removeEventListener(VW,aa)),Dt.clear(),rn.clear(),Lt.clear(),nn.clear(),Sn.clear(),Wt.clear(),cn.clear(),Yt&&Yt.clear(),Pn.forEach(function(ir){ir()})}function qo(ir){ae(!!ir,"invalid args to regl({...})"),ae.type(ir,"object","invalid args to regl({...})");function jr(Ze){var De=r({},Ze);delete De.uniforms,delete De.attributes,delete De.context,delete De.vao,"stencil"in De&&De.stencil.op&&(De.stencil.opBack=De.stencil.opFront=De.stencil.op,delete De.stencil.op);function Re(He){if(He in De){var xe=De[He];delete De[He],Object.keys(xe).forEach(function(Pe){De[He+"."+Pe]=xe[Pe]})}}return Re("blend"),Re("depth"),Re("cull"),Re("stencil"),Re("polygonOffset"),Re("scissor"),Re("sample"),"vao"in Ze&&(De.vao=Ze.vao),De}function ni(Ze,De){var Re={},He={};return Object.keys(Ze).forEach(function(xe){var Pe=Ze[xe];if(mt.isDynamic(Pe)){He[xe]=mt.unbox(Pe,xe);return}else if(De&&Array.isArray(Pe)){for(var we=0;we<Pe.length;++we)if(mt.isDynamic(Pe[we])){He[xe]=mt.unbox(Pe,xe);return}}Re[xe]=Pe}),{dynamic:He,static:Re}}var Ao=ni(ir.context||{},!0),nf=ni(ir.uniforms||{},!0),Xv=ni(ir.attributes||{},!1),Te=ni(jr(ir),!1),at={gpuTime:0,cpuTime:0,count:0},et=Xn.compile(Te,Xv,nf,Ao,at),En=et.draw,zr=et.batch,Se=et.scope,ve=[];function Ie(Ze){for(;ve.length<Ze;)ve.push(null);return ve}function Ke(Ze,De){var Re;if(St&&ae.raise("context lost"),typeof Ze=="function")return Se.call(this,null,Ze,0);if(typeof De=="function")if(typeof Ze=="number")for(Re=0;Re<Ze;++Re)Se.call(this,null,De,Re);else if(Array.isArray(Ze))for(Re=0;Re<Ze.length;++Re)Se.call(this,Ze[Re],De,Re);else return Se.call(this,Ze,De,0);else if(typeof Ze=="number"){if(Ze>0)return zr.call(this,Ie(Ze|0),Ze|0)}else if(Array.isArray(Ze)){if(Ze.length)return zr.call(this,Ze,Ze.length)}else return En.call(this,Ze)}return r(Ke,{stats:at,destroy:function(){et.destroy()}})}var qi=rn.setFBO=qo({framebuffer:mt.define.call(null,zW,"framebuffer")});function Ro(ir,jr){var ni=0;Xn.procs.poll();var Ao=jr.color;Ao&&(ke.clearColor(+Ao[0]||0,+Ao[1]||0,+Ao[2]||0,+Ao[3]||0),ni|=aPe),"depth"in jr&&(ke.clearDepth(+jr.depth),ni|=sPe),"stencil"in jr&&(ke.clearStencil(jr.stencil|0),ni|=lPe),ae(!!ni,"called regl.clear with no buffer specified"),ke.clear(ni)}function Ko(ir){if(ae(typeof ir=="object"&&ir,"regl.clear() takes an object as input"),"framebuffer"in ir)if(ir.framebuffer&&ir.framebuffer_reglType==="framebufferCube")for(var jr=0;jr<6;++jr)qi(r({framebuffer:ir.framebuffer.faces[jr]},ir),Ro);else qi(ir,Ro);else Ro(null,ir)}function Yo(ir){ae.type(ir,"function","regl.frame() callback must be a function"),Mt.push(ir);function jr(){var ni=HW(Mt,ir);ae(ni>=0,"cannot cancel a frame twice");function Ao(){var nf=HW(Mt,Ao);Mt[nf]=Mt[Mt.length-1],Mt.length-=1,Mt.length<=0&&ui()}Mt[ni]=Ao}return Br(),{cancel:jr}}function ma(){var ir=ln.viewport,jr=ln.scissor_box;ir[0]=ir[1]=jr[0]=jr[1]=0,Vt.viewportWidth=Vt.framebufferWidth=Vt.drawingBufferWidth=ir[2]=jr[2]=ke.drawingBufferWidth,Vt.viewportHeight=Vt.framebufferHeight=Vt.drawingBufferHeight=ir[3]=jr[3]=ke.drawingBufferHeight}function Ra(){Vt.tick+=1,Vt.time=Or(),ma(),Xn.procs.poll()}function To(){nn.refresh(),ma(),Xn.procs.refresh(),Yt&&Yt.update()}function Or(){return(le()-Gt)/1e3}To();function La(ir,jr){ae.type(jr,"function","listener callback must be a function");var ni;switch(ir){case"frame":return Yo(jr);case"lost":ni=cr;break;case"restore":ni=Pr;break;case"destroy":ni=Pn;break;default:ae.raise("invalid event, must be one of frame,lost,restore,destroy")}return ni.push(jr),{cancel:function(){for(var Ao=0;Ao<ni.length;++Ao)if(ni[Ao]===jr){ni[Ao]=ni[ni.length-1],ni.pop();return}}}}var vi=r(qo,{clear:Ko,prop:mt.define.bind(null,zW),context:mt.define.bind(null,cPe),this:mt.define.bind(null,fPe),draw:qo({}),buffer:function(ir){return Wt.create(ir,uPe,!1,!1)},elements:function(ir){return Sn.create(ir,!1)},texture:nn.create2D,cube:nn.createCube,renderbuffer:Lt.create,framebuffer:rn.create,framebufferCube:rn.createCube,vao:cn.createVAO,attributes:ot,frame:Yo,on:La,limits:ht,hasExtension:function(ir){return ht.extensions.indexOf(ir.toLowerCase())>=0},read:vr,destroy:Wr,_gl:ke,_refresh:To,poll:function(){Ra(),Yt&&Yt.update()},now:Or,stats:Ft});return be.onDone(null,vi),vi}return dPe}))})(Rk)),Rk.exports}f_t();var wd,mw,Sd,lu,yw,Yh,bw,xT,af,tg,Ka,sf,lf,CT;wd={},xn(wd,yn.POINTS,"points"),xn(wd,yn.LINES,"lines"),xn(wd,yn.LINE_LOOP,"line loop"),xn(wd,yn.LINE_STRIP,"line strip"),xn(wd,yn.TRIANGLES,"triangles"),xn(wd,yn.TRIANGLE_FAN,"triangle fan"),xn(wd,yn.TRIANGLE_STRIP,"triangle strip");mw={},xn(mw,yn.STATIC_DRAW,"static"),xn(mw,yn.DYNAMIC_DRAW,"dynamic"),xn(mw,yn.STREAM_DRAW,"stream");Sd={},xn(Sd,yn.BYTE,"int8"),xn(Sd,yn.UNSIGNED_INT,"int16"),xn(Sd,yn.INT,"int32"),xn(Sd,yn.UNSIGNED_BYTE,"uint8"),xn(Sd,yn.UNSIGNED_SHORT,"uint16"),xn(Sd,yn.UNSIGNED_INT,"uint32"),xn(Sd,yn.FLOAT,"float");lu={},xn(lu,yn.ALPHA,"alpha"),xn(lu,yn.LUMINANCE,"luminance"),xn(lu,yn.LUMINANCE_ALPHA,"luminance alpha"),xn(lu,yn.RGB,"rgb"),xn(lu,yn.RGBA,"rgba"),xn(lu,yn.RGBA4,"rgba4"),xn(lu,yn.RGB5_A1,"rgb5 a1"),xn(lu,yn.RGB565,"rgb565"),xn(lu,yn.DEPTH_COMPONENT,"depth"),xn(lu,yn.DEPTH_STENCIL,"depth stencil");yw={},xn(yw,yn.DONT_CARE,"dont care"),xn(yw,yn.NICEST,"nice"),xn(yw,yn.FASTEST,"fast");Yh={},xn(Yh,yn.NEAREST,"nearest"),xn(Yh,yn.LINEAR,"linear"),xn(Yh,yn.LINEAR_MIPMAP_LINEAR,"mipmap"),xn(Yh,yn.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),xn(Yh,yn.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),xn(Yh,yn.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest");bw={},xn(bw,yn.REPEAT,"repeat"),xn(bw,yn.CLAMP_TO_EDGE,"clamp"),xn(bw,yn.MIRRORED_REPEAT,"mirror");xT={},xn(xT,yn.NONE,"none"),xn(xT,yn.BROWSER_DEFAULT_WEBGL,"browser");af={},xn(af,yn.NEVER,"never"),xn(af,yn.ALWAYS,"always"),xn(af,yn.LESS,"less"),xn(af,yn.LEQUAL,"lequal"),xn(af,yn.GREATER,"greater"),xn(af,yn.GEQUAL,"gequal"),xn(af,yn.EQUAL,"equal"),xn(af,yn.NOTEQUAL,"notequal");tg={},xn(tg,yn.FUNC_ADD,"add"),xn(tg,yn.MIN_EXT,"min"),xn(tg,yn.MAX_EXT,"max"),xn(tg,yn.FUNC_SUBTRACT,"subtract"),xn(tg,yn.FUNC_REVERSE_SUBTRACT,"reverse subtract");Ka={},xn(Ka,yn.ZERO,"zero"),xn(Ka,yn.ONE,"one"),xn(Ka,yn.SRC_COLOR,"src color"),xn(Ka,yn.ONE_MINUS_SRC_COLOR,"one minus src color"),xn(Ka,yn.SRC_ALPHA,"src alpha"),xn(Ka,yn.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),xn(Ka,yn.DST_COLOR,"dst color"),xn(Ka,yn.ONE_MINUS_DST_COLOR,"one minus dst color"),xn(Ka,yn.DST_ALPHA,"dst alpha"),xn(Ka,yn.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),xn(Ka,yn.CONSTANT_COLOR,"constant color"),xn(Ka,yn.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),xn(Ka,yn.CONSTANT_ALPHA,"constant alpha"),xn(Ka,yn.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),xn(Ka,yn.SRC_ALPHA_SATURATE,"src alpha saturate");sf={},xn(sf,yn.NEVER,"never"),xn(sf,yn.ALWAYS,"always"),xn(sf,yn.LESS,"less"),xn(sf,yn.LEQUAL,"lequal"),xn(sf,yn.GREATER,"greater"),xn(sf,yn.GEQUAL,"gequal"),xn(sf,yn.EQUAL,"equal"),xn(sf,yn.NOTEQUAL,"notequal");lf={},xn(lf,yn.ZERO,"zero"),xn(lf,yn.KEEP,"keep"),xn(lf,yn.REPLACE,"replace"),xn(lf,yn.INVERT,"invert"),xn(lf,yn.INCR,"increment"),xn(lf,yn.DECR,"decrement"),xn(lf,yn.INCR_WRAP,"increment wrap"),xn(lf,yn.DECR_WRAP,"decrement wrap");CT={},xn(CT,yn.FRONT,"front"),xn(CT,yn.BACK,"back");var $3,mee;function d_t(){if(mee)return $3;mee=1;function t(e,n){return function(r){return e(n(r))}}return $3=t,$3}var F3,yee;function h_t(){if(yee)return F3;yee=1;var t=d_t(),e=t(Object.getPrototypeOf,Object);return F3=e,F3}var V3,bee;function p_t(){if(bee)return V3;bee=1;var t=rG(),e=h_t(),n=iG(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object);function u(c){if(!n(c)||t(c)!=r)return!1;var f=e(c);if(f===null)return!0;var d=s.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&a.call(d)==l}return V3=u,V3}p_t();const v_t=["src","alt"],g_t={__name:"sqlIcon",props:{src:{type:String,required:!0},alt:{type:String,default:"Custom Icon"}},setup(t){return(e,n)=>(N(),Q("img",{src:t.src,alt:t.alt,class:"custom-icon"},null,8,v_t))}},cS=ds(g_t,[["__scopeId","data-v-b5e1d2ec"]]);en.prototype.toSVG=function(t,e){const n=this.getPlugin("export");n&&n.toSVG(t,e)};en.prototype.toPNG=function(t,e){const n=this.getPlugin("export");n&&n.toPNG(t,e)};en.prototype.toJPEG=function(t,e){const n=this.getPlugin("export");n&&n.toJPEG(t,e)};en.prototype.exportPNG=function(t,e){const n=this.getPlugin("export");n&&n.exportPNG(t,e)};en.prototype.exportJPEG=function(t,e){const n=this.getPlugin("export");n&&n.exportJPEG(t,e)};en.prototype.exportSVG=function(t,e){const n=this.getPlugin("export");n&&n.exportSVG(t,e)};var m_t=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(i<3?a(o):i>3?a(e,n,o):a(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};class l1e extends vo{constructor(){super(),this.name="export"}get view(){return this.graph.view}init(e){this.graph=e}exportPNG(e="chart",n={}){this.toPNG(r=>{Bd.downloadDataUri(r,e)},n)}exportJPEG(e="chart",n={}){this.toPNG(r=>{Bd.downloadDataUri(r,e)},n)}exportSVG(e="chart",n={}){this.toSVG(r=>{Bd.downloadDataUri(Bd.svgToDataUrl(r),e)},n)}toSVG(e,n={}){this.notify("before:export",n);const r=this.view.svg,i=Sr.create(r).clone();let o=i.node;const a=i.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`),s=n.viewBox||this.graph.graphToLocal(this.graph.getContentBBox()),l=n.preserveDimensions;if(l){const f=typeof l=="boolean"?s:l;i.attr({width:f.width,height:f.height})}if(i.removeAttribute("style").attr("viewBox",[s.x,s.y,s.width,s.height].join(" ")),a.removeAttribute("transform"),n.copyStyles!==!1){const f=r.ownerDocument,d=Array.from(r.querySelectorAll("*")),h=Array.from(o.querySelectorAll("*")),p=f.styleSheets.length,v=[];for(let y=p-1;y>=0;y-=1)v[y]=f.styleSheets[y],f.styleSheets[y].disabled=!0;const g={};d.forEach((y,b)=>{const w=window.getComputedStyle(y,null),S={};Object.keys(w).forEach(x=>{S[x]=w.getPropertyValue(x)}),g[b]=S}),p!==f.styleSheets.length&&v.forEach((y,b)=>{f.styleSheets[b]=y});for(let y=0;y<p;y+=1)f.styleSheets[y].disabled=!1;const m={};d.forEach((y,b)=>{const w=window.getComputedStyle(y,null),S=g[b],x={};Object.keys(w).forEach(C=>{!aF(C)&&w.getPropertyValue(C)!==S[C]&&(x[C]=w.getPropertyValue(C))}),m[b]=x}),h.forEach((y,b)=>{sa(y,m[b])})}const u=n.stylesheet;if(typeof u=="string"){const f=r.ownerDocument.implementation.createDocument(null,"xml",null).createCDATASection(u);i.prepend(Sr.create("style",{type:"text/css"},[f]))}const c=()=>{const f=n.beforeSerialize;if(typeof f=="function"){const h=lr(f,this.graph,o);h instanceof SVGSVGElement&&(o=h)}const d=new XMLSerializer().serializeToString(o).replace(/&nbsp;/g,"");this.notify("after:export",n),e(d)};if(n.serializeImages){const f=i.find("image").map(d=>new Promise(h=>{const p=d.attr("xlink:href")||d.attr("href");Bd.imageToDataUri(p,(v,g)=>{!v&&g&&d.attr("xlink:href",g),h()})}));Promise.all(f).then(c)}else c()}toDataURL(e,n){let r=n.viewBox||this.graph.getContentBBox();const i=iv(n.padding);n.width&&n.height&&(i.left+i.right>=n.width&&(i.left=i.right=0),i.top+i.bottom>=n.height&&(i.top=i.bottom=0));const o=new bn(-i.left,-i.top,i.left+i.right,i.top+i.bottom);if(n.width&&n.height){const c=r.width+i.left+i.right,f=r.height+i.top+i.bottom;o.scale(c/n.width,f/n.height)}r=bn.create(r).moveAndExpand(o);const a=typeof n.width=="number"&&typeof n.height=="number"?{width:n.width,height:n.height}:r;let s=n.ratio?parseFloat(n.ratio):1;(!Number.isFinite(s)||s===0)&&(s=1);const l={width:Math.max(Math.round(a.width*s),1),height:Math.max(Math.round(a.height*s),1)};{const c=document.createElement("canvas"),f=c.getContext("2d");c.width=l.width,c.height=l.height;const d=l.width-1,h=l.height-1;f.fillStyle="rgb(1,1,1)",f.fillRect(d,h,1,1);const p=f.getImageData(d,h,1,1).data;if(p[0]!==1||p[1]!==1||p[2]!==1)throw new Error("size exceeded")}const u=new Image;u.onload=()=>{const c=document.createElement("canvas");c.width=l.width,c.height=l.height;const f=c.getContext("2d");f.fillStyle=n.backgroundColor||"white",f.fillRect(0,0,l.width,l.height);try{f.drawImage(u,0,0,l.width,l.height);const d=c.toDataURL(n.type,n.quality);e(d)}catch{}},this.toSVG(c=>{u.src=`data:image/svg+xml,${encodeURIComponent(c)}`},Object.assign(Object.assign({},n),{viewBox:r,serializeImages:!0,preserveDimensions:Object.assign({},l)}))}toPNG(e,n={}){this.toDataURL(e,Object.assign(Object.assign({},n),{type:"image/png"}))}toJPEG(e,n={}){this.toDataURL(e,Object.assign(Object.assign({},n),{type:"image/jpeg"}))}notify(e,n){this.trigger(e,n),this.graph.trigger(e,n)}dispose(){this.off()}}m_t([vo.dispose()],l1e.prototype,"dispose",null);const y_t={__name:"CreateNodeConfig",props:{show_description:Boolean},setup(t,{expose:e}){const n=t,r=F(null),i=F(!1);Jt(()=>{i.value=n.show_description});const o=Bn({items:[]}),a=Bn({}),s=d=>{const h=o.items.indexOf(d);h!==-1&&o.items.splice(h,1)},l=()=>{o.items.push({key:"",value:"",desc:""})};return e({GetConfigs:()=>o.items,ResetForm:()=>{o.items=[]},AddConfig:(d,h,p="")=>{o.items.push({key:d,value:h,desc:p})}}),(d,h)=>{const p=pe("el-input"),v=pe("el-col"),g=pe("el-row"),m=pe("el-button"),y=pe("el-form-item"),b=pe("el-icon"),w=pe("el-form");return N(),de(w,{ref_key:"formRef",ref:r,model:o,rules:a,"label-width":"0px",class:"dynamic-form-container"},{default:$(()=>[(N(!0),Q(ft,null,gn(o.items,(S,x)=>(N(),de(y,{style:{"margin-top":"10px"},key:x,prop:"items."+x+".value",rules:{required:!1,message:"",trigger:"blur"}},{default:$(()=>[i.value?(N(),de(g,{key:1,gutter:37},{default:$(()=>[O(v,{span:6,style:{padding:"0px",width:"214px","padding-left":"18px"}},{default:$(()=>[O(p,{modelValue:S.key,"onUpdate:modelValue":C=>S.key=C,"aria-label":"",placeholder:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),O(v,{span:1,style:{padding:"0px","margin-left":"10px","margin-right":"-4px"}},{default:$(()=>[...h[1]||(h[1]=[Be(" : ",-1)])]),_:1}),O(v,{span:6,style:{padding:"0px"}},{default:$(()=>[O(p,{modelValue:S.value,"onUpdate:modelValue":C=>S.value=C,"aria-label":"",placeholder:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),O(v,{span:1,style:{padding:"0px","margin-left":"10px","margin-right":"-4px"}},{default:$(()=>[...h[2]||(h[2]=[Be(" # ",-1)])]),_:1}),O(v,{span:8,style:{padding:"0px"}},{default:$(()=>[O(p,{modelValue:S.desc,"onUpdate:modelValue":C=>S.desc=C,"aria-label":"",placeholder:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)):(N(),de(g,{key:0,gutter:37},{default:$(()=>[O(v,{span:6,style:{padding:"0px",width:"274px","padding-left":"18px"}},{default:$(()=>[O(p,{modelValue:S.key,"onUpdate:modelValue":C=>S.key=C,"aria-label":"",placeholder:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),O(v,{span:1,style:{padding:"0px","margin-left":"10px","margin-right":"-4px"}},{default:$(()=>[...h[0]||(h[0]=[Be(" : ",-1)])]),_:1}),O(v,{span:16,style:{padding:"0px"}},{default:$(()=>[O(p,{modelValue:S.value,"onUpdate:modelValue":C=>S.value=C,"aria-label":"",placeholder:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)),O(m,{size:"small",type:"primary",style:{"margin-left":"20px"},icon:_(Mz),circle:"",onClick:an(C=>s(S),["prevent"]),class:"remove-btn"},null,8,["icon","onClick"])]),_:2},1032,["prop"]))),128)),O(y,{"text-align":"center"},{default:$(()=>[O(m,{type:"primary",onClick:l,style:{"margin-top":"20px"}},{default:$(()=>[O(b,null,{default:$(()=>[O(_(Uu))]),_:1}),h[3]||(h[3]=Be("  ",-1))]),_:1})]),_:1})]),_:1},8,["model","rules"])}}},vR=ds(y_t,[["__scopeId","data-v-d025dd95"]]),b_t=ue({__name:"CreateNodePrevTasks",setup(t,{expose:e}){const n=F(null),r=Bn({items:[]}),i=Bn({}),o=p=>{const v=r.items.indexOf(p);v!==-1&&r.items.splice(v,1)},a=()=>{r.items.push({pipeline_id:0,task_id:0,pipeline:"",task:""})};Jt(()=>{s()});const s=()=>{Et.post("/pipeline/get_pipelines/",{}).then(p=>{l.value=[];for(const v of p.data.pipeline_list){const g={id:v.id,name:v.name,desc:v.name};l.value.push(g)}}).catch(p=>console.log(p))},l=F([]),u=F({});for(let p=0;p<100;p++){const v=F([]);u.value[p]=v}const c=(p,v)=>{console.log(p,v),r.items[v].task="",Et.post("/pipeline/get_tasks/",Hn.stringify({pipeline_id:p.id})).then(g=>{u.value[v]=[];for(const m of g.data.task_list){const y={id:m.id,name:m.name,desc:m.name};u.value[v].push(y)}}).catch(g=>console.log(g))};return e({GetPrevTasks:()=>r.items,ResetForm:()=>{r.items=[]},AddPrevTasks:p=>{var v=0;for(const g in p)console.log("prev task: ",g,p[g]),r.items.push({pipeline_id:p[g].pl_id,task_id:p[g].id,pipeline:p[g].pipeline_name,task:p[g].id}),c({id:p[g].pl_id},v),r.items[v].task=p[g].name,++v}}),(p,v)=>{const g=pe("el-option"),m=pe("el-select"),y=pe("el-row"),b=pe("el-button"),w=pe("el-form-item"),S=pe("el-icon"),x=pe("el-form");return N(),de(x,{ref_key:"formRef",ref:n,model:r,rules:i,"label-width":"0px",class:"dynamic-form-container"},{default:$(()=>[(N(!0),Q(ft,null,gn(r.items,(C,E)=>(N(),de(w,{style:{"margin-top":"10px"},key:E,prop:"items."+E+".value",rules:{required:!1,message:"",trigger:"blur"}},{default:$(()=>[O(y,{gutter:37},{default:$(()=>[O(m,{filterable:"",modelValue:C.pipeline,"onUpdate:modelValue":T=>C.pipeline=T,"value-key":"id",placeholder:"",onChange:T=>c(T,E),style:{width:"220px","margin-left":"18.5px"}},{default:$(()=>[(N(!0),Q(ft,null,gn(l.value,T=>(N(),de(g,{key:T.id,label:T.name,value:T},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),O(m,{filterable:"",modelValue:C.task,"onUpdate:modelValue":T=>C.task=T,"value-key":"id",placeholder:"",style:{width:"220px","margin-left":"2px","margin-right":"13px"}},{default:$(()=>[(N(!0),Q(ft,null,gn(u.value[E],T=>(N(),de(g,{key:T.id,label:T.name,value:T},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),O(b,{size:"small",type:"primary",style:{"margin-left":"20px"},icon:_(Mz),circle:"",onClick:an(T=>o(C),["prevent"]),class:"remove-btn"},null,8,["icon","onClick"])]),_:2},1032,["prop"]))),128)),O(w,{"text-align":"center"},{default:$(()=>[O(b,{type:"primary",onClick:a,style:{"margin-top":"20px"}},{default:$(()=>[O(S,null,{default:$(()=>[O(_(Uu))]),_:1}),v[0]||(v[0]=Be("  ",-1))]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),oG=ds(b_t,[["__scopeId","data-v-4629b580"]]),u1e=ue({__name:"ChoosePowerNodes",setup(t,{expose:e}){const n=F(),r=F([]);return e({ChangcePowerNodes:o=>{Et.get("/pipeline/get_power_nodes/",{params:{type:o}}).then(a=>{for(const s in a.data.tags)r.value.push({id:s,name:s});console.log(a.data)}).catch(a=>console.log(a))}}),(o,a)=>{const s=pe("el-option"),l=pe("el-select");return N(),de(l,{filterable:"",modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=u=>n.value=u),"value-key":"id",placeholder:"",style:{width:"223px","margin-right":"6px"}},{default:$(()=>[(N(!0),Q(ft,null,gn(r.value,u=>(N(),de(s,{key:u.id,label:u.name,value:u},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])}}}),__t={"aria-label":"A complete example of page header"},w_t={href:"#"},S_t={key:0,class:"button-row",style:{"margin-top":"10px"}},x_t={class:"button-row",style:{"margin-top":"10px"}},C_t=ue({__name:"package",props:{processor_id:Number,upload_id:Number},setup(t){const e=F("");F(!1);const n=F([""]),r=()=>{n.value.length<=0||(n.value.pop(),u(""))},i=F([]),o=F([]),a=t,s=c=>{var f="";for(const h of n.value)console.log(h),!(h==""||h=="")&&(f=h+";"+f);var d=Et.defaults.baseURL+"/pipeline/download_package/"+a.processor_id+"&"+a.upload_id+"&"+f+c+"/";window.open(d)},l=c=>{e.value="";var f="";for(const h of n.value)console.log(h),!(h==""||h=="")&&(f=h+"/"+f);var d=c;f!=""&&(d=f+"/"+c),Et.post("/pipeline/get_package_content/",Hn.stringify({processor_id:a.processor_id,upload_id:a.upload_id,subpath:d})).then(h=>{console.log(h.data),e.value=h.data.file_content}).catch(h=>{st.success(""+h)})},u=c=>{e.value="";var f=c;console.log("0",f,n.value.length);var d="";for(const h of n.value)console.log(h),!(h==""||h=="")&&(d=h+"/"+d);d!=""&&(f=d+f),console.log("1",f),Et.post("/pipeline/get_package_list/",Hn.stringify({processor_id:a.processor_id,upload_id:a.upload_id,subpath:f})).then(h=>{if(h.data.list.length<=0||h.data.list[0]==""){st.success("");return}c=c.slice(0,-1),c==""?n.value=[""]:n.value.push(c),console.log(n.value.length,n.value),i.value=[],o.value=[],console.log(h.data);for(const p of h.data.list)p[p.length-1]=="/"&&o.value.push({type:"primary",text:p,is_folder:!0});for(const p of h.data.list)p[p.length-1]=="/"||i.value.push({type:"default",text:p,is_folder:!1})}).catch(h=>{st.success(""+h)})};return Jt(()=>{u("")}),(c,f)=>{const d=pe("el-breadcrumb-item"),h=pe("el-breadcrumb"),p=pe("el-link"),v=pe("el-divider"),g=pe("el-button"),m=pe("el-page-header"),y=pe("el-input");return N(),Q("div",__t,[O(m,{onBack:r},{breadcrumb:$(()=>[O(h,{separator:"/"},{default:$(()=>[(N(!0),Q(ft,null,gn(n.value,b=>(N(),de(d,null,{default:$(()=>[K("a",w_t,Ne(b),1)]),_:2},1024))),256))]),_:1})]),content:$(()=>[...f[1]||(f[1]=[])]),default:$(()=>[o.value.length>0?(N(),Q("div",S_t,[(N(!0),Q(ft,null,gn(o.value,b=>(N(),Q("div",null,[b.is_folder?(N(),de(p,{style:{"margin-left":"15px"},key:b.text,type:b.type,onClick:w=>u(b.text)},{default:$(()=>[Be(Ne(b.text),1)]),_:2},1032,["type","onClick"])):ge("",!0)]))),256))])):ge("",!0),o.value.length>0?(N(),de(v,{key:1,"border-style":"dotted"})):ge("",!0),K("div",x_t,[(N(!0),Q(ft,null,gn(i.value,b=>(N(),Q("div",null,[b.is_folder?ge("",!0):(N(),de(p,{style:{"margin-left":"5px"},type:"info",key:b.text,onClick:w=>l(b.text)},{default:$(()=>[Be(Ne(b.text),1)]),_:2},1032,["type","onClick"])),b.is_folder?ge("",!0):(N(),de(g,{key:1,plain:"",type:"primary",icon:_(vI),size:"default",circle:"",style:{border:"0px","background-color":"rgba(0,0,0,0)","margin-left":"-6px"},onClick:w=>s(b.text)},null,8,["icon","onClick"]))]))),256))])]),_:1}),O(v,{style:{width:"100%","margin-top":"10px"}}),O(y,{modelValue:e.value,"onUpdate:modelValue":f[0]||(f[0]=b=>e.value=b),style:{width:"100%","margin-top":"-25px"},autosize:{minRows:20,maxRows:4e4},type:"textarea",placeholder:""},null,8,["modelValue"])])}}}),aG=ds(C_t,[["__scopeId","data-v-f2494c19"]]),E_t={style:{"margin-top":"-10px"}},T_t={style:{"margin-top":"-10px"}},A_t={name:"App",components:{CreateNodeConfig:vR,CreateNodePrevTasks:oG,ChoosePowerNodes:u1e,Package:aG}},N2=ue({...A_t,props:{pipeline_id:String,task_info:Map,task_type:Number,update_task:Boolean},setup(t,{expose:e}){const n=F("rtl"),r=F(!1),i=F(),o=F([]),a=L=>{Et.get("/pipeline/get_power_nodes/",{params:{type:L}}).then(I=>{o.value=[];for(const R in I.data.tags)o.value.push({id:R,name:R});console.log(I.data)}).catch(I=>console.log(I))},s=t,l=F(null),u=F(null),c=F("1"),f=F("6"),d=F(!1),h=F(null),p={TYPE_STREAM_DATA:-1,TYPE_SCRIPT:1,TYPE_SPARK:2,TYPE_OOZIE:3,TYPE_ODPS:4,TYPE_SHELL:5,TYPE_DOCKER:6,TYPE_CLICKHOUSE:7,TYPE_V100:8},v=F(p.TYPE_SCRIPT),g=F(p.TYPE_SCRIPT),m=F(),y=Bn({processor:"",processor_version:"",task_name:"",configs:"",retry_times:1,priority:6,timeout:0,prev_task:"",power_tag:"ALL",desc:"",shell:""}),b=Bn({processor:[{required:!0,message:"",trigger:"blur"}],processor_version:[{required:!0,message:"",trigger:"blur"}],task_name:[{required:!0,message:"",trigger:"blur"},{min:1,max:30,message:"30",trigger:"blur"}],configs:[{required:!1,message:"Please select Activity zone",trigger:"change"}],retry_times:[{required:!0,message:"",trigger:"change"}],priority:[{required:!0,message:"",trigger:"change"}],timeout:[{required:!0,message:"",trigger:"change"}],prev_task:[{required:!1,message:"",trigger:"change"}],power_tag:[{required:!1,message:"",trigger:"change"}],desc:[{required:!0,message:"",trigger:"change"}],shell:[{required:!0,message:"shell",trigger:"change"}]});Jt(()=>{if(v.value=s.task_type,g.value=s.task_type,console.log("0 init create node: ",v.value,s.task_info),v.value==p.TYPE_SCRIPT?a("script"):v.value==p.TYPE_SPARK?a("spark"):v.value==p.TYPE_OOZIE?a("oozie"):v.value==p.TYPE_ODPS?a("odps"):v.value==p.TYPE_SHELL?a("shell"):v.value==p.TYPE_DOCKER?a("docker"):v.value==p.TYPE_CLICKHOUSE?a("clickhouse"):v.value==p.TYPE_V100?a("v100"):v.value==p.TYPE_STREAM_DATA?a("stream"):(v.value=p.TYPE_SCRIPT,a("script")),s.task_info.task){y.processor=s.task_info.processor.name,i.value=s.task_info.processor.id;var L=[];for(const P of s.task_info.version_list)L.push({id:P.id,desc:P.name,label:P.version});D.value=L,console.log(L),y.processor_version=s.task_info.task.version_id,y.processor_version==-1&&(y.processor_version=s.task_info.version_list[0].id),y.task_name=s.task_info.task.name,y.retry_times=s.task_info.task.retry_count,(y.retry_times<=0||y.retry_times>=5)&&(y.retry_times=1),c.value=""+y.retry_times,f.value=""+s.task_info.task.priority,y.priority=s.task_info.task.priority,y.timeout=s.task_info.task.over_time,y.power_tag=s.task_info.task.server_tag,y.desc=s.task_info.task.description;var I=s.task_info.task.config.split(`\r
`);for(const P of I){var R=P.split("=");if(R.length<2)break;console.log("config: ",R);var V=R[1].split("H0");l.value.AddConfig(R[0],V[0])}u.value.AddPrevTasks(s.task_info.rely_tasks),console.log(y),y.shell=s.task_info.processor.template}d.value=s.update_task,console.log("init create node is update_task: ",d.value)});const w=()=>{var L=null;for(const P of h.value)if(console.log("get changed history: ",P,y.processor_version),P.id==y.processor_version){L=P;break}if(L!=null){v.value=L.type,i.value=L.id,y.task_name="",y.retry_times=1,c.value=""+y.retry_times,f.value="6",y.priority=6,y.timeout=0,y.power_tag="ALL",y.desc="";var I=L.config.split(`\r
`);for(const P of I){var R=P.split("=");console.log("config: ",R);var V=R[1].split("H0");l.value.AddConfig(R[0],V[0])}console.log(y),y.shell=L.template}},S=L=>{console.log(":",L),M.value=null;var I=L.split("_")[1];Et.post("/processor/view_history/"+I+"/","").then(R=>{var V=[];for(const P of R.data.history_list)V.push({id:P.id,desc:P.name,label:P.version});h.value=R.data.history_list,D.value=V,console.log(V),a("script"),i.value=I}).catch(R=>console.log(R))},x=()=>{},C=()=>{var L={"Task[id]":s.task_info.task.id};Et.post("/pipeline/delete_task/"+s.pipeline_id+"/",Hn.stringify(L)).then(I=>{I.status!=200||I.data.status!=0?st.warning(""+I.data.info):(console.log(I.data),Me.emit("delete_task_success",s.task_info.task.id),st.success(""))}).catch(I=>{st.error(""+I),console.log(I)})},E=async L=>{var I=l.value.GetConfigs(),R="";for(const W of I)console.log(W.key,W.value),R+=W.key+"="+W.value+`\r
`;var V=u.value.GetPrevTasks();console.log(V);var P="";for(const W of V)console.log(W.task_id,W.pipeline_id,W.task,W.pipeline),W.task_id!=0?P+=W.task_id+",":P+=""+W.task.id+",";console.log("pipeline_id: %s",s.pipeline_id),console.log(y);var B="-1",j="-1";y.processor!=""&&(B=y.processor.split("_")[1],j=y.processor_version);var G={name:y.task_name,config:R,template:y.shell,retry_count:y.retry_times,priority:y.priority,over_time:y.timeout,prev_task_ids:P,server_tag:y.power_tag,description:y.desc,type:v.value,processor_id:B,version_id:j,use_processor:1};console.log(G),L&&await L.validate((W,Z)=>{W?d.value?Et.post("/pipeline/update_task/"+s.task_info.task.id+"/",Hn.stringify(G)).then(ee=>{ee.status!=200||ee.data.status!=0?st.warning(""+ee.data.msg):(console.log(ee.data),Me.emit("update_task_success",ee.data.task),st.success(""))}).catch(ee=>{st.error(""+ee),console.log(ee)}):Et.post("/pipeline/create_task/"+s.pipeline_id+"/",Hn.stringify(G)).then(ee=>{ee.status!=200||ee.data.status!=0?st.warning(""+ee.data.msg):(console.log(ee.data),Me.emit("success_create_task",ee.data.task),st.success(""))}).catch(ee=>{st.error(""+ee),console.log(ee)}):console.log("error submit!",Z)})},T=L=>{L&&(L.resetFields(),l.value.ResetForm(),u.value.ResetForm())};Array.from({length:1e4}).map((L,I)=>({value:`${I+1}`,label:`${I+1}`}));const A={id:"id",value:"value",label:"label",children:"children",isLeaf:"isLeaf"},k=(L,I)=>{if(L.isLeaf)return I([]);console.log(L.data.id,L.data.value,L.data.label);var R=L.data.id,V;R==null?V={}:V={id:R},Et.get("/processor/get_processor_tree_async/",{params:V}).then(P=>{var B=[];for(const j of P.data)j.is_project&&B.push({id:j.id,value:j.id,label:j.text,isLeaf:!j.is_project});return console.log(B),I(B)}).catch(P=>console.log(P))},M=F(),D=F([]);return e({TaskTypes:p}),(L,I)=>{const R=pe("el-tree-select"),V=pe("el-form-item"),P=pe("el-col"),B=pe("el-option"),j=pe("el-select"),G=pe("el-button"),W=pe("el-tooltip"),Z=pe("el-input"),ee=pe("el-radio-button"),oe=pe("el-radio-group"),ce=pe("el-input-number"),X=pe("el-divider"),H=pe("el-popconfirm"),U=pe("el-form"),ne=pe("el-drawer");return N(),Q(ft,null,[O(U,{ref_key:"ruleFormRef",ref:m,style:{"max-width":"750px","margin-left":"40px"},model:y,rules:b,"label-width":"auto","label-position":"left"},{default:$(()=>[O(V,{prop:"processor",required:""},{default:$(()=>[O(P,{span:11},{default:$(()=>[O(V,{prop:"processor",label:"",required:""},{default:$(()=>[O(R,{modelValue:y.processor,"onUpdate:modelValue":I[0]||(I[0]=J=>y.processor=J),lazy:"",load:k,props:A,onChange:S,style:{width:"240px"},disabled:d.value},null,8,["modelValue","disabled"])]),_:1})]),_:1}),O(P,{span:1}),O(P,{span:10},{default:$(()=>[O(V,{prop:"processor_version",label:"",required:""},{default:$(()=>[O(j,{modelValue:y.processor_version,"onUpdate:modelValue":I[1]||(I[1]=J=>y.processor_version=J),"value-key":"id",placeholder:"Select",onChange:w,style:{width:"240px"}},{default:$(()=>[(N(!0),Q(ft,null,gn(D.value,J=>(N(),de(B,{key:J.id,label:J.label,value:J.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),O(P,{span:2},{default:$(()=>[O(W,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(G,{type:"primary",onClick:I[2]||(I[2]=J=>r.value=!0),style:{"margin-top":"-3px","margin-left":"3px"},icon:_(qde),plain:""},null,8,["icon"])]),_:1})]),_:1})]),_:1}),O(V,{label:"",prop:"task_name"},{default:$(()=>[O(Z,{modelValue:y.task_name,"onUpdate:modelValue":I[3]||(I[3]=J=>y.task_name=J)},null,8,["modelValue"])]),_:1}),O(V,{label:":",prop:"retry_times",style:{"margin-top":"17px"}},{default:$(()=>[K("div",E_t,[O(oe,{modelValue:c.value,"onUpdate:modelValue":I[4]||(I[4]=J=>c.value=J)},{default:$(()=>[O(ee,{label:"",value:"1"}),O(ee,{label:"",value:"2"}),O(ee,{label:"",value:"3"}),O(ee,{label:"",value:"4"})]),_:1},8,["modelValue"])])]),_:1}),O(V,{label:":",prop:"priority",style:{"margin-top":"17px"}},{default:$(()=>[K("div",T_t,[O(oe,{modelValue:f.value,"onUpdate:modelValue":I[5]||(I[5]=J=>f.value=J)},{default:$(()=>[O(ee,{label:"",value:"10"}),O(ee,{label:"",value:"9"}),O(ee,{label:"",value:"8"}),O(ee,{label:"",value:"7"}),O(ee,{label:"",value:"6"})]),_:1},8,["modelValue"])])]),_:1}),O(V,{label:"",prop:"timeout"},{default:$(()=>[O(ce,{modelValue:y.timeout,"onUpdate:modelValue":I[6]||(I[6]=J=>y.timeout=J),step:10},{suffix:$(()=>[...I[16]||(I[16]=[K("span",null,"",-1)])]),_:1},8,["modelValue"])]),_:1}),O(V,{label:"",prop:"power_tag"},{default:$(()=>[O(j,{filterable:"",modelValue:y.power_tag,"onUpdate:modelValue":I[7]||(I[7]=J=>y.power_tag=J),"value-key":"id",placeholder:"",style:{width:"223px","margin-right":"6px"}},{default:$(()=>[(N(!0),Q(ft,null,gn(o.value,J=>(N(),de(B,{key:J.id,label:J.name,value:J.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),O(V,{label:"",prop:"desc",required:""},{default:$(()=>[O(Z,{modelValue:y.desc,"onUpdate:modelValue":I[8]||(I[8]=J=>y.desc=J),type:"textarea",placeholder:"DAG"},null,8,["modelValue"])]),_:1}),v.value===p.TYPE_SHELL?(N(),de(V,{key:0,label:"shell",prop:"shell",required:""},{default:$(()=>[O(Z,{modelValue:y.shell,"onUpdate:modelValue":I[9]||(I[9]=J=>y.shell=J),type:"textarea",rows:6,placeholder:"shell"},null,8,["modelValue"])]),_:1})):ge("",!0),v.value===p.TYPE_CLICKHOUSE?(N(),de(V,{key:1,label:"ck-sql",prop:"shell",required:""},{default:$(()=>[O(Z,{modelValue:y.shell,"onUpdate:modelValue":I[10]||(I[10]=J=>y.shell=J),type:"textarea",rows:6,placeholder:"clickhouseSQL"},null,8,["modelValue"])]),_:1})):ge("",!0),v.value===p.TYPE_ODPS?(N(),de(V,{key:2,label:"odps-sql",prop:"shell",required:""},{default:$(()=>[O(Z,{modelValue:y.shell,"onUpdate:modelValue":I[11]||(I[11]=J=>y.shell=J),type:"textarea",rows:6,placeholder:"odpsSQL"},null,8,["modelValue"])]),_:1})):ge("",!0),O(X,{"border-style":"dashed"}),O(V,{label:"",prop:"configs"},{default:$(()=>[O(vR,{ref_key:"config_vue",ref:l,show_description:!1},null,512)]),_:1}),O(X,{"border-style":"dashed"}),O(V,{label:"",prop:"prev_task"},{default:$(()=>[O(oG,{ref_key:"prev_tasks_vue",ref:u},null,512)]),_:1}),O(X,{"border-style":"dashed"}),O(V,null,{default:$(()=>[d.value?(N(),de(G,{key:0,type:"primary",onClick:I[12]||(I[12]=J=>E(m.value)),icon:_(Gu)},{default:$(()=>[...I[17]||(I[17]=[Be("  ",-1)])]),_:1},8,["icon"])):(N(),de(G,{key:1,type:"primary",onClick:I[13]||(I[13]=J=>E(m.value))},{default:$(()=>[...I[18]||(I[18]=[Be("  ",-1)])]),_:1})),O(H,{"confirm-button-text":"","cancel-button-text":"",icon:_(sh),"icon-color":"#626AEF",title:"?",onConfirm:C,onCancel:x},{reference:$(()=>[d.value?(N(),de(G,{key:0,style:{"margin-left":"10px"},type:"warning",icon:_(ju)},{default:$(()=>[...I[19]||(I[19]=[Be("",-1)])]),_:1},8,["icon"])):ge("",!0)]),_:1},8,["icon"]),O(G,{onClick:I[14]||(I[14]=J=>T(m.value)),icon:_(Pz)},{default:$(()=>[...I[20]||(I[20]=[Be("",-1)])]),_:1},8,["icon"])]),_:1})]),_:1},8,["model","rules"]),O(ne,{modelValue:r.value,"onUpdate:modelValue":I[15]||(I[15]=J=>r.value=J),direction:n.value,size:"80%","destroy-on-close":!0,"append-to-body":!0},{header:$(()=>[...I[21]||(I[21]=[K("h4",{style:{width:"100px"}},null,-1)])]),default:$(()=>[O(aG,{processor_id:i.value,upload_id:y.processor_version},null,8,["processor_id","upload_id"])]),_:1},8,["modelValue","direction"])],64)}}}),c1e=ue({__name:"RunPipeline",props:{all_tasks:Map},setup(t){const e=t,n=F({}),r=F([]),i=d=>{console.log(d)};function o(d="YYYY-MM-DD"){const h=new Date,p={YYYY:h.getFullYear(),MM:String(h.getMonth()+1).padStart(2,"0"),DD:String(h.getDate()).padStart(2,"0"),HH:String(h.getHours()).padStart(2,"0"),mm:String(h.getMinutes()).padStart(2,"0")};return d.replace(/YYYY|MM|DD|HH|mm|ss/g,v=>p[v])}const a=Bn({runtime:"",Concurrency:1,tasks:[]});Jt(()=>{n.value=e.all_tasks.task_list;for(const d of e.all_tasks.task_list)r.value.push(d.id);a.tasks=r.value,u.value=!1,l.value=!0,a.runtime=o("YYYYMMDDHHmm")});const s=()=>{Et.post("/pipeline/run_tasks/",Hn.stringify({task_id_list:a.tasks.toString(),run_time:a.runtime,ordered_num:0})).then(d=>{st.success(""),Me.emit("success_run_tasks","")}).catch(d=>{st.success(""+d)})},l=F(!1),u=F(!0),c=d=>{a.tasks=d?r.value:[],u.value=!1},f=d=>{const h=d.length;l.value=h===n.value.length,u.value=h>0&&h<n.value.length};return(d,h)=>{const p=pe("el-input"),v=pe("el-button"),g=pe("el-col"),m=pe("el-row"),y=pe("el-alert"),b=pe("el-popover"),w=pe("el-form-item"),S=pe("el-input-number"),x=pe("el-checkbox"),C=pe("el-divider"),E=pe("el-checkbox-group"),T=pe("el-form");return N(),de(T,{model:a,"label-width":"auto",style:{"max-width":"600px"}},{default:$(()=>[O(w,{label:""},{default:$(()=>[O(p,{modelValue:a.runtime,"onUpdate:modelValue":h[0]||(h[0]=A=>a.runtime=A),style:{width:"91%"}},null,8,["modelValue"]),O(b,{placement:"right",width:520,trigger:"hover"},{reference:$(()=>[O(v,{plain:"",style:{"margin-left":"12px"},icon:_(LM),circle:""},null,8,["icon"])]),default:$(()=>[O(y,{type:"info","show-icon":"",closable:!1,style:"border: 1px solid --el-color-primary;"},{default:$(()=>[h[14]||(h[14]=K("p",null,"24,:",-1)),O(m,null,{default:$(()=>[O(g,{span:8},{default:$(()=>[...h[4]||(h[4]=[K("p",{style:{"margin-top":"0px","margin-right":"20px","text-align":"left",color:"var(--el-color-primary)"}}," ",-1)])]),_:1}),O(g,{span:16},{default:$(()=>[...h[5]||(h[5]=[K("p",{style:{"margin-top":"0px"}},"20250910",-1)])]),_:1})]),_:1}),O(m,{style:{"margin-top":"0px"}},{default:$(()=>[O(g,{span:8},{default:$(()=>[...h[6]||(h[6]=[K("p",{style:{"margin-top":"0px","margin-right":"20px","text-align":"left",color:"var(--el-color-primary)"}}," ",-1)])]),_:1}),O(g,{span:16},{default:$(()=>[...h[7]||(h[7]=[K("p",{style:{"margin-top":"0px"}},"20250901,20250910",-1)])]),_:1})]),_:1}),O(m,{style:{"margin-top":"0px"}},{default:$(()=>[O(g,{span:8},{default:$(()=>[...h[8]||(h[8]=[K("p",{style:{"margin-top":"0px","margin-right":"20px","text-align":"left",color:"var(--el-color-primary)"}}," ",-1)])]),_:1}),O(g,{span:16},{default:$(()=>[...h[9]||(h[9]=[K("p",{style:{"margin-top":"0px"}},"202509101100",-1)])]),_:1})]),_:1}),O(m,{style:{"margin-top":"0px"}},{default:$(()=>[O(g,{span:8},{default:$(()=>[...h[10]||(h[10]=[K("p",{style:{"margin-top":"0px","margin-right":"20px","text-align":"left",color:"var(--el-color-primary)"}}," ",-1)])]),_:1}),O(g,{span:16},{default:$(()=>[...h[11]||(h[11]=[K("p",{style:{"margin-top":"0px"}},"20250901-20250910",-1)])]),_:1})]),_:1}),O(m,{style:{"margin-top":"0px"}},{default:$(()=>[O(g,{span:8},{default:$(()=>[...h[12]||(h[12]=[K("p",{style:{"margin-top":"0px","margin-right":"20px","text-align":"left",color:"var(--el-color-primary)"}}," ",-1)])]),_:1}),O(g,{span:16},{default:$(()=>[...h[13]||(h[13]=[K("p",{style:{"margin-top":"0px"}},"2025091000-2025091010",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),O(w,{label:""},{default:$(()=>[O(S,{modelValue:a.Concurrency,"onUpdate:modelValue":h[1]||(h[1]=A=>a.Concurrency=A),min:1,max:128,onChange:i,style:{width:"91%"}},null,8,["modelValue"]),O(b,{placement:"right",width:520,trigger:"hover"},{reference:$(()=>[O(v,{plain:"",style:{"margin-left":"12px"},icon:_(LM),circle:""},null,8,["icon"])]),default:$(()=>[O(y,{type:"info","show-icon":"",closable:!1,style:"border: 1px solid --el-color-primary;"},{default:$(()=>[h[19]||(h[19]=K("p",null,"10",-1)),O(m,{style:{"margin-top":"0px",width:"100%"}},{default:$(()=>[O(g,{span:8},{default:$(()=>[...h[15]||(h[15]=[K("p",{style:{"margin-top":"0px","margin-right":"0px","text-align":"left",color:"var(--el-color-primary)"}}," 0 ",-1)])]),_:1}),O(g,{span:16},{default:$(()=>[...h[16]||(h[16]=[K("p",{style:{"margin-top":"0px"}},"",-1)])]),_:1})]),_:1}),O(m,{style:{"margin-top":"0px",width:"300px"}},{default:$(()=>[O(g,{span:8},{default:$(()=>[...h[17]||(h[17]=[K("p",{style:{"margin-top":"0px","margin-right":"0px","text-align":"left",color:"var(--el-color-primary)"}}," 0 ",-1)])]),_:1}),O(g,{span:16},{default:$(()=>[...h[18]||(h[18]=[K("p",{style:{"margin-top":"0px"}},"",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),O(w,{label:""},{default:$(()=>[O(x,{modelValue:l.value,"onUpdate:modelValue":h[2]||(h[2]=A=>l.value=A),indeterminate:u.value,onChange:c,style:{color:"var(--el-color-primary)"}},{default:$(()=>[...h[20]||(h[20]=[Be("  ",-1)])]),_:1},8,["modelValue","indeterminate"]),O(C,{"border-style":"dashed"}),O(E,{modelValue:a.tasks,"onUpdate:modelValue":h[3]||(h[3]=A=>a.tasks=A),onChange:f},{default:$(()=>[(N(!0),Q(ft,null,gn(n.value,A=>(N(),de(x,{key:A.id,value:A.id,label:A.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),O(C,{"border-style":"dashed"}),O(w,null,{default:$(()=>[O(v,{plain:"",type:"primary",onClick:s,icon:_(Iz)},{default:$(()=>[...h[21]||(h[21]=[Be("  ",-1)])]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"])}}}),k_t={"aria-label":"A complete example of page header"},M_t={href:"#"},P_t={key:0,class:"button-row",style:{"margin-top":"10px"}},O_t={class:"button-row",style:{"margin-top":"10px"}},I_t=ue({__name:"logInfo",props:{schedule_id:Number},setup(t){const e=F("");F(!1);const n=F([""]),r=()=>{n.value.length<=0||(n.value.pop(),u(""))},i=F([]),o=F([]),a=t,s=c=>{var f="";for(const h of n.value)console.log(h),!(h==""||h=="")&&(f=h+"/"+f);var d=Et.defaults.baseURL+"/pipeline/download/"+a.schedule_id+"&"+f+c+"&0/";window.open(d)},l=c=>{e.value="";var f="";for(const h of n.value)console.log(h),!(h==""||h=="")&&(f=h+"/"+f);var d=c;f!=""&&(d=f+"/"+c),Et.post("/pipeline/get_log_content/",Hn.stringify({schedule_id:a.schedule_id,file_name:d,rerun_id:0})).then(h=>{console.log(h.data),e.value=h.data.file_content}).catch(h=>{st.success(""+h)})},u=c=>{e.value="";var f=c;console.log("0",f,n.value.length);var d="";for(const h of n.value)console.log(h),!(h==""||h=="")&&(d=h+"/"+d);d!=""&&(f=d+f),console.log("1",f),Et.post("/pipeline/get_task_log/",Hn.stringify({schedule_id:a.schedule_id,subpath:f,rerun_id:0})).then(h=>{if(h.data.list.length<=0||h.data.list[0]==""){st.success("");return}c=c.slice(0,-1),c==""?n.value=[""]:n.value.push(c),console.log(n.value.length,n.value),i.value=[],o.value=[],console.log(h.data);for(const p of h.data.list)p[p.length-1]=="/"&&o.value.push({type:"primary",text:p,is_folder:!0});for(const p of h.data.list)p[p.length-1]=="/"||i.value.push({type:"default",text:p,is_folder:!1})}).catch(h=>{st.success(""+h)})};return Jt(()=>{u("")}),(c,f)=>{const d=pe("el-breadcrumb-item"),h=pe("el-breadcrumb"),p=pe("el-link"),v=pe("el-divider"),g=pe("el-button"),m=pe("el-page-header"),y=pe("el-input");return N(),Q("div",k_t,[O(m,{onBack:r},{breadcrumb:$(()=>[O(h,{separator:"/"},{default:$(()=>[(N(!0),Q(ft,null,gn(n.value,b=>(N(),de(d,null,{default:$(()=>[K("a",M_t,Ne(b),1)]),_:2},1024))),256))]),_:1})]),content:$(()=>[...f[1]||(f[1]=[])]),default:$(()=>[o.value.length>0?(N(),Q("div",P_t,[(N(!0),Q(ft,null,gn(o.value,b=>(N(),Q("div",null,[b.is_folder?(N(),de(p,{style:{"margin-left":"15px"},key:b.text,type:b.type,onClick:w=>u(b.text)},{default:$(()=>[Be(Ne(b.text),1)]),_:2},1032,["type","onClick"])):ge("",!0)]))),256))])):ge("",!0),o.value.length>0?(N(),de(v,{key:1,"border-style":"dotted"})):ge("",!0),K("div",O_t,[(N(!0),Q(ft,null,gn(i.value,b=>(N(),Q("div",null,[b.is_folder?ge("",!0):(N(),de(p,{style:{"margin-left":"5px"},type:"info",key:b.text,onClick:w=>l(b.text)},{default:$(()=>[Be(Ne(b.text),1)]),_:2},1032,["type","onClick"])),b.is_folder?ge("",!0):(N(),de(g,{key:1,plain:"",type:"primary",icon:_(vI),size:"default",circle:"",style:{border:"0px","background-color":"rgba(0,0,0,0)","margin-left":"-6px"},onClick:w=>s(b.text)},null,8,["icon","onClick"]))]))),256))])]),_:1}),O(v,{style:{width:"100%","margin-top":"10px"}}),O(y,{modelValue:e.value,"onUpdate:modelValue":f[0]||(f[0]=b=>e.value=b),style:{width:"100%","margin-top":"-25px"},autosize:{minRows:20,maxRows:4e4},type:"textarea",placeholder:""},null,8,["modelValue"])])}}}),f1e=ds(I_t,[["__scopeId","data-v-aabe0cce"]]),R_t={class:"el-loading-mask",style:{display:"flex","align-items":"center","justify-content":"center"}},L_t={key:0,class:"flex items-center justify-center h-100%"},D_t={class:"iframe-container",style:{border:"0px"}},N_t=["src"],d1e=F(),ET=F(!1),B_t={components:{CreateNode:N2,CreatePipelineVue:UI,logInfo:f1e},methods:{handleHeaderClick(t,e){e.target.classList.contains("el-table__sort-icon")||(t.order=null,e.stopPropagation(),d1e.value.clearSort(),ET.value=!0)},async handleSortChange(t){if(await this.$nextTick(),ET.value){console.log("header clicked"),ET.value=!1;return}if(t.order){var e="desc";t.order=="ascending"&&(e="asc");var n={order_name:t.column.columnKey,order_type:e};Me.emit("table_order_changed",n),ET.value=!1}}}},$_t=ue({...B_t,__name:"TaskStatusList",props:{pipeline_name:String,task_name:String,page_size:Number,auto_refresh:Boolean,table_margin_top:Number,is_graph_task_list:Boolean},setup(t){const e=t,n=F(1e3),r=F(""),i=F("1"),o=F(!1),a=F("rtl"),s=F([]),l=F(""),u=F(""),c=F(""),f=F([]);F(!1);const d=F(!0),h=F(!1),p=F(["0","1","2","3","4","5","6","7"]),v=F(""),g=F(">="),m=F(">"),y=F(0),b=F(1),w=F(50);F(null);const S=F("start_time"),x=F("desc"),C=F(!0),E=F(-1),T=F({}),A=F(0),k=F(!1),M=F({}),D=F(!1),L=F({}),I=F(!1),R=F(""),V=F(!1),P=F(0),B=F(0),j=F(0),G=F(!1);Le(p,At=>{At.length===0?(d.value=!1,h.value=!1):At.length===he.value.length?(d.value=!0,h.value=!1):h.value=!0,fe((b.value-1)*w.value)});const W=At=>{if(At<=60)return At+"";if(At>60&&At<3600){var $e=parseInt(At/60),Kt=At-$e*60;return $e+""+Kt+""}else if(At>=3600){var Kn=parseInt(At/3600),$t=At-Kn*3600,wn=parseInt($t/60),$n=$t-wn*60;return Kn+""+wn+""+$n+""}},Z=At=>{V.value=!0,P.value=At.schedule_id},ee=At=>{const $e=X1.resolve("/historyGraph/?pl_id="+At.pl_id+"&run_time="+At.run_time);R.value=$e.href,I.value=!0},oe=At=>{Et.post("/pipeline/get_pipeline_detail/",Hn.stringify({pipe_id:At.pl_id})).then($e=>{M.value=$e.data,$e.data.email_to!=""&&(M.value.monitor_way|=1),$e.data.sms_to!=""&&(M.value.monitor_way|=2),i.value=M.value.project_id,r.value=M.value.project_name,k.value=!0}).catch($e=>{console.log($e),Me.emit("update_graph","-1")})},ce=At=>{Et.get("/pipeline/get_task_detail/"+At.task_id+"/",{params:{}}).then($e=>{E.value=At.pl_id,T.value=$e.data,o.value=!0,A.value=$e.data.processor.type,console.log($e.data)}).catch($e=>console.log($e))},X=At=>{h.value=!1,At?p.value=he.value.map($e=>$e.value):p.value=[]},H=At=>{ua.confirm("","",{confirmButtonText:"",cancelButtonText:"",type:"warning"}).then(()=>{Et.post("/pipeline/stop_task/",Hn.stringify({task_id:""+At.task_id,run_time:At.run_time})).then($e=>{st.success(""),fe((b.value-1)*w.value)}).catch($e=>{st.success(""+$e)})}).catch($e=>{})},U=(At,$e)=>{ua.confirm("","",{confirmButtonText:"",cancelButtonText:"",type:"warning"}).then(()=>{Et.post("/pipeline/run_one_task/",Hn.stringify({task_id_list:""+$e.task_id,run_time:$e.run_time})).then(Kt=>{st.success(""),fe((b.value-1)*w.value)}).catch(Kt=>{st.success(""+Kt)})}).catch(Kt=>{})},ne=(At,$e)=>{ua.confirm("","",{confirmButtonText:"",cancelButtonText:"",type:"warning"}).then(()=>{Et.post("/pipeline/run_one_pipeline/",Hn.stringify({pl_id_list:""+$e.pl_id,run_time:$e.run_time})).then(Kt=>{st.success(""),fe((b.value-1)*w.value)}).catch(Kt=>{st.success(""+Kt)})}).catch(Kt=>{})},J=(At,$e)=>{ua.confirm("","",{confirmButtonText:"",cancelButtonText:"",type:"warning"}).then(()=>{Et.post("/pipeline/run_task_with_all_successors/",Hn.stringify({task_id_list:""+$e.task_id,run_time:$e.run_time})).then(Kt=>{st.success(""),fe((b.value-1)*w.value)}).catch(Kt=>{st.success(""+Kt)})}).catch(Kt=>{})},Y=(At,$e)=>{ua.confirm("","",{confirmButtonText:"",cancelButtonText:"",type:"warning"}).then(()=>{Et.post("/pipeline/history/set_task_success/",Hn.stringify({task_id:""+$e.task_id,run_time:$e.run_time})).then(Kt=>{st.success(""),fe((b.value-1)*w.value)}).catch(Kt=>{st.success(""+Kt)})}).catch(Kt=>{})},se=At=>{s.value=At,Me.emit("table_selected_changed",s.value.length)},he=F([{value:"0",label:""},{value:"1",label:""},{value:"2",label:""},{value:"3",label:""},{value:"4",label:""},{value:"5",label:""},{value:"6",label:""},{value:"7",label:""}]),ye=F([]);for(var _e=0;_e<ye.value.length;++_e)f.value.push("0");const fe=async At=>{C.value=!0;var $e="";p.value.length!=he.value.length&&($e=p.value.toString());var Kt="";v.value!=""&&(Kt=g.value+v.value);var Kn="";y.value>0&&(Kn=m.value+y.value),u.value=="="&&(u.value=""),await Et.post("/pipeline/run_history/",Hn.stringify({draw:2,start:At,length:w.value,search_run_time:l.value,search_pl_name:u.value,search_task_name:c.value,search_status:$e,search_start_time:Kt,search_use_time:Kn,order_name:S.value,order_type:x.value,just_owner:j.value})).then($t=>{console.log($t.data),ye.value=$t.data.data,C.value=!1,Me.emit("success_load_task_table_data",$t.data)}).catch($t=>{console.log($t)})},Ce=()=>{fe((b.value-1)*w.value)},Oe=()=>{fe((b.value-1)*w.value)},Ue=()=>{fe((b.value-1)*w.value)},qe=()=>{fe((b.value-1)*w.value)},ze=()=>{v.value!=""&&fe((b.value-1)*w.value)},ae=()=>{y.value<=0||fe((b.value-1)*w.value)},Fe=()=>{fe((b.value-1)*w.value)};Lr(window,"resize",()=>{G.value?n.value=window.innerHeight-100:n.value=window.innerHeight-300}),Jt(()=>{G.value=e.is_graph_task_list,G.value?n.value=window.innerHeight-100:n.value=window.innerHeight-300,We(),b.value=1,w.value=e.page_size,u.value="="+e.pipeline_name,fe(0),B.value=e.table_margin_top}),Qu(()=>{dn()});const We=()=>{Me.on("reload_task_table_data_with_page",At=>{b.value=At,fe((b.value-1)*w.value)}),Me.on("reload_task_table_data_with_page_size",At=>{w.value=At,fe((b.value-1)*w.value)}),Me.on("auto_refresh_task_table_data",At=>{fe((b.value-1)*w.value)}),Me.on("table_order_changed",At=>{S.value=At.order_name,x.value=At.order_type,fe((b.value-1)*w.value)}),Me.on("user_refresh_table_data",At=>{console.log("user_refresh_table_data coming."),fe((b.value-1)*w.value)}),Me.on("batch_run_table_tasks",At=>{var $e="",Kt="";for(const Kn of s.value)$e+=Kn.task_id+",",Kt+=Kn.run_time+",";$e=$e.slice(0,-1),Kt=Kt.slice(0,-1),ua.confirm("","",{confirmButtonText:"",cancelButtonText:"",type:"warning"}).then(()=>{Et.post("/pipeline/run_some_task/",Hn.stringify({tasklist:$e,runtimelist:Kt})).then(Kn=>{st.success(""),fe((b.value-1)*w.value)}).catch(Kn=>{st.success(""+Kn)})}).catch(Kn=>{})}),Me.on("batch_stop_table_tasks",At=>{ua.confirm("","",{confirmButtonText:"",cancelButtonText:"",type:"warning"}).then(()=>{for(const $e of s.value)Et.post("/pipeline/stop_task/",Hn.stringify({task_id:$e.task_id,run_time:$e.run_time})).then(Kt=>{fe((b.value-1)*w.value)}).catch(Kt=>{st.success(""+Kt)});st.success("")}).catch($e=>{})}),Me.on("success_update_pipeline",At=>{k.value=!1}),Me.on("update_task_success",At=>{o.value=!1}),Me.on("change_search_status",At=>{p.value=At,j.value=0}),Me.on("change_search_owner",At=>{j.value=At,p.value=[0,1,2,3,4,5,6,7]})},dn=()=>{Me.off("reload_task_table_data_with_page",null),Me.off("reload_task_table_data_with_page_size",null),Me.off("auto_refresh_task_table_data",null),Me.off("table_order_changed",null),Me.off("user_refresh_table_data",null),Me.off("batch_run_table_tasks",null),Me.off("batch_stop_table_tasks",null),Me.off("success_update_pipeline",null),Me.off("update_task_success",null),Me.off("change_search_status",null)};return(At,$e)=>{const Kt=pe("loading-icon"),Kn=pe("el-icon"),$t=pe("el-table-column"),wn=pe("el-input"),$n=pe("el-link"),je=pe("el-checkbox"),mt=pe("el-option"),re=pe("el-select"),le=pe("el-tag"),Ae=pe("el-col"),Qe=pe("el-date-picker"),ct=pe("el-row"),Nt=pe("el-input-number"),zn=pe("el-button"),li=pe("el-dropdown-item"),sr=pe("el-dropdown-menu"),Er=pe("el-dropdown"),ut=pe("el-button-group"),In=pe("el-empty"),Tn=pe("el-table"),to=pe("el-drawer"),Uo=pe("HistoryGraph"),va=pe("el-dialog"),hs=n2("loading");return N(),Q(ft,null,[An((N(),de(Tn,{ref_key:"multipleTableRef",ref:d1e,border:"",data:ye.value,"row-key":"id",style:Ot([`width: 100%; margin-top: ${B.value}px padding:0px`,{width:"100%"}]),"table-layout":"auto","max-height":`${n.value}px`,"element-loading-text":"","element-loading-spinner":"el-icon-loading",onHeaderClick:At.handleHeaderClick,onSortChange:At.handleSortChange,"element-loading-background":"rgba(0,0,0,0.3)",onSelectionChange:se,"default-sort":{prop:"start_time",order:"descending"}},{overlay:$(()=>[K("div",R_t,[O(Kn,{class:"is-loading",color:"var(--el-color-primary)",size:26},{default:$(()=>[O(Kt)]),_:1})])]),empty:$(()=>[C.value?ge("",!0):(N(),Q("div",L_t,[O(In)]))]),default:$(()=>[O($t,{type:"selection",width:"35",align:"center"}),O($t,{label:"","column-key":"run_time","min-width":"10%",sortable:"custom","header-align":"center"},{header:$(()=>[$e[14]||($e[14]=K("span",{style:{color:"var(--el-color-primary)"}},"",-1)),O(wn,{clearable:"",modelValue:l.value,"onUpdate:modelValue":$e[0]||($e[0]=Bt=>l.value=Bt),size:"small",style:{float:"right","margin-top":"10px"},placeholder:"","prefix-icon":_(pm),onChange:Ce},null,8,["modelValue","prefix-icon"])]),default:$(Bt=>[Be(Ne(Bt.row.run_time),1)]),_:1}),O($t,{label:"","column-key":"pl_name","min-width":"20%",sortable:"","header-align":"center"},{header:$(()=>[$e[15]||($e[15]=K("span",{style:{color:"var(--el-color-primary)"}},"",-1)),O(wn,{clearable:"",modelValue:u.value,"onUpdate:modelValue":$e[1]||($e[1]=Bt=>u.value=Bt),size:"small",style:{float:"right","margin-top":"10px"},placeholder:"","prefix-icon":_(pm),onChange:Oe},null,8,["modelValue","prefix-icon"])]),default:$(Bt=>[O($n,{type:"primary",onClick:Bi=>oe(Bt.row)},{default:$(()=>[Be(Ne(Bt.row.pl_name),1)]),_:2},1032,["onClick"])]),_:1}),O($t,{label:"","column-key":"task_name","min-width":"20%",sortable:"","header-align":"center"},{header:$(()=>[$e[16]||($e[16]=K("span",{style:{color:"var(--el-color-primary)"}},"",-1)),O(wn,{clearable:"",modelValue:c.value,"onUpdate:modelValue":$e[2]||($e[2]=Bt=>c.value=Bt),size:"small",style:{float:"right","margin-top":"10px"},placeholder:"","prefix-icon":_(pm),onChange:Ue},null,8,["modelValue","prefix-icon"])]),default:$(Bt=>[O($n,{type:"primary",onClick:Bi=>ce(Bt.row)},{default:$(()=>[Be(Ne(Bt.row.task_name),1)]),_:2},1032,["onClick"])]),_:1}),O($t,{label:"","column-key":"status","min-width":"10%",sortable:"","header-align":"center",align:"center"},{header:$(()=>[$e[18]||($e[18]=K("span",{style:{color:"var(--el-color-primary)"}},"",-1)),O(re,{size:"small",modelValue:p.value,"onUpdate:modelValue":$e[4]||($e[4]=Bt=>p.value=Bt),clearable:"",multiple:"","collapse-tags":"","collapse-tags-tooltip":"","max-collapse-tags":1,placeholder:"",style:{width:"100%",float:"right","margin-top":"10px"}},{header:$(()=>[O(je,{modelValue:d.value,"onUpdate:modelValue":$e[3]||($e[3]=Bt=>d.value=Bt),indeterminate:h.value,onChange:X},{default:$(()=>[...$e[17]||($e[17]=[Be("  ",-1)])]),_:1},8,["modelValue","indeterminate"])]),default:$(()=>[(N(!0),Q(ft,null,gn(he.value,Bt=>(N(),de(mt,{key:Bt.value,label:Bt.label,value:Bt.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),default:$(Bt=>[Bt.row.status==0?(N(),de(le,{key:0,type:"warning"},{default:$(()=>[...$e[19]||($e[19]=[Be("",-1)])]),_:1})):ge("",!0),Bt.row.status==1?(N(),de(le,{key:1,type:"primary"},{default:$(()=>[...$e[20]||($e[20]=[Be("",-1)])]),_:1})):ge("",!0),Bt.row.status==2?(N(),de(le,{key:2,type:"success"},{default:$(()=>[...$e[21]||($e[21]=[Be("",-1)])]),_:1})):ge("",!0),Bt.row.status==3?(N(),de(le,{key:3,type:"danger"},{default:$(()=>[...$e[22]||($e[22]=[Be("",-1)])]),_:1})):ge("",!0),Bt.row.status==4?(N(),de(le,{key:4,type:"danger"},{default:$(()=>[...$e[23]||($e[23]=[Be("",-1)])]),_:1})):ge("",!0),Bt.row.status==5?(N(),de(le,{key:5,type:"warning"},{default:$(()=>[...$e[24]||($e[24]=[Be("",-1)])]),_:1})):ge("",!0),Bt.row.status==6?(N(),de(le,{key:6,type:"danger"},{default:$(()=>[...$e[25]||($e[25]=[Be("",-1)])]),_:1})):ge("",!0),Bt.row.status==7?(N(),de(le,{key:7,type:"danger"},{default:$(()=>[...$e[26]||($e[26]=[Be("",-1)])]),_:1})):ge("",!0)]),_:1}),O($t,{prop:"start_time",sortable:"","column-key":"start_time",label:"","min-width":"10%","header-align":"center"},{header:$(()=>[$e[27]||($e[27]=K("span",{style:{color:"var(--el-color-primary)"}},"",-1)),O(ct,{style:{float:"right","margin-top":"10px",width:"100%","margin-right":"0px"}},{default:$(()=>[O(Ae,{span:6},{default:$(()=>[O(re,{size:"small",modelValue:g.value,"onUpdate:modelValue":$e[5]||($e[5]=Bt=>g.value=Bt),style:{width:"100%"},placeholder:"=",onChange:ze},{default:$(()=>[O(mt,{key:">",label:">",value:">"}),O(mt,{key:">=",label:">=",value:">="}),O(mt,{key:"=",label:"=",value:"="}),O(mt,{key:"<=",label:"<=",value:"<="}),O(mt,{key:"<",label:"<",value:"<"}),O(mt,{key:"!=",label:"!=",value:"1="})]),_:1},8,["modelValue"])]),_:1}),O(Ae,{span:18},{default:$(()=>[O(Qe,{size:"small",style:{width:"100%"},modelValue:v.value,"onUpdate:modelValue":$e[6]||($e[6]=Bt=>v.value=Bt),type:"datetime",placeholder:"",format:"YYYY-MM-DD hh:mm","value-format":"YYYY-MM-DD hh:mm:ss",onChange:qe},null,8,["modelValue"])]),_:1})]),_:1})]),default:$(Bt=>[Be(Ne(Bt.row.start_time),1)]),_:1}),O($t,{sortable:"","column-key":"use_time",label:"","min-width":"10%","header-align":"center",align:"center"},{header:$(()=>[$e[29]||($e[29]=K("span",{style:{color:"var(--el-color-primary)"}},"",-1)),O(ct,{style:{float:"right","margin-top":"10px",width:"100%","margin-right":"0px"}},{default:$(()=>[O(Ae,{span:8},{default:$(()=>[O(re,{size:"small",modelValue:m.value,"onUpdate:modelValue":$e[7]||($e[7]=Bt=>m.value=Bt),style:{width:"100%"},placeholder:"=",onChange:ae},{default:$(()=>[O(mt,{key:">",label:">",value:">"}),O(mt,{key:">=",label:">=",value:">="}),O(mt,{key:"=",label:"=",value:"="}),O(mt,{key:"<=",label:"<=",value:"<="}),O(mt,{key:"<",label:"<",value:"<"}),O(mt,{key:"!=",label:"!=",value:"1="})]),_:1},8,["modelValue"])]),_:1}),O(Ae,{span:16},{default:$(()=>[O(Nt,{size:"small",modelValue:y.value,"onUpdate:modelValue":$e[8]||($e[8]=Bt=>y.value=Bt),style:{width:"100%"},min:0,max:1e8,onChange:Fe},{suffix:$(()=>[...$e[28]||($e[28]=[K("span",null,"",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),default:$(Bt=>[O(le,{type:"warning"},{default:$(()=>[Be(Ne(W(Bt.row.use_time)),1)]),_:2},1024)]),_:1}),O($t,{label:"","min-width":"10%","header-align":"center",align:"center"},{header:$(()=>[...$e[30]||($e[30]=[K("span",{style:{color:"var(--el-color-primary)"}},"",-1)])]),default:$(Bt=>[Bt.row.status==0||Bt.row.status==5||Bt.row.status==1?(N(),de(zn,{key:0,plain:"",size:"small",type:"danger",onClick:Bi=>H(Bt.row)},{default:$(()=>[...$e[31]||($e[31]=[Be("  ",-1)])]),_:2},1032,["onClick"])):Bt.row.status==2?(N(),de(Er,{key:1,plain:"","split-button":"",size:"small",type:"primary",modelValue:f.value[Bt.$index],"onUpdate:modelValue":Bi=>f.value[Bt.$index]=Bi,style:{width:"110px"},onClick:Bi=>U(Bt.$index,Bt.row)},{dropdown:$(()=>[O(sr,null,{default:$(()=>[O(li,{onClick:Bi=>ne(Bt.$index,Bt.row)},{default:$(()=>[...$e[32]||($e[32]=[Be("",-1)])]),_:2},1032,["onClick"]),O(li,{onClick:Bi=>J(Bt.$index,Bt.row)},{default:$(()=>[...$e[33]||($e[33]=[Be("",-1)])]),_:2},1032,["onClick"])]),_:2},1024)]),default:$(()=>[$e[34]||($e[34]=Be("  ",-1))]),_:2},1032,["modelValue","onUpdate:modelValue","onClick"])):(N(),de(Er,{key:2,plain:"","split-button":"",size:"small",type:"primary",modelValue:f.value[Bt.$index],"onUpdate:modelValue":Bi=>f.value[Bt.$index]=Bi,style:{width:"110px"},onClick:Bi=>U(Bt.$index,Bt.row)},{dropdown:$(()=>[O(sr,null,{default:$(()=>[O(li,{onClick:Bi=>ne(Bt.$index,Bt.row)},{default:$(()=>[...$e[35]||($e[35]=[Be("",-1)])]),_:2},1032,["onClick"]),O(li,{onClick:Bi=>J(Bt.$index,Bt.row)},{default:$(()=>[...$e[36]||($e[36]=[Be("",-1)])]),_:2},1032,["onClick"]),O(li,{onClick:Bi=>Y(Bt.$index,Bt.row)},{default:$(()=>[...$e[37]||($e[37]=[Be("",-1)])]),_:2},1032,["onClick"])]),_:2},1024)]),default:$(()=>[$e[38]||($e[38]=Be("  ",-1))]),_:2},1032,["modelValue","onUpdate:modelValue","onClick"]))]),_:1}),O($t,{label:"","header-align":"center",align:"center","min-width":"20%"},{header:$(()=>[...$e[39]||($e[39]=[K("span",{style:{color:"var(--el-color-primary)"}},"",-1)])]),default:$(Bt=>[O(ut,{style:{"text-align":"center"}},{default:$(()=>[O(zn,{plain:"",size:"small",type:"primary",onClick:Bi=>ee(Bt.row)},{default:$(()=>[...$e[40]||($e[40]=[Be("  ",-1)])]),_:2},1032,["onClick"]),Bt.row.status==2||Bt.row.status==3||Bt.row.status==1?(N(),de(zn,{key:0,plain:"",size:"small",type:"primary",onClick:Bi=>Z(Bt.row)},{default:$(()=>[...$e[41]||($e[41]=[Be("  ",-1)])]),_:2},1032,["onClick"])):ge("",!0)]),_:2},1024)]),_:1})]),_:1},8,["data","style","max-height","onHeaderClick","onSortChange"])),[[hs,C.value]]),O(to,{modelValue:k.value,"onUpdate:modelValue":$e[9]||($e[9]=Bt=>k.value=Bt),direction:a.value,size:"50%","destroy-on-close":!0,"append-to-body":!0},{header:$(()=>[...$e[42]||($e[42]=[K("h4",null,"",-1)])]),default:$(()=>[O(UI,{pipeline_info:M.value},null,8,["pipeline_info"])]),_:1},8,["modelValue","direction"]),O(to,{modelValue:o.value,"onUpdate:modelValue":$e[10]||($e[10]=Bt=>o.value=Bt),direction:a.value,size:"50%","destroy-on-close":!0,"append-to-body":!0},{header:$(()=>[...$e[43]||($e[43]=[K("h4",{style:{width:"100px"}},"",-1)])]),default:$(()=>[O(N2,{pipeline_id:E.value,task_info:T.value,task_type:A.value,update_task:!0},null,8,["pipeline_id","task_info","task_type"])]),_:1},8,["modelValue","direction"]),O(to,{modelValue:D.value,"onUpdate:modelValue":$e[11]||($e[11]=Bt=>D.value=Bt),direction:a.value,size:"100%","destroy-on-close":!0,"append-to-body":!0},{header:$(()=>[...$e[44]||($e[44]=[K("h4",{style:{width:"100px"}},"",-1)])]),default:$(()=>[O(Uo,{graph_info:L.value},null,8,["graph_info"])]),_:1},8,["modelValue","direction"]),O(to,{modelValue:V.value,"onUpdate:modelValue":$e[12]||($e[12]=Bt=>V.value=Bt),direction:a.value,size:"80%","destroy-on-close":!0,"append-to-body":!0},{header:$(()=>[...$e[45]||($e[45]=[K("h4",{style:{width:"100px"}},null,-1)])]),default:$(()=>[O(f1e,{schedule_id:P.value},null,8,["schedule_id"])]),_:1},8,["modelValue","direction"]),O(va,{modelValue:I.value,"onUpdate:modelValue":$e[13]||($e[13]=Bt=>I.value=Bt),fullscreen:"",title:""},{default:$(()=>[K("div",D_t,[K("iframe",{src:R.value,width:"100%",height:"100%",frameborder:"0",sandbox:"allow-scripts allow-same-origin allow-popups"},null,8,N_t)])]),_:1},8,["modelValue"])],64)}}}),sG=ds($_t,[["__scopeId","data-v-f4fdc348"]]),F_t={class:"demo-color-block"},V_t={class:"demo-color-block"},z_t={class:"demo-color-block"},H_t={style:{"margin-top":"20px"}},h1e=ue({__name:"ExportGraph",setup(t){const e=ih(),n=F("rgba(0, 0, 0, 0.68)"),r=F("rgba(31, 147, 255, 0.73)"),i=F("rgb(255, 255, 255)"),o=F("PNG");Jt(()=>{e.value?n.value="rgba(0, 0, 0, 0.68)":n.value="rgba(255, 255, 255)",r.value=getComputedStyle(document.documentElement).getPropertyValue("--el-color-primary").trim(),console.log("color_node: ",r.value)});const a=F(["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"]),s=()=>{Me.emit("export_graph",{color_background:n.value,color_node:r.value,color_fount:i.value,format:o.value})};return(l,u)=>{const c=pe("el-text"),f=pe("el-color-picker"),d=pe("el-radio-button"),h=pe("el-radio-group"),p=pe("el-divider"),v=pe("el-button");return N(),Q(ft,null,[K("div",F_t,[O(c,{type:"primary",size:"Large"},{default:$(()=>[...u[4]||(u[4]=[Be("",-1)])]),_:1}),O(f,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=g=>n.value=g),"show-alpha":"",predefine:a.value},null,8,["modelValue","predefine"])]),K("div",V_t,[O(c,{type:"primary",size:"Large"},{default:$(()=>[...u[5]||(u[5]=[Be("",-1)])]),_:1}),O(f,{modelValue:r.value,"onUpdate:modelValue":u[1]||(u[1]=g=>r.value=g),"show-alpha":"",predefine:a.value},null,8,["modelValue","predefine"])]),K("div",z_t,[O(c,{type:"primary",size:"Large"},{default:$(()=>[...u[6]||(u[6]=[Be("",-1)])]),_:1}),O(f,{modelValue:i.value,"onUpdate:modelValue":u[2]||(u[2]=g=>i.value=g),"show-alpha":"",predefine:a.value},null,8,["modelValue","predefine"])]),K("div",H_t,[O(c,{type:"primary",size:"Large"},{default:$(()=>[...u[7]||(u[7]=[Be("",-1)])]),_:1}),O(h,{modelValue:o.value,"onUpdate:modelValue":u[3]||(u[3]=g=>o.value=g)},{default:$(()=>[O(d,{label:"SVG",value:"SVG"}),O(d,{label:"PNG",value:"PNG"}),O(d,{label:"JPEG",value:"JPEG"})]),_:1},8,["modelValue"])]),O(p,{style:{"margin-top":"180px"}}),O(v,{icon:_(vI),type:"primary",onClick:s},{default:$(()=>[...u[8]||(u[8]=[Be("",-1)])]),_:1},8,["icon"])],64)}}}),j_t=ue({__name:"AiGenerate",setup(t){const e=F(""),n=()=>{Me.emit("ai_generate",e.value)};return(r,i)=>{const o=pe("el-input"),a=pe("el-divider"),s=pe("el-button");return N(),Q(ft,null,[O(o,{modelValue:e.value,"onUpdate:modelValue":i[0]||(i[0]=l=>e.value=l),style:{width:"100%"},rows:18,type:"textarea",placeholder:""},null,8,["modelValue"]),O(a),O(s,{type:"primary",onClick:n},{default:$(()=>[...i[1]||(i[1]=[Be("AI",-1)])]),_:1})],64)}}}),G_t={key:0},U_t={key:0,style:{width:"100px"}},W_t={key:1},q_t={name:"App",components:{CreateNode:N2,RunPipeline:c1e,TaskStatusList:sG,ExportGraph:h1e}},K_t=ue({...q_t,props:{task_info:Map},setup(t){const e=F(!1),n=F(!1),r=F("rtl"),i=F(!1),o=F(null);F(!1);const a=ih(),s=F(""),l=F(""),u=F(""),c=F(""),f=F(!1),d=F({}),h=F(!1),p=F(1),v=F(!1),g=F({}),m=F(!1),y=F(!1),b=F(50),w=F(1),S=F(0),x=F(!1),C=F(87.4),E=F(60),T=F(24),A=F(60),k=F(200),M=F("0, 460, 69, 0"),D=F(!1),L="rgba(0, 0, 0, 1)",I="rgba(31, 147, 255, 0.73)",R="rgba(255, 255, 255, 0.73)",V=F(!1),P=F(!1),B=F(null),j=F(0),G=F([]),W=F([]),Z=F(1e3),ee=F(!1),oe=F([]),ce=F("ALL"),X=()=>{Me.on("update_graph",le=>{Kt(le)}),Me.on("success_create_task",le=>{wn(le),n.value=!1}),Me.on("delete_task_success",le=>{$t(le),n.value=!1}),Me.on("update_task_success",le=>{var Ae=We.getCellById(le.id);Ae.attr("title/text",le.name).attr("text/text",le.description),n.value=!1;const Qe=We.getIncomingEdges(""+le.id);if(console.log("now node edges: ",Qe),Qe)for(const ct of Qe)console.log("now reove node edges: ",ct),We.removeEdge(ct.id);wn(le)}),Me.on("success_load_task_table_data",le=>{S.value=le.recordsTotal}),Me.on("table_selected_changed",le=>{le>0?y.value=!0:y.value=!1}),Me.on("success_run_tasks",le=>{v.value=!1,m.value=!0}),Me.on("export_graph",le=>{D.value=!1,le.format=="PNG"?We.toPNG(Ae=>{const Qe=document.createElement("a");Qe.download=l+".png",Qe.href=Ae,document.body.appendChild(Qe),Qe.click(),Qe.remove()},{backgroundColor:le.color_background,padding:20,quality:1,stylesheet:".x6-node rect { fill: "+le.color_node+"; } .x6-node text { fill: "+le.color_font+"; font-size: 14px; }"}):le.format=="JPEG"?We.toJPEG(Ae=>{const Qe=document.createElement("a");Qe.download=l+".jpeg",Qe.href=Ae,document.body.appendChild(Qe),Qe.click(),Qe.remove()},{backgroundColor:le.color_background,padding:20,quality:1,stylesheet:".x6-node rect { fill: "+le.color_node+"; } .x6-node text { fill: "+le.color_font+"; font-size: 14px; }"}):We.toSVG(Ae=>{Bd.downloadDataUri(Bd.svgToDataUrl(Ae),l+".svg")},{stylesheet:".x6-node rect { fill: "+le.color_node+"; } .x6-node text { fill: "+le.color_font+"; font-size: 14px; }"})}),Me.on("ai_generate",le=>{B.value=setInterval(()=>{j.value++,st({type:"success",message:"add new node: "+j.value}),fe(j.value),j.value>=15&&(clearInterval(B.value),j.value=0,G.value=[],W.value=[])},1e3)})},H=()=>{Me.off("update_graph",null),Me.off("success_create_task",null),Me.off("delete_task_success",null),Me.off("update_task_success",null),Me.off("success_load_task_table_data",null),Me.off("table_selected_changed",null),Me.off("success_run_tasks",null),Me.off("export_graph",null),Me.off("ai_generate",null)};Qu(()=>{H(),We.value&&(We.value.off("node:contextmenu"),We.value.off("blank:contextmenu")),document.removeEventListener("click",ye)});const U=le=>{Et.get("/pipeline/get_power_nodes/",{params:{type:le}}).then(Ae=>{for(const Qe in Ae.data.tags)oe.value.push({id:Qe,name:Qe});console.log(Ae.data)}).catch(Ae=>console.log(Ae))},ne=()=>{oe.value=[],U("script"),ee.value=!0},J=()=>{Et.post("/pipeline/set_pipeline_server_tag/",Hn.stringify({pipe_id:s.value,server_tag:ce.value})).then(le=>{le.data.status!=0?st({type:"warning",message:""+le.data.msg}):(st({type:"success",message:""}),console.log("callSetServerTag: ",ce.value),ee.value=!1)}).catch(le=>{st({type:"warning",message:""+le})})},Y=()=>{ua({title:"",message:Rt("p",null,[Rt("span",null,"")]),showCancelButton:!0,confirmButtonText:"",cancelButtonText:"",beforeClose:(le,Ae,Qe)=>{le==="confirm"?Et.post("/pipeline/on_line/",Hn.stringify({pipe_id:s.value,reason:0,on_line:1})).then(ct=>{Qe(),ct.data.status!=0?st({type:"warning",message:""+ct.data.msg}):(V.value=!0,st({type:"warning",message:""}))}).catch(ct=>{st({type:"warning",message:""+ct})}):Qe()}}).then(le=>{})},se=()=>{ua({title:"",message:Rt("p",null,[Rt("span",null,"")]),showCancelButton:!0,confirmButtonText:"",cancelButtonText:"",beforeClose:(le,Ae,Qe)=>{le==="confirm"?Et.post("/pipeline/on_line/",Hn.stringify({pipe_id:s.value,reason:0,on_line:0})).then(ct=>{Qe(),ct.data.status!=0?st({type:"warning",message:""+ct.data.msg}):(V.value=!1,st({type:"warning",message:""}))}).catch(ct=>{st({type:"warning",message:""+ct})}):Qe()}}).then(le=>{})},he=()=>{Me.emit("click_show_pipeline",c.value)},ye=le=>{const Ae=document.querySelector(".context-menu-popover");Ae&&!Ae.contains(le.target)&&i.value&&(i.value=!1)};function _e(le,Ae){return le=Math.ceil(le),Ae=Math.floor(Ae),Math.floor(Math.random()*(Ae-le+1))+le}const fe=le=>{var Ae={id:le+"",name:"AI"+le,prev_task_ids:"",proc_type:1,description:"AI"+le};if(G.value.push(Ae),le>1){var Qe=le-8;Qe<1&&(Qe=1),W.value.push([""+_e(Qe,le-1),""+le])}console.log("add new ai task: ",Ae);const ct={nodes:[],edges:[]};for(let Er=0;Er<G.value.length;Er++){var Nt="/images/python.png";G.value[Er].proc_type==5&&(Nt="/images/shell.png"),G.value[Er].proc_type==7&&(Nt="/images/ck.png");var zn="var(--el-color-success)";ct.nodes.push({id:""+G.value[Er].id,shape:"custom-rect",attrs:{body:{stroke:zn,rx:0,ry:0},image:{"xlink:href":Nt,width:16,height:16,x:12,y:5},title:{text:G.value[Er].name,refX:40,refY:5,fill:"rgba(255,255,255,1)",textWrap:{width:k.value-50,height:E.value+50,ellipsis:!0},fontSize:12,"text-anchor":"start"},text:{text:G.value[Er].description,refX:40,refY:38,fontSize:12,textWrap:{width:130,height:60,ellipsis:!0},fill:"#000",fontFamily:"Arial",fill:"rgba(255,255,255,1)","text-anchor":"start"}}})}W.value.forEach(Er=>{ct.edges.push({source:{cell:Er[0],port:"port-bottom"},target:{cell:Er[1],port:"port-top"},attrs:{line:{stroke:"#A2B1C3",strokeWidth:2,targetMarker:{name:"block",width:12,height:8}}},router:{name:"manhattan"},connector:{name:"rounded",args:{radius:8}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,snap:{radius:20}})});const li=new dQ({type:"dagre",rankdir:"TB",align:"DR",ranksep:T.value,nodesep:A.value,controlPoints:!0,sortByCombo:!0});console.log(ct);const sr=li.layout(ct);We.fromJSON(sr)},Ce=()=>{Me.emit("batch_run_table_tasks","")},Oe=()=>{Me.emit("batch_stop_table_tasks","")};Le(w,le=>{Me.emit("reload_task_table_data_with_page",le)}),Le(b,le=>{Me.emit("reload_task_table_data_with_page_size",le)}),Le(e,le=>{Me.emit("auto_refresh_task_table_data",le)});const Ue=()=>{Me.emit("user_refresh_table_data","")},qe=()=>Math.floor(new Date().getTime()/1e3);var ze=qe();const ae=()=>{$t(o.value?.id),i.value=!1,$n()},Fe=()=>{Me.emit("graph_call_delete_pipeline",c.value)};var We=null,dn=F(We);const At=()=>{Kn(),We=new en({container:document.getElementById("graph-container"),grid:!0,panning:!0,resizing:!0,scroller:{enabled:!0,pageVisible:!0,pageBreak:!0,pannable:!0},events:{delete:!1},mousewheel:{enabled:!0,modifiers:["ctrl","meta"],minScale:.5,maxScale:3},connecting:{router:"manhattan",connector:{name:"rounded",args:{radius:8}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,snap:{radius:20},createEdge(){return new x0e({attrs:{line:{stroke:"#A2B1C3",strokeWidth:2,targetMarker:{name:"block",width:12,height:8}}},zIndex:0})},validateConnection({targetMagnet:ct}){return!!ct}},highlighting:{magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"#5F95FF",stroke:"#5F95FF"}}}}}),We.use(new qm({resizing:!0,rotating:!0})).use(new E1({rubberband:!0,showNodeSelectionBox:!0})).use(new R0e).use(new L0e).use(new D0e).use(new A1),new C1({title:"",target:We,stencilGraphWidth:200,stencilGraphHeight:180,collapsable:!1,groups:[{title:"",name:"group1"}],layoutOptions:{columns:1,columnWidth:80,rowHeight:55}}),We.unbindKey("delete"),We.unbindKey("backspace"),We.bindKey(["meta+c","ctrl+c"],()=>{const ct=We.getSelectedCells();return ct.length&&We.copy(ct),!0}),We.bindKey(["meta+x","ctrl+x"],()=>{const ct=We.getSelectedCells();return ct.length&&We.cut(ct),!1}),We.bindKey(["delete","backspace"],ct=>{if(!We.getSelectedCells().length)return;const zn=We.getSelectedCells()[0];ct.preventDefault?.(),ua.confirm("","",{confirmButtonText:"",cancelButtonText:"",type:"info"}).then(()=>{var li={"Task[id]":zn.id};Et.post("/pipeline/delete_task/"+s.value+"/",Hn.stringify(li)).then(sr=>{sr.status!=200||sr.data.status!=0?st.warning(""+sr.data.info):(console.log(sr.data),$t(zn.id),n.value=!1,st.success(""))}).catch(sr=>{st.error(""+sr),console.log(sr)})}).catch(li=>{})}),We.bindKey(["meta+v","ctrl+v"],()=>{if(We.isClipboardEmpty())return;const ct=We.getSelectedCells()[0];return ua.confirm("","",{confirmButtonText:"",cancelButtonText:"",type:"info"}).then(()=>{Et.post("/pipeline/copy_task/",Hn.stringify({dest_pl_id:s.value,task_id:ct.id})).then(Nt=>{if(Nt.status!=200||Nt.data.status!=0)st.warning(""+Nt.data.msg);else{var zn={id:Nt.data.data.id,name:Nt.data.data.name,proc_type:Nt.data.data.proc_type,description:Nt.data.data.description,prev_task_ids:""};wn(zn),st.success("")}}).catch(Nt=>{st.error(""+Nt),console.log(Nt)})}).catch(Nt=>{}),!0}),We.bindKey(["meta+z","ctrl+z"],()=>(We.canUndo()&&We.undo(),!1)),We.bindKey(["meta+shift+z","ctrl+shift+z"],()=>(We.canRedo()&&We.redo(),!1)),We.bindKey(["meta+a","ctrl+a"],()=>{const ct=We.getNodes();ct&&We.select(ct)}),We.bindKey("backspace",()=>{const ct=We.getSelectedCells();ct.length&&We.removeCells(ct)}),We.bindKey(["ctrl+1","meta+1"],()=>{We.zoom()<1.5&&We.zoom(.1)}),We.bindKey(["ctrl+2","meta+2"],()=>{We.zoom()>.5&&We.zoom(-.1)});const le=(ct,Nt)=>{for(let zn=0,li=ct.length;zn<li;zn+=1)ct[zn].style.visibility=Nt?"visible":"hidden"};We.on("node:mouseenter",()=>{const Nt=document.getElementById("graph-container").querySelectorAll(".x6-port-body");le(Nt,!0)}),We.on("node:mouseleave",()=>{const Nt=document.getElementById("graph-container").querySelectorAll(".x6-port-body");le(Nt,!1)});const Ae={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}},left:{position:"left",attrs:{circle:{r:4,magnet:!0,stroke:"#5F95FF",strokeWidth:1,fill:"#fff",style:{visibility:"hidden"}}}}},items:[{id:"port-top",group:"top"},{id:"port-right",group:"right"},{id:"port-bottom",group:"bottom"},{id:"port-left",group:"left"}]};en.registerNode("custom-rect",{inherit:"rect",width:k.value,height:E.value,attrs:{body:{stroke:"var(--el-color-warning)",strokeWidth:9,fill:"var(--el-color-primary)",refWidth:1,refHeight:1,strokeDasharray:M.value},image:{"xlink:href":"/images/python.png",width:16,height:16,x:12,y:12,backgroundColor:"rgba(255,255,255,1)"},image0:{"xlink:href":"/images/python.png",width:16,height:32,x:12,y:32,backgroundColor:"rgba(255,255,255,1)"},title:{text:"Node",refX:40,refY:14,fill:"rgba(255,255,255,1)",fontSize:14,"text-anchor":"start"},text:{text:"this is content text",refX:40,refY:38,textWrap:{width:150},fontSize:12,fill:"rgba(225,225,225,1)","text-anchor":"start"}},markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"title"},{tagName:"text",selector:"text"}],ports:{...Ae}},!0),We.on("blank:contextmenu",({e:ct})=>{ct.preventDefault(),i.value=!1}),We.on("blank:click",({e:ct})=>{ct.preventDefault(),i.value=!1}),We.on("edge:connected",({edge:ct})=>{Et.post("/pipeline/link_task/",Hn.stringify({prev_task_id:ct.getSourceNode().id,next_task_id:ct.getTargetNode().id})).then(Nt=>{console.log("connect edge success: %d, %d",ct.getSourceNode().id,ct.getTargetNode().id),$n()}).catch(Nt=>{We.removeEdge(ct)})}),We.on("edge:click",({edge:ct})=>{ua.confirm("?","",{confirmButtonText:"",cancelButtonText:"",type:"warning"}).then(()=>{Et.post("/pipeline/unlink_task/",Hn.stringify({"Link[from]":ct.getSourceNode().id,"Link[to]":ct.getTargetNode().id})).then(Nt=>{We.removeEdge(ct),$n(),st({type:"success",message:""})}).catch(Nt=>{st({type:"error",message:""+Nt})})}).catch(()=>{})}),We.on("node:dblclick",({e:ct,node:Nt})=>{h.value=!0,ct.preventDefault(),console.log("clicked: ",Nt.id),Et.get("/pipeline/get_task_detail/"+Nt.id+"/",{params:{}}).then(zn=>{d.value=zn.data,n.value=!0,p.value=zn.data.processor.type,console.log(zn.data)}).catch(zn=>console.log(zn))}),We.on("node:changed",Qe),We.on("edge:changed",Qe),We.use(new l1e),dn.value=We;function Qe(){f.value=!0}},$e=()=>{Et.post("/pipeline/get_pipeline_detail/",Hn.stringify({pipe_id:s.value})).then(le=>{var Ae=le.data;le.data.email_to!=""&&(Ae.monitor_way|=1),le.data.sms_to!=""&&(Ae.monitor_way|=2),V.value=le.data.enable==1;var Qe=le.data;Et.post("/pipeline/get_tasks/",Hn.stringify({pipeline_id:s.value})).then(ct=>{ct.data.project_id=c.value.split("-")[0],ct.data.pipeline_detail=Qe,ct.data.pipe_usr_graph=null,Kt({tag:"0",data:ct.data}),$n()}).catch(ct=>{console.log(ct)})}).catch(le=>{console.log(le),Me.emit("update_graph","-1")})},Kt=le=>{if(le.tag=="-1"||le.tag=="1")return;m.value=!1,le=le.data,console.log("update graph: ",le),le.pipeline_detail&&(l.value=le.pipeline_detail.name),le.pipeline_detail&&(V.value=le.pipeline_detail.enable==1),s.value=le.pipe_id,c.value=le.project_id+"-"+le.pipe_id,console.log("pipeline_id.value: ",c.value,s.value,le),g.value=le;const Ae={nodes:[],edges:[]};if(le.task_list){for(let sr=0;sr<=le.task_list.length;sr++)if(le.task_list[sr]!=null){var Qe="/images/python.png";le.task_list[sr].proc_type==5&&(Qe="/images/shell.png"),le.task_list[sr].proc_type==7&&(Qe="/images/ck.png");var ct="var(--el-color-success)";le.task_list[sr].status==0||le.task_list[sr].status==5?ct="var(--el-color-warning)":le.task_list[sr].status==1?ct="#6222C9":le.task_list[sr].status==2?ct="var(--el-color-success)":ct="var(--el-color-danger)",Ae.nodes.push({id:""+le.task_list[sr].id,shape:"custom-rect",attrs:{body:{stroke:ct,rx:0,ry:0},image:{"xlink:href":Qe,width:16,height:16,x:12,y:5},title:{text:le.task_list[sr].name,refX:40,refY:5,fill:"rgba(255,255,255,1)",textWrap:{width:k.value-50,height:E.value+50,ellipsis:!0},fontSize:12,"text-anchor":"start"},text:{text:le.task_list[sr].description,refX:40,refY:38,fontSize:12,textWrap:{width:130,height:60,ellipsis:!0},fill:"#000",fontFamily:"Arial",fill:"rgba(255,255,255,1)","text-anchor":"start"}}})}}le.edges&&le.edges.forEach(sr=>{Ae.edges.push({source:{cell:sr[0],port:"port-bottom"},target:{cell:sr[1],port:"port-top"},attrs:{line:{stroke:"#A2B1C3",strokeWidth:2,targetMarker:{name:"block",width:12,height:8}}},router:{name:"manhattan"},connector:{name:"rounded",args:{radius:8}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,snap:{radius:20}})});const zn=new dQ({type:"dagre",rankdir:"TB",align:"DR",ranksep:T.value,nodesep:A.value,controlPoints:!0,sortByCombo:!0}).layout(Ae);if(We.fromJSON(zn),console.log("valid graph 1"),We.centerContent(),We.center(),s.value){var li=window.location.origin+"/pipeline?id="+s.value;history.pushState("","",li)}};function Kn(){const le=document.getElementById("container"),Ae=document.createElement("div");Ae.id="stencil";const Qe=document.createElement("div");Qe.id="graph-container",le.appendChild(Qe),Dvt(`
        #stencil {
        width: 180px;
        height: 90px;
        position: relative;
        }
        #graph-container {
        width: calc(100% - 180px);
        height: 100%;
        }
        .x6-widget-stencil  {
        background-color: #fff0;
        }
        .x6-widget-stencil-title {
        background-color: #fff0;
        display:none;
        }
        .x6-widget-stencil-group-title {
        display:none;
        background-color: #fff0 !important;
        }
        .x6-widget-transform {
        margin: -1px 0 0 -1px;
        padding: 0px;
        border: 1px solid #239edd;
        }
        .x6-widget-transform > div {
        border: 1px solid #239edd;
        }
        .x6-widget-transform > div:hover {
        background-color: #3dafe4;
        }
        .x6-widget-transform-active-handle {
        background-color: #3dafe4;
        }
        .x6-widget-transform-resize {
        border-radius: 0;
        }
        .x6-widget-selection-inner {
        border: 1px solid #239edd;
        }
        .x6-widget-selection-box {
        opacity: 0;
        }
        .scrollerCss {
            overflow-x: hidden;
            overflow-y: auto;
        }
    `)}function $t(le){We.removeNode(le)}function wn(le){console.log("add new task: ",le);var Ae="/images/python.png";le.proc_type==5&&(Ae="/images/shell.png"),le.proc_type==6&&(Ae="/images/docker.png"),le.proc_type==7&&(Ae="/images/ck.png");var Qe="var(--el-color-success)";We.addNode({id:""+le.id,shape:"custom-rect",attrs:{body:{stroke:Qe,rx:0,ry:0},image:{"xlink:href":Ae,width:16,height:16,x:12,y:5},title:{text:le.name,refX:40,refY:5,fill:"rgba(255,255,255,1)",textWrap:{width:k.value-50,height:E.value+50,ellipsis:!0},fontSize:12,"text-anchor":"start"},text:{text:le.description,refX:40,refY:38,fontSize:12,textWrap:{width:130,height:60,ellipsis:!0},fill:"#000",fontFamily:"Arial",fill:"rgba(255,255,255,1)","text-anchor":"start"}}});var ct=le.prev_task_ids.split(",");console.log("get prev task ids: ",ct);for(const Nt of ct)Nt!=""&&We.addEdge({source:{cell:""+Nt,port:"port-bottom"},target:{cell:""+le.id,port:"port-top"},attrs:{line:{stroke:"#A2B1C3",strokeWidth:2,targetMarker:{name:"block",width:12,height:8}}},router:{name:"manhattan"},connector:{name:"rounded",args:{radius:8}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,snap:{radius:20}})}const $n=()=>{var le=We.toJSON(),Ae=JSON.stringify(le,null,2);Et.post("/pipeline/update_pipline_graph/"+s.value+"/",Hn.stringify({graph:Ae})).then(Qe=>{console.log("save pipeline: %d",s.value)}).catch(Qe=>console.log(Qe)),ze=qe()},je=()=>{var le=qe();if(f.value&&ze+3<le){var Ae=We.toJSON(),Qe=JSON.stringify(Ae,null,2);Et.post("/pipeline/update_pipline_graph/"+s.value+"/",Hn.stringify({graph:Qe})).then(ct=>{console.log("save pipeline: %d",s.value)}).catch(ct=>console.log(ct)),f.value=!1,ze=le}},mt=t,re=async le=>{await Et.post("/pipeline/get_pipeline_detail/",Hn.stringify({pipe_id:le.pl_id})).then(Ae=>{var Qe;Qe=Ae.data,Ae.data.email_to!=""&&(Qe.monitor_way|=1),Ae.data.sms_to!=""&&(Qe.monitor_way|=2),Et.post("/pipeline/get_graph/",Hn.stringify({pipe_id:le.pl_id,run_time:le.run_time})).then(ct=>{var Nt={task_list:[],edges:[],project_id:Qe.project_id,pipe_id:le.pl_id,pipeline_detail:Qe};for(const Er of ct.data.res){var zn="";for(const ut of Er.manager_list)zn+=ut[0]+",";zn!=""&&(zn=zn.substring(0,zn.length-1)),Nt.task_list.push({id:Er.task_id,proc_type:Er.proc_type,name:""+Er.pl_name+`
`+Er.task_name+`
`+zn+`

`+Er.task_desc,description:""});var li=Er.prev_task_ids.split(",");for(const ut of li)ut!=""&&Nt.edges.push([ut,""+Er.task_id]);var sr=Er.next_task_ids.split(",");for(const ut of sr)ut!=""&&Nt.edges.push([""+Er.task_id,ut])}Me.emit("update_graph",{tag:"0",project_path:Qe.project_name,data:Nt}),console.log("update_graph get tasks 1",Qe.project_name,Nt)}).catch(ct=>{console.log(ct),Me.emit("update_graph","-1")})}).catch(Ae=>{console.log(Ae),Me.emit("update_graph","-1")})};return Lr(window,"resize",()=>{Z.value=window.innerHeight-60}),Jt(()=>{Z.value=window.innerHeight-60,X();const Ae=new URLSearchParams(window.location.search).get("id");console.log("get pipeline id from url: ",Ae),C.value=190,mt.task_info?(x.value=!0,C.value=90,E.value=90,k.value=260,T.value=32,A.value=80,M.value="0, 610, 229, 0",At(),re(mt.task_info)):(At(),Ae&&Me.emit("show_graph_called","0-"+Ae),setInterval(()=>{je()},1e3)),document.addEventListener("click",ye)}),ur(()=>{}),F(5),F(100),F("default"),F(!1),F(!1),(le,Ae)=>{const Qe=pe("el-button"),ct=pe("el-tooltip"),Nt=pe("el-scrollbar"),zn=pe("el-icon"),li=pe("el-menu-item"),sr=pe("el-menu"),Er=pe("el-popover"),ut=pe("el-drawer"),In=pe("el-switch"),Tn=pe("el-button-group"),to=pe("el-pagination"),Uo=pe("el-option"),va=pe("el-select"),hs=pe("el-divider");return N(),Q(ft,null,[x.value?ge("",!0):(N(),Q("div",G_t,[O(ct,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(Qe,{class:"!ml-0",plain:"",onClick:Ae[0]||(Ae[0]=Bt=>{n.value=!0,h.value=!1,d.value={},p.value=1}),size:"",style:{"margin-top":"4px","margin-left":"4px","z-index":"1051",position:"fixed"},icon:_(Uu)},null,8,["icon"])]),_:1}),O(ct,{class:"box-item",effect:"dark",content:"shell"},{default:$(()=>[O(Qe,{class:"!ml-0",plain:"",onClick:Ae[1]||(Ae[1]=Bt=>{n.value=!0,h.value=!1,d.value={},p.value=5}),size:"",style:{"margin-top":"4px","margin-left":"54px","z-index":"1051",position:"fixed"},icon:_(ah)},null,8,["icon"])]),_:1}),O(ct,{class:"box-item",effect:"dark",content:"-SQL"},{default:$(()=>[O(Qe,{class:"!ml-0",plain:"",onClick:Ae[2]||(Ae[2]=Bt=>{n.value=!0,h.value=!1,d.value={},p.value=7}),style:{width:"46px","margin-top":"4px","margin-left":"104px","z-index":"1051",position:"fixed"}},{default:$(()=>[O(cS,{src:"/images/sql.png"})]),_:1})]),_:1}),O(ct,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(Qe,{class:"!ml-0",plain:"",onClick:he,size:"",style:{"margin-top":"4px","margin-left":"154px","z-index":"1051",position:"fixed"},icon:_(Qde)},null,8,["icon"])]),_:1}),O(ct,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(Qe,{class:"!ml-0",plain:"",onClick:Ae[3]||(Ae[3]=Bt=>v.value=!0),size:"",style:{"margin-top":"4px","margin-left":"204px","z-index":"1051",position:"fixed"},icon:_(Sz)},null,8,["icon"])]),_:1}),O(ct,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(Qe,{class:"!ml-0",plain:"",onClick:Fe,size:"",style:{"margin-top":"4px","margin-left":"254px","z-index":"1051",position:"fixed"},icon:_(aVe)},null,8,["icon"])]),_:1}),O(ct,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(Qe,{class:"!ml-0",plain:"",onClick:Ae[4]||(Ae[4]=Bt=>m.value=!0),size:"",style:{"margin-top":"4px","margin-left":"304px","z-index":"1051",position:"fixed"},icon:_(iVe)},null,8,["icon"])]),_:1}),O(ct,{class:"box-item",effect:"dark",content:","},{default:$(()=>[O(Qe,{class:"!ml-0",plain:"",onClick:$e,size:"",style:{"margin-top":"4px","margin-left":"354px","z-index":"1051",position:"fixed"},icon:_(Kde)},null,8,["icon"])]),_:1}),O(ct,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(Qe,{class:"!ml-0",plain:"",onClick:Ae[5]||(Ae[5]=Bt=>D.value=!0),size:"",style:{"margin-top":"4px","margin-left":"404px","z-index":"1051",position:"fixed"},icon:_(vI)},null,8,["icon"])]),_:1}),V.value?(N(),de(ct,{key:1,class:"box-item",effect:"dark",content:""},{default:$(()=>[O(Qe,{type:"success",class:"!ml-0",plain:"",onClick:se,size:"",style:{"margin-top":"4px","margin-left":"454px","z-index":"1051",position:"fixed"},icon:_(Iz)},null,8,["icon"])]),_:1})):(N(),de(ct,{key:0,class:"box-item",effect:"dark",content:""},{default:$(()=>[O(Qe,{class:"!ml-0",plain:"",onClick:Y,size:"",style:{"margin-top":"4px","margin-left":"454px","z-index":"1051",position:"fixed"},icon:_(S5e)},null,8,["icon"])]),_:1})),O(ct,{class:"box-item",effect:"dark",content:"task"},{default:$(()=>[O(Qe,{class:"!ml-0",plain:"",onClick:ne,size:"",style:{"margin-top":"4px","margin-left":"504px","z-index":"1051",position:"fixed"},icon:_(dVe)},null,8,["icon"])]),_:1})])),K("div",null,[O(Nt,{style:Ot(`height: ${Z.value}px`)},{default:$(()=>[K("div",{id:"container",class:q({containerDark:_(a),containerLight:!_(a)}),style:{"min-width":"5000px","min-height":"5000px","margin-top":"0px"}},[...Ae[16]||(Ae[16]=[K("div",{id:"stencil"},[K("div",{id:"graph-container",class:"x6-graph",tabindex:"-1",style:{width:"5000px",height:"5000px","z-index":"1000"}})],-1)])],2)]),_:1},8,["style"])]),O(Er,{visible:i.value,width:250,trigger:"manual","popper-class":"context-menu-popover"},{reference:$(()=>[...Ae[17]||(Ae[17]=[K("div",{style:{display:"none"}},null,-1)])]),default:$(()=>[O(sr,{"default-active":"2",class:"el-menu-vertical-demo",style:{border:"0px"}},{default:$(()=>[O(li,{index:"2"},{default:$(()=>[O(zn,null,{default:$(()=>[O(_(RVe))]),_:1}),Ae[18]||(Ae[18]=K("span",null,"",-1))]),_:1}),O(li,{index:"1",onClick:ae},{default:$(()=>[O(zn,null,{default:$(()=>[O(_(ju))]),_:1}),Ae[19]||(Ae[19]=K("span",null,"",-1))]),_:1})]),_:1})]),_:1},8,["visible"]),O(ut,{modelValue:n.value,"onUpdate:modelValue":Ae[6]||(Ae[6]=Bt=>n.value=Bt),direction:r.value,size:"50%","destroy-on-close":!0},{header:$(()=>[h.value?(N(),Q("h4",W_t,"")):(N(),Q("h4",U_t,""))]),default:$(()=>[O(N2,{pipeline_id:s.value,task_info:d.value,task_type:p.value,",":"",update_task:h.value},null,8,["pipeline_id","task_info","task_type","update_task"])]),_:1},8,["modelValue","direction"]),O(ut,{modelValue:v.value,"onUpdate:modelValue":Ae[7]||(Ae[7]=Bt=>v.value=Bt),direction:r.value,size:"50%","destroy-on-close":!0},{header:$(()=>[...Ae[20]||(Ae[20]=[K("h4",{tyle:"width: 100px"},"",-1)])]),default:$(()=>[O(c1e,{all_tasks:g.value},null,8,["all_tasks"])]),_:1},8,["modelValue","direction"]),O(ut,{class:"custom-drawer",modelValue:m.value,"onUpdate:modelValue":Ae[11]||(Ae[11]=Bt=>m.value=Bt),direction:r.value,size:"100%","body-class":"my-card-body","destroy-on-close":!0},{header:$(()=>[Ae[23]||(Ae[23]=K("h4",{style:{width:"60px"}},"",-1)),O(ct,{class:"box-item",effect:"dark",content:"",style:{"text-align":"left"},placement:"top-start"},{default:$(()=>[O(Qe,{onClick:Ue,style:{"margin-right":"20px"},type:"default",size:"default",icon:_(Yde),circle:""},null,8,["icon"])]),_:1}),O(ct,{class:"box-item",effect:"dark",content:"",style:{"text-align":"left"},placement:"top-start"},{default:$(()=>[O(In,{style:{"margin-right":"20px",height:"40px"},size:"large",modelValue:e.value,"onUpdate:modelValue":Ae[8]||(Ae[8]=Bt=>e.value=Bt),"active-action-icon":_(Xde),"inactive-action-icon":_(Wde)},null,8,["modelValue","active-action-icon","inactive-action-icon"])]),_:1}),O(Tn,{style:{"margin-right":"20px"}},{default:$(()=>[O(Qe,{type:"primary",disabled:!y.value,onClick:Ce},{default:$(()=>[...Ae[21]||(Ae[21]=[Be("",-1)])]),_:1},8,["disabled"]),O(Qe,{type:"primary",disabled:!y.value,onClick:Oe},{default:$(()=>[...Ae[22]||(Ae[22]=[Be("",-1)])]),_:1},8,["disabled"])]),_:1}),O(to,{"current-page":w.value,"onUpdate:currentPage":Ae[9]||(Ae[9]=Bt=>w.value=Bt),"page-size":b.value,"onUpdate:pageSize":Ae[10]||(Ae[10]=Bt=>b.value=Bt),"page-sizes":[10,50,100,200],background:"",layout:"sizes, prev, pager, next",total:S.value},null,8,["current-page","page-size","total"])]),default:$(()=>[O(sG,{table_margin_top:0,auto_refresh:e.value,pipeline_name:l.value,task_name:u.value,page_size:b.value,is_graph_task_list:!0},null,8,["auto_refresh","pipeline_name","task_name","page_size"])]),_:1},8,["modelValue","direction"]),O(ut,{modelValue:D.value,"onUpdate:modelValue":Ae[12]||(Ae[12]=Bt=>D.value=Bt),direction:r.value,size:"30%","destroy-on-close":!0},{header:$(()=>[...Ae[24]||(Ae[24]=[K("h4",null,"",-1)])]),default:$(()=>[O(h1e,{background:L,node_fill:I,font_color:R})]),_:1},8,["modelValue","direction"]),O(ut,{modelValue:P.value,"onUpdate:modelValue":Ae[13]||(Ae[13]=Bt=>P.value=Bt),direction:r.value,size:"30%","destroy-on-close":!0},{header:$(()=>[...Ae[25]||(Ae[25]=[K("h4",null,"AI ",-1)])]),default:$(()=>[O(j_t)]),_:1},8,["modelValue","direction"]),O(ut,{modelValue:ee.value,"onUpdate:modelValue":Ae[15]||(Ae[15]=Bt=>ee.value=Bt),direction:r.value,size:"30%","destroy-on-close":!0},{header:$(()=>[...Ae[26]||(Ae[26]=[K("h4",null," ",-1)])]),default:$(()=>[O(va,{filterable:"",modelValue:ce.value,"onUpdate:modelValue":Ae[14]||(Ae[14]=Bt=>ce.value=Bt),"value-key":"id",placeholder:"",style:{width:"423px","margin-right":"6px"}},{default:$(()=>[(N(!0),Q(ft,null,gn(oe.value,Bt=>(N(),de(Uo,{key:Bt.id,label:Bt.name,value:Bt.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),O(hs),O(Qe,{style:{"margin-top":"20px"},type:"primary",onClick:J},{default:$(()=>[...Ae[27]||(Ae[27]=[Be("",-1)])]),_:1})]),_:1},8,["modelValue","direction"])],64)}}}),p1e=ds(K_t,[["__scopeId","data-v-e744f05e"]]),B2=ue({__name:"HomeView",props:{project_path:String,project_id:String,is_processor:Boolean},setup(t){const e=t,n=F(!1),r=F(-1),i=F(""),o=()=>{n.value?Me.emit("home_view_click_create_processor",{processor:{project_id:r.value,name:i.value}}):(console.log("props.project_id: ",e.project_id),Me.emit("home_view_click_create_pipeline",r.value))};return Jt(()=>{n.value=e.is_processor,r.value=Number(e.project_id),i.value=e.project_path,console.log("home view coming: ",e.project_id,e.project_path)}),ur(()=>{}),(a,s)=>{const l=pe("el-text"),u=pe("el-divider"),c=pe("el-button"),f=pe("el-empty");return N(),de(f,{style:{"margin-top":"100px"}},{default:$(()=>[O(l,{class:"mx-1",type:"primary"},{default:$(()=>[Be(""+Ne(i.value),1)]),_:1}),O(u,{"border-style":"dashed"}),n.value?(N(),de(c,{key:0,size:"large",type:"primary",icon:_(Uu),onClick:o},{default:$(()=>[...s[0]||(s[0]=[Be("",-1)])]),_:1},8,["icon"])):(N(),de(c,{key:1,size:"large",type:"primary",icon:_(Uu),onClick:o},{default:$(()=>[...s[1]||(s[1]=[Be("",-1)])]),_:1},8,["icon"]))]),_:1})}}}),Y_t={key:0},X_t={name:"App",components:{Graph:p1e,HomeView:B2}},$2=ue({...X_t,props:{show_history_graph:Boolean,task_info:Map},setup(t){const e=F(""),n=F("46"),r=F(!1),i=F(""),o=F(1e4),a=t,s=()=>{Me.on("show_update_graph",c=>{u(c)}),Me.on("success_delete_pipeline",c=>{c==i.value&&(r.value=!1,o.value=1e4)}),Me.on("success_create_pipeline",c=>{r.value=!0,o.value=0,i.value=c.id,console.log("create pipeline: ",i.value)})},l=()=>{Me.off("show_update_graph",null),Me.off("success_delete_pipeline",null),Me.off("success_create_pipeline",null)};Jt(()=>{s(),a.show_history_graph&&(r.value=!0,o.value=0)}),ur(()=>{l()});const u=c=>{if(c.tag=="-1"){r.value=!1,o.value=1e4,e.value=c.project_path,n.value=c.project_id,i.value="",console.log("0 update_graph: ",e.value,n.value,i.value,c);return}r.value=!0,o.value=0,e.value=c.project_path,n.value=c.project_id,i.value=c.pipe_id,console.log("1 update_graph: ",n.value,i.value,c)};return(c,f)=>(N(),Q(ft,null,[r.value?ge("",!0):(N(),Q("div",Y_t,[(N(),de(B2,{project_path:e.value,project_id:n.value,key:e.value},null,8,["project_path","project_id"]))])),K("div",{style:Ot({marginTop:o.value+"px"})},[O(p1e,{task_info:a.task_info},null,8,["task_info"])],4)],64))}}),Z_t={class:"common-layout"},J_t={name:"App",components:{Tree:WI,FlowChart:$2}},Q_t=ue({...J_t,setup(t){return F("left"),F(!1),F("Hello World!"),F(!0),(e,n)=>{const r=pe("el-main"),i=pe("el-container");return N(),Q("div",Z_t,[O(i,null,{default:$(()=>[O(i,{style:{"margin-top":"0px"}},{default:$(()=>[O(r,{style:{padding:"0px"}},{default:$(()=>[O(_(a1),{horizontal:"","push-other-panes":!0,style:{height:"100vh"}},{default:$(()=>[O(_(qd),null,{default:$(()=>[O(_(a1),{"push-other-panes":!1},{default:$(()=>[O(_(qd),{size:"25"},{default:$(()=>[O(WI)]),_:1}),O(_(qd),{size:"75"},{default:$(()=>[O($2)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}}),ewt={class:"iframe-container",style:{border:"0px"}},twt=["src"],nwt={__name:"ExternalRedirect",setup(t){const e=F("http://82.156.224.174:8003/#/index");return(n,r)=>(N(),Q("div",null,[K("div",ewt,[K("iframe",{src:e.value,width:"100%",height:"100%",frameborder:"0",sandbox:"allow-scripts allow-same-origin allow-popups"},null,8,twt)])]))}},rwt=ds(nwt,[["__scopeId","data-v-5f259186"]]),iwt={class:"user-info-card"},owt={class:"user-intro"},awt={class:"info-item"},swt={class:"info-item"},lwt={class:"info-item"},uwt={class:"info-item"},cwt={class:"info-item"},fwt={class:"info-item"},dwt={class:"info-item"},hwt={class:"info-item"},pwt={class:"info-item"},vwt={__name:"UserInfo",setup(t){const e=ih(),n=Sde(e);Bn({fullName:"",firstName:"",lastName:""});const r=F({name:"Vue Dev",intro:"",email:"dev@example.com",joinDate:"2023-01-15",avatar:"https://cube.elemecdn.com/0/88/03b0d110126da18af6e7492c092c7jpg.jpeg"});F("rgba(255, 69, 0, 0.68)");const i=F(["#5F95FF","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"]),o=F(localStorage.getItem("themeColor")||"#5F95FF");Le(o,u=>{document.documentElement.style.setProperty("--el-color-primary",u),document.documentElement.style.setProperty("--el-color-primary-light-3",u),document.documentElement.style.setProperty("--el-color-primary-light-5",u),document.documentElement.style.setProperty("--el-color-primary-light-7",u),document.documentElement.style.setProperty("--el-color-primary-light-8",u),document.documentElement.style.setProperty("--el-color-primary-light-9",u)});const a=()=>{localStorage.setItem("themeColor",o.value)};function s(u){console.log(":",u);const c=document.documentElement;getComputedStyle(c).getPropertyValue("--el-color-primary"),c.style.setProperty("--el-color-primary",u),o.value=u,a()}document.documentElement.style.setProperty("--el-color-primary",o.value);const l=Bn({name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""});return(u,c)=>{const f=pe("el-avatar"),d=pe("el-text"),h=pe("el-switch"),p=pe("el-form-item"),v=pe("el-color-picker"),g=pe("el-form"),m=pe("el-aside"),y=pe("el-card"),b=pe("el-main"),w=pe("el-container");return N(),de(w,{class:"profile-container"},{default:$(()=>[O(m,{width:"380px",class:"profile-aside"},{default:$(()=>[K("div",iwt,[O(f,{size:80,src:r.value.avatar},null,8,["src"]),O(d,{class:"mx-1",style:{"font-size":"24px"}},{default:$(()=>[Be(Ne(r.value.name),1)]),_:1}),K("p",owt,Ne(r.value.intro),1),O(g,{model:l,"label-width":"auto",style:{"max-width":"131px"}},{default:$(()=>[O(p,{label:""},{default:$(()=>[O(h,{modelValue:_(e),"onUpdate:modelValue":c[0]||(c[0]=S=>ai(e)?e.value=S:null),"active-icon":_(NVe),"inactive-icon":_(p5e),"inline-prompt":"",onChange:_(n),style:{"margin-top":"0px",width:"200px","margin-left":"0px"}},null,8,["modelValue","active-icon","inactive-icon","onChange"])]),_:1}),O(p,{label:""},{default:$(()=>[O(v,{modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=S=>o.value=S),"show-alpha":"",predefine:i.value,style:{width:"48px","margin-left":"-4px"},onChange:s},null,8,["modelValue","predefine"])]),_:1})]),_:1},8,["model"])])]),_:1}),O(b,{class:"profile-main"},{default:$(()=>[O(y,{class:"content-card"},{header:$(()=>[...c[2]||(c[2]=[K("div",{class:"card-header"},[K("span",null,"")],-1)])]),default:$(()=>[K("p",awt,[c[3]||(c[3]=K("strong",null,"",-1)),Be(Ne(r.value.name),1)]),K("p",swt,[c[4]||(c[4]=K("strong",null,"",-1)),Be(Ne(r.value.email),1)]),K("p",lwt,[c[5]||(c[5]=K("strong",null,"",-1)),Be(Ne(r.value.joinDate),1)])]),_:1}),O(y,{class:"content-card"},{header:$(()=>[...c[6]||(c[6]=[K("div",{class:"card-header"},[K("span",null,"")],-1)])]),default:$(()=>[c[7]||(c[7]=K("div",{class:"data-overview"},[K("div",{class:"data-item"},[K("h3",null,"23"),K("p",null,"")]),K("div",{class:"data-item"},[K("h3",null,"4"),K("p",null,"")]),K("div",{class:"data-item"},[K("h3",null,"58"),K("p",null,"")])],-1))]),_:1}),O(y,{class:"content-card"},{header:$(()=>[...c[8]||(c[8]=[K("div",{class:"card-header"},[K("span",null,"")],-1)])]),default:$(()=>[K("p",uwt,[c[9]||(c[9]=K("strong",null,"",-1)),Be(Ne(r.value.name),1)]),K("p",cwt,[c[10]||(c[10]=K("strong",null,"",-1)),Be(Ne(r.value.email),1)]),K("p",fwt,[c[11]||(c[11]=K("strong",null,"",-1)),Be(Ne(r.value.joinDate),1)])]),_:1}),O(y,{class:"content-card"},{header:$(()=>[...c[12]||(c[12]=[K("div",{class:"card-header"},[K("span",null,"")],-1)])]),default:$(()=>[K("p",dwt,[c[13]||(c[13]=K("strong",null,"",-1)),Be(Ne(r.value.name),1)]),K("p",hwt,[c[14]||(c[14]=K("strong",null,"",-1)),Be(Ne(r.value.email),1)]),K("p",pwt,[c[15]||(c[15]=K("strong",null,"",-1)),Be(Ne(r.value.joinDate),1)])]),_:1})]),_:1})]),_:1})}}},gwt=ds(vwt,[["__scopeId","data-v-f8ac3f73"]]),mwt={class:"common-layout"},v1e=F(null),ywt={name:"App",components:{Tree:WI,FlowChart:$2},beforeMount(){Me.emit("show_menu",!1),v1e.value={pl_id:this.$route.query.pl_id,run_time:this.$route.query.run_time}}},bwt=ue({...ywt,setup(t){return F("left"),F(!1),F("Hello World!"),F(!0),(e,n)=>{const r=pe("el-main"),i=pe("el-container");return N(),Q("div",mwt,[O(i,null,{default:$(()=>[O(i,{style:{"margin-top":"0px"}},{default:$(()=>[O(r,{style:{padding:"0px"}},{default:$(()=>[O($2,{show_history_graph:!0,task_info:v1e.value},null,8,["task_info"])]),_:1})]),_:1})]),_:1})])}}}),_wt={class:"kpi-dashboard"},wwt=["onClick"],Swt={class:"content"},xwt={class:"info"},Cwt={class:"title"},Ewt={class:"value"},Twt={key:0,class:"unit"},Awt={name:"App"},kwt=ue({...Awt,setup(t){const e=F(!1),n=F("rtl"),r=F(!1),i=F(""),o=F(""),a=F(!1),s=F(!1),l=F(50),u=F(1),c=F(0),f=F(null),d=F(null),h=F(0),p=F(0),v=F(0),g=F(0),m=F(0),y=F(0),b=F(0),w=F([{title:"",value:h,unit:"",trend:18.9,icon:T5e,iconBg:"rgba(249, 0, 0, 0.15)",glowColor:"rgba(252, 0, 0, 0.25)",onClick:()=>{Me.emit("change_search_status",[3])}},{title:"",value:p,unit:"",trend:18.9,icon:qde,iconBg:"rgba(102, 126, 234, 0.15)",glowColor:"rgba(102, 126, 234, 0.25)",onClick:()=>{Me.emit("change_search_status",[0,1,2,3,4,5,6,7])}},{title:"",value:g,unit:"",trend:12.5,icon:Jde,iconBg:"rgba(56, 217, 169, 0.15)",glowColor:"rgba(56, 217, 169, 0.25)",onClick:()=>{Me.emit("change_search_owner",1)}},{title:"",unit:"",value:v,trend:-2.3,icon:eVe,iconBg:"rgba(250, 173, 20, 0.15)",glowColor:"rgba(250, 173, 20, 0.25)",onClick:()=>{Me.emit("change_search_owner",2)}},{title:"",value:m,unit:"",trend:8.1,icon:Iz,iconBg:"rgba(152, 253, 134, 0.25)",glowColor:"rgba(152, 253, 134, 0.25)",onClick:()=>{Me.emit("change_search_status",[0,1,5])}},{title:"",value:y,unit:"",trend:12.5,icon:Oz,iconBg:"rgba(56, 217, 169, 0.15)",glowColor:"rgba(210, 222, 219, 0.25)",onClick:()=>{Me.emit("change_search_status",[2])}}]),S=()=>{Et.get("/pipeline/get_statistics/",{params:{type:0}}).then(D=>{console.log(D.data),h.value=D.data.all_failes_count,p.value=D.data.all_count,g.value=D.data.all_my_count,v.value=D.data.my_create_count,m.value=D.data.runing_count,y.value=D.data.handled_count,b.val+=1}).catch(D=>console.log(D))},x=D=>{D.onClick?.()},C=D=>{const L=document.querySelector(".context-menu-popover");L&&!L.contains(D.target)&&r.value&&(r.value=!1)},E=()=>{Me.on("success_load_task_table_data",D=>{c.value=D.recordsTotal}),Me.on("table_selected_changed",D=>{D>0?s.value=!0:s.value=!1})},T=()=>{Me.off("success_load_task_table_data",null),Me.off("success_load_task_table_data",null)},A=()=>{Me.emit("batch_run_table_tasks","")},k=()=>{Me.emit("batch_stop_table_tasks","")};Le(u,D=>{Me.emit("reload_task_table_data_with_page",D)}),Le(l,D=>{Me.emit("reload_task_table_data_with_page_size",D)}),Le(e,D=>{D?f.value=window.setInterval(()=>{Me.emit("user_refresh_table_data","")},5e3):clearInterval(f.value)});const M=()=>{Me.emit("user_refresh_table_data","")};return Jt(()=>{E(),S(),a.value=!0,document.addEventListener("click",C),clearInterval(f.value),e.value&&(f.value=window.setInterval(()=>{Me.emit("user_refresh_table_data","")},5e3)),d.value=window.setInterval(()=>{S()},3e3)}),ur(()=>{T(),window.clearInterval(f.value),clearInterval(d.value)}),Qu(()=>{window.clearInterval(f.value)}),(D,L)=>{const I=pe("el-icon"),R=pe("el-col"),V=pe("el-row"),P=pe("el-button"),B=pe("el-tooltip"),j=pe("el-switch"),G=pe("el-button-group"),W=pe("el-pagination"),Z=pe("el-card");return N(),Q(ft,null,[K("div",_wt,[O(V,{gutter:24},{default:$(()=>[(N(!0),Q(ft,null,gn(w.value,ee=>(N(),de(R,{key:ee.title,xs:24,sm:12,md:12,lg:4,xl:4},{default:$(()=>[K("div",{class:q(["kpi-card",{clickable:!!ee.onClick}]),onClick:oe=>x(ee)},[K("div",{class:"glow",style:Ot({background:ee.glowColor})},null,4),K("div",Swt,[K("div",{class:"icon-wrapper",style:Ot({background:ee.iconBg})},[O(I,{size:28},{default:$(()=>[(N(),de(Vn(ee.icon)))]),_:2},1024)],4),K("div",xwt,[K("div",Cwt,Ne(ee.title),1),K("div",Ewt,[(N(),Q("span",{class:"unit",key:b.value},Ne(ee.value),1)),ee.unit?(N(),Q("span",Twt,Ne(ee.unit),1)):ge("",!0)])])])],10,wwt)]),_:2},1024))),128))]),_:1})]),O(Z,{modelValue:a.value,"onUpdate:modelValue":L[3]||(L[3]=ee=>a.value=ee),direction:n.value,size:"100%","destroy-on-close":!0,"body-class":"my-card-body"},{footer:$(()=>[O(V,{justify:"end"},{default:$(()=>[O(R,{span:6,style:{float:"left"}},{default:$(()=>[O(B,{class:"box-item",effect:"dark",content:"",style:{"text-align":"left"},placement:"top-start"},{default:$(()=>[O(P,{onClick:M,style:{"margin-left":"20px"},type:"default",size:"default",icon:_(Yde),circle:""},null,8,["icon"])]),_:1}),O(B,{class:"box-item",effect:"dark",content:"",style:{"text-align":"left"},placement:"top-start"},{default:$(()=>[O(j,{style:{"margin-left":"20px",height:"40px"},size:"large",modelValue:e.value,"onUpdate:modelValue":L[0]||(L[0]=ee=>e.value=ee),"active-action-icon":_(Xde),"inactive-action-icon":_(Wde)},null,8,["modelValue","active-action-icon","inactive-action-icon"])]),_:1}),O(G,{style:{"margin-left":"20px"}},{default:$(()=>[O(P,{type:"primary",disabled:!s.value,onClick:A},{default:$(()=>[...L[4]||(L[4]=[Be("",-1)])]),_:1},8,["disabled"]),O(P,{type:"primary",disabled:!s.value,onClick:k},{default:$(()=>[...L[5]||(L[5]=[Be("",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1}),O(R,{span:18},{default:$(()=>[O(W,{style:{"margin-left":"196px",float:"right"},"current-page":u.value,"onUpdate:currentPage":L[1]||(L[1]=ee=>u.value=ee),"page-size":l.value,"onUpdate:pageSize":L[2]||(L[2]=ee=>l.value=ee),"page-sizes":[10,50,100,200],background:"",layout:"sizes, prev, pager, next",total:c.value},null,8,["current-page","page-size","total"])]),_:1})]),_:1})]),default:$(()=>[O(sG,{table_margin_top:-25,pipeline_name:i.value,task_name:o.value,page_size:l.value},null,8,["pipeline_name","task_name","page_size"])]),_:1},8,["modelValue","direction"])],64)}}}),Mwt=ds(kwt,[["__scopeId","data-v-9e57d371"]]),Pwt={class:"flex items-center"},Owt={name:"App",components:{CreateNodeConfig:vR,CreateNodePrevTasks:oG,ChoosePowerNodes:u1e}},Iwt=ue({...Owt,props:{processor_info:Map},setup(t,{expose:e}){const n=F(null),r=F(!1),i=F([]),o=F(""),a={TYPE_STREAM_DATA:-1,TYPE_SCRIPT:1,TYPE_SPARK:2,TYPE_OOZIE:3,TYPE_ODPS:4,TYPE_SHELL:5,TYPE_DOCKER:6,TYPE_CLICKHOUSE:7,TYPE_V100:8},s=F(a.TYPE_SCRIPT),l=t,u=Bn({project:[{required:!0,message:"",trigger:"blur"}],type:[{required:!0,message:"",trigger:"blur"}],name:[{required:!0,message:"",trigger:"blur"},{min:1,max:30,message:"30",trigger:"blur"}],configs:[{required:!1,message:"Please select Activity zone",trigger:"change"}],desc:[{required:!0,message:"",trigger:"change"}],tags:[{required:!1,message:"",trigger:"change"}],users:[{required:!1,message:"",trigger:"change"}],shell:[{required:!0,message:"",trigger:"change"}]}),c=F(),f=Bn({project:-1,type:a.TYPE_SCRIPT,name:"",configs:"",desc:"",tags:[],users:""}),d=F([]),h=async()=>{await Et.post("/pipeline/get_user_list/",{}).then(x=>{var C=[];for(const E of x.data.user_list)C.push({id:E.id,name:E.name});console.log(C),d.value=C}).catch(x=>console.log(x))};Jt(()=>{if(h(),f.project=l.processor_info.project_path,f.project_id=l.processor_info.project_id,o.value=f.project,console.log("create processor: ",l.processor_info.project_path,l.processor_info.project_id),l.processor_info.status==0){var x=l.processor_info.processor;f.type=x.type,f.name=x.name,s.value=x.type;var C=x.userid_list.split(",");for(const k of C)k!=""&&i.value.push(parseInt(k));f.desc=x.description,f.tags=x.tag.split(",");var E=x.config.split(`\r
`);for(const k of E){var T=k.split("=");console.log("config: ",T);var A=T[1].split("H0");n.value.AddConfig(T[0],A[0],A[1])}console.log(f),r.value=!0,f.shell=x.template}});const p=()=>{},v=()=>{var x={"Task[id]":l.task_info.task.id};Et.post("/pipeline/delete_task/"+l.pipeline_id+"/",Hn.stringify(x)).then(C=>{C.status!=200||C.data.status!=0?st.warning(""+C.data.info):(console.log(C.data),Me.emit("delete_task_success",l.task_info.task.id),st.success(""))}).catch(C=>{st.error(""+C),console.log(C)})};function g(x){return[...new Set(x)]}const m=async x=>{var C=n.value.GetConfigs(),E="",T=new Set;for(const D of C){var A=D.key.trim();A!=""&&(T.has(A)||(T.add(A),console.log(A,D.value),E+=A+"="+D.value+"H0"+D.desc+`\r
`))}f.tags=g(f.tags),console.log(f);var k=f.project;console.log("submit: ",f.project,l.processor_info.project_path),f.project==o.value&&(k=f.project_id);var M={name:f.name,config:E,template:f.shell,description:f.desc,type:s.value,project_id:k,principal:i.value.toString(),input_config:"",output_config:"",tag:f.tags.toString()};console.log(M),x&&await x.validate((D,L)=>{D?r.value?Et.post("/processor/update/"+l.processor_info.processor.id+"/",Hn.stringify(M)).then(I=>{I.status!=200||I.data.status!=0?st.warning(""+I.data.msg):(console.log(I.data),Me.emit("update_processor_success",{id:l.processor_info.processor.project_id+"_"+l.processor_info.processor.id}),st.success(""))}).catch(I=>{st.error(""+I),console.log(I)}):Et.post("/processor/create/",Hn.stringify(M)).then(I=>{if(I.status!=200||I.data.status!=0)st.warning(""+I.data.msg);else{console.log(I.data);var R=f.project;f.project==o.value&&(R=f.project_id),M.id=R+"_"+I.data.pid,M.is_project=!1,M.pid=M.project_id,M.text=M.name,M.user_list=M.principal;var V={tag:0,proc_detail:{config_str:M.config,processor:M}};Me.emit("create_processor_success",V),st.success("")}}).catch(I=>{st.error(""+I),console.log(I)}):console.log("error submit!",L)})},y=x=>{x&&(x.resetFields(),n.value.ResetForm(),prev_tasks_vue.value.ResetForm())},b={id:"id",value:"value",label:"label",children:"children",isLeaf:"isLeaf"},w=(x,C)=>{if(x.isLeaf)return C([]);console.log(x.data.id,x.data.value,x.data.label);var E=x.data.id,T;E==null?T={}:T={id:E},Et.get("/processor/get_processor_tree_async/",{params:T}).then(A=>{var k=[];for(const M of A.data)M.is_project&&k.push({id:M.id,value:M.id,label:M.text,isLeaf:!M.is_project});return console.log(k),C(k)}).catch(A=>console.log(A))},S=F([{id:a.TYPE_STREAM_DATA,label:"stream"},{id:a.TYPE_SCRIPT,label:"python"},{id:a.TYPE_SPARK,label:"spark"},{id:a.TYPE_OOZIE,label:"oozie"},{id:a.TYPE_ODPS,label:"odps"},{id:a.TYPE_SHELL,label:"shell"},{id:a.TYPE_DOCKER,label:"docker"},{id:a.TYPE_CLICKHOUSE,label:"clickhouse"}]);return e({TaskTypes:a}),(x,C)=>{const E=pe("el-tree-select"),T=pe("el-form-item"),A=pe("el-option"),k=pe("el-select"),M=pe("el-input"),D=pe("el-icon"),L=pe("el-input-tag"),I=pe("el-divider"),R=pe("el-button"),V=pe("el-popconfirm"),P=pe("el-form");return N(),de(P,{ref_key:"ruleFormRef",ref:c,style:{"max-width":"750px","margin-left":"40px"},model:f,rules:u,"label-width":"auto","label-position":"left"},{default:$(()=>[O(T,{prop:"project",label:"",required:""},{default:$(()=>[O(E,{modelValue:f.project,"onUpdate:modelValue":C[0]||(C[0]=B=>f.project=B),lazy:"",load:w,props:b,"check-strictly":"","render-after-expand":!1,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),O(T,{prop:"type",label:"",required:""},{default:$(()=>[O(k,{modelValue:s.value,"onUpdate:modelValue":C[1]||(C[1]=B=>s.value=B),"value-key":"id",placeholder:"Select",style:{width:"100%"}},{default:$(()=>[(N(!0),Q(ft,null,gn(S.value,B=>(N(),de(A,{key:B.id,label:B.label,value:B.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),O(T,{label:"",prop:"name"},{default:$(()=>[O(M,{modelValue:f.name,"onUpdate:modelValue":C[2]||(C[2]=B=>f.name=B)},null,8,["modelValue"])]),_:1}),O(T,{label:":",prop:"users",style:{"margin-top":"17px"}},{default:$(()=>[O(k,{modelValue:i.value,"onUpdate:modelValue":C[3]||(C[3]=B=>i.value=B),multiple:"",clearable:"",filterable:"",placeholder:"Select"},{default:$(()=>[(N(!0),Q(ft,null,gn(d.value,B=>(N(),de(A,{key:B.id,label:B.name,value:B.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),O(T,{label:"",prop:"desc",required:""},{default:$(()=>[O(M,{modelValue:f.desc,"onUpdate:modelValue":C[4]||(C[4]=B=>f.desc=B),type:"textarea",placeholder:""},null,8,["modelValue"])]),_:1}),s.value===a.TYPE_SHELL?(N(),de(T,{key:0,label:"shell",prop:"shell",required:""},{default:$(()=>[O(M,{modelValue:f.shell,"onUpdate:modelValue":C[5]||(C[5]=B=>f.shell=B),type:"textarea",rows:6,placeholder:"shell"},null,8,["modelValue"])]),_:1})):ge("",!0),s.value===a.TYPE_CLICKHOUSE?(N(),de(T,{key:1,label:"ck-sql",prop:"shell",required:""},{default:$(()=>[O(M,{modelValue:f.shell,"onUpdate:modelValue":C[6]||(C[6]=B=>f.shell=B),type:"textarea",rows:6,placeholder:"clickhouseSQL"},null,8,["modelValue"])]),_:1})):ge("",!0),s.value===a.TYPE_ODPS?(N(),de(T,{key:2,label:"odps-sql",prop:"shell",required:""},{default:$(()=>[O(M,{modelValue:f.shell,"onUpdate:modelValue":C[7]||(C[7]=B=>f.shell=B),type:"textarea",rows:6,placeholder:"odpsSQL"},null,8,["modelValue"])]),_:1})):ge("",!0),O(T,{label:"",prop:"tags",required:""},{default:$(()=>[O(L,{modelValue:f.tags,"onUpdate:modelValue":C[8]||(C[8]=B=>f.tags=B),"tag-type":"primary",max:3,placeholder:""},{tag:$(({value:B})=>[K("div",Pwt,[O(D,{class:"mr-1"},{default:$(()=>[O(_(vVe))]),_:1}),K("span",null,Ne(B),1)])]),_:1},8,["modelValue"])]),_:1}),O(I,{"border-style":"dashed"}),O(T,{label:"",prop:"configs"},{default:$(()=>[O(vR,{ref_key:"config_vue",ref:n,show_description:!0},null,512)]),_:1}),O(I,{"border-style":"dashed"}),O(T,null,{default:$(()=>[r.value?(N(),de(R,{key:0,type:"primary",onClick:C[9]||(C[9]=B=>m(c.value)),icon:_(Gu)},{default:$(()=>[...C[12]||(C[12]=[Be("  ",-1)])]),_:1},8,["icon"])):(N(),de(R,{key:1,type:"primary",onClick:C[10]||(C[10]=B=>m(c.value))},{default:$(()=>[...C[13]||(C[13]=[Be("  ",-1)])]),_:1})),O(V,{"confirm-button-text":"","cancel-button-text":"",icon:_(sh),"icon-color":"#626AEF",title:"?",onConfirm:v,onCancel:p},{reference:$(()=>[r.value?(N(),de(R,{key:0,style:{"margin-left":"10px"},type:"warning",icon:_(ju)},{default:$(()=>[...C[14]||(C[14]=[Be("",-1)])]),_:1},8,["icon"])):ge("",!0)]),_:1},8,["icon"]),O(R,{onClick:C[11]||(C[11]=B=>y(c.value)),icon:_(Pz)},{default:$(()=>[...C[15]||(C[15]=[Be("",-1)])]),_:1},8,["icon"])]),_:1})]),_:1},8,["model","rules"])}}}),Rwt={key:0,class:"custom-tree-node"},Lwt={key:0,style:{"margin-top":"0px"}},Dwt={key:1,style:{"margin-top":"0px"}},Nwt={key:2},Bwt={class:"node-buttons"},$wt={key:3},Fwt={class:"node-buttons"},g1e=ue({__name:"ProcessorTree",setup(t){const e=F(!1),n=F("rtl"),r=F(null),i=F(0);let o=null;const a=F(""),s=F(),l=F(""),u=F("1"),c=F("");F({});const f=F(1e4),d={status:1,msg:"",processor:{id:0,name:"",type:1,template:"",update_time:"",description:"",config:"",input_config:"",output_config:"",owner_id:1,private:1,tag:"blockchain",tpl_files:"",user_list:"",userid_list:""},type_str:"",private_str:"",is_owner:0,config_str:"",input_config:"",output_config:"",is_super:!0,owner_name:"",page_title:"",pipeline_model:1,page_index:0},h=F(structuredClone(d)),p=F({}),v=F(!1),g=F(!1),m=ih(),y=()=>{Me.on("create_folder",B=>{Et.post("/processor/add_new_project/",Hn.stringify({project_name:B.name,description:"",parent_id:B.cur_id,type:99})).then(j=>{if(j.data.status!=0)st({type:"error",message:""+j.data.msg});else{v.value=!1,B.id=j.data.id,B.text=B.name,B.is_project=!0,B.pipe_id=0;var G=B.cur_id;G==0&&(G=-1),B.type==0?P(B.selected_id,B):P(G,B),st({type:"success",message:""})}}).catch(j=>{st({type:"error",message:""+j})})}),Me.on("update_folder",B=>{Et.post("/pipeline/update_project/",Hn.stringify({project_name:B.name,description:"",id:B.cur_id})).then(j=>{if(j.data.status!=0)st({type:"error",message:""+j.data.msg});else{g.value=!1;const W=s.value.getNode(B.cur_id);if(W){console.log("upate project name: ",W,W.label),W.label=B.name;var G=V(B.cur_id,S.value);G.label=B.name,console.log("upate project name: ",W,W.label),S.value=[...S.value]}st({type:"success",message:""})}}).catch(j=>{st({type:"error",message:""+j})})}),Me.on("success_update_pipeline",B=>{e.value=!1}),Me.on("home_view_click_create_pipeline",B=>{h.value=structuredClone(d),h.value.project_id=B,console.log("selectedProcessor.value.project_id: ",h.value.project_id),e.value=!0}),Me.on("graph_call_delete_pipeline",B=>{const j=s.value.getNode(B);console.log(j),M(j)}),Me.on("click_show_pipeline",B=>{c.value="",Et.post("/pipeline/get_pipeline_detail/",Hn.stringify({pipe_id:B.split("_")[1]})).then(j=>{h.value=j.data,j.data.email_to!=""&&(h.value.monitor_way|=1),j.data.sms_to!=""&&(h.value.monitor_way|=2);const G=""+B;console.log(G,B,G.split("_").length),u.value=G,e.value=!0}).catch(j=>{console.log(j),Me.emit("update_graph","-1")})}),Me.on("create_processor_success",B=>{console.log(B);var j=B.proc_detail.processor;P(j.project_id,j),e.value=!1,D({id:j.id},null)}),Me.on("update_processor_success",B=>{e.value=!1,console.log("update_processor_success",B),D({id:B.id},null)}),Me.on("click_upadate_processor",B=>{var j={id:B.processor.project_id+"_"+B.processor.id,label:B.processor.name,key:B.processor.project_id+"_"+B.processor.id,parent:B.parent};console.log("click_upadate_processor",B),A(j)}),Me.on("click_delete_processor",B=>{console.log("click_delete_processor",B);var j={id:B.processor.project_id+"_"+B.processor.id,label:B.processor.name,key:B.processor.project_id+"_"+B.processor.id,parent:{key:B.processor.project_id}};M(j)}),Me.on("home_view_click_create_processor",B=>{var j=B.processor.project_id;B.processor.id>0&&(j=B.processor.project_id+"_"+B.processor.id);var G={id:j,label:B.processor.name,key:j,parent:{key:B.processor.project_id}};A(G)}),Me.on("share_processor_success",B=>{k({key:B.old_project_id+"_"+B.id,parent:{key:B.old_project_id}}),P(B.project_id,{id:B.old_project_id+"_"+B.id,text:B.name,is_project:!1,type:B.type})})},b=()=>{Me.off("create_folder",null),Me.off("update_folder",null),Me.off("success_update_pipeline",null),Me.off("home_view_click_create_pipeline",null),Me.off("graph_call_delete_pipeline",null),Me.off("click_show_pipeline",null),Me.off("create_processor_success",null),Me.off("update_processor_success",null),Me.off("click_upadate_processor",null),Me.off("click_delete_processor",null),Me.off("home_view_click_create_processor",null),Me.off("share_processor_success",null)};ur(()=>{b()});const w={id:"id",label:"label",is_project:"is_project",children:"children",type:0,valid:"valid"},S=F([]),x=B=>{var j=B.label,G=0;B.parent&&(j=B.parent.label+"/"+j,G=B.parent.key),p.value={path:j,id:B.data.id,parent_id:G},g.value=!0},C=B=>{ua({title:"",message:Rt("p",null,[Rt("span",null,"?  "),Rt("i",{style:"color: red"},B.label)]),showCancelButton:!0,confirmButtonText:"",cancelButtonText:"",beforeClose:(j,G,W)=>{j==="confirm"?(G.confirmButtonLoading=!0,G.confirmButtonText="...",Et.post("/processor/delete_project/",Hn.stringify({project_id:B.data.id})).then(Z=>{Z.data.status!=0?st({type:"danger",message:""+Z.data.msg}):(st({type:"success",message:""}),k(B)),W(),G.confirmButtonLoading=!1}).catch(Z=>{st({type:"danger",message:""+Z})})):W()}}).then(j=>{})},E=B=>{var j=B.label,G=0;B.parent&&(j=B.parent.label+"/"+j,G=B.parent.key),p.value={path:j,id:B.data.id,parent_id:G},v.value=!0},T=async(B,j)=>{await Et.get("/processor/get_processor_tree_async/",{params:{id:B.id}}).then(G=>{var W=V(B.id,S.value);W&&(W.children=[]);for(const Z of G.data)P(B.id,Z)}).catch(G=>console.log(G))},A=B=>{c.value="",h.value=structuredClone(d),console.log("ttttt:",B.key);var j=""+B.key;if(h.value.project_id=B.key,j.split("_").length!=2){h.value.project_path=B.label,console.log("call create processor: ",h.value),e.value=!0,l.value=B.label;for(var G=B.parent;G;)l.value=G.label+"/"+l.value,G=G.parent;console.log(l.value);return}c.value="",Et.post("/processor/get_processor/",Hn.stringify({id:B.key.split("_")[1]})).then(W=>{h.value=W.data,h.value.project_path=B.parent.label,h.value.project_id=W.data.processor.project_id,e.value=!0;const Z=""+B.key;console.log(Z,B,Z.split("_").length),u.value=Z;var ee=window.location.origin+"/processor?id="+W.data.processor.id;history.pushState("","",ee),console.log("history: ",ee)}).catch(W=>{console.log(W),Me.emit("update_graph","-1")})},k=B=>{var j=null;if(B.parent&&(console.log("now delete node: ",B.parent.key),j=V(B.parent.key,S.value)),j){const W=j.children.findIndex(Z=>Z.id===B.key);console.log("found parent now delete node: ",W),W!==-1&&j.children.splice(W,1)}else{const W=S.value.findIndex(Z=>Z.id===B.key);console.log("not found parent now delete node: ",W),W!==-1&&S.value.splice(W,1)}S.value=[...S.value],console.log("delete key: ",B.key);var G=""+B.key;G.split("_").length==2&&Me.emit("success_delete_pipeline",G)},M=B=>{ua({title:"",message:Rt("p",null,[Rt("span",null,"?  "),Rt("i",{style:"color: blue"},B.label)]),showCancelButton:!0,confirmButtonText:"",cancelButtonText:"",beforeClose:(j,G,W)=>{j==="confirm"?(G.confirmButtonLoading=!0,G.confirmButtonText="...",Et.post("/processor/delete/"+B.key.split("_")[1]+"/",{}).then(Z=>{console.log("success delete pipeline.",B.key),Me.emit("delete_processor_success",B.key),k(B),W(),G.confirmButtonLoading=!1}).catch(Z=>{W(),st({type:"danger",message:""+Z})})):W()}}).then(j=>{st({type:"success",message:""})})},D=(B,j)=>{const G=""+B.id;if(h.value=structuredClone(d),console.log(G,G.split("_")[1],G.split("_").length),u.value=G,j&&j.parent){l.value="";for(var W=j.parent;W;)l.value="/"+W.label+l.value,W=W.parent}if(B.parent&&(l.value=B.parent.label),G.split("_").length!=2){l.value+="/"+B.label,Me.emit("upate_processor_to_show_detail",{tag:"-1",project_path:l.value,project_id:B.id});return}Et.post("/processor/get_processor/",Hn.stringify({id:B.id.split("_")[1]})).then(Z=>{if(Z.data.status!=0){st({type:"danger",message:""+Z.data.msg});return}var ee=window.location.origin+"/processor?id="+Z.data.processor.id;history.pushState("","",ee),console.log("history: ",ee),Me.emit("upate_processor_to_show_detail",{tag:"0",project_path:l.value,proc_detail:Z.data}),console.log("emit upate_processor_to_show_detail get tasks 1",l.value,Z.data)}).catch(Z=>{st({type:"danger",message:""+Z})})},L=async()=>{await Et.get("/processor/get_processor_tree_async/",{params:{}}).then(G=>{console.log(G);for(const W of G.data)P(-2,W)}).catch(G=>console.log(G)),s.value.expandNode(s.value.getNode(-1));const j=new URLSearchParams(window.location.search).get("id");j&&D({id:"-1_"+j},null)};Lr(window,"resize",()=>{f.value=window.innerHeight-130}),Jt(()=>{y(),f.value=window.innerHeight-130,r.value&&(i.value=r.value.clientHeight),o=new ResizeObserver(B=>{for(const j of B)j.target===r.value&&(i.value=j.contentRect.height)}),r.value&&o.observe(r.value),L()}),ur(()=>{o&&r.value&&o.unobserve(r.value)});const I=B=>{s.value.filter(B)},R=(B,j)=>j.label.includes(B),V=(B,j)=>{for(let G=0;G<j.length;G++){const W=j[G];if(""+W.id==""+B)return W;if(W.children){const Z=V(B,W.children);if(Z)return Z}}return null},P=(B,j)=>{if(j==null)return;const G={id:j.id,label:j.text,is_project:j.is_project,children:[],valid:!0,type:j.type};j.is_project&&G.children.push({id:-1,valid:!1,label:"",is_project:!1,type:0,children:[]});var W=null;B==-2?(S.value.push(G),S.value=[...S.value]):(W=V(B,S.value),W&&(W.children||(W.children=[]),W.children.length==1&&W.children[0].id==-1&&(W.children=[]),W.children.push(G),S.value=[...S.value],s.value&&s.value.setCurrentKey(G.id))),Me.emit("update_graph",{tag:"0",project_id:B,project_path:l.value,data:G})};return(B,j)=>{const G=pe("el-input"),W=pe("el-icon"),Z=pe("el-link"),ee=pe("el-button"),oe=pe("el-tooltip"),ce=pe("el-button-group"),X=pe("el-tree-v2"),H=pe("el-drawer");return N(),Q(ft,null,[O(G,{class:"esponsive-input",modelValue:a.value,"onUpdate:modelValue":j[0]||(j[0]=U=>a.value=U),placeholder:"Please enter keyword",onInput:I,"prefix-icon":_(pm)},null,8,["modelValue","prefix-icon"]),K("div",{class:q({appContainerDark:_(m),appContainerLight:!_(m)}),style:Ot(`min-height: ${f.value}px;`)},[K("div",{class:"tree-container",ref_key:"treeContainerRef",ref:r},[O(X,{ref_key:"treeRef",ref:s,data:S.value,props:w,height:i.value,"filter-method":R,"expand-on-click-node":!1,onNodeExpand:T,onNodeClick:D,"highlight-current":!0,"node-key":"id"},{default:$(({node:U})=>[U.data.valid?(N(),Q("div",Rwt,[U.data.is_project?(N(),Q("div",Lwt,[U.expanded?(N(),de(W,{key:1,size:18,style:{padding:"4px"},color:"var(--el-color-info)"},{default:$(()=>[O(_(Tz))]),_:1})):(N(),de(W,{key:0,size:18,style:{padding:"4px"},color:"var(--el-color-primary)"},{default:$(()=>[O(_(Az))]),_:1})),O(Z,{style:{"margin-bottom":"10px"}},{default:$(()=>[Be(Ne(U.label),1)]),_:2},1024)])):(N(),Q("div",Dwt,[O(W,{size:16,style:{padding:"4px"},color:"var(--el-color-primary)"},{default:$(()=>[U.data.type==5?(N(),de(cS,{key:0,src:"/images/shell.png"})):U.data.type==6?(N(),de(cS,{key:1,src:"/images/docker.png"})):U.data.type==7?(N(),de(cS,{key:2,src:"/images/ck.png"})):(N(),de(cS,{key:3,src:"/images/python.png"}))]),_:2},1024),O(Z,{style:{"margin-bottom":"10px"}},{default:$(()=>[Be(Ne(U.label),1)]),_:2},1024)])),U.data.is_project?(N(),Q("div",Nwt,[K("span",Bwt,[O(ce,{class:"ml-4"},{default:$(()=>[O(oe,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(ee,{type:"info",size:"small",icon:_(kz),onClick:ne=>E(U)},null,8,["icon","onClick"])]),_:2},1024),O(oe,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(ee,{type:"success",size:"small",icon:_(Uu),onClick:ne=>A(U)},null,8,["icon","onClick"])]),_:2},1024),U.label!=""?(N(),de(oe,{key:0,class:"box-item",effect:"dark",content:""},{default:$(()=>[O(ee,{type:"primary",size:"small",icon:_(Gu),onClick:ne=>x(U)},null,8,["icon","onClick"])]),_:2},1024)):ge("",!0),U.label!=""?(N(),de(oe,{key:1,class:"box-item",effect:"dark",content:""},{default:$(()=>[O(ee,{type:"warning",size:"small",icon:_(ju),onClick:ne=>C(U)},null,8,["icon","onClick"])]),_:2},1024)):ge("",!0)]),_:2},1024)])])):(N(),Q("div",$wt,[K("span",Fwt,[O(ce,{class:"ml-4"},{default:$(()=>[O(oe,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(ee,{type:"primary",onClick:ne=>A(U),size:"small",icon:_(Gu)},null,8,["onClick","icon"])]),_:2},1024),O(oe,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(ee,{type:"warning",size:"small",icon:_(ju),onClick:ne=>M(U)},null,8,["icon","onClick"])]),_:2},1024)]),_:2},1024)])]))])):ge("",!0)]),_:1},8,["data","height"])],512)],6),O(H,{modelValue:e.value,"onUpdate:modelValue":j[1]||(j[1]=U=>e.value=U),direction:n.value,size:"55%","destroy-on-close":!0},{header:$(()=>[K("h4",null,Ne(c.value),1)]),default:$(()=>[O(Iwt,{processor_info:h.value},null,8,["processor_info"])]),_:1},8,["modelValue","direction"]),O(H,{modelValue:v.value,"onUpdate:modelValue":j[2]||(j[2]=U=>v.value=U),direction:n.value,size:"50%","destroy-on-close":!0},{header:$(()=>[...j[4]||(j[4]=[K("h4",null,"",-1)])]),default:$(()=>[O(pj,{current_folder_info:p.value},null,8,["current_folder_info"])]),_:1},8,["modelValue","direction"]),O(H,{modelValue:g.value,"onUpdate:modelValue":j[3]||(j[3]=U=>g.value=U),direction:n.value,size:"50%","destroy-on-close":!0},{header:$(()=>[...j[5]||(j[5]=[K("h4",null,"",-1)])]),default:$(()=>[O(vj,{current_folder_info:p.value},null,8,["current_folder_info"])]),_:1},8,["modelValue","direction"])],64)}}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var GV=function(t,e){return GV=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},GV(t,e)};function nt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");GV(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Vwt=(function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t})(),zwt=(function(){function t(){this.browser=new Vwt,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t})(),Fr=new zwt;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Fr.wxa=!0,Fr.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Fr.worker=!0:!Fr.hasGlobalWindow||"Deno"in window?(Fr.node=!0,Fr.svgSupported=!0):Hwt(navigator.userAgent,Fr);function Hwt(t,e){var n=e.browser,r=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18),a&&(n.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}var lG=12,m1e="sans-serif",vv=lG+"px "+m1e,jwt=20,Gwt=100,Uwt="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function Wwt(t){var e={};if(typeof JSON>"u")return e;for(var n=0;n<t.length;n++){var r=String.fromCharCode(n+32),i=(t.charCodeAt(n)-jwt)/Gwt;e[r]=i}return e}var qwt=Wwt(Uwt),gv={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:(function(){var t,e;return function(n,r){if(!t){var i=gv.createCanvas();t=i&&i.getContext("2d")}if(t)return e!==r&&(e=t.font=r||vv),t.measureText(n);n=n||"",r=r||vv;var o=/((?:\d+)?\.?\d*)px/.exec(r),a=o&&+o[1]||lG,s=0;if(r.indexOf("mono")>=0)s=a*n.length;else for(var l=0;l<n.length;l++){var u=qwt[n[l]];s+=u==null?a:u*a}return{width:s}}})(),loadImage:function(t,e,n){var r=new Image;return r.onload=e,r.onerror=n,r.src=t,r}},y1e=Qf(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),b1e=Qf(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),E_=Object.prototype.toString,gR=Array.prototype,Kwt=gR.forEach,Ywt=gR.filter,uG=gR.slice,Xwt=gR.map,_ee=(function(){}).constructor,TT=_ee?_ee.prototype:null,cG="__proto__",Zwt=2311;function _1e(){return Zwt++}function fG(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function Jn(t){if(t==null||typeof t!="object")return t;var e=t,n=E_.call(t);if(n==="[object Array]"){if(!QS(t)){e=[];for(var r=0,i=t.length;r<i;r++)e[r]=Jn(t[r])}}else if(b1e[n]){if(!QS(t)){var o=t.constructor;if(o.from)e=o.from(t);else{e=new o(t.length);for(var r=0,i=t.length;r<i;r++)e[r]=t[r]}}}else if(!y1e[n]&&!QS(t)&&!P1(t)){e={};for(var a in t)t.hasOwnProperty(a)&&a!==cG&&(e[a]=Jn(t[a]))}return e}function mr(t,e,n){if(!Zn(e)||!Zn(t))return n?Jn(e):t;for(var r in e)if(e.hasOwnProperty(r)&&r!==cG){var i=t[r],o=e[r];Zn(o)&&Zn(i)&&!Tt(o)&&!Tt(i)&&!P1(o)&&!P1(i)&&!wee(o)&&!wee(i)&&!QS(o)&&!QS(i)?mr(i,o,n):(n||!(r in t))&&(t[r]=Jn(e[r]))}return t}function dG(t,e){for(var n=t[0],r=1,i=t.length;r<i;r++)n=mr(n,t[r],e);return n}function yt(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&n!==cG&&(t[n]=e[n]);return t}function Yn(t,e,n){for(var r=Ur(e),i=0,o=r.length;i<o;i++){var a=r[i];(n?e[a]!=null:t[a]==null)&&(t[a]=e[a])}return t}function Mr(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function Jwt(t,e){var n=t.prototype;function r(){}r.prototype=e.prototype,t.prototype=new r;for(var i in n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i]);t.prototype.constructor=t,t.superClass=e}function ia(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var o=r[i];o!=="constructor"&&(n?e[o]!=null:t[o]==null)&&(t[o]=e[o])}else Yn(t,e,n)}function Ls(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function ie(t,e,n){if(t&&e)if(t.forEach&&t.forEach===Kwt)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function kt(t,e,n){if(!t)return[];if(!e)return hG(t);if(t.map&&t.map===Xwt)return t.map(e,n);for(var r=[],i=0,o=t.length;i<o;i++)r.push(e.call(n,t[i],i,t));return r}function Qf(t,e,n,r){if(t&&e){for(var i=0,o=t.length;i<o;i++)n=e.call(r,n,t[i],i,t);return n}}function yi(t,e,n){if(!t)return[];if(!e)return hG(t);if(t.filter&&t.filter===Ywt)return t.filter(e,n);for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}function Qwt(t,e,n){if(t&&e){for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]}}function Ur(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function eSt(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return t.apply(e,n.concat(uG.call(arguments)))}}var vn=TT&&qn(TT.bind)?TT.call.bind(TT.bind):eSt;function hr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(uG.call(arguments)))}}function Tt(t){return Array.isArray?Array.isArray(t):E_.call(t)==="[object Array]"}function qn(t){return typeof t=="function"}function fn(t){return typeof t=="string"}function UV(t){return E_.call(t)==="[object String]"}function ri(t){return typeof t=="number"}function Zn(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function wee(t){return!!y1e[E_.call(t)]}function Ol(t){return!!b1e[E_.call(t)]}function P1(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function mR(t){return t.colorStops!=null}function tSt(t){return t.image!=null}function nSt(t){return E_.call(t)==="[object RegExp]"}function hC(t){return t!==t}function Va(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t.length;n<r;n++)if(t[n]!=null)return t[n]}function dr(t,e){return t??e}function jf(t,e,n){return t??e??n}function hG(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return uG.apply(t,e)}function pG(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function al(t,e){if(!t)throw new Error(e)}function pc(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var w1e="__ec_primitive__";function TP(t){t[w1e]=!0}function QS(t){return t[w1e]}var rSt=(function(){function t(){this.data={}}return t.prototype.delete=function(e){var n=this.has(e);return n&&delete this.data[e],n},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,n){return this.data[e]=n,this},t.prototype.keys=function(){return Ur(this.data)},t.prototype.forEach=function(e){var n=this.data;for(var r in n)n.hasOwnProperty(r)&&e(n[r],r)},t})(),S1e=typeof Map=="function";function iSt(){return S1e?new Map:new rSt}var oSt=(function(){function t(e){var n=Tt(e);this.data=iSt();var r=this;e instanceof t?e.each(i):e&&ie(e,i);function i(o,a){n?r.set(o,a):r.set(a,o)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,n){return this.data.set(e,n),n},t.prototype.each=function(e,n){this.data.forEach(function(r,i){e.call(n,r,i)})},t.prototype.keys=function(){var e=this.data.keys();return S1e?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t})();function Mn(t){return new oSt(t)}function pC(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];for(var i=t.length,r=0;r<e.length;r++)n[r+i]=e[r];return n}function yR(t,e){var n;if(Object.create)n=Object.create(t);else{var r=function(){};r.prototype=t,n=new r}return e&&yt(n,e),n}function x1e(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Cn(t,e){return t.hasOwnProperty(e)}function Vo(){}var Lk=180/Math.PI;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var WV=function(t,e){return WV=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},WV(t,e)};function Xi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");WV(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Cy(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function Gs(t,e){return t[0]=e[0],t[1]=e[1],t}function Yd(t){return[t[0],t[1]]}function aSt(t,e,n){return t[0]=e,t[1]=n,t}function See(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function qV(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function nm(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function KV(t){return Math.sqrt(sSt(t))}function sSt(t){return t[0]*t[0]+t[1]*t[1]}function Dk(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function T_(t,e){var n=KV(e);return n===0?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function YV(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Mp=YV;function lSt(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var wm=lSt;function Nk(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function as(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function Pp(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Op(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var l0=(function(){function t(e,n){this.target=e,this.topTarget=n&&n.topTarget}return t})(),uSt=(function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var n=e.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new l0(n,e),"dragstart",e.event))},t.prototype._drag=function(e){var n=this._draggingTarget;if(n){var r=e.offsetX,i=e.offsetY,o=r-this._x,a=i-this._y;this._x=r,this._y=i,n.drift(o,a,e),this.handler.dispatchToElement(new l0(n,e),"drag",e.event);var s=this.handler.findHover(r,i,n).target,l=this._dropTarget;this._dropTarget=s,n!==s&&(l&&s!==l&&this.handler.dispatchToElement(new l0(l,e),"dragleave",e.event),s&&s!==l&&this.handler.dispatchToElement(new l0(s,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new l0(n,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new l0(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t})(),ec=(function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,n,r,i){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof n=="function"&&(i=r,r=n,n=null),!r||!e)return this;var a=this._$eventProcessor;n!=null&&a&&a.normalizeQuery&&(n=a.normalizeQuery(n)),o[e]||(o[e]=[]);for(var s=0;s<o[e].length;s++)if(o[e][s].h===r)return this;var l={h:r,query:n,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},u=o[e].length-1,c=o[e][u];return c&&c.callAtLast?o[e].splice(u,0,l):o[e].push(l),this},t.prototype.isSilent=function(e){var n=this._$handlers;return!n||!n[e]||!n[e].length},t.prototype.off=function(e,n){var r=this._$handlers;if(!r)return this;if(!e)return this._$handlers={},this;if(n){if(r[e]){for(var i=[],o=0,a=r[e].length;o<a;o++)r[e][o].h!==n&&i.push(r[e][o]);r[e]=i}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],o=this._$eventProcessor;if(i)for(var a=n.length,s=i.length,l=0;l<s;l++){var u=i[l];if(!(o&&o.filter&&u.query!=null&&!o.filter(e,u.query)))switch(a){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,n[0]);break;case 2:u.h.call(u.ctx,n[0],n[1]);break;default:u.h.apply(u.ctx,n);break}}return o&&o.afterTrigger&&o.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],o=this._$eventProcessor;if(i)for(var a=n.length,s=n[a-1],l=i.length,u=0;u<l;u++){var c=i[u];if(!(o&&o.filter&&c.query!=null&&!o.filter(e,c.query)))switch(a){case 0:c.h.call(s);break;case 1:c.h.call(s,n[0]);break;case 2:c.h.call(s,n[0],n[1]);break;default:c.h.apply(s,n.slice(1,a-1));break}}return o&&o.afterTrigger&&o.afterTrigger(e),this},t})(),cSt=Math.log(2);function XV(t,e,n,r,i,o){var a=r+"-"+i,s=t.length;if(o.hasOwnProperty(a))return o[a];if(e===1){var l=Math.round(Math.log((1<<s)-1&~i)/cSt);return t[n][l]}for(var u=r|1<<n,c=n+1;r&1<<c;)c++;for(var f=0,d=0,h=0;d<s;d++){var p=1<<d;p&i||(f+=(h%2?-1:1)*t[n][d]*XV(t,e-1,c,u,i|p,o),h++)}return o[a]=f,f}function xee(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},i=XV(n,8,0,0,0,r);if(i!==0){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)o[s]==null&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*XV(n,7,a===0?1:0,1<<a,1<<s,r)/i*e[a];return function(l,u,c){var f=u*o[6]+c*o[7]+1;l[0]=(u*o[0]+c*o[1]+o[2])/f,l[1]=(u*o[3]+c*o[4]+o[5])/f}}}var Cee="___zrEVENTSAVED",z3=[];function fSt(t,e,n,r,i){return ZV(z3,e,r,i,!0)&&ZV(t,n,z3[0],z3[1])}function ZV(t,e,n,r,i){if(e.getBoundingClientRect&&Fr.domSupported&&!C1e(e)){var o=e[Cee]||(e[Cee]={}),a=dSt(e,o),s=hSt(a,o,i);if(s)return s(t,n,r),!0}return!1}function dSt(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var r=["left","right"],i=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=a.style,l=o%2,u=(o>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",i[u]+":0",r[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),t.appendChild(a),n.push(a)}return n}function hSt(t,e,n){for(var r=n?"invTrans":"trans",i=e[r],o=e.srcCoords,a=[],s=[],l=!0,u=0;u<4;u++){var c=t[u].getBoundingClientRect(),f=2*u,d=c.left,h=c.top;a.push(d,h),l=l&&o&&d===o[f]&&h===o[f+1],s.push(t[u].offsetLeft,t[u].offsetTop)}return l&&i?i:(e.srcCoords=a,e[r]=n?xee(s,a):xee(a,s))}function C1e(t){return t.nodeName.toUpperCase()==="CANVAS"}var pSt=/([&<>"'])/g,vSt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ys(t){return t==null?"":(t+"").replace(pSt,function(e,n){return vSt[n]})}var gSt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,H3=[],mSt=Fr.browser.firefox&&+Fr.browser.version.split(".")[0]<39;function JV(t,e,n,r){return n=n||{},r?Eee(t,e,n):mSt&&e.layerX!=null&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):e.offsetX!=null?(n.zrX=e.offsetX,n.zrY=e.offsetY):Eee(t,e,n),n}function Eee(t,e,n){if(Fr.domSupported&&t.getBoundingClientRect){var r=e.clientX,i=e.clientY;if(C1e(t)){var o=t.getBoundingClientRect();n.zrX=r-o.left,n.zrY=i-o.top;return}else if(ZV(H3,t,r,i)){n.zrX=H3[0],n.zrY=H3[1];return}}n.zrX=n.zrY=0}function vG(t){return t||window.event}function gu(t,e,n){if(e=vG(e),e.zrX!=null)return e;var r=e.type,i=r&&r.indexOf("touch")>=0;if(i){var a=r!=="touchend"?e.targetTouches[0]:e.changedTouches[0];a&&JV(t,a,e,n)}else{JV(t,e,e,n);var o=ySt(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&gSt.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function ySt(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,r=t.deltaY;if(n==null||r==null)return e;var i=Math.abs(r!==0?r:n),o=r>0?-1:r<0?1:n>0?-1:1;return 3*i*o}function QV(t,e,n,r){t.addEventListener(e,n,r)}function bSt(t,e,n,r){t.removeEventListener(e,n,r)}var ph=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function Tee(t){return t.which===2||t.which===3}var _St=(function(){function t(){this._track=[]}return t.prototype.recognize=function(e,n,r){return this._doTrack(e,n,r),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,n,r){var i=e.touches;if(i){for(var o={points:[],touches:[],target:n,event:e},a=0,s=i.length;a<s;a++){var l=i[a],u=JV(r,l,{});o.points.push([u.zrX,u.zrY]),o.touches.push(l)}this._track.push(o)}},t.prototype._recognize=function(e){for(var n in j3)if(j3.hasOwnProperty(n)){var r=j3[n](this._track,e);if(r)return r}},t})();function Aee(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function wSt(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var j3={pinch:function(t,e){var n=t.length;if(n){var r=(t[n-1]||{}).points,i=(t[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var o=Aee(r)/Aee(i);!isFinite(o)&&(o=1),e.pinchScale=o;var a=wSt(r);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:t[0].target,event:e}}}}};function Jl(){return[1,0,0,1,0,0]}function bR(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function gG(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Xd(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t}function ed(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function Ey(t,e,n,r){r===void 0&&(r=[0,0]);var i=e[0],o=e[2],a=e[4],s=e[1],l=e[3],u=e[5],c=Math.sin(n),f=Math.cos(n);return t[0]=i*f+s*c,t[1]=-i*c+s*f,t[2]=o*f+l*c,t[3]=-o*c+f*l,t[4]=f*(a-r[0])+c*(u-r[1])+r[0],t[5]=f*(u-r[1])-c*(a-r[0])+r[1],t}function mG(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function A_(t,e){var n=e[0],r=e[2],i=e[4],o=e[1],a=e[3],s=e[5],l=n*a-o*r;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-r*l,t[3]=n*l,t[4]=(r*s-a*i)*l,t[5]=(o*i-n*s)*l,t):null}function SSt(t){var e=Jl();return gG(e,t),e}var _r=(function(){function t(e,n){this.x=e||0,this.y=n||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,n){return this.x=e,this.y=n,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,n){this.x+=e.x*n,this.y+=e.y*n},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var n=this.x-e.x,r=this.y-e.y;return Math.sqrt(n*n+r*r)},t.prototype.distanceSquare=function(e){var n=this.x-e.x,r=this.y-e.y;return n*n+r*r},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var n=this.x,r=this.y;return this.x=e[0]*n+e[2]*r+e[4],this.y=e[1]*n+e[3]*r+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,n,r){e.x=n,e.y=r},t.copy=function(e,n){e.x=n.x,e.y=n.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,n){return e.x*n.x+e.y*n.y},t.add=function(e,n,r){e.x=n.x+r.x,e.y=n.y+r.y},t.sub=function(e,n,r){e.x=n.x-r.x,e.y=n.y-r.y},t.scale=function(e,n,r){e.x=n.x*r,e.y=n.y*r},t.scaleAndAdd=function(e,n,r,i){e.x=n.x+r.x*i,e.y=n.y+r.y*i},t.lerp=function(e,n,r,i){var o=1-i;e.x=o*n.x+i*r.x,e.y=o*n.y+i*r.y},t})(),AT=Math.min,kT=Math.max,ng=new _r,rg=new _r,ig=new _r,og=new _r,_w=new _r,ww=new _r,xr=(function(){function t(e,n,r,i){r<0&&(e=e+r,r=-r),i<0&&(n=n+i,i=-i),this.x=e,this.y=n,this.width=r,this.height=i}return t.prototype.union=function(e){var n=AT(e.x,this.x),r=AT(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=kT(e.x+e.width,this.x+this.width)-n:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=kT(e.y+e.height,this.y+this.height)-r:this.height=e.height,this.x=n,this.y=r},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var n=this,r=e.width/n.width,i=e.height/n.height,o=Jl();return ed(o,o,[-n.x,-n.y]),mG(o,o,[r,i]),ed(o,o,[e.x,e.y]),o},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var r=this,i=r.x,o=r.x+r.width,a=r.y,s=r.y+r.height,l=e.x,u=e.x+e.width,c=e.y,f=e.y+e.height,d=!(o<l||u<i||s<c||f<a);if(n){var h=1/0,p=0,v=Math.abs(o-l),g=Math.abs(u-i),m=Math.abs(s-c),y=Math.abs(f-a),b=Math.min(v,g),w=Math.min(m,y);o<l||u<i?b>p&&(p=b,v<g?_r.set(ww,-v,0):_r.set(ww,g,0)):b<h&&(h=b,v<g?_r.set(_w,v,0):_r.set(_w,-g,0)),s<c||f<a?w>p&&(p=w,m<y?_r.set(ww,0,-m):_r.set(ww,0,y)):b<h&&(h=b,m<y?_r.set(_w,0,m):_r.set(_w,0,-y))}return n&&_r.copy(n,d?_w:ww),d},t.prototype.contain=function(e,n){var r=this;return e>=r.x&&e<=r.x+r.width&&n>=r.y&&n<=r.y+r.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,n){e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height},t.applyTransform=function(e,n,r){if(!r){e!==n&&t.copy(e,n);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],o=r[3],a=r[4],s=r[5];e.x=n.x*i+a,e.y=n.y*o+s,e.width=n.width*i,e.height=n.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}ng.x=ig.x=n.x,ng.y=og.y=n.y,rg.x=og.x=n.x+n.width,rg.y=ig.y=n.y+n.height,ng.transform(r),og.transform(r),rg.transform(r),ig.transform(r),e.x=AT(ng.x,rg.x,ig.x,og.x),e.y=AT(ng.y,rg.y,ig.y,og.y);var l=kT(ng.x,rg.x,ig.x,og.x),u=kT(ng.y,rg.y,ig.y,og.y);e.width=l-e.x,e.height=u-e.y},t})(),E1e="silent";function xSt(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:CSt}}function CSt(){ph(this.event)}var ESt=(function(t){Xi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handler=null,n}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e})(ec),Sw=(function(){function t(e,n){this.x=e,this.y=n}return t})(),TSt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],G3=new xr(0,0,0,0),T1e=(function(t){Xi(e,t);function e(n,r,i,o,a){var s=t.call(this)||this;return s._hovered=new Sw(0,0),s.storage=n,s.painter=r,s.painterRoot=o,s._pointerSize=a,i=i||new ESt,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new uSt(s),s}return e.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(ie(TSt,function(r){n.on&&n.on(r,this[r],this)},this),n.handler=this),this.proxy=n},e.prototype.mousemove=function(n){var r=n.zrX,i=n.zrY,o=A1e(this,r,i),a=this._hovered,s=a.target;s&&!s.__zr&&(a=this.findHover(a.x,a.y),s=a.target);var l=this._hovered=o?new Sw(r,i):this.findHover(r,i),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(a,"mouseout",n),this.dispatchToElement(l,"mousemove",n),u&&u!==s&&this.dispatchToElement(l,"mouseover",n)},e.prototype.mouseout=function(n){var r=n.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},e.prototype.resize=function(){this._hovered=new Sw(0,0)},e.prototype.dispatch=function(n,r){var i=this[n];i&&i.call(this,r)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(n){var r=this.proxy;r.setCursor&&r.setCursor(n)},e.prototype.dispatchToElement=function(n,r,i){n=n||{};var o=n.target;if(!(o&&o.silent)){for(var a="on"+r,s=xSt(r,n,i);o&&(o[a]&&(s.cancelBubble=!!o[a].call(o,s)),o.trigger(r,s),o=o.__hostTarget?o.__hostTarget:o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(r,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[a]=="function"&&l[a].call(l,s),l.trigger&&l.trigger(r,s)}))}},e.prototype.findHover=function(n,r,i){var o=this.storage.getDisplayList(),a=new Sw(n,r);if(kee(o,a,n,r,i),this._pointerSize&&!a.target){for(var s=[],l=this._pointerSize,u=l/2,c=new xr(n-u,r-u,l,l),f=o.length-1;f>=0;f--){var d=o[f];d!==i&&!d.ignore&&!d.ignoreCoarsePointer&&(!d.parent||!d.parent.ignoreCoarsePointer)&&(G3.copy(d.getBoundingRect()),d.transform&&G3.applyTransform(d.transform),G3.intersect(c)&&s.push(d))}if(s.length)for(var h=4,p=Math.PI/12,v=Math.PI*2,g=0;g<u;g+=h)for(var m=0;m<v;m+=p){var y=n+g*Math.cos(m),b=r+g*Math.sin(m);if(kee(s,a,y,b,i),a.target)return a}}return a},e.prototype.processGesture=function(n,r){this._gestureMgr||(this._gestureMgr=new _St);var i=this._gestureMgr;r==="start"&&i.clear();var o=i.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),o){var a=o.type;n.gestureEvent=a;var s=new Sw;s.target=o.target,this.dispatchToElement(s,a,o.event)}},e})(ec);ie(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){T1e.prototype[t]=function(e){var n=e.zrX,r=e.zrY,i=A1e(this,n,r),o,a;if((t!=="mouseup"||!i)&&(o=this.findHover(n,r),a=o.target),t==="mousedown")this._downEl=a,this._downPoint=[e.zrX,e.zrY],this._upEl=a;else if(t==="mouseup")this._upEl=a;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||Mp(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,t,e)}});function ASt(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var r=t,i=void 0,o=!1;r;){if(r.ignoreClip&&(o=!0),!o){var a=r.getClipPath();if(a&&!a.contain(e,n))return!1}r.silent&&(i=!0);var s=r.__hostTarget;r=s||r.parent}return i?E1e:!0}return!1}function kee(t,e,n,r,i){for(var o=t.length-1;o>=0;o--){var a=t[o],s=void 0;if(a!==i&&!a.ignore&&(s=ASt(a,n,r))&&(!e.topTarget&&(e.topTarget=a),s!==E1e)){e.target=a;break}}}function A1e(t,e,n){var r=t.painter;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}var k1e=32,xw=7;function kSt(t){for(var e=0;t>=k1e;)e|=t&1,t>>=1;return t+e}function Mee(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;MSt(t,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function MSt(t,e,n){for(n--;e<n;){var r=t[e];t[e++]=t[n],t[n--]=r}}function Pee(t,e,n,r,i){for(r===e&&r++;r<n;r++){for(var o=t[r],a=e,s=r,l;a<s;)l=a+s>>>1,i(o,t[l])<0?s=l:a=l+1;var u=r-a;switch(u){case 3:t[a+3]=t[a+2];case 2:t[a+2]=t[a+1];case 1:t[a+1]=t[a];break;default:for(;u>0;)t[a+u]=t[a+u-1],u--}t[a]=o}}function U3(t,e,n,r,i,o){var a=0,s=0,l=1;if(o(t,e[n+i])>0){for(s=r-i;l<s&&o(t,e[n+i+l])>0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}else{for(s=i+1;l<s&&o(t,e[n+i-l])<=0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=a;a=i-l,l=i-u}for(a++;a<l;){var c=a+(l-a>>>1);o(t,e[n+c])>0?a=c+1:l=c}return l}function W3(t,e,n,r,i,o){var a=0,s=0,l=1;if(o(t,e[n+i])<0){for(s=i+1;l<s&&o(t,e[n+i-l])<0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=a;a=i-l,l=i-u}else{for(s=r-i;l<s&&o(t,e[n+i+l])>=0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}for(a++;a<l;){var c=a+(l-a>>>1);o(t,e[n+c])<0?l=c:a=c+1}return l}function PSt(t,e){var n=xw,r,i,o=0,a=[];r=[],i=[];function s(h,p){r[o]=h,i[o]=p,o+=1}function l(){for(;o>1;){var h=o-2;if(h>=1&&i[h-1]<=i[h]+i[h+1]||h>=2&&i[h-2]<=i[h]+i[h-1])i[h-1]<i[h+1]&&h--;else if(i[h]>i[h+1])break;c(h)}}function u(){for(;o>1;){var h=o-2;h>0&&i[h-1]<i[h+1]&&h--,c(h)}}function c(h){var p=r[h],v=i[h],g=r[h+1],m=i[h+1];i[h]=v+m,h===o-3&&(r[h+1]=r[h+2],i[h+1]=i[h+2]),o--;var y=W3(t[g],t,p,v,0,e);p+=y,v-=y,v!==0&&(m=U3(t[p+v-1],t,g,m,m-1,e),m!==0&&(v<=m?f(p,v,g,m):d(p,v,g,m)))}function f(h,p,v,g){var m=0;for(m=0;m<p;m++)a[m]=t[h+m];var y=0,b=v,w=h;if(t[w++]=t[b++],--g===0){for(m=0;m<p;m++)t[w+m]=a[y+m];return}if(p===1){for(m=0;m<g;m++)t[w+m]=t[b+m];t[w+g]=a[y];return}for(var S=n,x,C,E;;){x=0,C=0,E=!1;do if(e(t[b],a[y])<0){if(t[w++]=t[b++],C++,x=0,--g===0){E=!0;break}}else if(t[w++]=a[y++],x++,C=0,--p===1){E=!0;break}while((x|C)<S);if(E)break;do{if(x=W3(t[b],a,y,p,0,e),x!==0){for(m=0;m<x;m++)t[w+m]=a[y+m];if(w+=x,y+=x,p-=x,p<=1){E=!0;break}}if(t[w++]=t[b++],--g===0){E=!0;break}if(C=U3(a[y],t,b,g,0,e),C!==0){for(m=0;m<C;m++)t[w+m]=t[b+m];if(w+=C,b+=C,g-=C,g===0){E=!0;break}}if(t[w++]=a[y++],--p===1){E=!0;break}S--}while(x>=xw||C>=xw);if(E)break;S<0&&(S=0),S+=2}if(n=S,n<1&&(n=1),p===1){for(m=0;m<g;m++)t[w+m]=t[b+m];t[w+g]=a[y]}else{if(p===0)throw new Error;for(m=0;m<p;m++)t[w+m]=a[y+m]}}function d(h,p,v,g){var m=0;for(m=0;m<g;m++)a[m]=t[v+m];var y=h+p-1,b=g-1,w=v+g-1,S=0,x=0;if(t[w--]=t[y--],--p===0){for(S=w-(g-1),m=0;m<g;m++)t[S+m]=a[m];return}if(g===1){for(w-=p,y-=p,x=w+1,S=y+1,m=p-1;m>=0;m--)t[x+m]=t[S+m];t[w]=a[b];return}for(var C=n;;){var E=0,T=0,A=!1;do if(e(a[b],t[y])<0){if(t[w--]=t[y--],E++,T=0,--p===0){A=!0;break}}else if(t[w--]=a[b--],T++,E=0,--g===1){A=!0;break}while((E|T)<C);if(A)break;do{if(E=p-W3(a[b],t,h,p,p-1,e),E!==0){for(w-=E,y-=E,p-=E,x=w+1,S=y+1,m=E-1;m>=0;m--)t[x+m]=t[S+m];if(p===0){A=!0;break}}if(t[w--]=a[b--],--g===1){A=!0;break}if(T=g-U3(t[y],a,0,g,g-1,e),T!==0){for(w-=T,b-=T,g-=T,x=w+1,S=b+1,m=0;m<T;m++)t[x+m]=a[S+m];if(g<=1){A=!0;break}}if(t[w--]=t[y--],--p===0){A=!0;break}C--}while(E>=xw||T>=xw);if(A)break;C<0&&(C=0),C+=2}if(n=C,n<1&&(n=1),g===1){for(w-=p,y-=p,x=w+1,S=y+1,m=p-1;m>=0;m--)t[x+m]=t[S+m];t[w]=a[b]}else{if(g===0)throw new Error;for(S=w-(g-1),m=0;m<g;m++)t[S+m]=a[m]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function Bk(t,e,n,r){n||(n=0),r||(r=t.length);var i=r-n;if(!(i<2)){var o=0;if(i<k1e){o=Mee(t,n,r,e),Pee(t,n,r,n+o,e);return}var a=PSt(t,e),s=kSt(i);do{if(o=Mee(t,n,r,e),o<s){var l=i;l>s&&(l=s),Pee(t,n,n+l,n+o,e),o=l}a.pushRun(n,o),a.mergeRuns(),i-=o,n+=o}while(i!==0);a.forceMergeRuns()}}var zl=1,fS=2,z0=4,Oee=!1;function q3(){Oee||(Oee=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Iee(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var OSt=(function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Iee}return t.prototype.traverse=function(e,n){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,n)},t.prototype.getDisplayList=function(e,n){n=n||!1;var r=this._displayList;return(e||!r.length)&&this.updateDisplayList(n),r},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var n=this._roots,r=this._displayList,i=0,o=n.length;i<o;i++)this._updateAndAddDisplayable(n[i],null,e);r.length=this._displayListLen,Bk(r,Iee)},t.prototype._updateAndAddDisplayable=function(e,n,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)n=null;else if(i){n?n=n.slice():n=[];for(var o=i,a=e;o;)o.parent=a,o.updateTransform(),n.push(o),a=o,o=o.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),l=0;l<s.length;l++){var u=s[l];e.__dirty&&(u.__dirty|=zl),this._updateAndAddDisplayable(u,n,r)}e.__dirty=0}else{var c=e;n&&n.length?c.__clipPaths=n:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(q3(),c.z=0),isNaN(c.z2)&&(q3(),c.z2=0),isNaN(c.zlevel)&&(q3(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var f=e.getDecalElement&&e.getDecalElement();f&&this._updateAndAddDisplayable(f,n,r);var d=e.getTextGuideLine();d&&this._updateAndAddDisplayable(d,n,r);var h=e.getTextContent();h&&this._updateAndAddDisplayable(h,n,r)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var n=0,r=e.length;n<r;n++)this.delRoot(e[n]);return}var i=Mr(this._roots,e);i>=0&&this._roots.splice(i,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t})(),AP;AP=Fr.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var ex={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)))},elasticOut:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)},elasticInOut:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)):n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-ex.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?ex.bounceIn(t*2)*.5:ex.bounceOut(t*2-1)*.5+.5}},MT=Math.pow,qp=Math.sqrt,kP=1e-8,M1e=1e-4,Ree=qp(3),PT=1/3,Tf=Cy(),Eu=Cy(),Eb=Cy();function Ip(t){return t>-kP&&t<kP}function P1e(t){return t>kP||t<-kP}function ba(t,e,n,r,i){var o=1-i;return o*o*(o*t+3*i*e)+i*i*(i*r+3*o*n)}function Lee(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)}function MP(t,e,n,r,i,o){var a=r+3*(e-n)-t,s=3*(n-e*2+t),l=3*(e-t),u=t-i,c=s*s-3*a*l,f=s*l-9*a*u,d=l*l-3*s*u,h=0;if(Ip(c)&&Ip(f))if(Ip(s))o[0]=0;else{var p=-l/s;p>=0&&p<=1&&(o[h++]=p)}else{var v=f*f-4*c*d;if(Ip(v)){var g=f/c,p=-s/a+g,m=-g/2;p>=0&&p<=1&&(o[h++]=p),m>=0&&m<=1&&(o[h++]=m)}else if(v>0){var y=qp(v),b=c*s+1.5*a*(-f+y),w=c*s+1.5*a*(-f-y);b<0?b=-MT(-b,PT):b=MT(b,PT),w<0?w=-MT(-w,PT):w=MT(w,PT);var p=(-s-(b+w))/(3*a);p>=0&&p<=1&&(o[h++]=p)}else{var S=(2*c*s-3*a*f)/(2*qp(c*c*c)),x=Math.acos(S)/3,C=qp(c),E=Math.cos(x),p=(-s-2*C*E)/(3*a),m=(-s+C*(E+Ree*Math.sin(x)))/(3*a),T=(-s+C*(E-Ree*Math.sin(x)))/(3*a);p>=0&&p<=1&&(o[h++]=p),m>=0&&m<=1&&(o[h++]=m),T>=0&&T<=1&&(o[h++]=T)}}return h}function O1e(t,e,n,r,i){var o=6*n-12*e+6*t,a=9*e+3*r-3*t-9*n,s=3*e-3*t,l=0;if(Ip(a)){if(P1e(o)){var u=-s/o;u>=0&&u<=1&&(i[l++]=u)}}else{var c=o*o-4*a*s;if(Ip(c))i[0]=-o/(2*a);else if(c>0){var f=qp(c),u=(-o+f)/(2*a),d=(-o-f)/(2*a);u>=0&&u<=1&&(i[l++]=u),d>=0&&d<=1&&(i[l++]=d)}}return l}function mv(t,e,n,r,i,o){var a=(e-t)*i+t,s=(n-e)*i+e,l=(r-n)*i+n,u=(s-a)*i+a,c=(l-s)*i+s,f=(c-u)*i+u;o[0]=t,o[1]=a,o[2]=u,o[3]=f,o[4]=f,o[5]=c,o[6]=l,o[7]=r}function I1e(t,e,n,r,i,o,a,s,l,u,c){var f,d=.005,h=1/0,p,v,g,m;Tf[0]=l,Tf[1]=u;for(var y=0;y<1;y+=.05)Eu[0]=ba(t,n,i,a,y),Eu[1]=ba(e,r,o,s,y),g=wm(Tf,Eu),g<h&&(f=y,h=g);h=1/0;for(var b=0;b<32&&!(d<M1e);b++)p=f-d,v=f+d,Eu[0]=ba(t,n,i,a,p),Eu[1]=ba(e,r,o,s,p),g=wm(Eu,Tf),p>=0&&g<h?(f=p,h=g):(Eb[0]=ba(t,n,i,a,v),Eb[1]=ba(e,r,o,s,v),m=wm(Eb,Tf),v<=1&&m<h?(f=v,h=m):d*=.5);return c&&(c[0]=ba(t,n,i,a,f),c[1]=ba(e,r,o,s,f)),qp(h)}function ISt(t,e,n,r,i,o,a,s,l){for(var u=t,c=e,f=0,d=1/l,h=1;h<=l;h++){var p=h*d,v=ba(t,n,i,a,p),g=ba(e,r,o,s,p),m=v-u,y=g-c;f+=Math.sqrt(m*m+y*y),u=v,c=g}return f}function Na(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function e5(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function RSt(t,e,n,r,i){var o=t-2*e+n,a=2*(e-t),s=t-r,l=0;if(Ip(o)){if(P1e(a)){var u=-s/a;u>=0&&u<=1&&(i[l++]=u)}}else{var c=a*a-4*o*s;if(Ip(c)){var u=-a/(2*o);u>=0&&u<=1&&(i[l++]=u)}else if(c>0){var f=qp(c),u=(-a+f)/(2*o),d=(-a-f)/(2*o);u>=0&&u<=1&&(i[l++]=u),d>=0&&d<=1&&(i[l++]=d)}}return l}function R1e(t,e,n){var r=t+n-2*e;return r===0?.5:(t-e)/r}function vC(t,e,n,r,i){var o=(e-t)*r+t,a=(n-e)*r+e,s=(a-o)*r+o;i[0]=t,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=n}function L1e(t,e,n,r,i,o,a,s,l){var u,c=.005,f=1/0;Tf[0]=a,Tf[1]=s;for(var d=0;d<1;d+=.05){Eu[0]=Na(t,n,i,d),Eu[1]=Na(e,r,o,d);var h=wm(Tf,Eu);h<f&&(u=d,f=h)}f=1/0;for(var p=0;p<32&&!(c<M1e);p++){var v=u-c,g=u+c;Eu[0]=Na(t,n,i,v),Eu[1]=Na(e,r,o,v);var h=wm(Eu,Tf);if(v>=0&&h<f)u=v,f=h;else{Eb[0]=Na(t,n,i,g),Eb[1]=Na(e,r,o,g);var m=wm(Eb,Tf);g<=1&&m<f?(u=g,f=m):c*=.5}}return l&&(l[0]=Na(t,n,i,u),l[1]=Na(e,r,o,u)),qp(f)}function LSt(t,e,n,r,i,o,a){for(var s=t,l=e,u=0,c=1/a,f=1;f<=a;f++){var d=f*c,h=Na(t,n,i,d),p=Na(e,r,o,d),v=h-s,g=p-l;u+=Math.sqrt(v*v+g*g),s=h,l=p}return u}var DSt=/cubic-bezier\(([0-9,\.e ]+)\)/;function yG(t){var e=t&&DSt.exec(t);if(e){var n=e[1].split(","),r=+pc(n[0]),i=+pc(n[1]),o=+pc(n[2]),a=+pc(n[3]);if(isNaN(r+i+o+a))return;var s=[];return function(l){return l<=0?0:l>=1?1:MP(0,r,o,1,l,s)&&ba(0,i,a,1,s[0])}}}var NSt=(function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Vo,this.ondestroy=e.ondestroy||Vo,this.onrestart=e.onrestart||Vo,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,n){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var r=this._life,i=e-this._startTime-this._pausedTime,o=i/r;o<0&&(o=0),o=Math.min(o,1);var a=this.easingFunc,s=a?a(o):o;if(this.onframe(s),o===1)if(this.loop){var l=i%r;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=qn(e)?e:ex[e]||yG(e)},t})(),D1e=(function(){function t(e){this.value=e}return t})(),BSt=(function(){function t(){this._len=0}return t.prototype.insert=function(e){var n=new D1e(e);return this.insertEntry(n),n},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var n=e.prev,r=e.next;n?n.next=r:this.head=r,r?r.prev=n:this.tail=n,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t})(),F2=(function(){function t(e){this._list=new BSt,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,n){var r=this._list,i=this._map,o=null;if(i[e]==null){var a=r.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=r.head;r.remove(l),delete i[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=n:s=new D1e(n),s.key=e,r.insertEntry(s),i[e]=s}return o},t.prototype.get=function(e){var n=this._map[e],r=this._list;if(n!=null)return n!==r.tail&&(r.remove(n),r.insertEntry(n)),n.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t})(),Dee={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function xc(t){return t=Math.round(t),t<0?0:t>255?255:t}function $St(t){return t=Math.round(t),t<0?0:t>360?360:t}function gC(t){return t<0?0:t>1?1:t}function K3(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?xc(parseFloat(e)/100*255):xc(parseInt(e,10))}function Sm(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?gC(parseFloat(e)/100):gC(parseFloat(e))}function Y3(t,e,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?t+(e-t)*n*6:n*2<1?e:n*3<2?t+(e-t)*(2/3-n)*6:t}function Rp(t,e,n){return t+(e-t)*n}function pu(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function t5(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var N1e=new F2(20),OT=null;function u0(t,e){OT&&t5(OT,e),OT=N1e.put(t,OT||e.slice())}function Ql(t,e){if(t){e=e||[];var n=N1e.get(t);if(n)return t5(e,n);t=t+"";var r=t.replace(/ /g,"").toLowerCase();if(r in Dee)return t5(e,Dee[r]),u0(t,e),e;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var o=parseInt(r.slice(1,4),16);if(!(o>=0&&o<=4095)){pu(e,0,0,0,1);return}return pu(e,(o&3840)>>4|(o&3840)>>8,o&240|(o&240)>>4,o&15|(o&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),u0(t,e),e}else if(i===7||i===9){var o=parseInt(r.slice(1,7),16);if(!(o>=0&&o<=16777215)){pu(e,0,0,0,1);return}return pu(e,(o&16711680)>>16,(o&65280)>>8,o&255,i===9?parseInt(r.slice(7),16)/255:1),u0(t,e),e}return}var a=r.indexOf("("),s=r.indexOf(")");if(a!==-1&&s+1===i){var l=r.substr(0,a),u=r.substr(a+1,s-(a+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?pu(e,+u[0],+u[1],+u[2],1):pu(e,0,0,0,1);c=Sm(u.pop());case"rgb":if(u.length>=3)return pu(e,K3(u[0]),K3(u[1]),K3(u[2]),u.length===3?c:Sm(u[3])),u0(t,e),e;pu(e,0,0,0,1);return;case"hsla":if(u.length!==4){pu(e,0,0,0,1);return}return u[3]=Sm(u[3]),n5(u,e),u0(t,e),e;case"hsl":if(u.length!==3){pu(e,0,0,0,1);return}return n5(u,e),u0(t,e),e;default:return}}pu(e,0,0,0,1)}}function n5(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=Sm(t[1]),i=Sm(t[2]),o=i<=.5?i*(r+1):i+r-i*r,a=i*2-o;return e=e||[],pu(e,xc(Y3(a,o,n+1/3)*255),xc(Y3(a,o,n)*255),xc(Y3(a,o,n-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function FSt(t){if(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=o-i,s=(o+i)/2,l,u;if(a===0)l=0,u=0;else{s<.5?u=a/(o+i):u=a/(2-o-i);var c=((o-e)/6+a/2)/a,f=((o-n)/6+a/2)/a,d=((o-r)/6+a/2)/a;e===o?l=d-f:n===o?l=1/3+c-d:r===o&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var h=[l*360,u,s];return t[3]!=null&&h.push(t[3]),h}}function r5(t,e){var n=Ql(t);if(n){for(var r=0;r<3;r++)e<0?n[r]=n[r]*(1-e)|0:n[r]=(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return Zd(n,n.length===4?"rgba":"rgb")}}function X3(t,e,n){if(!(!(e&&e.length)||!(t>=0&&t<=1))){n=n||[];var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=e[i],s=e[o],l=r-i;return n[0]=xc(Rp(a[0],s[0],l)),n[1]=xc(Rp(a[1],s[1],l)),n[2]=xc(Rp(a[2],s[2],l)),n[3]=gC(Rp(a[3],s[3],l)),n}}function VSt(t,e,n){if(!(!(e&&e.length)||!(t>=0&&t<=1))){var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=Ql(e[i]),s=Ql(e[o]),l=r-i,u=Zd([xc(Rp(a[0],s[0],l)),xc(Rp(a[1],s[1],l)),xc(Rp(a[2],s[2],l)),gC(Rp(a[3],s[3],l))],"rgba");return n?{color:u,leftIndex:i,rightIndex:o,value:r}:u}}function tx(t,e,n,r){var i=Ql(t);if(t)return i=FSt(i),e!=null&&(i[0]=$St(e)),n!=null&&(i[1]=Sm(n)),r!=null&&(i[2]=Sm(r)),Zd(n5(i),"rgba")}function PP(t,e){var n=Ql(t);if(n&&e!=null)return n[3]=gC(e),Zd(n,"rgba")}function Zd(t,e){if(!(!t||!t.length)){var n=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(n+=","+t[3]),e+"("+n+")"}}function OP(t,e){var n=Ql(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0}var Nee=new F2(100);function i5(t){if(fn(t)){var e=Nee.get(t);return e||(e=r5(t,-.1),Nee.put(t,e)),e}else if(mR(t)){var n=yt({},t);return n.colorStops=kt(t.colorStops,function(r){return{offset:r.offset,color:r5(r.color,-.1)}}),n}return t}var IP=Math.round;function mC(t){var e;if(!t||t==="transparent")t="none";else if(typeof t=="string"&&t.indexOf("rgba")>-1){var n=Ql(t);n&&(t="rgb("+n[0]+","+n[1]+","+n[2]+")",e=n[3])}return{color:t,opacity:e??1}}var Bee=1e-4;function Lp(t){return t<Bee&&t>-Bee}function IT(t){return IP(t*1e3)/1e3}function o5(t){return IP(t*1e4)/1e4}function zSt(t){return"matrix("+IT(t[0])+","+IT(t[1])+","+IT(t[2])+","+IT(t[3])+","+o5(t[4])+","+o5(t[5])+")"}var HSt={left:"start",right:"end",center:"middle",middle:"middle"};function jSt(t,e,n){return n==="top"?t+=e/2:n==="bottom"&&(t-=e/2),t}function GSt(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function USt(t){var e=t.style,n=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function B1e(t){return t&&!!t.image}function WSt(t){return t&&!!t.svgElement}function bG(t){return B1e(t)||WSt(t)}function $1e(t){return t.type==="linear"}function F1e(t){return t.type==="radial"}function V1e(t){return t&&(t.type==="linear"||t.type==="radial")}function _R(t){return"url(#"+t+")"}function z1e(t){var e=t.getGlobalScale(),n=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function H1e(t){var e=t.x||0,n=t.y||0,r=(t.rotation||0)*Lk,i=dr(t.scaleX,1),o=dr(t.scaleY,1),a=t.skewX||0,s=t.skewY||0,l=[];return(e||n)&&l.push("translate("+e+"px,"+n+"px)"),r&&l.push("rotate("+r+")"),(i!==1||o!==1)&&l.push("scale("+i+","+o+")"),(a||s)&&l.push("skew("+IP(a*Lk)+"deg, "+IP(s*Lk)+"deg)"),l.join(" ")}var qSt=(function(){return Fr.hasGlobalWindow&&qn(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}})(),a5=Array.prototype.slice;function Ad(t,e,n){return(e-t)*n+t}function Z3(t,e,n,r){for(var i=e.length,o=0;o<i;o++)t[o]=Ad(e[o],n[o],r);return t}function KSt(t,e,n,r){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=Ad(e[a][s],n[a][s],r)}return t}function RT(t,e,n,r){for(var i=e.length,o=0;o<i;o++)t[o]=e[o]+n[o]*r;return t}function $ee(t,e,n,r){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=e[a][s]+n[a][s]*r}return t}function YSt(t,e){for(var n=t.length,r=e.length,i=n>r?e:t,o=Math.min(n,r),a=i[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(n,r);s++)i.push({offset:a.offset,color:a.color.slice()})}function XSt(t,e,n){var r=t,i=e;if(!(!r.push||!i.push)){var o=r.length,a=i.length;if(o!==a){var s=o>a;if(s)r.length=a;else for(var l=o;l<a;l++)r.push(n===1?i[l]:a5.call(i[l]))}for(var u=r[0]&&r[0].length,l=0;l<r.length;l++)if(n===1)isNaN(r[l])&&(r[l]=i[l]);else for(var c=0;c<u;c++)isNaN(r[l][c])&&(r[l][c]=i[l][c])}}function nx(t){if(Ls(t)){var e=t.length;if(Ls(t[0])){for(var n=[],r=0;r<e;r++)n.push(a5.call(t[r]));return n}return a5.call(t)}return t}function $k(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function ZSt(t){return Ls(t&&t[0])?2:1}var LT=0,Fk=1,j1e=2,dS=3,s5=4,l5=5,Fee=6;function Vee(t){return t===s5||t===l5}function DT(t){return t===Fk||t===j1e}var Cw=[0,0,0,0],JSt=(function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,n,r){this._needsSort=!0;var i=this.keyframes,o=i.length,a=!1,s=Fee,l=n;if(Ls(n)){var u=ZSt(n);s=u,(u===1&&!ri(n[0])||u===2&&!ri(n[0][0]))&&(a=!0)}else if(ri(n)&&!hC(n))s=LT;else if(fn(n))if(!isNaN(+n))s=LT;else{var c=Ql(n);c&&(l=c,s=dS)}else if(mR(n)){var f=yt({},l);f.colorStops=kt(n.colorStops,function(h){return{offset:h.offset,color:Ql(h.color)}}),$1e(n)?s=s5:F1e(n)&&(s=l5),l=f}o===0?this.valType=s:(s!==this.valType||s===Fee)&&(a=!0),this.discrete=this.discrete||a;var d={time:e,value:l,rawValue:n,percent:0};return r&&(d.easing=r,d.easingFunc=qn(r)?r:ex[r]||yG(r)),i.push(d),d},t.prototype.prepare=function(e,n){var r=this.keyframes;this._needsSort&&r.sort(function(v,g){return v.time-g.time});for(var i=this.valType,o=r.length,a=r[o-1],s=this.discrete,l=DT(i),u=Vee(i),c=0;c<o;c++){var f=r[c],d=f.value,h=a.value;f.percent=f.time/e,s||(l&&c!==o-1?XSt(d,h,i):u&&YSt(d.colorStops,h.colorStops))}if(!s&&i!==l5&&n&&this.needsAnimate()&&n.needsAnimate()&&i===n.valType&&!n._finished){this._additiveTrack=n;for(var p=r[0].value,c=0;c<o;c++)i===LT?r[c].additiveValue=r[c].value-p:i===dS?r[c].additiveValue=RT([],r[c].value,p,-1):DT(i)&&(r[c].additiveValue=i===Fk?RT([],r[c].value,p,-1):$ee([],r[c].value,p,-1))}},t.prototype.step=function(e,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",o=this.valType,a=this.keyframes,s=a.length,l=this.propName,u=o===dS,c,f=this._lastFr,d=Math.min,h,p;if(s===1)h=p=a[0];else{if(n<0)c=0;else if(n<this._lastFrP){var v=d(f+1,s-1);for(c=v;c>=0&&!(a[c].percent<=n);c--);c=d(c,s-2)}else{for(c=f;c<s&&!(a[c].percent>n);c++);c=d(c-1,s-2)}p=a[c+1],h=a[c]}if(h&&p){this._lastFr=c,this._lastFrP=n;var g=p.percent-h.percent,m=g===0?1:d((n-h.percent)/g,1);p.easingFunc&&(m=p.easingFunc(m));var y=r?this._additiveValue:u?Cw:e[l];if((DT(o)||u)&&!y&&(y=this._additiveValue=[]),this.discrete)e[l]=m<1?h.rawValue:p.rawValue;else if(DT(o))o===Fk?Z3(y,h[i],p[i],m):KSt(y,h[i],p[i],m);else if(Vee(o)){var b=h[i],w=p[i],S=o===s5;e[l]={type:S?"linear":"radial",x:Ad(b.x,w.x,m),y:Ad(b.y,w.y,m),colorStops:kt(b.colorStops,function(C,E){var T=w.colorStops[E];return{offset:Ad(C.offset,T.offset,m),color:$k(Z3([],C.color,T.color,m))}}),global:w.global},S?(e[l].x2=Ad(b.x2,w.x2,m),e[l].y2=Ad(b.y2,w.y2,m)):e[l].r=Ad(b.r,w.r,m)}else if(u)Z3(y,h[i],p[i],m),r||(e[l]=$k(y));else{var x=Ad(h[i],p[i],m);r?this._additiveValue=x:e[l]=x}r&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var n=this.valType,r=this.propName,i=this._additiveValue;n===LT?e[r]=e[r]+i:n===dS?(Ql(e[r],Cw),RT(Cw,Cw,i,1),e[r]=$k(Cw)):n===Fk?RT(e[r],e[r],i,1):n===j1e&&$ee(e[r],e[r],i,1)},t})(),_G=(function(){function t(e,n,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=n,n&&i){fG("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,n,r){return this.whenWithKeys(e,n,Ur(n),r)},t.prototype.whenWithKeys=function(e,n,r,i){for(var o=this._tracks,a=0;a<r.length;a++){var s=r[a],l=o[s];if(!l){l=o[s]=new JSt(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var f=c.keyframes,d=f[f.length-1];u=d&&d.value,c.valType===dS&&u&&(u=$k(u))}else u=this._target[s];if(u==null)continue;e>0&&l.addKeyframe(0,nx(u),i),this._trackKeys.push(s)}l.addKeyframe(e,nx(n[s]),i)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var n=e.length,r=0;r<n;r++)e[r].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,n=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,n)for(var r=0;r<n.length;r++)n[r].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,n=this._trackKeys,r=0;r<n.length;r++)e[n[r]].setFinished()},t.prototype._getAdditiveTrack=function(e){var n,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var o=r[i].getTrack(e);o&&(n=o)}return n},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var n=this,r=[],i=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],s=this._tracks[a],l=this._getAdditiveTrack(a),u=s.keyframes,c=u.length;if(s.prepare(i,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=u[c-1];f&&(n._target[s.propName]=f.rawValue),s.setFinished()}else r.push(s)}if(r.length||this._force){var d=new NSt({life:i,loop:this._loop,delay:this._delay||0,onframe:function(h){n._started=2;var p=n._additiveAnimators;if(p){for(var v=!1,g=0;g<p.length;g++)if(p[g]._clip){v=!0;break}v||(n._additiveAnimators=null)}for(var g=0;g<r.length;g++)r[g].step(n._target,h);var m=n._onframeCbs;if(m)for(var g=0;g<m.length;g++)m[g](n._target,h)},ondestroy:function(){n._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),e&&d.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var n=this._clip;e&&n.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return kt(this._trackKeys,function(n){return e._tracks[n]})},t.prototype.stopTracks=function(e,n){if(!e.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,o=0;o<e.length;o++){var a=r[e[o]];a&&!a.isFinished()&&(n?a.step(this._target,1):this._started===1&&a.step(this._target,0),a.setFinished())}for(var s=!0,o=0;o<i.length;o++)if(!r[i[o]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveTo=function(e,n,r){if(e){n=n||this._trackKeys;for(var i=0;i<n.length;i++){var o=n[i],a=this._tracks[o];if(!(!a||a.isFinished())){var s=a.keyframes,l=s[r?0:s.length-1];l&&(e[o]=nx(l.rawValue))}}}},t.prototype.__changeFinalValue=function(e,n){n=n||Ur(e);for(var r=0;r<n.length;r++){var i=n[r],o=this._tracks[i];if(o){var a=o.keyframes;if(a.length>1){var s=a.pop();o.addKeyframe(s.time,e[i]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},t})();function Z0(){return new Date().getTime()}var QSt=(function(t){Xi(e,t);function e(n){var r=t.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,n=n||{},r.stage=n.stage||{},r}return e.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},e.prototype.addAnimator=function(n){n.animation=this;var r=n.getClip();r&&this.addClip(r)},e.prototype.removeClip=function(n){if(n.animation){var r=n.prev,i=n.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,n.next=n.prev=n.animation=null}},e.prototype.removeAnimator=function(n){var r=n.getClip();r&&this.removeClip(r),n.animation=null},e.prototype.update=function(n){for(var r=Z0()-this._pausedTime,i=r-this._time,o=this._head;o;){var a=o.next,s=o.step(r,i);s&&(o.ondestroy(),this.removeClip(o)),o=a}this._time=r,n||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var n=this;this._running=!0;function r(){n._running&&(AP(r),!n._paused&&n.update())}AP(r)},e.prototype.start=function(){this._running||(this._time=Z0(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Z0(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Z0()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var n=this._head;n;){var r=n.next;n.prev=n.next=n.animation=null,n=r}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(n,r){r=r||{},this.start();var i=new _G(n,r.loop);return this.addAnimator(i),i},e})(ec),ext=300,J3=Fr.domSupported,Q3=(function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=kt(t,function(i){var o=i.replace("mouse","pointer");return n.hasOwnProperty(o)?o:i});return{mouse:t,touch:e,pointer:r}})(),zee={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},Hee=!1;function u5(t){var e=t.pointerType;return e==="pen"||e==="touch"}function txt(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function e4(t){t&&(t.zrByTouch=!0)}function nxt(t,e){return gu(t.dom,new rxt(t,e),!0)}function G1e(t,e){for(var n=e,r=!1;n&&n.nodeType!==9&&!(r=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return r}var rxt=(function(){function t(e,n){this.stopPropagation=Vo,this.stopImmediatePropagation=Vo,this.preventDefault=Vo,this.type=n.type,this.target=this.currentTarget=e.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return t})(),fc={mousedown:function(t){t=gu(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=gu(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=gu(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=gu(this.dom,t);var e=t.toElement||t.relatedTarget;G1e(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){Hee=!0,t=gu(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){Hee||(t=gu(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=gu(this.dom,t),e4(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),fc.mousemove.call(this,t),fc.mousedown.call(this,t)},touchmove:function(t){t=gu(this.dom,t),e4(t),this.handler.processGesture(t,"change"),fc.mousemove.call(this,t)},touchend:function(t){t=gu(this.dom,t),e4(t),this.handler.processGesture(t,"end"),fc.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<ext&&fc.click.call(this,t)},pointerdown:function(t){fc.mousedown.call(this,t)},pointermove:function(t){u5(t)||fc.mousemove.call(this,t)},pointerup:function(t){fc.mouseup.call(this,t)},pointerout:function(t){u5(t)||fc.mouseout.call(this,t)}};ie(["click","dblclick","contextmenu"],function(t){fc[t]=function(e){e=gu(this.dom,e),this.trigger(t,e)}});var c5={pointermove:function(t){u5(t)||c5.mousemove.call(this,t)},pointerup:function(t){c5.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function ixt(t,e){var n=e.domHandlers;Fr.pointerEventsSupported?ie(Q3.pointer,function(r){Vk(e,r,function(i){n[r].call(t,i)})}):(Fr.touchEventsSupported&&ie(Q3.touch,function(r){Vk(e,r,function(i){n[r].call(t,i),txt(e)})}),ie(Q3.mouse,function(r){Vk(e,r,function(i){i=vG(i),e.touching||n[r].call(t,i)})}))}function oxt(t,e){Fr.pointerEventsSupported?ie(zee.pointer,n):Fr.touchEventsSupported||ie(zee.mouse,n);function n(r){function i(o){o=vG(o),G1e(t,o.target)||(o=nxt(t,o),e.domHandlers[r].call(t,o))}Vk(e,r,i,{capture:!0})}}function Vk(t,e,n,r){t.mounted[e]=n,t.listenerOpts[e]=r,QV(t.domTarget,e,n,r)}function t4(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&bSt(t.domTarget,n,e[n],t.listenerOpts[n]);t.mounted={}}var jee=(function(){function t(e,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=n}return t})(),axt=(function(t){Xi(e,t);function e(n,r){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=n,i.painterRoot=r,i._localHandlerScope=new jee(n,fc),J3&&(i._globalHandlerScope=new jee(document,c5)),ixt(i,i._localHandlerScope),i}return e.prototype.dispose=function(){t4(this._localHandlerScope),J3&&t4(this._globalHandlerScope)},e.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},e.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,J3&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var r=this._globalHandlerScope;n?oxt(this,r):t4(r)}},e})(ec),U1e=1;Fr.hasGlobalWindow&&(U1e=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var RP=U1e,f5=.4,d5="#333",h5="#ccc",sxt="#eee",Gee=bR,Uee=5e-5;function ag(t){return t>Uee||t<-Uee}var sg=[],c0=[],n4=Jl(),r4=Math.abs,zd=(function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return ag(this.rotation)||ag(this.x)||ag(this.y)||ag(this.scaleX-1)||ag(this.scaleY-1)||ag(this.skewX)||ag(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,n=this.needLocalTransform(),r=this.transform;if(!(n||e)){r&&(Gee(r),this.invTransform=null);return}r=r||Jl(),n?this.getLocalTransform(r):Gee(r),e&&(n?Xd(r,e,r):gG(r,e)),this.transform=r,this._resolveGlobalScaleRatio(r)},t.prototype._resolveGlobalScaleRatio=function(e){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(sg);var r=sg[0]<0?-1:1,i=sg[1]<0?-1:1,o=((sg[0]-r)*n+r)/sg[0]||0,a=((sg[1]-i)*n+i)/sg[1]||0;e[0]*=o,e[1]*=o,e[2]*=a,e[3]*=a}this.invTransform=this.invTransform||Jl(),A_(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,n=[];e;)n.push(e),e=e.parent;for(;e=n.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var n=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),o=Math.PI/2+i-Math.atan2(e[3],e[2]);r=Math.sqrt(r)*Math.cos(o),n=Math.sqrt(n),this.skewX=o,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=n,this.scaleY=r,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,n=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||Jl(),Xd(c0,e.invTransform,n),n=c0);var r=this.originX,i=this.originY;(r||i)&&(n4[4]=r,n4[5]=i,Xd(c0,n,n4),c0[4]-=r,c0[5]-=i,n=c0),this.setLocalTransform(n)}},t.prototype.getGlobalScale=function(e){var n=this.transform;return e=e||[],n?(e[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),e[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(e[0]=-e[0]),n[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,n){var r=[e,n],i=this.invTransform;return i&&as(r,r,i),r},t.prototype.transformCoordToGlobal=function(e,n){var r=[e,n],i=this.transform;return i&&as(r,r,i),r},t.prototype.getLineScale=function(){var e=this.transform;return e&&r4(e[0]-1)>1e-10&&r4(e[3]-1)>1e-10?Math.sqrt(r4(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){W1e(this,e)},t.getLocalTransform=function(e,n){n=n||[];var r=e.originX||0,i=e.originY||0,o=e.scaleX,a=e.scaleY,s=e.anchorX,l=e.anchorY,u=e.rotation||0,c=e.x,f=e.y,d=e.skewX?Math.tan(e.skewX):0,h=e.skewY?Math.tan(-e.skewY):0;if(r||i||s||l){var p=r+s,v=i+l;n[4]=-p*o-d*v*a,n[5]=-v*a-h*p*o}else n[4]=n[5]=0;return n[0]=o,n[3]=a,n[1]=h*o,n[2]=d*a,u&&Ey(n,n,u),n[4]+=r+c,n[5]+=i+f,n},t.initDefaultProps=(function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0})(),t})(),td=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function W1e(t,e){for(var n=0;n<td.length;n++){var r=td[n];t[r]=e[r]}}var Wee={};function eu(t,e){e=e||vv;var n=Wee[e];n||(n=Wee[e]=new F2(500));var r=n.get(t);return r==null&&(r=gv.measureText(t,e).width,n.put(t,r)),r}function qee(t,e,n,r){var i=eu(t,e),o=wR(e),a=hS(0,i,n),s=H0(0,o,r),l=new xr(a,s,i,o);return l}function V2(t,e,n,r){var i=((t||"")+"").split(`
`),o=i.length;if(o===1)return qee(i[0],e,n,r);for(var a=new xr(0,0,0,0),s=0;s<i.length;s++){var l=qee(i[s],e,n,r);s===0?a.copy(l):a.union(l)}return a}function hS(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function H0(t,e,n){return n==="middle"?t-=e/2:n==="bottom"&&(t-=e),t}function wR(t){return eu("",t)}function Nc(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function LP(t,e,n){var r=e.position||"inside",i=e.distance!=null?e.distance:5,o=n.height,a=n.width,s=o/2,l=n.x,u=n.y,c="left",f="top";if(r instanceof Array)l+=Nc(r[0],n.width),u+=Nc(r[1],n.height),c=null,f=null;else switch(r){case"left":l-=i,u+=s,c="right",f="middle";break;case"right":l+=i+a,u+=s,f="middle";break;case"top":l+=a/2,u-=i,c="center",f="bottom";break;case"bottom":l+=a/2,u+=o+i,c="center";break;case"inside":l+=a/2,u+=s,c="center",f="middle";break;case"insideLeft":l+=i,u+=s,f="middle";break;case"insideRight":l+=a-i,u+=s,c="right",f="middle";break;case"insideTop":l+=a/2,u+=i,c="center";break;case"insideBottom":l+=a/2,u+=o-i,c="center",f="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=a-i,u+=i,c="right";break;case"insideBottomLeft":l+=i,u+=o-i,f="bottom";break;case"insideBottomRight":l+=a-i,u+=o-i,c="right",f="bottom";break}return t=t||{},t.x=l,t.y=u,t.align=c,t.verticalAlign=f,t}var i4="__zr_normal__",o4=td.concat(["ignore"]),lxt=Qf(td,function(t,e){return t[e]=!0,t},{ignore:!1}),f0={},uxt=new xr(0,0,0,0),SR=(function(){function t(e){this.id=_1e(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,n,r){switch(this.draggable){case"horizontal":n=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=n,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var n=this._textContent;if(n&&(!n.ignore||e)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,o=n.innerTransformable,a=void 0,s=void 0,l=!1;o.parent=i?this:null;var u=!1;if(o.copyTransform(n),r.position!=null){var c=uxt;r.layoutRect?c.copy(r.layoutRect):c.copy(this.getBoundingRect()),i||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(f0,r,c):LP(f0,r,c),o.x=f0.x,o.y=f0.y,a=f0.align,s=f0.verticalAlign;var f=r.origin;if(f&&r.rotation!=null){var d=void 0,h=void 0;f==="center"?(d=c.width*.5,h=c.height*.5):(d=Nc(f[0],c.width),h=Nc(f[1],c.height)),u=!0,o.originX=-o.x+d+(i?0:c.x),o.originY=-o.y+h+(i?0:c.y)}}r.rotation!=null&&(o.rotation=r.rotation);var p=r.offset;p&&(o.x+=p[0],o.y+=p[1],u||(o.originX=-p[0],o.originY=-p[1]));var v=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,y=void 0,b=void 0;v&&this.canBeInsideText()?(m=r.insideFill,y=r.insideStroke,(m==null||m==="auto")&&(m=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(m),b=!0)):(m=r.outsideFill,y=r.outsideStroke,(m==null||m==="auto")&&(m=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(m),b=!0)),m=m||"#000",(m!==g.fill||y!==g.stroke||b!==g.autoStroke||a!==g.align||s!==g.verticalAlign)&&(l=!0,g.fill=m,g.stroke=y,g.autoStroke=b,g.align=a,g.verticalAlign=s,n.setDefaultTextStyle(g)),n.__dirty|=zl,l&&n.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?h5:d5},t.prototype.getOutsideStroke=function(e){var n=this.__zr&&this.__zr.getBackgroundColor(),r=typeof n=="string"&&Ql(n);r||(r=[255,255,255,1]);for(var i=r[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)r[a]=r[a]*i+(o?0:255)*(1-i);return r[3]=1,Zd(r,"rgba")},t.prototype.traverse=function(e,n){},t.prototype.attrKV=function(e,n){e==="textConfig"?this.setTextConfig(n):e==="textContent"?this.setTextContent(n):e==="clipPath"?this.setClipPath(n):e==="extra"?(this.extra=this.extra||{},yt(this.extra,n)):this[e]=n},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,n){if(typeof e=="string")this.attrKV(e,n);else if(Zn(e))for(var r=e,i=Ur(r),o=0;o<i.length;o++){var a=i[o];this.attrKV(a,e[a])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var n=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],o=i.__fromStateTransition;if(!(i.getLoop()||o&&o!==i4)){var a=i.targetName,s=a?n[a]:n;i.saveTo(s)}}},t.prototype._innerSaveToNormal=function(e){var n=this._normalState;n||(n=this._normalState={}),e.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(e,n,o4)},t.prototype._savePrimaryToNormal=function(e,n,r){for(var i=0;i<r.length;i++){var o=r[i];e[o]!=null&&!(o in n)&&(n[o]=this[o])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var n=this.states;return n[e]||(n[e]={}),n[e]},t.prototype.clearStates=function(e){this.useState(i4,!1,e)},t.prototype.useState=function(e,n,r,i){var o=e===i4,a=this.hasState();if(!(!a&&o)){var s=this.currentStates,l=this.stateTransition;if(!(Mr(s,e)>=0&&(n||s.length===1))){var u;if(this.stateProxy&&!o&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),!u&&!o){fG("State "+e+" not exists.");return}o||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,n,!r&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,d=this._textGuide;return f&&f.useState(e,n,r,c),d&&d.useState(e,n,r,c),o?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~zl),u}}},t.prototype.useStates=function(e,n,r){if(!e.length)this.clearStates();else{var i=[],o=this.currentStates,a=e.length,s=a===o.length;if(s){for(var l=0;l<a;l++)if(e[l]!==o[l]){s=!1;break}}if(s)return;for(var l=0;l<a;l++){var u=e[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,e)),c||(c=this.states[u]),c&&i.push(c)}var f=i[a-1],d=!!(f&&f.hoverLayer||r);d&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(e.join(","),h,this._normalState,!1,!n&&!this.__inHover&&p&&p.duration>0,p);var v=this._textContent,g=this._textGuide;v&&v.useStates(e,n,d),g&&g.useStates(e,n,d),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~zl)}},t.prototype.isSilent=function(){for(var e=this.silent,n=this.parent;!e&&n;){if(n.silent){e=!0;break}n=n.parent}return e},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var n=this.animators[e];n.targetName&&n.changeTarget(this[n.targetName])}},t.prototype.removeState=function(e){var n=Mr(this.currentStates,e);if(n>=0){var r=this.currentStates.slice();r.splice(n,1),this.useStates(r)}},t.prototype.replaceState=function(e,n,r){var i=this.currentStates.slice(),o=Mr(i,e),a=Mr(i,n)>=0;o>=0?a?i.splice(o,1):i[o]=n:r&&!a&&i.push(n),this.useStates(i)},t.prototype.toggleState=function(e,n){n?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var n={},r,i=0;i<e.length;i++){var o=e[i];yt(n,o),o.textConfig&&(r=r||{},yt(r,o.textConfig))}return r&&(n.textConfig=r),n},t.prototype._applyStateObj=function(e,n,r,i,o,a){var s=!(n&&i);n&&n.textConfig?(this.textConfig=yt({},i?this.textConfig:r.textConfig),yt(this.textConfig,n.textConfig)):s&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},u=!1,c=0;c<o4.length;c++){var f=o4[c],d=o&&lxt[f];n&&n[f]!=null?d?(u=!0,l[f]=n[f]):this[f]=n[f]:s&&r[f]!=null&&(d?(u=!0,l[f]=r[f]):this[f]=r[f])}if(!o)for(var c=0;c<this.animators.length;c++){var h=this.animators[c],p=h.targetName;h.getLoop()||h.__changeFinalValue(p?(n||r)[p]:n||r)}u&&this._transitionState(e,l,a)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var n=this.__zr;n&&e.addSelfToZr(n),e.__zr=n,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var n=this._textContent;n!==e&&(n&&n!==e&&this.removeTextContent(),e.innerTransformable=new zd,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),yt(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=zl;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var n=this._textContent,r=this._textGuide;n&&(n.__inHover=e),r&&(r.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var n=this.animators;if(n)for(var r=0;r<n.length;r++)e.animation.addAnimator(n[r]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var r=0;r<n.length;r++)e.animation.removeAnimator(n[r]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,n,r){var i=e?this[e]:this,o=new _G(i,n,r);return e&&(o.targetName=e),this.addAnimator(o,e),o},t.prototype.addAnimator=function(e,n){var r=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(n)}).done(function(){var o=i.animators,a=Mr(o,e);a>=0&&o.splice(a,1)}),this.animators.push(e),r&&r.animation.addAnimator(e),r&&r.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,n){for(var r=this.animators,i=r.length,o=[],a=0;a<i;a++){var s=r[a];!e||e===s.scope?s.stop(n):o.push(s)}return this.animators=o,this},t.prototype.animateTo=function(e,n,r){a4(this,e,n,r)},t.prototype.animateFrom=function(e,n,r){a4(this,e,n,r,!0)},t.prototype._transitionState=function(e,n,r,i){for(var o=a4(this,n,r,i),a=0;a<o.length;a++)o[a].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=(function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=zl;function n(r,i,o,a){Object.defineProperty(e,r,{get:function(){if(!this[i]){var l=this[i]=[];s(this,l)}return this[i]},set:function(l){this[o]=l[0],this[a]=l[1],this[i]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[o]},set:function(c){l[o]=c}}),Object.defineProperty(u,1,{get:function(){return l[a]},set:function(c){l[a]=c}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))})(),t})();ia(SR,ec);ia(SR,zd);function a4(t,e,n,r,i){n=n||{};var o=[];q1e(t,"",t,e,n,r,o,i);var a=o.length,s=!1,l=n.done,u=n.aborted,c=function(){s=!0,a--,a<=0&&(s?l&&l():u&&u())},f=function(){a--,a<=0&&(s?l&&l():u&&u())};a||l&&l(),o.length>0&&n.during&&o[0].during(function(p,v){n.during(v)});for(var d=0;d<o.length;d++){var h=o[d];c&&h.done(c),f&&h.aborted(f),n.force&&h.duration(n.duration),h.start(n.easing)}return o}function s4(t,e,n){for(var r=0;r<n;r++)t[r]=e[r]}function cxt(t){return Ls(t[0])}function fxt(t,e,n){if(Ls(e[n]))if(Ls(t[n])||(t[n]=[]),Ol(e[n])){var r=e[n].length;t[n].length!==r&&(t[n]=new e[n].constructor(r),s4(t[n],e[n],r))}else{var i=e[n],o=t[n],a=i.length;if(cxt(i))for(var s=i[0].length,l=0;l<a;l++)o[l]?s4(o[l],i[l],s):o[l]=Array.prototype.slice.call(i[l]);else s4(o,i,a);o.length=i.length}else t[n]=e[n]}function dxt(t,e){return t===e||Ls(t)&&Ls(e)&&hxt(t,e)}function hxt(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function q1e(t,e,n,r,i,o,a,s){for(var l=Ur(r),u=i.duration,c=i.delay,f=i.additive,d=i.setToFinal,h=!Zn(o),p=t.animators,v=[],g=0;g<l.length;g++){var m=l[g],y=r[m];if(y!=null&&n[m]!=null&&(h||o[m]))if(Zn(y)&&!Ls(y)&&!mR(y)){if(e){s||(n[m]=y,t.updateDuringAnimation(e));continue}q1e(t,m,n[m],y,i,o&&o[m],a,s)}else v.push(m);else s||(n[m]=y,t.updateDuringAnimation(e),v.push(m))}var b=v.length;if(!f&&b)for(var w=0;w<p.length;w++){var S=p[w];if(S.targetName===e){var x=S.stopTracks(v);if(x){var C=Mr(p,S);p.splice(C,1)}}}if(i.force||(v=yi(v,function(k){return!dxt(r[k],n[k])}),b=v.length),b>0||i.force&&!a.length){var E=void 0,T=void 0,A=void 0;if(s){T={},d&&(E={});for(var w=0;w<b;w++){var m=v[w];T[m]=n[m],d?E[m]=r[m]:n[m]=r[m]}}else if(d){A={};for(var w=0;w<b;w++){var m=v[w];A[m]=nx(n[m]),fxt(n,r,m)}}var S=new _G(n,!1,!1,f?yi(p,function(M){return M.targetName===e}):null);S.targetName=e,i.scope&&(S.scope=i.scope),d&&E&&S.whenWithKeys(0,E,v),A&&S.whenWithKeys(0,A,v),S.whenWithKeys(u??500,s?T:r,v).delay(c||0),t.addAnimator(S,e),a.push(S)}}var nr=(function(t){Xi(e,t);function e(n){var r=t.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(n),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(n){return this._children[n]},e.prototype.childOfName=function(n){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===n)return r[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},e.prototype.addBefore=function(n,r){if(n&&n!==this&&n.parent!==this&&r&&r.parent===this){var i=this._children,o=i.indexOf(r);o>=0&&(i.splice(o,0,n),this._doAdd(n))}return this},e.prototype.replace=function(n,r){var i=Mr(this._children,n);return i>=0&&this.replaceAt(r,i),this},e.prototype.replaceAt=function(n,r){var i=this._children,o=i[r];if(n&&n!==this&&n.parent!==this&&n!==o){i[r]=n,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(n)}return this},e.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var r=this.__zr;r&&r!==n.__zr&&n.addSelfToZr(r),r&&r.refresh()},e.prototype.remove=function(n){var r=this.__zr,i=this._children,o=Mr(i,n);return o<0?this:(i.splice(o,1),n.parent=null,r&&n.removeSelfFromZr(r),r&&r.refresh(),this)},e.prototype.removeAll=function(){for(var n=this._children,r=this.__zr,i=0;i<n.length;i++){var o=n[i];r&&o.removeSelfFromZr(r),o.parent=null}return n.length=0,this},e.prototype.eachChild=function(n,r){for(var i=this._children,o=0;o<i.length;o++){var a=i[o];n.call(r,a,o)}return this},e.prototype.traverse=function(n,r){for(var i=0;i<this._children.length;i++){var o=this._children[i],a=n.call(r,o);o.isGroup&&!a&&o.traverse(n,r)}return this},e.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(n)}},e.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(n)}},e.prototype.getBoundingRect=function(n){for(var r=new xr(0,0,0,0),i=n||this._children,o=[],a=null,s=0;s<i.length;s++){var l=i[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(o);c?(xr.applyTransform(r,u,c),a=a||r.clone(),a.union(r)):(a=a||u.clone(),a.union(u))}}return a||r},e})(SR);nr.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var zk={},K1e={};function pxt(t){delete K1e[t]}function vxt(t){if(!t)return!1;if(typeof t=="string")return OP(t,1)<f5;if(t.colorStops){for(var e=t.colorStops,n=0,r=e.length,i=0;i<r;i++)n+=OP(e[i].color,1);return n/=r,n<f5}return!1}var gxt=(function(){function t(e,n,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=n,this.id=e;var o=new OSt,a=r.renderer||"canvas";zk[a]||(a=Ur(zk)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var s=new zk[a](n,o,r,e),l=r.ssr||s.ssrOnly;this.storage=o,this.painter=s;var u=!Fr.node&&!Fr.worker&&!l?new axt(s.getViewportRoot(),s.root):null,c=r.useCoarsePointer,f=c==null||c==="auto"?Fr.touchEventsSupported:!!c,d=44,h;f&&(h=dr(r.pointerSize,d)),this.handler=new T1e(o,s,u,s.root,h),this.animation=new QSt({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return t.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,n){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,n),this.refresh())},t.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=vxt(e))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(e){var n,r=Z0();this._needsRefresh&&(n=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var i=Z0();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},t.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,n){if(!this._disposed)return this.handler.findHover(e,n)},t.prototype.on=function(e,n,r){return this._disposed||this.handler.on(e,n,r),this},t.prototype.off=function(e,n){this._disposed||this.handler.off(e,n)},t.prototype.trigger=function(e,n){this._disposed||this.handler.trigger(e,n)},t.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),n=0;n<e.length;n++)e[n]instanceof nr&&e[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,pxt(this.id))},t})();function Kee(t,e){var n=new gxt(_1e(),t,e);return K1e[n.id]=n,n}function mxt(t,e){zk[t]=e}var p5;function yxt(t){if(typeof p5=="function")return p5(t)}function bxt(t){p5=t}var Yee=1e-4,Y1e=20;function _xt(t){return t.replace(/^\s+|\s+$/g,"")}function gi(t,e,n,r){var i=e[0],o=e[1],a=n[0],s=n[1],l=o-i,u=s-a;if(l===0)return u===0?a:(a+s)/2;if(r)if(l>0){if(t<=i)return a;if(t>=o)return s}else{if(t>=i)return a;if(t<=o)return s}else{if(t===i)return a;if(t===o)return s}return(t-i)/l*u+a}function on(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return fn(t)?_xt(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):t==null?NaN:+t}function wo(t,e,n){return e==null&&(e=10),e=Math.min(Math.max(0,e),Y1e),t=(+t).toFixed(e),n?t:+t}function Ul(t){return t.sort(function(e,n){return e-n}),t}function vc(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,n=0;n<15;n++,e*=10)if(Math.round(t*e)/e===t)return n}return X1e(t)}function X1e(t){var e=t.toString().toLowerCase(),n=e.indexOf("e"),r=n>0?+e.slice(n+1):0,i=n>0?n:e.length,o=e.indexOf("."),a=o<0?0:i-1-o;return Math.max(0,a-r)}function wG(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),o=Math.round(n(Math.abs(e[1]-e[0]))/r),a=Math.min(Math.max(-i+o,0),20);return isFinite(a)?a:20}function wxt(t,e,n){if(!t[e])return 0;var r=Z1e(t,n);return r[e]||0}function Z1e(t,e){var n=Qf(t,function(h,p){return h+(isNaN(p)?0:p)},0);if(n===0)return[];for(var r=Math.pow(10,e),i=kt(t,function(h){return(isNaN(h)?0:h)/n*r*100}),o=r*100,a=kt(i,function(h){return Math.floor(h)}),s=Qf(a,function(h,p){return h+p},0),l=kt(i,function(h,p){return h-a[p]});s<o;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,d=l.length;f<d;++f)l[f]>u&&(u=l[f],c=f);++a[c],l[c]=0,++s}return kt(a,function(h){return h/r})}function Sxt(t,e){var n=Math.max(vc(t),vc(e)),r=t+e;return n>Y1e?r:wo(r,n)}var v5=9007199254740991;function SG(t){var e=Math.PI*2;return(t%e+e)%e}function O1(t){return t>-Yee&&t<Yee}var xxt=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Bc(t){if(t instanceof Date)return t;if(fn(t)){var e=xxt.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function J1e(t){return Math.pow(10,xR(t))}function xR(t){if(t===0)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function xG(t,e){var n=xR(t),r=Math.pow(10,n),i=t/r,o;return e?i<1.5?o=1:i<2.5?o=2:i<4?o=3:i<7?o=5:o=10:i<1?o=1:i<2?o=2:i<3?o=3:i<5?o=5:o=10,t=o*r,n>=-20?+t.toFixed(n<0?-n:0):t}function Hk(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i}function g5(t){t.sort(function(l,u){return s(l,u,0)?-1:1});for(var e=-1/0,n=1,r=0;r<t.length;){for(var i=t[r].interval,o=t[r].close,a=0;a<2;a++)i[a]<=e&&(i[a]=e,o[a]=a?1:1-n),e=i[a],n=o[a];i[0]===i[1]&&o[0]*o[1]!==1?t.splice(r,1):r++}return t;function s(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&s(l,u,1))}}function nd(t){var e=parseFloat(t);return e==t&&(e!==0||!fn(t)||t.indexOf("x")<=0)?e:NaN}function CG(t){return!isNaN(nd(t))}function Q1e(){return Math.round(Math.random()*9)}function e_e(t,e){return e===0?t:e_e(e,t%e)}function Xee(t,e){return t==null?e:e==null?t:t*e/e_e(t,e)}function mi(t){throw new Error(t)}function Zee(t,e,n){return(e-t)*n+t}var t_e="series\0",n_e="\0_ec_\0";function Mi(t){return t instanceof Array?t:t==null?[]:[t]}function Zm(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,i=n.length;r<i;r++){var o=n[r];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var Jee=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function k_(t){return Zn(t)&&!Tt(t)&&!(t instanceof Date)?t.value:t}function Cxt(t){return Zn(t)&&!(t instanceof Array)}function r_e(t,e,n){var r=n==="normalMerge",i=n==="replaceMerge",o=n==="replaceAll";t=t||[],e=(e||[]).slice();var a=Mn();ie(e,function(l,u){if(!Zn(l)){e[u]=null;return}});var s=Ext(t,a,n);return(r||i)&&Txt(s,t,a,e),r&&Axt(s,e),r||i?kxt(s,e,i):o&&Mxt(s,e),Pxt(s),s}function Ext(t,e,n){var r=[];if(n==="replaceAll")return r;for(var i=0;i<t.length;i++){var o=t[i];o&&o.id!=null&&e.set(o.id,i),r.push({existing:n==="replaceMerge"||yC(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return r}function Txt(t,e,n,r){ie(r,function(i,o){if(!(!i||i.id==null)){var a=rx(i.id),s=n.get(a);if(s!=null){var l=t[s];al(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=i,l.existing=e[s],r[o]=null}}})}function Axt(t,e){ie(e,function(n,r){if(!(!n||n.name==null))for(var i=0;i<t.length;i++){var o=t[i].existing;if(!t[i].newOption&&o&&(o.id==null||n.id==null)&&!yC(n)&&!yC(o)&&i_e("name",o,n)){t[i].newOption=n,e[r]=null;return}}})}function kxt(t,e,n){ie(e,function(r){if(r){for(var i,o=0;(i=t[o])&&(i.newOption||yC(i.existing)||i.existing&&r.id!=null&&!i_e("id",r,i.existing));)o++;i?(i.newOption=r,i.brandNew=n):t.push({newOption:r,brandNew:n,existing:null,keyInfo:null}),o++}})}function Mxt(t,e){ie(e,function(n){t.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function Pxt(t){var e=Mn();ie(t,function(n){var r=n.existing;r&&e.set(r.id,n)}),ie(t,function(n){var r=n.newOption;al(!r||r.id==null||!e.get(r.id)||e.get(r.id)===n,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&e.set(r.id,n),!n.keyInfo&&(n.keyInfo={})}),ie(t,function(n,r){var i=n.existing,o=n.newOption,a=n.keyInfo;if(Zn(o)){if(a.name=o.name!=null?rx(o.name):i?i.name:t_e+r,i)a.id=rx(i.id);else if(o.id!=null)a.id=rx(o.id);else{var s=0;do a.id="\0"+a.name+"\0"+s++;while(e.get(a.id))}e.set(a.id,n)}})}function i_e(t,e,n){var r=ca(e[t],null),i=ca(n[t],null);return r!=null&&i!=null&&r===i}function rx(t){return ca(t,"")}function ca(t,e){return t==null?e:fn(t)?t:ri(t)||UV(t)?t+"":e}function EG(t){var e=t.name;return!!(e&&e.indexOf(t_e))}function yC(t){return t&&t.id!=null&&rx(t.id).indexOf(n_e)===0}function Oxt(t){return n_e+t}function Ixt(t,e,n){ie(t,function(r){var i=r.newOption;Zn(i)&&(r.keyInfo.mainType=e,r.keyInfo.subType=Rxt(e,i,r.existing,n))})}function Rxt(t,e,n,r){var i=e.type?e.type:n?n.subType:r.determineSubType(t,e);return i}function Lxt(t,e){var n={},r={};return i(t||[],n),i(e||[],r,n),[o(n),o(r)];function i(a,s,l){for(var u=0,c=a.length;u<c;u++){var f=ca(a[u].seriesId,null);if(f==null)return;for(var d=Mi(a[u].dataIndex),h=l&&l[f],p=0,v=d.length;p<v;p++){var g=d[p];h&&h[g]?h[g]=null:(s[f]||(s[f]={}))[g]=1}}}function o(a,s){var l=[];for(var u in a)if(a.hasOwnProperty(u)&&a[u]!=null)if(s)l.push(+u);else{var c=o(a[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function Jm(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return Tt(e.dataIndex)?kt(e.dataIndex,function(n){return t.indexOfRawIndex(n)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return Tt(e.name)?kt(e.name,function(n){return t.indexOfName(n)}):t.indexOfName(e.name)}function Qr(){var t="__ec_inner_"+Dxt++;return function(e){return e[t]||(e[t]={})}}var Dxt=Q1e();function ix(t,e,n){var r=TG(e,n),i=r.mainTypeSpecified,o=r.queryOptionMap,a=r.others,s=a,l=n?n.defaultMainType:null;return!i&&l&&o.set(l,{}),o.each(function(u,c){var f=z2(t,c,u,{useDefault:l===c,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});s[c+"Models"]=f.models,s[c+"Model"]=f.models[0]}),s}function TG(t,e){var n;if(fn(t)){var r={};r[t+"Index"]=0,n=r}else n=t;var i=Mn(),o={},a=!1;return ie(n,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){o[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||e&&e.includeMainTypes&&Mr(e.includeMainTypes,c)<0)){a=a||!!c;var d=i.get(c)||i.set(c,{});d[f]=s}}),{mainTypeSpecified:a,queryOptionMap:i,others:o}}var Qo={useDefault:!0,enableAll:!1,enableNone:!1},Nxt={useDefault:!1,enableAll:!0,enableNone:!0};function z2(t,e,n,r){r=r||Qo;var i=n.index,o=n.id,a=n.name,s={models:null,specified:i!=null||o!=null||a!=null};if(!s.specified){var l=void 0;return s.models=r.useDefault&&(l=t.getComponent(e))?[l]:[],s}return i==="none"||i===!1?(al(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(i==="all"&&(al(r.enableAll,'`"all"` is not a valid value on index option.'),i=o=a=null),s.models=t.queryComponents({mainType:e,index:i,id:o,name:a}),s)}function Bxt(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function $xt(t){return t==="auto"?Fr.domSupported?"html":"richText":t||"html"}function m5(t,e){var n=Mn(),r=[];return ie(t,function(i){var o=e(i);(n.get(o)||(r.push(o),n.set(o,[]))).push(i)}),{keys:r,buckets:n}}function o_e(t,e,n,r,i){var o=e==null||e==="auto";if(r==null)return r;if(ri(r)){var a=Zee(n||0,r,i);return wo(a,o?Math.max(vc(n||0),vc(r)):e)}else{if(fn(r))return i<1?n:r;for(var s=[],l=n,u=r,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var d=t.getDimensionInfo(f);if(d&&d.type==="ordinal")s[f]=(i<1&&l?l:u)[f];else{var h=l&&l[f]?l[f]:0,p=u[f],a=Zee(h,p,i);s[f]=wo(a,o?Math.max(vc(h),vc(p)):e)}}return s}}var Fxt=".",lg="___EC__COMPONENT__CONTAINER___",a_e="___EC__EXTENDED_CLASS___";function Rf(t){var e={main:"",sub:""};if(t){var n=t.split(Fxt);e.main=n[0]||"",e.sub=n[1]||""}return e}function Vxt(t){al(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function zxt(t){return!!(t&&t[a_e])}function AG(t,e){t.$constructor=t,t.extend=function(n){var r=this,i;return Hxt(r)?i=(function(o){nt(a,o);function a(){return o.apply(this,arguments)||this}return a})(r):(i=function(){(n.$constructor||r).apply(this,arguments)},Jwt(i,this)),yt(i.prototype,n),i[a_e]=!0,i.extend=this.extend,i.superCall=Uxt,i.superApply=Wxt,i.superClass=r,i}}function Hxt(t){return qn(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function s_e(t,e){t.extend=e.extend}var jxt=Math.round(Math.random()*10);function Gxt(t){var e=["__\0is_clz",jxt++].join("_");t.prototype[e]=!0,t.isInstance=function(n){return!!(n&&n[e])}}function Uxt(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[e].apply(t,n)}function Wxt(t,e,n){return this.superClass.prototype[e].apply(t,n)}function CR(t){var e={};t.registerClass=function(r){var i=r.type||r.prototype.type;if(i){Vxt(i),r.prototype.type=i;var o=Rf(i);if(!o.sub)e[o.main]=r;else if(o.sub!==lg){var a=n(o);a[o.sub]=r}}return r},t.getClass=function(r,i,o){var a=e[r];if(a&&a[lg]&&(a=i?a[i]:null),o&&!a)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return a},t.getClassesByMainType=function(r){var i=Rf(r),o=[],a=e[i.main];return a&&a[lg]?ie(a,function(s,l){l!==lg&&o.push(s)}):o.push(a),o},t.hasClass=function(r){var i=Rf(r);return!!e[i.main]},t.getAllClassMainTypes=function(){var r=[];return ie(e,function(i,o){r.push(o)}),r},t.hasSubTypes=function(r){var i=Rf(r),o=e[i.main];return o&&o[lg]};function n(r){var i=e[r.main];return(!i||!i[lg])&&(i=e[r.main]={},i[lg]=!0),i}}function Qm(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(r,i,o){for(var a={},s=0;s<t.length;s++){var l=t[s][1];if(!(i&&Mr(i,l)>=0||o&&Mr(o,l)<0)){var u=r.getShallow(l,e);u!=null&&(a[t[s][0]]=u)}}return a}}var qxt=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Kxt=Qm(qxt),Yxt=(function(){function t(){}return t.prototype.getAreaStyle=function(e,n){return Kxt(this,e,n)},t})(),y5=new F2(50);function Xxt(t){if(typeof t=="string"){var e=y5.get(t);return e&&e.image}else return t}function kG(t,e,n,r,i){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!n)return e;var o=y5.get(t),a={hostEl:n,cb:r,cbPayload:i};return o?(e=o.image,!ER(e)&&o.pending.push(a)):(e=gv.loadImage(t,Qee,Qee),e.__zrImageSrc=t,y5.put(t,e.__cachedImgObj={image:e,pending:[a]})),e}else return t;else return e}function Qee(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function ER(t){return t&&t.width&&t.height}var l4=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Zxt(t,e,n,r,i,o){if(!n){t.text="",t.isTruncated=!1;return}var a=(e+"").split(`
`);o=l_e(n,r,i,o);for(var s=!1,l={},u=0,c=a.length;u<c;u++)u_e(l,a[u],o),a[u]=l.textLine,s=s||l.isTruncated;t.text=a.join(`
`),t.isTruncated=s}function l_e(t,e,n,r){r=r||{};var i=yt({},r);i.font=e,n=dr(n,"..."),i.maxIterations=dr(r.maxIterations,2);var o=i.minChar=dr(r.minChar,0);i.cnCharWidth=eu("",e);var a=i.ascCharWidth=eu("a",e);i.placeholder=dr(r.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<o&&s>=a;l++)s-=a;var u=eu(n,e);return u>s&&(n="",u=0),s=t-u,i.ellipsis=n,i.ellipsisWidth=u,i.contentWidth=s,i.containerWidth=t,i}function u_e(t,e,n){var r=n.containerWidth,i=n.font,o=n.contentWidth;if(!r){t.textLine="",t.isTruncated=!1;return}var a=eu(e,i);if(a<=r){t.textLine=e,t.isTruncated=!1;return}for(var s=0;;s++){if(a<=o||s>=n.maxIterations){e+=n.ellipsis;break}var l=s===0?Jxt(e,o,n.ascCharWidth,n.cnCharWidth):a>0?Math.floor(e.length*o/a):0;e=e.substr(0,l),a=eu(e,i)}e===""&&(e=n.placeholder),t.textLine=e,t.isTruncated=!0}function Jxt(t,e,n,r){for(var i=0,o=0,a=t.length;o<a&&i<e;o++){var s=t.charCodeAt(o);i+=0<=s&&s<=127?n:r}return o}function Qxt(t,e){t!=null&&(t+="");var n=e.overflow,r=e.padding,i=e.font,o=n==="truncate",a=wR(i),s=dr(e.lineHeight,a),l=!!e.backgroundColor,u=e.lineOverflow==="truncate",c=!1,f=e.width,d;f!=null&&(n==="break"||n==="breakAll")?d=t?c_e(t,e.font,f,n==="breakAll",0).lines:[]:d=t?t.split(`
`):[];var h=d.length*s,p=dr(e.height,h);if(h>p&&u){var v=Math.floor(p/s);c=c||d.length>v,d=d.slice(0,v)}if(t&&o&&f!=null)for(var g=l_e(f,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),m={},y=0;y<d.length;y++)u_e(m,d[y],g),d[y]=m.textLine,c=c||m.isTruncated;for(var b=p,w=0,y=0;y<d.length;y++)w=Math.max(eu(d[y],i),w);f==null&&(f=w);var S=w;return r&&(b+=r[0]+r[2],S+=r[1]+r[3],f+=r[1]+r[3]),l&&(S=f),{lines:d,height:p,outerWidth:S,outerHeight:b,lineHeight:s,calculatedLineHeight:a,contentWidth:w,contentHeight:h,width:f,isTruncated:c}}var eCt=(function(){function t(){}return t})(),ete=(function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t})(),tCt=(function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return t})();function nCt(t,e){var n=new tCt;if(t!=null&&(t+=""),!t)return n;for(var r=e.width,i=e.height,o=e.overflow,a=(o==="break"||o==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:o==="breakAll"}:null,s=l4.lastIndex=0,l;(l=l4.exec(t))!=null;){var u=l.index;u>s&&u4(n,t.substring(s,u),e,a),u4(n,l[2],e,a,l[1]),s=l4.lastIndex}s<t.length&&u4(n,t.substring(s,t.length),e,a);var c=[],f=0,d=0,h=e.padding,p=o==="truncate",v=e.lineOverflow==="truncate",g={};function m(j,G,W){j.width=G,j.lineHeight=W,f+=W,d=Math.max(d,G)}e:for(var y=0;y<n.lines.length;y++){for(var b=n.lines[y],w=0,S=0,x=0;x<b.tokens.length;x++){var C=b.tokens[x],E=C.styleName&&e.rich[C.styleName]||{},T=C.textPadding=E.padding,A=T?T[1]+T[3]:0,k=C.font=E.font||e.font;C.contentHeight=wR(k);var M=dr(E.height,C.contentHeight);if(C.innerHeight=M,T&&(M+=T[0]+T[2]),C.height=M,C.lineHeight=jf(E.lineHeight,e.lineHeight,M),C.align=E&&E.align||e.align,C.verticalAlign=E&&E.verticalAlign||"middle",v&&i!=null&&f+C.lineHeight>i){var D=n.lines.length;x>0?(b.tokens=b.tokens.slice(0,x),m(b,S,w),n.lines=n.lines.slice(0,y+1)):n.lines=n.lines.slice(0,y),n.isTruncated=n.isTruncated||n.lines.length<D;break e}var L=E.width,I=L==null||L==="auto";if(typeof L=="string"&&L.charAt(L.length-1)==="%")C.percentWidth=L,c.push(C),C.contentWidth=eu(C.text,k);else{if(I){var R=E.backgroundColor,V=R&&R.image;V&&(V=Xxt(V),ER(V)&&(C.width=Math.max(C.width,V.width*M/V.height)))}var P=p&&r!=null?r-S:null;P!=null&&P<C.width?!I||P<A?(C.text="",C.width=C.contentWidth=0):(Zxt(g,C.text,P-A,k,e.ellipsis,{minChar:e.truncateMinChar}),C.text=g.text,n.isTruncated=n.isTruncated||g.isTruncated,C.width=C.contentWidth=eu(C.text,k)):C.contentWidth=eu(C.text,k)}C.width+=A,S+=C.width,E&&(w=Math.max(w,C.lineHeight))}m(b,S,w)}n.outerWidth=n.width=dr(r,d),n.outerHeight=n.height=dr(i,f),n.contentHeight=f,n.contentWidth=d,h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(var y=0;y<c.length;y++){var C=c[y],B=C.percentWidth;C.width=parseInt(B,10)/100*n.width}return n}function u4(t,e,n,r,i){var o=e==="",a=i&&n.rich[i]||{},s=t.lines,l=a.font||n.font,u=!1,c,f;if(r){var d=a.padding,h=d?d[1]+d[3]:0;if(a.width!=null&&a.width!=="auto"){var p=Nc(a.width,r.width)+h;s.length>0&&p+r.accumWidth>r.width&&(c=e.split(`
`),u=!0),r.accumWidth=p}else{var v=c_e(e,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=v.accumWidth+h,f=v.linesWidths,c=v.lines}}else c=e.split(`
`);for(var g=0;g<c.length;g++){var m=c[g],y=new eCt;if(y.styleName=i,y.text=m,y.isLineHolder=!m&&!o,typeof a.width=="number"?y.width=a.width:y.width=f?f[g]:eu(m,l),!g&&!u){var b=(s[s.length-1]||(s[0]=new ete)).tokens,w=b.length;w===1&&b[0].isLineHolder?b[0]=y:(m||!w||o)&&b.push(y)}else s.push(new ete([y]))}}function rCt(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var iCt=Qf(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function oCt(t){return rCt(t)?!!iCt[t]:!0}function c_e(t,e,n,r,i){for(var o=[],a=[],s="",l="",u=0,c=0,f=0;f<t.length;f++){var d=t.charAt(f);if(d===`
`){l&&(s+=l,c+=u),o.push(s),a.push(c),s="",l="",u=0,c=0;continue}var h=eu(d,e),p=r?!1:!oCt(d);if(o.length?c+h>n:i+c+h>n){c?(s||l)&&(p?(s||(s=l,l="",u=0,c=u),o.push(s),a.push(c-u),l+=d,u+=h,s="",c=u):(l&&(s+=l,l="",u=0),o.push(s),a.push(c),s=d,c=h)):p?(o.push(l),a.push(u),l=d,u=h):(o.push(d),a.push(h));continue}c+=h,p?(l+=d,u+=h):(l&&(s+=l,l="",u=0),s+=d)}return!o.length&&!s&&(s=t,l="",u=0),l&&(s+=l),s&&(o.push(s),a.push(c)),o.length===1&&(c+=i),{accumWidth:c,lines:o,linesWidths:a}}var b5="__zr_style_"+Math.round(Math.random()*10),xm={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},TR={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};xm[b5]=!0;var tte=["z","z2","invisible"],aCt=["invisible"],Zu=(function(t){Xi(e,t);function e(n){return t.call(this,n)||this}return e.prototype._init=function(n){for(var r=Ur(n),i=0;i<r.length;i++){var o=r[i];o==="style"?this.useStyle(n[o]):t.prototype.attrKV.call(this,o,n[o])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(n,r,i,o){var a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&sCt(this,n,r)||a&&!a[0]&&!a[3])return!1;if(i&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(o&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(n,r){return this.rectContain(n,r)},e.prototype.traverse=function(n,r){n.call(r,this)},e.prototype.rectContain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect();return o.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),o=this.style,a=o.shadowBlur||0,s=o.shadowOffsetX||0,l=o.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new xr(0,0,0,0)),r?xr.applyTransform(n,i,r):n.copy(i),(a||s||l)&&(n.width+=a*2+Math.abs(s),n.height+=a*2+Math.abs(l),n.x=Math.min(n.x,n.x+s-a),n.y=Math.min(n.y,n.y+l-a));var u=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-u),n.y=Math.floor(n.y-u),n.width=Math.ceil(n.width+1+u*2),n.height=Math.ceil(n.height+1+u*2))}return n},e.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new xr(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(n){return this.animate("style",n)},e.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(n,r){n!=="style"?t.prototype.attrKV.call(this,n,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(n,r){return typeof n=="string"?this.style[n]=r:yt(this.style,n),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=fS,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&fS)},e.prototype.styleUpdated=function(){this.__dirty&=~fS},e.prototype.createStyle=function(n){return yR(xm,n)},e.prototype.useStyle=function(n){n[b5]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},e.prototype.isStyleObject=function(n){return n[b5]},e.prototype._innerSaveToNormal=function(n){t.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,r,tte)},e.prototype._applyStateObj=function(n,r,i,o,a,s){t.prototype._applyStateObj.call(this,n,r,i,o,a,s);var l=!(r&&o),u;if(r&&r.style?a?o?u=r.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),o?this.style:i.style),this._mergeStyle(u,r.style)):l&&(u=i.style),u)if(a){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=Ur(c),d=0;d<f.length;d++){var h=f[d];h in u&&(u[h]=u[h],this.style[h]=c[h])}for(var p=Ur(u),d=0;d<p.length;d++){var h=p[d];this.style[h]=this.style[h]}this._transitionState(n,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var v=this.__inHover?aCt:tte,d=0;d<v.length;d++){var h=v[d];r&&r[h]!=null?this[h]=r[h]:l&&i[h]!=null&&(this[h]=i[h])}},e.prototype._mergeStates=function(n){for(var r=t.prototype._mergeStates.call(this,n),i,o=0;o<n.length;o++){var a=n[o];a.style&&(i=i||{},this._mergeStyle(i,a.style))}return i&&(r.style=i),r},e.prototype._mergeStyle=function(n,r){return yt(n,r),n},e.prototype.getAnimationStyleProps=function(){return TR},e.initDefaultProps=(function(){var n=e.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=zl|fS})(),e})(SR),c4=new xr(0,0,0,0),f4=new xr(0,0,0,0);function sCt(t,e,n){return c4.copy(t.getBoundingRect()),t.transform&&c4.applyTransform(t.transform),f4.width=e,f4.height=n,!c4.intersect(f4)}var yl=Math.min,bl=Math.max,d4=Math.sin,h4=Math.cos,ug=Math.PI*2,NT=Cy(),BT=Cy(),$T=Cy();function AR(t,e,n){if(t.length!==0){for(var r=t[0],i=r[0],o=r[0],a=r[1],s=r[1],l=1;l<t.length;l++)r=t[l],i=yl(i,r[0]),o=bl(o,r[0]),a=yl(a,r[1]),s=bl(s,r[1]);e[0]=i,e[1]=a,n[0]=o,n[1]=s}}function nte(t,e,n,r,i,o){i[0]=yl(t,n),i[1]=yl(e,r),o[0]=bl(t,n),o[1]=bl(e,r)}var rte=[],ite=[];function lCt(t,e,n,r,i,o,a,s,l,u){var c=O1e,f=ba,d=c(t,n,i,a,rte);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var h=0;h<d;h++){var p=f(t,n,i,a,rte[h]);l[0]=yl(p,l[0]),u[0]=bl(p,u[0])}d=c(e,r,o,s,ite);for(var h=0;h<d;h++){var v=f(e,r,o,s,ite[h]);l[1]=yl(v,l[1]),u[1]=bl(v,u[1])}l[0]=yl(t,l[0]),u[0]=bl(t,u[0]),l[0]=yl(a,l[0]),u[0]=bl(a,u[0]),l[1]=yl(e,l[1]),u[1]=bl(e,u[1]),l[1]=yl(s,l[1]),u[1]=bl(s,u[1])}function uCt(t,e,n,r,i,o,a,s){var l=R1e,u=Na,c=bl(yl(l(t,n,i),1),0),f=bl(yl(l(e,r,o),1),0),d=u(t,n,i,c),h=u(e,r,o,f);a[0]=yl(t,i,d),a[1]=yl(e,o,h),s[0]=bl(t,i,d),s[1]=bl(e,o,h)}function cCt(t,e,n,r,i,o,a,s,l){var u=Pp,c=Op,f=Math.abs(i-o);if(f%ug<1e-4&&f>1e-4){s[0]=t-n,s[1]=e-r,l[0]=t+n,l[1]=e+r;return}if(NT[0]=h4(i)*n+t,NT[1]=d4(i)*r+e,BT[0]=h4(o)*n+t,BT[1]=d4(o)*r+e,u(s,NT,BT),c(l,NT,BT),i=i%ug,i<0&&(i=i+ug),o=o%ug,o<0&&(o=o+ug),i>o&&!a?o+=ug:i<o&&a&&(i+=ug),a){var d=o;o=i,i=d}for(var h=0;h<o;h+=Math.PI/2)h>i&&($T[0]=h4(h)*n+t,$T[1]=d4(h)*r+e,u(s,$T,s),c(l,$T,l))}var Ii={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},cg=[],fg=[],uf=[],Xh=[],cf=[],ff=[],p4=Math.min,v4=Math.max,dg=Math.cos,hg=Math.sin,xd=Math.abs,_5=Math.PI,up=_5*2,g4=typeof Float32Array<"u",Ew=[];function m4(t){var e=Math.round(t/_5*1e8)/1e8;return e%2*_5}function MG(t,e){var n=m4(t[0]);n<0&&(n+=up);var r=n-t[0],i=t[1];i+=r,!e&&i-n>=up?i=n+up:e&&n-i>=up?i=n-up:!e&&n>i?i=n+(up-m4(n-i)):e&&n<i&&(i=n-(up-m4(i-n))),t[0]=n,t[1]=i}var rd=(function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,n,r){r=r||0,r>0&&(this._ux=xd(r/RP/e)||0,this._uy=xd(r/RP/n)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,n){return this._drawPendingPt(),this.addData(Ii.M,e,n),this._ctx&&this._ctx.moveTo(e,n),this._x0=e,this._y0=n,this._xi=e,this._yi=n,this},t.prototype.lineTo=function(e,n){var r=xd(e-this._xi),i=xd(n-this._yi),o=r>this._ux||i>this._uy;if(this.addData(Ii.L,e,n),this._ctx&&o&&this._ctx.lineTo(e,n),o)this._xi=e,this._yi=n,this._pendingPtDist=0;else{var a=r*r+i*i;a>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=n,this._pendingPtDist=a)}return this},t.prototype.bezierCurveTo=function(e,n,r,i,o,a){return this._drawPendingPt(),this.addData(Ii.C,e,n,r,i,o,a),this._ctx&&this._ctx.bezierCurveTo(e,n,r,i,o,a),this._xi=o,this._yi=a,this},t.prototype.quadraticCurveTo=function(e,n,r,i){return this._drawPendingPt(),this.addData(Ii.Q,e,n,r,i),this._ctx&&this._ctx.quadraticCurveTo(e,n,r,i),this._xi=r,this._yi=i,this},t.prototype.arc=function(e,n,r,i,o,a){this._drawPendingPt(),Ew[0]=i,Ew[1]=o,MG(Ew,a),i=Ew[0],o=Ew[1];var s=o-i;return this.addData(Ii.A,e,n,r,r,i,s,0,a?0:1),this._ctx&&this._ctx.arc(e,n,r,i,o,a),this._xi=dg(o)*r+e,this._yi=hg(o)*r+n,this},t.prototype.arcTo=function(e,n,r,i,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,n,r,i,o),this},t.prototype.rect=function(e,n,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,n,r,i),this.addData(Ii.R,e,n,r,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(Ii.Z);var e=this._ctx,n=this._x0,r=this._y0;return e&&e.closePath(),this._xi=n,this._yi=r,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var n=e.length;!(this.data&&this.data.length===n)&&g4&&(this.data=new Float32Array(n));for(var r=0;r<n;r++)this.data[r]=e[r];this._len=n},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var n=e.length,r=0,i=this._len,o=0;o<n;o++)r+=e[o].len();g4&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r));for(var o=0;o<n;o++)for(var a=e[o].data,s=0;s<a.length;s++)this.data[i++]=a[s];this._len=i},t.prototype.addData=function(e,n,r,i,o,a,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],n=0;n<this._len;n++)e[n]=this.data[n];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,g4&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){uf[0]=uf[1]=cf[0]=cf[1]=Number.MAX_VALUE,Xh[0]=Xh[1]=ff[0]=ff[1]=-Number.MAX_VALUE;var e=this.data,n=0,r=0,i=0,o=0,a;for(a=0;a<this._len;){var s=e[a++],l=a===1;switch(l&&(n=e[a],r=e[a+1],i=n,o=r),s){case Ii.M:n=i=e[a++],r=o=e[a++],cf[0]=i,cf[1]=o,ff[0]=i,ff[1]=o;break;case Ii.L:nte(n,r,e[a],e[a+1],cf,ff),n=e[a++],r=e[a++];break;case Ii.C:lCt(n,r,e[a++],e[a++],e[a++],e[a++],e[a],e[a+1],cf,ff),n=e[a++],r=e[a++];break;case Ii.Q:uCt(n,r,e[a++],e[a++],e[a],e[a+1],cf,ff),n=e[a++],r=e[a++];break;case Ii.A:var u=e[a++],c=e[a++],f=e[a++],d=e[a++],h=e[a++],p=e[a++]+h;a+=1;var v=!e[a++];l&&(i=dg(h)*f+u,o=hg(h)*d+c),cCt(u,c,f,d,h,p,v,cf,ff),n=dg(p)*f+u,r=hg(p)*d+c;break;case Ii.R:i=n=e[a++],o=r=e[a++];var g=e[a++],m=e[a++];nte(i,o,i+g,o+m,cf,ff);break;case Ii.Z:n=i,r=o;break}Pp(uf,uf,cf),Op(Xh,Xh,ff)}return a===0&&(uf[0]=uf[1]=Xh[0]=Xh[1]=0),new xr(uf[0],uf[1],Xh[0]-uf[0],Xh[1]-uf[1])},t.prototype._calculateLength=function(){var e=this.data,n=this._len,r=this._ux,i=this._uy,o=0,a=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,d=0;d<n;){var h=e[d++],p=d===1;p&&(o=e[d],a=e[d+1],s=o,l=a);var v=-1;switch(h){case Ii.M:o=s=e[d++],a=l=e[d++];break;case Ii.L:{var g=e[d++],m=e[d++],y=g-o,b=m-a;(xd(y)>r||xd(b)>i||d===n-1)&&(v=Math.sqrt(y*y+b*b),o=g,a=m);break}case Ii.C:{var w=e[d++],S=e[d++],g=e[d++],m=e[d++],x=e[d++],C=e[d++];v=ISt(o,a,w,S,g,m,x,C,10),o=x,a=C;break}case Ii.Q:{var w=e[d++],S=e[d++],g=e[d++],m=e[d++];v=LSt(o,a,w,S,g,m,10),o=g,a=m;break}case Ii.A:var E=e[d++],T=e[d++],A=e[d++],k=e[d++],M=e[d++],D=e[d++],L=D+M;d+=1,p&&(s=dg(M)*A+E,l=hg(M)*k+T),v=v4(A,k)*p4(up,Math.abs(D)),o=dg(L)*A+E,a=hg(L)*k+T;break;case Ii.R:{s=o=e[d++],l=a=e[d++];var I=e[d++],R=e[d++];v=I*2+R*2;break}case Ii.Z:{var y=s-o,b=l-a;v=Math.sqrt(y*y+b*b),o=s,a=l;break}}v>=0&&(u[f++]=v,c+=v)}return this._pathLen=c,c},t.prototype.rebuildPath=function(e,n){var r=this.data,i=this._ux,o=this._uy,a=this._len,s,l,u,c,f,d,h=n<1,p,v,g=0,m=0,y,b=0,w,S;if(!(h&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,v=this._pathLen,y=n*v,!y)))e:for(var x=0;x<a;){var C=r[x++],E=x===1;switch(E&&(u=r[x],c=r[x+1],s=u,l=c),C!==Ii.L&&b>0&&(e.lineTo(w,S),b=0),C){case Ii.M:s=u=r[x++],l=c=r[x++],e.moveTo(u,c);break;case Ii.L:{f=r[x++],d=r[x++];var T=xd(f-u),A=xd(d-c);if(T>i||A>o){if(h){var k=p[m++];if(g+k>y){var M=(y-g)/k;e.lineTo(u*(1-M)+f*M,c*(1-M)+d*M);break e}g+=k}e.lineTo(f,d),u=f,c=d,b=0}else{var D=T*T+A*A;D>b&&(w=f,S=d,b=D)}break}case Ii.C:{var L=r[x++],I=r[x++],R=r[x++],V=r[x++],P=r[x++],B=r[x++];if(h){var k=p[m++];if(g+k>y){var M=(y-g)/k;mv(u,L,R,P,M,cg),mv(c,I,V,B,M,fg),e.bezierCurveTo(cg[1],fg[1],cg[2],fg[2],cg[3],fg[3]);break e}g+=k}e.bezierCurveTo(L,I,R,V,P,B),u=P,c=B;break}case Ii.Q:{var L=r[x++],I=r[x++],R=r[x++],V=r[x++];if(h){var k=p[m++];if(g+k>y){var M=(y-g)/k;vC(u,L,R,M,cg),vC(c,I,V,M,fg),e.quadraticCurveTo(cg[1],fg[1],cg[2],fg[2]);break e}g+=k}e.quadraticCurveTo(L,I,R,V),u=R,c=V;break}case Ii.A:var j=r[x++],G=r[x++],W=r[x++],Z=r[x++],ee=r[x++],oe=r[x++],ce=r[x++],X=!r[x++],H=W>Z?W:Z,U=xd(W-Z)>.001,ne=ee+oe,J=!1;if(h){var k=p[m++];g+k>y&&(ne=ee+oe*(y-g)/k,J=!0),g+=k}if(U&&e.ellipse?e.ellipse(j,G,W,Z,ce,ee,ne,X):e.arc(j,G,H,ee,ne,X),J)break e;E&&(s=dg(ee)*W+j,l=hg(ee)*Z+G),u=dg(ne)*W+j,c=hg(ne)*Z+G;break;case Ii.R:s=u=r[x],l=c=r[x+1],f=r[x++],d=r[x++];var Y=r[x++],se=r[x++];if(h){var k=p[m++];if(g+k>y){var he=y-g;e.moveTo(f,d),e.lineTo(f+p4(he,Y),d),he-=Y,he>0&&e.lineTo(f+Y,d+p4(he,se)),he-=se,he>0&&e.lineTo(f+v4(Y-he,0),d+se),he-=Y,he>0&&e.lineTo(f,d+v4(se-he,0));break e}g+=k}e.rect(f,d,Y,se);break;case Ii.Z:if(h){var k=p[m++];if(g+k>y){var M=(y-g)/k;e.lineTo(u*(1-M)+s*M,c*(1-M)+l*M);break e}g+=k}e.closePath(),u=s,c=l}}},t.prototype.clone=function(){var e=new t,n=this.data;return e.data=n.slice?n.slice():Array.prototype.slice.call(n),e._len=this._len,e},t.CMD=Ii,t.initDefaultProps=(function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0})(),t})();function vp(t,e,n,r,i,o,a){if(i===0)return!1;var s=i,l=0,u=t;if(a>e+s&&a>r+s||a<e-s&&a<r-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t!==n)l=(e-r)/(t-n),u=(t*r-n*e)/(t-n);else return Math.abs(o-t)<=s/2;var c=l*o-a+u,f=c*c/(l*l+1);return f<=s/2*s/2}function fCt(t,e,n,r,i,o,a,s,l,u,c){if(l===0)return!1;var f=l;if(c>e+f&&c>r+f&&c>o+f&&c>s+f||c<e-f&&c<r-f&&c<o-f&&c<s-f||u>t+f&&u>n+f&&u>i+f&&u>a+f||u<t-f&&u<n-f&&u<i-f&&u<a-f)return!1;var d=I1e(t,e,n,r,i,o,a,s,u,c,null);return d<=f/2}function f_e(t,e,n,r,i,o,a,s,l){if(a===0)return!1;var u=a;if(l>e+u&&l>r+u&&l>o+u||l<e-u&&l<r-u&&l<o-u||s>t+u&&s>n+u&&s>i+u||s<t-u&&s<n-u&&s<i-u)return!1;var c=L1e(t,e,n,r,i,o,s,l,null);return c<=u/2}var ote=Math.PI*2;function Wl(t){return t%=ote,t<0&&(t+=ote),t}var Tw=Math.PI*2;function dCt(t,e,n,r,i,o,a,s,l){if(a===0)return!1;var u=a;s-=t,l-=e;var c=Math.sqrt(s*s+l*l);if(c-u>n||c+u<n)return!1;if(Math.abs(r-i)%Tw<1e-4)return!0;if(o){var f=r;r=Wl(i),i=Wl(f)}else r=Wl(r),i=Wl(i);r>i&&(i+=Tw);var d=Math.atan2(l,s);return d<0&&(d+=Tw),d>=r&&d<=i||d+Tw>=r&&d+Tw<=i}function kd(t,e,n,r,i,o){if(o>e&&o>r||o<e&&o<r||r===e)return 0;var a=(o-e)/(r-e),s=r<e?1:-1;(a===1||a===0)&&(s=r<e?.5:-.5);var l=a*(n-t)+t;return l===i?1/0:l>i?s:0}var Zh=rd.CMD,pg=Math.PI*2,hCt=1e-4;function pCt(t,e){return Math.abs(t-e)<hCt}var Us=[-1,-1,-1],bu=[-1,-1];function vCt(){var t=bu[0];bu[0]=bu[1],bu[1]=t}function gCt(t,e,n,r,i,o,a,s,l,u){if(u>e&&u>r&&u>o&&u>s||u<e&&u<r&&u<o&&u<s)return 0;var c=MP(e,r,o,s,u,Us);if(c===0)return 0;for(var f=0,d=-1,h=void 0,p=void 0,v=0;v<c;v++){var g=Us[v],m=g===0||g===1?.5:1,y=ba(t,n,i,a,g);y<l||(d<0&&(d=O1e(e,r,o,s,bu),bu[1]<bu[0]&&d>1&&vCt(),h=ba(e,r,o,s,bu[0]),d>1&&(p=ba(e,r,o,s,bu[1]))),d===2?g<bu[0]?f+=h<e?m:-m:g<bu[1]?f+=p<h?m:-m:f+=s<p?m:-m:g<bu[0]?f+=h<e?m:-m:f+=s<h?m:-m)}return f}function mCt(t,e,n,r,i,o,a,s){if(s>e&&s>r&&s>o||s<e&&s<r&&s<o)return 0;var l=RSt(e,r,o,s,Us);if(l===0)return 0;var u=R1e(e,r,o);if(u>=0&&u<=1){for(var c=0,f=Na(e,r,o,u),d=0;d<l;d++){var h=Us[d]===0||Us[d]===1?.5:1,p=Na(t,n,i,Us[d]);p<a||(Us[d]<u?c+=f<e?h:-h:c+=o<f?h:-h)}return c}else{var h=Us[0]===0||Us[0]===1?.5:1,p=Na(t,n,i,Us[0]);return p<a?0:o<e?h:-h}}function yCt(t,e,n,r,i,o,a,s){if(s-=e,s>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);Us[0]=-l,Us[1]=l;var u=Math.abs(r-i);if(u<1e-4)return 0;if(u>=pg-1e-4){r=0,i=pg;var c=o?1:-1;return a>=Us[0]+t&&a<=Us[1]+t?c:0}if(r>i){var f=r;r=i,i=f}r<0&&(r+=pg,i+=pg);for(var d=0,h=0;h<2;h++){var p=Us[h];if(p+t>a){var v=Math.atan2(s,p),c=o?1:-1;v<0&&(v=pg+v),(v>=r&&v<=i||v+pg>=r&&v+pg<=i)&&(v>Math.PI/2&&v<Math.PI*1.5&&(c=-c),d+=c)}}return d}function d_e(t,e,n,r,i){for(var o=t.data,a=t.len(),s=0,l=0,u=0,c=0,f=0,d,h,p=0;p<a;){var v=o[p++],g=p===1;switch(v===Zh.M&&p>1&&(n||(s+=kd(l,u,c,f,r,i))),g&&(l=o[p],u=o[p+1],c=l,f=u),v){case Zh.M:c=o[p++],f=o[p++],l=c,u=f;break;case Zh.L:if(n){if(vp(l,u,o[p],o[p+1],e,r,i))return!0}else s+=kd(l,u,o[p],o[p+1],r,i)||0;l=o[p++],u=o[p++];break;case Zh.C:if(n){if(fCt(l,u,o[p++],o[p++],o[p++],o[p++],o[p],o[p+1],e,r,i))return!0}else s+=gCt(l,u,o[p++],o[p++],o[p++],o[p++],o[p],o[p+1],r,i)||0;l=o[p++],u=o[p++];break;case Zh.Q:if(n){if(f_e(l,u,o[p++],o[p++],o[p],o[p+1],e,r,i))return!0}else s+=mCt(l,u,o[p++],o[p++],o[p],o[p+1],r,i)||0;l=o[p++],u=o[p++];break;case Zh.A:var m=o[p++],y=o[p++],b=o[p++],w=o[p++],S=o[p++],x=o[p++];p+=1;var C=!!(1-o[p++]);d=Math.cos(S)*b+m,h=Math.sin(S)*w+y,g?(c=d,f=h):s+=kd(l,u,d,h,r,i);var E=(r-m)*w/b+m;if(n){if(dCt(m,y,w,S,S+x,C,e,E,i))return!0}else s+=yCt(m,y,w,S,S+x,C,E,i);l=Math.cos(S+x)*b+m,u=Math.sin(S+x)*w+y;break;case Zh.R:c=l=o[p++],f=u=o[p++];var T=o[p++],A=o[p++];if(d=c+T,h=f+A,n){if(vp(c,f,d,f,e,r,i)||vp(d,f,d,h,e,r,i)||vp(d,h,c,h,e,r,i)||vp(c,h,c,f,e,r,i))return!0}else s+=kd(d,f,d,h,r,i),s+=kd(c,h,c,f,r,i);break;case Zh.Z:if(n){if(vp(l,u,c,f,e,r,i))return!0}else s+=kd(l,u,c,f,r,i);l=c,u=f;break}}return!n&&!pCt(u,f)&&(s+=kd(l,u,c,f,r,i)||0),s!==0}function bCt(t,e,n){return d_e(t,0,!1,e,n)}function _Ct(t,e,n,r){return d_e(t,e,!0,n,r)}var DP=Yn({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},xm),wCt={style:Yn({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},TR.style)},y4=td.concat(["invisible","culling","z","z2","zlevel","parent"]),$r=(function(t){Xi(e,t);function e(n){return t.call(this,n)||this}return e.prototype.update=function(){var n=this;t.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){n.buildPath(l,n.shape)}),i.silent=!0;var o=i.style;for(var a in r)o[a]!==r[a]&&(o[a]=r[a]);o.fill=r.fill?r.decal:null,o.decal=null,o.shadowColor=null,r.strokeFirst&&(o.stroke=null);for(var s=0;s<y4.length;++s)i[y4[s]]=this[y4[s]];i.__dirty|=zl}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(n){var r=Ur(n);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var o=0;o<r.length;o++){var a=r[o],s=n[a];a==="style"?this.style?yt(this.style,s):this.useStyle(s):a==="shape"?yt(this.shape,s):t.prototype.attrKV.call(this,a,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(fn(n)){var r=OP(n,0);return r>.5?d5:r>.2?sxt:h5}else if(n)return h5}return d5},e.prototype.getInsideTextStroke=function(n){var r=this.style.fill;if(fn(r)){var i=this.__zr,o=!!(i&&i.isDarkMode()),a=OP(n,0)<f5;if(o===a)return r}},e.prototype.buildPath=function(n,r,i){},e.prototype.pathUpdated=function(){this.__dirty&=~z0},e.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},e.prototype.createPathProxy=function(){this.path=new rd(!1)},e.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return!(r==null||r==="none"||!(n.lineWidth>0))},e.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},e.prototype.getBoundingRect=function(){var n=this._rect,r=this.style,i=!n;if(i){var o=!1;this.path||(o=!0,this.createPathProxy());var a=this.path;(o||this.__dirty&z0)&&(a.beginPath(),this.buildPath(a,this.shape,!1),this.pathUpdated()),n=a.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||i){s.copy(n);var l=r.strokeNoScale?this.getLineScale():1,u=r.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return n},e.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect(),a=this.style;if(n=i[0],r=i[1],o.contain(n,r)){var s=this.path;if(this.hasStroke()){var l=a.lineWidth,u=a.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),_Ct(s,l/u,n,r)))return!0}if(this.hasFill())return bCt(s,n,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=z0,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(n){return this.animate("shape",n)},e.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(n,r){n==="shape"?this.setShape(r):t.prototype.attrKV.call(this,n,r)},e.prototype.setShape=function(n,r){var i=this.shape;return i||(i=this.shape={}),typeof n=="string"?i[n]=r:yt(i,n),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&z0)},e.prototype.createStyle=function(n){return yR(DP,n)},e.prototype._innerSaveToNormal=function(n){t.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.shape&&!r.shape&&(r.shape=yt({},this.shape))},e.prototype._applyStateObj=function(n,r,i,o,a,s){t.prototype._applyStateObj.call(this,n,r,i,o,a,s);var l=!(r&&o),u;if(r&&r.shape?a?o?u=r.shape:(u=yt({},i.shape),yt(u,r.shape)):(u=yt({},o?this.shape:i.shape),yt(u,r.shape)):l&&(u=i.shape),u)if(a){this.shape=yt({},this.shape);for(var c={},f=Ur(u),d=0;d<f.length;d++){var h=f[d];typeof u[h]=="object"?this.shape[h]=u[h]:c[h]=u[h]}this._transitionState(n,{shape:c},s)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(n){for(var r=t.prototype._mergeStates.call(this,n),i,o=0;o<n.length;o++){var a=n[o];a.shape&&(i=i||{},this._mergeStyle(i,a.shape))}return i&&(r.shape=i),r},e.prototype.getAnimationStyleProps=function(){return wCt},e.prototype.isZeroArea=function(){return!1},e.extend=function(n){var r=(function(o){Xi(a,o);function a(s){var l=o.call(this,s)||this;return n.init&&n.init.call(l,s),l}return a.prototype.getDefaultStyle=function(){return Jn(n.style)},a.prototype.getDefaultShape=function(){return Jn(n.shape)},a})(e);for(var i in n)typeof n[i]=="function"&&(r.prototype[i]=n[i]);return r},e.initDefaultProps=(function(){var n=e.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=zl|fS|z0})(),e})(Zu),SCt=Yn({strokeFirst:!0,font:vv,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DP),I1=(function(t){Xi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return r!=null&&r!=="none"&&n.lineWidth>0},e.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},e.prototype.createStyle=function(n){return yR(SCt,n)},e.prototype.setBoundingRect=function(n){this._rect=n},e.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var r=n.text;r!=null?r+="":r="";var i=V2(r,n.font,n.textAlign,n.textBaseline);if(i.x+=n.x||0,i.y+=n.y||0,this.hasStroke()){var o=n.lineWidth;i.x-=o/2,i.y-=o/2,i.width+=o,i.height+=o}this._rect=i}return this._rect},e.initDefaultProps=(function(){var n=e.prototype;n.dirtyRectTolerance=10})(),e})(Zu);I1.prototype.type="tspan";var xCt=Yn({x:0,y:0},xm),CCt={style:Yn({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},TR.style)};function ECt(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var qa=(function(t){Xi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(n){return yR(xCt,n)},e.prototype._getSize=function(n){var r=this.style,i=r[n];if(i!=null)return i;var o=ECt(r.image)?r.image:this.__image;if(!o)return 0;var a=n==="width"?"height":"width",s=r[a];return s==null?o[n]:o[n]/o[a]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return CCt},e.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new xr(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},e})(Zu);qa.prototype.type="image";function TCt(t,e){var n=e.x,r=e.y,i=e.width,o=e.height,a=e.r,s,l,u,c;i<0&&(n=n+i,i=-i),o<0&&(r=r+o,o=-o),typeof a=="number"?s=l=u=c=a:a instanceof Array?a.length===1?s=l=u=c=a[0]:a.length===2?(s=u=a[0],l=c=a[1]):a.length===3?(s=a[0],l=c=a[1],u=a[2]):(s=a[0],l=a[1],u=a[2],c=a[3]):s=l=u=c=0;var f;s+l>i&&(f=s+l,s*=i/f,l*=i/f),u+c>i&&(f=u+c,u*=i/f,c*=i/f),l+u>o&&(f=l+u,l*=o/f,u*=o/f),s+c>o&&(f=s+c,s*=o/f,c*=o/f),t.moveTo(n+s,r),t.lineTo(n+i-l,r),l!==0&&t.arc(n+i-l,r+l,l,-Math.PI/2,0),t.lineTo(n+i,r+o-u),u!==0&&t.arc(n+i-u,r+o-u,u,0,Math.PI/2),t.lineTo(n+c,r+o),c!==0&&t.arc(n+c,r+o-c,c,Math.PI/2,Math.PI),t.lineTo(n,r+s),s!==0&&t.arc(n+s,r+s,s,Math.PI,Math.PI*1.5)}var J0=Math.round;function h_e(t,e,n){if(e){var r=e.x1,i=e.x2,o=e.y1,a=e.y2;t.x1=r,t.x2=i,t.y1=o,t.y2=a;var s=n&&n.lineWidth;return s&&(J0(r*2)===J0(i*2)&&(t.x1=t.x2=rm(r,s,!0)),J0(o*2)===J0(a*2)&&(t.y1=t.y2=rm(o,s,!0))),t}}function p_e(t,e,n){if(e){var r=e.x,i=e.y,o=e.width,a=e.height;t.x=r,t.y=i,t.width=o,t.height=a;var s=n&&n.lineWidth;return s&&(t.x=rm(r,s,!0),t.y=rm(i,s,!0),t.width=Math.max(rm(r+o,s,!1)-t.x,o===0?0:1),t.height=Math.max(rm(i+a,s,!1)-t.y,a===0?0:1)),t}}function rm(t,e,n){if(!e)return t;var r=J0(t*2);return(r+J0(e))%2===0?r/2:(r+(n?1:-1))/2}var ACt=(function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t})(),kCt={},Jr=(function(t){Xi(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new ACt},e.prototype.buildPath=function(n,r){var i,o,a,s;if(this.subPixelOptimize){var l=p_e(kCt,r,this.style);i=l.x,o=l.y,a=l.width,s=l.height,l.r=r.r,r=l}else i=r.x,o=r.y,a=r.width,s=r.height;r.r?TCt(n,r):n.rect(i,o,a,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e})($r);Jr.prototype.type="rect";var ate={fill:"#000"},ste=2,MCt={style:Yn({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},TR.style)},ti=(function(t){Xi(e,t);function e(n){var r=t.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=ate,r.attr(n),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var r=this._children[n];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(n){var r=this.innerTransformable;return r?r.getLocalTransform(n):t.prototype.getLocalTransform.call(this,n)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,ICt(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=n},e.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new xr(0,0,0,0),r=this._children,i=[],o=null,a=0;a<r.length;a++){var s=r[a],l=s.getBoundingRect(),u=s.getLocalTransform(i);u?(n.copy(l),n.applyTransform(u),o=o||n.clone(),o.union(n)):(o=o||l.clone(),o.union(l))}this._rect=o||n}return this._rect},e.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||ate},e.prototype.setTextContent=function(n){},e.prototype._mergeStyle=function(n,r){if(!r)return n;var i=r.rich,o=n.rich||i&&{};return yt(n,r),i&&o?(this._mergeRich(o,i),n.rich=o):o&&(n.rich=o),n},e.prototype._mergeRich=function(n,r){for(var i=Ur(r),o=0;o<i.length;o++){var a=i[o];n[a]=n[a]||{},yt(n[a],r[a])}},e.prototype.getAnimationStyleProps=function(){return MCt},e.prototype._getOrCreateChild=function(n){var r=this._children[this._childCursor];return(!r||!(r instanceof n))&&(r=new n),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},e.prototype._updatePlainTexts=function(){var n=this.style,r=n.font||vv,i=n.padding,o=pte(n),a=Qxt(o,n),s=b4(n),l=!!n.backgroundColor,u=a.outerHeight,c=a.outerWidth,f=a.contentWidth,d=a.lines,h=a.lineHeight,p=this._defaultStyle;this.isTruncated=!!a.isTruncated;var v=n.x||0,g=n.y||0,m=n.align||p.align||"left",y=n.verticalAlign||p.verticalAlign||"top",b=v,w=H0(g,a.contentHeight,y);if(s||i){var S=hS(v,c,m),x=H0(g,u,y);s&&this._renderBackground(n,n,S,x,c,u)}w+=h/2,i&&(b=hte(v,m,i),y==="top"?w+=i[0]:y==="bottom"&&(w-=i[2]));for(var C=0,E=!1,T=dte("fill"in n?n.fill:(E=!0,p.fill)),A=fte("stroke"in n?n.stroke:!l&&(!p.autoStroke||E)?(C=ste,p.stroke):null),k=n.textShadowBlur>0,M=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),D=a.calculatedLineHeight,L=0;L<d.length;L++){var I=this._getOrCreateChild(I1),R=I.createStyle();I.useStyle(R),R.text=d[L],R.x=b,R.y=w,R.textAlign=m,R.textBaseline="middle",R.opacity=n.opacity,R.strokeFirst=!0,k&&(R.shadowBlur=n.textShadowBlur||0,R.shadowColor=n.textShadowColor||"transparent",R.shadowOffsetX=n.textShadowOffsetX||0,R.shadowOffsetY=n.textShadowOffsetY||0),R.stroke=A,R.fill=T,A&&(R.lineWidth=n.lineWidth||C,R.lineDash=n.lineDash,R.lineDashOffset=n.lineDashOffset||0),R.font=r,ute(R,n),w+=h,M&&I.setBoundingRect(new xr(hS(R.x,f,R.textAlign),H0(R.y,D,R.textBaseline),f,D))}},e.prototype._updateRichTexts=function(){var n=this.style,r=pte(n),i=nCt(r,n),o=i.width,a=i.outerWidth,s=i.outerHeight,l=n.padding,u=n.x||0,c=n.y||0,f=this._defaultStyle,d=n.align||f.align,h=n.verticalAlign||f.verticalAlign;this.isTruncated=!!i.isTruncated;var p=hS(u,a,d),v=H0(c,s,h),g=p,m=v;l&&(g+=l[3],m+=l[0]);var y=g+o;b4(n)&&this._renderBackground(n,n,p,v,a,s);for(var b=!!n.backgroundColor,w=0;w<i.lines.length;w++){for(var S=i.lines[w],x=S.tokens,C=x.length,E=S.lineHeight,T=S.width,A=0,k=g,M=y,D=C-1,L=void 0;A<C&&(L=x[A],!L.align||L.align==="left");)this._placeToken(L,n,E,m,k,"left",b),T-=L.width,k+=L.width,A++;for(;D>=0&&(L=x[D],L.align==="right");)this._placeToken(L,n,E,m,M,"right",b),T-=L.width,M-=L.width,D--;for(k+=(o-(k-g)-(y-M)-T)/2;A<=D;)L=x[A],this._placeToken(L,n,E,m,k+L.width/2,"center",b),k+=L.width,A++;m+=E}},e.prototype._placeToken=function(n,r,i,o,a,s,l){var u=r.rich[n.styleName]||{};u.text=n.text;var c=n.verticalAlign,f=o+i/2;c==="top"?f=o+n.height/2:c==="bottom"&&(f=o+i-n.height/2);var d=!n.isLineHolder&&b4(u);d&&this._renderBackground(u,r,s==="right"?a-n.width:s==="center"?a-n.width/2:a,f-n.height/2,n.width,n.height);var h=!!u.backgroundColor,p=n.textPadding;p&&(a=hte(a,s,p),f-=n.height/2-p[0]-n.innerHeight/2);var v=this._getOrCreateChild(I1),g=v.createStyle();v.useStyle(g);var m=this._defaultStyle,y=!1,b=0,w=dte("fill"in u?u.fill:"fill"in r?r.fill:(y=!0,m.fill)),S=fte("stroke"in u?u.stroke:"stroke"in r?r.stroke:!h&&!l&&(!m.autoStroke||y)?(b=ste,m.stroke):null),x=u.textShadowBlur>0||r.textShadowBlur>0;g.text=n.text,g.x=a,g.y=f,x&&(g.shadowBlur=u.textShadowBlur||r.textShadowBlur||0,g.shadowColor=u.textShadowColor||r.textShadowColor||"transparent",g.shadowOffsetX=u.textShadowOffsetX||r.textShadowOffsetX||0,g.shadowOffsetY=u.textShadowOffsetY||r.textShadowOffsetY||0),g.textAlign=s,g.textBaseline="middle",g.font=n.font||vv,g.opacity=jf(u.opacity,r.opacity,1),ute(g,u),S&&(g.lineWidth=jf(u.lineWidth,r.lineWidth,b),g.lineDash=dr(u.lineDash,r.lineDash),g.lineDashOffset=r.lineDashOffset||0,g.stroke=S),w&&(g.fill=w);var C=n.contentWidth,E=n.contentHeight;v.setBoundingRect(new xr(hS(g.x,C,g.textAlign),H0(g.y,E,g.textBaseline),C,E))},e.prototype._renderBackground=function(n,r,i,o,a,s){var l=n.backgroundColor,u=n.borderWidth,c=n.borderColor,f=l&&l.image,d=l&&!f,h=n.borderRadius,p=this,v,g;if(d||n.lineHeight||u&&c){v=this._getOrCreateChild(Jr),v.useStyle(v.createStyle()),v.style.fill=null;var m=v.shape;m.x=i,m.y=o,m.width=a,m.height=s,m.r=h,v.dirtyShape()}if(d){var y=v.style;y.fill=l||null,y.fillOpacity=dr(n.fillOpacity,1)}else if(f){g=this._getOrCreateChild(qa),g.onload=function(){p.dirtyStyle()};var b=g.style;b.image=l.image,b.x=i,b.y=o,b.width=a,b.height=s}if(u&&c){var y=v.style;y.lineWidth=u,y.stroke=c,y.strokeOpacity=dr(n.strokeOpacity,1),y.lineDash=n.borderDash,y.lineDashOffset=n.borderDashOffset||0,v.strokeContainThreshold=0,v.hasFill()&&v.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var w=(v||g).style;w.shadowBlur=n.shadowBlur||0,w.shadowColor=n.shadowColor||"transparent",w.shadowOffsetX=n.shadowOffsetX||0,w.shadowOffsetY=n.shadowOffsetY||0,w.opacity=jf(n.opacity,r.opacity,1)},e.makeFont=function(n){var r="";return g_e(n)&&(r=[n.fontStyle,n.fontWeight,v_e(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),r&&pc(r)||n.textFont||n.font},e})(Zu),PCt={left:!0,right:1,center:1},OCt={top:1,bottom:1,middle:1},lte=["fontStyle","fontWeight","fontSize","fontFamily"];function v_e(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?lG+"px":t+"px"}function ute(t,e){for(var n=0;n<lte.length;n++){var r=lte[n],i=e[r];i!=null&&(t[r]=i)}}function g_e(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function ICt(t){return cte(t),ie(t.rich,cte),t}function cte(t){if(t){t.font=ti.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||PCt[e]?e:"left";var n=t.verticalAlign;n==="center"&&(n="middle"),t.verticalAlign=n==null||OCt[n]?n:"top";var r=t.padding;r&&(t.padding=pG(t.padding))}}function fte(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function dte(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function hte(t,e,n){return e==="right"?t-n[1]:e==="center"?t+n[3]/2-n[1]/2:t+n[3]}function pte(t){var e=t.text;return e!=null&&(e+=""),e}function b4(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var ar=Qr(),w5=function(t,e,n,r){if(r){var i=ar(r);i.dataIndex=n,i.dataType=e,i.seriesIndex=t,i.ssrType="chart",r.type==="group"&&r.traverse(function(o){var a=ar(o);a.seriesIndex=t,a.dataIndex=n,a.dataType=e,a.ssrType="chart"})}},vte=1,gte={},m_e=Qr(),PG=Qr(),OG=0,H2=1,kR=2,sl=["emphasis","blur","select"],bC=["normal","emphasis","blur","select"],M_=10,RCt=9,Cm="highlight",jk="downplay",ox="select",Gk="unselect",ax="toggleSelect";function d0(t){return t!=null&&t!=="none"}function MR(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function y_e(t){MR(t,"emphasis",kR)}function b_e(t){t.hoverState===kR&&MR(t,"normal",OG)}function IG(t){MR(t,"blur",H2)}function __e(t){t.hoverState===H2&&MR(t,"normal",OG)}function LCt(t){t.selected=!0}function DCt(t){t.selected=!1}function mte(t,e,n){e(t,n)}function Dh(t,e,n){mte(t,e,n),t.isGroup&&t.traverse(function(r){mte(r,e,n)})}function NP(t,e){switch(e){case"emphasis":t.hoverState=kR;break;case"normal":t.hoverState=OG;break;case"blur":t.hoverState=H2;break;case"select":t.selected=!0}}function NCt(t,e,n,r){for(var i=t.style,o={},a=0;a<e.length;a++){var s=e[a],l=i[s];o[s]=l??(r&&r[s])}for(var a=0;a<t.animators.length;a++){var u=t.animators[a];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&u.targetName==="style"&&u.saveTo(o,e)}return o}function BCt(t,e,n,r){var i=n&&Mr(n,"select")>=0,o=!1;if(t instanceof $r){var a=m_e(t),s=i&&a.selectFill||a.normalFill,l=i&&a.selectStroke||a.normalStroke;if(d0(s)||d0(l)){r=r||{};var u=r.style||{};u.fill==="inherit"?(o=!0,r=yt({},r),u=yt({},u),u.fill=s):!d0(u.fill)&&d0(s)?(o=!0,r=yt({},r),u=yt({},u),u.fill=i5(s)):!d0(u.stroke)&&d0(l)&&(o||(r=yt({},r),u=yt({},u)),u.stroke=i5(l)),r.style=u}}if(r&&r.z2==null){o||(r=yt({},r));var c=t.z2EmphasisLift;r.z2=t.z2+(c??M_)}return r}function $Ct(t,e,n){if(n&&n.z2==null){n=yt({},n);var r=t.z2SelectLift;n.z2=t.z2+(r??RCt)}return n}function FCt(t,e,n){var r=Mr(t.currentStates,e)>=0,i=t.style.opacity,o=r?null:NCt(t,["opacity"],e,{opacity:1});n=n||{};var a=n.style||{};return a.opacity==null&&(n=yt({},n),a=yt({opacity:r?i:o.opacity*.1},a),n.style=a),n}function _4(t,e){var n=this.states[t];if(this.style){if(t==="emphasis")return BCt(this,t,e,n);if(t==="blur")return FCt(this,t,n);if(t==="select")return $Ct(this,t,n)}return n}function ey(t){t.stateProxy=_4;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=_4),n&&(n.stateProxy=_4)}function yte(t,e){!C_e(t,e)&&!t.__highByOuter&&Dh(t,y_e)}function bte(t,e){!C_e(t,e)&&!t.__highByOuter&&Dh(t,b_e)}function vh(t,e){t.__highByOuter|=1<<(e||0),Dh(t,y_e)}function gh(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&Dh(t,b_e)}function w_e(t){Dh(t,IG)}function RG(t){Dh(t,__e)}function S_e(t){Dh(t,LCt)}function x_e(t){Dh(t,DCt)}function C_e(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function E_e(t){var e=t.getModel(),n=[],r=[];e.eachComponent(function(i,o){var a=PG(o),s=i==="series",l=s?t.getViewOfSeriesModel(o):t.getViewOfComponentModel(o);!s&&r.push(l),a.isBlured&&(l.group.traverse(function(u){__e(u)}),s&&n.push(o)),a.isBlured=!1}),ie(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(n,!1,e)})}function S5(t,e,n,r){var i=r.getModel();n=n||"coordinateSystem";function o(u,c){for(var f=0;f<c.length;f++){var d=u.getItemGraphicEl(c[f]);d&&RG(d)}}if(t!=null&&!(!e||e==="none")){var a=i.getSeriesByIndex(t),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];i.eachSeries(function(u){var c=a===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var d=f&&s?f===s:c;if(!(n==="series"&&!c||n==="coordinateSystem"&&!d||e==="series"&&c)){var h=r.getViewOfSeriesModel(u);if(h.group.traverse(function(g){g.__highByOuter&&c&&e==="self"||IG(g)}),Ls(e))o(u.getData(),e);else if(Zn(e))for(var p=Ur(e),v=0;v<p.length;v++)o(u.getData(p[v]),e[p[v]]);l.push(u),PG(u).isBlured=!0}}),i.eachComponent(function(u,c){if(u!=="series"){var f=r.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,i)}})}}function x5(t,e,n){if(!(t==null||e==null)){var r=n.getModel().getComponent(t,e);if(r){PG(r).isBlured=!0;var i=n.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(o){IG(o)})}}}function VCt(t,e,n){var r=t.seriesIndex,i=t.getData(e.dataType);if(i){var o=Jm(i,e);o=(Tt(o)?o[0]:o)||0;var a=i.getItemGraphicEl(o);if(!a)for(var s=i.count(),l=0;!a&&l<s;)a=i.getItemGraphicEl(l++);if(a){var u=ar(a);S5(r,u.focus,u.blurScope,n)}else{var c=t.get(["emphasis","focus"]),f=t.get(["emphasis","blurScope"]);c!=null&&S5(r,c,f,n)}}}function LG(t,e,n,r){var i={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||n==null)return i;var o=r.getModel().getComponent(t,e);if(!o)return i;var a=r.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return i;for(var s=a.findHighDownDispatchers(n),l,u=0;u<s.length;u++)if(ar(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function zCt(t,e,n){var r=ar(t),i=LG(r.componentMainType,r.componentIndex,r.componentHighDownName,n),o=i.dispatchers,a=i.focusSelf;o?(a&&x5(r.componentMainType,r.componentIndex,n),ie(o,function(s){return yte(s,e)})):(S5(r.seriesIndex,r.focus,r.blurScope,n),r.focus==="self"&&x5(r.componentMainType,r.componentIndex,n),yte(t,e))}function HCt(t,e,n){E_e(n);var r=ar(t),i=LG(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;i?ie(i,function(o){return bte(o,e)}):bte(t,e)}function jCt(t,e,n){if(E5(e)){var r=e.dataType,i=t.getData(r),o=Jm(i,e);Tt(o)||(o=[o]),t[e.type===ax?"toggleSelect":e.type===ox?"select":"unselect"](o,r)}}function _te(t){var e=t.getAllData();ie(e,function(n){var r=n.data,i=n.type;r.eachItemGraphicEl(function(o,a){t.isSelected(a,i)?S_e(o):x_e(o)})})}function GCt(t){var e=[];return t.eachSeries(function(n){var r=n.getAllData();ie(r,function(i){i.data;var o=i.type,a=n.getSelectedDataIndices();if(a.length>0){var s={dataIndex:a,seriesIndex:n.seriesIndex};o!=null&&(s.dataType=o),e.push(s)}})}),e}function Em(t,e,n){im(t,!0),Dh(t,ey),C5(t,e,n)}function UCt(t){im(t,!1)}function go(t,e,n,r){r?UCt(t):Em(t,e,n)}function C5(t,e,n){var r=ar(t);e!=null?(r.focus=e,r.blurScope=n):r.focus&&(r.focus=null)}var wte=["emphasis","blur","select"],WCt={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ls(t,e,n,r){n=n||"itemStyle";for(var i=0;i<wte.length;i++){var o=wte[i],a=e.getModel([o,n]),s=t.ensureState(o);s.style=r?r(a):a[WCt[n]]()}}function im(t,e){var n=e===!1,r=t;t.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!n||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function _C(t){return!!(t&&t.__highDownDispatcher)}function qCt(t,e,n){var r=ar(t);r.componentMainType=e.mainType,r.componentIndex=e.componentIndex,r.componentHighDownName=n}function KCt(t){var e=gte[t];return e==null&&vte<=32&&(e=gte[t]=vte++),e}function E5(t){var e=t.type;return e===ox||e===Gk||e===ax}function Ste(t){var e=t.type;return e===Cm||e===jk}function YCt(t){var e=m_e(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}var h0=rd.CMD,XCt=[[],[],[]],xte=Math.sqrt,ZCt=Math.atan2;function T_e(t,e){if(e){var n=t.data,r=t.len(),i,o,a,s,l,u,c=h0.M,f=h0.C,d=h0.L,h=h0.R,p=h0.A,v=h0.Q;for(a=0,s=0;a<r;){switch(i=n[a++],s=a,o=0,i){case c:o=1;break;case d:o=1;break;case f:o=3;break;case v:o=2;break;case p:var g=e[4],m=e[5],y=xte(e[0]*e[0]+e[1]*e[1]),b=xte(e[2]*e[2]+e[3]*e[3]),w=ZCt(-e[1]/b,e[0]/y);n[a]*=y,n[a++]+=g,n[a]*=b,n[a++]+=m,n[a++]*=y,n[a++]*=b,n[a++]+=w,n[a++]+=w,a+=2,s=a;break;case h:u[0]=n[a++],u[1]=n[a++],as(u,u,e),n[s++]=u[0],n[s++]=u[1],u[0]+=n[a++],u[1]+=n[a++],as(u,u,e),n[s++]=u[0],n[s++]=u[1]}for(l=0;l<o;l++){var S=XCt[l];S[0]=n[a++],S[1]=n[a++],as(S,S,e),n[s++]=S[0],n[s++]=S[1]}}t.increaseVersion()}}var w4=Math.sqrt,FT=Math.sin,VT=Math.cos,Aw=Math.PI;function Cte(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function T5(t,e){return(t[0]*e[0]+t[1]*e[1])/(Cte(t)*Cte(e))}function Ete(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(T5(t,e))}function Tte(t,e,n,r,i,o,a,s,l,u,c){var f=l*(Aw/180),d=VT(f)*(t-n)/2+FT(f)*(e-r)/2,h=-1*FT(f)*(t-n)/2+VT(f)*(e-r)/2,p=d*d/(a*a)+h*h/(s*s);p>1&&(a*=w4(p),s*=w4(p));var v=(i===o?-1:1)*w4((a*a*(s*s)-a*a*(h*h)-s*s*(d*d))/(a*a*(h*h)+s*s*(d*d)))||0,g=v*a*h/s,m=v*-s*d/a,y=(t+n)/2+VT(f)*g-FT(f)*m,b=(e+r)/2+FT(f)*g+VT(f)*m,w=Ete([1,0],[(d-g)/a,(h-m)/s]),S=[(d-g)/a,(h-m)/s],x=[(-1*d-g)/a,(-1*h-m)/s],C=Ete(S,x);if(T5(S,x)<=-1&&(C=Aw),T5(S,x)>=1&&(C=0),C<0){var E=Math.round(C/Aw*1e6)/1e6;C=Aw*2+E%2*Aw}c.addData(u,y,b,a,s,w,C,f,o)}var JCt=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,QCt=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function e2t(t){var e=new rd;if(!t)return e;var n=0,r=0,i=n,o=r,a,s=rd.CMD,l=t.match(JCt);if(!l)return e;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),d=void 0,h=c.match(QCt)||[],p=h.length,v=0;v<p;v++)h[v]=parseFloat(h[v]);for(var g=0;g<p;){var m=void 0,y=void 0,b=void 0,w=void 0,S=void 0,x=void 0,C=void 0,E=n,T=r,A=void 0,k=void 0;switch(f){case"l":n+=h[g++],r+=h[g++],d=s.L,e.addData(d,n,r);break;case"L":n=h[g++],r=h[g++],d=s.L,e.addData(d,n,r);break;case"m":n+=h[g++],r+=h[g++],d=s.M,e.addData(d,n,r),i=n,o=r,f="l";break;case"M":n=h[g++],r=h[g++],d=s.M,e.addData(d,n,r),i=n,o=r,f="L";break;case"h":n+=h[g++],d=s.L,e.addData(d,n,r);break;case"H":n=h[g++],d=s.L,e.addData(d,n,r);break;case"v":r+=h[g++],d=s.L,e.addData(d,n,r);break;case"V":r=h[g++],d=s.L,e.addData(d,n,r);break;case"C":d=s.C,e.addData(d,h[g++],h[g++],h[g++],h[g++],h[g++],h[g++]),n=h[g-2],r=h[g-1];break;case"c":d=s.C,e.addData(d,h[g++]+n,h[g++]+r,h[g++]+n,h[g++]+r,h[g++]+n,h[g++]+r),n+=h[g-2],r+=h[g-1];break;case"S":m=n,y=r,A=e.len(),k=e.data,a===s.C&&(m+=n-k[A-4],y+=r-k[A-3]),d=s.C,E=h[g++],T=h[g++],n=h[g++],r=h[g++],e.addData(d,m,y,E,T,n,r);break;case"s":m=n,y=r,A=e.len(),k=e.data,a===s.C&&(m+=n-k[A-4],y+=r-k[A-3]),d=s.C,E=n+h[g++],T=r+h[g++],n+=h[g++],r+=h[g++],e.addData(d,m,y,E,T,n,r);break;case"Q":E=h[g++],T=h[g++],n=h[g++],r=h[g++],d=s.Q,e.addData(d,E,T,n,r);break;case"q":E=h[g++]+n,T=h[g++]+r,n+=h[g++],r+=h[g++],d=s.Q,e.addData(d,E,T,n,r);break;case"T":m=n,y=r,A=e.len(),k=e.data,a===s.Q&&(m+=n-k[A-4],y+=r-k[A-3]),n=h[g++],r=h[g++],d=s.Q,e.addData(d,m,y,n,r);break;case"t":m=n,y=r,A=e.len(),k=e.data,a===s.Q&&(m+=n-k[A-4],y+=r-k[A-3]),n+=h[g++],r+=h[g++],d=s.Q,e.addData(d,m,y,n,r);break;case"A":b=h[g++],w=h[g++],S=h[g++],x=h[g++],C=h[g++],E=n,T=r,n=h[g++],r=h[g++],d=s.A,Tte(E,T,n,r,x,C,b,w,S,d,e);break;case"a":b=h[g++],w=h[g++],S=h[g++],x=h[g++],C=h[g++],E=n,T=r,n+=h[g++],r+=h[g++],d=s.A,Tte(E,T,n,r,x,C,b,w,S,d,e);break}}(f==="z"||f==="Z")&&(d=s.Z,e.addData(d),n=i,r=o),a=d}return e.toStatic(),e}var A_e=(function(t){Xi(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(n){},e})($r);function k_e(t){return t.setData!=null}function M_e(t,e){var n=e2t(t),r=yt({},e);return r.buildPath=function(i){if(k_e(i)){i.setData(n.data);var o=i.getContext();o&&i.rebuildPath(o,1)}else{var o=i;n.rebuildPath(o,1)}},r.applyTransform=function(i){T_e(n,i),this.dirtyShape()},r}function P_e(t,e){return new A_e(M_e(t,e))}function t2t(t,e){var n=M_e(t,e),r=(function(i){Xi(o,i);function o(a){var s=i.call(this,a)||this;return s.applyTransform=n.applyTransform,s.buildPath=n.buildPath,s}return o})(A_e);return r}function n2t(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var o=t[i];n.push(o.getUpdatedPathProxy(!0))}var a=new $r(e);return a.createPathProxy(),a.buildPath=function(s){if(k_e(s)){s.appendPath(n);var l=s.getContext();l&&s.rebuildPath(l,1)}},a}function DG(t,e){e=e||{};var n=new $r;return t.shape&&n.setShape(t.shape),n.setStyle(t.style),e.bakeTransform?T_e(n.path,t.getComputedTransform()):e.toLocal?n.setLocalTransform(t.getComputedTransform()):n.copyTransform(t),n.buildPath=t.buildPath,n.applyTransform=n.applyTransform,n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel,n}var r2t=(function(){function t(){this.cx=0,this.cy=0,this.r=0}return t})(),Nh=(function(t){Xi(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new r2t},e.prototype.buildPath=function(n,r){n.moveTo(r.cx+r.r,r.cy),n.arc(r.cx,r.cy,r.r,0,Math.PI*2)},e})($r);Nh.prototype.type="circle";var i2t=(function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t})(),PR=(function(t){Xi(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new i2t},e.prototype.buildPath=function(n,r){var i=.5522848,o=r.cx,a=r.cy,s=r.rx,l=r.ry,u=s*i,c=l*i;n.moveTo(o-s,a),n.bezierCurveTo(o-s,a-c,o-u,a-l,o,a-l),n.bezierCurveTo(o+u,a-l,o+s,a-c,o+s,a),n.bezierCurveTo(o+s,a+c,o+u,a+l,o,a+l),n.bezierCurveTo(o-u,a+l,o-s,a+c,o-s,a),n.closePath()},e})($r);PR.prototype.type="ellipse";var O_e=Math.PI,S4=O_e*2,vg=Math.sin,p0=Math.cos,o2t=Math.acos,ps=Math.atan2,Ate=Math.abs,sx=Math.sqrt,pS=Math.max,df=Math.min,cc=1e-4;function a2t(t,e,n,r,i,o,a,s){var l=n-t,u=r-e,c=a-i,f=s-o,d=f*l-c*u;if(!(d*d<cc))return d=(c*(e-o)-f*(t-i))/d,[t+d*l,e+d*u]}function zT(t,e,n,r,i,o,a){var s=t-n,l=e-r,u=(a?o:-o)/sx(s*s+l*l),c=u*l,f=-u*s,d=t+c,h=e+f,p=n+c,v=r+f,g=(d+p)/2,m=(h+v)/2,y=p-d,b=v-h,w=y*y+b*b,S=i-o,x=d*v-p*h,C=(b<0?-1:1)*sx(pS(0,S*S*w-x*x)),E=(x*b-y*C)/w,T=(-x*y-b*C)/w,A=(x*b+y*C)/w,k=(-x*y+b*C)/w,M=E-g,D=T-m,L=A-g,I=k-m;return M*M+D*D>L*L+I*I&&(E=A,T=k),{cx:E,cy:T,x0:-c,y0:-f,x1:E*(i/S-1),y1:T*(i/S-1)}}function s2t(t){var e;if(Tt(t)){var n=t.length;if(!n)return t;n===1?e=[t[0],t[0],0,0]:n===2?e=[t[0],t[0],t[1],t[1]]:n===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function l2t(t,e){var n,r=pS(e.r,0),i=pS(e.r0||0,0),o=r>0,a=i>0;if(!(!o&&!a)){if(o||(r=i,i=0),i>r){var s=r;r=i,i=s}var l=e.startAngle,u=e.endAngle;if(!(isNaN(l)||isNaN(u))){var c=e.cx,f=e.cy,d=!!e.clockwise,h=Ate(u-l),p=h>S4&&h%S4;if(p>cc&&(h=p),!(r>cc))t.moveTo(c,f);else if(h>S4-cc)t.moveTo(c+r*p0(l),f+r*vg(l)),t.arc(c,f,r,l,u,!d),i>cc&&(t.moveTo(c+i*p0(u),f+i*vg(u)),t.arc(c,f,i,u,l,d));else{var v=void 0,g=void 0,m=void 0,y=void 0,b=void 0,w=void 0,S=void 0,x=void 0,C=void 0,E=void 0,T=void 0,A=void 0,k=void 0,M=void 0,D=void 0,L=void 0,I=r*p0(l),R=r*vg(l),V=i*p0(u),P=i*vg(u),B=h>cc;if(B){var j=e.cornerRadius;j&&(n=s2t(j),v=n[0],g=n[1],m=n[2],y=n[3]);var G=Ate(r-i)/2;if(b=df(G,m),w=df(G,y),S=df(G,v),x=df(G,g),T=C=pS(b,w),A=E=pS(S,x),(C>cc||E>cc)&&(k=r*p0(u),M=r*vg(u),D=i*p0(l),L=i*vg(l),h<O_e)){var W=a2t(I,R,D,L,k,M,V,P);if(W){var Z=I-W[0],ee=R-W[1],oe=k-W[0],ce=M-W[1],X=1/vg(o2t((Z*oe+ee*ce)/(sx(Z*Z+ee*ee)*sx(oe*oe+ce*ce)))/2),H=sx(W[0]*W[0]+W[1]*W[1]);T=df(C,(r-H)/(X+1)),A=df(E,(i-H)/(X-1))}}}if(!B)t.moveTo(c+I,f+R);else if(T>cc){var U=df(m,T),ne=df(y,T),J=zT(D,L,I,R,r,U,d),Y=zT(k,M,V,P,r,ne,d);t.moveTo(c+J.cx+J.x0,f+J.cy+J.y0),T<C&&U===ne?t.arc(c+J.cx,f+J.cy,T,ps(J.y0,J.x0),ps(Y.y0,Y.x0),!d):(U>0&&t.arc(c+J.cx,f+J.cy,U,ps(J.y0,J.x0),ps(J.y1,J.x1),!d),t.arc(c,f,r,ps(J.cy+J.y1,J.cx+J.x1),ps(Y.cy+Y.y1,Y.cx+Y.x1),!d),ne>0&&t.arc(c+Y.cx,f+Y.cy,ne,ps(Y.y1,Y.x1),ps(Y.y0,Y.x0),!d))}else t.moveTo(c+I,f+R),t.arc(c,f,r,l,u,!d);if(!(i>cc)||!B)t.lineTo(c+V,f+P);else if(A>cc){var U=df(v,A),ne=df(g,A),J=zT(V,P,k,M,i,-ne,d),Y=zT(I,R,D,L,i,-U,d);t.lineTo(c+J.cx+J.x0,f+J.cy+J.y0),A<E&&U===ne?t.arc(c+J.cx,f+J.cy,A,ps(J.y0,J.x0),ps(Y.y0,Y.x0),!d):(ne>0&&t.arc(c+J.cx,f+J.cy,ne,ps(J.y0,J.x0),ps(J.y1,J.x1),!d),t.arc(c,f,i,ps(J.cy+J.y1,J.cx+J.x1),ps(Y.cy+Y.y1,Y.cx+Y.x1),d),U>0&&t.arc(c+Y.cx,f+Y.cy,U,ps(Y.y1,Y.x1),ps(Y.y0,Y.x0),!d))}else t.lineTo(c+V,f+P),t.arc(c,f,i,u,l,d)}t.closePath()}}}var u2t=(function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t})(),ll=(function(t){Xi(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new u2t},e.prototype.buildPath=function(n,r){l2t(n,r)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e})($r);ll.prototype.type="sector";var c2t=(function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t})(),j2=(function(t){Xi(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new c2t},e.prototype.buildPath=function(n,r){var i=r.cx,o=r.cy,a=Math.PI*2;n.moveTo(i+r.r,o),n.arc(i,o,r.r,0,a,!1),n.moveTo(i+r.r0,o),n.arc(i,o,r.r0,0,a,!0)},e})($r);j2.prototype.type="ring";function f2t(t,e,n,r){var i=[],o=[],a=[],s=[],l,u,c,f;if(r){c=[1/0,1/0],f=[-1/0,-1/0];for(var d=0,h=t.length;d<h;d++)Pp(c,c,t[d]),Op(f,f,t[d]);Pp(c,c,r[0]),Op(f,f,r[1])}for(var d=0,h=t.length;d<h;d++){var p=t[d];if(n)l=t[d?d-1:h-1],u=t[(d+1)%h];else if(d===0||d===h-1){i.push(Yd(t[d]));continue}else l=t[d-1],u=t[d+1];nm(o,u,l),Dk(o,o,e);var v=YV(p,l),g=YV(p,u),m=v+g;m!==0&&(v/=m,g/=m),Dk(a,o,-v),Dk(s,o,g);var y=See([],p,a),b=See([],p,s);r&&(Op(y,y,c),Pp(y,y,f),Op(b,b,c),Pp(b,b,f)),i.push(y),i.push(b)}return n&&i.push(i.shift()),i}function I_e(t,e,n){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var o=f2t(i,r,n,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var a=i.length,s=0;s<(n?a:a-1);s++){var l=o[s*2],u=o[s*2+1],c=i[(s+1)%a];t.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{t.moveTo(i[0][0],i[0][1]);for(var s=1,f=i.length;s<f;s++)t.lineTo(i[s][0],i[s][1])}n&&t.closePath()}}var d2t=(function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t})(),ul=(function(t){Xi(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new d2t},e.prototype.buildPath=function(n,r){I_e(n,r,!0)},e})($r);ul.prototype.type="polygon";var h2t=(function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t})(),cl=(function(t){Xi(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new h2t},e.prototype.buildPath=function(n,r){I_e(n,r,!1)},e})($r);cl.prototype.type="polyline";var p2t={},v2t=(function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t})(),Sa=(function(t){Xi(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new v2t},e.prototype.buildPath=function(n,r){var i,o,a,s;if(this.subPixelOptimize){var l=h_e(p2t,r,this.style);i=l.x1,o=l.y1,a=l.x2,s=l.y2}else i=r.x1,o=r.y1,a=r.x2,s=r.y2;var u=r.percent;u!==0&&(n.moveTo(i,o),u<1&&(a=i*(1-u)+a*u,s=o*(1-u)+s*u),n.lineTo(a,s))},e.prototype.pointAt=function(n){var r=this.shape;return[r.x1*(1-n)+r.x2*n,r.y1*(1-n)+r.y2*n]},e})($r);Sa.prototype.type="line";var pl=[],g2t=(function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t})();function kte(t,e,n){var r=t.cpx2,i=t.cpy2;return r!=null||i!=null?[(n?Lee:ba)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?Lee:ba)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?e5:Na)(t.x1,t.cpx1,t.x2,e),(n?e5:Na)(t.y1,t.cpy1,t.y2,e)]}var G2=(function(t){Xi(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new g2t},e.prototype.buildPath=function(n,r){var i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=r.cpx1,u=r.cpy1,c=r.cpx2,f=r.cpy2,d=r.percent;d!==0&&(n.moveTo(i,o),c==null||f==null?(d<1&&(vC(i,l,a,d,pl),l=pl[1],a=pl[2],vC(o,u,s,d,pl),u=pl[1],s=pl[2]),n.quadraticCurveTo(l,u,a,s)):(d<1&&(mv(i,l,c,a,d,pl),l=pl[1],c=pl[2],a=pl[3],mv(o,u,f,s,d,pl),u=pl[1],f=pl[2],s=pl[3]),n.bezierCurveTo(l,u,c,f,a,s)))},e.prototype.pointAt=function(n){return kte(this.shape,n,!1)},e.prototype.tangentAt=function(n){var r=kte(this.shape,n,!0);return T_(r,r)},e})($r);G2.prototype.type="bezier-curve";var m2t=(function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t})(),OR=(function(t){Xi(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new m2t},e.prototype.buildPath=function(n,r){var i=r.cx,o=r.cy,a=Math.max(r.r,0),s=r.startAngle,l=r.endAngle,u=r.clockwise,c=Math.cos(s),f=Math.sin(s);n.moveTo(c*a+i,f*a+o),n.arc(i,o,a,s,l,!u)},e})($r);OR.prototype.type="arc";var NG=(function(t){Xi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="compound",n}return e.prototype._updatePathDirty=function(){for(var n=this.shape.paths,r=this.shapeChanged(),i=0;i<n.length;i++)r=r||n[i].shapeChanged();r&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<n.length;i++)n[i].path||n[i].createPathProxy(),n[i].path.setScale(r[0],r[1],n[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(n,r){for(var i=r.paths||[],o=0;o<i.length;o++)i[o].buildPath(n,i[o].shape,!0)},e.prototype.afterBrush=function(){for(var n=this.shape.paths||[],r=0;r<n.length;r++)n[r].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),$r.prototype.getBoundingRect.call(this)},e})($r),R_e=(function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,n){this.colorStops.push({offset:e,color:n})},t})(),U2=(function(t){Xi(e,t);function e(n,r,i,o,a,s){var l=t.call(this,a)||this;return l.x=n??0,l.y=r??0,l.x2=i??1,l.y2=o??0,l.type="linear",l.global=s||!1,l}return e})(R_e),L_e=(function(t){Xi(e,t);function e(n,r,i,o,a){var s=t.call(this,o)||this;return s.x=n??.5,s.y=r??.5,s.r=i??.5,s.type="radial",s.global=a||!1,s}return e})(R_e),gg=[0,0],mg=[0,0],HT=new _r,jT=new _r,BP=(function(){function t(e,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new _r;for(var r=0;r<2;r++)this._axes[r]=new _r;e&&this.fromBoundingRect(e,n)}return t.prototype.fromBoundingRect=function(e,n){var r=this._corners,i=this._axes,o=e.x,a=e.y,s=o+e.width,l=a+e.height;if(r[0].set(o,a),r[1].set(s,a),r[2].set(s,l),r[3].set(o,l),n)for(var u=0;u<4;u++)r[u].transform(n);_r.sub(i[0],r[1],r[0]),_r.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var u=0;u<2;u++)this._origin[u]=i[u].dot(r[0])},t.prototype.intersect=function(e,n){var r=!0,i=!n;return HT.set(1/0,1/0),jT.set(0,0),!this._intersectCheckOneSide(this,e,HT,jT,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(e,this,HT,jT,i,-1)&&(r=!1,i)||i||_r.copy(n,r?HT:jT),r},t.prototype._intersectCheckOneSide=function(e,n,r,i,o,a){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,gg),this._getProjMinMaxOnAxis(l,n._corners,mg),gg[1]<mg[0]||gg[0]>mg[1]){if(s=!1,o)return s;var c=Math.abs(mg[0]-gg[1]),f=Math.abs(gg[0]-mg[1]);Math.min(c,f)>i.len()&&(c<f?_r.scale(i,u,-c*a):_r.scale(i,u,f*a))}else if(r){var c=Math.abs(mg[0]-gg[1]),f=Math.abs(gg[0]-mg[1]);Math.min(c,f)<r.len()&&(c<f?_r.scale(r,u,c*a):_r.scale(r,u,-f*a))}}return s},t.prototype._getProjMinMaxOnAxis=function(e,n,r){for(var i=this._axes[e],o=this._origin,a=n[0].dot(i)+o[e],s=a,l=a,u=1;u<n.length;u++){var c=n[u].dot(i)+o[e];s=Math.min(c,s),l=Math.max(c,l)}r[0]=s,r[1]=l},t})(),y2t=[],b2t=(function(t){Xi(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return e.prototype.traverse=function(n,r){n.call(r,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(n,r){r?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},e.prototype.addDisplayables=function(n,r){r=r||!1;for(var i=0;i<n.length;i++)this.addDisplayable(n[i],r)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(n){for(var r=this._cursor;r<this._displayables.length;r++)n&&n(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)n&&n(this._temporaryDisplayables[r])},e.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var r=this._displayables[n];r.parent=this,r.update(),r.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var r=this._temporaryDisplayables[n];r.parent=this,r.update(),r.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new xr(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],o=i.getBoundingRect().clone();i.needLocalTransform()&&o.applyTransform(i.getLocalTransform(y2t)),n.union(o)}this._rect=n}return this._rect},e.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect();if(o.contain(i[0],i[1]))for(var a=0;a<this._displayables.length;a++){var s=this._displayables[a];if(s.contain(n,r))return!0}return!1},e})(Zu),D_e=Qr();function P_(t,e,n,r,i){var o;if(e&&e.ecModel){var a=e.ecModel.getUpdatePayload();o=a&&a.animation}var s=e&&e.isAnimationEnabled(),l=t==="update";if(s){var u=void 0,c=void 0,f=void 0;r?(u=dr(r.duration,200),c=dr(r.easing,"cubicOut"),f=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),c=e.getShallow(l?"animationEasingUpdate":"animationEasing"),f=e.getShallow(l?"animationDelayUpdate":"animationDelay")),o&&(o.duration!=null&&(u=o.duration),o.easing!=null&&(c=o.easing),o.delay!=null&&(f=o.delay)),qn(f)&&(f=f(n,i)),qn(u)&&(u=u(n));var d={duration:u||0,delay:f,easing:c};return d}else return null}function BG(t,e,n,r,i,o,a){var s=!1,l;qn(i)?(a=o,o=i,i=null):Zn(i)&&(o=i.cb,a=i.during,s=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u=t==="leave";u||e.stopAnimation("leave");var c=P_(t,r,i,u?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(c&&c.duration>0){var f=c.duration,d=c.delay,h=c.easing,p={duration:f,delay:d||0,easing:h,done:o,force:!!o||!!a,setToFinal:!u,scope:t,during:a};s?e.animateFrom(n,p):e.animateTo(n,p)}else e.stopAnimation(),!s&&e.attr(n),a&&a(1),o&&o()}function si(t,e,n,r,i,o){BG("update",t,e,n,r,i,o)}function eo(t,e,n,r,i,o){BG("enter",t,e,n,r,i,o)}function Tb(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var n=t.animators[e];if(n.scope==="leave")return!0}return!1}function yv(t,e,n,r,i,o){Tb(t)||BG("leave",t,e,n,r,i,o)}function Mte(t,e,n,r){t.removeTextContent(),t.removeTextGuideLine(),yv(t,{style:{opacity:0}},e,n,r)}function wC(t,e,n){function r(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(i){i.isGroup||Mte(i,e,n,r)}):Mte(t,e,n,r)}function $c(t){D_e(t).oldStyle=t.style}function _2t(t){return D_e(t).oldStyle}var $P=Math.max,FP=Math.min,A5={};function w2t(t){return $r.extend(t)}var S2t=t2t;function x2t(t,e){return S2t(t,e)}function Zc(t,e){A5[t]=e}function $G(t){if(A5.hasOwnProperty(t))return A5[t]}function IR(t,e,n,r){var i=P_e(t,e);return n&&(r==="center"&&(n=B_e(n,i.getBoundingRect())),$_e(i,n)),i}function N_e(t,e,n){var r=new qa({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(n==="center"){var o={width:i.width,height:i.height};r.setStyle(B_e(e,o))}}});return r}function B_e(t,e){var n=e.width/e.height,r=t.height*n,i;r<=t.width?i=t.height:(r=t.width,i=r/n);var o=t.x+t.width/2,a=t.y+t.height/2;return{x:o-r/2,y:a-i/2,width:r,height:i}}var Au=n2t;function $_e(t,e){if(t.applyTransform){var n=t.getBoundingRect(),r=n.calculateTransform(e);t.applyTransform(r)}}function R1(t,e){return h_e(t,t,{lineWidth:e}),t}function C2t(t){return p_e(t.shape,t.shape,t.style),t}var Uk=rm;function Tm(t,e){for(var n=bR([]);t&&t!==e;)Xd(n,t.getLocalTransform(),n),t=t.parent;return n}function Cc(t,e,n){return e&&!Ls(e)&&(e=zd.getLocalTransform(e)),n&&(e=A_([],e)),as([],t,e)}function RR(t,e,n){var r=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),o=[t==="left"?-r:t==="right"?r:0,t==="top"?-i:t==="bottom"?i:0];return o=Cc(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function Pte(t){return!t.isGroup}function E2t(t){return t.shape!=null}function W2(t,e,n){if(!t||!e)return;function r(a){var s={};return a.traverse(function(l){Pte(l)&&l.anid&&(s[l.anid]=l)}),s}function i(a){var s={x:a.x,y:a.y,rotation:a.rotation};return E2t(a)&&(s.shape=yt({},a.shape)),s}var o=r(t);e.traverse(function(a){if(Pte(a)&&a.anid){var s=o[a.anid];if(s){var l=i(a);a.attr(i(s)),si(a,l,n,ar(a).dataIndex)}}})}function F_e(t,e){return kt(t,function(n){var r=n[0];r=$P(r,e.x),r=FP(r,e.x+e.width);var i=n[1];return i=$P(i,e.y),i=FP(i,e.y+e.height),[r,i]})}function T2t(t,e){var n=$P(t.x,e.x),r=FP(t.x+t.width,e.x+e.width),i=$P(t.y,e.y),o=FP(t.y+t.height,e.y+e.height);if(r>=n&&o>=i)return{x:n,y:i,width:r-n,height:o-i}}function q2(t,e,n){var r=yt({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(i.image=t.slice(8),Yn(i,n),new qa(r)):IR(t.replace("path://",""),r,n,"center")}function vS(t,e,n,r,i){for(var o=0,a=i[i.length-1];o<i.length;o++){var s=i[o];if(V_e(t,e,n,r,s[0],s[1],a[0],a[1]))return!0;a=s}}function V_e(t,e,n,r,i,o,a,s){var l=n-t,u=r-e,c=a-i,f=s-o,d=x4(c,f,l,u);if(A2t(d))return!1;var h=t-i,p=e-o,v=x4(h,p,l,u)/d;if(v<0||v>1)return!1;var g=x4(h,p,c,f)/d;return!(g<0||g>1)}function x4(t,e,n,r){return t*r-n*e}function A2t(t){return t<=1e-6&&t>=-1e-6}function Ty(t){var e=t.itemTooltipOption,n=t.componentModel,r=t.itemName,i=fn(e)?{formatter:e}:e,o=n.mainType,a=n.componentIndex,s={componentType:o,name:r,$vars:["name"]};s[o+"Index"]=a;var l=t.formatterParamsExtra;l&&ie(Ur(l),function(c){Cn(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=ar(t.el);u.componentMainType=o,u.componentIndex=a,u.tooltipConfig={name:r,option:Yn({content:r,encodeHTMLContent:!0,formatterParams:s},i)}}function Ote(t,e){var n;t.isGroup&&(n=e(t)),n||t.traverse(e)}function Bv(t,e){if(t)if(Tt(t))for(var n=0;n<t.length;n++)Ote(t[n],e);else Ote(t,e)}Zc("circle",Nh);Zc("ellipse",PR);Zc("sector",ll);Zc("ring",j2);Zc("polygon",ul);Zc("polyline",cl);Zc("rect",Jr);Zc("line",Sa);Zc("bezierCurve",G2);Zc("arc",OR);const Ay=Object.freeze(Object.defineProperty({__proto__:null,Arc:OR,BezierCurve:G2,BoundingRect:xr,Circle:Nh,CompoundPath:NG,Ellipse:PR,Group:nr,Image:qa,IncrementalDisplayable:b2t,Line:Sa,LinearGradient:U2,OrientedBoundingRect:BP,Path:$r,Point:_r,Polygon:ul,Polyline:cl,RadialGradient:L_e,Rect:Jr,Ring:j2,Sector:ll,Text:ti,applyTransform:Cc,clipPointsByRect:F_e,clipRectByRect:T2t,createIcon:q2,extendPath:x2t,extendShape:w2t,getShapeClass:$G,getTransform:Tm,groupTransition:W2,initProps:eo,isElementRemoved:Tb,lineLineIntersect:V_e,linePolygonIntersect:vS,makeImage:N_e,makePath:IR,mergePath:Au,registerShape:Zc,removeElement:yv,removeElementWithFadeOut:wC,resizePath:$_e,setTooltipConfig:Ty,subPixelOptimize:Uk,subPixelOptimizeLine:R1,subPixelOptimizeRect:C2t,transformDirection:RR,traverseElements:Bv,updateProps:si},Symbol.toStringTag,{value:"Module"}));var LR={};function z_e(t,e){for(var n=0;n<sl.length;n++){var r=sl[n],i=e[r],o=t.ensureState(r);o.style=o.style||{},o.style.text=i}var a=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(a,!0)}function k5(t,e,n){var r=t.labelFetcher,i=t.labelDataIndex,o=t.labelDimIndex,a=e.normal,s;r&&(s=r.getFormattedLabel(i,"normal",null,o,a&&a.get("formatter"),n!=null?{interpolatedValue:n}:null)),s==null&&(s=qn(t.defaultText)?t.defaultText(i,t,n):t.defaultText);for(var l={normal:s},u=0;u<sl.length;u++){var c=sl[u],f=e[c];l[c]=dr(r?r.getFormattedLabel(i,c,null,o,f&&f.get("formatter")):null,s)}return l}function us(t,e,n,r){n=n||LR;for(var i=t instanceof ti,o=!1,a=0;a<bC.length;a++){var s=e[bC[a]];if(s&&s.getShallow("show")){o=!0;break}}var l=i?t:t.getTextContent();if(o){i||(l||(l=new ti,t.setTextContent(l)),t.stateProxy&&(l.stateProxy=t.stateProxy));var u=k5(n,e),c=e.normal,f=!!c.getShallow("show"),d=Gi(c,r&&r.normal,n,!1,!i);d.text=u.normal,i||t.setTextConfig(VP(c,n,!1));for(var a=0;a<sl.length;a++){var h=sl[a],s=e[h];if(s){var p=l.ensureState(h),v=!!dr(s.getShallow("show"),f);if(v!==f&&(p.ignore=!v),p.style=Gi(s,r&&r[h],n,!0,!i),p.style.text=u[h],!i){var g=t.ensureState(h);g.textConfig=VP(s,n,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(d.x=l.style.x),l.style.y!=null&&(d.y=l.style.y),l.ignore=!f,l.useStyle(d),l.dirty(),n.enableTextSetter&&(O_(l).setLabelText=function(m){var y=k5(n,e,m);z_e(l,y)})}else l&&(l.ignore=!0);t.dirty()}function Pa(t,e){e=e||"label";for(var n={normal:t.getModel(e)},r=0;r<sl.length;r++){var i=sl[r];n[i]=t.getModel([i,e])}return n}function Gi(t,e,n,r,i){var o={};return k2t(o,t,n,r,i),e&&yt(o,e),o}function VP(t,e,n){e=e||{};var r={},i,o=t.getShallow("rotate"),a=dr(t.getShallow("distance"),n?null:5),s=t.getShallow("offset");return i=t.getShallow("position")||(n?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(r.position=i),s!=null&&(r.offset=s),o!=null&&(o*=Math.PI/180,r.rotation=o),a!=null&&(r.distance=a),r.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",r}function k2t(t,e,n,r,i){n=n||LR;var o=e.ecModel,a=o&&o.option.textStyle,s=M2t(e),l;if(s){l={};for(var u in s)if(s.hasOwnProperty(u)){var c=e.getModel(["rich",u]);Dte(l[u]={},c,a,n,r,i,!1,!0)}}l&&(t.rich=l);var f=e.get("overflow");f&&(t.overflow=f);var d=e.get("minMargin");d!=null&&(t.margin=d),Dte(t,e,a,n,r,i,!0,!1)}function M2t(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||LR).rich;if(n){e=e||{};for(var r=Ur(n),i=0;i<r.length;i++){var o=r[i];e[o]=1}}t=t.parentModel}return e}var Ite=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Rte=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],Lte=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Dte(t,e,n,r,i,o,a,s){n=!i&&n||LR;var l=r&&r.inheritColor,u=e.getShallow("color"),c=e.getShallow("textBorderColor"),f=dr(e.getShallow("opacity"),n.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(c==="inherit"||c==="auto")&&(l?c=l:c=null),o||(u=u||n.color,c=c||n.textBorderColor),u!=null&&(t.fill=u),c!=null&&(t.stroke=c);var d=dr(e.getShallow("textBorderWidth"),n.textBorderWidth);d!=null&&(t.lineWidth=d);var h=dr(e.getShallow("textBorderType"),n.textBorderType);h!=null&&(t.lineDash=h);var p=dr(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);p!=null&&(t.lineDashOffset=p),!i&&f==null&&!s&&(f=r&&r.defaultOpacity),f!=null&&(t.opacity=f),!i&&!o&&t.fill==null&&r.inheritColor&&(t.fill=r.inheritColor);for(var v=0;v<Ite.length;v++){var g=Ite[v],m=dr(e.getShallow(g),n[g]);m!=null&&(t[g]=m)}for(var v=0;v<Rte.length;v++){var g=Rte[v],m=e.getShallow(g);m!=null&&(t[g]=m)}if(t.verticalAlign==null){var y=e.getShallow("baseline");y!=null&&(t.verticalAlign=y)}if(!a||!r.disableBox){for(var v=0;v<Lte.length;v++){var g=Lte[v],m=e.getShallow(g);m!=null&&(t[g]=m)}var b=e.getShallow("borderType");b!=null&&(t.borderDash=b),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&l&&(t.backgroundColor=l),(t.borderColor==="auto"||t.borderColor==="inherit")&&l&&(t.borderColor=l)}}function FG(t,e){var n=e&&e.getModel("textStyle");return pc([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var O_=Qr();function H_e(t,e,n,r){if(t){var i=O_(t);i.prevValue=i.value,i.value=n;var o=e.normal;i.valueAnimation=o.get("valueAnimation"),i.valueAnimation&&(i.precision=o.get("precision"),i.defaultInterpolatedText=r,i.statesModels=e)}}function j_e(t,e,n,r,i){var o=O_(t);if(!o.valueAnimation||o.prevValue===o.value)return;var a=o.defaultInterpolatedText,s=dr(o.interpolatedValue,o.prevValue),l=o.value;function u(c){var f=o_e(n,o.precision,s,l,c);o.interpolatedValue=c===1?null:f;var d=k5({labelDataIndex:e,labelFetcher:i,defaultText:a?a(f):f+""},o.statesModels,f);z_e(t,d)}t.percent=0,(o.prevValue==null?eo:si)(t,{percent:1},r,e,null,u)}var P2t=["textStyle","color"],C4=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],E4=new ti,O2t=(function(){function t(){}return t.prototype.getTextColor=function(e){var n=this.ecModel;return this.getShallow("color")||(!e&&n?n.get(P2t):null)},t.prototype.getFont=function(){return FG({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var n={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<C4.length;r++)n[C4[r]]=this.getShallow(C4[r]);return E4.useStyle(n),E4.update(),E4.getBoundingRect()},t})(),G_e=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],I2t=Qm(G_e),R2t=(function(){function t(){}return t.prototype.getLineStyle=function(e){return I2t(this,e)},t})(),U_e=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],L2t=Qm(U_e),D2t=(function(){function t(){}return t.prototype.getItemStyle=function(e,n){return L2t(this,e,n)},t})(),Ci=(function(){function t(e,n,r){this.parentModel=n,this.ecModel=r,this.option=e}return t.prototype.init=function(e,n,r){},t.prototype.mergeOption=function(e,n){mr(this.option,e,!0)},t.prototype.get=function(e,n){return e==null?this.option:this._doGet(this.parsePath(e),!n&&this.parentModel)},t.prototype.getShallow=function(e,n){var r=this.option,i=r==null?r:r[e];if(i==null&&!n){var o=this.parentModel;o&&(i=o.getShallow(e))}return i},t.prototype.getModel=function(e,n){var r=e!=null,i=r?this.parsePath(e):null,o=r?this._doGet(i):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new t(o,n,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(Jn(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!Fr.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,n){var r=this.option;if(!e)return r;for(var i=0;i<e.length&&!(e[i]&&(r=r&&typeof r=="object"?r[e[i]]:null,r==null));i++);return r==null&&n&&(r=n._doGet(this.resolveParentPath(e),n.parentModel)),r},t})();AG(Ci);Gxt(Ci);ia(Ci,R2t);ia(Ci,D2t);ia(Ci,Yxt);ia(Ci,O2t);var N2t=Math.round(Math.random()*10);function I_(t){return[t||"",N2t++].join("_")}function B2t(t){var e={};t.registerSubTypeDefaulter=function(n,r){var i=Rf(n);e[i.main]=r},t.determineSubType=function(n,r){var i=r.type;if(!i){var o=Rf(n).main;t.hasSubTypes(n)&&e[o]&&(i=e[o](r))}return i}}function $2t(t,e){t.topologicalTravel=function(o,a,s,l){if(!o.length)return;var u=n(a),c=u.graph,f=u.noEntryList,d={};for(ie(o,function(y){d[y]=!0});f.length;){var h=f.pop(),p=c[h],v=!!d[h];v&&(s.call(l,h,p.originalDeps.slice()),delete d[h]),ie(p.successor,v?m:g)}ie(d,function(){var y="";throw new Error(y)});function g(y){c[y].entryCount--,c[y].entryCount===0&&f.push(y)}function m(y){d[y]=!0,g(y)}};function n(o){var a={},s=[];return ie(o,function(l){var u=r(a,l),c=u.originalDeps=e(l),f=i(c,o);u.entryCount=f.length,u.entryCount===0&&s.push(l),ie(f,function(d){Mr(u.predecessor,d)<0&&u.predecessor.push(d);var h=r(a,d);Mr(h.successor,d)<0&&h.successor.push(l)})}),{graph:a,noEntryList:s}}function r(o,a){return o[a]||(o[a]={predecessor:[],successor:[]}),o[a]}function i(o,a){var s=[];return ie(o,function(l){Mr(a,l)>=0&&s.push(l)}),s}}function $v(t,e){return mr(mr({},t,!0),e,!0)}const F2t={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},V2t={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var zP="ZH",VG="EN",Ab=VG,Wk={},zG={},W_e=Fr.domSupported?(function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Ab).toUpperCase();return t.indexOf(zP)>-1?zP:Ab})():Ab;function q_e(t,e){t=t.toUpperCase(),zG[t]=new Ci(e),Wk[t]=e}function z2t(t){if(fn(t)){var e=Wk[t.toUpperCase()]||{};return t===zP||t===VG?Jn(e):mr(Jn(e),Jn(Wk[Ab]),!1)}else return mr(Jn(t),Jn(Wk[Ab]),!1)}function M5(t){return zG[t]}function H2t(){return zG[Ab]}q_e(VG,F2t);q_e(zP,V2t);var HG=1e3,jG=HG*60,lx=jG*60,ku=lx*24,Nte=ku*365,gS={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},GT="{yyyy}-{MM}-{dd}",Bte={year:"{yyyy}",month:"{yyyy}-{MM}",day:GT,hour:GT+" "+gS.hour,minute:GT+" "+gS.minute,second:GT+" "+gS.second,millisecond:gS.none},T4=["year","month","day","hour","minute","second","millisecond"],K_e=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Jh(t,e){return t+="","0000".substr(0,e-t.length)+t}function kb(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function j2t(t){return t===kb(t)}function G2t(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function DR(t,e,n,r){var i=Bc(t),o=i[GG(n)](),a=i[Mb(n)]()+1,s=Math.floor((a-1)/3)+1,l=i[NR(n)](),u=i["get"+(n?"UTC":"")+"Day"](),c=i[SC(n)](),f=(c-1)%12+1,d=i[BR(n)](),h=i[$R(n)](),p=i[FR(n)](),v=c>=12?"pm":"am",g=v.toUpperCase(),m=r instanceof Ci?r:M5(r||W_e)||H2t(),y=m.getModel("time"),b=y.get("month"),w=y.get("monthAbbr"),S=y.get("dayOfWeek"),x=y.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,v+"").replace(/{A}/g,g+"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,Jh(o%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,b[a-1]).replace(/{MMM}/g,w[a-1]).replace(/{MM}/g,Jh(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,Jh(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,S[u]).replace(/{ee}/g,x[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Jh(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Jh(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,Jh(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,Jh(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,Jh(p,3)).replace(/{S}/g,p+"")}function U2t(t,e,n,r,i){var o=null;if(fn(n))o=n;else if(qn(n))o=n(t.value,e,{level:t.level});else{var a=yt({},gS);if(t.level>0)for(var s=0;s<T4.length;++s)a[T4[s]]="{primary|"+a[T4[s]]+"}";var l=n?n.inherit===!1?n:Yn(n,a):a,u=Y_e(t.value,i);if(l[u])o=l[u];else if(l.inherit){for(var c=K_e.indexOf(u),s=c-1;s>=0;--s)if(l[u]){o=l[u];break}o=o||a.none}if(Tt(o)){var f=t.level==null?0:t.level>=0?t.level:o.length+t.level;f=Math.min(f,o.length-1),o=o[f]}}return DR(new Date(t.value),o,i,r)}function Y_e(t,e){var n=Bc(t),r=n[Mb(e)]()+1,i=n[NR(e)](),o=n[SC(e)](),a=n[BR(e)](),s=n[$R(e)](),l=n[FR(e)](),u=l===0,c=u&&s===0,f=c&&a===0,d=f&&o===0,h=d&&i===1,p=h&&r===1;return p?"year":h?"month":d?"day":f?"hour":c?"minute":u?"second":"millisecond"}function $te(t,e,n){var r=ri(t)?Bc(t):t;switch(e=e||Y_e(t,n),e){case"year":return r[GG(n)]();case"half-year":return r[Mb(n)]()>=6?1:0;case"quarter":return Math.floor((r[Mb(n)]()+1)/4);case"month":return r[Mb(n)]();case"day":return r[NR(n)]();case"half-day":return r[SC(n)]()/24;case"hour":return r[SC(n)]();case"minute":return r[BR(n)]();case"second":return r[$R(n)]();case"millisecond":return r[FR(n)]()}}function GG(t){return t?"getUTCFullYear":"getFullYear"}function Mb(t){return t?"getUTCMonth":"getMonth"}function NR(t){return t?"getUTCDate":"getDate"}function SC(t){return t?"getUTCHours":"getHours"}function BR(t){return t?"getUTCMinutes":"getMinutes"}function $R(t){return t?"getUTCSeconds":"getSeconds"}function FR(t){return t?"getUTCMilliseconds":"getMilliseconds"}function W2t(t){return t?"setUTCFullYear":"setFullYear"}function X_e(t){return t?"setUTCMonth":"setMonth"}function Z_e(t){return t?"setUTCDate":"setDate"}function J_e(t){return t?"setUTCHours":"setHours"}function Q_e(t){return t?"setUTCMinutes":"setMinutes"}function ewe(t){return t?"setUTCSeconds":"setSeconds"}function twe(t){return t?"setUTCMilliseconds":"setMilliseconds"}function nwe(t){if(!CG(t))return fn(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function rwe(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(n,r){return r.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var R_=pG;function P5(t,e,n){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&pc(c)?c:"-"}function o(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var a=e==="time",s=t instanceof Date;if(a||s){var l=a?Bc(t):t;if(isNaN(+l)){if(s)return"-"}else return DR(l,r,n)}if(e==="ordinal")return UV(t)?i(t):ri(t)&&o(t)?t+"":"-";var u=nd(t);return o(u)?nwe(u):UV(t)?i(t):typeof t=="boolean"?t+"":"-"}var Fte=["a","b","c","d","e","f","g"],A4=function(t,e){return"{"+t+(e??"")+"}"};function iwe(t,e,n){Tt(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],o=0;o<i.length;o++){var a=Fte[o];t=t.replace(A4(a),A4(a,0))}for(var s=0;s<r;s++)for(var l=0;l<i.length;l++){var u=e[s][i[l]];t=t.replace(A4(Fte[l],s),n?Ys(u):u)}return t}function q2t(t,e,n){return ie(e,function(r,i){t=t.replace("{"+i+"}",r)}),t}function K2t(t,e){var n=fn(t)?{color:t,extraCssText:e}:t||{},r=n.color,i=n.type;e=n.extraCssText;var o=n.renderMode||"html";if(!r)return"";if(o==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Ys(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Ys(r)+";"+(e||"")+'"></span>';var a=n.markerId||"markerX";return{renderMode:o,content:"{"+a+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function ty(t,e){return e=e||"transparent",fn(t)?t:Zn(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function HP(t,e){if(e==="_blank"||e==="blank"){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}var qk=ie,owe=["left","right","top","bottom","width","height"],om=[["width","left","right"],["height","top","bottom"]];function UG(t,e,n,r,i){var o=0,a=0;r==null&&(r=1/0),i==null&&(i=1/0);var s=0;e.eachChild(function(l,u){var c=l.getBoundingRect(),f=e.childAt(u+1),d=f&&f.getBoundingRect(),h,p;if(t==="horizontal"){var v=c.width+(d?-d.x+c.x:0);h=o+v,h>r||l.newline?(o=0,h=v,a+=s+n,s=c.height):s=Math.max(s,c.height)}else{var g=c.height+(d?-d.y+c.y:0);p=a+g,p>i||l.newline?(o+=s+n,a=0,p=g,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),t==="horizontal"?o=h+n:a=p+n)})}var Am=UG;hr(UG,"vertical");hr(UG,"horizontal");function Y2t(t,e,n){var r=e.width,i=e.height,o=on(t.left,r),a=on(t.top,i),s=on(t.right,r),l=on(t.bottom,i);return(isNaN(o)||isNaN(parseFloat(t.left)))&&(o=0),(isNaN(s)||isNaN(parseFloat(t.right)))&&(s=r),(isNaN(a)||isNaN(parseFloat(t.top)))&&(a=0),(isNaN(l)||isNaN(parseFloat(t.bottom)))&&(l=i),n=R_(n||0),{width:Math.max(s-o-n[1]-n[3],0),height:Math.max(l-a-n[0]-n[2],0)}}function ha(t,e,n){n=R_(n||0);var r=e.width,i=e.height,o=on(t.left,r),a=on(t.top,i),s=on(t.right,r),l=on(t.bottom,i),u=on(t.width,r),c=on(t.height,i),f=n[2]+n[0],d=n[1]+n[3],h=t.aspect;switch(isNaN(u)&&(u=r-s-d-o),isNaN(c)&&(c=i-l-f-a),h!=null&&(isNaN(u)&&isNaN(c)&&(h>r/i?u=r*.8:c=i*.8),isNaN(u)&&(u=h*c),isNaN(c)&&(c=u/h)),isNaN(o)&&(o=r-s-u-d),isNaN(a)&&(a=i-l-c-f),t.left||t.right){case"center":o=r/2-u/2-n[3];break;case"right":o=r-u-d;break}switch(t.top||t.bottom){case"middle":case"center":a=i/2-c/2-n[0];break;case"bottom":a=i-c-f;break}o=o||0,a=a||0,isNaN(u)&&(u=r-d-o-(s||0)),isNaN(c)&&(c=i-f-a-(l||0));var p=new xr(o+n[3],a+n[0],u,c);return p.margin=n,p}function VR(t,e,n,r,i,o){var a=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(o=o||t,o.x=t.x,o.y=t.y,!a&&!s)return!1;var u;if(l==="raw")u=t.type==="group"?new xr(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(u=t.getBoundingRect(),t.needLocalTransform()){var c=t.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=ha(Yn({width:u.width,height:u.height},e),n,r),d=a?f.x-u.x:0,h=s?f.y-u.y:0;return l==="raw"?(o.x=d,o.y=h):(o.x+=d,o.y+=h),o===t&&t.markRedraw(),!0}function X2t(t,e){return t[om[e][0]]!=null||t[om[e][1]]!=null&&t[om[e][2]]!=null}function xC(t){var e=t.layoutMode||t.constructor.layoutMode;return Zn(e)?e:e?{type:e}:null}function bv(t,e,n){var r=n&&n.ignoreSize;!Tt(r)&&(r=[r,r]);var i=a(om[0],0),o=a(om[1],1);u(om[0],t,i),u(om[1],t,o);function a(c,f){var d={},h=0,p={},v=0,g=2;if(qk(c,function(b){p[b]=t[b]}),qk(c,function(b){s(e,b)&&(d[b]=p[b]=e[b]),l(d,b)&&h++,l(p,b)&&v++}),r[f])return l(e,c[1])?p[c[2]]=null:l(e,c[2])&&(p[c[1]]=null),p;if(v===g||!h)return p;if(h>=g)return d;for(var m=0;m<c.length;m++){var y=c[m];if(!s(d,y)&&s(t,y)){d[y]=t[y];break}}return d}function s(c,f){return c.hasOwnProperty(f)}function l(c,f){return c[f]!=null&&c[f]!=="auto"}function u(c,f,d){qk(c,function(h){f[h]=d[h]})}}function L_(t){return awe({},t)}function awe(t,e){return e&&t&&qk(owe,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var Z2t=Qr(),Gr=(function(t){nt(e,t);function e(n,r,i){var o=t.call(this,n,r,i)||this;return o.uid=I_("ec_cpt_model"),o}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i)},e.prototype.mergeDefaultAndTheme=function(n,r){var i=xC(this),o=i?L_(n):{},a=r.getTheme();mr(n,a.get(this.mainType)),mr(n,this.getDefaultOption()),i&&bv(n,o,i)},e.prototype.mergeOption=function(n,r){mr(this.option,n,!0);var i=xC(this);i&&bv(this.option,n,i)},e.prototype.optionUpdated=function(n,r){},e.prototype.getDefaultOption=function(){var n=this.constructor;if(!zxt(n))return n.defaultOption;var r=Z2t(this);if(!r.defaultOption){for(var i=[],o=n;o;){var a=o.prototype.defaultOption;a&&i.push(a),o=o.superClass}for(var s={},l=i.length-1;l>=0;l--)s=mr(s,i[l],!0);r.defaultOption=s}return r.defaultOption},e.prototype.getReferringComponents=function(n,r){var i=n+"Index",o=n+"Id";return z2(this.ecModel,n,{index:this.get(i,!0),id:this.get(o,!0)},r)},e.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(n){this.option.zlevel=n},e.protoInitialize=(function(){var n=e.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0})(),e})(Ci);s_e(Gr,Ci);CR(Gr);B2t(Gr);$2t(Gr,J2t);function J2t(t){var e=[];return ie(Gr.getClassesByMainType(t),function(n){e=e.concat(n.dependencies||n.prototype.dependencies||[])}),e=kt(e,function(n){return Rf(n).main}),t!=="dataset"&&Mr(e,"dataset")<=0&&e.unshift("dataset"),e}var swe="";typeof navigator<"u"&&(swe=navigator.platform||"");var v0="rgba(0, 0, 0, 0.2)";const Q2t={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:v0,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:v0,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:v0,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:v0,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:v0,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:v0,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:swe.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var lwe=Mn(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),tc="original",Ds="arrayRows",nc="objectRows",cd="keyedColumns",Kp="typedArray",uwe="unknown",Gf="column",D_="row",Ya={Must:1,Might:2,Not:3},cwe=Qr();function eEt(t){cwe(t).datasetMap=Mn()}function fwe(t,e,n){var r={},i=qG(e);if(!i||!t)return r;var o=[],a=[],s=e.ecModel,l=cwe(s).datasetMap,u=i.uid+"_"+n.seriesLayoutBy,c,f;t=t.slice(),ie(t,function(v,g){var m=Zn(v)?v:t[g]={name:v};m.type==="ordinal"&&c==null&&(c=g,f=p(m)),r[m.name]=[]});var d=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});ie(t,function(v,g){var m=v.name,y=p(v);if(c==null){var b=d.valueWayDim;h(r[m],b,y),h(a,b,y),d.valueWayDim+=y}else if(c===g)h(r[m],0,y),h(o,0,y);else{var b=d.categoryWayDim;h(r[m],b,y),h(a,b,y),d.categoryWayDim+=y}});function h(v,g,m){for(var y=0;y<m;y++)v.push(g+y)}function p(v){var g=v.dimsDef;return g?g.length:1}return o.length&&(r.itemName=o),a.length&&(r.seriesName=a),r}function WG(t,e,n){var r={},i=qG(t);if(!i)return r;var o=e.sourceFormat,a=e.dimensionsDefine,s;(o===nc||o===cd)&&ie(a,function(c,f){(Zn(c)?c.name:c)==="name"&&(s=f)});var l=(function(){for(var c={},f={},d=[],h=0,p=Math.min(5,n);h<p;h++){var v=hwe(e.data,o,e.seriesLayoutBy,a,e.startIndex,h);d.push(v);var g=v===Ya.Not;if(g&&c.v==null&&h!==s&&(c.v=h),(c.n==null||c.n===c.v||!g&&d[c.n]===Ya.Not)&&(c.n=h),m(c)&&d[c.n]!==Ya.Not)return c;g||(v===Ya.Might&&f.v==null&&h!==s&&(f.v=h),(f.n==null||f.n===f.v)&&(f.n=h))}function m(y){return y.v!=null&&y.n!=null}return m(c)?c:m(f)?f:null})();if(l){r.value=[l.v];var u=s??l.n;r.itemName=[u],r.seriesName=[u]}return r}function qG(t){var e=t.get("data",!0);if(!e)return z2(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},Qo).models[0]}function tEt(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:z2(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},Qo).models}function dwe(t,e){return hwe(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function hwe(t,e,n,r,i,o){var a,s=5;if(Ol(t))return Ya.Not;var l,u;if(r){var c=r[o];Zn(c)?(l=c.name,u=c.type):fn(c)&&(l=c)}if(u!=null)return u==="ordinal"?Ya.Must:Ya.Not;if(e===Ds){var f=t;if(n===D_){for(var d=f[o],h=0;h<(d||[]).length&&h<s;h++)if((a=w(d[i+h]))!=null)return a}else for(var h=0;h<f.length&&h<s;h++){var p=f[i+h];if(p&&(a=w(p[o]))!=null)return a}}else if(e===nc){var v=t;if(!l)return Ya.Not;for(var h=0;h<v.length&&h<s;h++){var g=v[h];if(g&&(a=w(g[l]))!=null)return a}}else if(e===cd){var m=t;if(!l)return Ya.Not;var d=m[l];if(!d||Ol(d))return Ya.Not;for(var h=0;h<d.length&&h<s;h++)if((a=w(d[h]))!=null)return a}else if(e===tc)for(var y=t,h=0;h<y.length&&h<s;h++){var g=y[h],b=k_(g);if(!Tt(b))return Ya.Not;if((a=w(b[o]))!=null)return a}function w(S){var x=fn(S);if(S!=null&&Number.isFinite(Number(S))&&S!=="")return x?Ya.Might:Ya.Not;if(x&&S!=="-")return Ya.Must}return Ya.Not}var O5=Mn();function nEt(t,e){al(O5.get(t)==null&&e),O5.set(t,e)}function rEt(t,e,n){var r=O5.get(e);if(!r)return n;var i=r(t);return i?n.concat(i):n}var Vte=Qr(),iEt=Qr(),KG=(function(){function t(){}return t.prototype.getColorFromPalette=function(e,n,r){var i=Mi(this.get("color",!0)),o=this.get("colorLayer",!0);return pwe(this,Vte,i,o,e,n,r)},t.prototype.clearColorPalette=function(){aEt(this,Vte)},t})();function I5(t,e,n,r){var i=Mi(t.get(["aria","decal","decals"]));return pwe(t,iEt,i,null,e,n,r)}function oEt(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].length>e)return t[r];return t[n-1]}function pwe(t,e,n,r,i,o,a){o=o||t;var s=e(o),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var c=a==null||!r?n:oEt(r,a);if(c=c||n,!(!c||!c.length)){var f=c[l];return i&&(u[i]=f),s.paletteIdx=(l+1)%c.length,f}}function aEt(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var UT,kw,zte,Hte="\0_ec_inner",sEt=1,YG=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(n,r,i,o,a,s){o=o||{},this.option=null,this._theme=new Ci(o),this._locale=new Ci(a),this._optionManager=s},e.prototype.setOption=function(n,r,i){var o=Ute(r);this._optionManager.setOption(n,i,o),this._resetOption(null,o)},e.prototype.resetOption=function(n,r){return this._resetOption(n,Ute(r))},e.prototype._resetOption=function(n,r){var i=!1,o=this._optionManager;if(!n||n==="recreate"){var a=o.mountOption(n==="recreate");!this.option||n==="recreate"?zte(this,a):(this.restoreData(),this._mergeOption(a,r)),i=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var s=o.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,r))}if(!n||n==="recreate"||n==="media"){var l=o.getMediaOption(this);l.length&&ie(l,function(u){i=!0,this._mergeOption(u,r)},this)}return i},e.prototype.mergeOption=function(n){this._mergeOption(n,null)},e.prototype._mergeOption=function(n,r){var i=this.option,o=this._componentsMap,a=this._componentsCount,s=[],l=Mn(),u=r&&r.replaceMergeMainTypeMap;eEt(this),ie(n,function(f,d){f!=null&&(Gr.hasClass(d)?d&&(s.push(d),l.set(d,!0)):i[d]=i[d]==null?Jn(f):mr(i[d],f,!0))}),u&&u.each(function(f,d){Gr.hasClass(d)&&!l.get(d)&&(s.push(d),l.set(d,!0))}),Gr.topologicalTravel(s,Gr.getAllClassMainTypes(),c,this);function c(f){var d=rEt(this,f,Mi(n[f])),h=o.get(f),p=h?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",v=r_e(h,d,p);Ixt(v,f,Gr),i[f]=null,o.set(f,null),a.set(f,0);var g=[],m=[],y=0,b;ie(v,function(w,S){var x=w.existing,C=w.newOption;if(!C)x&&(x.mergeOption({},this),x.optionUpdated({},!1));else{var E=f==="series",T=Gr.getClass(f,w.keyInfo.subType,!E);if(!T)return;if(f==="tooltip"){if(b)return;b=!0}if(x&&x.constructor===T)x.name=w.keyInfo.name,x.mergeOption(C,this),x.optionUpdated(C,!1);else{var A=yt({componentIndex:S},w.keyInfo);x=new T(C,this,this,A),yt(x,A),w.brandNew&&(x.__requireNewView=!0),x.init(C,this,this),x.optionUpdated(null,!0)}}x?(g.push(x.option),m.push(x),y++):(g.push(void 0),m.push(void 0))},this),i[f]=g,o.set(f,m),a.set(f,y),f==="series"&&UT(this)}this._seriesIndices||UT(this)},e.prototype.getOption=function(){var n=Jn(this.option);return ie(n,function(r,i){if(Gr.hasClass(i)){for(var o=Mi(r),a=o.length,s=!1,l=a-1;l>=0;l--)o[l]&&!yC(o[l])?s=!0:(o[l]=null,!s&&a--);o.length=a,n[i]=o}}),delete n[Hte],n},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(n){this._payload=n},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(n,r){var i=this._componentsMap.get(n);if(i){var o=i[r||0];if(o)return o;if(r==null){for(var a=0;a<i.length;a++)if(i[a])return i[a]}}},e.prototype.queryComponents=function(n){var r=n.mainType;if(!r)return[];var i=n.index,o=n.id,a=n.name,s=this._componentsMap.get(r);if(!s||!s.length)return[];var l;return i!=null?(l=[],ie(Mi(i),function(u){s[u]&&l.push(s[u])})):o!=null?l=jte("id",o,s):a!=null?l=jte("name",a,s):l=yi(s,function(u){return!!u}),Gte(l,n)},e.prototype.findComponents=function(n){var r=n.query,i=n.mainType,o=s(r),a=o?this.queryComponents(o):yi(this._componentsMap.get(i),function(u){return!!u});return l(Gte(a,n));function s(u){var c=i+"Index",f=i+"Id",d=i+"Name";return u&&(u[c]!=null||u[f]!=null||u[d]!=null)?{mainType:i,index:u[c],id:u[f],name:u[d]}:null}function l(u){return n.filter?yi(u,n.filter):u}},e.prototype.eachComponent=function(n,r,i){var o=this._componentsMap;if(qn(n)){var a=r,s=n;o.each(function(f,d){for(var h=0;f&&h<f.length;h++){var p=f[h];p&&s.call(a,d,p,p.componentIndex)}})}else for(var l=fn(n)?o.get(n):Zn(n)?this.findComponents(n):null,u=0;l&&u<l.length;u++){var c=l[u];c&&r.call(i,c,c.componentIndex)}},e.prototype.getSeriesByName=function(n){var r=ca(n,null);return yi(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},e.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},e.prototype.getSeriesByType=function(n){return yi(this._componentsMap.get("series"),function(r){return!!r&&r.subType===n})},e.prototype.getSeries=function(){return yi(this._componentsMap.get("series"),function(n){return!!n})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(n,r){kw(this),ie(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];n.call(r,o,i)},this)},e.prototype.eachRawSeries=function(n,r){ie(this._componentsMap.get("series"),function(i){i&&n.call(r,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(n,r,i){kw(this),ie(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===n&&r.call(i,a,o)},this)},e.prototype.eachRawSeriesByType=function(n,r,i){return ie(this.getSeriesByType(n),r,i)},e.prototype.isSeriesFiltered=function(n){return kw(this),this._seriesIndicesMap.get(n.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(n,r){kw(this);var i=[];ie(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];n.call(r,a,o)&&i.push(o)},this),this._seriesIndices=i,this._seriesIndicesMap=Mn(i)},e.prototype.restoreData=function(n){UT(this);var r=this._componentsMap,i=[];r.each(function(o,a){Gr.hasClass(a)&&i.push(a)}),Gr.topologicalTravel(i,Gr.getAllClassMainTypes(),function(o){ie(r.get(o),function(a){a&&(o!=="series"||!lEt(a,n))&&a.restoreData()})})},e.internalField=(function(){UT=function(n){var r=n._seriesIndices=[];ie(n._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),n._seriesIndicesMap=Mn(r)},kw=function(n){},zte=function(n,r){n.option={},n.option[Hte]=sEt,n._componentsMap=Mn({series:[]}),n._componentsCount=Mn();var i=r.aria;Zn(i)&&i.enabled==null&&(i.enabled=!0),uEt(r,n._theme.option),mr(r,Q2t,!1),n._mergeOption(r,null)}})(),e})(Ci);function lEt(t,e){if(e){var n=e.seriesIndex,r=e.seriesId,i=e.seriesName;return n!=null&&t.componentIndex!==n||r!=null&&t.id!==r||i!=null&&t.name!==i}}function uEt(t,e){var n=t.color&&!t.colorLayer;ie(e,function(r,i){i==="colorLayer"&&n||Gr.hasClass(i)||(typeof r=="object"?t[i]=t[i]?mr(t[i],r,!1):Jn(r):t[i]==null&&(t[i]=r))})}function jte(t,e,n){if(Tt(e)){var r=Mn();return ie(e,function(o){if(o!=null){var a=ca(o,null);a!=null&&r.set(o,!0)}}),yi(n,function(o){return o&&r.get(o[t])})}else{var i=ca(e,null);return yi(n,function(o){return o&&i!=null&&o[t]===i})}}function Gte(t,e){return e.hasOwnProperty("subType")?yi(t,function(n){return n&&n.subType===e.subType}):t}function Ute(t){var e=Mn();return t&&ie(Mi(t.replaceMerge),function(n){e.set(n,!0)}),{replaceMergeMainTypeMap:e}}ia(YG,KG);var cEt=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],vwe=(function(){function t(e){ie(cEt,function(n){this[n]=vn(e[n],e)},this)}return t})(),k4={},K2=(function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(e,n){var r=[];ie(k4,function(i,o){var a=i.create(e,n);r=r.concat(a||[])}),this._coordinateSystems=r},t.prototype.update=function(e,n){ie(this._coordinateSystems,function(r){r.update&&r.update(e,n)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(e,n){k4[e]=n},t.get=function(e){return k4[e]},t})(),fEt=/^(min|max)?(.+)$/,dEt=(function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,n,r){e&&(ie(Mi(e.series),function(a){a&&a.data&&Ol(a.data)&&TP(a.data)}),ie(Mi(e.dataset),function(a){a&&a.source&&Ol(a.source)&&TP(a.source)})),e=Jn(e);var i=this._optionBackup,o=hEt(e,n,!i);this._newBaseOption=o.baseOption,i?(o.timelineOptions.length&&(i.timelineOptions=o.timelineOptions),o.mediaList.length&&(i.mediaList=o.mediaList),o.mediaDefault&&(i.mediaDefault=o.mediaDefault)):this._optionBackup=o},t.prototype.mountOption=function(e){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],Jn(e?n.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var n,r=this._timelineOptions;if(r.length){var i=e.getComponent("timeline");i&&(n=Jn(r[i.getCurrentIndex()]))}return n},t.prototype.getMediaOption=function(e){var n=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,a=[],s=[];if(!i.length&&!o)return s;for(var l=0,u=i.length;l<u;l++)pEt(i[l].query,n,r)&&a.push(l);return!a.length&&o&&(a=[-1]),a.length&&!gEt(a,this._currentMediaIndices)&&(s=kt(a,function(c){return Jn(c===-1?o.option:i[c].option)})),this._currentMediaIndices=a,s},t})();function hEt(t,e,n){var r=[],i,o,a=t.baseOption,s=t.timeline,l=t.options,u=t.media,c=!!t.media,f=!!(l||s||a&&a.timeline);a?(o=a,o.timeline||(o.timeline=s)):((f||c)&&(t.options=t.media=null),o=t),c&&Tt(u)&&ie(u,function(h){h&&h.option&&(h.query?r.push(h):i||(i=h))}),d(o),ie(l,function(h){return d(h)}),ie(r,function(h){return d(h.option)});function d(h){ie(e,function(p){p(h,n)})}return{baseOption:o,timelineOptions:l||[],mediaDefault:i,mediaList:r}}function pEt(t,e,n){var r={width:e,height:n,aspectratio:e/n},i=!0;return ie(t,function(o,a){var s=a.match(fEt);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();vEt(r[u],o,l)||(i=!1)}}),i}function vEt(t,e,n){return n==="min"?t>=e:n==="max"?t<=e:t===e}function gEt(t,e){return t.join(",")===e.join(",")}var ac=ie,CC=Zn,Wte=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function M4(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=Wte.length;n<r;n++){var i=Wte[n],o=e.normal,a=e.emphasis;o&&o[i]&&(t[i]=t[i]||{},t[i].normal?mr(t[i].normal,o[i]):t[i].normal=o[i],o[i]=null),a&&a[i]&&(t[i]=t[i]||{},t[i].emphasis?mr(t[i].emphasis,a[i]):t[i].emphasis=a[i],a[i]=null)}}function Ss(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,i=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,Yn(t[e],r)):t[e]=r),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i,i.focus&&(t.emphasis.focus=i.focus),i.blurScope&&(t.emphasis.blurScope=i.blurScope))}}function mS(t){Ss(t,"itemStyle"),Ss(t,"lineStyle"),Ss(t,"areaStyle"),Ss(t,"label"),Ss(t,"labelLine"),Ss(t,"upperLabel"),Ss(t,"edgeLabel")}function Xo(t,e){var n=CC(t)&&t[e],r=CC(n)&&n.textStyle;if(r)for(var i=0,o=Jee.length;i<o;i++){var a=Jee[i];r.hasOwnProperty(a)&&(n[a]=r[a])}}function mu(t){t&&(mS(t),Xo(t,"label"),t.emphasis&&Xo(t.emphasis,"label"))}function mEt(t){if(CC(t)){M4(t),mS(t),Xo(t,"label"),Xo(t,"upperLabel"),Xo(t,"edgeLabel"),t.emphasis&&(Xo(t.emphasis,"label"),Xo(t.emphasis,"upperLabel"),Xo(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(M4(e),mu(e));var n=t.markLine;n&&(M4(n),mu(n));var r=t.markArea;r&&mu(r);var i=t.data;if(t.type==="graph"){i=i||t.nodes;var o=t.links||t.edges;if(o&&!Ol(o))for(var a=0;a<o.length;a++)mu(o[a]);ie(t.categories,function(u){mS(u)})}if(i&&!Ol(i))for(var a=0;a<i.length;a++)mu(i[a]);if(e=t.markPoint,e&&e.data)for(var s=e.data,a=0;a<s.length;a++)mu(s[a]);if(n=t.markLine,n&&n.data)for(var l=n.data,a=0;a<l.length;a++)Tt(l[a])?(mu(l[a][0]),mu(l[a][1])):mu(l[a]);t.type==="gauge"?(Xo(t,"axisLabel"),Xo(t,"title"),Xo(t,"detail")):t.type==="treemap"?(Ss(t.breadcrumb,"itemStyle"),ie(t.levels,function(u){mS(u)})):t.type==="tree"&&mS(t.leaves)}}function Cd(t){return Tt(t)?t:t?[t]:[]}function qte(t){return(Tt(t)?t[0]:t)||{}}function yEt(t,e){ac(Cd(t.series),function(r){CC(r)&&mEt(r)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),ac(n,function(r){ac(Cd(t[r]),function(i){i&&(Xo(i,"axisLabel"),Xo(i.axisPointer,"label"))})}),ac(Cd(t.parallel),function(r){var i=r&&r.parallelAxisDefault;Xo(i,"axisLabel"),Xo(i&&i.axisPointer,"label")}),ac(Cd(t.calendar),function(r){Ss(r,"itemStyle"),Xo(r,"dayLabel"),Xo(r,"monthLabel"),Xo(r,"yearLabel")}),ac(Cd(t.radar),function(r){Xo(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),ac(Cd(t.geo),function(r){CC(r)&&(mu(r),ac(Cd(r.regions),function(i){mu(i)}))}),ac(Cd(t.timeline),function(r){mu(r),Ss(r,"label"),Ss(r,"itemStyle"),Ss(r,"controlStyle",!0);var i=r.data;Tt(i)&&ie(i,function(o){Zn(o)&&(Ss(o,"label"),Ss(o,"itemStyle"))})}),ac(Cd(t.toolbox),function(r){Ss(r,"iconStyle"),ac(r.feature,function(i){Ss(i,"iconStyle")})}),Xo(qte(t.axisPointer),"label"),Xo(qte(t.tooltip).axisPointer,"label")}function bEt(t,e){for(var n=e.split(","),r=t,i=0;i<n.length&&(r=r&&r[n[i]],r!=null);i++);return r}function _Et(t,e,n,r){for(var i=e.split(","),o=t,a,s=0;s<i.length-1;s++)a=i[s],o[a]==null&&(o[a]={}),o=o[a];o[i[s]]==null&&(o[i[s]]=n)}function Kte(t){t&&ie(wEt,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var wEt=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],SEt=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],P4=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Mw(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<P4.length;n++){var r=P4[n][1],i=P4[n][0];e[r]!=null&&(e[i]=e[r])}}function Yte(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function Xte(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function xEt(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function gwe(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n]),t[n]&&gwe(t[n].children,e)}function mwe(t,e){yEt(t,e),t.series=Mi(t.series),ie(t.series,function(n){if(Zn(n)){var r=n.type;if(r==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(r==="pie"||r==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),Yte(n.label);var i=n.data;if(i&&!Ol(i))for(var o=0;o<i.length;o++)Yte(i[o]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(r==="gauge"){var a=bEt(n,"pointer.color");a!=null&&_Et(n,"itemStyle.color",a)}else if(r==="bar"){Mw(n),Mw(n.backgroundStyle),Mw(n.emphasis);var i=n.data;if(i&&!Ol(i))for(var o=0;o<i.length;o++)typeof i[o]=="object"&&(Mw(i[o]),Mw(i[o]&&i[o].emphasis))}else if(r==="sunburst"){var s=n.highlightPolicy;s&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=s)),Xte(n),gwe(n.data,Xte)}else r==="graph"||r==="sankey"?xEt(n):r==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&Yn(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),Kte(n)}}),t.dataRange&&(t.visualMap=t.dataRange),ie(SEt,function(n){var r=t[n];r&&(Tt(r)||(r=[r]),ie(r,function(i){Kte(i)}))})}function CEt(t){var e=Mn();t.eachSeries(function(n){var r=n.get("stack");if(r){var i=e.get(r)||e.set(r,[]),o=n.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:n};if(!a.stackedDimension||!(a.isStackedByIndex||a.stackedByDimension))return;i.length&&o.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(a)}}),e.each(EEt)}function EEt(t){ie(t,function(e,n){var r=[],i=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(u,c,f){var d=a.get(e.stackedDimension,f);if(isNaN(d))return i;var h,p;s?p=a.getRawIndex(f):h=a.get(e.stackedByDimension,f);for(var v=NaN,g=n-1;g>=0;g--){var m=t[g];if(s||(p=m.data.rawIndexOf(m.stackedByDimension,h)),p>=0){var y=m.data.getByRawIndex(m.stackResultDimension,p);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&d>=0&&y>0||l==="samesign"&&d<=0&&y<0){d=Sxt(d,y),v=y;break}}}return r[0]=d,r[1]=v,r})})}var zR=(function(){function t(e){this.data=e.data||(e.sourceFormat===cd?{}:[]),this.sourceFormat=e.sourceFormat||uwe,this.seriesLayoutBy=e.seriesLayoutBy||Gf,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var n=this.dimensionsDefine=e.dimensionsDefine;if(n)for(var r=0;r<n.length;r++){var i=n[r];i.type==null&&dwe(this,r)===Ya.Must&&(i.type="ordinal")}}return t})();function XG(t){return t instanceof zR}function R5(t,e,n){n=n||ywe(t);var r=e.seriesLayoutBy,i=AEt(t,n,r,e.sourceHeader,e.dimensions),o=new zR({data:t,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Jn(e)});return o}function ZG(t){return new zR({data:t,sourceFormat:Ol(t)?Kp:tc})}function TEt(t){return new zR({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:Jn(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function ywe(t){var e=uwe;if(Ol(t))e=Kp;else if(Tt(t)){t.length===0&&(e=Ds);for(var n=0,r=t.length;n<r;n++){var i=t[n];if(i!=null){if(Tt(i)||Ol(i)){e=Ds;break}else if(Zn(i)){e=nc;break}}}}else if(Zn(t)){for(var o in t)if(Cn(t,o)&&Ls(t[o])){e=cd;break}}return e}function AEt(t,e,n,r,i){var o,a;if(!t)return{dimensionsDefine:Zte(i),startIndex:a,dimensionsDetectedCount:o};if(e===Ds){var s=t;r==="auto"||r==null?Jte(function(u){u!=null&&u!=="-"&&(fn(u)?a==null&&(a=1):a=0)},n,s,10):a=ri(r)?r:r?1:0,!i&&a===1&&(i=[],Jte(function(u,c){i[c]=u!=null?u+"":""},n,s,1/0)),o=i?i.length:n===D_?s.length:s[0]?s[0].length:null}else if(e===nc)i||(i=kEt(t));else if(e===cd)i||(i=[],ie(t,function(u,c){i.push(c)}));else if(e===tc){var l=k_(t[0]);o=Tt(l)&&l.length||1}return{startIndex:a,dimensionsDefine:Zte(i),dimensionsDetectedCount:o}}function kEt(t){for(var e=0,n;e<t.length&&!(n=t[e++]););if(n)return Ur(n)}function Zte(t){if(t){var e=Mn();return kt(t,function(n,r){n=Zn(n)?n:{name:n};var i={name:n.name,displayName:n.displayName,type:n.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var o=e.get(i.name);return o?i.name+="-"+o.count++:e.set(i.name,{count:1}),i})}}function Jte(t,e,n,r){if(e===D_)for(var i=0;i<n.length&&i<r;i++)t(n[i]?n[i][0]:null,i);else for(var o=n[0]||[],i=0;i<o.length&&i<r;i++)t(o[i],i)}function bwe(t){var e=t.sourceFormat;return e===nc||e===cd}var yg,bg,_g,Qte,ene,_we=(function(){function t(e,n){var r=XG(e)?e:ZG(e);this._source=r;var i=this._data=r.data;r.sourceFormat===Kp&&(this._offset=0,this._dimSize=n,this._data=i),ene(this,i,r)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,n){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=(function(){var e=t.prototype;e.pure=!1,e.persistent=!0})(),t.internalField=(function(){var e;ene=function(a,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,d=l.dimensionsDefine,h=Qte[JG(u,c)];if(yt(a,h),u===Kp)a.getItem=n,a.count=i,a.fillStorage=r;else{var p=wwe(u,c);a.getItem=vn(p,null,s,f,d);var v=Swe(u,c);a.count=vn(v,null,s,f,d)}};var n=function(a,s){a=a-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*a,f=0;f<u;f++)s[f]=l[c+f];return s},r=function(a,s,l,u){for(var c=this._data,f=this._dimSize,d=0;d<f;d++){for(var h=u[d],p=h[0]==null?1/0:h[0],v=h[1]==null?-1/0:h[1],g=s-a,m=l[d],y=0;y<g;y++){var b=c[y*f+d];m[a+y]=b,b<p&&(p=b),b>v&&(v=b)}h[0]=p,h[1]=v}},i=function(){return this._data?this._data.length/this._dimSize:0};Qte=(e={},e[Ds+"_"+Gf]={pure:!0,appendData:o},e[Ds+"_"+D_]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[nc]={pure:!0,appendData:o},e[cd]={pure:!0,appendData:function(a){var s=this._data;ie(a,function(l,u){for(var c=s[u]||(s[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},e[tc]={appendData:o},e[Kp]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},e);function o(a){for(var s=0;s<a.length;s++)this._data.push(a[s])}})(),t})(),tne=function(t,e,n,r){return t[r]},MEt=(yg={},yg[Ds+"_"+Gf]=function(t,e,n,r){return t[r+e]},yg[Ds+"_"+D_]=function(t,e,n,r,i){r+=e;for(var o=i||[],a=t,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[r]:null}return o},yg[nc]=tne,yg[cd]=function(t,e,n,r,i){for(var o=i||[],a=0;a<n.length;a++){var s=n[a].name,l=t[s];o[a]=l?l[r]:null}return o},yg[tc]=tne,yg);function wwe(t,e){var n=MEt[JG(t,e)];return n}var nne=function(t,e,n){return t.length},PEt=(bg={},bg[Ds+"_"+Gf]=function(t,e,n){return Math.max(0,t.length-e)},bg[Ds+"_"+D_]=function(t,e,n){var r=t[0];return r?Math.max(0,r.length-e):0},bg[nc]=nne,bg[cd]=function(t,e,n){var r=n[0].name,i=t[r];return i?i.length:0},bg[tc]=nne,bg);function Swe(t,e){var n=PEt[JG(t,e)];return n}var O4=function(t,e,n){return t[e]},OEt=(_g={},_g[Ds]=O4,_g[nc]=function(t,e,n){return t[n]},_g[cd]=O4,_g[tc]=function(t,e,n){var r=k_(t);return r instanceof Array?r[e]:r},_g[Kp]=O4,_g);function xwe(t){var e=OEt[t];return e}function JG(t,e){return t===Ds?t+"_"+e:t}function L1(t,e,n){if(t){var r=t.getRawDataItem(e);if(r!=null){var i=t.getStore(),o=i.getSource().sourceFormat;if(n!=null){var a=t.getDimensionIndex(n),s=i.getDimensionProperty(a);return xwe(o)(r,a,s)}else{var l=r;return o===tc&&(l=k_(r)),l}}}}var IEt=/\{@(.+?)\}/g,HR=(function(){function t(){}return t.prototype.getDataParams=function(e,n){var r=this.getData(n),i=this.getRawValue(e,n),o=r.getRawIndex(e),a=r.getName(e),s=r.getRawDataItem(e),l=r.getItemVisual(e,"style"),u=l&&l[r.getItemVisual(e,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,d=f==="series",h=r.userOutput&&r.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:a,dataIndex:o,data:s,dataType:n,value:i,color:u,borderColor:c,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,n,r,i,o,a){n=n||"normal";var s=this.getData(r),l=this.getDataParams(e,r);if(a&&(l.value=a.interpolatedValue),i!=null&&Tt(l.value)&&(l.value=l.value[i]),!o){var u=s.getItemModel(e);o=u.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(qn(o))return l.status=n,l.dimensionIndex=i,o(l);if(fn(o)){var c=iwe(o,l);return c.replace(IEt,function(f,d){var h=d.length,p=d;p.charAt(0)==="["&&p.charAt(h-1)==="]"&&(p=+p.slice(1,h-1));var v=L1(s,e,p);if(a&&Tt(a.interpolatedValue)){var g=s.getDimensionIndex(p);g>=0&&(v=a.interpolatedValue[g])}return v!=null?v+"":""})}},t.prototype.getRawValue=function(e,n){return L1(this.getData(n),e)},t.prototype.formatTooltip=function(e,n,r){},t})();function rne(t){var e,n;return Zn(t)?t.type&&(n=t):e=t,{text:e,frag:n}}function ux(t){return new REt(t)}var REt=(function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var n=this._upstream,r=e&&e.skip;if(this._dirty&&n){var i=this.context;i.data=i.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!r&&(o=this._plan(this.context));var a=c(this._modBy),s=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;(a!==l||s!==u)&&(o="reset");function c(y){return!(y>=1)&&(y=1),y}var f;(this._dirty||o==="reset")&&(this._dirty=!1,f=this._doReset(r)),this._modBy=l,this._modDataCount=u;var d=e&&e.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,p=Math.min(d!=null?this._dueIndex+d:1/0,this._dueEnd);if(!r&&(f||h<p)){var v=this._progress;if(Tt(v))for(var g=0;g<v.length;g++)this._doProgress(v[g],h,p,l,u);else this._doProgress(v,h,p,l,u)}this._dueIndex=p;var m=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,n,r,i,o){ine.reset(n,r,i,o),this._callingProgress=e,this._callingProgress({start:n,end:r,count:r-n,next:ine.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,r;!e&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(r=n.forceFirstProgress,n=n.progress),Tt(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t})(),ine=(function(){var t,e,n,r,i,o={reset:function(l,u,c,f){e=l,t=u,n=c,r=f,i=Math.ceil(r/n),o.next=n>1&&r>0?s:a}};return o;function a(){return e<t?e++:null}function s(){var l=e%i*n+Math.ceil(e/i),u=e>=t?null:l<r?l:e;return e++,u}})();function Yp(t,e){var n=e&&e.type;return n==="ordinal"?t:(n==="time"&&!ri(t)&&t!=null&&t!=="-"&&(t=+Bc(t)),t==null||t===""?NaN:Number(t))}var LEt=Mn({number:function(t){return parseFloat(t)},time:function(t){return+Bc(t)},trim:function(t){return fn(t)?pc(t):t}});function Cwe(t){return LEt.get(t)}var Ewe={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},DEt=(function(){function t(e,n){if(!ri(n)){var r="";mi(r)}this._opFn=Ewe[e],this._rvalFloat=nd(n)}return t.prototype.evaluate=function(e){return ri(e)?this._opFn(e,this._rvalFloat):this._opFn(nd(e),this._rvalFloat)},t})(),Twe=(function(){function t(e,n){var r=e==="desc";this._resultLT=r?1:-1,n==null&&(n=r?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return t.prototype.evaluate=function(e,n){var r=ri(e)?e:nd(e),i=ri(n)?n:nd(n),o=isNaN(r),a=isNaN(i);if(o&&(r=this._incomparable),a&&(i=this._incomparable),o&&a){var s=fn(e),l=fn(n);s&&(r=l?e:0),l&&(i=s?n:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},t})(),NEt=(function(){function t(e,n){this._rval=n,this._isEQ=e,this._rvalTypeof=typeof n,this._rvalFloat=nd(n)}return t.prototype.evaluate=function(e){var n=e===this._rval;if(!n){var r=typeof e;r!==this._rvalTypeof&&(r==="number"||this._rvalTypeof==="number")&&(n=nd(e)===this._rvalFloat)}return this._isEQ?n:!n},t})();function BEt(t,e){return t==="eq"||t==="ne"?new NEt(t==="eq",e):Cn(Ewe,t)?new DEt(t,e):null}var $Et=(function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,n){},t.prototype.retrieveValueFromItem=function(e,n){},t.prototype.convertValue=function(e,n){return Yp(e,n)},t})();function FEt(t,e){var n=new $Et,r=t.data,i=n.sourceFormat=t.sourceFormat,o=t.startIndex,a="";t.seriesLayoutBy!==Gf&&mi(a);var s=[],l={},u=t.dimensionsDefine;if(u)ie(u,function(v,g){var m=v.name,y={index:g,name:m,displayName:v.displayName};if(s.push(y),m!=null){var b="";Cn(l,m)&&mi(b),l[m]=y}});else for(var c=0;c<t.dimensionsDetectedCount;c++)s.push({index:c});var f=wwe(i,Gf);e.__isBuiltIn&&(n.getRawDataItem=function(v){return f(r,o,s,v)},n.getRawData=vn(VEt,null,t)),n.cloneRawData=vn(zEt,null,t);var d=Swe(i,Gf);n.count=vn(d,null,r,o,s);var h=xwe(i);n.retrieveValue=function(v,g){var m=f(r,o,s,v);return p(m,g)};var p=n.retrieveValueFromItem=function(v,g){if(v!=null){var m=s[g];if(m)return h(v,g,m.name)}};return n.getDimensionInfo=vn(HEt,null,s,l),n.cloneAllDimensionInfo=vn(jEt,null,s),n}function VEt(t){var e=t.sourceFormat;if(!QG(e)){var n="";mi(n)}return t.data}function zEt(t){var e=t.sourceFormat,n=t.data;if(!QG(e)){var r="";mi(r)}if(e===Ds){for(var i=[],o=0,a=n.length;o<a;o++)i.push(n[o].slice());return i}else if(e===nc){for(var i=[],o=0,a=n.length;o<a;o++)i.push(yt({},n[o]));return i}}function HEt(t,e,n){if(n!=null){if(ri(n)||!isNaN(n)&&!Cn(e,n))return t[n];if(Cn(e,n))return e[n]}}function jEt(t){return Jn(t)}var Awe=Mn();function GEt(t){t=Jn(t);var e=t.type,n="";e||mi(n);var r=e.split(":");r.length!==2&&mi(n);var i=!1;r[0]==="echarts"&&(e=r[1],i=!0),t.__isBuiltIn=i,Awe.set(e,t)}function UEt(t,e,n){var r=Mi(t),i=r.length,o="";i||mi(o);for(var a=0,s=i;a<s;a++){var l=r[a];e=WEt(l,e),a!==s-1&&(e.length=Math.max(e.length,1))}return e}function WEt(t,e,n,r){var i="";e.length||mi(i),Zn(t)||mi(i);var o=t.type,a=Awe.get(o);a||mi(i);var s=kt(e,function(u){return FEt(u,a)}),l=Mi(a.transform({upstream:s[0],upstreamList:s,config:Jn(t.config)}));return kt(l,function(u,c){var f="";Zn(u)||mi(f),u.data||mi(f);var d=ywe(u.data);QG(d)||mi(f);var h,p=e[0];if(p&&c===0&&!u.dimensions){var v=p.startIndex;v&&(u.data=p.data.slice(0,v).concat(u.data)),h={seriesLayoutBy:Gf,sourceHeader:v,dimensions:p.metaRawOption.dimensions}}else h={seriesLayoutBy:Gf,sourceHeader:0,dimensions:u.dimensions};return R5(u.data,h,null)})}function QG(t){return t===Ds||t===nc}var jR="undefined",qEt=typeof Uint32Array===jR?Array:Uint32Array,KEt=typeof Uint16Array===jR?Array:Uint16Array,kwe=typeof Int32Array===jR?Array:Int32Array,one=typeof Float64Array===jR?Array:Float64Array,Mwe={float:one,int:kwe,ordinal:Array,number:Array,time:one},I4;function g0(t){return t>65535?qEt:KEt}function m0(){return[1/0,-1/0]}function YEt(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function ane(t,e,n,r,i){var o=Mwe[n||"float"];if(i){var a=t[e],s=a&&a.length;if(s!==r){for(var l=new o(r),u=0;u<s;u++)l[u]=a[u];t[e]=l}}else t[e]=new o(r)}var L5=(function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Mn()}return t.prototype.initData=function(e,n,r){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),o=this.defaultDimValueGetter=I4[i.sourceFormat];this._dimValueGetter=r||o,this._rawExtent=[],bwe(i),this._dimensions=kt(n,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,n){var r=this._calcDimNameToIdx,i=this._dimensions,o=r.get(e);if(o!=null){if(i[o].type===n)return o}else o=i.length;return i[o]={type:n},r.set(e,o),this._chunks[o]=new Mwe[n||"float"](this._rawCount),this._rawExtent[o]=m0(),o},t.prototype.collectOrdinalMeta=function(e,n){var r=this._chunks[e],i=this._dimensions[e],o=this._rawExtent,a=i.ordinalOffset||0,s=r.length;a===0&&(o[e]=m0());for(var l=o[e],u=a;u<s;u++){var c=r[u]=n.parseAndCollect(r[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}i.ordinalMeta=n,i.ordinalOffset=s,i.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var n=this._dimensions[e],r=n.ordinalMeta;return r},t.prototype.getDimensionProperty=function(e){var n=this._dimensions[e];return n&&n.property},t.prototype.appendData=function(e){var n=this._provider,r=this.count();n.appendData(e);var i=n.count();return n.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},t.prototype.appendValues=function(e,n){for(var r=this._chunks,i=this._dimensions,o=i.length,a=this._rawExtent,s=this.count(),l=s+Math.max(e.length,n||0),u=0;u<o;u++){var c=i[u];ane(r,u,c.type,l,!0)}for(var f=[],d=s;d<l;d++)for(var h=d-s,p=0;p<o;p++){var c=i[p],v=I4.arrayRows.call(this,e[h]||f,c.property,h,p);r[p][d]=v;var g=a[p];v<g[0]&&(g[0]=v),v>g[1]&&(g[1]=v)}return this._rawCount=this._count=l,{start:s,end:l}},t.prototype._initDataFromProvider=function(e,n,r){for(var i=this._provider,o=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,u=kt(a,function(y){return y.property}),c=0;c<s;c++){var f=a[c];l[c]||(l[c]=m0()),ane(o,c,f.type,n,r)}if(i.fillStorage)i.fillStorage(e,n,o,l);else for(var d=[],h=e;h<n;h++){d=i.getItem(h,d);for(var p=0;p<s;p++){var v=o[p],g=this._dimValueGetter(d,u[p],h,p);v[h]=g;var m=l[p];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=n,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,n){if(!(n>=0&&n<this._count))return NaN;var r=this._chunks[e];return r?r[this.getRawIndex(n)]:NaN},t.prototype.getValues=function(e,n){var r=[],i=[];if(n==null){n=e,e=[];for(var o=0;o<this._dimensions.length;o++)i.push(o)}else i=e;for(var o=0,a=i.length;o<a;o++)r.push(this.get(i[o],n));return r},t.prototype.getByRawIndex=function(e,n){if(!(n>=0&&n<this._rawCount))return NaN;var r=this._chunks[e];return r?r[n]:NaN},t.prototype.getSum=function(e){var n=this._chunks[e],r=0;if(n)for(var i=0,o=this.count();i<o;i++){var a=this.get(e,i);isNaN(a)||(r+=a)}return r},t.prototype.getMedian=function(e){var n=[];this.each([e],function(o){isNaN(o)||n.push(o)});var r=n.sort(function(o,a){return o-a}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var n=this._indices,r=n[e];if(r!=null&&r<this._count&&r===e)return e;for(var i=0,o=this._count-1;i<=o;){var a=(i+o)/2|0;if(n[a]<e)i=a+1;else if(n[a]>e)o=a-1;else return a}return-1},t.prototype.indicesOfNearest=function(e,n,r){var i=this._chunks,o=i[e],a=[];if(!o)return a;r==null&&(r=1/0);for(var s=1/0,l=-1,u=0,c=0,f=this.count();c<f;c++){var d=this.getRawIndex(c),h=n-o[d],p=Math.abs(h);p<=r&&((p<s||p===s&&h>=0&&l<0)&&(s=p,l=h,u=0),h===l&&(a[u++]=c))}return a.length=u,a},t.prototype.getIndices=function(){var e,n=this._indices;if(n){var r=n.constructor,i=this._count;if(r===Array){e=new r(i);for(var o=0;o<i;o++)e[o]=n[o]}else e=new r(n.buffer,0,i)}else{var r=g0(this._rawCount);e=new r(this.count());for(var o=0;o<e.length;o++)e[o]=o}return e},t.prototype.filter=function(e,n){if(!this._count)return this;for(var r=this.clone(),i=r.count(),o=g0(r._rawCount),a=new o(i),s=[],l=e.length,u=0,c=e[0],f=r._chunks,d=0;d<i;d++){var h=void 0,p=r.getRawIndex(d);if(l===0)h=n(d);else if(l===1){var v=f[c][p];h=n(v,d)}else{for(var g=0;g<l;g++)s[g]=f[e[g]][p];s[g]=d,h=n.apply(null,s)}h&&(a[u++]=p)}return u<i&&(r._indices=a),r._count=u,r._extent=[],r._updateGetRawIdx(),r},t.prototype.selectRange=function(e){var n=this.clone(),r=n._count;if(!r)return this;var i=Ur(e),o=i.length;if(!o)return this;var a=n.count(),s=g0(n._rawCount),l=new s(a),u=0,c=i[0],f=e[c][0],d=e[c][1],h=n._chunks,p=!1;if(!n._indices){var v=0;if(o===1){for(var g=h[i[0]],m=0;m<r;m++){var y=g[m];(y>=f&&y<=d||isNaN(y))&&(l[u++]=v),v++}p=!0}else if(o===2){for(var g=h[i[0]],b=h[i[1]],w=e[i[1]][0],S=e[i[1]][1],m=0;m<r;m++){var y=g[m],x=b[m];(y>=f&&y<=d||isNaN(y))&&(x>=w&&x<=S||isNaN(x))&&(l[u++]=v),v++}p=!0}}if(!p)if(o===1)for(var m=0;m<a;m++){var C=n.getRawIndex(m),y=h[i[0]][C];(y>=f&&y<=d||isNaN(y))&&(l[u++]=C)}else for(var m=0;m<a;m++){for(var E=!0,C=n.getRawIndex(m),T=0;T<o;T++){var A=i[T],y=h[A][C];(y<e[A][0]||y>e[A][1])&&(E=!1)}E&&(l[u++]=n.getRawIndex(m))}return u<a&&(n._indices=l),n._count=u,n._extent=[],n._updateGetRawIdx(),n},t.prototype.map=function(e,n){var r=this.clone(e);return this._updateDims(r,e,n),r},t.prototype.modify=function(e,n){this._updateDims(this,e,n)},t.prototype._updateDims=function(e,n,r){for(var i=e._chunks,o=[],a=n.length,s=e.count(),l=[],u=e._rawExtent,c=0;c<n.length;c++)u[n[c]]=m0();for(var f=0;f<s;f++){for(var d=e.getRawIndex(f),h=0;h<a;h++)l[h]=i[n[h]][d];l[a]=f;var p=r&&r.apply(null,l);if(p!=null){typeof p!="object"&&(o[0]=p,p=o);for(var c=0;c<p.length;c++){var v=n[c],g=p[c],m=u[v],y=i[v];y&&(y[d]=g),g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}}},t.prototype.lttbDownSample=function(e,n){var r=this.clone([e],!0),i=r._chunks,o=i[e],a=this.count(),s=0,l=Math.floor(1/n),u=this.getRawIndex(0),c,f,d,h=new(g0(this._rawCount))(Math.min((Math.ceil(a/l)+2)*2,a));h[s++]=u;for(var p=1;p<a-1;p+=l){for(var v=Math.min(p+l,a-1),g=Math.min(p+l*2,a),m=(g+v)/2,y=0,b=v;b<g;b++){var w=this.getRawIndex(b),S=o[w];isNaN(S)||(y+=S)}y/=g-v;var x=p,C=Math.min(p+l,a),E=p-1,T=o[u];c=-1,d=x;for(var A=-1,k=0,b=x;b<C;b++){var w=this.getRawIndex(b),S=o[w];if(isNaN(S)){k++,A<0&&(A=w);continue}f=Math.abs((E-m)*(S-T)-(E-b)*(y-T)),f>c&&(c=f,d=w)}k>0&&k<C-x&&(h[s++]=Math.min(A,d),d=Math.max(A,d)),h[s++]=d,u=d}return h[s++]=this.getRawIndex(a-1),r._count=s,r._indices=h,r.getRawIndex=this._getRawIdx,r},t.prototype.minmaxDownSample=function(e,n){for(var r=this.clone([e],!0),i=r._chunks,o=Math.floor(1/n),a=i[e],s=this.count(),l=new(g0(this._rawCount))(Math.ceil(s/o)*2),u=0,c=0;c<s;c+=o){var f=c,d=a[this.getRawIndex(f)],h=c,p=a[this.getRawIndex(h)],v=o;c+o>s&&(v=s-c);for(var g=0;g<v;g++){var m=this.getRawIndex(c+g),y=a[m];y<d&&(d=y,f=c+g),y>p&&(p=y,h=c+g)}var b=this.getRawIndex(f),w=this.getRawIndex(h);f<h?(l[u++]=b,l[u++]=w):(l[u++]=w,l[u++]=b)}return r._count=u,r._indices=l,r._updateGetRawIdx(),r},t.prototype.downSample=function(e,n,r,i){for(var o=this.clone([e],!0),a=o._chunks,s=[],l=Math.floor(1/n),u=a[e],c=this.count(),f=o._rawExtent[e]=m0(),d=new(g0(this._rawCount))(Math.ceil(c/l)),h=0,p=0;p<c;p+=l){l>c-p&&(l=c-p,s.length=l);for(var v=0;v<l;v++){var g=this.getRawIndex(p+v);s[v]=u[g]}var m=r(s),y=this.getRawIndex(Math.min(p+i(s,m)||0,c-1));u[y]=m,m<f[0]&&(f[0]=m),m>f[1]&&(f[1]=m),d[h++]=y}return o._count=h,o._indices=d,o._updateGetRawIdx(),o},t.prototype.each=function(e,n){if(this._count)for(var r=e.length,i=this._chunks,o=0,a=this.count();o<a;o++){var s=this.getRawIndex(o);switch(r){case 0:n(o);break;case 1:n(i[e[0]][s],o);break;case 2:n(i[e[0]][s],i[e[1]][s],o);break;default:for(var l=0,u=[];l<r;l++)u[l]=i[e[l]][s];u[l]=o,n.apply(null,u)}}},t.prototype.getDataExtent=function(e){var n=this._chunks[e],r=m0();if(!n)return r;var i=this.count(),o=!this._indices,a;if(o)return this._rawExtent[e].slice();if(a=this._extent[e],a)return a.slice();a=r;for(var s=a[0],l=a[1],u=0;u<i;u++){var c=this.getRawIndex(u),f=n[c];f<s&&(s=f),f>l&&(l=f)}return a=[s,l],this._extent[e]=a,a},t.prototype.getRawDataItem=function(e){var n=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(n);for(var r=[],i=this._chunks,o=0;o<i.length;o++)r.push(i[o][n]);return r},t.prototype.clone=function(e,n){var r=new t,i=this._chunks,o=e&&Qf(e,function(s,l){return s[l]=!0,s},{});if(o)for(var a=0;a<i.length;a++)r._chunks[a]=o[a]?YEt(i[a]):i[a];else r._chunks=i;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Jn(this._extent),e._rawExtent=Jn(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,n=void 0;if(e===Array){var r=this._indices.length;n=new e(r);for(var i=0;i<r;i++)n[i]=this._indices[i]}else n=new e(this._indices);return n}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=(function(){function e(n,r,i,o){return Yp(n[o],this._dimensions[o])}I4={arrayRows:e,objectRows:function(n,r,i,o){return Yp(n[r],this._dimensions[o])},keyedColumns:e,original:function(n,r,i,o){var a=n&&(n.value==null?n:n.value);return Yp(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(n,r,i,o){return n[o]}}})(),t})(),Pwe=(function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,n){this._sourceList=e,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,n=this._getUpstreamSourceManagers(),r=!!n.length,i,o;if(WT(e)){var a=e,s=void 0,l=void 0,u=void 0;if(r){var c=n[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,o=[c._getVersionSign()]}else s=a.get("data",!0),l=Ol(s)?Kp:tc,o=[];var f=this._getSourceMetaRawOption()||{},d=u&&u.metaRawOption||{},h=dr(f.seriesLayoutBy,d.seriesLayoutBy)||null,p=dr(f.sourceHeader,d.sourceHeader),v=dr(f.dimensions,d.dimensions),g=h!==d.seriesLayoutBy||!!p!=!!d.sourceHeader||v;i=g?[R5(s,{seriesLayoutBy:h,sourceHeader:p,dimensions:v},l)]:[]}else{var m=e;if(r){var y=this._applyTransform(n);i=y.sourceList,o=y.upstreamSignList}else{var b=m.get("source",!0);i=[R5(b,this._getSourceMetaRawOption(),null)],o=[]}}this._setLocalSource(i,o)},t.prototype._applyTransform=function(e){var n=this._sourceHost,r=n.get("transform",!0),i=n.get("fromTransformResult",!0);if(i!=null){var o="";e.length!==1&&lne(o)}var a,s=[],l=[];return ie(e,function(u){u.prepareSource();var c=u.getSource(i||0),f="";i!=null&&!c&&lne(f),s.push(c),l.push(u._getVersionSign())}),r?a=UEt(r,s,{datasetIndex:n.componentIndex}):i!=null&&(a=[TEt(s[0])]),{sourceList:a,upstreamSignList:l}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),n=0;n<e.length;n++){var r=e[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var n=this._sourceList[e];if(!n){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return n},t.prototype.getSharedDataStore=function(e){var n=e.makeStoreSchema();return this._innerGetDataStore(n.dimensions,e.source,n.hash)},t.prototype._innerGetDataStore=function(e,n,r){var i=0,o=this._storeList,a=o[i];a||(a=o[i]={});var s=a[r];if(!s){var l=this._getUpstreamSourceManagers()[0];WT(this._sourceHost)&&l?s=l._innerGetDataStore(e,n,r):(s=new L5,s.initData(new _we(n,e.length),e)),a[r]=s}return s},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(WT(e)){var n=qG(e);return n?[n.getSourceManager()]:[]}else return kt(tEt(e),function(r){return r.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,n,r,i;if(WT(e))n=e.get("seriesLayoutBy",!0),r=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=e;n=o.get("seriesLayoutBy",!0),r=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:r,dimensions:i}},t})();function sne(t){var e=t.option.transform;e&&TP(t.option.transform)}function WT(t){return t.mainType==="series"}function lne(t){throw new Error(t)}var XEt="line-height:1";function Owe(t){var e=t.lineHeight;return e==null?XEt:"line-height:"+Ys(e+"")+"px"}function Iwe(t,e){var n=t.color||"#6e7079",r=t.fontSize||12,i=t.fontWeight||"400",o=t.color||"#464646",a=t.fontSize||14,s=t.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Ys(r+"")+"px;color:"+Ys(n)+";font-weight:"+Ys(i+""),valueStyle:"font-size:"+Ys(a+"")+"px;color:"+Ys(o)+";font-weight:"+Ys(s+"")}:{nameStyle:{fontSize:r,fill:n,fontWeight:i},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var ZEt=[0,10,20,30],JEt=["",`
`,`

`,`


`];function Oa(t,e){return e.type=t,e}function D5(t){return t.type==="section"}function Rwe(t){return D5(t)?QEt:eTt}function Lwe(t){if(D5(t)){var e=0,n=t.blocks.length,r=n>1||n>0&&!t.noHeader;return ie(t.blocks,function(i){var o=Lwe(i);o>=e&&(e=o+ +(r&&(!o||D5(i)&&!i.noHeader)))}),e}return 0}function QEt(t,e,n,r){var i=e.noHeader,o=tTt(Lwe(e)),a=[],s=e.blocks||[];al(!s||Tt(s)),s=s||[];var l=t.orderMode;if(e.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(Cn(u,l)){var c=new Twe(u[l],null);s.sort(function(v,g){return c.evaluate(v.sortParam,g.sortParam)})}else l==="seriesDesc"&&s.reverse()}ie(s,function(v,g){var m=e.valueFormatter,y=Rwe(v)(m?yt(yt({},t),{valueFormatter:m}):t,v,g>0?o.html:0,r);y!=null&&a.push(y)});var f=t.renderMode==="richText"?a.join(o.richText):N5(r,a.join(""),i?n:o.html);if(i)return f;var d=P5(e.header,"ordinal",t.useUTC),h=Iwe(r,t.renderMode).nameStyle,p=Owe(r);return t.renderMode==="richText"?Dwe(t,d,h)+o.richText+f:N5(r,'<div style="'+h+";"+p+';">'+Ys(d)+"</div>"+f,n)}function eTt(t,e,n,r){var i=t.renderMode,o=e.noName,a=e.noValue,s=!e.markerType,l=e.name,u=t.useUTC,c=e.valueFormatter||t.valueFormatter||function(w){return w=Tt(w)?w:[w],kt(w,function(S,x){return P5(S,Tt(h)?h[x]:h,u)})};if(!(o&&a)){var f=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),d=o?"":P5(l,"ordinal",u),h=e.valueType,p=a?[]:c(e.value,e.dataIndex),v=!s||!o,g=!s&&o,m=Iwe(r,i),y=m.nameStyle,b=m.valueStyle;return i==="richText"?(s?"":f)+(o?"":Dwe(t,d,y))+(a?"":iTt(t,p,v,g,b)):N5(r,(s?"":f)+(o?"":nTt(d,!s,y))+(a?"":rTt(p,v,g,b)),n)}}function une(t,e,n,r,i,o){if(t){var a=Rwe(t),s={useUTC:i,renderMode:n,orderMode:r,markupStyleCreator:e,valueFormatter:t.valueFormatter};return a(s,t,0,o)}}function tTt(t){return{html:ZEt[t],richText:JEt[t]}}function N5(t,e,n){var r='<div style="clear:both"></div>',i="margin: "+n+"px 0 0",o=Owe(t);return'<div style="'+i+";"+o+';">'+e+r+"</div>"}function nTt(t,e,n){var r=e?"margin-left:2px":"";return'<span style="'+n+";"+r+'">'+Ys(t)+"</span>"}function rTt(t,e,n,r){var i=n?"10px":"20px",o=e?"float:right;margin-left:"+i:"";return t=Tt(t)?t:[t],'<span style="'+o+";"+r+'">'+kt(t,function(a){return Ys(a)}).join("&nbsp;&nbsp;")+"</span>"}function Dwe(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function iTt(t,e,n,r,i){var o=[i],a=r?10:20;return n&&o.push({padding:[0,0,0,a],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(Tt(e)?e.join("  "):e,o)}function Nwe(t,e){var n=t.getData().getItemVisual(e,"style"),r=n[t.visualDrawType];return ty(r)}function Bwe(t,e){var n=t.get("padding");return n??(e==="richText"?[8,10]:10)}var R4=(function(){function t(){this.richTextStyles={},this._nextStyleNameId=Q1e()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(e,n,r){var i=r==="richText"?this._generateStyleName():null,o=K2t({color:n,type:e,renderMode:r,markerId:i});return fn(o)?o:(this.richTextStyles[i]=o.style,o.content)},t.prototype.wrapRichTextStyle=function(e,n){var r={};Tt(n)?ie(n,function(o){return yt(r,o)}):yt(r,n);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+e+"}"},t})();function $we(t){var e=t.series,n=t.dataIndex,r=t.multipleSeries,i=e.getData(),o=i.mapDimensionsAll("defaultedTooltip"),a=o.length,s=e.getRawValue(n),l=Tt(s),u=Nwe(e,n),c,f,d,h;if(a>1||l&&!a){var p=oTt(s,e,n,o,u);c=p.inlineValues,f=p.inlineValueTypes,d=p.blocks,h=p.inlineValues[0]}else if(a){var v=i.getDimensionInfo(o[0]);h=c=L1(i,n,o[0]),f=v.type}else h=c=l?s[0]:s;var g=EG(e),m=g&&e.name||"",y=i.getName(n),b=r?m:y;return Oa("section",{header:m,noHeader:r||!g,sortParam:h,blocks:[Oa("nameValue",{markerType:"item",markerColor:u,name:b,noName:!pc(b),value:c,valueType:f,dataIndex:n})].concat(d||[])})}function oTt(t,e,n,r,i){var o=e.getData(),a=Qf(t,function(f,d,h){var p=o.getDimensionInfo(h);return f=f||p&&p.tooltip!==!1&&p.displayName!=null},!1),s=[],l=[],u=[];r.length?ie(r,function(f){c(L1(o,n,f),f)}):ie(t,c);function c(f,d){var h=o.getDimensionInfo(d);!h||h.otherDims.tooltip===!1||(a?u.push(Oa("nameValue",{markerType:"subItem",markerColor:i,name:h.displayName,value:f,valueType:h.type})):(s.push(f),l.push(h.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var Qh=Qr();function qT(t,e){return t.getName(e)||t.getId(e)}var Kk="__universalTransitionEnabled",Ui=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return e.prototype.init=function(n,r,i){this.seriesIndex=this.componentIndex,this.dataTask=ux({count:sTt,reset:lTt}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,i);var o=Qh(this).sourceManager=new Pwe(this);o.prepareSource();var a=this.getInitialData(n,i);fne(a,this),this.dataTask.context.data=a,Qh(this).dataBeforeProcessed=a,cne(this),this._initSelectedMapFromData(a)},e.prototype.mergeDefaultAndTheme=function(n,r){var i=xC(this),o=i?L_(n):{},a=this.subType;Gr.hasClass(a)&&(a+="Series"),mr(n,r.getTheme().get(this.subType)),mr(n,this.getDefaultOption()),Zm(n,"label",["show"]),this.fillDataTextStyle(n.data),i&&bv(n,o,i)},e.prototype.mergeOption=function(n,r){n=mr(this.option,n,!0),this.fillDataTextStyle(n.data);var i=xC(this);i&&bv(this.option,n,i);var o=Qh(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(n,r);fne(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,Qh(this).dataBeforeProcessed=a,cne(this),this._initSelectedMapFromData(a)},e.prototype.fillDataTextStyle=function(n){if(n&&!Ol(n))for(var r=["show"],i=0;i<n.length;i++)n[i]&&n[i].label&&Zm(n[i],"label",r)},e.prototype.getInitialData=function(n,r){},e.prototype.appendData=function(n){var r=this.getRawData();r.appendData(n.data)},e.prototype.getData=function(n){var r=B5(this);if(r){var i=r.context.data;return n==null||!i.getLinkedData?i:i.getLinkedData(n)}else return Qh(this).data},e.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},e.prototype.setData=function(n){var r=B5(this);if(r){var i=r.context;i.outputData=n,r!==this.dataTask&&(i.data=n)}Qh(this).data=n},e.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return Mn(n)},e.prototype.getSourceManager=function(){return Qh(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Qh(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},e.prototype.formatTooltip=function(n,r,i){return $we({series:this,dataIndex:n,multipleSeries:r})},e.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(Fr.node&&!(n&&n.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(n,r,i){var o=this.ecModel,a=KG.prototype.getColorFromPalette.call(this,n,r,i);return a||(a=o.getColorFromPalette(n,r,i)),a},e.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(n,r){this._innerSelect(this.getData(r),n)},e.prototype.unselect=function(n,r){var i=this.option.selectedMap;if(i){var o=this.option.selectedMode,a=this.getData(r);if(o==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<n.length;s++){var l=n[s],u=qT(a,l);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(n,r){for(var i=[],o=0;o<n.length;o++)i[0]=n[o],this.isSelected(n[o],r)?this.unselect(i,r):this.select(i,r)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,r=Ur(n),i=[],o=0;o<r.length;o++){var a=n[r[o]];a>=0&&i.push(a)}return i},e.prototype.isSelected=function(n,r){var i=this.option.selectedMap;if(!i)return!1;var o=this.getData(r);return(i==="all"||i[qT(o,n)])&&!o.getItemModel(n).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[Kk])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},e.prototype._innerSelect=function(n,r){var i,o,a=this.option,s=a.selectedMode,l=r.length;if(!(!s||!l)){if(s==="series")a.selectedMap="all";else if(s==="multiple"){Zn(a.selectedMap)||(a.selectedMap={});for(var u=a.selectedMap,c=0;c<l;c++){var f=r[c],d=qT(n,f);u[d]=!0,this._selectedDataIndicesMap[d]=n.getRawIndex(f)}}else if(s==="single"||s===!0){var h=r[l-1],d=qT(n,h);a.selectedMap=(i={},i[d]=!0,i),this._selectedDataIndicesMap=(o={},o[d]=n.getRawIndex(h),o)}}},e.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var r=[];n.hasItemOption&&n.each(function(i){var o=n.getRawDataItem(i);o&&o.selected&&r.push(i)}),r.length>0&&this._innerSelect(n,r)}},e.registerClass=function(n){return Gr.registerClass(n)},e.protoInitialize=(function(){var n=e.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"})(),e})(Gr);ia(Ui,HR);ia(Ui,KG);s_e(Ui,Gr);function cne(t){var e=t.name;EG(t)||(t.name=aTt(t)||e)}function aTt(t){var e=t.getRawData(),n=e.mapDimensionsAll("seriesName"),r=[];return ie(n,function(i){var o=e.getDimensionInfo(i);o.displayName&&r.push(o.displayName)}),r.join(" ")}function sTt(t){return t.model.getRawData().count()}function lTt(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),uTt}function uTt(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function fne(t,e){ie(pC(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(n){t.wrapMethod(n,hr(cTt,e))})}function cTt(t,e){var n=B5(t);return n&&n.setOutputEnd((e||this).count()),e}function B5(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(t.uid))}return r}}var so=(function(){function t(){this.group=new nr,this.uid=I_("viewComponent")}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,r,i){},t.prototype.dispose=function(e,n){},t.prototype.updateView=function(e,n,r,i){},t.prototype.updateLayout=function(e,n,r,i){},t.prototype.updateVisual=function(e,n,r,i){},t.prototype.toggleBlurSeries=function(e,n,r){},t.prototype.eachRendered=function(e){var n=this.group;n&&n.traverse(e)},t})();AG(so);CR(so);function N_(){var t=Qr();return function(e){var n=t(e),r=e.pipelineContext,i=!!n.large,o=!!n.progressiveRender,a=n.large=!!(r&&r.large),s=n.progressiveRender=!!(r&&r.progressiveRender);return(i!==a||o!==s)&&"reset"}}var Fwe=Qr(),fTt=N_(),Oi=(function(){function t(){this.group=new nr,this.uid=I_("viewChart"),this.renderTask=ux({plan:dTt,reset:hTt}),this.renderTask.context={view:this}}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,r,i){},t.prototype.highlight=function(e,n,r,i){var o=e.getData(i&&i.dataType);o&&hne(o,i,"emphasis")},t.prototype.downplay=function(e,n,r,i){var o=e.getData(i&&i.dataType);o&&hne(o,i,"normal")},t.prototype.remove=function(e,n){this.group.removeAll()},t.prototype.dispose=function(e,n){},t.prototype.updateView=function(e,n,r,i){this.render(e,n,r,i)},t.prototype.updateLayout=function(e,n,r,i){this.render(e,n,r,i)},t.prototype.updateVisual=function(e,n,r,i){this.render(e,n,r,i)},t.prototype.eachRendered=function(e){Bv(this.group,e)},t.markUpdateMethod=function(e,n){Fwe(e).updateMethod=n},t.protoInitialize=(function(){var e=t.prototype;e.type="chart"})(),t})();function dne(t,e,n){t&&_C(t)&&(e==="emphasis"?vh:gh)(t,n)}function hne(t,e,n){var r=Jm(t,e),i=e&&e.highlightKey!=null?KCt(e.highlightKey):null;r!=null?ie(Mi(r),function(o){dne(t.getItemGraphicEl(o),n,i)}):t.eachItemGraphicEl(function(o){dne(o,n,i)})}AG(Oi);CR(Oi);function dTt(t){return fTt(t.model)}function hTt(t){var e=t.model,n=t.ecModel,r=t.api,i=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=i&&Fwe(i).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return l!=="render"&&a[l](e,n,r,i),pTt[l]}var pTt={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},jP="\0__throttleOriginMethod",pne="\0__throttleRate",vne="\0__throttleType";function e9(t,e,n){var r,i=0,o=0,a=null,s,l,u,c;e=e||0;function f(){o=new Date().getTime(),a=null,t.apply(l,u||[])}var d=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];r=new Date().getTime(),l=this,u=h;var v=c||e,g=c||n;c=null,s=r-(g?i:o)-v,clearTimeout(a),g?a=setTimeout(f,v):s>=0?f():a=setTimeout(f,-s),i=r};return d.clear=function(){a&&(clearTimeout(a),a=null)},d.debounceNextCall=function(h){c=h},d}function B_(t,e,n,r){var i=t[e];if(i){var o=i[jP]||i,a=i[vne],s=i[pne];if(s!==n||a!==r){if(n==null||!r)return t[e]=o;i=t[e]=e9(o,n,r==="debounce"),i[jP]=o,i[vne]=r,i[pne]=n}return i}}function EC(t,e){var n=t[e];n&&n[jP]&&(n.clear&&n.clear(),t[e]=n[jP])}var gne=Qr(),mne={itemStyle:Qm(U_e,!0),lineStyle:Qm(G_e,!0)},vTt={lineStyle:"stroke",itemStyle:"fill"};function Vwe(t,e){var n=t.visualStyleMapper||mne[e];return n||(console.warn("Unknown style type '"+e+"'."),mne.itemStyle)}function zwe(t,e){var n=t.visualDrawType||vTt[e];return n||(console.warn("Unknown style type '"+e+"'."),"fill")}var gTt={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=t.getModel(r),o=Vwe(t,r),a=o(i),s=i.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var l=zwe(t,r),u=a[l],c=qn(u)?u:null,f=a.fill==="auto"||a.stroke==="auto";if(!a[l]||c||f){var d=t.getColorFromPalette(t.name,null,e.getSeriesCount());a[l]||(a[l]=d,n.setVisual("colorFromPalette",!0)),a.fill=a.fill==="auto"||qn(a.fill)?d:a.fill,a.stroke=a.stroke==="auto"||qn(a.stroke)?d:a.stroke}if(n.setVisual("style",a),n.setVisual("drawType",l),!e.isSeriesFiltered(t)&&c)return n.setVisual("colorFromPalette",!1),{dataEach:function(h,p){var v=t.getDataParams(p),g=yt({},a);g[l]=c(v),h.setItemVisual(p,"style",g)}}}},Pw=new Ci,mTt={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=Vwe(t,r),o=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(a,s){var l=a.getRawDataItem(s);if(l&&l[r]){Pw.option=l[r];var u=i(Pw),c=a.ensureUniqueItemVisual(s,"style");yt(c,u),Pw.option.decal&&(a.setItemVisual(s,"decal",Pw.option.decal),Pw.option.decal.dirty=!0),o in u&&a.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},yTt={performRawSeries:!0,overallReset:function(t){var e=Mn();t.eachSeries(function(n){var r=n.getColorBy();if(!n.isColorBySeries()){var i=n.type+"-"+r,o=e.get(i);o||(o={},e.set(i,o)),gne(n).scope=o}}),t.eachSeries(function(n){if(!(n.isColorBySeries()||t.isSeriesFiltered(n))){var r=n.getRawData(),i={},o=n.getData(),a=gne(n).scope,s=n.visualStyleAccessPath||"itemStyle",l=zwe(n,s);o.each(function(u){var c=o.getRawIndex(u);i[c]=u}),r.each(function(u){var c=i[u],f=o.getItemVisual(c,"colorFromPalette");if(f){var d=o.ensureUniqueItemVisual(c,"style"),h=r.getName(u)||u+"",p=r.count();d[l]=n.getColorFromPalette(h,a,p)}})}})}},KT=Math.PI;function bTt(t,e){e=e||{},Yn(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new nr,r=new Jr({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(r);var i=new ti({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),o=new Jr({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});n.add(o);var a;return e.showSpinner&&(a=new OR({shape:{startAngle:-KT/2,endAngle:-KT/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),a.animateShape(!0).when(1e3,{endAngle:KT*3/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:KT*3/2}).delay(300).start("circularInOut"),n.add(a)),n.resize=function(){var s=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,u=(t.getWidth()-l*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:l),c=t.getHeight()/2;e.showSpinner&&a.setShape({cx:u,cy:c}),o.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n}var Hwe=(function(){function t(e,n,r,i){this._stageTaskMap=Mn(),this.ecInstance=e,this.api=n,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return t.prototype.restoreData=function(e,n){e.restoreData(n),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},t.prototype.getPerformArgs=function(e,n){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),i=r.context,o=!n&&r.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>r.blockIndex,a=o?r.step:null,s=i&&i.modDataCount,l=s!=null?Math.ceil(s/a):null;return{step:a,modBy:l,modDataCount:s}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,n){var r=this._pipelineMap.get(e.uid),i=e.getData(),o=i.count(),a=r.progressiveEnabled&&n.incrementalPrepareRender&&o>=r.threshold,s=e.get("large")&&o>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?o:null;e.pipelineContext=r.context={progressiveRender:a,modDataCount:l,large:s}},t.prototype.restorePipelines=function(e){var n=this,r=n._pipelineMap=Mn();e.eachSeries(function(i){var o=i.getProgressive(),a=i.uid;r.set(a,{id:a,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:o&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),n._pipe(i,i.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,n=this.api.getModel(),r=this.api;ie(this._allHandlers,function(i){var o=e.get(i.uid)||e.set(i.uid,{}),a="";al(!(i.reset&&i.overallReset),a),i.reset&&this._createSeriesStageTask(i,o,n,r),i.overallReset&&this._createOverallStageTask(i,o,n,r)},this)},t.prototype.prepareView=function(e,n,r,i){var o=e.renderTask,a=o.context;a.model=n,a.ecModel=r,a.api=i,o.__block=!e.incrementalPrepareRender,this._pipe(n,o)},t.prototype.performDataProcessorTasks=function(e,n){this._performStageTasks(this._dataProcessorHandlers,e,n,{block:!0})},t.prototype.performVisualTasks=function(e,n,r){this._performStageTasks(this._visualHandlers,e,n,r)},t.prototype._performStageTasks=function(e,n,r,i){i=i||{};var o=!1,a=this;ie(e,function(l,u){if(!(i.visualType&&i.visualType!==l.visualType)){var c=a._stageTaskMap.get(l.uid),f=c.seriesTaskMap,d=c.overallTask;if(d){var h,p=d.agentStubMap;p.each(function(g){s(i,g)&&(g.dirty(),h=!0)}),h&&d.dirty(),a.updatePayload(d,r);var v=a.getPerformArgs(d,i.block);p.each(function(g){g.perform(v)}),d.perform(v)&&(o=!0)}else f&&f.each(function(g,m){s(i,g)&&g.dirty();var y=a.getPerformArgs(g,i.block);y.skip=!l.performRawSeries&&n.isSeriesFiltered(g.context.model),a.updatePayload(g,r),g.perform(y)&&(o=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=o||this.unfinished},t.prototype.performSeriesTasks=function(e){var n;e.eachSeries(function(r){n=r.dataTask.perform()||n}),this.unfinished=n||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var n=e.tail;do{if(n.__block){e.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},t.prototype.updatePayload=function(e,n){n!=="remain"&&(e.context.payload=n)},t.prototype._createSeriesStageTask=function(e,n,r,i){var o=this,a=n.seriesTaskMap,s=n.seriesTaskMap=Mn(),l=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(c):l?r.eachRawSeriesByType(l,c):u&&u(r,i).each(c);function c(f){var d=f.uid,h=s.set(d,a&&a.get(d)||ux({plan:CTt,reset:ETt,count:ATt}));h.context={model:f,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:o},o._pipe(f,h)}},t.prototype._createOverallStageTask=function(e,n,r,i){var o=this,a=n.overallTask=n.overallTask||ux({reset:_Tt});a.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:o};var s=a.agentStubMap,l=a.agentStubMap=Mn(),u=e.seriesType,c=e.getTargetSeries,f=!0,d=!1,h="";al(!e.createOnAllSeries,h),u?r.eachRawSeriesByType(u,p):c?c(r,i).each(p):(f=!1,ie(r.getSeries(),p));function p(v){var g=v.uid,m=l.set(g,s&&s.get(g)||(d=!0,ux({reset:wTt,onDirty:xTt})));m.context={model:v,overallProgress:f},m.agent=a,m.__block=f,o._pipe(v,m)}d&&a.dirty()},t.prototype._pipe=function(e,n){var r=e.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=n),i.tail&&i.tail.pipe(n),i.tail=n,n.__idxInPipeline=i.count++,n.__pipeline=i},t.wrapStageHandler=function(e,n){return qn(e)&&(e={overallReset:e,seriesType:kTt(e)}),e.uid=I_("stageHandler"),n&&(e.visualType=n),e},t})();function _Tt(t){t.overallReset(t.ecModel,t.api,t.payload)}function wTt(t){return t.overallProgress&&STt}function STt(){this.agent.dirty(),this.getDownstream().dirty()}function xTt(){this.agent&&this.agent.dirty()}function CTt(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function ETt(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Mi(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?kt(e,function(n,r){return jwe(r)}):TTt}var TTt=jwe(0);function jwe(t){return function(e,n){var r=n.data,i=n.resetDefines[t];if(i&&i.dataEach)for(var o=e.start;o<e.end;o++)i.dataEach(r,o);else i&&i.progress&&i.progress(e,r)}}function ATt(t){return t.data.count()}function kTt(t){GP=null;try{t(TC,Gwe)}catch{}return GP}var TC={},Gwe={},GP;Uwe(TC,YG);Uwe(Gwe,vwe);TC.eachSeriesByType=TC.eachRawSeriesByType=function(t){GP=t};TC.eachComponent=function(t){t.mainType==="series"&&t.subType&&(GP=t.subType)};function Uwe(t,e){for(var n in e.prototype)t[n]=Vo}var yne=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const MTt={color:yne,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],yne]};var ms="#B9B8CE",bne="#100C2A",YT=function(){return{axisLine:{lineStyle:{color:ms}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},_ne=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Wwe={darkMode:!0,color:_ne,backgroundColor:bne,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:ms},pageTextStyle:{color:ms}},textStyle:{color:ms},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:ms}},dataZoom:{borderColor:"#71708A",textStyle:{color:ms},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:ms}},timeline:{lineStyle:{color:ms},label:{color:ms},controlStyle:{color:ms,borderColor:ms}},calendar:{itemStyle:{color:bne},dayLabel:{color:ms},monthLabel:{color:ms},yearLabel:{color:ms}},timeAxis:YT(),logAxis:YT(),valueAxis:YT(),categoryAxis:YT(),line:{symbol:"circle"},graph:{color:_ne},gauge:{title:{color:ms},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:ms},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Wwe.categoryAxis.splitLine.show=!1;var PTt=(function(){function t(){}return t.prototype.normalizeQuery=function(e){var n={},r={},i={};if(fn(e)){var o=Rf(e);n.mainType=o.main||null,n.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};ie(e,function(l,u){for(var c=!1,f=0;f<a.length;f++){var d=a[f],h=u.lastIndexOf(d);if(h>0&&h===u.length-d.length){var p=u.slice(0,h);p!=="data"&&(n.mainType=p,n[d.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(r[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:n,dataQuery:r,otherQuery:i}},t.prototype.filter=function(e,n){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,o=r.packedEvent,a=r.model,s=r.view;if(!a||!s)return!0;var l=n.cptQuery,u=n.dataQuery;return c(l,a,"mainType")&&c(l,a,"subType")&&c(l,a,"index","componentIndex")&&c(l,a,"name")&&c(l,a,"id")&&c(u,o,"name")&&c(u,o,"dataIndex")&&c(u,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,n.otherQuery,i,o));function c(f,d,h,p){return f[h]==null||d[p||h]===f[h]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t})(),$5=["symbol","symbolSize","symbolRotate","symbolOffset"],wne=$5.concat(["symbolKeepAspect"]),OTt={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var r={},i={},o=!1,a=0;a<$5.length;a++){var s=$5[a],l=t.get(s);qn(l)?(o=!0,i[s]=l):r[s]=l}if(r.symbol=r.symbol||t.defaultSymbol,n.setVisual(yt({legendIcon:t.legendIcon||r.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},r)),e.isSeriesFiltered(t))return;var u=Ur(i);function c(f,d){for(var h=t.getRawValue(d),p=t.getDataParams(d),v=0;v<u.length;v++){var g=u[v];f.setItemVisual(d,g,i[g](h,p))}}return{dataEach:o?c:null}}},ITt={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var n=t.getData();function r(i,o){for(var a=i.getItemModel(o),s=0;s<wne.length;s++){var l=wne[s],u=a.getShallow(l,!0);u!=null&&i.setItemVisual(o,l,u)}}return{dataEach:n.hasItemOption?r:null}}};function t9(t,e,n){switch(n){case"color":var r=t.getItemVisual(e,"style");return r[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n)}}function Y2(t,e){switch(e){case"color":var n=t.getVisual("style");return n[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function qwe(t,e,n,r){switch(n){case"color":var i=t.ensureUniqueItemVisual(e,"style");i[t.getVisual("drawType")]=r,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,n,r);break}}function Kwe(t,e){function n(r,i){var o=[];return r.eachComponent({mainType:"series",subType:t,query:i},function(a){o.push(a.seriesIndex)}),o}ie([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(r){e(r[0],function(i,o,a){i=yt({},i),a.dispatchAction(yt(i,{type:r[1],seriesIndex:n(o,i)}))})})}function y0(t,e,n,r,i){var o=t+e;n.isSilent(o)||r.eachComponent({mainType:"series",subType:"pie"},function(a){for(var s=a.seriesIndex,l=a.option.selectedMap,u=i.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var f=a.getData(),d=Jm(f,i.fromActionPayload);n.trigger(o,{type:o,seriesId:a.id,name:Tt(d)?f.getName(d[0]):f.getName(d),selected:fn(l)?l:yt({},l)})}})}function RTt(t,e,n){t.on("selectchanged",function(r){var i=n.getModel();r.isFromClick?(y0("map","selectchanged",e,i,r),y0("pie","selectchanged",e,i,r)):r.fromAction==="select"?(y0("map","selected",e,i,r),y0("pie","selected",e,i,r)):r.fromAction==="unselect"&&(y0("map","unselected",e,i,r),y0("pie","unselected",e,i,r))})}function am(t,e,n){for(var r;t&&!(e(t)&&(r=t,n));)t=t.__hostTarget||t.parent;return r}var LTt=Math.round(Math.random()*9),DTt=typeof Object.defineProperty=="function",NTt=(function(){function t(){this._id="__ec_inner_"+LTt++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,n){var r=this._guard(e);return DTt?Object.defineProperty(r,this._id,{value:n,enumerable:!1,configurable:!0}):r[this._id]=n,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t})(),BTt=$r.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r+o),t.lineTo(n-i,r+o),t.closePath()}}),$Tt=$r.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r),t.lineTo(n,r+o),t.lineTo(n-i,r),t.closePath()}}),FTt=$r.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width/5*3,o=Math.max(i,e.height),a=i/2,s=a*a/(o-a),l=r-o+a+s,u=Math.asin(s/a),c=Math.cos(u)*a,f=Math.sin(u),d=Math.cos(u),h=a*.6,p=a*.7;t.moveTo(n-c,l+s),t.arc(n,l,a,Math.PI-u,Math.PI*2+u),t.bezierCurveTo(n+c-f*h,l+s+d*h,n,r-p,n,r),t.bezierCurveTo(n,r-p,n-c+f*h,l+s+d*h,n-c,l+s),t.closePath()}}),VTt=$r.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,i=e.x,o=e.y,a=r/3*2;t.moveTo(i,o),t.lineTo(i+a,o+n),t.lineTo(i,o+n/4*3),t.lineTo(i-a,o+n),t.lineTo(i,o),t.closePath()}}),zTt={line:Sa,rect:Jr,roundRect:Jr,square:Jr,circle:Nh,diamond:$Tt,pin:FTt,arrow:VTt,triangle:BTt},HTt={line:function(t,e,n,r,i){i.x1=t,i.y1=e+r/2,i.x2=t+n,i.y2=e+r/2},rect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r},roundRect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(t,e,n,r,i){var o=Math.min(n,r);i.x=t,i.y=e,i.width=o,i.height=o},circle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2},diamond:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},pin:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},arrow:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},triangle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r}},UP={};ie(zTt,function(t,e){UP[e]=new t});var jTt=$r.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var r=LP(t,e,n),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(r.y=n.y+n.height*.4),r},buildPath:function(t,e,n){var r=e.symbolType;if(r!=="none"){var i=UP[r];i||(r="rect",i=UP[r]),HTt[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n)}}});function GTt(t,e){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=t:n.fill=t,this.markRedraw()}}function ra(t,e,n,r,i,o,a){var s=t.indexOf("empty")===0;s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return t.indexOf("image://")===0?l=N_e(t.slice(8),new xr(e,n,r,i),a?"center":"cover"):t.indexOf("path://")===0?l=IR(t.slice(7),{},new xr(e,n,r,i),a?"center":"cover"):l=new jTt({shape:{symbolType:t,x:e,y:n,width:r,height:i}}),l.__isEmptyBrush=s,l.setColor=GTt,o&&l.setColor(o),l}function $_(t){return Tt(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function ky(t,e){if(t!=null)return Tt(t)||(t=[t,t]),[on(t[0],e[0])||0,on(dr(t[1],t[0]),e[1])||0]}function sm(t){return isFinite(t)}function UTt(t,e,n){var r=e.x==null?0:e.x,i=e.x2==null?1:e.x2,o=e.y==null?0:e.y,a=e.y2==null?0:e.y2;e.global||(r=r*n.width+n.x,i=i*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),r=sm(r)?r:0,i=sm(i)?i:1,o=sm(o)?o:0,a=sm(a)?a:0;var s=t.createLinearGradient(r,o,i,a);return s}function WTt(t,e,n){var r=n.width,i=n.height,o=Math.min(r,i),a=e.x==null?.5:e.x,s=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(a=a*r+n.x,s=s*i+n.y,l=l*o),a=sm(a)?a:.5,s=sm(s)?s:.5,l=l>=0&&sm(l)?l:.5;var u=t.createRadialGradient(a,s,0,a,s,l);return u}function F5(t,e,n){for(var r=e.type==="radial"?WTt(t,e,n):UTt(t,e,n),i=e.colorStops,o=0;o<i.length;o++)r.addColorStop(i[o].offset,i[o].color);return r}function qTt(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}function XT(t){return parseInt(t,10)}function Q0(t,e,n){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(n[r]!=null&&n[r]!=="auto")return parseFloat(n[r]);var s=document.defaultView.getComputedStyle(t);return(t[i]||XT(s[r])||XT(t.style[r]))-(XT(s[o])||0)-(XT(s[a])||0)|0}function KTt(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:ri(t)?[t]:Tt(t)?t:null}function n9(t){var e=t.style,n=e.lineDash&&e.lineWidth>0&&KTt(e.lineDash,e.lineWidth),r=e.lineDashOffset;if(n){var i=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;i&&i!==1&&(n=kt(n,function(o){return o/i}),r/=i)}return[n,r]}var YTt=new rd(!0);function WP(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function Sne(t){return typeof t=="string"&&t!=="none"}function qP(t){var e=t.fill;return e!=null&&e!=="none"}function xne(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function Cne(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function V5(t,e,n){var r=kG(e.image,e.__image,n);if(ER(r)){var i=t.createPattern(r,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var o=new DOMMatrix;o.translateSelf(e.x||0,e.y||0),o.rotateSelf(0,0,(e.rotation||0)*Lk),o.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(o)}return i}}function XTt(t,e,n,r){var i,o=WP(n),a=qP(n),s=n.strokePercent,l=s<1,u=!e.path;(!e.silent||l)&&u&&e.createPathProxy();var c=e.path||YTt,f=e.__dirty;if(!r){var d=n.fill,h=n.stroke,p=a&&!!d.colorStops,v=o&&!!h.colorStops,g=a&&!!d.image,m=o&&!!h.image,y=void 0,b=void 0,w=void 0,S=void 0,x=void 0;(p||v)&&(x=e.getBoundingRect()),p&&(y=f?F5(t,d,x):e.__canvasFillGradient,e.__canvasFillGradient=y),v&&(b=f?F5(t,h,x):e.__canvasStrokeGradient,e.__canvasStrokeGradient=b),g&&(w=f||!e.__canvasFillPattern?V5(t,d,e):e.__canvasFillPattern,e.__canvasFillPattern=w),m&&(S=f||!e.__canvasStrokePattern?V5(t,h,e):e.__canvasStrokePattern,e.__canvasStrokePattern=w),p?t.fillStyle=y:g&&(w?t.fillStyle=w:a=!1),v?t.strokeStyle=b:m&&(S?t.strokeStyle=S:o=!1)}var C=e.getGlobalScale();c.setScale(C[0],C[1],e.segmentIgnoreThreshold);var E,T;t.setLineDash&&n.lineDash&&(i=n9(e),E=i[0],T=i[1]);var A=!0;(u||f&z0)&&(c.setDPR(t.dpr),l?c.setContext(null):(c.setContext(t),A=!1),c.reset(),e.buildPath(c,e.shape,r),c.toStatic(),e.pathUpdated()),A&&c.rebuildPath(t,l?s:1),E&&(t.setLineDash(E),t.lineDashOffset=T),r||(n.strokeFirst?(o&&Cne(t,n),a&&xne(t,n)):(a&&xne(t,n),o&&Cne(t,n))),E&&t.setLineDash([])}function ZTt(t,e,n){var r=e.__image=kG(n.image,e.__image,e,e.onload);if(!(!r||!ER(r))){var i=n.x||0,o=n.y||0,a=e.getWidth(),s=e.getHeight(),l=r.width/r.height;if(a==null&&s!=null?a=s*l:s==null&&a!=null?s=a/l:a==null&&s==null&&(a=r.width,s=r.height),n.sWidth&&n.sHeight){var u=n.sx||0,c=n.sy||0;t.drawImage(r,u,c,n.sWidth,n.sHeight,i,o,a,s)}else if(n.sx&&n.sy){var u=n.sx,c=n.sy,f=a-u,d=s-c;t.drawImage(r,u,c,f,d,i,o,a,s)}else t.drawImage(r,i,o,a,s)}}function JTt(t,e,n){var r,i=n.text;if(i!=null&&(i+=""),i){t.font=n.font||vv,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var o=void 0,a=void 0;t.setLineDash&&n.lineDash&&(r=n9(e),o=r[0],a=r[1]),o&&(t.setLineDash(o),t.lineDashOffset=a),n.strokeFirst?(WP(n)&&t.strokeText(i,n.x,n.y),qP(n)&&t.fillText(i,n.x,n.y)):(qP(n)&&t.fillText(i,n.x,n.y),WP(n)&&t.strokeText(i,n.x,n.y)),o&&t.setLineDash([])}}var Ene=["shadowBlur","shadowOffsetX","shadowOffsetY"],Tne=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Ywe(t,e,n,r,i){var o=!1;if(!r&&(n=n||{},e===n))return!1;if(r||e.opacity!==n.opacity){wl(t,i),o=!0;var a=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(a)?xm.opacity:a}(r||e.blend!==n.blend)&&(o||(wl(t,i),o=!0),t.globalCompositeOperation=e.blend||xm.blend);for(var s=0;s<Ene.length;s++){var l=Ene[s];(r||e[l]!==n[l])&&(o||(wl(t,i),o=!0),t[l]=t.dpr*(e[l]||0))}return(r||e.shadowColor!==n.shadowColor)&&(o||(wl(t,i),o=!0),t.shadowColor=e.shadowColor||xm.shadowColor),o}function Ane(t,e,n,r,i){var o=AC(e,i.inHover),a=r?null:n&&AC(n,i.inHover)||{};if(o===a)return!1;var s=Ywe(t,o,a,r,i);if((r||o.fill!==a.fill)&&(s||(wl(t,i),s=!0),Sne(o.fill)&&(t.fillStyle=o.fill)),(r||o.stroke!==a.stroke)&&(s||(wl(t,i),s=!0),Sne(o.stroke)&&(t.strokeStyle=o.stroke)),(r||o.opacity!==a.opacity)&&(s||(wl(t,i),s=!0),t.globalAlpha=o.opacity==null?1:o.opacity),e.hasStroke()){var l=o.lineWidth,u=l/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==u&&(s||(wl(t,i),s=!0),t.lineWidth=u)}for(var c=0;c<Tne.length;c++){var f=Tne[c],d=f[0];(r||o[d]!==a[d])&&(s||(wl(t,i),s=!0),t[d]=o[d]||f[1])}return s}function QTt(t,e,n,r,i){return Ywe(t,AC(e,i.inHover),n&&AC(n,i.inHover),r,i)}function Xwe(t,e){var n=e.transform,r=t.dpr||1;n?t.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):t.setTransform(r,0,0,r,0,0)}function eAt(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];r=r||o.isZeroArea(),Xwe(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}n.allClipped=r}function tAt(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var kne=1,Mne=2,Pne=3,One=4;function nAt(t){var e=qP(t),n=WP(t);return!(t.lineDash||!(+e^+n)||e&&typeof t.fill!="string"||n&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function wl(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function AC(t,e){return e&&t.__hoverStyle||t.style}function Zwe(t,e){lm(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function lm(t,e,n,r){var i=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){e.__dirty&=~zl,e.__isRendered=!1;return}var o=e.__clipPaths,a=n.prevElClipPaths,s=!1,l=!1;if((!a||qTt(o,a))&&(a&&a.length&&(wl(t,n),t.restore(),l=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(wl(t,n),t.save(),eAt(o,t,n),s=!0),n.prevElClipPaths=o),n.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=n.prevEl;u||(l=s=!0);var c=e instanceof $r&&e.autoBatch&&nAt(e.style);s||tAt(i,u.transform)?(wl(t,n),Xwe(t,e)):c||wl(t,n);var f=AC(e,n.inHover);e instanceof $r?(n.lastDrawType!==kne&&(l=!0,n.lastDrawType=kne),Ane(t,e,u,l,n),(!c||!n.batchFill&&!n.batchStroke)&&t.beginPath(),XTt(t,e,f,c),c&&(n.batchFill=f.fill||"",n.batchStroke=f.stroke||"")):e instanceof I1?(n.lastDrawType!==Pne&&(l=!0,n.lastDrawType=Pne),Ane(t,e,u,l,n),JTt(t,e,f)):e instanceof qa?(n.lastDrawType!==Mne&&(l=!0,n.lastDrawType=Mne),QTt(t,e,u,l,n),ZTt(t,e,f)):e.getTemporalDisplayables&&(n.lastDrawType!==One&&(l=!0,n.lastDrawType=One),rAt(t,e,n)),c&&r&&wl(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}function rAt(t,e,n){var r=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},a,s;for(a=e.getCursor(),s=r.length;a<s;a++){var l=r[a];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),lm(t,l,o,a===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}for(var u=0,c=i.length;u<c;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),lm(t,l,o,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var L4=new NTt,Ine=new F2(100),Rne=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function D1(t,e){if(t==="none")return null;var n=e.getDevicePixelRatio(),r=e.getZr(),i=r.painter.type==="svg";t.dirty&&L4.delete(t);var o=L4.get(t);if(o)return o;var a=Yn(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});a.backgroundColor==="none"&&(a.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=a.rotation,s.scaleX=s.scaleY=i?1:1/n,L4.set(t,s),t.dirty=!1,s;function l(u){for(var c=[n],f=!0,d=0;d<Rne.length;++d){var h=a[Rne[d]];if(h!=null&&!Tt(h)&&!fn(h)&&!ri(h)&&typeof h!="boolean"){f=!1;break}c.push(h)}var p;if(f){p=c.join(",")+(i?"-svg":"");var v=Ine.get(p);v&&(i?u.svgElement=v:u.image=v)}var g=Qwe(a.dashArrayX),m=iAt(a.dashArrayY),y=Jwe(a.symbol),b=oAt(g),w=eSe(m),S=!i&&gv.createCanvas(),x=i&&{tag:"g",attrs:{},key:"dcl",children:[]},C=T(),E;S&&(S.width=C.width*n,S.height=C.height*n,E=S.getContext("2d")),A(),f&&Ine.put(p,S||x),u.image=S,u.svgElement=x,u.svgWidth=C.width,u.svgHeight=C.height;function T(){for(var k=1,M=0,D=b.length;M<D;++M)k=Xee(k,b[M]);for(var L=1,M=0,D=y.length;M<D;++M)L=Xee(L,y[M].length);k*=L;var I=w*b.length*y.length;return{width:Math.max(1,Math.min(k,a.maxTileWidth)),height:Math.max(1,Math.min(I,a.maxTileHeight))}}function A(){E&&(E.clearRect(0,0,S.width,S.height),a.backgroundColor&&(E.fillStyle=a.backgroundColor,E.fillRect(0,0,S.width,S.height)));for(var k=0,M=0;M<m.length;++M)k+=m[M];if(k<=0)return;for(var D=-w,L=0,I=0,R=0;D<C.height;){if(L%2===0){for(var V=I/2%y.length,P=0,B=0,j=0;P<C.width*2;){for(var G=0,M=0;M<g[R].length;++M)G+=g[R][M];if(G<=0)break;if(B%2===0){var W=(1-a.symbolSize)*.5,Z=P+g[R][B]*W,ee=D+m[L]*W,oe=g[R][B]*a.symbolSize,ce=m[L]*a.symbolSize,X=j/2%y[V].length;H(Z,ee,oe,ce,y[V][X])}P+=g[R][B],++j,++B,B===g[R].length&&(B=0)}++R,R===g.length&&(R=0)}D+=m[L],++I,++L,L===m.length&&(L=0)}function H(U,ne,J,Y,se){var he=i?1:n,ye=ra(se,U*he,ne*he,J*he,Y*he,a.color,a.symbolKeepAspect);if(i){var _e=r.painter.renderOneToVNode(ye);_e&&x.children.push(_e)}else Zwe(E,ye)}}}}function Jwe(t){if(!t||t.length===0)return[["rect"]];if(fn(t))return[[t]];for(var e=!0,n=0;n<t.length;++n)if(!fn(t[n])){e=!1;break}if(e)return Jwe([t]);for(var r=[],n=0;n<t.length;++n)fn(t[n])?r.push([t[n]]):r.push(t[n]);return r}function Qwe(t){if(!t||t.length===0)return[[0,0]];if(ri(t)){var e=Math.ceil(t);return[[e,e]]}for(var n=!0,r=0;r<t.length;++r)if(!ri(t[r])){n=!1;break}if(n)return Qwe([t]);for(var i=[],r=0;r<t.length;++r)if(ri(t[r])){var e=Math.ceil(t[r]);i.push([e,e])}else{var e=kt(t[r],function(s){return Math.ceil(s)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function iAt(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(ri(t)){var e=Math.ceil(t);return[e,e]}var n=kt(t,function(r){return Math.ceil(r)});return t.length%2?n.concat(n):n}function oAt(t){return kt(t,function(e){return eSe(e)})}function eSe(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2===1?e*2:e}function aAt(t,e){t.eachRawSeries(function(n){if(!t.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each(function(a){var s=r.getItemVisual(a,"decal");if(s){var l=r.ensureUniqueItemVisual(a,"style");l.decal=D1(s,e)}});var i=r.getVisual("decal");if(i){var o=r.getVisual("style");o.decal=D1(i,e)}}})}var yf=new ec,tSe={};function sAt(t,e){tSe[t]=e}function lAt(t){return tSe[t]}var uAt=1,cAt=800,fAt=900,dAt=1e3,hAt=2e3,pAt=5e3,nSe=1e3,vAt=1100,r9=2e3,rSe=3e3,gAt=4e3,GR=4500,mAt=4600,yAt=5e3,bAt=6e3,iSe=7e3,_At={PROCESSOR:{FILTER:dAt,SERIES_FILTER:cAt,STATISTIC:pAt},VISUAL:{LAYOUT:nSe,PROGRESSIVE_LAYOUT:vAt,GLOBAL:r9,CHART:rSe,POST_CHART_LAYOUT:mAt,COMPONENT:gAt,BRUSH:yAt,CHART_ITEM:GR,ARIA:bAt,DECAL:iSe}},vs="__flagInMainProcess",vl="__pendingUpdate",D4="__needsUpdateStatus",Lne=/^[a-zA-Z0-9_]+$/;function oSe(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this.isDisposed()){this.id;return}return sSe(this,t,e)}}function aSe(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return sSe(this,t,e)}}function sSe(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),ec.prototype[e].apply(t,n)}var lSe=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(ec),uSe=lSe.prototype;uSe.on=aSe("on");uSe.off=aSe("off");var b0,N4,ZT,ep,B4,$4,F4,Ow,Iw,Dne,Nne,V4,Bne,JT,$ne,uu,Fne,wAt=(function(t){nt(e,t);function e(n,r,i){var o=t.call(this,new PTt)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],i=i||{},fn(r)&&(r=cSe[r]),o._dom=n;var a="canvas",s="auto",l=!1;i.ssr&&bxt(function(d){var h=ar(d),p=h.dataIndex;if(p!=null){var v=Mn();return v.set("series_index",h.seriesIndex),v.set("data_index",p),h.ssrType&&v.set("ssr_type",h.ssrType),v}});var u=o._zr=Kee(n,{renderer:i.renderer||a,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:dr(i.useDirtyRect,l),useCoarsePointer:dr(i.useCoarsePointer,s),pointerSize:i.pointerSize});o._ssr=i.ssr,o._throttledZrFlush=e9(vn(u.flush,u),17),r=Jn(r),r&&mwe(r,!0),o._theme=r,o._locale=z2t(i.locale||W_e),o._coordSysMgr=new K2;var c=o._api=$ne(o);function f(d,h){return d.__prio-h.__prio}return Bk(XP,f),Bk(z5,f),o._scheduler=new Hwe(o,c,z5,XP),o._messageCenter=new lSe,o._initEvents(),o.resize=vn(o.resize,o),u.animation.on("frame",o._onframe,o),Dne(u,o),Nne(u,o),TP(o),o}return e.prototype._onframe=function(){if(!this._disposed){Fne(this);var n=this._scheduler;if(this[vl]){var r=this[vl].silent;this[vs]=!0;try{b0(this),ep.update.call(this,null,this[vl].updateParams)}catch(l){throw this[vs]=!1,this[vl]=null,l}this._zr.flush(),this[vs]=!1,this[vl]=null,Ow.call(this,r),Iw.call(this,r)}else if(n.unfinished){var i=uAt,o=this._model,a=this._api;n.unfinished=!1;do{var s=+new Date;n.performSeriesTasks(o),n.performDataProcessorTasks(o),$4(this,o),n.performVisualTasks(o),JT(this,this._model,a,"remain",{}),i-=+new Date-s}while(i>0&&n.unfinished);n.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(n,r,i){if(!this[vs]){if(this._disposed){this.id;return}var o,a,s;if(Zn(r)&&(i=r.lazyUpdate,o=r.silent,a=r.replaceMerge,s=r.transition,r=r.notMerge),this[vs]=!0,!this._model||r){var l=new dEt(this._api),u=this._theme,c=this._model=new YG;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(n,{replaceMerge:a},H5);var f={seriesTransition:s,optionChanged:!0};if(i)this[vl]={silent:o,updateParams:f},this[vs]=!1,this.getZr().wakeUp();else{try{b0(this),ep.update.call(this,null,f)}catch(d){throw this[vl]=null,this[vs]=!1,d}this._ssr||this._zr.flush(),this[vl]=null,this[vs]=!1,Ow.call(this,o),Iw.call(this,o)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Fr.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},e.prototype.renderToCanvas=function(n){n=n||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(n){n=n||{};var r=this._zr.painter;return r.renderToString({useViewBox:n.useViewBox})},e.prototype.getSvgDataURL=function(){if(Fr.svgSupported){var n=this._zr,r=n.storage.getDisplayList();return ie(r,function(i){i.stopAnimation(null,!0)}),n.painter.toDataURL()}},e.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var r=n.excludeComponents,i=this._model,o=[],a=this;ie(r,function(l){i.eachComponent({mainType:l},function(u){var c=a._componentsMap[u.__viewId];c.group.ignore||(o.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return ie(o,function(l){l.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var r=n.type==="svg",i=this.group,o=Math.min,a=Math.max,s=1/0;if(xAt[i]){var l=s,u=s,c=-s,f=-s,d=[],h=n&&n.pixelRatio||this.getDevicePixelRatio();ie(Vne,function(b,w){if(b.group===i){var S=r?b.getZr().painter.getSvgDom().innerHTML:b.renderToCanvas(Jn(n)),x=b.getDom().getBoundingClientRect();l=o(x.left,l),u=o(x.top,u),c=a(x.right,c),f=a(x.bottom,f),d.push({dom:S,left:x.left,top:x.top})}}),l*=h,u*=h,c*=h,f*=h;var p=c-l,v=f-u,g=gv.createCanvas(),m=Kee(g,{renderer:r?"svg":"canvas"});if(m.resize({width:p,height:v}),r){var y="";return ie(d,function(b){var w=b.left-l,S=b.top-u;y+='<g transform="translate('+w+","+S+')">'+b.dom+"</g>"}),m.painter.getSvgRoot().innerHTML=y,n.connectedBackgroundColor&&m.painter.setBackgroundColor(n.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}else return n.connectedBackgroundColor&&m.add(new Jr({shape:{x:0,y:0,width:p,height:v},style:{fill:n.connectedBackgroundColor}})),ie(d,function(b){var w=new qa({style:{x:b.left*h-l,y:b.top*h-u,image:b.dom}});m.add(w)}),m.refreshImmediately(),g.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},e.prototype.convertToPixel=function(n,r){return B4(this,"convertToPixel",n,r)},e.prototype.convertFromPixel=function(n,r){return B4(this,"convertFromPixel",n,r)},e.prototype.containPixel=function(n,r){if(this._disposed){this.id;return}var i=this._model,o,a=ix(i,n);return ie(a,function(s,l){l.indexOf("Models")>=0&&ie(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)o=o||!!c.containPoint(r);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(o=o||f.containPoint(r,u))}},this)},this),!!o},e.prototype.getVisual=function(n,r){var i=this._model,o=ix(i,n,{defaultMainType:"series"}),a=o.seriesModel,s=a.getData(),l=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?s.indexOfRawIndex(o.dataIndex):null;return l!=null?t9(s,l,r):Y2(s,r)},e.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},e.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},e.prototype._initEvents=function(){var n=this;ie(SAt,function(r){var i=function(o){var a=n.getModel(),s=o.target,l,u=r==="globalout";if(u?l={}:s&&am(s,function(p){var v=ar(p);if(v&&v.dataIndex!=null){var g=v.dataModel||a.getSeriesByIndex(v.seriesIndex);return l=g&&g.getDataParams(v.dataIndex,v.dataType,s)||{},!0}else if(v.eventData)return l=yt({},v.eventData),!0},!0),l){var c=l.componentType,f=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",f=l.seriesIndex);var d=c&&f!=null&&a.getComponent(c,f),h=d&&n[d.mainType==="series"?"_chartsMap":"_componentsMap"][d.__viewId];l.event=o,l.type=r,n._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:d,view:h},n.trigger(r,l)}};i.zrEventfulCallAtLast=!0,n._zr.on(r,i,n)}),ie(YP,function(r,i){n._messageCenter.on(i,function(o){this.trigger(i,o)},n)}),ie(["selectchanged"],function(r){n._messageCenter.on(r,function(i){this.trigger(r,i)},n)}),RTt(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&Bxt(this.getDom(),CAt,"");var r=this,i=r._api,o=r._model;ie(r._componentsViews,function(a){a.dispose(o,i)}),ie(r._chartsViews,function(a){a.dispose(o,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete Vne[r.id]},e.prototype.resize=function(n){if(!this[vs]){if(this._disposed){this.id;return}this._zr.resize(n);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),o=n&&n.silent;this[vl]&&(o==null&&(o=this[vl].silent),i=!0,this[vl]=null),this[vs]=!0;try{i&&b0(this),ep.update.call(this,{type:"resize",animation:yt({duration:0},n&&n.animation)})}catch(a){throw this[vs]=!1,a}this[vs]=!1,Ow.call(this,o),Iw.call(this,o)}}},e.prototype.showLoading=function(n,r){if(this._disposed){this.id;return}if(Zn(n)&&(r=n,n=""),n=n||"default",this.hideLoading(),!!j5[n]){var i=j5[n](this._api,r),o=this._zr;this._loadingFX=i,o.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(n){var r=yt({},n);return r.type=YP[n.type],r},e.prototype.dispatchAction=function(n,r){if(this._disposed){this.id;return}if(Zn(r)||(r={silent:!!r}),!!KP[n.type]&&this._model){if(this[vs]){this._pendingActions.push(n);return}var i=r.silent;F4.call(this,n,i);var o=r.flush;o?this._zr.flush():o!==!1&&Fr.browser.weChat&&this._throttledZrFlush(),Ow.call(this,i),Iw.call(this,i)}},e.prototype.updateLabelLayout=function(){yf.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(n){if(this._disposed){this.id;return}var r=n.seriesIndex,i=this.getModel(),o=i.getSeriesByIndex(r);o.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=(function(){b0=function(f){var d=f._scheduler;d.restorePipelines(f._model),d.prepareStageTasks(),N4(f,!0),N4(f,!1),d.plan()},N4=function(f,d){for(var h=f._model,p=f._scheduler,v=d?f._componentsViews:f._chartsViews,g=d?f._componentsMap:f._chartsMap,m=f._zr,y=f._api,b=0;b<v.length;b++)v[b].__alive=!1;d?h.eachComponent(function(x,C){x!=="series"&&w(C)}):h.eachSeries(w);function w(x){var C=x.__requireNewView;x.__requireNewView=!1;var E="_ec_"+x.id+"_"+x.type,T=!C&&g[E];if(!T){var A=Rf(x.type),k=d?so.getClass(A.main,A.sub):Oi.getClass(A.sub);T=new k,T.init(h,y),g[E]=T,v.push(T),m.add(T.group)}x.__viewId=T.__id=E,T.__alive=!0,T.__model=x,T.group.__ecComponentInfo={mainType:x.mainType,index:x.componentIndex},!d&&p.prepareView(T,x,h,y)}for(var b=0;b<v.length;){var S=v[b];S.__alive?b++:(!d&&S.renderTask.dispose(),m.remove(S.group),S.dispose(h,y),v.splice(b,1),g[S.__id]===S&&delete g[S.__id],S.__id=S.group.__ecComponentInfo=null)}},ZT=function(f,d,h,p,v){var g=f._model;if(g.setUpdatePayload(h),!p){ie([].concat(f._componentsViews).concat(f._chartsViews),S);return}var m={};m[p+"Id"]=h[p+"Id"],m[p+"Index"]=h[p+"Index"],m[p+"Name"]=h[p+"Name"];var y={mainType:p,query:m};v&&(y.subType=v);var b=h.excludeSeriesId,w;b!=null&&(w=Mn(),ie(Mi(b),function(x){var C=ca(x,null);C!=null&&w.set(C,!0)})),g&&g.eachComponent(y,function(x){var C=w&&w.get(x.id)!=null;if(!C)if(Ste(h))if(x instanceof Ui)h.type===Cm&&!h.notBlur&&!x.get(["emphasis","disabled"])&&VCt(x,h,f._api);else{var E=LG(x.mainType,x.componentIndex,h.name,f._api),T=E.focusSelf,A=E.dispatchers;h.type===Cm&&T&&!h.notBlur&&x5(x.mainType,x.componentIndex,f._api),A&&ie(A,function(k){h.type===Cm?vh(k):gh(k)})}else E5(h)&&x instanceof Ui&&(jCt(x,h,f._api),_te(x),uu(f))},f),g&&g.eachComponent(y,function(x){var C=w&&w.get(x.id)!=null;C||S(f[p==="series"?"_chartsMap":"_componentsMap"][x.__viewId])},f);function S(x){x&&x.__alive&&x[d]&&x[d](x.__model,g,f._api,h)}},ep={prepareAndUpdate:function(f){b0(this),ep.update.call(this,f,{optionChanged:f.newOption!=null})},update:function(f,d){var h=this._model,p=this._api,v=this._zr,g=this._coordSysMgr,m=this._scheduler;if(h){h.setUpdatePayload(f),m.restoreData(h,f),m.performSeriesTasks(h),g.create(h,p),m.performDataProcessorTasks(h,f),$4(this,h),g.update(h,p),n(h),m.performVisualTasks(h,f),V4(this,h,p,f,d);var y=h.get("backgroundColor")||"transparent",b=h.get("darkMode");v.setBackgroundColor(y),b!=null&&b!=="auto"&&v.setDarkMode(b),yf.trigger("afterupdate",h,p)}},updateTransform:function(f){var d=this,h=this._model,p=this._api;if(h){h.setUpdatePayload(f);var v=[];h.eachComponent(function(m,y){if(m!=="series"){var b=d.getViewOfComponentModel(y);if(b&&b.__alive)if(b.updateTransform){var w=b.updateTransform(y,h,p,f);w&&w.update&&v.push(b)}else v.push(b)}});var g=Mn();h.eachSeries(function(m){var y=d._chartsMap[m.__viewId];if(y.updateTransform){var b=y.updateTransform(m,h,p,f);b&&b.update&&g.set(m.uid,1)}else g.set(m.uid,1)}),n(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0,dirtyMap:g}),JT(this,h,p,f,{},g),yf.trigger("afterupdate",h,p)}},updateView:function(f){var d=this._model;d&&(d.setUpdatePayload(f),Oi.markUpdateMethod(f,"updateView"),n(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0}),V4(this,d,this._api,f,{}),yf.trigger("afterupdate",d,this._api))},updateVisual:function(f){var d=this,h=this._model;h&&(h.setUpdatePayload(f),h.eachSeries(function(p){p.getData().clearAllVisual()}),Oi.markUpdateMethod(f,"updateVisual"),n(h),this._scheduler.performVisualTasks(h,f,{visualType:"visual",setDirty:!0}),h.eachComponent(function(p,v){if(p!=="series"){var g=d.getViewOfComponentModel(v);g&&g.__alive&&g.updateVisual(v,h,d._api,f)}}),h.eachSeries(function(p){var v=d._chartsMap[p.__viewId];v.updateVisual(p,h,d._api,f)}),yf.trigger("afterupdate",h,this._api))},updateLayout:function(f){ep.update.call(this,f)}},B4=function(f,d,h,p){if(f._disposed){f.id;return}for(var v=f._model,g=f._coordSysMgr.getCoordinateSystems(),m,y=ix(v,h),b=0;b<g.length;b++){var w=g[b];if(w[d]&&(m=w[d](v,y,p))!=null)return m}},$4=function(f,d){var h=f._chartsMap,p=f._scheduler;d.eachSeries(function(v){p.updateStreamModes(v,h[v.__viewId])})},F4=function(f,d){var h=this,p=this.getModel(),v=f.type,g=f.escapeConnect,m=KP[v],y=m.actionInfo,b=(y.update||"update").split(":"),w=b.pop(),S=b[0]!=null&&Rf(b[0]);this[vs]=!0;var x=[f],C=!1;f.batch&&(C=!0,x=kt(f.batch,function(L){return L=Yn(yt({},L),f),L.batch=null,L}));var E=[],T,A=E5(f),k=Ste(f);if(k&&E_e(this._api),ie(x,function(L){if(T=m.action(L,h._model,h._api),T=T||yt({},L),T.type=y.event||T.type,E.push(T),k){var I=TG(f),R=I.queryOptionMap,V=I.mainTypeSpecified,P=V?R.keys()[0]:"series";ZT(h,w,L,P),uu(h)}else A?(ZT(h,w,L,"series"),uu(h)):S&&ZT(h,w,L,S.main,S.sub)}),w!=="none"&&!k&&!A&&!S)try{this[vl]?(b0(this),ep.update.call(this,f),this[vl]=null):ep[w].call(this,f)}catch(L){throw this[vs]=!1,L}if(C?T={type:y.event||v,escapeConnect:g,batch:E}:T=E[0],this[vs]=!1,!d){var M=this._messageCenter;if(M.trigger(T.type,T),A){var D={type:"selectchanged",escapeConnect:g,selected:GCt(p),isFromClick:f.isFromClick||!1,fromAction:f.type,fromActionPayload:f};M.trigger(D.type,D)}}},Ow=function(f){for(var d=this._pendingActions;d.length;){var h=d.shift();F4.call(this,h,f)}},Iw=function(f){!f&&this.trigger("updated")},Dne=function(f,d){f.on("rendered",function(h){d.trigger("rendered",h),f.animation.isFinished()&&!d[vl]&&!d._scheduler.unfinished&&!d._pendingActions.length&&d.trigger("finished")})},Nne=function(f,d){f.on("mouseover",function(h){var p=h.target,v=am(p,_C);v&&(zCt(v,h,d._api),uu(d))}).on("mouseout",function(h){var p=h.target,v=am(p,_C);v&&(HCt(v,h,d._api),uu(d))}).on("click",function(h){var p=h.target,v=am(p,function(y){return ar(y).dataIndex!=null},!0);if(v){var g=v.selected?"unselect":"select",m=ar(v);d._api.dispatchAction({type:g,dataType:m.dataType,dataIndexInside:m.dataIndex,seriesIndex:m.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(d){d.clearColorPalette()})}function r(f){var d=[],h=[],p=!1;if(f.eachComponent(function(y,b){var w=b.get("zlevel")||0,S=b.get("z")||0,x=b.getZLevelKey();p=p||!!x,(y==="series"?h:d).push({zlevel:w,z:S,idx:b.componentIndex,type:y,key:x})}),p){var v=d.concat(h),g,m;Bk(v,function(y,b){return y.zlevel===b.zlevel?y.z-b.z:y.zlevel-b.zlevel}),ie(v,function(y){var b=f.getComponent(y.type,y.idx),w=y.zlevel,S=y.key;g!=null&&(w=Math.max(g,w)),S?(w===g&&S!==m&&w++,m=S):m&&(w===g&&w++,m=""),g=w,b.setZLevel(w)})}}V4=function(f,d,h,p,v){r(d),Bne(f,d,h,p,v),ie(f._chartsViews,function(g){g.__alive=!1}),JT(f,d,h,p,v),ie(f._chartsViews,function(g){g.__alive||g.remove(d,h)})},Bne=function(f,d,h,p,v,g){ie(g||f._componentsViews,function(m){var y=m.__model;u(y,m),m.render(y,d,h,p),s(y,m),c(y,m)})},JT=function(f,d,h,p,v,g){var m=f._scheduler;v=yt(v||{},{updatedSeries:d.getSeries()}),yf.trigger("series:beforeupdate",d,h,v);var y=!1;d.eachSeries(function(b){var w=f._chartsMap[b.__viewId];w.__alive=!0;var S=w.renderTask;m.updatePayload(S,p),u(b,w),g&&g.get(b.uid)&&S.dirty(),S.perform(m.getPerformArgs(S))&&(y=!0),w.group.silent=!!b.get("silent"),a(b,w),_te(b)}),m.unfinished=y||m.unfinished,yf.trigger("series:layoutlabels",d,h,v),yf.trigger("series:transition",d,h,v),d.eachSeries(function(b){var w=f._chartsMap[b.__viewId];s(b,w),c(b,w)}),o(f,d),yf.trigger("series:afterupdate",d,h,v)},uu=function(f){f[D4]=!0,f.getZr().wakeUp()},Fne=function(f){f[D4]&&(f.getZr().storage.traverse(function(d){Tb(d)||i(d)}),f[D4]=!1)};function i(f){for(var d=[],h=f.currentStates,p=0;p<h.length;p++){var v=h[p];v==="emphasis"||v==="blur"||v==="select"||d.push(v)}f.selected&&f.states.select&&d.push("select"),f.hoverState===kR&&f.states.emphasis?d.push("emphasis"):f.hoverState===H2&&f.states.blur&&d.push("blur"),f.useStates(d)}function o(f,d){var h=f._zr,p=h.storage,v=0;p.traverse(function(g){g.isGroup||v++}),v>d.get("hoverLayerThreshold")&&!Fr.node&&!Fr.worker&&d.eachSeries(function(g){if(!g.preventUsingHoverLayer){var m=f._chartsMap[g.__viewId];m.__alive&&m.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}function a(f,d){var h=f.get("blendMode")||null;d.eachRendered(function(p){p.isGroup||(p.style.blend=h)})}function s(f,d){if(!f.preventAutoZ){var h=f.get("z")||0,p=f.get("zlevel")||0;d.eachRendered(function(v){return l(v,h,p,-1/0),!0})}}function l(f,d,h,p){var v=f.getTextContent(),g=f.getTextGuideLine(),m=f.isGroup;if(m)for(var y=f.childrenRef(),b=0;b<y.length;b++)p=Math.max(l(y[b],d,h,p),p);else f.z=d,f.zlevel=h,p=Math.max(f.z2,p);if(v&&(v.z=d,v.zlevel=h,isFinite(p)&&(v.z2=p+2)),g){var w=f.textGuideLineConfig;g.z=d,g.zlevel=h,isFinite(p)&&(g.z2=p+(w&&w.showAbove?1:-1))}return p}function u(f,d){d.eachRendered(function(h){if(!Tb(h)){var p=h.getTextContent(),v=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function c(f,d){var h=f.getModel("stateAnimation"),p=f.isAnimationEnabled(),v=h.get("duration"),g=v>0?{duration:v,delay:h.get("delay"),easing:h.get("easing")}:null;d.eachRendered(function(m){if(m.states&&m.states.emphasis){if(Tb(m))return;if(m instanceof $r&&YCt(m),m.__dirty){var y=m.prevStates;y&&m.useStates(y)}if(p){m.stateTransition=g;var b=m.getTextContent(),w=m.getTextGuideLine();b&&(b.stateTransition=g),w&&(w.stateTransition=g)}m.__dirty&&i(m)}})}$ne=function(f){return new((function(d){nt(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(p){for(;p;){var v=p.__ecComponentInfo;if(v!=null)return f._model.getComponent(v.mainType,v.index);p=p.parent}},h.prototype.enterEmphasis=function(p,v){vh(p,v),uu(f)},h.prototype.leaveEmphasis=function(p,v){gh(p,v),uu(f)},h.prototype.enterBlur=function(p){w_e(p),uu(f)},h.prototype.leaveBlur=function(p){RG(p),uu(f)},h.prototype.enterSelect=function(p){S_e(p),uu(f)},h.prototype.leaveSelect=function(p){x_e(p),uu(f)},h.prototype.getModel=function(){return f.getModel()},h.prototype.getViewOfComponentModel=function(p){return f.getViewOfComponentModel(p)},h.prototype.getViewOfSeriesModel=function(p){return f.getViewOfSeriesModel(p)},h})(vwe))(f)}})(),e})(ec),i9=wAt.prototype;i9.on=oSe("on");i9.off=oSe("off");i9.one=function(t,e,n){var r=this;function i(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];e&&e.apply&&e.apply(this,o),r.off(t,i)}this.on.call(this,t,i,n)};var SAt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],KP={},YP={},z5=[],H5=[],XP=[],cSe={},j5={},Vne={},xAt={},CAt="_echarts_instance_";function fSe(t,e){cSe[t]=e}function dSe(t){Mr(H5,t)<0&&H5.push(t)}function hSe(t,e){a9(z5,t,e,hAt)}function EAt(t){o9("afterinit",t)}function TAt(t){o9("afterupdate",t)}function o9(t,e){yf.on(t,e)}function fd(t,e,n){qn(e)&&(n=e,e="");var r=Zn(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,!YP[e]&&(al(Lne.test(r)&&Lne.test(e)),KP[r]||(KP[r]={action:n,actionInfo:t}),YP[e]=r)}function AAt(t,e){K2.register(t,e)}function kAt(t,e){a9(XP,t,e,nSe,"layout")}function My(t,e){a9(XP,t,e,rSe,"visual")}var zne=[];function a9(t,e,n,r,i){if((qn(e)||Zn(e))&&(n=e,e=r),!(Mr(zne,n)>=0)){zne.push(n);var o=Hwe.wrapStageHandler(n,i);o.__prio=e,o.__raw=n,t.push(o)}}function pSe(t,e){j5[t]=e}function MAt(t,e,n){var r=lAt("registerMap");r&&r(t,e,n)}var PAt=GEt;My(r9,gTt);My(GR,mTt);My(GR,yTt);My(r9,OTt);My(GR,ITt);My(iSe,aAt);dSe(mwe);hSe(fAt,CEt);pSe("default",bTt);fd({type:Cm,event:Cm,update:Cm},Vo);fd({type:jk,event:jk,update:jk},Vo);fd({type:ox,event:ox,update:ox},Vo);fd({type:Gk,event:Gk,update:Gk},Vo);fd({type:ax,event:ax,update:ax},Vo);fSe("light",MTt);fSe("dark",Wwe);var Hne=[],OAt={registerPreprocessor:dSe,registerProcessor:hSe,registerPostInit:EAt,registerPostUpdate:TAt,registerUpdateLifecycle:o9,registerAction:fd,registerCoordinateSystem:AAt,registerLayout:kAt,registerVisual:My,registerTransform:PAt,registerLoading:pSe,registerMap:MAt,registerImpl:sAt,PRIORITY:_At,ComponentModel:Gr,ComponentView:so,SeriesModel:Ui,ChartView:Oi,registerComponentModel:function(t){Gr.registerClass(t)},registerComponentView:function(t){so.registerClass(t)},registerSeriesModel:function(t){Ui.registerClass(t)},registerChartView:function(t){Oi.registerClass(t)},registerSubTypeDefaulter:function(t,e){Gr.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){mxt(t,e)}};function Dr(t){if(Tt(t)){ie(t,function(e){Dr(e)});return}Mr(Hne,t)>=0||(Hne.push(t),qn(t)&&(t={install:t}),t.install(OAt))}function Rw(t){return t==null?0:t.length||1}function jne(t){return t}var mh=(function(){function t(e,n,r,i,o,a){this._old=e,this._new=n,this._oldKeyGetter=r||jne,this._newKeyGetter=i||jne,this.context=o,this._diffModeMultiple=a==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,n=this._new,r={},i=new Array(e.length),o=new Array(n.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(n,r,o,"_newKeyGetter");for(var a=0;a<e.length;a++){var s=i[a],l=r[s],u=Rw(l);if(u>1){var c=l.shift();l.length===1&&(r[s]=l[0]),this._update&&this._update(c,a)}else u===1?(r[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,r)},t.prototype._executeMultiple=function(){var e=this._old,n=this._new,r={},i={},o=[],a=[];this._initIndexMap(e,r,o,"_oldKeyGetter"),this._initIndexMap(n,i,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],u=r[l],c=i[l],f=Rw(u),d=Rw(c);if(f>1&&d===1)this._updateManyToOne&&this._updateManyToOne(c,u),i[l]=null;else if(f===1&&d>1)this._updateOneToMany&&this._updateOneToMany(c,u),i[l]=null;else if(f===1&&d===1)this._update&&this._update(c,u),i[l]=null;else if(f>1&&d>1)this._updateManyToMany&&this._updateManyToMany(c,u),i[l]=null;else if(f>1)for(var h=0;h<f;h++)this._remove&&this._remove(u[h]);else this._remove&&this._remove(u)}this._performRestAdd(a,i)},t.prototype._performRestAdd=function(e,n){for(var r=0;r<e.length;r++){var i=e[r],o=n[i],a=Rw(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else a===1&&this._add&&this._add(o);n[i]=null}},t.prototype._initIndexMap=function(e,n,r,i){for(var o=this._diffModeMultiple,a=0;a<e.length;a++){var s="_ec_"+this[i](e[a],a);if(o||(r[a]=s),!!n){var l=n[s],u=Rw(l);u===0?(n[s]=a,o&&r.push(s)):u===1?n[s]=[l,a]:l.push(a)}}},t})(),IAt=(function(){function t(e,n){this._encode=e,this._schema=n}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t})();function RAt(t,e){var n={},r=n.encode={},i=Mn(),o=[],a=[],s={};ie(t.dimensions,function(d){var h=t.getDimensionInfo(d),p=h.coordDim;if(p){var v=h.coordDimIndex;z4(r,p)[v]=d,h.isExtraCoord||(i.set(p,1),LAt(h.type)&&(o[0]=d),z4(s,p)[v]=t.getDimensionIndex(h.name)),h.defaultTooltip&&a.push(d)}lwe.each(function(g,m){var y=z4(r,m),b=h.otherDims[m];b!=null&&b!==!1&&(y[b]=h.name)})});var l=[],u={};i.each(function(d,h){var p=r[h];u[h]=p[0],l=l.concat(p)}),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=kt(l,function(d){return t.getDimensionInfo(d).storeDimIndex}),n.encodeFirstDimNotExtra=u;var c=r.label;c&&c.length&&(o=c.slice());var f=r.tooltip;return f&&f.length?a=f.slice():a.length||(a=o.slice()),r.defaultedLabel=o,r.defaultedTooltip=a,n.userOutput=new IAt(s,e),n}function z4(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function ZP(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function LAt(t){return!(t==="ordinal"||t==="time")}var Yk=(function(){function t(e){this.otherDims={},e!=null&&yt(this,e)}return t})(),DAt=Qr(),NAt={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},vSe=(function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=ySe(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return dr(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var n=this.source.dimensionsDefine;if(n)return n[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,n=bwe(this.source),r=!bSe(e),i="",o=[],a=0,s=0;a<e;a++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===a)l=n?f.name:null,u=f.type,c=f.ordinalMeta,s++;else{var d=this.getSourceDimension(a);d&&(l=n?d.name:null,u=d.type)}o.push({property:l,type:u,ordinalMeta:c}),n&&l!=null&&(!f||!f.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=NAt[u]||"f",c&&(i+=c.uid),i+="$"}var h=this.source,p=[h.seriesLayoutBy,h.startIndex,i].join("$$");return{dimensions:o,hash:p}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],n=0,r=0;n<this._fullDimCount;n++){var i=void 0,o=this.dimensions[r];if(o&&o.storeDimIndex===n)o.isCalculationCoord||(i=o.name),r++;else{var a=this.getSourceDimension(n);a&&(i=a.name)}e.push(i)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t})();function gSe(t){return t instanceof vSe}function mSe(t){for(var e=Mn(),n=0;n<(t||[]).length;n++){var r=t[n],i=Zn(r)?r.name:r;i!=null&&e.get(i)==null&&e.set(i,n)}return e}function ySe(t){var e=DAt(t);return e.dimNameMap||(e.dimNameMap=mSe(t.dimensionsDefine))}function bSe(t){return t>30}var Lw=Zn,tp=kt,BAt=typeof Int32Array>"u"?Array:Int32Array,$At="e\0\0",Gne=-1,FAt=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],VAt=["_approximateExtent"],Une,QT,Dw,Nw,H4,Bw,j4,Qs=(function(){function t(e,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var r,i=!1;gSe(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var o={},a=[],s={},l=!1,u={},c=0;c<r.length;c++){var f=r[c],d=fn(f)?new Yk({name:f}):f instanceof Yk?f:new Yk(f),h=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=h,d.coordDimIndex=0);var p=d.otherDims=d.otherDims||{};a.push(h),o[h]=d,u[h]!=null&&(l=!0),d.createInvertedIndices&&(s[h]=[]),p.itemName===0&&(this._nameDimIdx=c),p.itemId===0&&(this._idDimIdx=c),i&&(d.storeDimIndex=c)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=n,this._invertedIndicesMap=s,this._dimOmitted){var v=this._dimIdxToName=Mn();ie(a,function(g){v.set(o[g].storeDimIndex,g)})}}return t.prototype.getDimension=function(e){var n=this._recognizeDimIndex(e);if(n==null)return e;if(n=e,!this._dimOmitted)return this.dimensions[n];var r=this._dimIdxToName.get(n);if(r!=null)return r;var i=this._schema.getSourceDimension(n);if(i)return i.name},t.prototype.getDimensionIndex=function(e){var n=this._recognizeDimIndex(e);if(n!=null)return n;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(ri(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var n=this.getDimensionIndex(e);return n},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var n=this._dimInfos;this._getDimInfo=e?function(r){return n.hasOwnProperty(r)?n[r]:void 0}:function(r){return n[r]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,n){var r=this._dimSummary;if(n==null)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[n]:null},t.prototype.mapDimensionsAll=function(e){var n=this._dimSummary,r=n.encode[e];return(r||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,n,r){var i=this,o;if(e instanceof L5&&(o=e),!o){var a=this.dimensions,s=XG(e)||Ls(e)?new _we(e,a.length):e;o=new L5;var l=tp(a,function(u){return{type:i._dimInfos[u].type,property:u}});o.initData(s,l,r)}this._store=o,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=RAt(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var n=this._store.appendData(e);this._doInit(n[0],n[1])},t.prototype.appendValues=function(e,n){var r=this._store.appendValues(e,n&&n.length),i=r.start,o=r.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var s=i;s<o;s++){var l=s-i;this._nameList[s]=n[l],a&&j4(this,s)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,n=this.dimensions,r=0;r<n.length;r++){var i=this._dimInfos[n[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Kp&&!e.fillStorage},t.prototype._doInit=function(e,n){if(!(e>=n)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var o=this._nameList,a=this._idList,s=i.getSource().sourceFormat,l=s===tc;if(l&&!i.pure)for(var u=[],c=e;c<n;c++){var f=i.getItem(c,u);if(!this.hasItemOption&&Cxt(f)&&(this.hasItemOption=!0),f){var d=f.name;o[c]==null&&d!=null&&(o[c]=ca(d,null));var h=f.id;a[c]==null&&h!=null&&(a[c]=ca(h,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<n;c++)j4(this,c);Une(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,n){n=this.getDimension(n),this._approximateExtent[n]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,n){Lw(e)?yt(this._calculationInfo,e):this._calculationInfo[e]=n},t.prototype.getName=function(e){var n=this.getRawIndex(e),r=this._nameList[n];return r==null&&this._nameDimIdx!=null&&(r=Dw(this,this._nameDimIdx,n)),r==null&&(r=""),r},t.prototype._getCategory=function(e,n){var r=this._store.get(e,n),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},t.prototype.getId=function(e){return QT(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,n){var r=this._store,i=this._dimInfos[e];if(i)return r.get(i.storeDimIndex,n)},t.prototype.getByRawIndex=function(e,n){var r=this._store,i=this._dimInfos[e];if(i)return r.getByRawIndex(i.storeDimIndex,n)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,n){var r=this,i=this._store;return Tt(e)?i.getValues(tp(e,function(o){return r._getStoreDimIndex(o)}),n):i.getValues(e)},t.prototype.hasValue=function(e){for(var n=this._dimSummary.dataDimIndicesOnCoord,r=0,i=n.length;r<i;r++)if(isNaN(this._store.get(n[r],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var n=0,r=this._store.count();n<r;n++)if(this.getName(n)===e)return n;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,n){var r=e&&this._invertedIndicesMap[e],i=r&&r[n];return i==null||isNaN(i)?Gne:i},t.prototype.indicesOfNearest=function(e,n,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),n,r)},t.prototype.each=function(e,n,r){qn(e)&&(r=n,n=e,e=[]);var i=r||this,o=tp(Nw(e),this._getStoreDimIndex,this);this._store.each(o,i?vn(n,i):n)},t.prototype.filterSelf=function(e,n,r){qn(e)&&(r=n,n=e,e=[]);var i=r||this,o=tp(Nw(e),this._getStoreDimIndex,this);return this._store=this._store.filter(o,i?vn(n,i):n),this},t.prototype.selectRange=function(e){var n=this,r={},i=Ur(e);return ie(i,function(o){var a=n._getStoreDimIndex(o);r[a]=e[o]}),this._store=this._store.selectRange(r),this},t.prototype.mapArray=function(e,n,r){qn(e)&&(r=n,n=e,e=[]),r=r||this;var i=[];return this.each(e,function(){i.push(n&&n.apply(this,arguments))},r),i},t.prototype.map=function(e,n,r,i){var o=r||i||this,a=tp(Nw(e),this._getStoreDimIndex,this),s=Bw(this);return s._store=this._store.map(a,o?vn(n,o):n),s},t.prototype.modify=function(e,n,r,i){var o=r||i||this,a=tp(Nw(e),this._getStoreDimIndex,this);this._store.modify(a,o?vn(n,o):n)},t.prototype.downSample=function(e,n,r,i){var o=Bw(this);return o._store=this._store.downSample(this._getStoreDimIndex(e),n,r,i),o},t.prototype.minmaxDownSample=function(e,n){var r=Bw(this);return r._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),n),r},t.prototype.lttbDownSample=function(e,n){var r=Bw(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),n),r},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var n=this.hostModel,r=this.getRawDataItem(e);return new Ci(r,n,n&&n.ecModel)},t.prototype.diff=function(e){var n=this;return new mh(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return QT(e,r)},function(r){return QT(n,r)})},t.prototype.getVisual=function(e){var n=this._visual;return n&&n[e]},t.prototype.setVisual=function(e,n){this._visual=this._visual||{},Lw(e)?yt(this._visual,e):this._visual[e]=n},t.prototype.getItemVisual=function(e,n){var r=this._itemVisuals[e],i=r&&r[n];return i??this.getVisual(n)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,n){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var o=i[n];return o==null&&(o=this.getVisual(n),Tt(o)?o=o.slice():Lw(o)&&(o=yt({},o)),i[n]=o),o},t.prototype.setItemVisual=function(e,n,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,Lw(n)?yt(i,n):i[n]=r},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,n){Lw(e)?yt(this._layout,e):this._layout[e]=n},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,n,r){this._itemLayouts[e]=r?yt(this._itemLayouts[e]||{},n):n},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,n){var r=this.hostModel&&this.hostModel.seriesIndex;w5(r,this.dataType,e,n),this._graphicEls[e]=n},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,n){ie(this._graphicEls,function(r,i){r&&e&&e.call(n,r,i)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:tp(this.dimensions,this._getDimInfo,this),this.hostModel)),H4(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,n){var r=this[e];qn(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return n.apply(this,[i].concat(hG(arguments)))})},t.internalField=(function(){Une=function(e){var n=e._invertedIndicesMap;ie(n,function(r,i){var o=e._dimInfos[i],a=o.ordinalMeta,s=e._store;if(a){r=n[i]=new BAt(a.categories.length);for(var l=0;l<r.length;l++)r[l]=Gne;for(var l=0;l<s.count();l++)r[s.get(o.storeDimIndex,l)]=l}})},Dw=function(e,n,r){return ca(e._getCategory(n,r),null)},QT=function(e,n){var r=e._idList[n];return r==null&&e._idDimIdx!=null&&(r=Dw(e,e._idDimIdx,n)),r==null&&(r=$At+n),r},Nw=function(e){return Tt(e)||(e=e!=null?[e]:[]),e},Bw=function(e){var n=new t(e._schema?e._schema:tp(e.dimensions,e._getDimInfo,e),e.hostModel);return H4(n,e),n},H4=function(e,n){ie(FAt.concat(n.__wrappedMethods||[]),function(r){n.hasOwnProperty(r)&&(e[r]=n[r])}),e.__wrappedMethods=n.__wrappedMethods,ie(VAt,function(r){e[r]=Jn(n[r])}),e._calculationInfo=yt({},n._calculationInfo)},j4=function(e,n){var r=e._nameList,i=e._idList,o=e._nameDimIdx,a=e._idDimIdx,s=r[n],l=i[n];if(s==null&&o!=null&&(r[n]=s=Dw(e,o,n)),l==null&&a!=null&&(i[n]=l=Dw(e,a,n)),l==null&&s!=null){var u=e._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),i[n]=l}}})(),t})();function X2(t,e){XG(t)||(t=ZG(t)),e=e||{};var n=e.coordDimensions||[],r=e.dimensionsDefine||t.dimensionsDefine||[],i=Mn(),o=[],a=HAt(t,n,r,e.dimensionsCount),s=e.canOmitUnusedDimensions&&bSe(a),l=r===t.dimensionsDefine,u=l?ySe(t):mSe(r),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(t,a));for(var f=Mn(c),d=new kwe(a),h=0;h<d.length;h++)d[h]=-1;function p(T){var A=d[T];if(A<0){var k=r[T],M=Zn(k)?k:{name:k},D=new Yk,L=M.name;L!=null&&u.get(L)!=null&&(D.name=D.displayName=L),M.type!=null&&(D.type=M.type),M.displayName!=null&&(D.displayName=M.displayName);var I=o.length;return d[T]=I,D.storeDimIndex=T,o.push(D),D}return o[A]}if(!s)for(var h=0;h<a;h++)p(h);f.each(function(T,A){var k=Mi(T).slice();if(k.length===1&&!fn(k[0])&&k[0]<0){f.set(A,!1);return}var M=f.set(A,[]);ie(k,function(D,L){var I=fn(D)?u.get(D):D;I!=null&&I<a&&(M[L]=I,g(p(I),A,L))})});var v=0;ie(n,function(T){var A,k,M,D;if(fn(T))A=T,D={};else{D=T,A=D.name;var L=D.ordinalMeta;D.ordinalMeta=null,D=yt({},D),D.ordinalMeta=L,k=D.dimsDef,M=D.otherDims,D.name=D.coordDim=D.coordDimIndex=D.dimsDef=D.otherDims=null}var I=f.get(A);if(I!==!1){if(I=Mi(I),!I.length)for(var R=0;R<(k&&k.length||1);R++){for(;v<a&&p(v).coordDim!=null;)v++;v<a&&I.push(v++)}ie(I,function(V,P){var B=p(V);if(l&&D.type!=null&&(B.type=D.type),g(Yn(B,D),A,P),B.name==null&&k){var j=k[P];!Zn(j)&&(j={name:j}),B.name=B.displayName=j.name,B.defaultTooltip=j.defaultTooltip}M&&Yn(B.otherDims,M)})}});function g(T,A,k){lwe.get(A)!=null?T.otherDims[A]=k:(T.coordDim=A,T.coordDimIndex=k,i.set(A,!0))}var m=e.generateCoord,y=e.generateCoordCount,b=y!=null;y=m?y||1:0;var w=m||"value";function S(T){T.name==null&&(T.name=T.coordDim)}if(s)ie(o,function(T){S(T)}),o.sort(function(T,A){return T.storeDimIndex-A.storeDimIndex});else for(var x=0;x<a;x++){var C=p(x),E=C.coordDim;E==null&&(C.coordDim=jAt(w,i,b),C.coordDimIndex=0,(!m||y<=0)&&(C.isExtraCoord=!0),y--),S(C),C.type==null&&(dwe(t,x)===Ya.Must||C.isExtraCoord&&(C.otherDims.itemName!=null||C.otherDims.seriesName!=null))&&(C.type="ordinal")}return zAt(o),new vSe({source:t,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function zAt(t){for(var e=Mn(),n=0;n<t.length;n++){var r=t[n],i=r.name,o=e.get(i)||0;o>0&&(r.name=i+(o-1)),o++,e.set(i,o)}}function HAt(t,e,n,r){var i=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,r||0);return ie(e,function(o){var a;Zn(o)&&(a=o.dimsDef)&&(i=Math.max(i,a.length))}),i}function jAt(t,e,n){if(n||e.hasKey(t)){for(var r=0;e.hasKey(t+r);)r++;t+=r}return e.set(t,!0),t}var GAt=(function(){function t(e){this.coordSysDims=[],this.axisMap=Mn(),this.categoryAxisMap=Mn(),this.coordSysName=e}return t})();function UAt(t){var e=t.get("coordinateSystem"),n=new GAt(e),r=WAt[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}var WAt={cartesian2d:function(t,e,n,r){var i=t.getReferringComponents("xAxis",Qo).models[0],o=t.getReferringComponents("yAxis",Qo).models[0];e.coordSysDims=["x","y"],n.set("x",i),n.set("y",o),_0(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),_0(o)&&(r.set("y",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,r){var i=t.getReferringComponents("singleAxis",Qo).models[0];e.coordSysDims=["single"],n.set("single",i),_0(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var i=t.getReferringComponents("polar",Qo).models[0],o=i.findAxisModel("radiusAxis"),a=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),_0(o)&&(r.set("radius",o),e.firstCategoryDimIndex=0),_0(a)&&(r.set("angle",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var i=t.ecModel,o=i.getComponent("parallel",t.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();ie(o.parallelAxisIndex,function(s,l){var u=i.getComponent("parallelAxis",s),c=a[l];n.set(c,u),_0(u)&&(r.set(c,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function _0(t){return t.get("type")==="category"}function qAt(t,e,n){n=n||{};var r=n.byIndex,i=n.stackedCoordDimension,o,a,s;KAt(e)?o=e:(a=e.schema,o=a.dimensions,s=e.store);var l=!!(t&&t.get("stack")),u,c,f,d;if(ie(o,function(y,b){fn(y)&&(o[b]=y={name:y}),l&&!y.isExtraCoord&&(!r&&!u&&y.ordinalMeta&&(u=y),!c&&y.type!=="ordinal"&&y.type!=="time"&&(!i||i===y.coordDim)&&(c=y))}),c&&!r&&!u&&(r=!0),c){f="__\0ecstackresult_"+t.id,d="__\0ecstackedover_"+t.id,u&&(u.createInvertedIndices=!0);var h=c.coordDim,p=c.type,v=0;ie(o,function(y){y.coordDim===h&&v++});var g={name:f,coordDim:h,coordDimIndex:v,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},m={name:d,coordDim:d,coordDimIndex:v+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};a?(s&&(g.storeDimIndex=s.ensureCalculationDimension(d,p),m.storeDimIndex=s.ensureCalculationDimension(f,p)),a.appendCalculationDimension(g),a.appendCalculationDimension(m)):(o.push(g),o.push(m))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:d,stackResultDimension:f}}function KAt(t){return!gSe(t.schema)}function _v(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function _Se(t,e){return _v(t,e)?t.getCalculationInfo("stackResultDimension"):e}function YAt(t,e){var n=t.get("coordinateSystem"),r=K2.get(n),i;return e&&e.coordSysDims&&(i=kt(e.coordSysDims,function(o){var a={name:o},s=e.axisMap.get(o);if(s){var l=s.get("type");a.type=ZP(l)}return a})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function XAt(t,e,n){var r,i;return n&&ie(t,function(o,a){var s=o.coordDim,l=n.categoryAxisMap.get(s);l&&(r==null&&(r=a),o.ordinalMeta=l.getOrdinalMeta(),e&&(o.createInvertedIndices=!0)),o.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(t[r].otherDims.itemName=0),r}function Bh(t,e,n){n=n||{};var r=e.getSourceManager(),i,o=!1;t?(o=!0,i=ZG(t)):(i=r.getSource(),o=i.sourceFormat===tc);var a=UAt(e),s=YAt(e,a),l=n.useEncodeDefaulter,u=qn(l)?l:l?hr(fwe,s,e):null,c={coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!o},f=X2(i,c),d=XAt(f.dimensions,n.createInvertedIndices,a),h=o?null:r.getSharedDataStore(f),p=qAt(e,{schema:f,store:h}),v=new Qs(f,e);v.setCalculationInfo(p);var g=d!=null&&ZAt(i)?function(m,y,b,w){return w===d?b:this.defaultDimValueGetter(m,y,b,w)}:null;return v.hasItemOption=!1,v.initData(o?i:h,null,g),v}function ZAt(t){if(t.sourceFormat===tc){var e=JAt(t.data||[]);return!Tt(k_(e))}}function JAt(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}var dd=(function(){function t(e){this._setting=e||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(e){return this._setting[e]},t.prototype.unionExtent=function(e){var n=this._extent;e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1])},t.prototype.unionExtentFromData=function(e,n){this.unionExtent(e.getApproximateExtent(n))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(e,n){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(n)||(r[1]=n)},t.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(e){this._isBlank=e},t})();CR(dd);var QAt=0,G5=(function(){function t(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++QAt}return t.createByAxisModel=function(e){var n=e.option,r=n.data,i=r&&kt(r,ekt);return new t({categories:i,needCollect:!i,deduplication:n.dedplication!==!1})},t.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},t.prototype.parseAndCollect=function(e){var n,r=this._needCollect;if(!fn(e)&&!r)return e;if(r&&!this._deduplication)return n=this.categories.length,this.categories[n]=e,n;var i=this._getOrCreateMap();return n=i.get(e),n==null&&(r?(n=this.categories.length,this.categories[n]=e,i.set(e,n)):n=NaN),n},t.prototype._getOrCreateMap=function(){return this._map||(this._map=Mn(this.categories))},t})();function ekt(t){return Zn(t)&&t.value!=null?t.value:t+""}function U5(t){return t.type==="interval"||t.type==="log"}function tkt(t,e,n,r){var i={},o=t[1]-t[0],a=i.interval=xG(o/e,!0);n!=null&&a<n&&(a=i.interval=n),r!=null&&a>r&&(a=i.interval=r);var s=i.intervalPrecision=wSe(a),l=i.niceTickExtent=[wo(Math.ceil(t[0]/a)*a,s),wo(Math.floor(t[1]/a)*a,s)];return nkt(l,t),i}function G4(t){var e=Math.pow(10,xR(t)),n=t/e;return n?n===2?n=3:n===3?n=5:n*=2:n=1,wo(n*e)}function wSe(t){return vc(t)+2}function Wne(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function nkt(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),Wne(t,0,e),Wne(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function UR(t,e){return t>=e[0]&&t<=e[1]}function WR(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function qR(t,e){return t*(e[1]-e[0])+e[0]}var KR=(function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new G5({})),Tt(i)&&(i=new G5({categories:kt(i,function(o){return Zn(o)?o.value:o})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return e.prototype.parse=function(n){return n==null?NaN:fn(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},e.prototype.contain=function(n){return n=this.parse(n),UR(n,this._extent)&&this._ordinalMeta.categories[n]!=null},e.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),WR(n,this._extent)},e.prototype.scale=function(n){return n=Math.round(qR(n,this._extent)),this.getRawOrdinalNumber(n)},e.prototype.getTicks=function(){for(var n=[],r=this._extent,i=r[0];i<=r[1];)n.push({value:i}),i++;return n},e.prototype.getMinorTicks=function(n){},e.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=n.ordinalNumbers,i=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],a=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);a<l;++a){var u=r[a];i[a]=u,o[u]=a}for(var c=0;a<s;++a){for(;o[c]!=null;)c++;i.push(c),o[c]=a}},e.prototype._getTickNumber=function(n){var r=this._ticksByOrdinalNumber;return r&&n>=0&&n<r.length?r[n]:n},e.prototype.getRawOrdinalNumber=function(n){var r=this._ordinalNumbersByTick;return r&&n>=0&&n<r.length?r[n]:n},e.prototype.getLabel=function(n){if(!this.isBlank()){var r=this.getRawOrdinalNumber(n.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},e.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e})(dd);dd.registerClass(KR);var wg=wo,yh=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return e.prototype.parse=function(n){return n},e.prototype.contain=function(n){return UR(n,this._extent)},e.prototype.normalize=function(n){return WR(n,this._extent)},e.prototype.scale=function(n){return qR(n,this._extent)},e.prototype.setExtent=function(n,r){var i=this._extent;isNaN(n)||(i[0]=parseFloat(n)),isNaN(r)||(i[1]=parseFloat(r))},e.prototype.unionExtent=function(n){var r=this._extent;n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1]),this.setExtent(r[0],r[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=wSe(n)},e.prototype.getTicks=function(n){var r=this._interval,i=this._extent,o=this._niceExtent,a=this._intervalPrecision,s=[];if(!r)return s;var l=1e4;i[0]<o[0]&&(n?s.push({value:wg(o[0]-r,a)}):s.push({value:i[0]}));for(var u=o[0];u<=o[1]&&(s.push({value:u}),u=wg(u+r,a),u!==s[s.length-1].value);)if(s.length>l)return[];var c=s.length?s[s.length-1].value:o[1];return i[1]>c&&(n?s.push({value:wg(c+r,a)}):s.push({value:i[1]})),s},e.prototype.getMinorTicks=function(n){for(var r=this.getTicks(!0),i=[],o=this.getExtent(),a=1;a<r.length;a++){for(var s=r[a],l=r[a-1],u=0,c=[],f=s.value-l.value,d=f/n;u<n-1;){var h=wg(l.value+(u+1)*d);h>o[0]&&h<o[1]&&c.push(h),u++}i.push(c)}return i},e.prototype.getLabel=function(n,r){if(n==null)return"";var i=r&&r.precision;i==null?i=vc(n.value)||0:i==="auto"&&(i=this._intervalPrecision);var o=wg(n.value,i,!0);return nwe(o)},e.prototype.calcNiceTicks=function(n,r,i){n=n||5;var o=this._extent,a=o[1]-o[0];if(isFinite(a)){a<0&&(a=-a,o.reverse());var s=tkt(o,n,r,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},e.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);n.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var o=r[1]-r[0];isFinite(o)||(r[0]=0,r[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var a=this._interval;n.fixMin||(r[0]=wg(Math.floor(r[0]/a)*a)),n.fixMax||(r[1]=wg(Math.ceil(r[1]/a)*a))},e.prototype.setNiceExtent=function(n,r){this._niceExtent=[n,r]},e.type="interval",e})(dd);dd.registerClass(yh);var SSe=typeof Float32Array<"u",rkt=SSe?Float32Array:Array;function Lf(t){return Tt(t)?SSe?new Float32Array(t):t:new rkt(t)}var W5="__ec_stack_";function xSe(t){return t.get("stack")||W5+t.seriesIndex}function s9(t){return t.dim+t.index}function ikt(t){var e=[],n=t.axis,r="axis0";if(n.type==="category"){for(var i=n.getBandWidth(),o=0;o<t.count;o++)e.push(Yn({bandWidth:i,axisKey:r,stackId:W5+o},t));for(var a=TSe(e),s=[],o=0;o<t.count;o++){var l=a[r][W5+o];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function CSe(t,e){var n=[];return e.eachSeriesByType(t,function(r){MSe(r)&&n.push(r)}),n}function okt(t){var e={};ie(t,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),d=c.dim+"_"+c.index,h=f.getDimensionIndex(f.mapDimension(c.dim)),p=f.getStore(),v=0,g=p.count();v<g;++v){var m=p.get(h,v);e[d]?e[d].push(m):e[d]=[m]}});var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(l,u){return l-u});for(var o=null,a=1;a<i.length;++a){var s=i[a]-i[a-1];s>0&&(o=o===null?s:Math.min(o,s))}n[r]=o}}return n}function ESe(t){var e=okt(t),n=[];return ie(t,function(r){var i=r.coordinateSystem,o=i.getBaseAxis(),a=o.getExtent(),s;if(o.type==="category")s=o.getBandWidth();else if(o.type==="value"||o.type==="time"){var l=o.dim+"_"+o.index,u=e[l],c=Math.abs(a[1]-a[0]),f=o.scale.getExtent(),d=Math.abs(f[1]-f[0]);s=u?c/d*u:c}else{var h=r.getData();s=Math.abs(a[1]-a[0])/h.count()}var p=on(r.get("barWidth"),s),v=on(r.get("barMaxWidth"),s),g=on(r.get("barMinWidth")||(PSe(r)?.5:1),s),m=r.get("barGap"),y=r.get("barCategoryGap");n.push({bandWidth:s,barWidth:p,barMaxWidth:v,barMinWidth:g,barGap:m,barCategoryGap:y,axisKey:s9(o),stackId:xSe(r)})}),TSe(n)}function TSe(t){var e={};ie(t,function(r,i){var o=r.axisKey,a=r.bandWidth,s=e[o]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;e[o]=s;var u=r.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=r.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var f=r.barMaxWidth;f&&(l[u].maxWidth=f);var d=r.barMinWidth;d&&(l[u].minWidth=d);var h=r.barGap;h!=null&&(s.gap=h);var p=r.barCategoryGap;p!=null&&(s.categoryGap=p)});var n={};return ie(e,function(r,i){n[i]={};var o=r.stacks,a=r.bandWidth,s=r.categoryGap;if(s==null){var l=Ur(o).length;s=Math.max(35-l*4,15)+"%"}var u=on(s,a),c=on(r.gap,1),f=r.remainedWidth,d=r.autoWidthCount,h=(f-u)/(d+(d-1)*c);h=Math.max(h,0),ie(o,function(m){var y=m.maxWidth,b=m.minWidth;if(m.width){var w=m.width;y&&(w=Math.min(w,y)),b&&(w=Math.max(w,b)),m.width=w,f-=w+c*w,d--}else{var w=h;y&&y<w&&(w=Math.min(y,f)),b&&b>w&&(w=b),w!==h&&(m.width=w,f-=w+c*w,d--)}}),h=(f-u)/(d+(d-1)*c),h=Math.max(h,0);var p=0,v;ie(o,function(m,y){m.width||(m.width=h),v=m,p+=m.width*(1+c)}),v&&(p-=v.width*c);var g=-p/2;ie(o,function(m,y){n[i][y]=n[i][y]||{bandWidth:a,offset:g,width:m.width},g+=m.width*(1+c)})}),n}function akt(t,e,n){if(t&&e){var r=t[s9(e)];return r}}function ASe(t,e){var n=CSe(t,e),r=ESe(n);ie(n,function(i){var o=i.getData(),a=i.coordinateSystem,s=a.getBaseAxis(),l=xSe(i),u=r[s9(s)][l],c=u.offset,f=u.width;o.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function kSe(t){return{seriesType:t,plan:N_(),reset:function(e){if(MSe(e)){var n=e.getData(),r=e.coordinateSystem,i=r.getBaseAxis(),o=r.getOtherAxis(i),a=n.getDimensionIndex(n.mapDimension(o.dim)),s=n.getDimensionIndex(n.mapDimension(i.dim)),l=e.get("showBackground",!0),u=n.mapDimension(o.dim),c=n.getCalculationInfo("stackResultDimension"),f=_v(n,u)&&!!n.getCalculationInfo("stackedOnSeries"),d=o.isHorizontal(),h=skt(i,o),p=PSe(e),v=e.get("barMinHeight")||0,g=c&&n.getDimensionIndex(c),m=n.getLayout("size"),y=n.getLayout("offset");return{progress:function(b,w){for(var S=b.count,x=p&&Lf(S*3),C=p&&l&&Lf(S*3),E=p&&Lf(S),T=r.master.getRect(),A=d?T.width:T.height,k,M=w.getStore(),D=0;(k=b.next())!=null;){var L=M.get(f?g:a,k),I=M.get(s,k),R=h,V=void 0;f&&(V=+L-M.get(a,k));var P=void 0,B=void 0,j=void 0,G=void 0;if(d){var W=r.dataToPoint([L,I]);if(f){var Z=r.dataToPoint([V,I]);R=Z[0]}P=R,B=W[1]+y,j=W[0]-R,G=m,Math.abs(j)<v&&(j=(j<0?-1:1)*v)}else{var W=r.dataToPoint([I,L]);if(f){var Z=r.dataToPoint([I,V]);R=Z[1]}P=W[0]+y,B=R,j=m,G=W[1]-R,Math.abs(G)<v&&(G=(G<=0?-1:1)*v)}p?(x[D]=P,x[D+1]=B,x[D+2]=d?j:G,C&&(C[D]=d?T.x:P,C[D+1]=d?B:T.y,C[D+2]=A),E[k]=k):w.setItemLayout(k,{x:P,y:B,width:j,height:G}),D+=3}p&&w.setLayout({largePoints:x,largeDataIndices:E,largeBackgroundPoints:C,valueAxisHorizontal:d})}}}}}}function MSe(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function PSe(t){return t.pipelineContext&&t.pipelineContext.large}function skt(t,e){var n=e.model.get("startValue");return n||(n=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?n>0?n:1:n))}var lkt=function(t,e,n,r){for(;n<r;){var i=n+r>>>1;t[i][1]<e?n=i+1:r=i}return n},l9=(function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.type="time",r}return e.prototype.getLabel=function(n){var r=this.getSetting("useUTC");return DR(n.value,Bte[G2t(kb(this._minLevelUnit))]||Bte.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(n,r,i){var o=this.getSetting("useUTC"),a=this.getSetting("locale");return U2t(n,r,i,a,o)},e.prototype.getTicks=function(){var n=this._interval,r=this._extent,i=[];if(!n)return i;i.push({value:r[0],level:0});var o=this.getSetting("useUTC"),a=vkt(this._minLevelUnit,this._approxInterval,o,r);return i=i.concat(a),i.push({value:r[1],level:0}),i},e.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1]&&(r[0]-=ku,r[1]+=ku),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-ku}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},e.prototype.calcNiceTicks=function(n,r,i){n=n||10;var o=this._extent,a=o[1]-o[0];this._approxInterval=a/n,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=eA.length,l=Math.min(lkt(eA,this._approxInterval,0,s),s-1);this._interval=eA[l][1],this._minLevelUnit=eA[Math.max(l-1,0)][0]},e.prototype.parse=function(n){return ri(n)?n:+Bc(n)},e.prototype.contain=function(n){return UR(this.parse(n),this._extent)},e.prototype.normalize=function(n){return WR(this.parse(n),this._extent)},e.prototype.scale=function(n){return qR(n,this._extent)},e.type="time",e})(yh),eA=[["second",HG],["minute",jG],["hour",lx],["quarter-day",lx*6],["half-day",lx*12],["day",ku*1.2],["half-week",ku*3.5],["week",ku*7],["month",ku*31],["quarter",ku*95],["half-year",Nte/2],["year",Nte]];function ukt(t,e,n,r){var i=Bc(e),o=Bc(n),a=function(p){return $te(i,p,r)===$te(o,p,r)},s=function(){return a("year")},l=function(){return s()&&a("month")},u=function(){return l()&&a("day")},c=function(){return u()&&a("hour")},f=function(){return c()&&a("minute")},d=function(){return f()&&a("second")},h=function(){return d()&&a("millisecond")};switch(t){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return f();case"second":return d();case"millisecond":return h()}}function ckt(t,e){return t/=ku,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function fkt(t){var e=30*ku;return t/=e,t>6?6:t>3?3:t>2?2:1}function dkt(t){return t/=lx,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function qne(t,e){return t/=e?jG:HG,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function hkt(t){return xG(t,!0)}function pkt(t,e,n){var r=new Date(t);switch(kb(e)){case"year":case"month":r[X_e(n)](0);case"day":r[Z_e(n)](1);case"hour":r[J_e(n)](0);case"minute":r[Q_e(n)](0);case"second":r[ewe(n)](0),r[twe(n)](0)}return r.getTime()}function vkt(t,e,n,r){var i=1e4,o=K_e,a=0;function s(A,k,M,D,L,I,R){for(var V=new Date(k),P=k,B=V[D]();P<M&&P<=r[1];)R.push({value:P}),B+=A,V[L](B),P=V.getTime();R.push({value:P,notAdd:!0})}function l(A,k,M){var D=[],L=!k.length;if(!ukt(kb(A),r[0],r[1],n)){L&&(k=[{value:pkt(new Date(r[0]),A,n)},{value:r[1]}]);for(var I=0;I<k.length-1;I++){var R=k[I].value,V=k[I+1].value;if(R!==V){var P=void 0,B=void 0,j=void 0,G=!1;switch(A){case"year":P=Math.max(1,Math.round(e/ku/365)),B=GG(n),j=W2t(n);break;case"half-year":case"quarter":case"month":P=fkt(e),B=Mb(n),j=X_e(n);break;case"week":case"half-week":case"day":P=ckt(e),B=NR(n),j=Z_e(n),G=!0;break;case"half-day":case"quarter-day":case"hour":P=dkt(e),B=SC(n),j=J_e(n);break;case"minute":P=qne(e,!0),B=BR(n),j=Q_e(n);break;case"second":P=qne(e,!1),B=$R(n),j=ewe(n);break;case"millisecond":P=hkt(e),B=FR(n),j=twe(n);break}s(P,R,V,B,j,G,D),A==="year"&&M.length>1&&I===0&&M.unshift({value:M[0].value-P})}}for(var I=0;I<D.length;I++)M.push(D[I]);return D}}for(var u=[],c=[],f=0,d=0,h=0;h<o.length&&a++<i;++h){var p=kb(o[h]);if(j2t(o[h])){l(o[h],u[u.length-1]||[],c);var v=o[h+1]?kb(o[h+1]):null;if(p!==v){if(c.length){d=f,c.sort(function(A,k){return A.value-k.value});for(var g=[],m=0;m<c.length;++m){var y=c[m].value;(m===0||c[m-1].value!==y)&&(g.push(c[m]),y>=r[0]&&y<=r[1]&&f++)}var b=(r[1]-r[0])/e;if(f>b*1.5&&d>b/1.5||(u.push(g),f>b||t===o[h]))break}c=[]}}}for(var w=yi(kt(u,function(A){return yi(A,function(k){return k.value>=r[0]&&k.value<=r[1]&&!k.notAdd})}),function(A){return A.length>0}),S=[],x=w.length-1,h=0;h<w.length;++h)for(var C=w[h],E=0;E<C.length;++E)S.push({value:C[E].value,level:x-h});S.sort(function(A,k){return A.value-k.value});for(var T=[],h=0;h<S.length;++h)(h===0||S[h].value!==S[h-1].value)&&T.push(S[h]);return T}dd.registerClass(l9);var Kne=dd.prototype,cx=yh.prototype,gkt=wo,mkt=Math.floor,ykt=Math.ceil,tA=Math.pow,sc=Math.log,u9=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new yh,n._interval=0,n}return e.prototype.getTicks=function(n){var r=this._originalScale,i=this._extent,o=r.getExtent(),a=cx.getTicks.call(this,n);return kt(a,function(s){var l=s.value,u=wo(tA(this.base,l));return u=l===i[0]&&this._fixMin?nA(u,o[0]):u,u=l===i[1]&&this._fixMax?nA(u,o[1]):u,{value:u}},this)},e.prototype.setExtent=function(n,r){var i=sc(this.base);n=sc(Math.max(0,n))/i,r=sc(Math.max(0,r))/i,cx.setExtent.call(this,n,r)},e.prototype.getExtent=function(){var n=this.base,r=Kne.getExtent.call(this);r[0]=tA(n,r[0]),r[1]=tA(n,r[1]);var i=this._originalScale,o=i.getExtent();return this._fixMin&&(r[0]=nA(r[0],o[0])),this._fixMax&&(r[1]=nA(r[1],o[1])),r},e.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var r=this.base;n[0]=sc(n[0])/sc(r),n[1]=sc(n[1])/sc(r),Kne.unionExtent.call(this,n)},e.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},e.prototype.calcNiceTicks=function(n){n=n||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var o=J1e(i),a=n/i*o;for(a<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var s=[wo(ykt(r[0]/o)*o),wo(mkt(r[1]/o)*o)];this._interval=o,this._niceExtent=s}},e.prototype.calcNiceExtent=function(n){cx.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},e.prototype.parse=function(n){return n},e.prototype.contain=function(n){return n=sc(n)/sc(this.base),UR(n,this._extent)},e.prototype.normalize=function(n){return n=sc(n)/sc(this.base),WR(n,this._extent)},e.prototype.scale=function(n){return n=qR(n,this._extent),tA(this.base,n)},e.type="log",e})(dd),OSe=u9.prototype;OSe.getMinorTicks=cx.getMinorTicks;OSe.getLabel=cx.getLabel;function nA(t,e){return gkt(t,vc(e))}dd.registerClass(u9);var bkt=(function(){function t(e,n,r){this._prepareParams(e,n,r)}return t.prototype._prepareParams=function(e,n,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var o=n.get("min",!0);o==null&&(o=n.get("startValue",!0));var a=this._modelMinRaw=o;qn(a)?this._modelMinNum=rA(e,a({min:r[0],max:r[1]})):a!=="dataMin"&&(this._modelMinNum=rA(e,a));var s=this._modelMaxRaw=n.get("max",!0);if(qn(s)?this._modelMaxNum=rA(e,s({min:r[0],max:r[1]})):s!=="dataMax"&&(this._modelMaxNum=rA(e,s)),i)this._axisDataLen=n.getCategories().length;else{var l=n.get("boundaryGap"),u=Tt(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Nc(u[0],1),Nc(u[1],1)]}},t.prototype.calculate=function(){var e=this._isOrdinal,n=this._dataMin,r=this._dataMax,i=this._axisDataLen,o=this._boundaryGapInner,a=e?null:r-n||Math.abs(n),s=this._modelMinRaw==="dataMin"?n:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=e?i?0:NaN:n-o[0]*a),l==null&&(l=e?i?i-1:NaN:r+o[1]*a),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=hC(s)||hC(l)||e&&!i;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var d=this._determinedMin,h=this._determinedMax;return d!=null&&(s=d,u=!0),h!=null&&(l=h,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:f}},t.prototype.modifyDataMinMax=function(e,n){this[wkt[e]]=n},t.prototype.setDeterminedMinMax=function(e,n){var r=_kt[e];this[r]=n},t.prototype.freeze=function(){this.frozen=!0},t})(),_kt={min:"_determinedMin",max:"_determinedMax"},wkt={min:"_dataMin",max:"_dataMax"};function ISe(t,e,n){var r=t.rawExtentInfo;return r||(r=new bkt(t,e,n),t.rawExtentInfo=r,r)}function rA(t,e){return e==null?null:hC(e)?NaN:t.parse(e)}function RSe(t,e){var n=t.type,r=ISe(t,e,t.getExtent()).calculate();t.setBlank(r.isBlank);var i=r.min,o=r.max,a=e.ecModel;if(a&&n==="time"){var s=CSe("bar",a),l=!1;if(ie(s,function(f){l=l||f.getBaseAxis()===e.axis}),l){var u=ESe(s),c=Skt(i,o,e,u);i=c.min,o=c.max}}return{extent:[i,o],fixMin:r.minFixed,fixMax:r.maxFixed}}function Skt(t,e,n,r){var i=n.axis.getExtent(),o=Math.abs(i[1]-i[0]),a=akt(r,n.axis);if(a===void 0)return{min:t,max:e};var s=1/0;ie(a,function(h){s=Math.min(h.offset,s)});var l=-1/0;ie(a,function(h){l=Math.max(h.offset+h.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=e-t,f=1-(s+l)/o,d=c/f-c;return e+=d*(l/u),t-=d*(s/u),{min:t,max:e}}function N1(t,e){var n=e,r=RSe(t,n),i=r.extent,o=n.get("splitNumber");t instanceof u9&&(t.base=n.get("logBase"));var a=t.type,s=n.get("interval"),l=a==="interval"||a==="time";t.setExtent(i[0],i[1]),t.calcNiceExtent({splitNumber:o,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?n.get("minInterval"):null,maxInterval:l?n.get("maxInterval"):null}),s!=null&&t.setInterval&&t.setInterval(s)}function YR(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new KR({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new l9({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(dd.getClass(e)||yh)}}function xkt(t){var e=t.scale.getExtent(),n=e[0],r=e[1];return!(n>0&&r>0||n<0&&r<0)}function F_(t){var e=t.getLabelModel().get("formatter"),n=t.type==="category"?t.scale.getExtent()[0]:null;return t.scale.type==="time"?(function(r){return function(i,o){return t.scale.getFormattedLabel(i,o,r)}})(e):fn(e)?(function(r){return function(i){var o=t.scale.getLabel(i),a=r.replace("{value}",o??"");return a}})(e):qn(e)?(function(r){return function(i,o){return n!=null&&(o=i.value-n),r(c9(t,i),o,i.level!=null?{level:i.level}:null)}})(e):function(r){return t.scale.getLabel(r)}}function c9(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function Ckt(t){var e=t.model,n=t.scale;if(!(!e.get(["axisLabel","show"])||n.isBlank())){var r,i,o=n.getExtent();n instanceof KR?i=n.count():(r=n.getTicks(),i=r.length);var a=t.getLabelModel(),s=F_(t),l,u=1;i>40&&(u=Math.ceil(i/40));for(var c=0;c<i;c+=u){var f=r?r[c]:{value:o[0]+c},d=s(f,c),h=a.getTextRect(d),p=Ekt(h,a.get("rotate")||0);l?l.union(p):l=p}return l}}function Ekt(t,e){var n=e*Math.PI/180,r=t.width,i=t.height,o=r*Math.abs(Math.cos(n))+Math.abs(i*Math.sin(n)),a=r*Math.abs(Math.sin(n))+Math.abs(i*Math.cos(n)),s=new xr(t.x,t.y,o,a);return s}function f9(t){var e=t.get("interval");return e??"auto"}function LSe(t){return t.type==="category"&&f9(t.getLabelModel())===0}function JP(t,e){var n={};return ie(t.mapDimensionsAll(e),function(r){n[_Se(t,r)]=!0}),Ur(n)}function Tkt(t,e,n){e&&ie(JP(e,n),function(r){var i=e.getApproximateExtent(r);i[0]<t[0]&&(t[0]=i[0]),i[1]>t[1]&&(t[1]=i[1])})}var Z2=(function(){function t(){}return t.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},t.prototype.getCoordSysModel=function(){},t})(),Akt=1e-8;function Yne(t,e){return Math.abs(t-e)<Akt}function jg(t,e,n){var r=0,i=t[0];if(!i)return!1;for(var o=1;o<t.length;o++){var a=t[o];r+=kd(i[0],i[1],a[0],a[1],e,n),i=a}var s=t[0];return(!Yne(i[0],s[0])||!Yne(i[1],s[1]))&&(r+=kd(i[0],i[1],s[0],s[1],e,n)),r!==0}var kkt=[];function U4(t,e){for(var n=0;n<t.length;n++)as(t[n],t[n],e)}function Xne(t,e,n,r){for(var i=0;i<t.length;i++){var o=t[i];r&&(o=r.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(Pp(e,e,o),Op(n,n,o))}}function Mkt(t){for(var e=0,n=0,r=0,i=t.length,o=t[i-1][0],a=t[i-1][1],s=0;s<i;s++){var l=t[s][0],u=t[s][1],c=o*u-l*a;e+=c,n+=(o+l)*c,r+=(a+u)*c,o=l,a=u}return e?[n/e/3,r/e/3,e]:[t[0][0]||0,t[0][1]||0]}var DSe=(function(){function t(e){this.name=e}return t.prototype.setCenter=function(e){this._center=e},t.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},t})(),Zne=(function(){function t(e,n){this.type="polygon",this.exterior=e,this.interiors=n}return t})(),Jne=(function(){function t(e){this.type="linestring",this.points=e}return t})(),NSe=(function(t){nt(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.type="geoJSON",o.geometries=r,o._center=i&&[i[0],i[1]],o}return e.prototype.calcCenter=function(){for(var n=this.geometries,r,i=0,o=0;o<n.length;o++){var a=n[o],s=a.exterior,l=s&&s.length;l>i&&(r=a,i=l)}if(r)return Mkt(r.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},e.prototype.getBoundingRect=function(n){var r=this._rect;if(r&&!n)return r;var i=[1/0,1/0],o=[-1/0,-1/0],a=this.geometries;return ie(a,function(s){s.type==="polygon"?Xne(s.exterior,i,o,n):ie(s.points,function(l){Xne(l,i,o,n)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])||(i[0]=i[1]=o[0]=o[1]=0),r=new xr(i[0],i[1],o[0]-i[0],o[1]-i[1]),n||(this._rect=r),r},e.prototype.contain=function(n){var r=this.getBoundingRect(),i=this.geometries;if(!r.contain(n[0],n[1]))return!1;e:for(var o=0,a=i.length;o<a;o++){var s=i[o];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(jg(l,n[0],n[1])){for(var c=0;c<(u?u.length:0);c++)if(jg(u[c],n[0],n[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(n,r,i,o){var a=this.getBoundingRect(),s=a.width/a.height;i?o||(o=i/s):i=s*o;for(var l=new xr(n,r,i,o),u=a.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var d=c[f];d.type==="polygon"?(U4(d.exterior,u),ie(d.interiors,function(h){U4(h,u)})):ie(d.points,function(h){U4(h,u)})}a=this._rect,a.copy(l),this._center=[a.x+a.width/2,a.y+a.height/2]},e.prototype.cloneShallow=function(n){n==null&&(n=this.name);var r=new e(n,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},e})(DSe),Pkt=(function(t){nt(e,t);function e(n,r){var i=t.call(this,n)||this;return i.type="geoSVG",i._elOnlyForCalculate=r,i}return e.prototype.calcCenter=function(){for(var n=this._elOnlyForCalculate,r=n.getBoundingRect(),i=[r.x+r.width/2,r.y+r.height/2],o=bR(kkt),a=n;a&&!a.isGeoSVGGraphicRoot;)Xd(o,a.getLocalTransform(),o),a=a.parent;return A_(o,o),as(i,i,o),i},e})(DSe);function Okt(t){if(!t.UTF8Encoding)return t;var e=t,n=e.UTF8Scale;n==null&&(n=1024);var r=e.features;return ie(r,function(i){var o=i.geometry,a=o.encodeOffsets,s=o.coordinates;if(a)switch(o.type){case"LineString":o.coordinates=BSe(s,a,n);break;case"Polygon":W4(s,a,n);break;case"MultiLineString":W4(s,a,n);break;case"MultiPolygon":ie(s,function(l,u){return W4(l,a[u],n)})}}),e.UTF8Encoding=!1,e}function W4(t,e,n){for(var r=0;r<t.length;r++)t[r]=BSe(t[r],e[r],n)}function BSe(t,e,n){for(var r=[],i=e[0],o=e[1],a=0;a<t.length;a+=2){var s=t.charCodeAt(a)-64,l=t.charCodeAt(a+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=i,l+=o,i=s,o=l,r.push([s/n,l/n])}return r}function Ikt(t,e){return t=Okt(t),kt(yi(t.features,function(n){return n.geometry&&n.properties&&n.geometry.coordinates.length>0}),function(n){var r=n.properties,i=n.geometry,o=[];switch(i.type){case"Polygon":var a=i.coordinates;o.push(new Zne(a[0],a.slice(1)));break;case"MultiPolygon":ie(i.coordinates,function(l){l[0]&&o.push(new Zne(l[0],l.slice(1)))});break;case"LineString":o.push(new Jne([i.coordinates]));break;case"MultiLineString":o.push(new Jne(i.coordinates))}var s=new NSe(r[e||"name"],o,r.cp);return s.properties=r,s})}const iA=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:v5,asc:Ul,getPercentWithPrecision:wxt,getPixelPrecision:wG,getPrecision:vc,getPrecisionSafe:X1e,isNumeric:CG,isRadianAroundZero:O1,linearMap:gi,nice:xG,numericToNumber:nd,parseDate:Bc,quantile:Hk,quantity:J1e,quantityExponent:xR,reformIntervals:g5,remRadian:SG,round:wo},Symbol.toStringTag,{value:"Module"}));var kC=Qr();function $Se(t,e){var n=kt(e,function(r){return t.scale.parse(r)});return t.type==="time"&&n.length>0&&(n.sort(),n.unshift(n[0]),n.push(n[n.length-1])),n}function Rkt(t){var e=t.getLabelModel().get("customValues");if(e){var n=F_(t),r=t.scale.getExtent(),i=$Se(t,e),o=yi(i,function(a){return a>=r[0]&&a<=r[1]});return{labels:kt(o,function(a){var s={value:a};return{formattedLabel:n(s),rawLabel:t.scale.getLabel(s),tickValue:a}})}}return t.type==="category"?Dkt(t):Bkt(t)}function Lkt(t,e){var n=t.getTickModel().get("customValues");if(n){var r=t.scale.getExtent(),i=$Se(t,n);return{ticks:yi(i,function(o){return o>=r[0]&&o<=r[1]})}}return t.type==="category"?Nkt(t,e):{ticks:kt(t.scale.getTicks(),function(o){return o.value})}}function Dkt(t){var e=t.getLabelModel(),n=FSe(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function FSe(t,e){var n=VSe(t,"labels"),r=f9(e),i=zSe(n,r);if(i)return i;var o,a;return qn(r)?o=GSe(t,r):(a=r==="auto"?$kt(t):r,o=jSe(t,a)),HSe(n,r,{labels:o,labelCategoryInterval:a})}function Nkt(t,e){var n=VSe(t,"ticks"),r=f9(e),i=zSe(n,r);if(i)return i;var o,a;if((!e.get("show")||t.scale.isBlank())&&(o=[]),qn(r))o=GSe(t,r,!0);else if(r==="auto"){var s=FSe(t,t.getLabelModel());a=s.labelCategoryInterval,o=kt(s.labels,function(l){return l.tickValue})}else a=r,o=jSe(t,a,!0);return HSe(n,r,{ticks:o,tickCategoryInterval:a})}function Bkt(t){var e=t.scale.getTicks(),n=F_(t);return{labels:kt(e,function(r,i){return{level:r.level,formattedLabel:n(r,i),rawLabel:t.scale.getLabel(r),tickValue:r.value}})}}function VSe(t,e){return kC(t)[e]||(kC(t)[e]=[])}function zSe(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function HSe(t,e,n){return t.push({key:e,value:n}),n}function $kt(t){var e=kC(t).autoInterval;return e??(kC(t).autoInterval=t.calculateCategoryInterval())}function Fkt(t){var e=Vkt(t),n=F_(t),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,o=i.getExtent(),a=i.count();if(o[1]-o[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=o[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),c=Math.abs(u*Math.cos(r)),f=Math.abs(u*Math.sin(r)),d=0,h=0;l<=o[1];l+=s){var p=0,v=0,g=V2(n({value:l}),e.font,"center","top");p=g.width*1.3,v=g.height*1.3,d=Math.max(d,p,7),h=Math.max(h,v,7)}var m=d/c,y=h/f;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var b=Math.max(0,Math.floor(Math.min(m,y))),w=kC(t.model),S=t.getExtent(),x=w.lastAutoInterval,C=w.lastTickCount;return x!=null&&C!=null&&Math.abs(x-b)<=1&&Math.abs(C-a)<=1&&x>b&&w.axisExtent0===S[0]&&w.axisExtent1===S[1]?b=x:(w.lastTickCount=a,w.lastAutoInterval=b,w.axisExtent0=S[0],w.axisExtent1=S[1]),b}function Vkt(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function jSe(t,e,n){var r=F_(t),i=t.scale,o=i.getExtent(),a=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=o[0],c=i.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=LSe(t),d=a.get("showMinLabel")||f,h=a.get("showMaxLabel")||f;d&&u!==o[0]&&v(o[0]);for(var p=u;p<=o[1];p+=l)v(p);h&&p-l!==o[1]&&v(o[1]);function v(g){var m={value:g};s.push(n?g:{formattedLabel:r(m),rawLabel:i.getLabel(m),tickValue:g})}return s}function GSe(t,e,n){var r=t.scale,i=F_(t),o=[];return ie(r.getTicks(),function(a){var s=r.getLabel(a),l=a.value;e(a.value,s)&&o.push(n?l:{formattedLabel:i(a),rawLabel:s,tickValue:l})}),o}var Qne=[0,1],Jc=(function(){function t(e,n,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=n,this._extent=r||[0,0]}return t.prototype.contain=function(e){var n=this._extent,r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return e>=r&&e<=i},t.prototype.containData=function(e){return this.scale.contain(e)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(e){return wG(e||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(e,n){var r=this._extent;r[0]=e,r[1]=n},t.prototype.dataToCoord=function(e,n){var r=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(r=r.slice(),ere(r,i.count())),gi(e,Qne,r,n)},t.prototype.coordToData=function(e,n){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),ere(r,i.count()));var o=gi(e,r,Qne,n);return this.scale.scale(o)},t.prototype.pointToData=function(e,n){},t.prototype.getTicksCoords=function(e){e=e||{};var n=e.tickModel||this.getTickModel(),r=Lkt(this,n),i=r.ticks,o=kt(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),a=n.get("alignWithLabel");return zkt(this,o,a,e.clamp),o},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),n=e.get("splitNumber");n>0&&n<100||(n=5);var r=this.scale.getMinorTicks(n),i=kt(r,function(o){return kt(o,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this)},this);return i},t.prototype.getViewLabels=function(){return Rkt(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var e=this._extent,n=this.scale.getExtent(),r=n[1]-n[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/r},t.prototype.calculateCategoryInterval=function(){return Fkt(this)},t})();function ere(t,e){var n=t[1]-t[0],r=e,i=n/r/2;t[0]+=i,t[1]-=i}function zkt(t,e,n,r){var i=e.length;if(!t.onBand||n||!i)return;var o=t.getExtent(),a,s;if(i===1)e[0].coord=o[0],a=e[1]={coord:o[1],tickValue:e[0].tickValue};else{var l=e[i-1].tickValue-e[0].tickValue,u=(e[i-1].coord-e[0].coord)/l;ie(e,function(h){h.coord-=u/2});var c=t.scale.getExtent();s=1+c[1]-e[i-1].tickValue,a={coord:e[i-1].coord+u*s,tickValue:c[1]+1},e.push(a)}var f=o[0]>o[1];d(e[0].coord,o[0])&&(r?e[0].coord=o[0]:e.shift()),r&&d(o[0],e[0].coord)&&e.unshift({coord:o[0]}),d(o[1],a.coord)&&(r?a.coord=o[1]:e.pop()),r&&d(a.coord,o[1])&&e.push({coord:o[1]});function d(h,p){return h=wo(h),p=wo(p),f?h>p:h<p}}var $w=Math.PI*2,Sg=rd.CMD,Hkt=["top","right","bottom","left"];function jkt(t,e,n,r,i){var o=n.width,a=n.height;switch(t){case"top":r.set(n.x+o/2,n.y-e),i.set(0,-1);break;case"bottom":r.set(n.x+o/2,n.y+a+e),i.set(0,1);break;case"left":r.set(n.x-e,n.y+a/2),i.set(-1,0);break;case"right":r.set(n.x+o+e,n.y+a/2),i.set(1,0);break}}function Gkt(t,e,n,r,i,o,a,s,l){a-=t,s-=e;var u=Math.sqrt(a*a+s*s);a/=u,s/=u;var c=a*n+t,f=s*n+e;if(Math.abs(r-i)%$w<1e-4)return l[0]=c,l[1]=f,u-n;if(o){var d=r;r=Wl(i),i=Wl(d)}else r=Wl(r),i=Wl(i);r>i&&(i+=$w);var h=Math.atan2(s,a);if(h<0&&(h+=$w),h>=r&&h<=i||h+$w>=r&&h+$w<=i)return l[0]=c,l[1]=f,u-n;var p=n*Math.cos(r)+t,v=n*Math.sin(r)+e,g=n*Math.cos(i)+t,m=n*Math.sin(i)+e,y=(p-a)*(p-a)+(v-s)*(v-s),b=(g-a)*(g-a)+(m-s)*(m-s);return y<b?(l[0]=p,l[1]=v,Math.sqrt(y)):(l[0]=g,l[1]=m,Math.sqrt(b))}function QP(t,e,n,r,i,o,a,s){var l=i-t,u=o-e,c=n-t,f=r-e,d=Math.sqrt(c*c+f*f);c/=d,f/=d;var h=l*c+u*f,p=h/d;s&&(p=Math.min(Math.max(p,0),1)),p*=d;var v=a[0]=t+p*c,g=a[1]=e+p*f;return Math.sqrt((v-i)*(v-i)+(g-o)*(g-o))}function USe(t,e,n,r,i,o,a){n<0&&(t=t+n,n=-n),r<0&&(e=e+r,r=-r);var s=t+n,l=e+r,u=a[0]=Math.min(Math.max(i,t),s),c=a[1]=Math.min(Math.max(o,e),l);return Math.sqrt((u-i)*(u-i)+(c-o)*(c-o))}var dc=[];function Ukt(t,e,n){var r=USe(e.x,e.y,e.width,e.height,t.x,t.y,dc);return n.set(dc[0],dc[1]),r}function Wkt(t,e,n){for(var r=0,i=0,o=0,a=0,s,l,u=1/0,c=e.data,f=t.x,d=t.y,h=0;h<c.length;){var p=c[h++];h===1&&(r=c[h],i=c[h+1],o=r,a=i);var v=u;switch(p){case Sg.M:o=c[h++],a=c[h++],r=o,i=a;break;case Sg.L:v=QP(r,i,c[h],c[h+1],f,d,dc,!0),r=c[h++],i=c[h++];break;case Sg.C:v=I1e(r,i,c[h++],c[h++],c[h++],c[h++],c[h],c[h+1],f,d,dc),r=c[h++],i=c[h++];break;case Sg.Q:v=L1e(r,i,c[h++],c[h++],c[h],c[h+1],f,d,dc),r=c[h++],i=c[h++];break;case Sg.A:var g=c[h++],m=c[h++],y=c[h++],b=c[h++],w=c[h++],S=c[h++];h+=1;var x=!!(1-c[h++]);s=Math.cos(w)*y+g,l=Math.sin(w)*b+m,h<=1&&(o=s,a=l);var C=(f-g)*b/y+g;v=Gkt(g,m,b,w,w+S,x,C,d,dc),r=Math.cos(w+S)*y+g,i=Math.sin(w+S)*b+m;break;case Sg.R:o=r=c[h++],a=i=c[h++];var E=c[h++],T=c[h++];v=USe(o,a,E,T,f,d,dc);break;case Sg.Z:v=QP(r,i,o,a,f,d,dc,!0),r=o,i=a;break}v<u&&(u=v,n.set(dc[0],dc[1]))}return u}var gc=new _r,$i=new _r,Do=new _r,Df=new _r,Af=new _r;function tre(t,e){if(t){var n=t.getTextGuideLine(),r=t.getTextContent();if(r&&n){var i=t.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=i.candidates||Hkt,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var l=1/0,u=i.anchor,c=t.getComputedTransform(),f=c&&A_([],c),d=e.get("length2")||0;u&&Do.copy(u);for(var h=0;h<a.length;h++){var p=a[h];jkt(p,0,s,gc,Df),_r.scaleAndAdd($i,gc,Df,d),$i.transform(f);var v=t.getBoundingRect(),g=u?u.distance($i):t instanceof $r?Wkt($i,t.path,Do):Ukt($i,v,Do);g<l&&(l=g,$i.transform(c),Do.transform(c),Do.toArray(o[0]),$i.toArray(o[1]),gc.toArray(o[2]))}WSe(o,e.get("minTurnAngle")),n.setShape({points:o})}}}var eO=[],Ws=new _r;function WSe(t,e){if(e<=180&&e>0){e=e/180*Math.PI,gc.fromArray(t[0]),$i.fromArray(t[1]),Do.fromArray(t[2]),_r.sub(Df,gc,$i),_r.sub(Af,Do,$i);var n=Df.len(),r=Af.len();if(!(n<.001||r<.001)){Df.scale(1/n),Af.scale(1/r);var i=Df.dot(Af),o=Math.cos(e);if(o<i){var a=QP($i.x,$i.y,Do.x,Do.y,gc.x,gc.y,eO,!1);Ws.fromArray(eO),Ws.scaleAndAdd(Af,a/Math.tan(Math.PI-e));var s=Do.x!==$i.x?(Ws.x-$i.x)/(Do.x-$i.x):(Ws.y-$i.y)/(Do.y-$i.y);if(isNaN(s))return;s<0?_r.copy(Ws,$i):s>1&&_r.copy(Ws,Do),Ws.toArray(t[1])}}}}function qkt(t,e,n){if(n<=180&&n>0){n=n/180*Math.PI,gc.fromArray(t[0]),$i.fromArray(t[1]),Do.fromArray(t[2]),_r.sub(Df,$i,gc),_r.sub(Af,Do,$i);var r=Df.len(),i=Af.len();if(!(r<.001||i<.001)){Df.scale(1/r),Af.scale(1/i);var o=Df.dot(e),a=Math.cos(n);if(o<a){var s=QP($i.x,$i.y,Do.x,Do.y,gc.x,gc.y,eO,!1);Ws.fromArray(eO);var l=Math.PI/2,u=Math.acos(Af.dot(e)),c=l+u-n;if(c>=l)_r.copy(Ws,Do);else{Ws.scaleAndAdd(Af,s/Math.tan(Math.PI/2-c));var f=Do.x!==$i.x?(Ws.x-$i.x)/(Do.x-$i.x):(Ws.y-$i.y)/(Do.y-$i.y);if(isNaN(f))return;f<0?_r.copy(Ws,$i):f>1&&_r.copy(Ws,Do)}Ws.toArray(t[1])}}}}function q4(t,e,n,r){var i=n==="normal",o=i?t:t.ensureState(n);o.ignore=e;var a=r.get("smooth");a&&a===!0&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=r.getModel("lineStyle").getLineStyle();i?t.useStyle(s):o.style=s}function Kkt(t,e){var n=e.smooth,r=e.points;if(r)if(t.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var i=Mp(r[0],r[1]),o=Mp(r[1],r[2]);if(!i||!o){t.lineTo(r[1][0],r[1][1]),t.lineTo(r[2][0],r[2][1]);return}var a=Math.min(i,o)*n,s=Nk([],r[1],r[0],a/i),l=Nk([],r[1],r[2],a/o),u=Nk([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)t.lineTo(r[c][0],r[c][1])}function d9(t,e,n){var r=t.getTextGuideLine(),i=t.getTextContent();if(!i){r&&t.removeTextGuideLine();return}for(var o=e.normal,a=o.get("show"),s=i.ignore,l=0;l<bC.length;l++){var u=bC[l],c=e[u],f=u==="normal";if(c){var d=c.get("show"),h=f?s:dr(i.states[u]&&i.states[u].ignore,s);if(h||!dr(d,a)){var p=f?r:r&&r.states[u];p&&(p.ignore=!0),r&&q4(r,!0,u,c);continue}r||(r=new cl,t.setTextGuideLine(r),!f&&(s||!a)&&q4(r,!0,"normal",e.normal),t.stateProxy&&(r.stateProxy=t.stateProxy)),q4(r,!1,u,c)}}if(r){Yn(r.style,n),r.style.fill=null;var v=o.get("showAbove"),g=t.textGuideLineConfig=t.textGuideLineConfig||{};g.showAbove=v||!1,r.buildPath=Kkt}}function h9(t,e){e=e||"labelLine";for(var n={normal:t.getModel(e)},r=0;r<sl.length;r++){var i=sl[r];n[i]=t.getModel([i,e])}return n}function qSe(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.defaultAttr.ignore){var i=r.label,o=i.getComputedTransform(),a=i.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=i.style.margin||0,u=a.clone();u.applyTransform(o),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new BP(a,o):null;e.push({label:i,labelLine:r.labelLine,rect:u,localRect:a,obb:c,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:o})}}return e}function KSe(t,e,n,r,i,o){var a=t.length;if(a<2)return;t.sort(function(x,C){return x.rect[e]-C.rect[e]});for(var s=0,l,u=!1,c=0;c<a;c++){var f=t[c],d=f.rect;l=d[e]-s,l<0&&(d[e]-=l,f.label[e]-=l,u=!0),s=d[e]+d[n]}var h=t[0],p=t[a-1],v,g;m(),v<0&&w(-v,.8),g<0&&w(g,.8),m(),y(v,g,1),y(g,v,-1),m(),v<0&&S(-v),g<0&&S(g);function m(){v=h.rect[e]-r,g=i-p.rect[e]-p.rect[n]}function y(x,C,E){if(x<0){var T=Math.min(C,-x);if(T>0){b(T*E,0,a);var A=T+x;A<0&&w(-A*E,1)}else w(-x*E,1)}}function b(x,C,E){x!==0&&(u=!0);for(var T=C;T<E;T++){var A=t[T],k=A.rect;k[e]+=x,A.label[e]+=x}}function w(x,C){for(var E=[],T=0,A=1;A<a;A++){var k=t[A-1].rect,M=Math.max(t[A].rect[e]-k[e]-k[n],0);E.push(M),T+=M}if(T){var D=Math.min(Math.abs(x)/T,C);if(x>0)for(var A=0;A<a-1;A++){var L=E[A]*D;b(L,0,A+1)}else for(var A=a-1;A>0;A--){var L=E[A-1]*D;b(-L,A,a)}}}function S(x){var C=x<0?-1:1;x=Math.abs(x);for(var E=Math.ceil(x/(a-1)),T=0;T<a-1;T++)if(C>0?b(E,0,T+1):b(-E,a-T-1,a),x-=E,x<=0)return}return u}function Ykt(t,e,n,r){return KSe(t,"x","width",e,n)}function YSe(t,e,n,r){return KSe(t,"y","height",e,n)}function XSe(t){var e=[];t.sort(function(v,g){return g.priority-v.priority});var n=new xr(0,0,0,0);function r(v){if(!v.ignore){var g=v.ensureState("emphasis");g.ignore==null&&(g.ignore=!1)}v.ignore=!0}for(var i=0;i<t.length;i++){var o=t[i],a=o.axisAligned,s=o.localRect,l=o.transform,u=o.label,c=o.labelLine;n.copy(o.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var f=o.obb,d=!1,h=0;h<e.length;h++){var p=e[h];if(n.intersect(p.rect)){if(a&&p.axisAligned){d=!0;break}if(p.obb||(p.obb=new BP(p.localRect,p.transform)),f||(f=new BP(s,l)),f.intersect(p.obb)){d=!0;break}}}d?(r(u),c&&r(c)):(u.attr("ignore",o.defaultAttr.ignore),c&&c.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}function Xkt(t){if(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice());return e}}function Zkt(t,e){var n=t.label,r=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:Xkt(r&&r.shape.points)}}var nre=["align","verticalAlign","width","height","fontSize"],zs=new zd,K4=Qr(),Jkt=Qr();function oA(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];e[i]!=null&&(t[i]=e[i])}}var aA=["x","y","rotation"],Qkt=(function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(e,n,r,i,o){var a=i.style,s=i.__hostTarget,l=s.textConfig||{},u=i.getComputedTransform(),c=i.getBoundingRect().plain();xr.applyTransform(c,c,u),u?zs.setLocalTransform(u):(zs.x=zs.y=zs.rotation=zs.originX=zs.originY=0,zs.scaleX=zs.scaleY=1),zs.rotation=Wl(zs.rotation);var f=i.__hostTarget,d;if(f){d=f.getBoundingRect().plain();var h=f.getComputedTransform();xr.applyTransform(d,d,h)}var p=d&&f.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:r,dataIndex:e,dataType:n,layoutOption:o,computedLayoutOption:null,rect:c,hostRect:d,priority:d?d.width*d.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:zs.x,y:zs.y,scaleX:zs.scaleX,scaleY:zs.scaleY,rotation:zs.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},t.prototype.addLabelsOfSeries=function(e){var n=this;this._chartViewList.push(e);var r=e.__model,i=r.get("labelLayout");(qn(i)||Ur(i).length)&&e.group.traverse(function(o){if(o.ignore)return!0;var a=o.getTextContent(),s=ar(o);a&&!a.disableLabelLayout&&n._addLabel(s.dataIndex,s.dataType,r,a,i)})},t.prototype.updateLayoutConfig=function(e){var n=e.getWidth(),r=e.getHeight();function i(b,w){return function(){tre(b,w)}}for(var o=0;o<this._labelList.length;o++){var a=this._labelList[o],s=a.label,l=s.__hostTarget,u=a.defaultAttr,c=void 0;qn(a.layoutOption)?c=a.layoutOption(Zkt(a,l)):c=a.layoutOption,c=c||{},a.computedLayoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var d=!1;if(c.x!=null?(s.x=on(c.x,n),s.setStyle("x",0),d=!0):(s.x=u.x,s.setStyle("x",u.style.x)),c.y!=null?(s.y=on(c.y,r),s.setStyle("y",0),d=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var h=l.getTextGuideLine();h&&(h.setShape({points:c.labelLinePoints}),d=!1)}var p=K4(s);p.needsUpdateLabelLine=d,s.rotation=c.rotate!=null?c.rotate*f:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var v=0;v<nre.length;v++){var g=nre[v];s.setStyle(g,c[g]!=null?c[g]:u.style[g])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var m=a.seriesModel;if(a.dataIndex!=null){var y=a.seriesModel.getData(a.dataType);m=y.getItemModel(a.dataIndex)}s.on("drag",i(l,m.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},t.prototype.layout=function(e){var n=e.getWidth(),r=e.getHeight(),i=qSe(this._labelList),o=yi(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),a=yi(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});Ykt(o,0,n),YSe(a,0,r);var s=yi(i,function(l){return l.layoutOption.hideOverlap});XSe(s)},t.prototype.processLabelsOverall=function(){var e=this;ie(this._chartViewList,function(n){var r=n.__model,i=n.ignoreLabelLineUpdate,o=r.isAnimationEnabled();n.group.traverse(function(a){if(a.ignore&&!a.forceLabelAnimation)return!0;var s=!i,l=a.getTextContent();!s&&l&&(s=K4(l).needsUpdateLabelLine),s&&e._updateLabelLine(a,r),o&&e._animateLabels(a,r)})})},t.prototype._updateLabelLine=function(e,n){var r=e.getTextContent(),i=ar(e),o=i.dataIndex;if(r&&o!=null){var a=n.getData(i.dataType),s=a.getItemModel(o),l={},u=a.getItemVisual(o,"style");if(u){var c=a.getVisual("drawType");l.stroke=u[c]}var f=s.getModel("labelLine");d9(e,h9(s),l),tre(e,f)}},t.prototype._animateLabels=function(e,n){var r=e.getTextContent(),i=e.getTextGuideLine();if(r&&(e.forceLabelAnimation||!r.ignore&&!r.invisible&&!e.disableLabelAnimation&&!Tb(e))){var o=K4(r),a=o.oldLayout,s=ar(e),l=s.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},c=n.getData(s.dataType);if(a){r.attr(a);var d=e.prevStates;d&&(Mr(d,"select")>=0&&r.attr(o.oldLayoutSelect),Mr(d,"emphasis")>=0&&r.attr(o.oldLayoutEmphasis)),si(r,u,n,l)}else if(r.attr(u),!O_(r).valueAnimation){var f=dr(r.style.opacity,1);r.style.opacity=0,eo(r,{style:{opacity:f}},n,l)}if(o.oldLayout=u,r.states.select){var h=o.oldLayoutSelect={};oA(h,u,aA),oA(h,r.states.select,aA)}if(r.states.emphasis){var p=o.oldLayoutEmphasis={};oA(p,u,aA),oA(p,r.states.emphasis,aA)}j_e(r,l,c,n,n)}if(i&&!i.ignore&&!i.invisible){var o=Jkt(i),a=o.oldLayout,v={points:i.shape.points};a?(i.attr({shape:a}),si(i,{shape:v},n)):(i.setShape(v),i.style.strokePercent=0,eo(i,{style:{strokePercent:1}},n)),o.oldLayout=v}},t})(),Y4=Qr();function eMt(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,n,r){var i=Y4(n).labelManager;i||(i=Y4(n).labelManager=new Qkt),i.clearLabels()}),t.registerUpdateLifecycle("series:layoutlabels",function(e,n,r){var i=Y4(n).labelManager;r.updatedSeries.forEach(function(o){i.addLabelsOfSeries(n.getViewOfSeriesModel(o))}),i.updateLayoutConfig(n),i.layout(n),i.processLabelsOverall()})}var X4=Math.sin,Z4=Math.cos,ZSe=Math.PI,xg=Math.PI*2,tMt=180/ZSe,JSe=(function(){function t(){}return t.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},t.prototype.moveTo=function(e,n){this._add("M",e,n)},t.prototype.lineTo=function(e,n){this._add("L",e,n)},t.prototype.bezierCurveTo=function(e,n,r,i,o,a){this._add("C",e,n,r,i,o,a)},t.prototype.quadraticCurveTo=function(e,n,r,i){this._add("Q",e,n,r,i)},t.prototype.arc=function(e,n,r,i,o,a){this.ellipse(e,n,r,r,0,i,o,a)},t.prototype.ellipse=function(e,n,r,i,o,a,s,l){var u=s-a,c=!l,f=Math.abs(u),d=Lp(f-xg)||(c?u>=xg:-u>=xg),h=u>0?u%xg:u%xg+xg,p=!1;d?p=!0:Lp(f)?p=!1:p=h>=ZSe==!!c;var v=e+r*Z4(a),g=n+i*X4(a);this._start&&this._add("M",v,g);var m=Math.round(o*tMt);if(d){var y=1/this._p,b=(c?1:-1)*(xg-y);this._add("A",r,i,m,1,+c,e+r*Z4(a+b),n+i*X4(a+b)),y>.01&&this._add("A",r,i,m,0,+c,v,g)}else{var w=e+r*Z4(s),S=n+i*X4(s);this._add("A",r,i,m,+p,+c,w,S)}},t.prototype.rect=function(e,n,r,i){this._add("M",e,n),this._add("l",r,0),this._add("l",0,i),this._add("l",-r,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(e,n,r,i,o,a,s,l,u){for(var c=[],f=this._p,d=1;d<arguments.length;d++){var h=arguments[d];if(isNaN(h)){this._invalid=!0;return}c.push(Math.round(h*f)/f)}this._d.push(e+c.join(" ")),this._start=e==="Z"},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t})(),p9="none",nMt=Math.round;function rMt(t){var e=t.fill;return e!=null&&e!==p9}function iMt(t){var e=t.stroke;return e!=null&&e!==p9}var q5=["lineCap","miterLimit","lineJoin"],oMt=kt(q5,function(t){return"stroke-"+t.toLowerCase()});function aMt(t,e,n,r){var i=e.opacity==null?1:e.opacity;if(n instanceof qa){t("opacity",i);return}if(rMt(e)){var o=mC(e.fill);t("fill",o.color);var a=e.fillOpacity!=null?e.fillOpacity*o.opacity*i:o.opacity*i;a<1&&t("fill-opacity",a)}else t("fill",p9);if(iMt(e)){var s=mC(e.stroke);t("stroke",s.color);var l=e.strokeNoScale?n.getLineScale():1,u=l?(e.lineWidth||0)/l:0,c=e.strokeOpacity!=null?e.strokeOpacity*s.opacity*i:s.opacity*i,f=e.strokeFirst;if(u!==1&&t("stroke-width",u),f&&t("paint-order",f?"stroke":"fill"),c<1&&t("stroke-opacity",c),e.lineDash){var d=n9(n),h=d[0],p=d[1];h&&(p=nMt(p||0),t("stroke-dasharray",h.join(",")),(p||r)&&t("stroke-dashoffset",p))}for(var v=0;v<q5.length;v++){var g=q5[v];if(e[g]!==DP[g]){var m=e[g]||DP[g];m&&t(oMt[v],m)}}}}var QSe="http://www.w3.org/2000/svg",exe="http://www.w3.org/1999/xlink",sMt="http://www.w3.org/2000/xmlns/",lMt="http://www.w3.org/XML/1998/namespace",rre="ecmeta_";function txe(t){return document.createElementNS(QSe,t)}function xa(t,e,n,r,i){return{tag:t,attrs:n||{},children:r,text:i,key:e}}function uMt(t,e){var n=[];if(e)for(var r in e){var i=e[r],o=r;i!==!1&&(i!==!0&&i!=null&&(o+='="'+i+'"'),n.push(o))}return"<"+t+" "+n.join(" ")+">"}function cMt(t){return"</"+t+">"}function v9(t,e){e=e||{};var n=e.newline?`
`:"";function r(i){var o=i.children,a=i.tag,s=i.attrs,l=i.text;return uMt(a,s)+(a!=="style"?Ys(l):l||"")+(o?""+n+kt(o,function(u){return r(u)}).join(n)+n:"")+cMt(a)}return r(t)}function fMt(t,e,n){n=n||{};var r=n.newline?`
`:"",i=" {"+r,o=r+"}",a=kt(Ur(t),function(l){return l+i+kt(Ur(t[l]),function(u){return u+":"+t[l][u]+";"}).join(r)+o}).join(r),s=kt(Ur(e),function(l){return"@keyframes "+l+i+kt(Ur(e[l]),function(u){return u+i+kt(Ur(e[l][u]),function(c){var f=e[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(r)+o}).join(r)+o}).join(r);return!a&&!s?"":["<![CDATA[",a,s,"]]>"].join(r)}function K5(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function ire(t,e,n,r){return xa("svg","root",{width:t,height:e,xmlns:QSe,"xmlns:xlink":exe,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+t+" "+e:!1},n)}var dMt=0;function nxe(){return dMt++}var ore={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Pg="transform-origin";function hMt(t,e,n){var r=yt({},t.shape);yt(r,e),t.buildPath(n,r);var i=new JSe;return i.reset(z1e(t)),n.rebuildPath(i,1),i.generateStr(),i.getStr()}function pMt(t,e){var n=e.originX,r=e.originY;(n||r)&&(t[Pg]=n+"px "+r+"px")}var vMt={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function rxe(t,e){var n=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[n]=t,n}function gMt(t,e,n){var r=t.shape.paths,i={},o,a;if(ie(r,function(l){var u=K5(n.zrId);u.animation=!0,XR(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,d=Ur(c),h=d.length;if(h){a=d[h-1];var p=c[a];for(var v in p){var g=p[v];i[v]=i[v]||{d:""},i[v].d+=g.d||""}for(var m in f){var y=f[m].animation;y.indexOf(a)>=0&&(o=y)}}}),!!o){e.d=!1;var s=rxe(i,n);return o.replace(a,s)}}function are(t){return fn(t)?ore[t]?"cubic-bezier("+ore[t]+")":yG(t)?t:"":""}function XR(t,e,n,r){var i=t.animators,o=i.length,a=[];if(t instanceof NG){var s=gMt(t,e,n);if(s)a.push(s);else if(!o)return}else if(!o)return;for(var l={},u=0;u<o;u++){var c=i[u],f=[c.getMaxTime()/1e3+"s"],d=are(c.getClip().easing),h=c.getDelay();d?f.push(d):f.push("linear"),h&&f.push(h/1e3+"s"),c.getLoop()&&f.push("infinite");var p=f.join(" ");l[p]=l[p]||[p,[]],l[p][1].push(c)}function v(y){var b=y[1],w=b.length,S={},x={},C={},E="animation-timing-function";function T(H,U,ne){for(var J=H.getTracks(),Y=H.getMaxTime(),se=0;se<J.length;se++){var he=J[se];if(he.needsAnimate()){var ye=he.keyframes,_e=he.propName;if(ne&&(_e=ne(_e)),_e)for(var fe=0;fe<ye.length;fe++){var Ce=ye[fe],Oe=Math.round(Ce.time/Y*100)+"%",Ue=are(Ce.easing),qe=Ce.rawValue;(fn(qe)||ri(qe))&&(U[Oe]=U[Oe]||{},U[Oe][_e]=Ce.rawValue,Ue&&(U[Oe][E]=Ue))}}}}for(var A=0;A<w;A++){var k=b[A],M=k.targetName;M?M==="shape"&&T(k,x):!r&&T(k,S)}for(var D in S){var L={};W1e(L,t),yt(L,S[D]);var I=H1e(L),R=S[D][E];C[D]=I?{transform:I}:{},pMt(C[D],L),R&&(C[D][E]=R)}var V,P=!0;for(var D in x){C[D]=C[D]||{};var B=!V,R=x[D][E];B&&(V=new rd);var j=V.len();V.reset(),C[D].d=hMt(t,x[D],V);var G=V.len();if(!B&&j!==G){P=!1;break}R&&(C[D][E]=R)}if(!P)for(var D in C)delete C[D].d;if(!r)for(var A=0;A<w;A++){var k=b[A],M=k.targetName;M==="style"&&T(k,C,function(J){return vMt[J]})}for(var W=Ur(C),Z=!0,ee,A=1;A<W.length;A++){var oe=W[A-1],ce=W[A];if(C[oe][Pg]!==C[ce][Pg]){Z=!1;break}ee=C[oe][Pg]}if(Z&&ee){for(var D in C)C[D][Pg]&&delete C[D][Pg];e[Pg]=ee}if(yi(W,function(H){return Ur(C[H]).length>0}).length){var X=rxe(C,n);return X+" "+y[0]+" both"}}for(var g in l){var s=v(l[g]);s&&a.push(s)}if(a.length){var m=n.zrId+"-cls-"+nxe();n.cssNodes["."+m]={animation:a.join(",")},e.class=m}}function mMt(t,e,n){if(!t.ignore)if(t.isSilent()){var r={"pointer-events":"none"};sre(r,e,n)}else{var i=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{},o=i.fill;if(!o){var a=t.style&&t.style.fill,s=t.states.select&&t.states.select.style&&t.states.select.style.fill,l=t.currentStates.indexOf("select")>=0&&s||a;l&&(o=i5(l))}var u=i.lineWidth;if(u){var c=!i.strokeNoScale&&t.transform?t.transform[0]:1;u=u/c}var r={cursor:"pointer"};o&&(r.fill=o),i.stroke&&(r.stroke=i.stroke),u&&(r["stroke-width"]=u),sre(r,e,n)}}function sre(t,e,n,r){var i=JSON.stringify(t),o=n.cssStyleCache[i];o||(o=n.zrId+"-cls-"+nxe(),n.cssStyleCache[i]=o,n.cssNodes["."+o+":hover"]=t),e.class=e.class?e.class+" "+o:o}var MC=Math.round;function ixe(t){return t&&fn(t.src)}function oxe(t){return t&&qn(t.toDataURL)}function g9(t,e,n,r){aMt(function(i,o){var a=i==="fill"||i==="stroke";a&&V1e(o)?sxe(e,t,i,r):a&&bG(o)?lxe(n,t,i,r):t[i]=o,a&&r.ssr&&o==="none"&&(t["pointer-events"]="visible")},e,n,!1),CMt(n,t,r)}function m9(t,e){var n=yxt(e);n&&(n.each(function(r,i){r!=null&&(t[(rre+i).toLowerCase()]=r+"")}),e.isSilent()&&(t[rre+"silent"]="true"))}function lre(t){return Lp(t[0]-1)&&Lp(t[1])&&Lp(t[2])&&Lp(t[3]-1)}function yMt(t){return Lp(t[4])&&Lp(t[5])}function y9(t,e,n){if(e&&!(yMt(e)&&lre(e))){var r=1e4;t.transform=lre(e)?"translate("+MC(e[4]*r)/r+" "+MC(e[5]*r)/r+")":zSt(e)}}function ure(t,e,n){for(var r=t.points,i=[],o=0;o<r.length;o++)i.push(MC(r[o][0]*n)/n),i.push(MC(r[o][1]*n)/n);e.points=i.join(" ")}function cre(t){return!t.smooth}function bMt(t){var e=kt(t,function(n){return typeof n=="string"?[n,n]:n});return function(n,r,i){for(var o=0;o<e.length;o++){var a=e[o],s=n[a[0]];s!=null&&(r[a[1]]=MC(s*i)/i)}}}var _Mt={circle:[bMt(["cx","cy","r"])],polyline:[ure,cre],polygon:[ure,cre]};function wMt(t){for(var e=t.animators,n=0;n<e.length;n++)if(e[n].targetName==="shape")return!0;return!1}function axe(t,e){var n=t.style,r=t.shape,i=_Mt[t.type],o={},a=e.animation,s="path",l=t.style.strokePercent,u=e.compress&&z1e(t)||4;if(i&&!e.willUpdate&&!(i[1]&&!i[1](r))&&!(a&&wMt(t))&&!(l<1)){s=t.type;var c=Math.pow(10,u);i[0](r,o,c)}else{var f=!t.path||t.shapeChanged();t.path||t.createPathProxy();var d=t.path;f&&(d.beginPath(),t.buildPath(d,t.shape),t.pathUpdated());var h=d.getVersion(),p=t,v=p.__svgPathBuilder;(p.__svgPathVersion!==h||!v||l!==p.__svgPathStrokePercent)&&(v||(v=p.__svgPathBuilder=new JSe),v.reset(u),d.rebuildPath(v,l),v.generateStr(),p.__svgPathVersion=h,p.__svgPathStrokePercent=l),o.d=v.getStr()}return y9(o,t.transform),g9(o,n,t,e),m9(o,t),e.animation&&XR(t,o,e),e.emphasis&&mMt(t,o,e),xa(s,t.id+"",o)}function SMt(t,e){var n=t.style,r=n.image;if(r&&!fn(r)&&(ixe(r)?r=r.src:oxe(r)&&(r=r.toDataURL())),!!r){var i=n.x||0,o=n.y||0,a=n.width,s=n.height,l={href:r,width:a,height:s};return i&&(l.x=i),o&&(l.y=o),y9(l,t.transform),g9(l,n,t,e),m9(l,t),e.animation&&XR(t,l,e),xa("image",t.id+"",l)}}function xMt(t,e){var n=t.style,r=n.text;if(r!=null&&(r+=""),!(!r||isNaN(n.x)||isNaN(n.y))){var i=n.font||vv,o=n.x||0,a=jSt(n.y||0,wR(i),n.textBaseline),s=HSt[n.textAlign]||n.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(g_e(n)){var u="",c=n.fontStyle,f=v_e(n.fontSize);if(!parseFloat(f))return;var d=n.fontFamily||m1e,h=n.fontWeight;u+="font-size:"+f+";font-family:"+d+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),h&&h!=="normal"&&(u+="font-weight:"+h+";"),l.style=u}else l.style="font: "+i;return r.match(/\s/)&&(l["xml:space"]="preserve"),o&&(l.x=o),a&&(l.y=a),y9(l,t.transform),g9(l,n,t,e),m9(l,t),e.animation&&XR(t,l,e),xa("text",t.id+"",l,void 0,r)}}function fre(t,e){if(t instanceof $r)return axe(t,e);if(t instanceof qa)return SMt(t,e);if(t instanceof I1)return xMt(t,e)}function CMt(t,e,n){var r=t.style;if(GSt(r)){var i=USt(t),o=n.shadowCache,a=o[i];if(!a){var s=t.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=r.shadowOffsetX||0,f=r.shadowOffsetY||0,d=r.shadowBlur,h=mC(r.shadowColor),p=h.opacity,v=h.color,g=d/2/l,m=d/2/u,y=g+" "+m;a=n.zrId+"-s"+n.shadowIdx++,n.defs[a]=xa("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[xa("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:y,"flood-color":v,"flood-opacity":p})]),o[i]=a}e.filter=_R(a)}}function sxe(t,e,n,r){var i=t[n],o,a={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if($1e(i))o="linearGradient",a.x1=i.x,a.y1=i.y,a.x2=i.x2,a.y2=i.y2;else if(F1e(i))o="radialGradient",a.cx=dr(i.x,.5),a.cy=dr(i.y,.5),a.r=dr(i.r,.5);else return;for(var s=i.colorStops,l=[],u=0,c=s.length;u<c;++u){var f=o5(s[u].offset)*100+"%",d=s[u].color,h=mC(d),p=h.color,v=h.opacity,g={offset:f};g["stop-color"]=p,v<1&&(g["stop-opacity"]=v),l.push(xa("stop",u+"",g))}var m=xa(o,"",a,l),y=v9(m),b=r.gradientCache,w=b[y];w||(w=r.zrId+"-g"+r.gradientIdx++,b[y]=w,a.id=w,r.defs[w]=xa(o,w,a,l)),e[n]=_R(w)}function lxe(t,e,n,r){var i=t.style[n],o=t.getBoundingRect(),a={},s=i.repeat,l=s==="no-repeat",u=s==="repeat-x",c=s==="repeat-y",f;if(B1e(i)){var d=i.imageWidth,h=i.imageHeight,p=void 0,v=i.image;if(fn(v)?p=v:ixe(v)?p=v.src:oxe(v)&&(p=v.toDataURL()),typeof Image>"u"){var g="Image width/height must been given explictly in svg-ssr renderer.";al(d,g),al(h,g)}else if(d==null||h==null){var m=function(A,k){if(A){var M=A.elm,D=d||k.width,L=h||k.height;A.tag==="pattern"&&(u?(L=1,D/=o.width):c&&(D=1,L/=o.height)),A.attrs.width=D,A.attrs.height=L,M&&(M.setAttribute("width",D),M.setAttribute("height",L))}},y=kG(p,null,t,function(A){l||m(x,A),m(f,A)});y&&y.width&&y.height&&(d=d||y.width,h=h||y.height)}f=xa("image","img",{href:p,width:d,height:h}),a.width=d,a.height=h}else i.svgElement&&(f=Jn(i.svgElement),a.width=i.svgWidth,a.height=i.svgHeight);if(f){var b,w;l?b=w=1:u?(w=1,b=a.width/o.width):c?(b=1,w=a.height/o.height):a.patternUnits="userSpaceOnUse",b!=null&&!isNaN(b)&&(a.width=b),w!=null&&!isNaN(w)&&(a.height=w);var S=H1e(i);S&&(a.patternTransform=S);var x=xa("pattern","",a,[f]),C=v9(x),E=r.patternCache,T=E[C];T||(T=r.zrId+"-p"+r.patternIdx++,E[C]=T,a.id=T,x=r.defs[T]=xa("pattern",T,a,[f])),e[n]=_R(T)}}function EMt(t,e,n){var r=n.clipPathCache,i=n.defs,o=r[t.id];if(!o){o=n.zrId+"-c"+n.clipPathIdx++;var a={id:o};r[t.id]=o,i[o]=xa("clipPath",o,a,[axe(t,n)])}e["clip-path"]=_R(o)}function dre(t){return document.createTextNode(t)}function Gg(t,e,n){t.insertBefore(e,n)}function hre(t,e){t.removeChild(e)}function pre(t,e){t.appendChild(e)}function uxe(t){return t.parentNode}function cxe(t){return t.nextSibling}function J4(t,e){t.textContent=e}var vre=58,TMt=120,AMt=xa("","");function Y5(t){return t===void 0}function Cf(t){return t!==void 0}function kMt(t,e,n){for(var r={},i=e;i<=n;++i){var o=t[i].key;o!==void 0&&(r[o]=i)}return r}function yS(t,e){var n=t.key===e.key,r=t.tag===e.tag;return r&&n}function PC(t){var e,n=t.children,r=t.tag;if(Cf(r)){var i=t.elm=txe(r);if(b9(AMt,t),Tt(n))for(e=0;e<n.length;++e){var o=n[e];o!=null&&pre(i,PC(o))}else Cf(t.text)&&!Zn(t.text)&&pre(i,dre(t.text))}else t.elm=dre(t.text);return t.elm}function fxe(t,e,n,r,i){for(;r<=i;++r){var o=n[r];o!=null&&Gg(t,PC(o),e)}}function tO(t,e,n,r){for(;n<=r;++n){var i=e[n];if(i!=null)if(Cf(i.tag)){var o=uxe(i.elm);hre(o,i.elm)}else hre(t,i.elm)}}function b9(t,e){var n,r=e.elm,i=t&&t.attrs||{},o=e.attrs||{};if(i!==o){for(n in o){var a=o[n],s=i[n];s!==a&&(a===!0?r.setAttribute(n,""):a===!1?r.removeAttribute(n):n==="style"?r.style.cssText=a:n.charCodeAt(0)!==TMt?r.setAttribute(n,a):n==="xmlns:xlink"||n==="xmlns"?r.setAttributeNS(sMt,n,a):n.charCodeAt(3)===vre?r.setAttributeNS(lMt,n,a):n.charCodeAt(5)===vre?r.setAttributeNS(exe,n,a):r.setAttribute(n,a))}for(n in i)n in o||r.removeAttribute(n)}}function MMt(t,e,n){for(var r=0,i=0,o=e.length-1,a=e[0],s=e[o],l=n.length-1,u=n[0],c=n[l],f,d,h,p;r<=o&&i<=l;)a==null?a=e[++r]:s==null?s=e[--o]:u==null?u=n[++i]:c==null?c=n[--l]:yS(a,u)?(j0(a,u),a=e[++r],u=n[++i]):yS(s,c)?(j0(s,c),s=e[--o],c=n[--l]):yS(a,c)?(j0(a,c),Gg(t,a.elm,cxe(s.elm)),a=e[++r],c=n[--l]):yS(s,u)?(j0(s,u),Gg(t,s.elm,a.elm),s=e[--o],u=n[++i]):(Y5(f)&&(f=kMt(e,r,o)),d=f[u.key],Y5(d)?Gg(t,PC(u),a.elm):(h=e[d],h.tag!==u.tag?Gg(t,PC(u),a.elm):(j0(h,u),e[d]=void 0,Gg(t,h.elm,a.elm))),u=n[++i]);(r<=o||i<=l)&&(r>o?(p=n[l+1]==null?null:n[l+1].elm,fxe(t,p,n,i,l)):tO(t,e,r,o))}function j0(t,e){var n=e.elm=t.elm,r=t.children,i=e.children;t!==e&&(b9(t,e),Y5(e.text)?Cf(r)&&Cf(i)?r!==i&&MMt(n,r,i):Cf(i)?(Cf(t.text)&&J4(n,""),fxe(n,null,i,0,i.length-1)):Cf(r)?tO(n,r,0,r.length-1):Cf(t.text)&&J4(n,""):t.text!==e.text&&(Cf(r)&&tO(n,r,0,r.length-1),J4(n,e.text)))}function PMt(t,e){if(yS(t,e))j0(t,e);else{var n=t.elm,r=uxe(n);PC(e),r!==null&&(Gg(r,e.elm,cxe(n)),tO(r,[t],0,0))}return e}var OMt=0,IMt=(function(){function t(e,n,r){if(this.type="svg",this.refreshHover=gre(),this.configLayer=gre(),this.storage=n,this._opts=r=yt({},r),this.root=e,this._id="zr"+OMt++,this._oldVNode=ire(r.width,r.height),e&&!r.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=txe("svg");b9(null,this._oldVNode),i.appendChild(o),e.appendChild(i)}this.resize(r.width,r.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",PMt(this._oldVNode,e),this._oldVNode=e}},t.prototype.renderOneToVNode=function(e){return fre(e,K5(this._id))},t.prototype.renderToVNode=function(e){e=e||{};var n=this.storage.getDisplayList(!0),r=this._width,i=this._height,o=K5(this._id);o.animation=e.animation,o.willUpdate=e.willUpdate,o.compress=e.compress,o.emphasis=e.emphasis,o.ssr=this._opts.ssr;var a=[],s=this._bgVNode=RMt(r,i,this._backgroundColor,o);s&&a.push(s);var l=e.compress?null:this._mainVNode=xa("g","main",{},[]);this._paintList(n,o,l?l.children:a),l&&a.push(l);var u=kt(Ur(o.defs),function(d){return o.defs[d]});if(u.length&&a.push(xa("defs","defs",{},u)),e.animation){var c=fMt(o.cssNodes,o.cssAnims,{newline:!0});if(c){var f=xa("style","stl",{},[],c);a.push(f)}}return ire(r,i,a,e.useViewBox)},t.prototype.renderToString=function(e){return e=e||{},v9(this.renderToVNode({animation:dr(e.cssAnimation,!0),emphasis:dr(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:dr(e.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(e,n,r){for(var i=e.length,o=[],a=0,s,l,u=0,c=0;c<i;c++){var f=e[c];if(!f.invisible){var d=f.__clipPaths,h=d&&d.length||0,p=l&&l.length||0,v=void 0;for(v=Math.max(h-1,p-1);v>=0&&!(d&&l&&d[v]===l[v]);v--);for(var g=p-1;g>v;g--)a--,s=o[a-1];for(var m=v+1;m<h;m++){var y={};EMt(d[m],y,n);var b=xa("g","clip-g-"+u++,y,[]);(s?s.children:r).push(b),o[a++]=b,s=b}l=d;var w=fre(f,n);w&&(s?s.children:r).push(w)}}},t.prototype.resize=function(e,n){var r=this._opts,i=this.root,o=this._viewport;if(e!=null&&(r.width=e),n!=null&&(r.height=n),i&&o&&(o.style.display="none",e=Q0(i,0,r),n=Q0(i,1,r),o.style.display=""),this._width!==e||this._height!==n){if(this._width=e,this._height=n,o){var a=o.style;a.width=e+"px",a.height=n+"px"}if(bG(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",n));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",n))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(e){var n=this.renderToString(),r="data:image/svg+xml;";return e?(n=qSt(n),n&&r+"base64,"+n):r+"charset=UTF-8,"+encodeURIComponent(n)},t})();function gre(t){return function(){}}function RMt(t,e,n,r){var i;if(n&&n!=="none")if(i=xa("rect","bg",{width:t,height:e,x:"0",y:"0"}),V1e(n))sxe({fill:n},i.attrs,"fill",r);else if(bG(n))lxe({style:{fill:n},dirty:Vo,getBoundingRect:function(){return{width:t,height:e}}},i.attrs,"fill",r);else{var o=mC(n),a=o.color,s=o.opacity;i.attrs.fill=a,s<1&&(i.attrs["fill-opacity"]=s)}return i}function LMt(t){t.registerPainter("svg",IMt)}function mre(t,e,n){var r=gv.createCanvas(),i=e.getWidth(),o=e.getHeight(),a=r.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=i+"px",a.height=o+"px",r.setAttribute("data-zr-dom-id",t)),r.width=i*n,r.height=o*n,r}var Q4=(function(t){Xi(e,t);function e(n,r,i){var o=t.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null;var a;i=i||RP,typeof n=="string"?a=mre(n,r,i):Zn(n)&&(a=n,n=a.id),o.id=n,o.dom=a;var s=a.style;return s&&(x1e(a),a.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),o.painter=r,o.dpr=i,o}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=mre("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},e.prototype.createRepaintRects=function(n,r,i,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a=[],s=this.maxRepaintRectCount,l=!1,u=new xr(0,0,0,0);function c(y){if(!(!y.isFinite()||y.isZero()))if(a.length===0){var b=new xr(0,0,0,0);b.copy(y),a.push(b)}else{for(var w=!1,S=1/0,x=0,C=0;C<a.length;++C){var E=a[C];if(E.intersect(y)){var T=new xr(0,0,0,0);T.copy(E),T.union(y),a[C]=T,w=!0;break}else if(l){u.copy(y),u.union(E);var A=y.width*y.height,k=E.width*E.height,M=u.width*u.height,D=M-A-k;D<S&&(S=D,x=C)}}if(l&&(a[x].union(y),w=!0),!w){var b=new xr(0,0,0,0);b.copy(y),a.push(b)}l||(l=a.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var d=n[f];if(d){var h=d.shouldBePainted(i,o,!0,!0),p=d.__isRendered&&(d.__dirty&zl||!h)?d.getPrevPaintRect():null;p&&c(p);var v=h&&(d.__dirty&zl||!d.__isRendered)?d.getPaintRect():null;v&&c(v)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var d=r[f],h=d&&d.shouldBePainted(i,o,!0,!0);if(d&&(!h||!d.__zr)&&d.__isRendered){var p=d.getPrevPaintRect();p&&c(p)}}var g;do{g=!1;for(var f=0;f<a.length;){if(a[f].isZero()){a.splice(f,1);continue}for(var m=f+1;m<a.length;)a[f].intersect(a[m])?(g=!0,a[f].union(a[m]),a.splice(m,1)):m++;f++}}while(g);return this._paintRects=a,a},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(n,r){var i=this.dpr,o=this.dom,a=o.style,s=this.domBack;a&&(a.width=n+"px",a.height=r+"px"),o.width=n*i,o.height=r*i,s&&(s.width=n*i,s.height=r*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(n,r,i){var o=this.dom,a=this.ctx,s=o.width,l=o.height;r=r||this.clearColor;var u=this.motionBlur&&!n,c=this.lastFrameAlpha,f=this.dpr,d=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,s/f,l/f));var h=this.domBack;function p(v,g,m,y){if(a.clearRect(v,g,m,y),r&&r!=="transparent"){var b=void 0;if(mR(r)){var w=r.global||r.__width===m&&r.__height===y;b=w&&r.__canvasGradient||F5(a,r,{x:0,y:0,width:m,height:y}),r.__canvasGradient=b,r.__width=m,r.__height=y}else tSt(r)&&(r.scaleX=r.scaleX||f,r.scaleY=r.scaleY||f,b=V5(a,r,{dirty:function(){d.setUnpainted(),d.painter.refresh()}}));a.save(),a.fillStyle=b||r,a.fillRect(v,g,m,y),a.restore()}u&&(a.save(),a.globalAlpha=c,a.drawImage(h,v,g,m,y),a.restore())}!i||u?p(0,0,s,l):i.length&&ie(i,function(v){p(v.x*f,v.y*f,v.width*f,v.height*f)})},e})(ec),yre=1e5,Cg=314159,sA=.01,DMt=.001;function NMt(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function BMt(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var $Mt=(function(){function t(e,n,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=yt({},r||{}),this.dpr=r.devicePixelRatio||RP,this._singleCanvas=o,this.root=e;var a=e.style;a&&(x1e(e),e.innerHTML=""),this.storage=n;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(o){var c=e,f=c.width,d=c.height;r.width!=null&&(f=r.width),r.height!=null&&(d=r.height),this.dpr=r.devicePixelRatio||1,c.width=f*this.dpr,c.height=d*this.dpr,this._width=f,this._height=d;var h=new Q4(c,this,this.dpr);h.__builtin__=!0,h.initContext(),l[Cg]=h,h.zlevel=Cg,s.push(Cg),this._domRoot=e}else{this._width=Q0(e,0,r),this._height=Q0(e,1,r);var u=this._domRoot=BMt(this._width,this._height);e.appendChild(u)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.refresh=function(e){var n=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,r,e,this._redrawId);for(var o=0;o<i.length;o++){var a=i[o],s=this._layers[a];if(!s.__builtin__&&s.refresh){var l=o===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(e){var n=e.length,r=this._hoverlayer;if(r&&r.clear(),!!n){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},o,a=0;a<n;a++){var s=e[a];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(yre)),o||(o=r.ctx,o.save()),lm(o,s,i,a===n-1))}o&&o.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(yre)},t.prototype.paintOne=function(e,n){Zwe(e,n)},t.prototype._paintList=function(e,n,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(e);var o=this._doPaintList(e,n,r),a=o.finished,s=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),a)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;AP(function(){l._paintList(e,n,r,i)})}}},t.prototype._compositeManually=function(){var e=this.getLayer(Cg).ctx,n=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,n,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,n,r)})},t.prototype._doPaintList=function(e,n,r){for(var i=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&o.push(u)}for(var c=!0,f=!1,d=function(v){var g=o[v],m=g.ctx,y=a&&g.createRepaintRects(e,n,h._width,h._height),b=r?g.__startIndex:g.__drawIndex,w=!r&&g.incremental&&Date.now,S=w&&Date.now(),x=g.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(g.__startIndex===g.__endIndex)g.clear(!1,x,y);else if(b===g.__startIndex){var C=e[b];(!C.incremental||!C.notClear||r)&&g.clear(!1,x,y)}b===-1&&(console.error("For some unknown reason. drawIndex is -1"),b=g.__startIndex);var E,T=function(D){var L={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(E=b;E<g.__endIndex;E++){var I=e[E];if(I.__inHover&&(f=!0),i._doPaintEl(I,g,a,D,L,E===g.__endIndex-1),w){var R=Date.now()-S;if(R>15)break}}L.prevElClipPaths&&m.restore()};if(y)if(y.length===0)E=g.__endIndex;else for(var A=h.dpr,k=0;k<y.length;++k){var M=y[k];m.save(),m.beginPath(),m.rect(M.x*A,M.y*A,M.width*A,M.height*A),m.clip(),T(M),m.restore()}else m.save(),T(),m.restore();g.__drawIndex=E,g.__drawIndex<g.__endIndex&&(c=!1)},h=this,p=0;p<o.length;p++)d(p);return Fr.wxa&&ie(this._layers,function(v){v&&v.ctx&&v.ctx.draw&&v.ctx.draw()}),{finished:c,needsRefreshHover:f}},t.prototype._doPaintEl=function(e,n,r,i,o,a){var s=n.ctx;if(r){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(lm(s,e,o,a),e.setPrevPaintRect(l))}else lm(s,e,o,a)},t.prototype.getLayer=function(e,n){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Cg);var r=this._layers[e];return r||(r=new Q4("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?mr(r,this._layerConfig[e],!0):this._layerConfig[e-sA]&&mr(r,this._layerConfig[e-sA],!0),n&&(r.virtual=n),this.insertLayer(e,r),r.initContext()),r},t.prototype.insertLayer=function(e,n){var r=this._layers,i=this._zlevelList,o=i.length,a=this._domRoot,s=null,l=-1;if(!r[e]&&NMt(n)){if(o>0&&e>i[0]){for(l=0;l<o-1&&!(i[l]<e&&i[l+1]>e);l++);s=r[i[l]]}if(i.splice(l+1,0,e),r[e]=n,!n.virtual)if(s){var u=s.dom;u.nextSibling?a.insertBefore(n.dom,u.nextSibling):a.appendChild(n.dom)}else a.firstChild?a.insertBefore(n.dom,a.firstChild):a.appendChild(n.dom);n.painter||(n.painter=this)}},t.prototype.eachLayer=function(e,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i];e.call(n,this._layers[o],o)}},t.prototype.eachBuiltinLayer=function(e,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i],a=this._layers[o];a.__builtin__&&e.call(n,a,o)}},t.prototype.eachOtherLayer=function(e,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i],a=this._layers[o];a.__builtin__||e.call(n,a,o)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,d){f.__dirty=f.__used=!1});function n(f){o&&(o.__endIndex!==f&&(o.__dirty=!0),o.__endIndex=f)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var i=e[r];if(i.zlevel!==e[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var o=null,a=0,s,l;for(l=0;l<e.length;l++){var i=e[l],u=i.zlevel,c=void 0;s!==u&&(s=u,a=0),i.incremental?(c=this.getLayer(u+DMt,this._needsManuallyCompositing),c.incremental=!0,a=1):c=this.getLayer(u+(a>0?sA:0),this._needsManuallyCompositing),c.__builtin__||fG("ZLevel "+u+" has been used by unkown layer "+c.id),c!==o&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,n(l),o=c),i.__dirty&zl&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}n(l),this.eachBuiltinLayer(function(f,d){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(e){e.clear()},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e,ie(this._layers,function(n){n.setUnpainted()})},t.prototype.configLayer=function(e,n){if(n){var r=this._layerConfig;r[e]?mr(r[e],n,!0):r[e]=n;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];if(o===e||o===e+sA){var a=this._layers[o];mr(a,r[e],!0)}}}},t.prototype.delLayer=function(e){var n=this._layers,r=this._zlevelList,i=n[e];i&&(i.dom.parentNode.removeChild(i.dom),delete n[e],r.splice(Mr(r,e),1))},t.prototype.resize=function(e,n){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,o=this.root;if(e!=null&&(i.width=e),n!=null&&(i.height=n),e=Q0(o,0,i),n=Q0(o,1,i),r.style.display="",this._width!==e||n!==this._height){r.style.width=e+"px",r.style.height=n+"px";for(var a in this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(e,n);this.refresh(!0)}this._width=e,this._height=n}else{if(e==null||n==null)return;this._width=e,this._height=n,this.getLayer(Cg).resize(e,n)}return this},t.prototype.clearLayer=function(e){var n=this._layers[e];n&&n.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Cg].dom;var n=new Q4("image",this,e.pixelRatio||this.dpr);n.initContext(),n.clear(!1,e.backgroundColor||this._backgroundColor);var r=n.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=n.dom.width,o=n.dom.height;this.eachLayer(function(f){f.__builtin__?r.drawImage(f.dom,0,0,i,o):f.renderToCanvas&&(r.save(),f.renderToCanvas(r),r.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];lm(r,c,a,l===u-1)}return n.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t})();function FMt(t){t.registerPainter("canvas",$Mt)}var VMt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return e.prototype.getInitialData=function(n){return Bh(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(n){var r=new nr,i=ra("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);r.add(i),i.setStyle(n.lineStyle);var o=this.getData().getVisual("symbol"),a=this.getData().getVisual("symbolRotate"),s=o==="none"?"circle":o,l=n.itemHeight*.8,u=ra(s,(n.itemWidth-l)/2,(n.itemHeight-l)/2,l,l,n.itemStyle.fill);r.add(u),u.setStyle(n.itemStyle);var c=n.iconRotate==="inherit"?a:n.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([n.itemWidth/2,n.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),r},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e})(Ui);function B1(t,e){var n=t.mapDimensionsAll("defaultedLabel"),r=n.length;if(r===1){var i=L1(t,e,n[0]);return i!=null?i+"":null}else if(r){for(var o=[],a=0;a<n.length;a++)o.push(L1(t,e,n[a]));return o.join(" ")}}function dxe(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!Tt(e))return e+"";for(var r=[],i=0;i<n.length;i++){var o=t.getDimensionIndex(n[i]);o>=0&&r.push(e[o])}return r.join(" ")}var J2=(function(t){nt(e,t);function e(n,r,i,o){var a=t.call(this)||this;return a.updateData(n,r,i,o),a}return e.prototype._createSymbol=function(n,r,i,o,a){this.removeAll();var s=ra(n,-1,-1,2,2,null,a);s.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),s.drift=zMt,this._symbolType=n,this.add(s)},e.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){vh(this.childAt(0))},e.prototype.downplay=function(){gh(this.childAt(0))},e.prototype.setZ=function(n,r){var i=this.childAt(0);i.zlevel=n,i.z=r},e.prototype.setDraggable=function(n,r){var i=this.childAt(0);i.draggable=n,i.cursor=!r&&n?"move":i.cursor},e.prototype.updateData=function(n,r,i,o){this.silent=!1;var a=n.getItemVisual(r,"symbol")||"circle",s=n.hostModel,l=e.getSymbolSize(n,r),u=a!==this._symbolType,c=o&&o.disableAnimation;if(u){var f=n.getItemVisual(r,"symbolKeepAspect");this._createSymbol(a,n,r,l,f)}else{var d=this.childAt(0);d.silent=!1;var h={scaleX:l[0]/2,scaleY:l[1]/2};c?d.attr(h):si(d,h,s,r),$c(d)}if(this._updateCommon(n,r,l,i,o),u){var d=this.childAt(0);if(!c){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,eo(d,h,s,r)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(n,r,i,o,a){var s=this.childAt(0),l=n.hostModel,u,c,f,d,h,p,v,g,m;if(o&&(u=o.emphasisItemStyle,c=o.blurItemStyle,f=o.selectItemStyle,d=o.focus,h=o.blurScope,v=o.labelStatesModels,g=o.hoverScale,m=o.cursorStyle,p=o.emphasisDisabled),!o||n.hasItemOption){var y=o&&o.itemModel?o.itemModel:n.getItemModel(r),b=y.getModel("emphasis");u=b.getModel("itemStyle").getItemStyle(),f=y.getModel(["select","itemStyle"]).getItemStyle(),c=y.getModel(["blur","itemStyle"]).getItemStyle(),d=b.get("focus"),h=b.get("blurScope"),p=b.get("disabled"),v=Pa(y),g=b.getShallow("scale"),m=y.getShallow("cursor")}var w=n.getItemVisual(r,"symbolRotate");s.attr("rotation",(w||0)*Math.PI/180||0);var S=ky(n.getItemVisual(r,"symbolOffset"),i);S&&(s.x=S[0],s.y=S[1]),m&&s.attr("cursor",m);var x=n.getItemVisual(r,"style"),C=x.fill;if(s instanceof qa){var E=s.style;s.useStyle(yt({image:E.image,x:E.x,y:E.y,width:E.width,height:E.height},x))}else s.__isEmptyBrush?s.useStyle(yt({},x)):s.useStyle(x),s.style.decal=null,s.setColor(C,a&&a.symbolInnerColor),s.style.strokeNoScale=!0;var T=n.getItemVisual(r,"liftZ"),A=this._z2;T!=null?A==null&&(this._z2=s.z2,s.z2+=T):A!=null&&(s.z2=A,this._z2=null);var k=a&&a.useNameLabel;us(s,v,{labelFetcher:l,labelDataIndex:r,defaultText:M,inheritColor:C,defaultOpacity:x.opacity});function M(I){return k?n.getName(I):B1(n,I)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var D=s.ensureState("emphasis");D.style=u,s.ensureState("select").style=f,s.ensureState("blur").style=c;var L=g==null||g===!0?Math.max(1.1,3/this._sizeY):isFinite(g)&&g>0?+g:1;D.scaleX=this._sizeX*L,D.scaleY=this._sizeY*L,this.setSymbolScale(1),go(this,d,h,p)},e.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},e.prototype.fadeOut=function(n,r,i){var o=this.childAt(0),a=ar(this).dataIndex,s=i&&i.animation;if(this.silent=o.silent=!0,i&&i.fadeLabel){var l=o.getTextContent();l&&yv(l,{style:{opacity:0}},r,{dataIndex:a,removeOpt:s,cb:function(){o.removeTextContent()}})}else o.removeTextContent();yv(o,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:a,cb:n,removeOpt:s})},e.getSymbolSize=function(n,r){return $_(n.getItemVisual(r,"symbolSize"))},e})(nr);function zMt(t,e){this.parent.drift(t,e)}function eB(t,e,n,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&t.getItemVisual(n,"symbol")!=="none"}function bre(t){return t!=null&&!Zn(t)&&(t={isIgnore:t}),t||{}}function _re(t){var e=t.hostModel,n=e.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:Pa(e),cursorStyle:e.get("cursor")}}var Q2=(function(){function t(e){this.group=new nr,this._SymbolCtor=e||J2}return t.prototype.updateData=function(e,n){this._progressiveEls=null,n=bre(n);var r=this.group,i=e.hostModel,o=this._data,a=this._SymbolCtor,s=n.disableAnimation,l=_re(e),u={disableAnimation:s},c=n.getSymbolPoint||function(f){return e.getItemLayout(f)};o||r.removeAll(),e.diff(o).add(function(f){var d=c(f);if(eB(e,d,f,n)){var h=new a(e,f,l,u);h.setPosition(d),e.setItemGraphicEl(f,h),r.add(h)}}).update(function(f,d){var h=o.getItemGraphicEl(d),p=c(f);if(!eB(e,p,f,n)){r.remove(h);return}var v=e.getItemVisual(f,"symbol")||"circle",g=h&&h.getSymbolType&&h.getSymbolType();if(!h||g&&g!==v)r.remove(h),h=new a(e,f,l,u),h.setPosition(p);else{h.updateData(e,f,l,u);var m={x:p[0],y:p[1]};s?h.attr(m):si(h,m,i)}r.add(h),e.setItemGraphicEl(f,h)}).remove(function(f){var d=o.getItemGraphicEl(f);d&&d.fadeOut(function(){r.remove(d)},i)}).execute(),this._getSymbolPoint=c,this._data=e},t.prototype.updateLayout=function(){var e=this,n=this._data;n&&n.eachItemGraphicEl(function(r,i){var o=e._getSymbolPoint(i);r.setPosition(o),r.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=_re(e),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,n,r){this._progressiveEls=[],r=bre(r);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var o=e.start;o<e.end;o++){var a=n.getItemLayout(o);if(eB(n,a,o,r)){var s=new this._SymbolCtor(n,o,this._seriesScope);s.traverse(i),s.setPosition(a),this.group.add(s),n.setItemGraphicEl(o,s),this._progressiveEls.push(s)}}},t.prototype.eachRendered=function(e){Bv(this._progressiveEls||this.group,e)},t.prototype.remove=function(e){var n=this.group,r=this._data;r&&e?r.eachItemGraphicEl(function(i){i.fadeOut(function(){n.remove(i)},r.hostModel)}):n.removeAll()},t})();function hxe(t,e,n){var r=t.getBaseAxis(),i=t.getOtherAxis(r),o=HMt(i,n),a=r.dim,s=i.dim,l=e.mapDimension(s),u=e.mapDimension(a),c=s==="x"||s==="radius"?1:0,f=kt(t.dimensions,function(p){return e.mapDimension(p)}),d=!1,h=e.getCalculationInfo("stackResultDimension");return _v(e,f[0])&&(d=!0,f[0]=h),_v(e,f[1])&&(d=!0,f[1]=h),{dataDimsForPoint:f,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!d,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function HMt(t,e){var n=0,r=t.scale.getExtent();return e==="start"?n=r[0]:e==="end"?n=r[1]:ri(e)&&!isNaN(e)?n=e:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}function pxe(t,e,n,r){var i=NaN;t.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=t.valueStart);var o=t.baseDataOffset,a=[];return a[o]=n.get(t.baseDim,r),a[1-o]=i,e.dataToPoint(a)}function jMt(t,e){var n=[];return e.diff(t).add(function(r){n.push({cmd:"+",idx:r})}).update(function(r,i){n.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){n.push({cmd:"-",idx:r})}).execute(),n}function GMt(t,e,n,r,i,o,a,s){for(var l=jMt(t,e),u=[],c=[],f=[],d=[],h=[],p=[],v=[],g=hxe(i,e,a),m=t.getLayout("points")||[],y=e.getLayout("points")||[],b=0;b<l.length;b++){var w=l[b],S=!0,x=void 0,C=void 0;switch(w.cmd){case"=":x=w.idx*2,C=w.idx1*2;var E=m[x],T=m[x+1],A=y[C],k=y[C+1];(isNaN(E)||isNaN(T))&&(E=A,T=k),u.push(E,T),c.push(A,k),f.push(n[x],n[x+1]),d.push(r[C],r[C+1]),v.push(e.getRawIndex(w.idx1));break;case"+":var M=w.idx,D=g.dataDimsForPoint,L=i.dataToPoint([e.get(D[0],M),e.get(D[1],M)]);C=M*2,u.push(L[0],L[1]),c.push(y[C],y[C+1]);var I=pxe(g,i,e,M);f.push(I[0],I[1]),d.push(r[C],r[C+1]),v.push(e.getRawIndex(M));break;case"-":S=!1}S&&(h.push(w),p.push(p.length))}p.sort(function(oe,ce){return v[oe]-v[ce]});for(var R=u.length,V=Lf(R),P=Lf(R),B=Lf(R),j=Lf(R),G=[],b=0;b<p.length;b++){var W=p[b],Z=b*2,ee=W*2;V[Z]=u[ee],V[Z+1]=u[ee+1],P[Z]=c[ee],P[Z+1]=c[ee+1],B[Z]=f[ee],B[Z+1]=f[ee+1],j[Z]=d[ee],j[Z+1]=d[ee+1],G[b]=h[W]}return{current:V,next:P,stackedOnCurrent:B,stackedOnNext:j,status:G}}var np=Math.min,rp=Math.max;function km(t,e){return isNaN(t)||isNaN(e)}function X5(t,e,n,r,i,o,a,s,l){for(var u,c,f,d,h,p,v=n,g=0;g<r;g++){var m=e[v*2],y=e[v*2+1];if(v>=i||v<0)break;if(km(m,y)){if(l){v+=o;continue}break}if(v===n)t[o>0?"moveTo":"lineTo"](m,y),f=m,d=y;else{var b=m-u,w=y-c;if(b*b+w*w<.5){v+=o;continue}if(a>0){for(var S=v+o,x=e[S*2],C=e[S*2+1];x===m&&C===y&&g<r;)g++,S+=o,v+=o,x=e[S*2],C=e[S*2+1],m=e[v*2],y=e[v*2+1],b=m-u,w=y-c;var E=g+1;if(l)for(;km(x,C)&&E<r;)E++,S+=o,x=e[S*2],C=e[S*2+1];var T=.5,A=0,k=0,M=void 0,D=void 0;if(E>=r||km(x,C))h=m,p=y;else{A=x-u,k=C-c;var L=m-u,I=x-m,R=y-c,V=C-y,P=void 0,B=void 0;if(s==="x"){P=Math.abs(L),B=Math.abs(I);var j=A>0?1:-1;h=m-j*P*a,p=y,M=m+j*B*a,D=y}else if(s==="y"){P=Math.abs(R),B=Math.abs(V);var G=k>0?1:-1;h=m,p=y-G*P*a,M=m,D=y+G*B*a}else P=Math.sqrt(L*L+R*R),B=Math.sqrt(I*I+V*V),T=B/(B+P),h=m-A*a*(1-T),p=y-k*a*(1-T),M=m+A*a*T,D=y+k*a*T,M=np(M,rp(x,m)),D=np(D,rp(C,y)),M=rp(M,np(x,m)),D=rp(D,np(C,y)),A=M-m,k=D-y,h=m-A*P/B,p=y-k*P/B,h=np(h,rp(u,m)),p=np(p,rp(c,y)),h=rp(h,np(u,m)),p=rp(p,np(c,y)),A=m-h,k=y-p,M=m+A*B/P,D=y+k*B/P}t.bezierCurveTo(f,d,h,p,m,y),f=M,d=D}else t.lineTo(m,y)}u=m,c=y,v+=o}return g}var vxe=(function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t})(),UMt=(function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.type="ec-polyline",r}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new vxe},e.prototype.buildPath=function(n,r){var i=r.points,o=0,a=i.length/2;if(r.connectNulls){for(;a>0&&km(i[a*2-2],i[a*2-1]);a--);for(;o<a&&km(i[o*2],i[o*2+1]);o++);}for(;o<a;)o+=X5(n,i,o,a,a,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},e.prototype.getPointOn=function(n,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,o=i.data,a=rd.CMD,s,l,u=r==="x",c=[],f=0;f<o.length;){var d=o[f++],h=void 0,p=void 0,v=void 0,g=void 0,m=void 0,y=void 0,b=void 0;switch(d){case a.M:s=o[f++],l=o[f++];break;case a.L:if(h=o[f++],p=o[f++],b=u?(n-s)/(h-s):(n-l)/(p-l),b<=1&&b>=0){var w=u?(p-l)*b+l:(h-s)*b+s;return u?[n,w]:[w,n]}s=h,l=p;break;case a.C:h=o[f++],p=o[f++],v=o[f++],g=o[f++],m=o[f++],y=o[f++];var S=u?MP(s,h,v,m,n,c):MP(l,p,g,y,n,c);if(S>0)for(var x=0;x<S;x++){var C=c[x];if(C<=1&&C>=0){var w=u?ba(l,p,g,y,C):ba(s,h,v,m,C);return u?[n,w]:[w,n]}}s=m,l=y;break}}},e})($r),WMt=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(vxe),gxe=(function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.type="ec-polygon",r}return e.prototype.getDefaultShape=function(){return new WMt},e.prototype.buildPath=function(n,r){var i=r.points,o=r.stackedOnPoints,a=0,s=i.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;s>0&&km(i[s*2-2],i[s*2-1]);s--);for(;a<s&&km(i[a*2],i[a*2+1]);a++);}for(;a<s;){var u=X5(n,i,a,s,s,1,r.smooth,l,r.connectNulls);X5(n,o,a+u-1,u,s,-1,r.stackedOnSmooth,l,r.connectNulls),a+=u+1,n.closePath()}},e})($r);function mxe(t,e,n,r,i){var o=t.getArea(),a=o.x,s=o.y,l=o.width,u=o.height,c=n.get(["lineStyle","width"])||0;a-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),a!==Math.floor(a)&&(a=Math.floor(a),l++);var f=new Jr({shape:{x:a,y:s,width:l,height:u}});if(e){var d=t.getBaseAxis(),h=d.isHorizontal(),p=d.inverse;h?(p&&(f.shape.x+=l),f.shape.width=0):(p||(f.shape.y+=u),f.shape.height=0);var v=qn(i)?function(g){i(g,f)}:null;eo(f,{shape:{width:l,height:u,x:a,y:s}},n,null,r,v)}return f}function yxe(t,e,n){var r=t.getArea(),i=wo(r.r0,1),o=wo(r.r,1),a=new ll({shape:{cx:wo(t.cx,1),cy:wo(t.cy,1),r0:i,r:o,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var s=t.getBaseAxis().dim==="angle";s?a.shape.endAngle=r.startAngle:a.shape.r=i,eo(a,{shape:{endAngle:r.endAngle,r:o}},n)}return a}function eE(t,e,n,r,i){if(t){if(t.type==="polar")return yxe(t,e,n);if(t.type==="cartesian2d")return mxe(t,e,n,r,i)}else return null;return null}function Py(t,e){return t.type===e}function wre(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return!0}}function Sre(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0;o<t.length;){var a=t[o++],s=t[o++];isNaN(a)||(e=Math.min(a,e),r=Math.max(a,r)),isNaN(s)||(n=Math.min(s,n),i=Math.max(s,i))}return[[e,n],[r,i]]}function xre(t,e){var n=Sre(t),r=n[0],i=n[1],o=Sre(e),a=o[0],s=o[1];return Math.max(Math.abs(r[0]-a[0]),Math.abs(r[1]-a[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function Cre(t){return ri(t)?t:t?.5:0}function qMt(t,e,n){if(!n.valueDim)return[];for(var r=e.count(),i=Lf(r*2),o=0;o<r;o++){var a=pxe(n,t,e,o);i[o*2]=a[0],i[o*2+1]=a[1]}return i}function ip(t,e,n,r,i){var o=n.getBaseAxis(),a=o.dim==="x"||o.dim==="radius"?0:1,s=[],l=0,u=[],c=[],f=[],d=[];if(i){for(l=0;l<t.length;l+=2){var h=e||t;!isNaN(h[l])&&!isNaN(h[l+1])&&d.push(t[l],t[l+1])}t=d}for(l=0;l<t.length-2;l+=2)switch(f[0]=t[l+2],f[1]=t[l+3],c[0]=t[l],c[1]=t[l+1],s.push(c[0],c[1]),r){case"end":u[a]=f[a],u[1-a]=c[1-a],s.push(u[0],u[1]);break;case"middle":var p=(c[a]+f[a])/2,v=[];u[a]=v[a]=p,u[1-a]=c[1-a],v[1-a]=f[1-a],s.push(u[0],u[1]),s.push(v[0],v[1]);break;default:u[a]=c[a],u[1-a]=f[1-a],s.push(u[0],u[1])}return s.push(t[l++],t[l++]),s}function KMt(t,e){var n=[],r=t.length,i,o;function a(c,f,d){var h=c.coord,p=(d-h)/(f.coord-h),v=VSt(p,[c.color,f.color]);return{coord:d,color:v}}for(var s=0;s<r;s++){var l=t[s],u=l.coord;if(u<0)i=l;else if(u>e){o?n.push(a(o,l,e)):i&&n.push(a(i,l,0),a(i,l,e));break}else i&&(n.push(a(i,l,0)),i=null),n.push(l),o=l}return n}function YMt(t,e,n){var r=t.getVisual("visualMeta");if(!(!r||!r.length||!t.count())&&e.type==="cartesian2d"){for(var i,o,a=r.length-1;a>=0;a--){var s=t.getDimensionInfo(r[a].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){o=r[a];break}}if(o){var l=e.getAxis(i),u=kt(o.stops,function(b){return{coord:l.toGlobalCoord(l.dataToCoord(b.value)),color:b.color}}),c=u.length,f=o.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var d=KMt(u,i==="x"?n.getWidth():n.getHeight()),h=d.length;if(!h&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var p=10,v=d[0].coord-p,g=d[h-1].coord+p,m=g-v;if(m<.001)return"transparent";ie(d,function(b){b.offset=(b.coord-v)/m}),d.push({offset:h?d[h-1].offset:.5,color:f[1]||"transparent"}),d.unshift({offset:h?d[0].offset:.5,color:f[0]||"transparent"});var y=new U2(0,0,0,0,d,!0);return y[i]=v,y[i+"2"]=g,y}}}function XMt(t,e,n){var r=t.get("showAllSymbol"),i=r==="auto";if(!(r&&!i)){var o=n.getAxesByScale("ordinal")[0];if(o&&!(i&&ZMt(o,e))){var a=e.mapDimension(o.dim),s={};return ie(o.getViewLabels(),function(l){var u=o.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(e.get(a,l))}}}}function ZMt(t,e){var n=t.getExtent(),r=Math.abs(n[1]-n[0])/t.scale.count();isNaN(r)&&(r=0);for(var i=e.count(),o=Math.max(1,Math.round(i/5)),a=0;a<i;a+=o)if(J2.getSymbolSize(e,a)[t.isHorizontal()?1:0]*1.5>r)return!1;return!0}function JMt(t,e){return isNaN(t)||isNaN(e)}function QMt(t){for(var e=t.length/2;e>0&&JMt(t[e*2-2],t[e*2-1]);e--);return e-1}function Ere(t,e){return[t[e*2],t[e*2+1]]}function ePt(t,e,n){for(var r=t.length/2,i=n==="x"?0:1,o,a,s=0,l=-1,u=0;u<r;u++)if(a=t[u*2+i],!(isNaN(a)||isNaN(t[u*2+1-i]))){if(u===0){o=a;continue}if(o<=e&&a>=e||o>=e&&a<=e){l=u;break}s=u,o=a}return{range:[s,l],t:(e-o)/(a-o)}}function bxe(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<sl.length;e++)if(t.get([sl[e],"endLabel","show"]))return!0;return!1}function tB(t,e,n,r){if(Py(e,"cartesian2d")){var i=r.getModel("endLabel"),o=i.get("valueAnimation"),a=r.getData(),s={lastFrameIndex:0},l=bxe(r)?function(h,p){t._endLabelOnDuring(h,p,a,s,o,i,e)}:null,u=e.getBaseAxis().isHorizontal(),c=mxe(e,n,r,function(){var h=t._endLabel;h&&n&&s.originalX!=null&&h.attr({x:s.originalX,y:s.originalY})},l);if(!r.get("clip",!0)){var f=c.shape,d=Math.max(f.width,f.height);u?(f.y-=d,f.height+=d*2):(f.x-=d,f.width+=d*2)}return l&&l(1,c),c}else return yxe(e,n,r)}function tPt(t,e){var n=e.getBaseAxis(),r=n.isHorizontal(),i=n.inverse,o=r?i?"right":"left":"center",a=r?"middle":i?"top":"bottom";return{normal:{align:t.get("align")||o,verticalAlign:t.get("verticalAlign")||a}}}var nPt=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){var n=new nr,r=new Q2;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=n,this._changePolyState=vn(this._changePolyState,this)},e.prototype.render=function(n,r,i){var o=n.coordinateSystem,a=this.group,s=n.getData(),l=n.getModel("lineStyle"),u=n.getModel("areaStyle"),c=s.getLayout("points")||[],f=o.type==="polar",d=this._coordSys,h=this._symbolDraw,p=this._polyline,v=this._polygon,g=this._lineGroup,m=!r.ssr&&n.get("animation"),y=!u.isEmpty(),b=u.get("origin"),w=hxe(o,s,b),S=y&&qMt(o,s,w),x=n.get("showSymbol"),C=n.get("connectNulls"),E=x&&!f&&XMt(n,s,o),T=this._data;T&&T.eachItemGraphicEl(function(oe,ce){oe.__temp&&(a.remove(oe),T.setItemGraphicEl(ce,null))}),x||h.remove(),a.add(g);var A=f?!1:n.get("step"),k;o&&o.getArea&&n.get("clip",!0)&&(k=o.getArea(),k.width!=null?(k.x-=.1,k.y-=.1,k.width+=.2,k.height+=.2):k.r0&&(k.r0-=.5,k.r+=.5)),this._clipShapeForSymbol=k;var M=YMt(s,o,i)||s.getVisual("style")[s.getVisual("drawType")];if(!(p&&d.type===o.type&&A===this._step))x&&h.updateData(s,{isIgnore:E,clipShape:k,disableAnimation:!0,getSymbolPoint:function(oe){return[c[oe*2],c[oe*2+1]]}}),m&&this._initSymbolLabelAnimation(s,o,k),A&&(S&&(S=ip(S,c,o,A,C)),c=ip(c,null,o,A,C)),p=this._newPolyline(c),y?v=this._newPolygon(c,S):v&&(g.remove(v),v=this._polygon=null),f||this._initOrUpdateEndLabel(n,o,ty(M)),g.setClipPath(tB(this,o,!0,n));else{y&&!v?v=this._newPolygon(c,S):v&&!y&&(g.remove(v),v=this._polygon=null),f||this._initOrUpdateEndLabel(n,o,ty(M));var D=g.getClipPath();if(D){var L=tB(this,o,!1,n);eo(D,{shape:L.shape},n)}else g.setClipPath(tB(this,o,!0,n));x&&h.updateData(s,{isIgnore:E,clipShape:k,disableAnimation:!0,getSymbolPoint:function(oe){return[c[oe*2],c[oe*2+1]]}}),(!wre(this._stackedOnPoints,S)||!wre(this._points,c))&&(m?this._doUpdateAnimation(s,S,o,i,A,b,C):(A&&(S&&(S=ip(S,c,o,A,C)),c=ip(c,null,o,A,C)),p.setShape({points:c}),v&&v.setShape({points:c,stackedOnPoints:S})))}var I=n.getModel("emphasis"),R=I.get("focus"),V=I.get("blurScope"),P=I.get("disabled");if(p.useStyle(Yn(l.getLineStyle(),{fill:"none",stroke:M,lineJoin:"bevel"})),ls(p,n,"lineStyle"),p.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var B=p.getState("emphasis").style;B.lineWidth=+p.style.lineWidth+1}ar(p).seriesIndex=n.seriesIndex,go(p,R,V,P);var j=Cre(n.get("smooth")),G=n.get("smoothMonotone");if(p.setShape({smooth:j,smoothMonotone:G,connectNulls:C}),v){var W=s.getCalculationInfo("stackedOnSeries"),Z=0;v.useStyle(Yn(u.getAreaStyle(),{fill:M,opacity:.7,lineJoin:"bevel",decal:s.getVisual("style").decal})),W&&(Z=Cre(W.get("smooth"))),v.setShape({smooth:j,stackedOnSmooth:Z,smoothMonotone:G,connectNulls:C}),ls(v,n,"areaStyle"),ar(v).seriesIndex=n.seriesIndex,go(v,R,V,P)}var ee=this._changePolyState;s.eachItemGraphicEl(function(oe){oe&&(oe.onHoverStateChange=ee)}),this._polyline.onHoverStateChange=ee,this._data=s,this._coordSys=o,this._stackedOnPoints=S,this._points=c,this._step=A,this._valueOrigin=b,n.get("triggerLineEvent")&&(this.packEventData(n,p),v&&this.packEventData(n,v))},e.prototype.packEventData=function(n,r){ar(r).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},e.prototype.highlight=function(n,r,i,o){var a=n.getData(),s=Jm(a,o);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=a.getLayout("points"),u=a.getItemGraphicEl(s);if(!u){var c=l[s*2],f=l[s*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var d=n.get("zlevel")||0,h=n.get("z")||0;u=new J2(a,s),u.x=c,u.y=f,u.setZ(d,h);var p=u.getSymbolPath().getTextContent();p&&(p.zlevel=d,p.z=h,p.z2=this._polyline.z2+1),u.__temp=!0,a.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Oi.prototype.highlight.call(this,n,r,i,o)},e.prototype.downplay=function(n,r,i,o){var a=n.getData(),s=Jm(a,o);if(this._changePolyState("normal"),s!=null&&s>=0){var l=a.getItemGraphicEl(s);l&&(l.__temp?(a.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else Oi.prototype.downplay.call(this,n,r,i,o)},e.prototype._changePolyState=function(n){var r=this._polygon;NP(this._polyline,n),r&&NP(r,n)},e.prototype._newPolyline=function(n){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new UMt({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},e.prototype._newPolygon=function(n,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new gxe({shape:{points:n,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(n,r,i){var o,a,s=r.getBaseAxis(),l=s.inverse;r.type==="cartesian2d"?(o=s.isHorizontal(),a=!1):r.type==="polar"&&(o=s.dim==="angle",a=!0);var u=n.hostModel,c=u.get("animationDuration");qn(c)&&(c=c(null));var f=u.get("animationDelay")||0,d=qn(f)?f(null):f;n.eachItemGraphicEl(function(h,p){var v=h;if(v){var g=[h.x,h.y],m=void 0,y=void 0,b=void 0;if(i)if(a){var w=i,S=r.pointToCoord(g);o?(m=w.startAngle,y=w.endAngle,b=-S[1]/180*Math.PI):(m=w.r0,y=w.r,b=S[0])}else{var x=i;o?(m=x.x,y=x.x+x.width,b=h.x):(m=x.y+x.height,y=x.y,b=h.y)}var C=y===m?0:(b-m)/(y-m);l&&(C=1-C);var E=qn(f)?f(p):c*C+d,T=v.getSymbolPath(),A=T.getTextContent();v.attr({scaleX:0,scaleY:0}),v.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:E}),A&&A.animateFrom({style:{opacity:0}},{duration:300,delay:E}),T.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(n,r,i){var o=n.getModel("endLabel");if(bxe(n)){var a=n.getData(),s=this._polyline,l=a.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new ti({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=QMt(l);c>=0&&(us(s,Pa(n,"endLabel"),{inheritColor:i,labelFetcher:n,labelDataIndex:c,defaultText:function(f,d,h){return h!=null?dxe(a,h):B1(a,f)},enableTextSetter:!0},tPt(o,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(n,r,i,o,a,s,l){var u=this._endLabel,c=this._polyline;if(u){n<1&&o.originalX==null&&(o.originalX=u.x,o.originalY=u.y);var f=i.getLayout("points"),d=i.hostModel,h=d.get("connectNulls"),p=s.get("precision"),v=s.get("distance")||0,g=l.getBaseAxis(),m=g.isHorizontal(),y=g.inverse,b=r.shape,w=y?m?b.x:b.y+b.height:m?b.x+b.width:b.y,S=(m?v:0)*(y?-1:1),x=(m?0:-v)*(y?-1:1),C=m?"x":"y",E=ePt(f,w,C),T=E.range,A=T[1]-T[0],k=void 0;if(A>=1){if(A>1&&!h){var M=Ere(f,T[0]);u.attr({x:M[0]+S,y:M[1]+x}),a&&(k=d.getRawValue(T[0]))}else{var M=c.getPointOn(w,C);M&&u.attr({x:M[0]+S,y:M[1]+x});var D=d.getRawValue(T[0]),L=d.getRawValue(T[1]);a&&(k=o_e(i,p,D,L,E.t))}o.lastFrameIndex=T[0]}else{var I=n===1||o.lastFrameIndex>0?T[0]:0,M=Ere(f,I);a&&(k=d.getRawValue(I)),u.attr({x:M[0]+S,y:M[1]+x})}if(a){var R=O_(u);typeof R.setLabelText=="function"&&R.setLabelText(k)}}},e.prototype._doUpdateAnimation=function(n,r,i,o,a,s,l){var u=this._polyline,c=this._polygon,f=n.hostModel,d=GMt(this._data,n,this._stackedOnPoints,r,this._coordSys,i,this._valueOrigin),h=d.current,p=d.stackedOnCurrent,v=d.next,g=d.stackedOnNext;if(a&&(p=ip(d.stackedOnCurrent,d.current,i,a,l),h=ip(d.current,null,i,a,l),g=ip(d.stackedOnNext,d.next,i,a,l),v=ip(d.next,null,i,a,l)),xre(h,v)>3e3||c&&xre(p,g)>3e3){u.stopAnimation(),u.setShape({points:v}),c&&(c.stopAnimation(),c.setShape({points:v,stackedOnPoints:g}));return}u.shape.__points=d.current,u.shape.points=h;var m={shape:{points:v}};d.current!==h&&(m.shape.__points=d.next),u.stopAnimation(),si(u,m,f),c&&(c.setShape({points:h,stackedOnPoints:p}),c.stopAnimation(),si(c,{shape:{stackedOnPoints:g}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var y=[],b=d.status,w=0;w<b.length;w++){var S=b[w].cmd;if(S==="="){var x=n.getItemGraphicEl(b[w].idx1);x&&y.push({el:x,ptIdx:w})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var C=u.shape.__points,E=0;E<y.length;E++){var T=y[E].el,A=y[E].ptIdx*2;T.x=C[A],T.y=C[A+1],T.markRedraw()}})},e.prototype.remove=function(n){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(o,a){o.__temp&&(r.remove(o),i.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e})(Oi);function tE(t,e){return{seriesType:t,plan:N_(),reset:function(n){var r=n.getData(),i=n.coordinateSystem,o=n.pipelineContext,a=e||o.large;if(i){var s=kt(i.dimensions,function(h){return r.mapDimension(h)}).slice(0,2),l=s.length,u=r.getCalculationInfo("stackResultDimension");_v(r,s[0])&&(s[0]=u),_v(r,s[1])&&(s[1]=u);var c=r.getStore(),f=r.getDimensionIndex(s[0]),d=r.getDimensionIndex(s[1]);return l&&{progress:function(h,p){for(var v=h.end-h.start,g=a&&Lf(v*l),m=[],y=[],b=h.start,w=0;b<h.end;b++){var S=void 0;if(l===1){var x=c.get(f,b);S=i.dataToPoint(x,null,y)}else m[0]=c.get(f,b),m[1]=c.get(d,b),S=i.dataToPoint(m,null,y);a?(g[w++]=S[0],g[w++]=S[1]):p.setItemLayout(b,S.slice())}a&&p.setLayout("points",g)}}}}}}var rPt={average:function(t){for(var e=0,n=0,r=0;r<t.length;r++)isNaN(t[r])||(e+=t[r],n++);return n===0?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},iPt=function(t){return Math.round(t.length/2)};function _xe(t){return{seriesType:t,reset:function(e,n,r){var i=e.getData(),o=e.get("sampling"),a=e.coordinateSystem,s=i.count();if(s>10&&a.type==="cartesian2d"&&o){var l=a.getBaseAxis(),u=a.getOtherAxis(l),c=l.getExtent(),f=r.getDevicePixelRatio(),d=Math.abs(c[1]-c[0])*(f||1),h=Math.round(s/d);if(isFinite(h)&&h>1){o==="lttb"?e.setData(i.lttbDownSample(i.mapDimension(u.dim),1/h)):o==="minmax"&&e.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/h));var p=void 0;fn(o)?p=rPt[o]:qn(o)&&(p=o),p&&e.setData(i.downSample(i.mapDimension(u.dim),1/h,p,iPt))}}}}}function oPt(t){t.registerChartView(nPt),t.registerSeriesModel(VMt),t.registerLayout(tE("line",!0)),t.registerVisual({seriesType:"line",reset:function(e){var n=e.getData(),r=e.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",r)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,_xe("line"))}var OC=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.getInitialData=function(n,r){return Bh(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(n,r,i){var o=this.coordinateSystem;if(o&&o.clampData){var a=o.clampData(n),s=o.dataToPoint(a);if(i)ie(o.getAxes(),function(d,h){if(d.type==="category"&&r!=null){var p=d.getTicksCoords(),v=d.getTickModel().get("alignWithLabel"),g=a[h],m=r[h]==="x1"||r[h]==="y1";if(m&&!v&&(g+=1),p.length<2)return;if(p.length===2){s[h]=d.toGlobalCoord(d.getExtent()[m?1:0]);return}for(var y=void 0,b=void 0,w=1,S=0;S<p.length;S++){var x=p[S].coord,C=S===p.length-1?p[S-1].tickValue+w:p[S].tickValue;if(C===g){b=x;break}else if(C<g)y=x;else if(y!=null&&C>g){b=(x+y)/2;break}S===1&&(w=C-p[0].tickValue)}b==null&&(y?y&&(b=p[p.length-1].coord):b=p[0].coord),s[h]=d.toGlobalCoord(b)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=o.getBaseAxis().isHorizontal()?0:1;s[f]+=u+c/2}return s}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e})(Ui);Ui.registerClass(OC);var aPt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.getInitialData=function(){return Bh(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var n=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>n&&(n=r),n},e.prototype.brushSelector=function(n,r,i){return i.rect(r.getItemLayout(n))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=$v(OC.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e})(OC),sPt=(function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t})(),nO=(function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.type="sausage",r}return e.prototype.getDefaultShape=function(){return new sPt},e.prototype.buildPath=function(n,r){var i=r.cx,o=r.cy,a=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=(s-a)*.5,u=a+l,c=r.startAngle,f=r.endAngle,d=r.clockwise,h=Math.PI*2,p=d?f-c<h:c-f<h;p||(c=f-(d?h:-h));var v=Math.cos(c),g=Math.sin(c),m=Math.cos(f),y=Math.sin(f);p?(n.moveTo(v*a+i,g*a+o),n.arc(v*u+i,g*u+o,l,-Math.PI+c,c,!d)):n.moveTo(v*s+i,g*s+o),n.arc(i,o,s,c,f,!d),n.arc(m*u+i,y*u+o,l,f-Math.PI*2,f-Math.PI,!d),a!==0&&n.arc(i,o,a,f,c,d)},e})($r);function lPt(t,e){e=e||{};var n=e.isRoundCap;return function(r,i,o){var a=i.position;if(!a||a instanceof Array)return LP(r,i,o);var s=t(a),l=i.distance!=null?i.distance:5,u=this.shape,c=u.cx,f=u.cy,d=u.r,h=u.r0,p=(d+h)/2,v=u.startAngle,g=u.endAngle,m=(v+g)/2,y=n?Math.abs(d-h)/2:0,b=Math.cos,w=Math.sin,S=c+d*b(v),x=f+d*w(v),C="left",E="top";switch(s){case"startArc":S=c+(h-l)*b(m),x=f+(h-l)*w(m),C="center",E="top";break;case"insideStartArc":S=c+(h+l)*b(m),x=f+(h+l)*w(m),C="center",E="bottom";break;case"startAngle":S=c+p*b(v)+lA(v,l+y,!1),x=f+p*w(v)+uA(v,l+y,!1),C="right",E="middle";break;case"insideStartAngle":S=c+p*b(v)+lA(v,-l+y,!1),x=f+p*w(v)+uA(v,-l+y,!1),C="left",E="middle";break;case"middle":S=c+p*b(m),x=f+p*w(m),C="center",E="middle";break;case"endArc":S=c+(d+l)*b(m),x=f+(d+l)*w(m),C="center",E="bottom";break;case"insideEndArc":S=c+(d-l)*b(m),x=f+(d-l)*w(m),C="center",E="top";break;case"endAngle":S=c+p*b(g)+lA(g,l+y,!0),x=f+p*w(g)+uA(g,l+y,!0),C="left",E="middle";break;case"insideEndAngle":S=c+p*b(g)+lA(g,-l+y,!0),x=f+p*w(g)+uA(g,-l+y,!0),C="right",E="middle";break;default:return LP(r,i,o)}return r=r||{},r.x=S,r.y=x,r.align=C,r.verticalAlign=E,r}}function uPt(t,e,n,r){if(ri(r)){t.setTextConfig({rotation:r});return}else if(Tt(e)){t.setTextConfig({rotation:0});return}var i=t.shape,o=i.clockwise?i.startAngle:i.endAngle,a=i.clockwise?i.endAngle:i.startAngle,s=(o+a)/2,l,u=n(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=o;break;case"endAngle":case"insideEndAngle":l=a;break;default:t.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),t.setTextConfig({rotation:c})}function lA(t,e,n){return e*Math.sin(t)*(n?-1:1)}function uA(t,e,n){return e*Math.cos(t)*(n?1:-1)}function um(t,e,n){var r=t.get("borderRadius");if(r==null)return n?{cornerRadius:0}:null;Tt(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:kt(r,function(o){return Nc(o,i)})}}var nB=Math.max,rB=Math.min;function cPt(t,e){var n=t.getArea&&t.getArea();if(Py(t,"cartesian2d")){var r=t.getBaseAxis();if(r.type!=="category"||!r.onBand){var i=e.getLayout("bandWidth");r.isHorizontal()?(n.x-=i,n.width+=i*2):(n.y-=i,n.height+=i*2)}}return n}var fPt=(function(t){nt(e,t);function e(){var n=t.call(this)||this;return n.type=e.type,n._isFirstFrame=!0,n}return e.prototype.render=function(n,r,i,o){this._model=n,this._removeOnRenderedListener(i),this._updateDrawMode(n);var a=n.get("coordinateSystem");(a==="cartesian2d"||a==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(n,r,i):this._renderNormal(n,r,i,o))},e.prototype.incrementalPrepareRender=function(n){this._clear(),this._updateDrawMode(n),this._updateLargeClip(n)},e.prototype.incrementalRender=function(n,r){this._progressiveEls=[],this._incrementalRenderLarge(n,r)},e.prototype.eachRendered=function(n){Bv(this._progressiveEls||this.group,n)},e.prototype._updateDrawMode=function(n){var r=n.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(n,r,i,o){var a=this.group,s=n.getData(),l=this._data,u=n.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var d=n.isAnimationEnabled()?n:null,h=dPt(n,u);h&&this._enableRealtimeSort(h,s,i);var p=n.get("clip",!0)||h,v=cPt(u,s);a.removeClipPath();var g=n.get("roundCap",!0),m=n.get("showBackground",!0),y=n.getModel("backgroundStyle"),b=y.get("borderRadius")||0,w=[],S=this._backgroundEls,x=o&&o.isInitSort,C=o&&o.type==="changeAxisOrder";function E(k){var M=cA[u.type](s,k),D=bPt(u,f,M);return D.useStyle(y.getItemStyle()),u.type==="cartesian2d"?D.setShape("r",b):D.setShape("cornerRadius",b),w[k]=D,D}s.diff(l).add(function(k){var M=s.getItemModel(k),D=cA[u.type](s,k,M);if(m&&E(k),!(!s.hasValue(k)||!Pre[u.type](D))){var L=!1;p&&(L=Tre[u.type](v,D));var I=Are[u.type](n,s,k,D,f,d,c.model,!1,g);h&&(I.forceLabelAnimation=!0),Ore(I,s,k,M,D,n,f,u.type==="polar"),x?I.attr({shape:D}):h?kre(h,d,I,D,k,f,!1,!1):eo(I,{shape:D},n,k),s.setItemGraphicEl(k,I),a.add(I),I.ignore=L}}).update(function(k,M){var D=s.getItemModel(k),L=cA[u.type](s,k,D);if(m){var I=void 0;S.length===0?I=E(M):(I=S[M],I.useStyle(y.getItemStyle()),u.type==="cartesian2d"?I.setShape("r",b):I.setShape("cornerRadius",b),w[k]=I);var R=cA[u.type](s,k),V=Sxe(f,R,u);si(I,{shape:V},d,k)}var P=l.getItemGraphicEl(M);if(!s.hasValue(k)||!Pre[u.type](L)){a.remove(P);return}var B=!1;if(p&&(B=Tre[u.type](v,L),B&&a.remove(P)),P?$c(P):P=Are[u.type](n,s,k,L,f,d,c.model,!!P,g),h&&(P.forceLabelAnimation=!0),C){var j=P.getTextContent();if(j){var G=O_(j);G.prevValue!=null&&(G.prevValue=G.value)}}else Ore(P,s,k,D,L,n,f,u.type==="polar");x?P.attr({shape:L}):h?kre(h,d,P,L,k,f,!0,C):si(P,{shape:L},n,k,null),s.setItemGraphicEl(k,P),P.ignore=B,a.add(P)}).remove(function(k){var M=l.getItemGraphicEl(k);M&&wC(M,n,k)}).execute();var T=this._backgroundGroup||(this._backgroundGroup=new nr);T.removeAll();for(var A=0;A<w.length;++A)T.add(w[A]);a.add(T),this._backgroundEls=w,this._data=s},e.prototype._renderLarge=function(n,r,i){this._clear(),Rre(n,this.group),this._updateLargeClip(n)},e.prototype._incrementalRenderLarge=function(n,r){this._removeBackground(),Rre(r,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(n){var r=n.get("clip",!0)&&eE(n.coordinateSystem,!1,n),i=this.group;r?i.setClipPath(r):i.removeClipPath()},e.prototype._enableRealtimeSort=function(n,r,i){var o=this;if(r.count()){var a=n.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,n,i),this._isFirstFrame=!1;else{var s=function(l){var u=r.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(a.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){o._updateSortWithinSameData(r,s,a,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(n,r,i){var o=[];return n.each(n.mapDimension(r.dim),function(a,s){var l=i(s);l=l??NaN,o.push({dataIndex:s,mappedValue:l,ordinalNumber:a})}),o.sort(function(a,s){return s.mappedValue-a.mappedValue}),{ordinalNumbers:kt(o,function(a){return a.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(n,r,i){for(var o=i.scale,a=n.mapDimension(i.dim),s=Number.MAX_VALUE,l=0,u=o.getOrdinalMeta().categories.length;l<u;++l){var c=n.rawIndexOf(a,o.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:r(n.indexOfRawIndex(c));if(f>s)return!0;s=f}return!1},e.prototype._isOrderDifferentInView=function(n,r){for(var i=r.scale,o=i.getExtent(),a=Math.max(0,o[0]),s=Math.min(o[1],i.getOrdinalMeta().categories.length-1);a<=s;++a)if(n.ordinalNumbers[a]!==i.getRawOrdinalNumber(a))return!0},e.prototype._updateSortWithinSameData=function(n,r,i,o){if(this._isOrderChangedWithinSameData(n,r,i)){var a=this._dataSort(n,i,r);this._isOrderDifferentInView(a,i)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:a}))}},e.prototype._dispatchInitSort=function(n,r,i){var o=r.baseAxis,a=this._dataSort(n,o,function(s){return n.get(n.mapDimension(r.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:a})},e.prototype.remove=function(n,r){this._clear(this._model),this._removeOnRenderedListener(r)},e.prototype.dispose=function(n,r){this._removeOnRenderedListener(r)},e.prototype._removeOnRenderedListener=function(n){this._onRendered&&(n.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(n){var r=this.group,i=this._data;n&&n.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(o){wC(o,n,ar(o).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e})(Oi),Tre={cartesian2d:function(t,e){var n=e.width<0?-1:1,r=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var i=t.x+t.width,o=t.y+t.height,a=nB(e.x,t.x),s=rB(e.x+e.width,i),l=nB(e.y,t.y),u=rB(e.y+e.height,o),c=s<a,f=u<l;return e.x=c&&a>i?s:a,e.y=f&&l>o?u:l,e.width=c?0:s-a,e.height=f?0:u-l,n<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),c||f},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var r=e.r;e.r=e.r0,e.r0=r}var i=rB(e.r,t.r),o=nB(e.r0,t.r0);e.r=i,e.r0=o;var a=i-o<0;if(n<0){var r=e.r;e.r=e.r0,e.r0=r}return a}},Are={cartesian2d:function(t,e,n,r,i,o,a,s,l){var u=new Jr({shape:yt({},r),z2:1});if(u.__dataIndex=n,u.name="item",o){var c=u.shape,f=i?"height":"width";c[f]=0}return u},polar:function(t,e,n,r,i,o,a,s,l){var u=!i&&l?nO:ll,c=new u({shape:r,z2:1});c.name="item";var f=wxe(i);if(c.calculateTextPosition=lPt(f,{isRoundCap:u===nO}),o){var d=c.shape,h=i?"r":"endAngle",p={};d[h]=i?r.r0:r.startAngle,p[h]=r[h],(s?si:eo)(c,{shape:p},o)}return c}};function dPt(t,e){var n=t.get("realtimeSort",!0),r=e.getBaseAxis();if(n&&r.type==="category"&&e.type==="cartesian2d")return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function kre(t,e,n,r,i,o,a,s){var l,u;o?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(a?si:eo)(n,{shape:l},e,i,null);var c=e?t.baseAxis.model:null;(a?si:eo)(n,{shape:u},c,i)}function Mre(t,e){for(var n=0;n<e.length;n++)if(!isFinite(t[e[n]]))return!0;return!1}var hPt=["x","y","width","height"],pPt=["cx","cy","r","startAngle","endAngle"],Pre={cartesian2d:function(t){return!Mre(t,hPt)},polar:function(t){return!Mre(t,pPt)}},cA={cartesian2d:function(t,e,n){var r=t.getItemLayout(e),i=n?gPt(n,r):0,o=r.width>0?1:-1,a=r.height>0?1:-1;return{x:r.x+o*i/2,y:r.y+a*i/2,width:r.width-o*i,height:r.height-a*i}},polar:function(t,e,n){var r=t.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function vPt(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function wxe(t){return(function(e){var n=e?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+n;default:return r}}})(t)}function Ore(t,e,n,r,i,o,a,s){var l=e.getItemVisual(n,"style");if(s){if(!o.get("roundCap")){var c=t.shape,f=um(r.getModel("itemStyle"),c,!0);yt(c,f),t.setShape(c)}}else{var u=r.get(["itemStyle","borderRadius"])||0;t.setShape("r",u)}t.useStyle(l);var d=r.getShallow("cursor");d&&t.attr("cursor",d);var h=s?a?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":a?i.height>=0?"bottom":"top":i.width>=0?"right":"left",p=Pa(r);us(t,p,{labelFetcher:o,labelDataIndex:n,defaultText:B1(o.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var v=t.getTextContent();if(s&&v){var g=r.get(["label","position"]);t.textConfig.inside=g==="middle"?!0:null,uPt(t,g==="outside"?h:g,wxe(a),r.get(["label","rotate"]))}H_e(v,p,o.getRawValue(n),function(y){return dxe(e,y)});var m=r.getModel(["emphasis"]);go(t,m.get("focus"),m.get("blurScope"),m.get("disabled")),ls(t,r),vPt(i)&&(t.style.fill="none",t.style.stroke="none",ie(t.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function gPt(t,e){var n=t.get(["itemStyle","borderColor"]);if(!n||n==="none")return 0;var r=t.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),o=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,i,o)}var mPt=(function(){function t(){}return t})(),Ire=(function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.type="largeBar",r}return e.prototype.getDefaultShape=function(){return new mPt},e.prototype.buildPath=function(n,r){for(var i=r.points,o=this.baseDimIdx,a=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[o]=u,l[a]=i[c+2],s[o]=i[c+o],s[a]=i[c+a],n.rect(s[0],s[1],l[0],l[1])},e})($r);function Rre(t,e,n,r){var i=t.getData(),o=i.getLayout("valueAxisHorizontal")?1:0,a=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=t.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new Ire({shape:{points:u},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=o,c.largeDataIndices=a,c.barWidth=s,c.useStyle(l.getItemStyle()),e.add(c),n&&n.push(c)}var f=new Ire({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=o,f.largeDataIndices=a,f.barWidth=s,e.add(f),f.useStyle(i.getVisual("style")),f.style.stroke=null,ar(f).seriesIndex=t.seriesIndex,t.get("silent")||(f.on("mousedown",Lre),f.on("mousemove",Lre)),n&&n.push(f)}var Lre=e9(function(t){var e=this,n=yPt(e,t.offsetX,t.offsetY);ar(e).dataIndex=n>=0?n:null},30,!1);function yPt(t,e,n){for(var r=t.baseDimIdx,i=1-r,o=t.shape.points,a=t.largeDataIndices,s=[],l=[],u=t.barWidth,c=0,f=o.length/3;c<f;c++){var d=c*3;if(l[r]=u,l[i]=o[d+2],s[r]=o[d+r],s[i]=o[d+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),e>=s[0]&&e<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return a[c]}return-1}function Sxe(t,e,n){if(Py(n,"cartesian2d")){var r=e,i=n.getArea();return{x:t?r.x:i.x,y:t?i.y:r.y,width:t?r.width:i.width,height:t?i.height:r.height}}else{var i=n.getArea(),o=e;return{cx:i.cx,cy:i.cy,r0:t?i.r0:o.r0,r:t?i.r:o.r,startAngle:t?o.startAngle:0,endAngle:t?o.endAngle:Math.PI*2}}}function bPt(t,e,n){var r=t.type==="polar"?ll:Jr;return new r({shape:Sxe(e,n,t),silent:!0,z2:0})}function _Pt(t){t.registerChartView(fPt),t.registerSeriesModel(aPt),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,hr(ASe,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,kSe("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,_xe("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,n){var r=e.componentType||"series";n.eachComponent({mainType:r,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var Dre=Math.PI*2,fA=Math.PI/180;function xxe(t,e){return ha(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Cxe(t,e){var n=xxe(t,e),r=t.get("center"),i=t.get("radius");Tt(i)||(i=[0,i]);var o=on(n.width,e.getWidth()),a=on(n.height,e.getHeight()),s=Math.min(o,a),l=on(i[0],s/2),u=on(i[1],s/2),c,f,d=t.coordinateSystem;if(d){var h=d.dataToPoint(r);c=h[0]||0,f=h[1]||0}else Tt(r)||(r=[r,r]),c=on(r[0],o)+n.x,f=on(r[1],a)+n.y;return{cx:c,cy:f,r0:l,r:u}}function wPt(t,e,n){e.eachSeriesByType(t,function(r){var i=r.getData(),o=i.mapDimension("value"),a=xxe(r,n),s=Cxe(r,n),l=s.cx,u=s.cy,c=s.r,f=s.r0,d=-r.get("startAngle")*fA,h=r.get("endAngle"),p=r.get("padAngle")*fA;h=h==="auto"?d-Dre:-h*fA;var v=r.get("minAngle")*fA,g=v+p,m=0;i.each(o,function(V){!isNaN(V)&&m++});var y=i.getSum(o),b=Math.PI/(y||m)*2,w=r.get("clockwise"),S=r.get("roseType"),x=r.get("stillShowZeroSum"),C=i.getDataExtent(o);C[0]=0;var E=w?1:-1,T=[d,h],A=E*p/2;MG(T,!w),d=T[0],h=T[1];var k=Exe(r);k.startAngle=d,k.endAngle=h,k.clockwise=w;var M=Math.abs(h-d),D=M,L=0,I=d;if(i.setLayout({viewRect:a,r:c}),i.each(o,function(V,P){var B;if(isNaN(V)){i.setItemLayout(P,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:l,cy:u,r0:f,r:S?NaN:c});return}S!=="area"?B=y===0&&x?b:V*b:B=M/m,B<g?(B=g,D-=g):L+=V;var j=I+E*B,G=0,W=0;p>B?(G=I+E*B/2,W=G):(G=I+A,W=j-A),i.setItemLayout(P,{angle:B,startAngle:G,endAngle:W,clockwise:w,cx:l,cy:u,r0:f,r:S?gi(V,C,[f,c]):c}),I=j}),D<Dre&&m)if(D<=.001){var R=M/m;i.each(o,function(V,P){if(!isNaN(V)){var B=i.getItemLayout(P);B.angle=R;var j=0,G=0;R<p?(j=d+E*(P+1/2)*R,G=j):(j=d+E*P*R+A,G=d+E*(P+1)*R-A),B.startAngle=j,B.endAngle=G}})}else b=D/L,I=d,i.each(o,function(V,P){if(!isNaN(V)){var B=i.getItemLayout(P),j=B.angle===g?g:V*b,G=0,W=0;j<p?(G=I+E*j/2,W=G):(G=I+A,W=I+E*j-A),B.startAngle=G,B.endAngle=W,I+=E*j}})})}var Exe=Qr();function nE(t){return{seriesType:t,reset:function(e,n){var r=n.findComponents({mainType:"legend"});if(!(!r||!r.length)){var i=e.getData();i.filterSelf(function(o){for(var a=i.getName(o),s=0;s<r.length;s++)if(!r[s].isSelected(a))return!1;return!0})}}}}var SPt=Math.PI/180;function Nre(t,e,n,r,i,o,a,s,l,u){if(t.length<2)return;function c(v){for(var g=v.rB,m=g*g,y=0;y<v.list.length;y++){var b=v.list[y],w=Math.abs(b.label.y-n),S=r+b.len,x=S*S,C=Math.sqrt(Math.abs((1-w*w/m)*x)),E=e+(C+b.len2)*i,T=E-b.label.x,A=b.targetTextWidth-T*i;Txe(b,A,!0),b.label.x=E}}function f(v){for(var g={list:[],maxY:0},m={list:[],maxY:0},y=0;y<v.length;y++)if(v[y].labelAlignTo==="none"){var b=v[y],w=b.label.y>n?m:g,S=Math.abs(b.label.y-n);if(S>=w.maxY){var x=b.label.x-e-b.len2*i,C=r+b.len,E=Math.abs(x)<C?Math.sqrt(S*S/(1-x*x/C/C)):C;w.rB=E,w.maxY=S}w.list.push(b)}c(g),c(m)}for(var d=t.length,h=0;h<d;h++)if(t[h].position==="outer"&&t[h].labelAlignTo==="labelLine"){var p=t[h].label.x-u;t[h].linePoints[1][0]+=p,t[h].label.x=u}YSe(t,l,l+a)&&f(t)}function xPt(t,e,n,r,i,o,a,s){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0;d<t.length;d++){var h=t[d].label;iB(t[d])||(h.x<e?(c=Math.min(c,h.x),l.push(t[d])):(f=Math.max(f,h.x),u.push(t[d])))}for(var d=0;d<t.length;d++){var p=t[d];if(!iB(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var h=p.label,v=p.linePoints,g=void 0;p.labelAlignTo==="edge"?h.x<e?g=v[2][0]-p.labelDistance-a-p.edgeDistance:g=a+i-p.edgeDistance-v[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?h.x<e?g=c-a-p.bleedMargin:g=a+i-f-p.bleedMargin:h.x<e?g=h.x-a-p.bleedMargin:g=a+i-h.x-p.bleedMargin,p.targetTextWidth=g,Txe(p,g)}}Nre(u,e,n,r,1,i,o,a,s,f),Nre(l,e,n,r,-1,i,o,a,s,c);for(var d=0;d<t.length;d++){var p=t[d];if(!iB(p)&&p.linePoints){var h=p.label,v=p.linePoints,m=p.labelAlignTo==="edge",y=h.style.padding,b=y?y[1]+y[3]:0,w=h.style.backgroundColor?0:b,S=p.rect.width+w,x=v[1][0]-v[2][0];m?h.x<e?v[2][0]=a+p.edgeDistance+S+p.labelDistance:v[2][0]=a+i-p.edgeDistance-S-p.labelDistance:(h.x<e?v[2][0]=h.x+p.labelDistance:v[2][0]=h.x-p.labelDistance,v[1][0]=v[2][0]+x),v[1][1]=v[2][1]=h.y}}}function Txe(t,e,n){if(n===void 0&&(n=!1),t.labelStyleWidth==null){var r=t.label,i=r.style,o=t.rect,a=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,u=i.overflow,c=o.width+(a?0:l);if(e<c||n){var f=o.height;if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-l);var d=r.getBoundingRect();r.setStyle("width",Math.ceil(d.width)),r.setStyle("backgroundColor",a)}else{var h=e-l,p=e<c?h:n?h>t.unconstrainedWidth?null:h:null;r.setStyle("width",p)}var v=r.getBoundingRect();o.width=v.width;var g=(r.style.margin||0)+2.1;o.height=v.height+g,o.y-=(o.height-f)/2}}}function iB(t){return t.position==="center"}function CPt(t){var e=t.getData(),n=[],r,i,o=!1,a=(t.get("minShowLabelAngle")||0)*SPt,s=e.getLayout("viewRect"),l=e.getLayout("r"),u=s.width,c=s.x,f=s.y,d=s.height;function h(x){x.ignore=!0}function p(x){if(!x.ignore)return!0;for(var C in x.states)if(x.states[C].ignore===!1)return!0;return!1}e.each(function(x){var C=e.getItemGraphicEl(x),E=C.shape,T=C.getTextContent(),A=C.getTextGuideLine(),k=e.getItemModel(x),M=k.getModel("label"),D=M.get("position")||k.get(["emphasis","label","position"]),L=M.get("distanceToLabelLine"),I=M.get("alignTo"),R=on(M.get("edgeDistance"),u),V=M.get("bleedMargin"),P=k.getModel("labelLine"),B=P.get("length");B=on(B,u);var j=P.get("length2");if(j=on(j,u),Math.abs(E.endAngle-E.startAngle)<a){ie(T.states,h),T.ignore=!0,A&&(ie(A.states,h),A.ignore=!0);return}if(p(T)){var G=(E.startAngle+E.endAngle)/2,W=Math.cos(G),Z=Math.sin(G),ee,oe,ce,X;r=E.cx,i=E.cy;var H=D==="inside"||D==="inner";if(D==="center")ee=E.cx,oe=E.cy,X="center";else{var U=(H?(E.r+E.r0)/2*W:E.r*W)+r,ne=(H?(E.r+E.r0)/2*Z:E.r*Z)+i;if(ee=U+W*3,oe=ne+Z*3,!H){var J=U+W*(B+l-E.r),Y=ne+Z*(B+l-E.r),se=J+(W<0?-1:1)*j,he=Y;I==="edge"?ee=W<0?c+R:c+u-R:ee=se+(W<0?-L:L),oe=he,ce=[[U,ne],[J,Y],[se,he]]}X=H?"center":I==="edge"?W>0?"right":"left":W>0?"left":"right"}var ye=Math.PI,_e=0,fe=M.get("rotate");if(ri(fe))_e=fe*(ye/180);else if(D==="center")_e=0;else if(fe==="radial"||fe===!0){var Ce=W<0?-G+ye:-G;_e=Ce}else if(fe==="tangential"&&D!=="outside"&&D!=="outer"){var Oe=Math.atan2(W,Z);Oe<0&&(Oe=ye*2+Oe);var Ue=Z>0;Ue&&(Oe=ye+Oe),_e=Oe-ye}if(o=!!_e,T.x=ee,T.y=oe,T.rotation=_e,T.setStyle({verticalAlign:"middle"}),H){T.setStyle({align:X});var ae=T.states.select;ae&&(ae.x+=T.x,ae.y+=T.y)}else{var qe=T.getBoundingRect().clone();qe.applyTransform(T.getComputedTransform());var ze=(T.style.margin||0)+2.1;qe.y-=ze/2,qe.height+=ze,n.push({label:T,labelLine:A,position:D,len:B,len2:j,minTurnAngle:P.get("minTurnAngle"),maxSurfaceAngle:P.get("maxSurfaceAngle"),surfaceNormal:new _r(W,Z),linePoints:ce,textAlign:X,labelDistance:L,labelAlignTo:I,edgeDistance:R,bleedMargin:V,rect:qe,unconstrainedWidth:qe.width,labelStyleWidth:T.style.width})}C.setTextConfig({inside:H})}}),!o&&t.get("avoidLabelOverlap")&&xPt(n,r,i,l,u,d,c,f);for(var v=0;v<n.length;v++){var g=n[v],m=g.label,y=g.labelLine,b=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:g.textAlign}),b&&(ie(m.states,h),m.ignore=!0);var w=m.states.select;w&&(w.x+=m.x,w.y+=m.y)}if(y){var S=g.linePoints;b||!S?(ie(y.states,h),y.ignore=!0):(WSe(S,g.minTurnAngle),qkt(S,g.surfaceNormal,g.maxSurfaceAngle),y.setShape({points:S}),m.__hostTarget.textGuideLineConfig={anchor:new _r(S[0][0],S[0][1])})}}}var EPt=(function(t){nt(e,t);function e(n,r,i){var o=t.call(this)||this;o.z2=2;var a=new ti;return o.setTextContent(a),o.updateData(n,r,i,!0),o}return e.prototype.updateData=function(n,r,i,o){var a=this,s=n.hostModel,l=n.getItemModel(r),u=l.getModel("emphasis"),c=n.getItemLayout(r),f=yt(um(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){a.setShape(f);return}if(o){a.setShape(f);var d=s.getShallow("animationType");s.ecModel.ssr?(eo(a,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),a.originX=f.cx,a.originY=f.cy):d==="scale"?(a.shape.r=c.r0,eo(a,{shape:{r:c.r}},s,r)):i!=null?(a.setShape({startAngle:i,endAngle:i}),eo(a,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,r)):(a.shape.endAngle=c.startAngle,si(a,{shape:{endAngle:c.endAngle}},s,r))}else $c(a),si(a,{shape:f},s,r);a.useStyle(n.getItemVisual(r,"style")),ls(a,l);var h=(c.startAngle+c.endAngle)/2,p=s.get("selectedOffset"),v=Math.cos(h)*p,g=Math.sin(h)*p,m=l.getShallow("cursor");m&&a.attr("cursor",m),this._updateLabel(s,n,r),a.ensureState("emphasis").shape=yt({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},um(u.getModel("itemStyle"),c)),yt(a.ensureState("select"),{x:v,y:g,shape:um(l.getModel(["select","itemStyle"]),c)}),yt(a.ensureState("blur"),{shape:um(l.getModel(["blur","itemStyle"]),c)});var y=a.getTextGuideLine(),b=a.getTextContent();y&&yt(y.ensureState("select"),{x:v,y:g}),yt(b.ensureState("select"),{x:v,y:g}),go(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(n,r,i){var o=this,a=r.getItemModel(i),s=a.getModel("labelLine"),l=r.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;us(o,Pa(a),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:n.getFormattedLabel(i,"normal")||r.getName(i)});var f=o.getTextContent();o.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var d=n.get(["label","position"]);if(d!=="outside"&&d!=="outer")o.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new cl,this.setTextGuideLine(h)),d9(this,h9(a),{stroke:u,opacity:jf(s.get(["lineStyle","opacity"]),c,1)})}},e})(ll),TPt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return e.prototype.render=function(n,r,i,o){var a=n.getData(),s=this._data,l=this.group,u;if(!s&&a.count()>0){for(var c=a.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<a.count();++f)c=a.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),a.count()===0&&n.get("showEmptyCircle")){var d=Exe(n),h=new ll({shape:yt(Cxe(n,i),d)});h.useStyle(n.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,l.add(h)}a.diff(s).add(function(p){var v=new EPt(a,p,u);a.setItemGraphicEl(p,v),l.add(v)}).update(function(p,v){var g=s.getItemGraphicEl(v);g.updateData(a,p,u),g.off("click"),l.add(g),a.setItemGraphicEl(p,g)}).remove(function(p){var v=s.getItemGraphicEl(p);wC(v,n,p)}).execute(),CPt(n),n.get("animationTypeUpdate")!=="expansion"&&(this._data=a)},e.prototype.dispose=function(){},e.prototype.containPoint=function(n,r){var i=r.getData(),o=i.getItemLayout(0);if(o){var a=n[0]-o.cx,s=n[1]-o.cy,l=Math.sqrt(a*a+s*s);return l<=o.r&&l>=o.r0}},e.type="pie",e})(Oi);function V_(t,e,n){e=Tt(e)&&{coordDimensions:e}||yt({encodeDefine:t.getEncode()},e);var r=t.getSource(),i=X2(r,e).dimensions,o=new Qs(i,t);return o.initData(r,n),o}var rE=(function(){function t(e,n){this._getDataWithEncodedVisual=e,this._getRawData=n}return t.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},t.prototype.containName=function(e){var n=this._getRawData();return n.indexOfName(e)>=0},t.prototype.indexOfName=function(e){var n=this._getDataWithEncodedVisual();return n.indexOfName(e)},t.prototype.getItemVisual=function(e,n){var r=this._getDataWithEncodedVisual();return r.getItemVisual(e,n)},t})(),APt=Qr(),kPt=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new rE(vn(this.getData,this),vn(this.getRawData,this)),this._defaultLabelLine(n)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return V_(this,{coordDimensions:["value"],encodeDefaulter:hr(WG,this)})},e.prototype.getDataParams=function(n){var r=this.getData(),i=APt(r),o=i.seats;if(!o){var a=[];r.each(r.mapDimension("value"),function(l){a.push(l)}),o=i.seats=Z1e(a,r.hostModel.get("percentPrecision"))}var s=t.prototype.getDataParams.call(this,n);return s.percent=o[n]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(n){Zm(n,"labelLine",["show"]);var r=n.labelLine,i=n.emphasis.labelLine;r.show=r.show&&n.label.show,i.show=i.show&&n.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e})(Ui);function MPt(t){return{seriesType:t,reset:function(e,n){var r=e.getData();r.filterSelf(function(i){var o=r.mapDimension("value"),a=r.get(o,i);return!(ri(a)&&!isNaN(a)&&a<0)})}}}function PPt(t){t.registerChartView(TPt),t.registerSeriesModel(kPt),Kwe("pie",t.registerAction),t.registerLayout(hr(wPt,"pie")),t.registerProcessor(nE("pie")),t.registerProcessor(MPt("pie"))}var OPt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return e.prototype.getInitialData=function(n,r){return Bh(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var n=this.option.progressive;return n??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(n,r,i){return i.point(r.getItemLayout(n))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e})(Ui),Axe=4,IPt=(function(){function t(){}return t})(),RPt=(function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r._off=0,r.hoverDataIdx=-1,r}return e.prototype.getDefaultShape=function(){return new IPt},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(n,r){var i=r.points,o=r.size,a=this.symbolProxy,s=a.shape,l=n.getContext?n.getContext():n,u=l&&o[0]<Axe,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<i.length;){var d=i[f++],h=i[f++];isNaN(d)||isNaN(h)||c&&!c.contain(d,h)||(s.x=d-o[0]/2,s.y=h-o[1]/2,s.width=o[0],s.height=o[1],a.buildPath(n,s,!0))}this.incremental&&(this._off=f,this.notClear=!0)},e.prototype.afterBrush=function(){var n=this.shape,r=n.points,i=n.size,o=this._ctx,a=this.softClipShape,s;if(o){for(s=this._off;s<r.length;){var l=r[s++],u=r[s++];isNaN(l)||isNaN(u)||a&&!a.contain(l,u)||o.fillRect(l-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=s,this.notClear=!0)}},e.prototype.findDataIndex=function(n,r){for(var i=this.shape,o=i.points,a=i.size,s=Math.max(a[0],4),l=Math.max(a[1],4),u=o.length/2-1;u>=0;u--){var c=u*2,f=o[c]-s/2,d=o[c+1]-l/2;if(n>=f&&r>=d&&n<=f+s&&r<=d+l)return u}return-1},e.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect();if(n=i[0],r=i[1],o.contain(n,r)){var a=this.hoverDataIdx=this.findDataIndex(n,r);return a>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var r=this.shape,i=r.points,o=r.size,a=o[0],s=o[1],l=1/0,u=1/0,c=-1/0,f=-1/0,d=0;d<i.length;){var h=i[d++],p=i[d++];l=Math.min(h,l),c=Math.max(h,c),u=Math.min(p,u),f=Math.max(p,f)}n=this._rect=new xr(l-a/2,u-s/2,c-l+a,f-u+s)}return n},e})($r),LPt=(function(){function t(){this.group=new nr}return t.prototype.updateData=function(e,n){this._clear();var r=this._create();r.setShape({points:e.getLayout("points")}),this._setCommon(r,e,n)},t.prototype.updateLayout=function(e){var n=e.getLayout("points");this.group.eachChild(function(r){if(r.startIndex!=null){var i=(r.endIndex-r.startIndex)*2,o=r.startIndex*4*2;n=new Float32Array(n.buffer,o,i)}r.setShape("points",n),r.reset()})},t.prototype.incrementalPrepareUpdate=function(e){this._clear()},t.prototype.incrementalUpdate=function(e,n,r){var i=this._newAdded[0],o=n.getLayout("points"),a=i&&i.shape.points;if(a&&a.length<2e4){var s=a.length,l=new Float32Array(s+o.length);l.set(a),l.set(o,s),i.endIndex=e.end,i.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:o}),this._setCommon(u,n,r)}},t.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},t.prototype._create=function(){var e=new RPt({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},t.prototype._setCommon=function(e,n,r){var i=n.hostModel;r=r||{};var o=n.getVisual("symbolSize");e.setShape("size",o instanceof Array?o:[o,o]),e.softClipShape=r.clipShape||null,e.symbolProxy=ra(n.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var a=e.shape.size[0]<Axe;e.useStyle(i.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var s=n.getVisual("style"),l=s&&s.fill;l&&e.setColor(l);var u=ar(e);u.seriesIndex=i.seriesIndex,e.on("mousemove",function(c){u.dataIndex=null;var f=e.hoverDataIdx;f>=0&&(u.dataIndex=f+(e.startIndex||0))})},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t})(),DPt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var o=n.getData(),a=this._updateSymbolDraw(o,n);a.updateData(o,{clipShape:this._getClipShape(n)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(n,r,i){var o=n.getData(),a=this._updateSymbolDraw(o,n);a.incrementalPrepareUpdate(o),this._finished=!1},e.prototype.incrementalRender=function(n,r,i){this._symbolDraw.incrementalUpdate(n,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=n.end===r.getData().count()},e.prototype.updateTransform=function(n,r,i){var o=n.getData();if(this.group.dirty(),!this._finished||o.count()>1e4)return{update:!0};var a=tE("").reset(n,r,i);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},e.prototype.eachRendered=function(n){this._symbolDraw&&this._symbolDraw.eachRendered(n)},e.prototype._getClipShape=function(n){if(n.get("clip",!0)){var r=n.coordinateSystem;return r&&r.getArea&&r.getArea(.1)}},e.prototype._updateSymbolDraw=function(n,r){var i=this._symbolDraw,o=r.pipelineContext,a=o.large;return(!i||a!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=a?new LPt:new Q2,this._isLargeDraw=a,this.group.removeAll()),this.group.add(i.group),i},e.prototype.remove=function(n,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e})(Oi),NPt=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e})(Gr),Z5=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Qo).models[0]},e.type="cartesian2dAxis",e})(Gr);ia(Z5,Z2);var kxe={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},BPt=mr({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},kxe),_9=mr({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},kxe),$Pt=mr({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},_9),FPt=Yn({logBase:10},_9);const Mxe={category:BPt,value:_9,time:$Pt,log:FPt};var VPt={value:1,category:1,time:1,log:1};function $1(t,e,n,r){ie(VPt,function(i,o){var a=mr(mr({},Mxe[o],!0),r,!0),s=(function(l){nt(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=e+"Axis."+o,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var d=xC(this),h=d?L_(c):{},p=f.getTheme();mr(c,p.get(o+"Axis")),mr(c,this.getDefaultOption()),c.type=Bre(c),d&&bv(c,h,d)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=G5.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=e+"Axis."+o,u.defaultOption=a,u})(n);t.registerComponentModel(s)}),t.registerSubTypeDefaulter(e+"Axis",Bre)}function Bre(t){return t.type||(t.data?"category":"value")}var zPt=(function(){function t(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return t.prototype.getAxis=function(e){return this._axes[e]},t.prototype.getAxes=function(){return kt(this._dimList,function(e){return this._axes[e]},this)},t.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),yi(this.getAxes(),function(n){return n.scale.type===e})},t.prototype.addAxis=function(e){var n=e.dim;this._axes[n]=e,this._dimList.push(n)},t})(),J5=["x","y"];function $re(t){return t.type==="interval"||t.type==="time"}var HPt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=J5,n}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!$re(n)||!$re(r))){var i=n.getExtent(),o=r.getExtent(),a=this.dataToPoint([i[0],o[0]]),s=this.dataToPoint([i[1],o[1]]),l=i[1]-i[0],u=o[1]-o[0];if(!(!l||!u)){var c=(s[0]-a[0])/l,f=(s[1]-a[1])/u,d=a[0]-i[0]*c,h=a[1]-o[0]*f,p=this._transform=[c,0,0,f,d,h];this._invTransform=A_([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(n){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(n[0]))&&i.contain(i.toLocalCoord(n[1]))},e.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},e.prototype.containZone=function(n,r){var i=this.dataToPoint(n),o=this.dataToPoint(r),a=this.getArea(),s=new xr(i[0],i[1],o[0]-i[0],o[1]-i[1]);return a.intersect(s)},e.prototype.dataToPoint=function(n,r,i){i=i||[];var o=n[0],a=n[1];if(this._transform&&o!=null&&isFinite(o)&&a!=null&&isFinite(a))return as(i,n,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(o,r)),i[1]=l.toGlobalCoord(l.dataToCoord(a,r)),i},e.prototype.clampData=function(n,r){var i=this.getAxis("x").scale,o=this.getAxis("y").scale,a=i.getExtent(),s=o.getExtent(),l=i.parse(n[0]),u=o.parse(n[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(a[0],a[1]),l),Math.max(a[0],a[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},e.prototype.pointToData=function(n,r){var i=[];if(this._invTransform)return as(i,n,this._invTransform);var o=this.getAxis("x"),a=this.getAxis("y");return i[0]=o.coordToData(o.toLocalCoord(n[0]),r),i[1]=a.coordToData(a.toLocalCoord(n[1]),r),i},e.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},e.prototype.getArea=function(n){n=n||0;var r=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),o=Math.min(r[0],r[1])-n,a=Math.min(i[0],i[1])-n,s=Math.max(r[0],r[1])-o+n,l=Math.max(i[0],i[1])-a+n;return new xr(o,a,s,l)},e})(zPt),jPt=(function(t){nt(e,t);function e(n,r,i,o,a){var s=t.call(this,n,r,i)||this;return s.index=0,s.type=o||"value",s.position=a||"bottom",s}return e.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},e.prototype.getGlobalExtent=function(n){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),n&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(n,r){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},e})(Jc);function Q5(t,e,n){n=n||{};var r=t.coordinateSystem,i=e.axis,o={},a=i.getAxesOnZeroOf()[0],s=i.position,l=a?"onZero":s,u=i.dim,c=r.getRect(),f=[c.x,c.x+c.width,c.y,c.y+c.height],d={left:0,right:1,top:0,bottom:1,onZero:2},h=e.get("offset")||0,p=u==="x"?[f[2]-h,f[3]+h]:[f[0]-h,f[1]+h];if(a){var v=a.toGlobalCoord(a.dataToCoord(0));p[d.onZero]=Math.max(Math.min(v,p[1]),p[0])}o.position=[u==="y"?p[d[l]]:f[0],u==="x"?p[d[l]]:f[3]],o.rotation=Math.PI/2*(u==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=g[s],o.labelOffset=a?p[d[s]]-p[d.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Va(n.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var m=e.get(["axisLabel","rotate"]);return o.labelRotate=l==="top"?-m:m,o.z2=1,o}function Fre(t){return t.get("coordinateSystem")==="cartesian2d"}function Vre(t){var e={xAxisModel:null,yAxisModel:null};return ie(e,function(n,r){var i=r.replace(/Model$/,""),o=t.getReferringComponents(i,Qo).models[0];e[r]=o}),e}var oB=Math.log;function Pxe(t,e,n){var r=yh.prototype,i=r.getTicks.call(n),o=r.getTicks.call(n,!0),a=i.length-1,s=r.getInterval.call(n),l=RSe(t,e),u=l.extent,c=l.fixMin,f=l.fixMax;if(t.type==="log"){var d=oB(t.base);u=[oB(u[0])/d,oB(u[1])/d]}t.setExtent(u[0],u[1]),t.calcNiceExtent({splitNumber:a,fixMin:c,fixMax:f});var h=r.getExtent.call(t);c&&(u[0]=h[0]),f&&(u[1]=h[1]);var p=r.getInterval.call(t),v=u[0],g=u[1];if(c&&f)p=(g-v)/a;else if(c)for(g=u[0]+p*a;g<u[1]&&isFinite(g)&&isFinite(u[1]);)p=G4(p),g=u[0]+p*a;else if(f)for(v=u[1]-p*a;v>u[0]&&isFinite(v)&&isFinite(u[0]);)p=G4(p),v=u[1]-p*a;else{var m=t.getTicks().length-1;m>a&&(p=G4(p));var y=p*a;g=Math.ceil(u[1]/p)*p,v=wo(g-y),v<0&&u[0]>=0?(v=0,g=wo(y)):g>0&&u[1]<=0&&(g=0,v=-wo(y))}var b=(i[0].value-o[0].value)/s,w=(i[a].value-o[a].value)/s;r.setExtent.call(t,v+p*b,g+p*w),r.setInterval.call(t,p),(b||w)&&r.setNiceExtent.call(t,v+p,g-p)}var GPt=(function(){function t(e,n,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=J5,this._initCartesian(e,n,r),this.model=e}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(e,n){var r=this._axesMap;this._updateScale(e,this.model);function i(a){var s,l=Ur(a),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var d=+l[f],h=a[d],p=h.model,v=h.scale;U5(v)&&p.get("alignTicks")&&p.get("interval")==null?c.push(h):(N1(v,p),U5(v)&&(s=h))}c.length&&(s||(s=c.pop(),N1(s.scale,s.model)),ie(c,function(g){Pxe(g.scale,g.model,s.scale)}))}}i(r.x),i(r.y);var o={};ie(r.x,function(a){zre(r,"y",a,o)}),ie(r.y,function(a){zre(r,"x",a,o)}),this.resize(this.model,n)},t.prototype.resize=function(e,n,r){var i=e.getBoxLayoutParams(),o=!r&&e.get("containLabel"),a=ha(i,{width:n.getWidth(),height:n.getHeight()});this._rect=a;var s=this._axesList;l(),o&&(ie(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=Ckt(u);if(c){var f=u.isHorizontal()?"height":"width",d=u.model.get(["axisLabel","margin"]);a[f]-=c[f]+d,u.position==="top"?a.y+=c.height+d:u.position==="left"&&(a.x+=c.width+d)}}}),l()),ie(this._coordsList,function(u){u.calcAffineTransform()});function l(){ie(s,function(u){var c=u.isHorizontal(),f=c?[0,a.width]:[0,a.height],d=u.inverse?1:0;u.setExtent(f[d],f[1-d]),UPt(u,c?a.x:a.y)})}},t.prototype.getAxis=function(e,n){var r=this._axesMap[e];if(r!=null)return r[n||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(e,n){if(e!=null&&n!=null){var r="x"+e+"y"+n;return this._coordsMap[r]}Zn(e)&&(n=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===e||o[i].getAxis("y").index===n)return o[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(e,n,r){var i=this._findConvertTarget(n);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},t.prototype.convertFromPixel=function(e,n,r){var i=this._findConvertTarget(n);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},t.prototype._findConvertTarget=function(e){var n=e.seriesModel,r=e.xAxisModel||n&&n.getReferringComponents("xAxis",Qo).models[0],i=e.yAxisModel||n&&n.getReferringComponents("yAxis",Qo).models[0],o=e.gridModel,a=this._coordsList,s,l;if(n)s=n.coordinateSystem,Mr(a,s)<0&&(s=null);else if(r&&i)s=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(o){var u=o.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},t.prototype.containPoint=function(e){var n=this._coordsList[0];if(n)return n.containPoint(e)},t.prototype._initCartesian=function(e,n,r){var i=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(n.eachComponent("xAxis",u("x"),this),n.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,ie(s.x,function(c,f){ie(s.y,function(d,h){var p="x"+f+"y"+h,v=new HPt(p);v.master=i,v.model=e,i._coordsMap[p]=v,i._coordsList.push(v),v.addAxis(c),v.addAxis(d)})});function u(c){return function(f,d){if(aB(f,e)){var h=f.get("position");c==="x"?h!=="top"&&h!=="bottom"&&(h=a.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=a.left?"right":"left"),a[h]=!0;var p=new jPt(c,YR(f),[0,0],f.get("type"),h),v=p.type==="category";p.onBand=v&&f.get("boundaryGap"),p.inverse=f.get("inverse"),f.axis=p,p.model=f,p.grid=o,p.index=d,o._axesList.push(p),s[c][d]=p,l[c]++}}}},t.prototype._updateScale=function(e,n){ie(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var o=i.model.get("categorySortInfo");i.scale.setSortInfo(o)}}),e.eachSeries(function(i){if(Fre(i)){var o=Vre(i),a=o.xAxisModel,s=o.yAxisModel;if(!aB(a,n)||!aB(s,n))return;var l=this.getCartesian(a.componentIndex,s.componentIndex),u=i.getData(),c=l.getAxis("x"),f=l.getAxis("y");r(u,c),r(u,f)}},this);function r(i,o){ie(JP(i,o.dim),function(a){o.scale.unionExtentFromData(i,a)})}},t.prototype.getTooltipAxes=function(e){var n=[],r=[];return ie(this.getCartesians(),function(i){var o=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),a=i.getOtherAxis(o);Mr(n,o)<0&&n.push(o),Mr(r,a)<0&&r.push(a)}),{baseAxes:n,otherAxes:r}},t.create=function(e,n){var r=[];return e.eachComponent("grid",function(i,o){var a=new t(i,e,n);a.name="grid_"+o,a.resize(i,n,!0),i.coordinateSystem=a,r.push(a)}),e.eachSeries(function(i){if(Fre(i)){var o=Vre(i),a=o.xAxisModel,s=o.yAxisModel,l=a.getCoordSysModel(),u=l.coordinateSystem;i.coordinateSystem=u.getCartesian(a.componentIndex,s.componentIndex)}}),r},t.dimensions=J5,t})();function aB(t,e){return t.getCoordSysModel()===e}function zre(t,e,n,r){n.getAxesOnZeroOf=function(){return o?[o]:[]};var i=t[e],o,a=n.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)Hre(i[l])&&(o=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&Hre(i[u])&&!r[c(i[u])]){o=i[u];break}o&&(r[c(o)]=!0);function c(f){return f.dim+"_"+f.index}}function Hre(t){return t&&t.type!=="category"&&t.type!=="time"&&xkt(t)}function UPt(t,e){var n=t.getExtent(),r=n[0]+n[1];t.toGlobalCoord=t.dim==="x"?function(i){return i+e}:function(i){return r-i+e},t.toLocalCoord=t.dim==="x"?function(i){return i-e}:function(i){return r-i+e}}var Dp=Math.PI,el=(function(){function t(e,n){this.group=new nr,this.opt=n,this.axisModel=e,Yn(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new nr({x:n.position[0],y:n.position[1],rotation:n.rotation});r.updateTransform(),this._transformGroup=r}return t.prototype.hasBuilder=function(e){return!!jre[e]},t.prototype.add=function(e){jre[e](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(e,n,r){var i=SG(n-e),o,a;return O1(i)?(a=r>0?"top":"bottom",o="center"):O1(i-Dp)?(a=r>0?"bottom":"top",o="center"):(a="middle",i>0&&i<Dp?o=r>0?"right":"left":o=r>0?"left":"right"),{rotation:i,textAlign:o,textVerticalAlign:a}},t.makeAxisEventDataBase=function(e){var n={componentType:e.mainType,componentIndex:e.componentIndex};return n[e.mainType+"Index"]=e.componentIndex,n},t.isLabelSilent=function(e){var n=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||n&&n.show)},t})(),jre={axisLine:function(t,e,n,r){var i=e.get(["axisLine","show"]);if(i==="auto"&&t.handleAutoShown&&(i=t.handleAutoShown("axisLine")),!!i){var o=e.axis.getExtent(),a=r.transform,s=[o[0],0],l=[o[1],0],u=s[0]>l[0];a&&(as(s,s,a),as(l,l,a));var c=yt({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new Sa({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});R1(f.shape,f.style.lineWidth),f.anid="line",n.add(f);var d=e.get(["axisLine","symbol"]);if(d!=null){var h=e.get(["axisLine","symbolSize"]);fn(d)&&(d=[d,d]),(fn(h)||ri(h))&&(h=[h,h]);var p=ky(e.get(["axisLine","symbolOffset"])||0,h),v=h[0],g=h[1];ie([{rotate:t.rotation+Math.PI/2,offset:p[0],r:0},{rotate:t.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(m,y){if(d[y]!=="none"&&d[y]!=null){var b=ra(d[y],-v/2,-g/2,v,g,c.stroke,!0),w=m.r+m.offset,S=u?l:s;b.attr({rotation:m.rotate,x:S[0]+w*Math.cos(t.rotation),y:S[1]-w*Math.sin(t.rotation),silent:!0,z2:11}),n.add(b)}})}}},axisTickLabel:function(t,e,n,r){var i=KPt(n,r,e,t),o=XPt(n,r,e,t);if(qPt(e,o,i),YPt(n,r,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var a=qSe(kt(o,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));XSe(a)}},axisName:function(t,e,n,r){var i=Va(t.axisName,e.get("name"));if(i){var o=e.get("nameLocation"),a=t.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,u=e.axis.getExtent(),c=u[0]>u[1]?-1:1,f=[o==="start"?u[0]-c*l:o==="end"?u[1]+c*l:(u[0]+u[1])/2,Ure(o)?t.labelOffset+a*l:0],d,h=e.get("nameRotate");h!=null&&(h=h*Dp/180);var p;Ure(o)?d=el.innerTextLayout(t.rotation,h??t.rotation,a):(d=WPt(t.rotation,o,h||0,u),p=t.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(d.rotation)),!isFinite(p)&&(p=null)));var v=s.getFont(),g=e.get("nameTruncate",!0)||{},m=g.ellipsis,y=Va(t.nameTruncateMaxWidth,g.maxWidth,p),b=new ti({x:f[0],y:f[1],rotation:d.rotation,silent:el.isLabelSilent(e),style:Gi(s,{text:i,font:v,overflow:"truncate",width:y,ellipsis:m,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||d.textAlign,verticalAlign:s.get("verticalAlign")||d.textVerticalAlign}),z2:1});if(Ty({el:b,componentModel:e,itemName:i}),b.__fullText=i,b.anid="name",e.get("triggerEvent")){var w=el.makeAxisEventDataBase(e);w.targetType="axisName",w.name=i,ar(b).eventData=w}r.add(b),b.updateTransform(),n.add(b),b.decomposeTransform()}}};function WPt(t,e,n,r){var i=SG(n-t),o,a,s=r[0]>r[1],l=e==="start"&&!s||e!=="start"&&s;return O1(i-Dp/2)?(a=l?"bottom":"top",o="center"):O1(i-Dp*1.5)?(a=l?"top":"bottom",o="center"):(a="middle",i<Dp*1.5&&i>Dp/2?o=l?"left":"right":o=l?"right":"left"),{rotation:i,textAlign:o,textVerticalAlign:a}}function qPt(t,e,n){if(!LSe(t.axis)){var r=t.get(["axisLabel","showMinLabel"]),i=t.get(["axisLabel","showMaxLabel"]);e=e||[],n=n||[];var o=e[0],a=e[1],s=e[e.length-1],l=e[e.length-2],u=n[0],c=n[1],f=n[n.length-1],d=n[n.length-2];r===!1?(cu(o),cu(u)):Gre(o,a)&&(r?(cu(a),cu(c)):(cu(o),cu(u))),i===!1?(cu(s),cu(f)):Gre(l,s)&&(i?(cu(l),cu(d)):(cu(s),cu(f)))}}function cu(t){t&&(t.ignore=!0)}function Gre(t,e){var n=t&&t.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!n||!r)){var i=bR([]);return Ey(i,i,-t.rotation),n.applyTransform(Xd([],i,t.getLocalTransform())),r.applyTransform(Xd([],i,e.getLocalTransform())),n.intersect(r)}}function Ure(t){return t==="middle"||t==="center"}function Oxe(t,e,n,r,i){for(var o=[],a=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;a[0]=u,a[1]=0,s[0]=u,s[1]=n,e&&(as(a,a,e),as(s,s,e));var c=new Sa({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});R1(c.shape,c.style.lineWidth),c.anid=i+"_"+t[l].tickValue,o.push(c)}return o}function KPt(t,e,n,r){var i=n.axis,o=n.getModel("axisTick"),a=o.get("show");if(a==="auto"&&r.handleAutoShown&&(a=r.handleAutoShown("axisTick")),!(!a||i.scale.isBlank())){for(var s=o.getModel("lineStyle"),l=r.tickDirection*o.get("length"),u=i.getTicksCoords(),c=Oxe(u,e.transform,l,Yn(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)t.add(c[f]);return c}}function YPt(t,e,n,r){var i=n.axis,o=n.getModel("minorTick");if(!(!o.get("show")||i.scale.isBlank())){var a=i.getMinorTicksCoords();if(a.length)for(var s=o.getModel("lineStyle"),l=r*o.get("length"),u=Yn(s.getLineStyle(),Yn(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<a.length;c++)for(var f=Oxe(a[c],e.transform,l,u,"minorticks_"+c),d=0;d<f.length;d++)t.add(f[d])}}function XPt(t,e,n,r){var i=n.axis,o=Va(r.axisLabelShow,n.get(["axisLabel","show"]));if(!(!o||i.scale.isBlank())){var a=n.getModel("axisLabel"),s=a.get("margin"),l=i.getViewLabels(),u=(Va(r.labelRotate,a.get("rotate"))||0)*Dp/180,c=el.innerTextLayout(r.rotation,u,r.labelDirection),f=n.getCategories&&n.getCategories(!0),d=[],h=el.isLabelSilent(n),p=n.get("triggerEvent");return ie(l,function(v,g){var m=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(v.tickValue):v.tickValue,y=v.formattedLabel,b=v.rawLabel,w=a;if(f&&f[m]){var S=f[m];Zn(S)&&S.textStyle&&(w=new Ci(S.textStyle,a,n.ecModel))}var x=w.getTextColor()||n.get(["axisLine","lineStyle","color"]),C=i.dataToCoord(m),E=w.getShallow("align",!0)||c.textAlign,T=dr(w.getShallow("alignMinLabel",!0),E),A=dr(w.getShallow("alignMaxLabel",!0),E),k=w.getShallow("verticalAlign",!0)||w.getShallow("baseline",!0)||c.textVerticalAlign,M=dr(w.getShallow("verticalAlignMinLabel",!0),k),D=dr(w.getShallow("verticalAlignMaxLabel",!0),k),L=new ti({x:C,y:r.labelOffset+r.labelDirection*s,rotation:c.rotation,silent:h,z2:10+(v.level||0),style:Gi(w,{text:y,align:g===0?T:g===l.length-1?A:E,verticalAlign:g===0?M:g===l.length-1?D:k,fill:qn(x)?x(i.type==="category"?b:i.type==="value"?m+"":m,g):x})});if(L.anid="label_"+m,Ty({el:L,componentModel:n,itemName:y,formatterParamsExtra:{isTruncated:function(){return L.isTruncated},value:b,tickIndex:g}}),p){var I=el.makeAxisEventDataBase(n);I.targetType="axisLabel",I.value=b,I.tickIndex=g,i.type==="category"&&(I.dataIndex=m),ar(L).eventData=I}e.add(L),L.updateTransform(),d.push(L),t.add(L),L.decomposeTransform()}),d}}function ZPt(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return JPt(n,t,e),n.seriesInvolved&&eOt(n,t),n}function JPt(t,e,n){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),o=i.get("link",!0)||[],a=[];ie(n.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=IC(s.model),u=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=s;var c=s.model,f=c.getModel("tooltip",r);if(ie(s.getAxes(),hr(v,!1,null)),s.getTooltipAxes&&r&&f.get("show")){var d=f.get("trigger")==="axis",h=f.get(["axisPointer","type"])==="cross",p=s.getTooltipAxes(f.get(["axisPointer","axis"]));(d||h)&&ie(p.baseAxes,hr(v,h?"cross":!0,d)),h&&ie(p.otherAxes,hr(v,"cross",!1))}function v(g,m,y){var b=y.model.getModel("axisPointer",i),w=b.get("show");if(!(!w||w==="auto"&&!g&&!e6(b))){m==null&&(m=b.get("triggerTooltip")),b=g?QPt(y,f,i,e,g,m):b;var S=b.get("snap"),x=b.get("triggerEmphasis"),C=IC(y.model),E=m||S||y.type==="category",T=t.axesInfo[C]={key:C,axis:y,coordSys:s,axisPointerModel:b,triggerTooltip:m,triggerEmphasis:x,involveSeries:E,snap:S,useHandle:e6(b),seriesModels:[],linkGroup:null};u[C]=T,t.seriesInvolved=t.seriesInvolved||E;var A=tOt(o,y);if(A!=null){var k=a[A]||(a[A]={axesInfo:{}});k.axesInfo[C]=T,k.mapper=o[A].mapper,T.linkGroup=k}}}})}function QPt(t,e,n,r,i,o){var a=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};ie(s,function(d){l[d]=Jn(a.get(d))}),l.snap=t.type!=="category"&&!!o,a.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var c=a.get(["label","show"]);if(u.show=c??!0,!o){var f=l.lineStyle=a.get("crossStyle");f&&Yn(u,f.textStyle)}}return t.model.getModel("axisPointer",new Ci(l,n,r))}function eOt(t,e){e.eachSeries(function(n){var r=n.coordinateSystem,i=n.get(["tooltip","trigger"],!0),o=n.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||o===!1||n.get(["axisPointer","show"],!0)===!1||ie(t.coordSysAxesInfo[IC(r.model)],function(a){var s=a.axis;r.getAxis(s.dim)===s&&(a.seriesModels.push(n),a.seriesDataCount==null&&(a.seriesDataCount=0),a.seriesDataCount+=n.getData().count())})})}function tOt(t,e){for(var n=e.model,r=e.dim,i=0;i<t.length;i++){var o=t[i]||{};if(sB(o[r+"AxisId"],n.id)||sB(o[r+"AxisIndex"],n.componentIndex)||sB(o[r+"AxisName"],n.name))return i}}function sB(t,e){return t==="all"||Tt(t)&&Mr(t,e)>=0||t===e}function nOt(t){var e=w9(t);if(e){var n=e.axisPointerModel,r=e.axis.scale,i=n.option,o=n.get("status"),a=n.get("value");a!=null&&(a=r.parse(a));var s=e6(n);o==null&&(i.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(a==null||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),i.value=a,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function w9(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[IC(t)]}function rOt(t){var e=w9(t);return e&&e.axisPointerModel}function e6(t){return!!t.get(["handle","show"])}function IC(t){return t.type+"||"+t.id}var Wre={},Oy=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i,o){this.axisPointerClass&&nOt(n),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,i,!0)},e.prototype.updateAxisPointer=function(n,r,i,o){this._doUpdateAxisPointerClass(n,i,!1)},e.prototype.remove=function(n,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(n,r){this._disposeAxisPointer(r),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(n,r,i){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var a=rOt(n);a?(this._axisPointer||(this._axisPointer=new o)).render(n,a,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},e.registerAxisPointerClass=function(n,r){Wre[n]=r},e.getAxisPointerClass=function(n){return n&&Wre[n]},e.type="axis",e})(so),t6=Qr();function Ixe(t,e,n,r){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel("splitArea"),a=o.getModel("areaStyle"),s=a.get("color"),l=r.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var c=s.length,f=t6(t).splitAreaColors,d=Mn(),h=0;if(f)for(var p=0;p<u.length;p++){var v=f.get(u[p].tickValue);if(v!=null){h=(v+(c-1)*p)%c;break}}var g=i.toGlobalCoord(u[0].coord),m=a.getAreaStyle();s=Tt(s)?s:[s];for(var p=1;p<u.length;p++){var y=i.toGlobalCoord(u[p].coord),b=void 0,w=void 0,S=void 0,x=void 0;i.isHorizontal()?(b=g,w=l.y,S=y-b,x=l.height,g=b+S):(b=l.x,w=g,S=l.width,x=y-w,g=w+x);var C=u[p-1].tickValue;C!=null&&d.set(C,h),e.add(new Jr({anid:C!=null?"area_"+C:null,shape:{x:b,y:w,width:S,height:x},style:Yn({fill:s[h]},m),autoBatch:!0,silent:!0})),h=(h+1)%c}t6(t).splitAreaColors=d}}}function Rxe(t){t6(t).splitAreaColors=null}var iOt=["axisLine","axisTickLabel","axisName"],oOt=["splitArea","splitLine","minorSplitLine"],Lxe=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return e.prototype.render=function(n,r,i,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new nr,this.group.add(this._axisGroup),!!n.get("show")){var s=n.getCoordSysModel(),l=Q5(s,n),u=new el(n,yt({handleAutoShown:function(f){for(var d=s.coordinateSystem.getCartesians(),h=0;h<d.length;h++)if(U5(d[h].getOtherAxis(n.axis).scale))return!0;return!1}},l));ie(iOt,u.add,u),this._axisGroup.add(u.getGroup()),ie(oOt,function(f){n.get([f,"show"])&&aOt[f](this,this._axisGroup,n,s)},this);var c=o&&o.type==="changeAxisOrder"&&o.isInitSort;c||W2(a,this._axisGroup,n),t.prototype.render.call(this,n,r,i,o)}},e.prototype.remove=function(){Rxe(this)},e.type="cartesianAxis",e})(Oy),aOt={splitLine:function(t,e,n,r){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color"),l=o.get("showMinLine")!==!1,u=o.get("showMaxLine")!==!1;s=Tt(s)?s:[s];for(var c=r.coordinateSystem.getRect(),f=i.isHorizontal(),d=0,h=i.getTicksCoords({tickModel:o}),p=[],v=[],g=a.getLineStyle(),m=0;m<h.length;m++){var y=i.toGlobalCoord(h[m].coord);if(!(m===0&&!l||m===h.length-1&&!u)){var b=h[m].tickValue;f?(p[0]=y,p[1]=c.y,v[0]=y,v[1]=c.y+c.height):(p[0]=c.x,p[1]=y,v[0]=c.x+c.width,v[1]=y);var w=d++%s.length,S=new Sa({anid:b!=null?"line_"+b:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:v[0],y2:v[1]},style:Yn({stroke:s[w]},g),silent:!0});R1(S.shape,g.lineWidth),e.add(S)}}}},minorSplitLine:function(t,e,n,r){var i=n.axis,o=n.getModel("minorSplitLine"),a=o.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var c=[],f=[],d=a.getLineStyle(),h=0;h<u.length;h++)for(var p=0;p<u[h].length;p++){var v=i.toGlobalCoord(u[h][p].coord);l?(c[0]=v,c[1]=s.y,f[0]=v,f[1]=s.y+s.height):(c[0]=s.x,c[1]=v,f[0]=s.x+s.width,f[1]=v);var g=new Sa({anid:"minor_line_"+u[h][p].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:d,silent:!0});R1(g.shape,d.lineWidth),e.add(g)}},splitArea:function(t,e,n,r){Ixe(t,e,n,r)}},Dxe=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="xAxis",e})(Lxe),sOt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=Dxe.type,n}return e.type="yAxis",e})(Lxe),lOt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="grid",n}return e.prototype.render=function(n,r){this.group.removeAll(),n.get("show")&&this.group.add(new Jr({shape:n.coordinateSystem.getRect(),style:Yn({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e})(so),qre={offset:0};function Nxe(t){t.registerComponentView(lOt),t.registerComponentModel(NPt),t.registerCoordinateSystem("cartesian2d",GPt),$1(t,"x",Z5,qre),$1(t,"y",Z5,qre),t.registerComponentView(Dxe),t.registerComponentView(sOt),t.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function uOt(t){Dr(Nxe),t.registerSeriesModel(OPt),t.registerChartView(DPt),t.registerLayout(tE("scatter"))}function cOt(t){t.eachSeriesByType("radar",function(e){var n=e.getData(),r=[],i=e.coordinateSystem;if(i){var o=i.getIndicatorAxes();ie(o,function(a,s){n.each(n.mapDimension(o[s].dim),function(l,u){r[u]=r[u]||[];var c=i.dataToPoint(l,s);r[u][s]=Kre(c)?c:Yre(i)})}),n.each(function(a){var s=Qwt(r[a],function(l){return Kre(l)})||Yre(i);r[a].push(s.slice()),n.setItemLayout(a,r[a])})}})}function Kre(t){return!isNaN(t[0])&&!isNaN(t[1])}function Yre(t){return[t.cx,t.cy]}function fOt(t){var e=t.polar;if(e){Tt(e)||(e=[e]);var n=[];ie(e,function(r,i){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),t.radar=t.radar||[],Tt(t.radar)||(t.radar=[t.radar]),t.radar.push(r)):n.push(r)}),t.polar=n}ie(t.series,function(r){r&&r.type==="radar"&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var dOt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var o=n.coordinateSystem,a=this.group,s=n.getData(),l=this._data;function u(d,h){var p=d.getItemVisual(h,"symbol")||"circle";if(p!=="none"){var v=$_(d.getItemVisual(h,"symbolSize")),g=ra(p,-1,-1,2,2),m=d.getItemVisual(h,"symbolRotate")||0;return g.attr({style:{strokeNoScale:!0},z2:100,scaleX:v[0]/2,scaleY:v[1]/2,rotation:m*Math.PI/180||0}),g}}function c(d,h,p,v,g,m){p.removeAll();for(var y=0;y<h.length-1;y++){var b=u(v,g);b&&(b.__dimIdx=y,d[y]?(b.setPosition(d[y]),Ay[m?"initProps":"updateProps"](b,{x:h[y][0],y:h[y][1]},n,g)):b.setPosition(h[y]),p.add(b))}}function f(d){return kt(d,function(h){return[o.cx,o.cy]})}s.diff(l).add(function(d){var h=s.getItemLayout(d);if(h){var p=new ul,v=new cl,g={shape:{points:h}};p.shape.points=f(h),v.shape.points=f(h),eo(p,g,n,d),eo(v,g,n,d);var m=new nr,y=new nr;m.add(v),m.add(p),m.add(y),c(v.shape.points,h,y,s,d,!0),s.setItemGraphicEl(d,m)}}).update(function(d,h){var p=l.getItemGraphicEl(h),v=p.childAt(0),g=p.childAt(1),m=p.childAt(2),y={shape:{points:s.getItemLayout(d)}};y.shape.points&&(c(v.shape.points,y.shape.points,m,s,d,!1),$c(g),$c(v),si(v,y,n),si(g,y,n),s.setItemGraphicEl(d,p))}).remove(function(d){a.remove(l.getItemGraphicEl(d))}).execute(),s.eachItemGraphicEl(function(d,h){var p=s.getItemModel(h),v=d.childAt(0),g=d.childAt(1),m=d.childAt(2),y=s.getItemVisual(h,"style"),b=y.fill;a.add(d),v.useStyle(Yn(p.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:b})),ls(v,p,"lineStyle"),ls(g,p,"areaStyle");var w=p.getModel("areaStyle"),S=w.isEmpty()&&w.parentModel.isEmpty();g.ignore=S,ie(["emphasis","select","blur"],function(E){var T=p.getModel([E,"areaStyle"]),A=T.isEmpty()&&T.parentModel.isEmpty();g.ensureState(E).ignore=A&&S}),g.useStyle(Yn(w.getAreaStyle(),{fill:b,opacity:.7,decal:y.decal}));var x=p.getModel("emphasis"),C=x.getModel("itemStyle").getItemStyle();m.eachChild(function(E){if(E instanceof qa){var T=E.style;E.useStyle(yt({image:T.image,x:T.x,y:T.y,width:T.width,height:T.height},y))}else E.useStyle(y),E.setColor(b),E.style.strokeNoScale=!0;var A=E.ensureState("emphasis");A.style=Jn(C);var k=s.getStore().get(s.getDimensionIndex(E.__dimIdx),h);(k==null||isNaN(k))&&(k=""),us(E,Pa(p),{labelFetcher:s.hostModel,labelDataIndex:h,labelDimIndex:E.__dimIdx,defaultText:k,inheritColor:b,defaultOpacity:y.opacity})}),go(d,x.get("focus"),x.get("blurScope"),x.get("disabled"))}),this._data=s},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e})(Oi),hOt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return e.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new rE(vn(this.getData,this),vn(this.getRawData,this))},e.prototype.getInitialData=function(n,r){return V_(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(n,r,i){var o=this.getData(),a=this.coordinateSystem,s=a.getIndicatorAxes(),l=this.getData().getName(n),u=l===""?this.name:l,c=Nwe(this,n);return Oa("section",{header:u,sortBlocks:!0,blocks:kt(s,function(f){var d=o.get(o.mapDimension(f.dim),n);return Oa("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:d,sortParam:d})})})},e.prototype.getTooltipPosition=function(n){if(n!=null){for(var r=this.getData(),i=this.coordinateSystem,o=r.getValues(kt(i.dimensions,function(u){return r.mapDimension(u)}),n),a=0,s=o.length;a<s;a++)if(!isNaN(o[a])){var l=i.getIndicatorAxes();return i.coordToPoint(l[a].dataToCoord(o[a]),a)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e})(Ui),Fw=Mxe.value;function dA(t,e){return Yn({show:e},t)}var pOt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.optionUpdated=function(){var n=this.get("boundaryGap"),r=this.get("splitNumber"),i=this.get("scale"),o=this.get("axisLine"),a=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),d=this.get("triggerEvent"),h=kt(this.get("indicator")||[],function(p){p.max!=null&&p.max>0&&!p.min?p.min=0:p.min!=null&&p.min<0&&!p.max&&(p.max=0);var v=l;p.color!=null&&(v=Yn({color:p.color},l));var g=mr(Jn(p),{boundaryGap:n,splitNumber:r,scale:i,axisLine:o,axisTick:a,axisLabel:s,name:p.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:v,triggerEvent:d},!1);if(fn(c)){var m=g.name;g.name=c.replace("{value}",m??"")}else qn(c)&&(g.name=c(g.name,g));var y=new Ci(g,null,this.ecModel);return ia(y,Z2.prototype),y.mainType="radar",y.componentIndex=this.componentIndex,y},this);this._indicatorModels=h},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:mr({lineStyle:{color:"#bbb"}},Fw.axisLine),axisLabel:dA(Fw.axisLabel,!1),axisTick:dA(Fw.axisTick,!1),splitLine:dA(Fw.splitLine,!0),splitArea:dA(Fw.splitArea,!0),indicator:[]},e})(Gr),vOt=["axisLine","axisTickLabel","axisName"],gOt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var o=this.group;o.removeAll(),this._buildAxes(n),this._buildSplitLineAndArea(n)},e.prototype._buildAxes=function(n){var r=n.coordinateSystem,i=r.getIndicatorAxes(),o=kt(i,function(a){var s=a.model.get("showName")?a.name:"",l=new el(a.model,{axisName:s,position:[r.cx,r.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});ie(o,function(a){ie(vOt,a.add,a),this.group.add(a.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(n){var r=n.coordinateSystem,i=r.getIndicatorAxes();if(!i.length)return;var o=n.get("shape"),a=n.getModel("splitLine"),s=n.getModel("splitArea"),l=a.getModel("lineStyle"),u=s.getModel("areaStyle"),c=a.get("show"),f=s.get("show"),d=l.get("color"),h=u.get("color"),p=Tt(d)?d:[d],v=Tt(h)?h:[h],g=[],m=[];function y(I,R,V){var P=V%R.length;return I[P]=I[P]||[],P}if(o==="circle")for(var b=i[0].getTicksCoords(),w=r.cx,S=r.cy,x=0;x<b.length;x++){if(c){var C=y(g,p,x);g[C].push(new Nh({shape:{cx:w,cy:S,r:b[x].coord}}))}if(f&&x<b.length-1){var C=y(m,v,x);m[C].push(new j2({shape:{cx:w,cy:S,r0:b[x].coord,r:b[x+1].coord}}))}}else for(var E,T=kt(i,function(I,R){var V=I.getTicksCoords();return E=E==null?V.length-1:Math.min(V.length-1,E),kt(V,function(P){return r.coordToPoint(P.coord,R)})}),A=[],x=0;x<=E;x++){for(var k=[],M=0;M<i.length;M++)k.push(T[M][x]);if(k[0]&&k.push(k[0].slice()),c){var C=y(g,p,x);g[C].push(new cl({shape:{points:k}}))}if(f&&A){var C=y(m,v,x-1);m[C].push(new ul({shape:{points:k.concat(A)}}))}A=k.slice().reverse()}var D=l.getLineStyle(),L=u.getAreaStyle();ie(m,function(I,R){this.group.add(Au(I,{style:Yn({stroke:"none",fill:v[R%v.length]},L),silent:!0}))},this),ie(g,function(I,R){this.group.add(Au(I,{style:Yn({fill:"none",stroke:p[R%p.length]},D),silent:!0}))},this)},e.type="radar",e})(so),mOt=(function(t){nt(e,t);function e(n,r,i){var o=t.call(this,n,r,i)||this;return o.type="value",o.angle=0,o.name="",o}return e})(Jc),yOt=(function(){function t(e,n,r){this.dimensions=[],this._model=e,this._indicatorAxes=kt(e.getIndicatorModels(),function(i,o){var a="indicator_"+o,s=new mOt(a,new yh);return s.name=i.get("name"),s.model=i,i.axis=s,this.dimensions.push(a),s},this),this.resize(e,r)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(e,n){var r=this._indicatorAxes[n];return this.coordToPoint(r.dataToCoord(e),n)},t.prototype.coordToPoint=function(e,n){var r=this._indicatorAxes[n],i=r.angle,o=this.cx+e*Math.cos(i),a=this.cy-e*Math.sin(i);return[o,a]},t.prototype.pointToData=function(e){var n=e[0]-this.cx,r=e[1]-this.cy,i=Math.sqrt(n*n+r*r);n/=i,r/=i;for(var o=Math.atan2(-r,n),a=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(o-c.angle);f<a&&(s=c,l=u,a=f)}return[l,+(s&&s.coordToData(i))]},t.prototype.resize=function(e,n){var r=e.get("center"),i=n.getWidth(),o=n.getHeight(),a=Math.min(i,o)/2;this.cx=on(r[0],i),this.cy=on(r[1],o),this.startAngle=e.get("startAngle")*Math.PI/180;var s=e.get("radius");(fn(s)||ri(s))&&(s=[0,s]),this.r0=on(s[0],a),this.r=on(s[1],a),ie(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},t.prototype.update=function(e,n){var r=this._indicatorAxes,i=this._model;ie(r,function(s){s.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||e.getComponent("radar",s.get("radarIndex"))!==i)){var u=s.getData();ie(r,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var o=i.get("splitNumber"),a=new yh;a.setExtent(0,o),a.setInterval(1),ie(r,function(s,l){Pxe(s.scale,s.model,a)})},t.prototype.convertToPixel=function(e,n,r){return console.warn("Not implemented."),null},t.prototype.convertFromPixel=function(e,n,r){return console.warn("Not implemented."),null},t.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},t.create=function(e,n){var r=[];return e.eachComponent("radar",function(i){var o=new t(i,e,n);r.push(o),i.coordinateSystem=o}),e.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=r[i.get("radarIndex")||0])}),r},t.dimensions=[],t})();function bOt(t){t.registerCoordinateSystem("radar",yOt),t.registerComponentModel(pOt),t.registerComponentView(gOt),t.registerVisual({seriesType:"radar",reset:function(e){var n=e.getData();n.each(function(r){n.setItemVisual(r,"legendIcon","roundRect")}),n.setVisual("legendIcon","roundRect")}})}function _Ot(t){Dr(bOt),t.registerChartView(dOt),t.registerSeriesModel(hOt),t.registerLayout(cOt),t.registerProcessor(nE("radar")),t.registerPreprocessor(fOt)}var Xre="\0_ec_interaction_mutex";function wOt(t,e,n){var r=S9(t);r[e]=n}function SOt(t,e,n){var r=S9(t),i=r[e];i===n&&(r[e]=null)}function Zre(t,e){return!!S9(t)[e]}function S9(t){return t[Xre]||(t[Xre]={})}fd({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Vo);var iE=(function(t){nt(e,t);function e(n){var r=t.call(this)||this;r._zr=n;var i=vn(r._mousedownHandler,r),o=vn(r._mousemoveHandler,r),a=vn(r._mouseupHandler,r),s=vn(r._mousewheelHandler,r),l=vn(r._pinchHandler,r);return r.enable=function(u,c){this.disable(),this._opt=Yn(Jn(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(n.on("mousedown",i),n.on("mousemove",o),n.on("mouseup",a)),(u===!0||u==="scale"||u==="zoom")&&(n.on("mousewheel",s),n.on("pinch",l))},r.disable=function(){n.off("mousedown",i),n.off("mousemove",o),n.off("mouseup",a),n.off("mousewheel",s),n.off("pinch",l)},r}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(n){this.pointerChecker=n},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(n){if(!Tee(n)){for(var r=n.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=n.offsetX,o=n.offsetY;this.pointerChecker&&this.pointerChecker(n,i,o)&&(this._x=i,this._y=o,this._dragging=!0)}},e.prototype._mousemoveHandler=function(n){if(!(!this._dragging||!Xk("moveOnMouseMove",n,this._opt)||n.gestureEvent==="pinch"||Zre(this._zr,"globalPan"))){var r=n.offsetX,i=n.offsetY,o=this._x,a=this._y,s=r-o,l=i-a;this._x=r,this._y=i,this._opt.preventDefaultMouseMove&&ph(n.event),Bxe(this,"pan","moveOnMouseMove",n,{dx:s,dy:l,oldX:o,oldY:a,newX:r,newY:i,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(n){Tee(n)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(n){var r=Xk("zoomOnMouseWheel",n,this._opt),i=Xk("moveOnMouseWheel",n,this._opt),o=n.wheelDelta,a=Math.abs(o),s=n.offsetX,l=n.offsetY;if(!(o===0||!r&&!i)){if(r){var u=a>3?1.4:a>1?1.2:1.1,c=o>0?u:1/u;lB(this,"zoom","zoomOnMouseWheel",n,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(i){var f=Math.abs(o),d=(o>0?1:-1)*(f>3?.4:f>1?.15:.05);lB(this,"scrollMove","moveOnMouseWheel",n,{scrollDelta:d,originX:s,originY:l,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(n){if(!Zre(this._zr,"globalPan")){var r=n.pinchScale>1?1.1:1/1.1;lB(this,"zoom",null,n,{scale:r,originX:n.pinchX,originY:n.pinchY,isAvailableBehavior:null})}},e})(ec);function lB(t,e,n,r,i){t.pointerChecker&&t.pointerChecker(r,i.originX,i.originY)&&(ph(r.event),Bxe(t,e,n,r,i))}function Bxe(t,e,n,r,i){i.isAvailableBehavior=vn(Xk,null,n,r),t.trigger(e,i)}function Xk(t,e,n){var r=n[t];return!t||r&&(!fn(r)||e.event[r+"Key"])}function x9(t,e,n){var r=t.target;r.x+=e,r.y+=n,r.dirty()}function C9(t,e,n,r){var i=t.target,o=t.zoomLimit,a=t.zoom=t.zoom||1;if(a*=e,o){var s=o.min||0,l=o.max||1/0;a=Math.max(Math.min(l,a),s)}var u=a/t.zoom;t.zoom=a,i.x-=(n-i.x)*(u-1),i.y-=(r-i.y)*(u-1),i.scaleX*=u,i.scaleY*=u,i.dirty()}var xOt={axisPointer:1,tooltip:1,brush:1};function ZR(t,e,n){var r=e.getComponentByElement(t.topTarget),i=r&&r.coordinateSystem;return r&&r!==n&&!xOt.hasOwnProperty(r.mainType)&&i&&i.model!==n}function $xe(t){if(fn(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}var n=t;for(n.nodeType===9&&(n=n.firstChild);n.nodeName.toLowerCase()!=="svg"||n.nodeType!==1;)n=n.nextSibling;return n}var uB,rO={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Jre=Ur(rO),iO={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Qre=Ur(iO),COt=(function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(e,n){n=n||{};var r=$xe(e);this._defsUsePending=[];var i=new nr;this._root=i;var o=[],a=r.getAttribute("viewBox")||"",s=parseFloat(r.getAttribute("width")||n.width),l=parseFloat(r.getAttribute("height")||n.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),Dl(r,i,null,!0,!1);for(var u=r.firstChild;u;)this._parseNode(u,i,o,null,!1,!1),u=u.nextSibling;AOt(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(a){var d=JR(a);d.length>=4&&(c={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(c&&s!=null&&l!=null&&(f=Vxe(c,{x:0,y:0,width:s,height:l}),!n.ignoreViewBox)){var h=i;i=new nr,i.add(h),h.scaleX=h.scaleY=f.scale,h.x=f.x,h.y=f.y}return!n.ignoreRootClip&&s!=null&&l!=null&&i.setClipPath(new Jr({shape:{x:0,y:0,width:s,height:l}})),{root:i,width:s,height:l,viewBoxRect:c,viewBoxTransform:f,named:o}},t.prototype._parseNode=function(e,n,r,i,o,a){var s=e.nodeName.toLowerCase(),l,u=i;if(s==="defs"&&(o=!0),s==="text"&&(a=!0),s==="defs"||s==="switch")l=n;else{if(!o){var c=uB[s];if(c&&Cn(uB,s)){l=c.call(this,e,n);var f=e.getAttribute("name");if(f){var d={name:f,namedFrom:null,svgNodeTagLower:s,el:l};r.push(d),s==="g"&&(u=d)}else i&&r.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:l});n.add(l)}}var h=eie[s];if(h&&Cn(eie,s)){var p=h.call(this,e),v=e.getAttribute("id");v&&(this._defs[v]=p)}}if(l&&l.isGroup)for(var g=e.firstChild;g;)g.nodeType===1?this._parseNode(g,l,r,u,o,a):g.nodeType===3&&a&&this._parseText(g,l),g=g.nextSibling},t.prototype._parseText=function(e,n){var r=new I1({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});fu(n,r),Dl(e,r,this._defsUsePending,!1,!1),EOt(r,n);var i=r.style,o=i.fontSize;o&&o<9&&(i.fontSize=9,r.scaleX*=o/9,r.scaleY*=o/9);var a=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=a;var s=r.getBoundingRect();return this._textX+=s.width,n.add(r),r},t.internalField=(function(){uB={g:function(e,n){var r=new nr;return fu(n,r),Dl(e,r,this._defsUsePending,!1,!1),r},rect:function(e,n){var r=new Jr;return fu(n,r),Dl(e,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(e,n){var r=new Nh;return fu(n,r),Dl(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),r.silent=!0,r},line:function(e,n){var r=new Sa;return fu(n,r),Dl(e,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(e,n){var r=new PR;return fu(n,r),Dl(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(e,n){var r=e.getAttribute("points"),i;r&&(i=rie(r));var o=new ul({shape:{points:i||[]},silent:!0});return fu(n,o),Dl(e,o,this._defsUsePending,!1,!1),o},polyline:function(e,n){var r=e.getAttribute("points"),i;r&&(i=rie(r));var o=new cl({shape:{points:i||[]},silent:!0});return fu(n,o),Dl(e,o,this._defsUsePending,!1,!1),o},image:function(e,n){var r=new qa;return fu(n,r),Dl(e,r,this._defsUsePending,!1,!1),r.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),r.silent=!0,r},text:function(e,n){var r=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",o=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(o),this._textY=parseFloat(i)+parseFloat(a);var s=new nr;return fu(n,s),Dl(e,s,this._defsUsePending,!1,!0),s},tspan:function(e,n){var r=e.getAttribute("x"),i=e.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),i!=null&&(this._textY=parseFloat(i));var o=e.getAttribute("dx")||"0",a=e.getAttribute("dy")||"0",s=new nr;return fu(n,s),Dl(e,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(a),s},path:function(e,n){var r=e.getAttribute("d")||"",i=P_e(r);return fu(n,i),Dl(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}})(),t})(),eie={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),n=parseInt(t.getAttribute("y1")||"0",10),r=parseInt(t.getAttribute("x2")||"10",10),i=parseInt(t.getAttribute("y2")||"0",10),o=new U2(e,n,r,i);return tie(t,o),nie(t,o),o},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),n=parseInt(t.getAttribute("cy")||"0",10),r=parseInt(t.getAttribute("r")||"0",10),i=new L_e(e,n,r);return tie(t,i),nie(t,i),i}};function tie(t,e){var n=t.getAttribute("gradientUnits");n==="userSpaceOnUse"&&(e.global=!0)}function nie(t,e){for(var n=t.firstChild;n;){if(n.nodeType===1&&n.nodeName.toLocaleLowerCase()==="stop"){var r=n.getAttribute("offset"),i=void 0;r&&r.indexOf("%")>0?i=parseInt(r,10)/100:r?i=parseFloat(r):i=0;var o={};Fxe(n,o,o);var a=o.stopColor||n.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:i,color:a})}n=n.nextSibling}}function fu(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Yn(e.__inheritedStyle,t.__inheritedStyle))}function rie(t){for(var e=JR(t),n=[],r=0;r<e.length;r+=2){var i=parseFloat(e[r]),o=parseFloat(e[r+1]);n.push([i,o])}return n}function Dl(t,e,n,r,i){var o=e,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};t.nodeType===1&&(POt(t,e),Fxe(t,a,s),r||OOt(t,a,s)),o.style=o.style||{},a.fill!=null&&(o.style.fill=iie(o,"fill",a.fill,n)),a.stroke!=null&&(o.style.stroke=iie(o,"stroke",a.stroke,n)),ie(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){a[l]!=null&&(o.style[l]=parseFloat(a[l]))}),ie(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){a[l]!=null&&(o.style[l]=a[l])}),i&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=kt(JR(a.lineDash),function(l){return parseFloat(l)})),(a.visibility==="hidden"||a.visibility==="collapse")&&(o.invisible=!0),a.display==="none"&&(o.ignore=!0)}function EOt(t,e){var n=e.__selfStyle;if(n){var r=n.textBaseline,i=r;!r||r==="auto"||r==="baseline"?i="alphabetic":r==="before-edge"||r==="text-before-edge"?i="top":r==="after-edge"||r==="text-after-edge"?i="bottom":(r==="central"||r==="mathematical")&&(i="middle"),t.style.textBaseline=i}var o=e.__inheritedStyle;if(o){var a=o.textAlign,s=a;a&&(a==="middle"&&(s="center"),t.style.textAlign=s)}}var TOt=/^url\(\s*#(.*?)\)/;function iie(t,e,n,r){var i=n&&n.match(TOt);if(i){var o=pc(i[1]);r.push([t,e,o]);return}return n==="none"&&(n=null),n}function AOt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r[0].style[r[1]]=t[r[2]]}}var kOt=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function JR(t){return t.match(kOt)||[]}var MOt=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,cB=Math.PI/180;function POt(t,e){var n=t.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=[],i=null;n.replace(MOt,function(f,d,h){return r.push(d,h),""});for(var o=r.length-1;o>0;o-=2){var a=r[o],s=r[o-1],l=JR(a);switch(i=i||Jl(),s){case"translate":ed(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":mG(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Ey(i,i,-parseFloat(l[0])*cB,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*cB);Xd(i,[1,0,u,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(l[0])*cB);Xd(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}e.setLocalTransform(i)}}var oie=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Fxe(t,e,n){var r=t.getAttribute("style");if(r){oie.lastIndex=0;for(var i;(i=oie.exec(r))!=null;){var o=i[1],a=Cn(rO,o)?rO[o]:null;a&&(e[a]=i[2]);var s=Cn(iO,o)?iO[o]:null;s&&(n[s]=i[2])}}}function OOt(t,e,n){for(var r=0;r<Jre.length;r++){var i=Jre[r],o=t.getAttribute(i);o!=null&&(e[rO[i]]=o)}for(var r=0;r<Qre.length;r++){var i=Qre[r],o=t.getAttribute(i);o!=null&&(n[iO[i]]=o)}}function Vxe(t,e){var n=e.width/t.width,r=e.height/t.height,i=Math.min(n,r);return{scale:i,x:-(t.x+t.width/2)*i+(e.x+e.width/2),y:-(t.y+t.height/2)*i+(e.y+e.height/2)}}function IOt(t,e){var n=new COt;return n.parse(t,e)}var ROt=Mn(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),LOt=(function(){function t(e,n){this.type="geoSVG",this._usedGraphicMap=Mn(),this._freedGraphics=[],this._mapName=e,this._parsedXML=$xe(n)}return t.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var n=NOt(e.named),r=n.regions,i=n.regionsMap;this._regions=r,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(e){var n,r;try{n=e&&IOt(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=n.root,al(r!=null)}catch(g){throw new Error(`Invalid svg format
`+g.message)}var i=new nr;i.add(r),i.isGeoSVGGraphicRoot=!0;var o=n.width,a=n.height,s=n.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,d=void 0;if(o!=null?(u=0,f=o):s&&(u=s.x,f=s.width),a!=null?(c=0,d=a):s&&(c=s.y,d=s.height),u==null||c==null){var h=r.getBoundingRect();u==null&&(u=h.x,f=h.width),c==null&&(c=h.y,d=h.height)}l=this._boundingRect=new xr(u,c,f,d)}if(s){var p=Vxe(s,l);r.scaleX=r.scaleY=p.scale,r.x=p.x,r.y=p.y}i.setClipPath(new Jr({shape:l.plain()}));var v=[];return ie(n.named,function(g){ROt.get(g.svgNodeTagLower)!=null&&(v.push(g),DOt(g.el))}),{root:i,boundingRect:l,named:v}},t.prototype.useGraphic=function(e){var n=this._usedGraphicMap,r=n.get(e);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),n.set(e,r),r)},t.prototype.freeGraphic=function(e){var n=this._usedGraphicMap,r=n.get(e);r&&(n.removeKey(e),this._freedGraphics.push(r))},t})();function DOt(t){t.silent=!1,t.isGroup&&t.traverse(function(e){e.silent=!1})}function NOt(t){var e=[],n=Mn();return ie(t,function(r){if(r.namedFrom==null){var i=new Pkt(r.name,r.el);e.push(i),n.set(r.name,i)}}),{regions:e,regionsMap:n}}var n6=[126,25],aie="",Og=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Eg=0;Eg<Og.length;Eg++)for(var w0=0;w0<Og[Eg].length;w0++)Og[Eg][w0][0]/=10.5,Og[Eg][w0][1]/=-10.5/.75,Og[Eg][w0][0]+=n6[0],Og[Eg][w0][1]+=n6[1];function BOt(t,e){if(t==="china"){for(var n=0;n<e.length;n++)if(e[n].name===aie)return;e.push(new NSe(aie,kt(Og,function(r){return{type:"polygon",exterior:r}}),n6))}}var $Ot={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function FOt(t,e){if(t==="china"){var n=$Ot[e.name];if(n){var r=e.getCenter();r[0]+=n[0]/10.5,r[1]+=-n[1]/(10.5/.75),e.setCenter(r)}}}var VOt=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function zOt(t,e){t==="china"&&e.name===""&&e.geometries.push({type:"polygon",exterior:VOt[0]})}var HOt="name",jOt=(function(){function t(e,n,r){this.type="geoJSON",this._parsedMap=Mn(),this._mapName=e,this._specialAreas=r,this._geoJSON=UOt(n)}return t.prototype.load=function(e,n){n=n||HOt;var r=this._parsedMap.get(n);if(!r){var i=this._parseToRegions(n);r=this._parsedMap.set(n,{regions:i,boundingRect:GOt(i)})}var o=Mn(),a=[];return ie(r.regions,function(s){var l=s.name;e&&Cn(e,l)&&(s=s.cloneShallow(l=e[l])),a.push(s),o.set(l,s)}),{regions:a,boundingRect:r.boundingRect||new xr(0,0,0,0),regionsMap:o}},t.prototype._parseToRegions=function(e){var n=this._mapName,r=this._geoJSON,i;try{i=r?Ikt(r,e):[]}catch(o){throw new Error(`Invalid geoJson format
`+o.message)}return BOt(n,i),ie(i,function(o){var a=o.name;FOt(n,o),zOt(n,o);var s=this._specialAreas&&this._specialAreas[a];s&&o.transformTo(s.left,s.top,s.width,s.height)},this),i},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t})();function GOt(t){for(var e,n=0;n<t.length;n++){var r=t[n].getBoundingRect();e=e||r.clone(),e.union(r)}return e}function UOt(t){return fn(t)?typeof JSON<"u"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t}var Vw=Mn();const bh={registerMap:function(t,e,n){if(e.svg){var r=new LOt(t,e.svg);Vw.set(t,r)}else{var i=e.geoJson||e.geoJSON;i&&!e.features?n=e.specialAreas:i=e;var r=new jOt(t,i,n);Vw.set(t,r)}},getGeoResource:function(t){return Vw.get(t)},getMapForUser:function(t){var e=Vw.get(t);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(t,e,n){var r=Vw.get(t);if(r)return r.load(e,n)}};var E9=["rect","circle","line","ellipse","polygon","polyline","path"],WOt=Mn(E9),qOt=Mn(E9.concat(["g"])),KOt=Mn(E9.concat(["g"])),zxe=Qr();function hA(t){var e=t.getItemStyle(),n=t.get("areaColor");return n!=null&&(e.fill=n),e}function sie(t){var e=t.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var Hxe=(function(){function t(e){var n=new nr;this.uid=I_("ec_map_draw"),this._controller=new iE(e.getZr()),this._controllerHost={target:n},this.group=n,n.add(this._regionsGroup=new nr),n.add(this._svgGroup=new nr)}return t.prototype.draw=function(e,n,r,i,o){var a=e.mainType==="geo",s=e.getData&&e.getData();a&&n.eachComponent({mainType:"series",subType:"map"},function(m){!s&&m.getHostGeoModel()===e&&(s=m.getData())});var l=e.coordinateSystem,u=this._regionsGroup,c=this.group,f=l.getTransformInfo(),d=f.raw,h=f.roam,p=!u.childAt(0)||o;p?(c.x=h.x,c.y=h.y,c.scaleX=h.scaleX,c.scaleY=h.scaleY,c.dirty()):si(c,h,e);var v=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,g={api:r,geo:l,mapOrGeoModel:e,data:s,isVisualEncodedByVisualMap:v,isGeo:a,transformInfoRaw:d};l.resourceType==="geoJSON"?this._buildGeoJSON(g):l.resourceType==="geoSVG"&&this._buildSVG(g),this._updateController(e,n,r),this._updateMapSelectHandler(e,u,r,i)},t.prototype._buildGeoJSON=function(e){var n=this._regionsGroupByName=Mn(),r=Mn(),i=this._regionsGroup,o=e.transformInfoRaw,a=e.mapOrGeoModel,s=e.data,l=e.geo.projection,u=l&&l.stream;function c(h,p){return p&&(h=p(h)),h&&[h[0]*o.scaleX+o.x,h[1]*o.scaleY+o.y]}function f(h){for(var p=[],v=!u&&l&&l.project,g=0;g<h.length;++g){var m=c(h[g],v);m&&p.push(m)}return p}function d(h){return{shape:{points:f(h)}}}i.removeAll(),ie(e.geo.regions,function(h){var p=h.name,v=n.get(p),g=r.get(p)||{},m=g.dataIdx,y=g.regionModel;if(!v){v=n.set(p,new nr),i.add(v),m=s?s.indexOfName(p):null,y=e.isGeo?a.getRegionModel(p):s?s.getItemModel(m):null;var b=y.get("silent",!0);b!=null&&(v.silent=b),r.set(p,{dataIdx:m,regionModel:y})}var w=[],S=[];ie(h.geometries,function(E){if(E.type==="polygon"){var T=[E.exterior].concat(E.interiors||[]);u&&(T=hie(T,u)),ie(T,function(k){w.push(new ul(d(k)))})}else{var A=E.points;u&&(A=hie(A,u,!0)),ie(A,function(k){S.push(new cl(d(k)))})}});var x=c(h.getCenter(),l&&l.project);function C(E,T){if(E.length){var A=new NG({culling:!0,segmentIgnoreThreshold:1,shape:{paths:E}});v.add(A),lie(e,A,m,y),uie(e,A,p,y,a,m,x),T&&(sie(A),ie(A.states,sie))}}C(w),C(S,!0)}),n.each(function(h,p){var v=r.get(p),g=v.dataIdx,m=v.regionModel;cie(e,h,p,m,a,g),fie(e,h,p,m,a),die(e,h,p,m,a)},this)},t.prototype._buildSVG=function(e){var n=e.geo.map,r=e.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(n)&&(this._freeSVG(),this._useSVG(n));var i=this._svgDispatcherMap=Mn(),o=!1;ie(this._svgGraphicRecord.named,function(a){var s=a.name,l=e.mapOrGeoModel,u=e.data,c=a.svgNodeTagLower,f=a.el,d=u?u.indexOfName(s):null,h=l.getRegionModel(s);WOt.get(c)!=null&&f instanceof Zu&&lie(e,f,d,h),f instanceof Zu&&(f.culling=!0);var p=h.get("silent",!0);if(p!=null&&(f.silent=p),f.z2EmphasisLift=0,!a.namedFrom&&(KOt.get(c)!=null&&uie(e,f,s,h,l,d,null),cie(e,f,s,h,l,d),fie(e,f,s,h,l),qOt.get(c)!=null)){var v=die(e,f,s,h,l);v==="self"&&(o=!0);var g=i.get(s)||i.set(s,[]);g.push(f)}},this),this._enableBlurEntireSVG(o,e)},t.prototype._enableBlurEntireSVG=function(e,n){if(e&&n.isGeo){var r=n.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=r.opacity;this._svgGraphicRecord.root.traverse(function(o){if(!o.isGroup){ey(o);var a=o.ensureState("blur").style||{};a.opacity==null&&i!=null&&(a.opacity=i),o.ensureState("emphasis")}})}},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},t.prototype.findHighDownDispatchers=function(e,n){if(e==null)return[];var r=n.coordinateSystem;if(r.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var o=i.get(e);return o?[o]:[]}}else if(r.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},t.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},t.prototype._useSVG=function(e){var n=bh.getGeoResource(e);if(n&&n.type==="geoSVG"){var r=n.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=e}},t.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var n=bh.getGeoResource(e);n&&n.type==="geoSVG"&&n.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},t.prototype._updateController=function(e,n,r){var i=e.coordinateSystem,o=this._controller,a=this._controllerHost;a.zoomLimit=e.get("scaleLimit"),a.zoom=i.getZoom(),o.enable(e.get("roam")||!1);var s=e.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=e.id,u}o.off("pan").on("pan",function(u){this._mouseDownFlag=!1,x9(a,u.dx,u.dy),r.dispatchAction(yt(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,C9(a,u.scale,u.originX,u.originY),r.dispatchAction(yt(l(),{totalZoom:a.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),o.setPointerChecker(function(u,c,f){return i.containPoint([c,f])&&!ZR(u,r,e)})},t.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var n=e.getTextContent();n&&(n.ignore=zxe(n).ignore)})},t.prototype._updateMapSelectHandler=function(e,n,r,i){var o=this;n.off("mousedown"),n.off("click"),e.get("selectedMode")&&(n.on("mousedown",function(){o._mouseDownFlag=!0}),n.on("click",function(a){o._mouseDownFlag&&(o._mouseDownFlag=!1)}))},t})();function lie(t,e,n,r){var i=r.getModel("itemStyle"),o=r.getModel(["emphasis","itemStyle"]),a=r.getModel(["blur","itemStyle"]),s=r.getModel(["select","itemStyle"]),l=hA(i),u=hA(o),c=hA(s),f=hA(a),d=t.data;if(d){var h=d.getItemVisual(n,"style"),p=d.getItemVisual(n,"decal");t.isVisualEncodedByVisualMap&&h.fill&&(l.fill=h.fill),p&&(l.decal=D1(p,t.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=c,e.ensureState("blur").style=f,ey(e)}function uie(t,e,n,r,i,o,a){var s=t.data,l=t.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),o)),c=s&&s.getItemLayout(o);if(l||u||c&&c.showLabel){var f=l?n:o,d=void 0;(!s||o>=0)&&(d=i);var h=a?{normal:{align:"center",verticalAlign:"middle"}}:null;us(e,Pa(r),{labelFetcher:d,labelDataIndex:f,defaultText:n},h);var p=e.getTextContent();if(p&&(zxe(p).ignore=p.ignore,e.textConfig&&a)){var v=e.getBoundingRect().clone();e.textConfig.layoutRect=v,e.textConfig.position=[(a[0]-v.x)/v.width*100+"%",(a[1]-v.y)/v.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function cie(t,e,n,r,i,o){t.data?t.data.setItemGraphicEl(o,e):ar(e).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:n,region:r&&r.option||{}}}function fie(t,e,n,r,i){t.data||Ty({el:e,componentModel:i,itemName:n,itemTooltipOption:r.get("tooltip")})}function die(t,e,n,r,i){e.highDownSilentOnTouch=!!i.get("selectedMode");var o=r.getModel("emphasis"),a=o.get("focus");return go(e,a,o.get("blurScope"),o.get("disabled")),t.isGeo&&qCt(e,i,n),a}function hie(t,e,n){var r=[],i;function o(){i=[]}function a(){i.length&&(r.push(i),i=[])}var s=e({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!n&&s.polygonStart(),ie(t,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!n&&s.polygonEnd(),r}var YOt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i,o){if(!(o&&o.type==="mapToggleSelect"&&o.from===this.uid)){var a=this.group;if(a.removeAll(),!n.getHostGeoModel()){if(this._mapDraw&&o&&o.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),o&&o.type==="geoRoam"&&o.componentType==="series"&&o.seriesId===n.id){var s=this._mapDraw;s&&a.add(s.group)}else if(n.needsDrawMap){var s=this._mapDraw||new Hxe(i);a.add(s.group),s.draw(n,r,i,this,o),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;n.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(n,r,i)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(n,r,i){var o=n.originalData,a=this.group;o.each(o.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=o.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,d=new Nh({style:{fill:n.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:M_+1)});if(!f){var h=n.mainSeries.getData(),p=o.getName(l),v=h.indexOfName(p),g=o.getItemModel(l),m=g.getModel("label"),y=h.getItemGraphicEl(v);us(d,Pa(g),{labelFetcher:{getFormattedLabel:function(b,w){return n.getFormattedLabel(v,w)}},defaultText:p}),d.disableLabelAnimation=!0,m.get("position")||d.setTextConfig({position:"bottom"}),y.onHoverStateChange=function(b){NP(d,b)}}a.add(d)}}})},e.type="map",e})(Oi),XOt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(r){if(r!=null){var i=this.getData().getName(r),o=this.coordinateSystem,a=o.getRegion(i);return a&&o.dataToPoint(a.getCenter())}},n}return e.prototype.getInitialData=function(n){for(var r=V_(this,{coordDimensions:["value"],encodeDefaulter:hr(WG,this)}),i=Mn(),o=[],a=0,s=r.count();a<s;a++){var l=r.getName(a);i.set(l,a)}var u=bh.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return ie(u.regions,function(c){var f=c.name,d=i.get(f),h=c.properties&&c.properties.echartsStyle,p;d==null?(p={name:f},o.push(p)):p=r.getRawDataItem(d),h&&mr(p,h)}),r.appendData(o),r},e.prototype.getHostGeoModel=function(){var n=this.option.geoIndex;return n!=null?this.ecModel.getComponent("geo",n):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(n){var r=this.getData();return r.get(r.mapDimension("value"),n)},e.prototype.getRegionModel=function(n){var r=this.getData();return r.getItemModel(r.indexOfName(n))},e.prototype.formatTooltip=function(n,r,i){for(var o=this.getData(),a=this.getRawValue(n),s=o.getName(n),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(s),d=o.mapDimension("value");isNaN(l[c].originalData.get(d,f))||u.push(l[c].name)}return Oa("section",{header:u.join(", "),noHeader:!u.length,blocks:[Oa("nameValue",{name:s,value:a})]})},e.prototype.setZoom=function(n){this.option.zoom=n},e.prototype.setCenter=function(n){this.option.center=n},e.prototype.getLegendIcon=function(n){var r=n.icon||"roundRect",i=ra(r,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill);return i.setStyle(n.itemStyle),i.style.stroke="none",r.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e})(Ui);function ZOt(t,e){var n={};return ie(t,function(r){r.each(r.mapDimension("value"),function(i,o){var a="ec-"+r.getName(o);n[a]=n[a]||[],isNaN(i)||n[a].push(i)})}),t[0].map(t[0].mapDimension("value"),function(r,i){for(var o="ec-"+t[0].getName(i),a=0,s=1/0,l=-1/0,u=n[o].length,c=0;c<u;c++)s=Math.min(s,n[o][c]),l=Math.max(l,n[o][c]),a+=n[o][c];var f;return e==="min"?f=s:e==="max"?f=l:e==="average"?f=a/u:f=a,u===0?NaN:f})}function JOt(t){var e={};t.eachSeriesByType("map",function(n){var r=n.getHostGeoModel(),i=r?"o"+r.id:"i"+n.getMapType();(e[i]=e[i]||[]).push(n)}),ie(e,function(n,r){for(var i=ZOt(kt(n,function(a){return a.getData()}),n[0].get("mapValueCalculation")),o=0;o<n.length;o++)n[o].originalData=n[o].getData();for(var o=0;o<n.length;o++)n[o].seriesGroup=n,n[o].needsDrawMap=o===0&&!n[o].getHostGeoModel(),n[o].setData(i.cloneShallow()),n[o].mainSeries=n[0]})}function QOt(t){var e={};t.eachSeriesByType("map",function(n){var r=n.getMapType();if(!(n.getHostGeoModel()||e[r])){var i={};ie(n.seriesGroup,function(a){var s=a.coordinateSystem,l=a.originalData;a.get("showLegendSymbol")&&t.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),d=s.getRegion(f);if(!(!d||isNaN(u))){var h=i[f]||0,p=s.dataToPoint(d.getCenter());i[f]=h+1,l.setItemLayout(c,{point:p,offset:h})}})});var o=n.getData();o.each(function(a){var s=o.getName(a),l=o.getItemLayout(a)||{};l.showLabel=!i[s],o.setItemLayout(a,l)}),e[r]=!0}})}var pie=as,oE=(function(t){nt(e,t);function e(n){var r=t.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new zd,r._rawTransformable=new zd,r.name=n,r}return e.prototype.setBoundingRect=function(n,r,i,o){return this._rect=new xr(n,r,i,o),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(n,r,i,o){this._transformTo(n,r,i,o),this._viewRect=new xr(n,r,i,o)},e.prototype._transformTo=function(n,r,i,o){var a=this.getBoundingRect(),s=this._rawTransformable;s.transform=a.calculateTransform(new xr(n,r,i,o));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},e.prototype.setCenter=function(n,r){n&&(this._center=[on(n[0],r.getWidth()),on(n[1],r.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(n){n=n||1;var r=this.zoomLimit;r&&(r.max!=null&&(n=Math.min(r.max,n)),r.min!=null&&(n=Math.max(r.min,n))),this._zoom=n,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var n=this.getBoundingRect(),r=n.x+n.width/2,i=n.y+n.height/2;return[r,i]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var n=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,i=this.getDefaultCenter(),o=this.getCenter(),a=this.getZoom();o=as([],o,n),i=as([],i,n),r.originX=o[0],r.originY=o[1],r.x=i[0]-o[0],r.y=i[1]-o[1],r.scaleX=r.scaleY=a,this._updateTransform()},e.prototype._updateTransform=function(){var n=this._roamTransformable,r=this._rawTransformable;r.parent=n,n.updateTransform(),r.updateTransform(),gG(this.transform||(this.transform=[]),r.transform||Jl()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],A_(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var n=this._rawTransformable,r=this._roamTransformable,i=new zd;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var n=this.getBoundingRect().clone();return n.applyTransform(this.transform),n},e.prototype.dataToPoint=function(n,r,i){var o=r?this._rawTransform:this.transform;return i=i||[],o?pie(i,n,o):Gs(i,n)},e.prototype.pointToData=function(n){var r=this.invTransform;return r?pie([],n,r):[n[0],n[1]]},e.prototype.convertToPixel=function(n,r,i){var o=vie(r);return o===this?o.dataToPoint(i):null},e.prototype.convertFromPixel=function(n,r,i){var o=vie(r);return o===this?o.pointToData(i):null},e.prototype.containPoint=function(n){return this.getViewRectAfterRoam().contain(n[0],n[1])},e.dimensions=["x","y"],e})(zd);function vie(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var eIt={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},jxe=["lng","lat"],r6=(function(t){nt(e,t);function e(n,r,i){var o=t.call(this,n)||this;o.dimensions=jxe,o.type="geo",o._nameCoordMap=Mn(),o.map=r;var a=i.projection,s=bh.load(r,i.nameMap,i.nameProperty),l=bh.getGeoResource(r);o.resourceType=l?l.type:null;var u=o.regions=s.regions,c=eIt[l.type];o._regionsMap=s.regionsMap,o.regions=s.regions,o.projection=a;var f;if(a)for(var d=0;d<u.length;d++){var h=u[d].getBoundingRect(a);f=f||h.clone(),f.union(h)}else f=s.boundingRect;return o.setBoundingRect(f.x,f.y,f.width,f.height),o.aspectScale=a?1:dr(i.aspectScale,c.aspectScale),o._invertLongitute=a?!1:c.invertLongitute,o}return e.prototype._transformTo=function(n,r,i,o){var a=this.getBoundingRect(),s=this._invertLongitute;a=a.clone(),s&&(a.y=-a.y-a.height);var l=this._rawTransformable;l.transform=a.calculateTransform(new xr(n,r,i,o));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(n){return this._regionsMap.get(n)},e.prototype.getRegionByCoord=function(n){for(var r=this.regions,i=0;i<r.length;i++){var o=r[i];if(o.type==="geoJSON"&&o.contain(n))return r[i]}},e.prototype.addGeoCoord=function(n,r){this._nameCoordMap.set(n,r)},e.prototype.getGeoCoord=function(n){var r=this._regionsMap.get(n);return this._nameCoordMap.get(n)||r&&r.getCenter()},e.prototype.dataToPoint=function(n,r,i){if(fn(n)&&(n=this.getGeoCoord(n)),n){var o=this.projection;return o&&(n=o.project(n)),n&&this.projectedToPoint(n,r,i)}},e.prototype.pointToData=function(n){var r=this.projection;return r&&(n=r.unproject(n)),n&&this.pointToProjected(n)},e.prototype.pointToProjected=function(n){return t.prototype.pointToData.call(this,n)},e.prototype.projectedToPoint=function(n,r,i){return t.prototype.dataToPoint.call(this,n,r,i)},e.prototype.convertToPixel=function(n,r,i){var o=gie(r);return o===this?o.dataToPoint(i):null},e.prototype.convertFromPixel=function(n,r,i){var o=gie(r);return o===this?o.pointToData(i):null},e})(oE);ia(r6,oE);function gie(t){var e=t.geoModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",Qo).models[0]||{}).coordinateSystem:null}function mie(t,e){var n=t.get("boundingCoords");if(n!=null){var r=n[0],i=n[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var o=this.projection;if(o){var a=r[0],s=r[1],l=i[0],u=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var c=function(x,C,E,T){for(var A=E-x,k=T-C,M=0;M<=100;M++){var D=M/100,L=o.project([x+A*D,C+k*D]);Pp(r,r,L),Op(i,i,L)}};c(a,s,l,s),c(l,s,l,u),c(l,u,a,u),c(a,u,l,s)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}}var f=this.getBoundingRect(),d=t.get("layoutCenter"),h=t.get("layoutSize"),p=e.getWidth(),v=e.getHeight(),g=f.width/f.height*this.aspectScale,m=!1,y,b;d&&h&&(y=[on(d[0],p),on(d[1],v)],b=on(h,Math.min(p,v)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(b)&&(m=!0));var w;if(m)w={},g>1?(w.width=b,w.height=b/g):(w.height=b,w.width=b*g),w.y=y[1]-w.height/2,w.x=y[0]-w.width/2;else{var S=t.getBoxLayoutParams();S.aspect=g,w=ha(S,{width:p,height:v})}this.setViewRect(w.x,w.y,w.width,w.height),this.setCenter(t.get("center"),e),this.setZoom(t.get("zoom"))}function tIt(t,e){ie(e.get("geoCoord"),function(n,r){t.addGeoCoord(r,n)})}var nIt=(function(){function t(){this.dimensions=jxe}return t.prototype.create=function(e,n){var r=[];function i(a){return{nameProperty:a.get("nameProperty"),aspectScale:a.get("aspectScale"),projection:a.get("projection")}}e.eachComponent("geo",function(a,s){var l=a.get("map"),u=new r6(l+s,l,yt({nameMap:a.get("nameMap")},i(a)));u.zoomLimit=a.get("scaleLimit"),r.push(u),a.coordinateSystem=u,u.model=a,u.resize=mie,u.resize(a,n)}),e.eachSeries(function(a){var s=a.get("coordinateSystem");if(s==="geo"){var l=a.get("geoIndex")||0;a.coordinateSystem=r[l]}});var o={};return e.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var s=a.getMapType();o[s]=o[s]||[],o[s].push(a)}}),ie(o,function(a,s){var l=kt(a,function(c){return c.get("nameMap")}),u=new r6(s,s,yt({nameMap:dG(l)},i(a[0])));u.zoomLimit=Va.apply(null,kt(a,function(c){return c.get("scaleLimit")})),r.push(u),u.resize=mie,u.resize(a[0],n),ie(a,function(c){c.coordinateSystem=u,tIt(u,c)})}),r},t.prototype.getFilledRegions=function(e,n,r,i){for(var o=(e||[]).slice(),a=Mn(),s=0;s<o.length;s++)a.set(o[s].name,o[s]);var l=bh.load(n,r,i);return ie(l.regions,function(u){var c=u.name,f=a.get(c),d=u.properties&&u.properties.echartsStyle;f||(f={name:c},o.push(f)),d&&mr(f,d)}),o},t})(),Gxe=new nIt,rIt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r,i){var o=bh.getGeoResource(n.map);if(o&&o.type==="geoJSON"){var a=n.itemStyle=n.itemStyle||{};"color"in a||(a.color="#eee")}this.mergeDefaultAndTheme(n,i),Zm(n,"label",["show"])},e.prototype.optionUpdated=function(){var n=this,r=this.option;r.regions=Gxe.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var i={};this._optionModelMap=Qf(r.regions||[],function(o,a){var s=a.name;return s&&(o.set(s,new Ci(a,n,n.ecModel)),a.selected&&(i[s]=!0)),o},Mn()),r.selectedMap||(r.selectedMap=i)},e.prototype.getRegionModel=function(n){return this._optionModelMap.get(n)||new Ci(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(n,r){var i=this.getRegionModel(n),o=r==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),a={name:n};if(qn(o))return a.status=r,o(a);if(fn(o))return o.replace("{a}",n??"")},e.prototype.setZoom=function(n){this.option.zoom=n},e.prototype.setCenter=function(n){this.option.center=n},e.prototype.select=function(n){var r=this.option,i=r.selectedMode;if(i){i!=="multiple"&&(r.selectedMap=null);var o=r.selectedMap||(r.selectedMap={});o[n]=!0}},e.prototype.unSelect=function(n){var r=this.option.selectedMap;r&&(r[n]=!1)},e.prototype.toggleSelected=function(n){this[this.isSelected(n)?"unSelect":"select"](n)},e.prototype.isSelected=function(n){var r=this.option.selectedMap;return!!(r&&r[n])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e})(Gr);function yie(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function T9(t,e,n,r){var i=t.getZoom(),o=t.getCenter(),a=e.zoom,s=t.projectedToPoint?t.projectedToPoint(o):t.dataToPoint(o);if(e.dx!=null&&e.dy!=null&&(s[0]-=e.dx,s[1]-=e.dy,t.setCenter(yie(t,s),r)),a!=null){if(n){var l=n.min||0,u=n.max||1/0;a=Math.max(Math.min(i*a,u),l)/i}t.scaleX*=a,t.scaleY*=a;var c=(e.originX-t.x)*(a-1),f=(e.originY-t.y)*(a-1);t.x-=c,t.y-=f,t.updateTransform(),t.setCenter(yie(t,s),r),t.setZoom(a*i)}return{center:t.getCenter(),zoom:t.getZoom()}}var iIt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.focusBlurEnabled=!0,n}return e.prototype.init=function(n,r){this._api=r},e.prototype.render=function(n,r,i,o){if(this._model=n,!n.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new Hxe(i));var a=this._mapDraw;a.draw(n,r,i,this,o),a.group.on("click",this._handleRegionClick,this),a.group.silent=n.get("silent"),this.group.add(a.group),this.updateSelectStatus(n,r,i)},e.prototype._handleRegionClick=function(n){var r;am(n.target,function(i){return(r=ar(i).eventData)!=null},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},e.prototype.updateSelectStatus=function(n,r,i){var o=this;this._mapDraw.group.traverse(function(a){var s=ar(a).eventData;if(s)return o._model.isSelected(s.name)?i.enterSelect(a):i.leaveSelect(a),!0})},e.prototype.findHighDownDispatchers=function(n){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(n,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e})(so);function oIt(t,e,n){bh.registerMap(t,e,n)}function Uxe(t){t.registerCoordinateSystem("geo",Gxe),t.registerComponentModel(rIt),t.registerComponentView(iIt),t.registerImpl("registerMap",oIt),t.registerImpl("getMap",function(n){return bh.getMapForUser(n)});function e(n,r){r.update="geo:updateSelectStatus",t.registerAction(r,function(i,o){var a={},s=[];return o.eachComponent({mainType:"geo",query:i},function(l){l[n](i.name);var u=l.coordinateSystem;ie(u.regions,function(f){a[f.name]=l.isSelected(f.name)||!1});var c=[];ie(a,function(f,d){a[d]&&c.push(d)}),s.push({geoIndex:l.componentIndex,name:c})}),{selected:a,allSelected:s,name:i.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(n,r,i){var o=n.componentType||"series";r.eachComponent({mainType:o,query:n},function(a){var s=a.coordinateSystem;if(s.type==="geo"){var l=T9(s,n,a.get("scaleLimit"),i);a.setCenter&&a.setCenter(l.center),a.setZoom&&a.setZoom(l.zoom),o==="series"&&ie(a.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function aIt(t){Dr(Uxe),t.registerChartView(YOt),t.registerSeriesModel(XOt),t.registerLayout(QOt),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,JOt),Kwe("map",t.registerAction)}function sIt(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n=[e],r,i;r=n.pop();)if(i=r.children,r.isExpand&&i.length)for(var o=i.length,a=o-1;a>=0;a--){var s=i[a];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:a,thread:null},n.push(s)}}function lIt(t,e){var n=t.isExpand?t.children:[],r=t.parentNode.children,i=t.hierNode.i?r[t.hierNode.i-1]:null;if(n.length){fIt(t);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;i?(t.hierNode.prelim=i.hierNode.prelim+e(t,i),t.hierNode.modifier=t.hierNode.prelim-o):t.hierNode.prelim=o}else i&&(t.hierNode.prelim=i.hierNode.prelim+e(t,i));t.parentNode.hierNode.defaultAncestor=dIt(t,i,t.parentNode.hierNode.defaultAncestor||r[0],e)}function uIt(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function bie(t){return arguments.length?t:vIt}function bS(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function cIt(t,e){return ha(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function fIt(t){for(var e=t.children,n=e.length,r=0,i=0;--n>=0;){var o=e[n];o.hierNode.prelim+=r,o.hierNode.modifier+=r,i+=o.hierNode.change,r+=o.hierNode.shift+i}}function dIt(t,e,n,r){if(e){for(var i=t,o=t,a=o.parentNode.children[0],s=e,l=i.hierNode.modifier,u=o.hierNode.modifier,c=a.hierNode.modifier,f=s.hierNode.modifier;s=fB(s),o=dB(o),s&&o;){i=fB(i),a=dB(a),i.hierNode.ancestor=t;var d=s.hierNode.prelim+f-o.hierNode.prelim-u+r(s,o);d>0&&(pIt(hIt(s,t,n),t,d),u+=d,l+=d),f+=s.hierNode.modifier,u+=o.hierNode.modifier,l+=i.hierNode.modifier,c+=a.hierNode.modifier}s&&!fB(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=f-l),o&&!dB(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=u-c,n=t)}return n}function fB(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function dB(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function hIt(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function pIt(t,e,n){var r=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=r,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=r}function vIt(t,e){return t.parentNode===e.parentNode?1:2}var gIt=(function(){function t(){this.parentPoint=[],this.childPoints=[]}return t})(),mIt=(function(t){nt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new gIt},e.prototype.buildPath=function(n,r){var i=r.childPoints,o=i.length,a=r.parentPoint,s=i[0],l=i[o-1];if(o===1){n.moveTo(a[0],a[1]),n.lineTo(s[0],s[1]);return}var u=r.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,d=on(r.forkPosition,1),h=[];h[c]=a[c],h[f]=a[f]+(l[f]-a[f])*d,n.moveTo(a[0],a[1]),n.lineTo(h[0],h[1]),n.moveTo(s[0],s[1]),h[c]=s[c],n.lineTo(h[0],h[1]),h[c]=l[c],n.lineTo(h[0],h[1]),n.lineTo(l[0],l[1]);for(var p=1;p<o-1;p++){var v=i[p];n.moveTo(v[0],v[1]),h[c]=v[c],n.lineTo(h[0],h[1])}},e})($r),yIt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._mainGroup=new nr,n}return e.prototype.init=function(n,r){this._controller=new iE(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(n,r,i){var o=n.getData(),a=n.layoutInfo,s=this._mainGroup,l=n.get("layout");l==="radial"?(s.x=a.x+a.width/2,s.y=a.y+a.height/2):(s.x=a.x,s.y=a.y),this._updateViewCoordSys(n,i),this._updateController(n,r,i);var u=this._data;o.diff(u).add(function(c){_ie(o,c)&&wie(o,c,null,s,n)}).update(function(c,f){var d=u.getItemGraphicEl(f);if(!_ie(o,c)){d&&xie(u,f,d,s,n);return}wie(o,c,d,s,n)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&xie(u,c,f,s,n)}).execute(),this._nodeScaleRatio=n.get("nodeScaleRatio"),this._updateNodeAndLinkScale(n),n.get("expandAndCollapse")===!0&&o.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:n.id,dataIndex:f})})}),this._data=o},e.prototype._updateViewCoordSys=function(n,r){var i=n.getData(),o=[];i.each(function(f){var d=i.getItemLayout(f);d&&!isNaN(d.x)&&!isNaN(d.y)&&o.push([+d.x,+d.y])});var a=[],s=[];AR(o,a,s);var l=this._min,u=this._max;s[0]-a[0]===0&&(a[0]=l?l[0]:a[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-a[1]===0&&(a[1]=l?l[1]:a[1]-1,s[1]=u?u[1]:s[1]+1);var c=n.coordinateSystem=new oE;c.zoomLimit=n.get("scaleLimit"),c.setBoundingRect(a[0],a[1],s[0]-a[0],s[1]-a[1]),c.setCenter(n.get("center"),r),c.setZoom(n.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=a,this._max=s},e.prototype._updateController=function(n,r,i){var o=this,a=this._controller,s=this._controllerHost,l=this.group;a.setPointerChecker(function(u,c,f){var d=l.getBoundingRect();return d.applyTransform(l.transform),d.contain(c,f)&&!ZR(u,i,n)}),a.enable(n.get("roam")),s.zoomLimit=n.get("scaleLimit"),s.zoom=n.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){x9(s,u.dx,u.dy),i.dispatchAction({seriesId:n.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){C9(s,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:n.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(n),i.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(n){var r=n.getData(),i=this._getNodeGlobalScale(n);r.eachItemGraphicEl(function(o,a){o.setSymbolScale(i)})},e.prototype._getNodeGlobalScale=function(n){var r=n.coordinateSystem;if(r.type!=="view")return 1;var i=this._nodeScaleRatio,o=r.scaleX||1,a=r.getZoom(),s=(a-1)*i+1;return s/o},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e})(Oi);function _ie(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)}function wie(t,e,n,r,i){var o=!n,a=t.tree.getNodeByDataIndex(e),s=a.getModel(),l=a.getVisual("style").fill,u=a.isExpand===!1&&a.children.length!==0?l:"#fff",c=t.tree.root,f=a.parentNode===c?a:a.parentNode||a,d=t.getItemGraphicEl(f.dataIndex),h=f.getLayout(),p=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:h,v=a.getLayout();o?(n=new J2(t,e,null,{symbolInnerColor:u,useNameLabel:!0}),n.x=p.x,n.y=p.y):n.updateData(t,e,null,{symbolInnerColor:u,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=v.rawX,n.__radialRawY=v.rawY,r.add(n),t.setItemGraphicEl(e,n),n.__oldX=n.x,n.__oldY=n.y,si(n,{x:v.x,y:v.y},i);var g=n.getSymbolPath();if(i.get("layout")==="radial"){var m=c.children[0],y=m.getLayout(),b=m.children.length,w=void 0,S=void 0;if(v.x===y.x&&a.isExpand===!0&&m.children.length){var x={x:(m.children[0].getLayout().x+m.children[b-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[b-1].getLayout().y)/2};w=Math.atan2(x.y-y.y,x.x-y.x),w<0&&(w=Math.PI*2+w),S=x.x<y.x,S&&(w=w-Math.PI)}else w=Math.atan2(v.y-y.y,v.x-y.x),w<0&&(w=Math.PI*2+w),a.children.length===0||a.children.length!==0&&a.isExpand===!1?(S=v.x<y.x,S&&(w=w-Math.PI)):(S=v.x>y.x,S||(w=w-Math.PI));var C=S?"left":"right",E=s.getModel("label"),T=E.get("rotate"),A=T*(Math.PI/180),k=g.getTextContent();k&&(g.setTextConfig({position:E.get("position")||C,rotation:T==null?-w:A,origin:"center"}),k.setStyle("verticalAlign","middle"))}var M=s.get(["emphasis","focus"]),D=M==="relative"?pC(a.getAncestorsIndices(),a.getDescendantIndices()):M==="ancestor"?a.getAncestorsIndices():M==="descendant"?a.getDescendantIndices():null;D&&(ar(n).focus=D),bIt(i,a,c,n,p,h,v,r),n.__edge&&(n.onHoverStateChange=function(L){if(L!=="blur"){var I=a.parentNode&&t.getItemGraphicEl(a.parentNode.dataIndex);I&&I.hoverState===H2||NP(n.__edge,L)}})}function bIt(t,e,n,r,i,o,a,s){var l=e.getModel(),u=t.get("edgeShape"),c=t.get("layout"),f=t.getOrient(),d=t.get(["lineStyle","curveness"]),h=t.get("edgeForkPosition"),p=l.getModel("lineStyle").getLineStyle(),v=r.__edge;if(u==="curve")e.parentNode&&e.parentNode!==n&&(v||(v=r.__edge=new G2({shape:i6(c,f,d,i,i)})),si(v,{shape:i6(c,f,d,o,a)},t));else if(u==="polyline"&&c==="orthogonal"&&e!==n&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var g=e.children,m=[],y=0;y<g.length;y++){var b=g[y].getLayout();m.push([b.x,b.y])}v||(v=r.__edge=new mIt({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:f,forkPosition:h}})),si(v,{shape:{parentPoint:[a.x,a.y],childPoints:m}},t)}v&&!(u==="polyline"&&!e.isExpand)&&(v.useStyle(Yn({strokeNoScale:!0,fill:null},p)),ls(v,l,"lineStyle"),ey(v),s.add(v))}function Sie(t,e,n,r,i){var o=e.tree.root,a=Wxe(o,t),s=a.source,l=a.sourceLayout,u=e.getItemGraphicEl(t.dataIndex);if(u){var c=e.getItemGraphicEl(s.dataIndex),f=c.__edge,d=u.__edge||(s.isExpand===!1||s.children.length===1?f:void 0),h=r.get("edgeShape"),p=r.get("layout"),v=r.get("orient"),g=r.get(["lineStyle","curveness"]);d&&(h==="curve"?yv(d,{shape:i6(p,v,g,l,l),style:{opacity:0}},r,{cb:function(){n.remove(d)},removeOpt:i}):h==="polyline"&&r.get("layout")==="orthogonal"&&yv(d,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},r,{cb:function(){n.remove(d)},removeOpt:i}))}}function Wxe(t,e){for(var n=e.parentNode===t?e:e.parentNode||e,r;r=n.getLayout(),r==null;)n=n.parentNode===t?n:n.parentNode||n;return{source:n,sourceLayout:r}}function xie(t,e,n,r,i){var o=t.tree.getNodeByDataIndex(e),a=t.tree.root,s=Wxe(a,o).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};yv(n,{x:s.x+1,y:s.y+1},i,{cb:function(){r.remove(n),t.setItemGraphicEl(e,null)},removeOpt:l}),n.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:l}),o.children.forEach(function(u){Sie(u,t,r,i,l)}),Sie(o,t,r,i,l)}function i6(t,e,n,r,i){var o,a,s,l,u,c,f,d;if(t==="radial"){u=r.rawX,f=r.rawY,c=i.rawX,d=i.rawY;var h=bS(u,f),p=bS(u,f+(d-f)*n),v=bS(c,d+(f-d)*n),g=bS(c,d);return{x1:h.x||0,y1:h.y||0,x2:g.x||0,y2:g.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:v.x||0,cpy2:v.y||0}}else u=r.x,f=r.y,c=i.x,d=i.y,(e==="LR"||e==="RL")&&(o=u+(c-u)*n,a=f,s=c+(u-c)*n,l=d),(e==="TB"||e==="BT")&&(o=u,a=f+(d-f)*n,s=c,l=d+(f-d)*n);return{x1:u,y1:f,x2:c,y2:d,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}var Bu=Qr();function qxe(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,Kxe(e,n,t),ie(n,function(r){ie(e.TRANSFERABLE_METHODS,function(i){r.wrapMethod(i,hr(_It,t))})}),e.wrapMethod("cloneShallow",hr(SIt,t)),ie(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,hr(wIt,t))}),al(n[e.dataType]===e)}function _It(t,e){if(EIt(this)){var n=yt({},Bu(this).datas);n[this.dataType]=e,Kxe(e,n,t)}else A9(e,this.dataType,Bu(this).mainData,t);return e}function wIt(t,e){return t.struct&&t.struct.update(),e}function SIt(t,e){return ie(Bu(e).datas,function(n,r){n!==e&&A9(n.cloneShallow(),r,e,t)}),e}function xIt(t){var e=Bu(this).mainData;return t==null||e==null?e:Bu(e).datas[t]}function CIt(){var t=Bu(this).mainData;return t==null?[{data:t}]:kt(Ur(Bu(t).datas),function(e){return{type:e,data:Bu(t).datas[e]}})}function EIt(t){return Bu(t).mainData===t}function Kxe(t,e,n){Bu(t).datas={},ie(e,function(r,i){A9(r,i,t,n)})}function A9(t,e,n,r){Bu(n).datas[e]=t,Bu(t).mainData=n,t.dataType=e,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=t),t.getLinkedData=xIt,t.getLinkedDataAll=CIt}var TIt=(function(){function t(e,n){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=n}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(e,n,r){qn(e)&&(r=n,n=e,e=null),e=e||{},fn(e)&&(e={order:e});var i=e.order||"preorder",o=this[e.attr||"children"],a;i==="preorder"&&(a=n.call(r,this));for(var s=0;!a&&s<o.length;s++)o[s].eachNode(e,n,r);i==="postorder"&&n.call(r,this)},t.prototype.updateDepthAndHeight=function(e){var n=0;this.depth=e;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(e+1),i.height>n&&(n=i.height)}this.height=n+1},t.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var n=0,r=this.children,i=r.length;n<i;n++){var o=r[n].getNodeById(e);if(o)return o}},t.prototype.contains=function(e){if(e===this)return!0;for(var n=0,r=this.children,i=r.length;n<i;n++){var o=r[n].contains(e);if(o)return o}},t.prototype.getAncestors=function(e){for(var n=[],r=e?this:this.parentNode;r;)n.push(r),r=r.parentNode;return n.reverse(),n},t.prototype.getAncestorsIndices=function(){for(var e=[],n=this;n;)e.push(n.dataIndex),n=n.parentNode;return e.reverse(),e},t.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(n){e.push(n.dataIndex)}),e},t.prototype.getValue=function(e){var n=this.hostTree.data;return n.getStore().get(n.getDimensionIndex(e||"value"),this.dataIndex)},t.prototype.setLayout=function(e,n){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,n)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var n=this.hostTree,r=n.data.getItemModel(this.dataIndex);return r.getModel(e)}},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(e,n){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,n)},t.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,n=0;n<e.length;++n)if(e[n]===this)return n;return-1}return-1},t.prototype.isAncestorOf=function(e){for(var n=e.parentNode;n;){if(n===this)return!0;n=n.parentNode}return!1},t.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},t})(),k9=(function(){function t(e){this.type="tree",this._nodes=[],this.hostModel=e}return t.prototype.eachNode=function(e,n,r){this.root.eachNode(e,n,r)},t.prototype.getNodeByDataIndex=function(e){var n=this.data.getRawIndex(e);return this._nodes[n]},t.prototype.getNodeById=function(e){return this.root.getNodeById(e)},t.prototype.update=function(){for(var e=this.data,n=this._nodes,r=0,i=n.length;r<i;r++)n[r].dataIndex=-1;for(var r=0,i=e.count();r<i;r++)n[e.getRawIndex(r)].dataIndex=r},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,n,r){var i=new t(n),o=[],a=1;s(e);function s(c,f){var d=c.value;a=Math.max(a,Tt(d)?d.length:1),o.push(c);var h=new TIt(ca(c.name,""),i);f?AIt(h,f):i.root=h,i._nodes.push(h);var p=c.children;if(p)for(var v=0;v<p.length;v++)s(p[v],h)}i.root.updateDepthAndHeight(0);var l=X2(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,u=new Qs(l,n);return u.initData(o),r&&r(u),qxe({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},t})();function AIt(t,e){var n=e.children;t.parentNode!==e&&(n.push(t),t.parentNode=e)}function RC(t,e,n){if(t&&Mr(e,t.type)>=0){var r=n.getData().tree.root,i=t.targetNode;if(fn(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var o=t.targetNodeId;if(o!=null&&(i=r.getNodeById(o)))return{node:i}}}function Yxe(t){for(var e=[];t;)t=t.parentNode,t&&e.push(t);return e.reverse()}function M9(t,e){var n=Yxe(t);return Mr(n,e)>=0}function QR(t,e){for(var n=[];t;){var r=t.dataIndex;n.push({name:t.name,dataIndex:r,value:e.getRawValue(r)}),t=t.parentNode}return n.reverse(),n}var kIt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.hasSymbolVisual=!0,n.ignoreStyleOnData=!0,n}return e.prototype.getInitialData=function(n){var r={name:n.name,children:n.data},i=n.leaves||{},o=new Ci(i,this,this.ecModel),a=k9.createTree(r,this,s);function s(f){f.wrapMethod("getItemModel",function(d,h){var p=a.getNodeByDataIndex(h);return p&&p.children.length&&p.isExpand||(d.parentModel=o),d})}var l=0;a.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=n.expandAndCollapse,c=u&&n.initialTreeDepth>=0?n.initialTreeDepth:l;return a.root.eachNode("preorder",function(f){var d=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=d&&d.collapsed!=null?!d.collapsed:f.depth<=c}),a.data},e.prototype.getOrient=function(){var n=this.get("orient");return n==="horizontal"?n="LR":n==="vertical"&&(n="TB"),n},e.prototype.setZoom=function(n){this.option.zoom=n},e.prototype.setCenter=function(n){this.option.center=n},e.prototype.formatTooltip=function(n,r,i){for(var o=this.getData().tree,a=o.root.children[0],s=o.getNodeByDataIndex(n),l=s.getValue(),u=s.name;s&&s!==a;)u=s.parentNode.name+"."+u,s=s.parentNode;return Oa("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(n){var r=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(n);return r.treeAncestors=QR(i,this),r.collapsed=!i.isExpand,r},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e})(Ui);function MIt(t,e,n){for(var r=[t],i=[],o;o=r.pop();)if(i.push(o),o.isExpand){var a=o.children;if(a.length)for(var s=0;s<a.length;s++)r.push(a[s])}for(;o=i.pop();)e(o,n)}function zw(t,e){for(var n=[t],r;r=n.pop();)if(e(r),r.isExpand){var i=r.children;if(i.length)for(var o=i.length-1;o>=0;o--)n.push(i[o])}}function PIt(t,e){t.eachSeriesByType("tree",function(n){OIt(n,e)})}function OIt(t,e){var n=cIt(t,e);t.layoutInfo=n;var r=t.get("layout"),i=0,o=0,a=null;r==="radial"?(i=2*Math.PI,o=Math.min(n.height,n.width)/2,a=bie(function(b,w){return(b.parentNode===w.parentNode?1:2)/b.depth})):(i=n.width,o=n.height,a=bie());var s=t.getData().tree.root,l=s.children[0];if(l){sIt(s),MIt(l,lIt,a),s.hierNode.modifier=-l.hierNode.prelim,zw(l,uIt);var u=l,c=l,f=l;zw(l,function(b){var w=b.getLayout().x;w<u.getLayout().x&&(u=b),w>c.getLayout().x&&(c=b),b.depth>f.depth&&(f=b)});var d=u===c?1:a(u,c)/2,h=d-u.getLayout().x,p=0,v=0,g=0,m=0;if(r==="radial")p=i/(c.getLayout().x+d+h),v=o/(f.depth-1||1),zw(l,function(b){g=(b.getLayout().x+h)*p,m=(b.depth-1)*v;var w=bS(g,m);b.setLayout({x:w.x,y:w.y,rawX:g,rawY:m},!0)});else{var y=t.getOrient();y==="RL"||y==="LR"?(v=o/(c.getLayout().x+d+h),p=i/(f.depth-1||1),zw(l,function(b){m=(b.getLayout().x+h)*v,g=y==="LR"?(b.depth-1)*p:i-(b.depth-1)*p,b.setLayout({x:g,y:m},!0)})):(y==="TB"||y==="BT")&&(p=i/(c.getLayout().x+d+h),v=o/(f.depth-1||1),zw(l,function(b){g=(b.getLayout().x+h)*p,m=y==="TB"?(b.depth-1)*v:o-(b.depth-1)*v,b.setLayout({x:g,y:m},!0)}))}}}function IIt(t){t.eachSeriesByType("tree",function(e){var n=e.getData(),r=n.tree;r.eachNode(function(i){var o=i.getModel(),a=o.getModel("itemStyle").getItemStyle(),s=n.ensureUniqueItemVisual(i.dataIndex,"style");yt(s,a)})})}function RIt(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,n){n.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var i=e.dataIndex,o=r.getData().tree,a=o.getNodeByDataIndex(i);a.isExpand=!a.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,n,r){n.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var o=i.coordinateSystem,a=T9(o,e,void 0,r);i.setCenter&&i.setCenter(a.center),i.setZoom&&i.setZoom(a.zoom)})})}function LIt(t){t.registerChartView(yIt),t.registerSeriesModel(kIt),t.registerLayout(PIt),t.registerVisual(IIt),RIt(t)}var Cie=["treemapZoomToNode","treemapRender","treemapMove"];function DIt(t){for(var e=0;e<Cie.length;e++)t.registerAction({type:Cie[e],update:"updateView"},Vo);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,r){r.eachComponent({mainType:"series",subType:"treemap",query:n},i);function i(o,a){var s=["treemapZoomToNode","treemapRootToNode"],l=RC(n,s,o);if(l){var u=o.getViewRoot();u&&(n.direction=M9(u,l.node)?"rollUp":"drillDown"),o.resetViewRoot(l.node)}}})}function Xxe(t){var e=t.getData(),n=e.tree,r={};n.eachNode(function(i){for(var o=i;o&&o.depth>1;)o=o.parentNode;var a=I5(t.ecModel,o.name||o.dataIndex+"",r);i.setVisual("decal",a)})}var NIt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.preventUsingHoverLayer=!0,n}return e.prototype.getInitialData=function(n,r){var i={name:n.name,children:n.data};Zxe(i);var o=n.levels||[],a=this.designatedVisualItemStyle={},s=new Ci({itemStyle:a},this,r);o=n.levels=BIt(o,r);var l=kt(o||[],function(f){return new Ci(f,s,r)},this),u=k9.createTree(i,this,c);function c(f){f.wrapMethod("getItemModel",function(d,h){var p=u.getNodeByDataIndex(h),v=p?l[p.depth]:null;return d.parentModel=v||s,d})}return u.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(n,r,i){var o=this.getData(),a=this.getRawValue(n),s=o.getName(n);return Oa("nameValue",{name:s,value:a})},e.prototype.getDataParams=function(n){var r=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(n);return r.treeAncestors=QR(i,this),r.treePathInfo=r.treeAncestors,r},e.prototype.setLayoutInfo=function(n){this.layoutInfo=this.layoutInfo||{},yt(this.layoutInfo,n)},e.prototype.mapIdToIndex=function(n){var r=this._idIndexMap;r||(r=this._idIndexMap=Mn(),this._idIndexMapCount=0);var i=r.get(n);return i==null&&r.set(n,i=this._idIndexMapCount++),i},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var r=this.getRawData().tree.root;(!n||n!==r&&!r.contains(n))&&(this._viewRoot=r)},e.prototype.enableAriaDecal=function(){Xxe(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e})(Ui);function Zxe(t){var e=0;ie(t.children,function(r){Zxe(r);var i=r.value;Tt(i)&&(i=i[0]),e+=i});var n=t.value;Tt(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=e),n<0&&(n=0),Tt(t.value)?t.value[0]=n:t.value=n}function BIt(t,e){var n=Mi(e.get("color")),r=Mi(e.get(["aria","decal","decals"]));if(n){t=t||[];var i,o;ie(t,function(s){var l=new Ci(s),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(o=!0)});var a=t[0]||(t[0]={});return i||(a.color=n.slice()),!o&&r&&(a.decal=r.slice()),t}}var $It=8,Eie=8,hB=5,FIt=(function(){function t(e){this.group=new nr,e.add(this.group)}return t.prototype.render=function(e,n,r,i){var o=e.getModel("breadcrumb"),a=this.group;if(a.removeAll(),!(!o.get("show")||!r)){var s=o.getModel("itemStyle"),l=o.getModel("emphasis"),u=s.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:n.getWidth(),height:n.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,f,u),this._renderContent(e,f,s,l,u,c,i),VR(a,f.pos,f.box)}},t.prototype._prepare=function(e,n,r){for(var i=e;i;i=i.parentNode){var o=ca(i.getModel().get("name"),""),a=r.getTextRect(o),s=Math.max(a.width+$It*2,n.emptyItemWidth);n.totalWidth+=s+Eie,n.renderList.push({node:i,text:o,width:s})}},t.prototype._renderContent=function(e,n,r,i,o,a,s){for(var l=0,u=n.emptyItemWidth,c=e.get(["breadcrumb","height"]),f=Y2t(n.pos,n.box),d=n.totalWidth,h=n.renderList,p=i.getModel("itemStyle").getItemStyle(),v=h.length-1;v>=0;v--){var g=h[v],m=g.node,y=g.width,b=g.text;d>f.width&&(d-=y-u,y=u,b=null);var w=new ul({shape:{points:VIt(l,0,y,c,v===h.length-1,v===0)},style:Yn(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new ti({style:Gi(o,{text:b})}),textConfig:{position:"inside"},z2:M_*1e4,onclick:hr(s,m)});w.disableLabelAnimation=!0,w.getTextContent().ensureState("emphasis").style=Gi(a,{text:b}),w.ensureState("emphasis").style=p,go(w,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(w),zIt(w,e,m),l+=y+Eie}},t.prototype.remove=function(){this.group.removeAll()},t})();function VIt(t,e,n,r,i,o){var a=[[i?t:t-hB,e],[t+n,e],[t+n,e+r],[i?t:t-hB,e+r]];return!o&&a.splice(2,0,[t+n+hB,e+r/2]),!i&&a.push([t,e+r/2]),a}function zIt(t,e,n){ar(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&QR(n,e)}}var HIt=(function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(e,n,r,i,o){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:n,duration:r,delay:i,easing:o}),!0)},t.prototype.finished=function(e){return this._finishedCallback=e,this},t.prototype.start=function(){for(var e=this,n=this._storage.length,r=function(){n--,n<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},i=0,o=this._storage.length;i<o;i++){var a=this._storage[i];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:r,aborted:r})}return this},t})();function jIt(){return new HIt}var o6=nr,Tie=Jr,Aie=3,kie="label",Mie="upperLabel",GIt=M_*10,UIt=M_*2,WIt=M_*3,Ig=Qm([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Pie=function(t){var e=Ig(t);return e.stroke=e.fill=e.lineWidth=null,e},oO=Qr(),qIt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._state="ready",n._storage=Hw(),n}return e.prototype.render=function(n,r,i,o){var a=r.findComponents({mainType:"series",subType:"treemap",query:o});if(!(Mr(a,n)<0)){this.seriesModel=n,this.api=i,this.ecModel=r;var s=["treemapZoomToNode","treemapRootToNode"],l=RC(o,s,n),u=o&&o.type,c=n.layoutInfo,f=!this._oldTree,d=this._storage,h=u==="treemapRootToNode"&&l&&d?{rootNodeGroup:d.nodeGroup[l.node.getRawIndex()],direction:o.direction}:null,p=this._giveContainerGroup(c),v=n.get("animation"),g=this._doRender(p,n,h);v&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(p,g,n,h):g.renderFinally(),this._resetController(i),this._renderBreadcrumb(n,i,l)}},e.prototype._giveContainerGroup=function(n){var r=this._containerGroup;return r||(r=this._containerGroup=new o6,this._initEvents(r),this.group.add(r)),r.x=n.x,r.y=n.y,r},e.prototype._doRender=function(n,r,i){var o=r.getData().tree,a=this._oldTree,s=Hw(),l=Hw(),u=this._storage,c=[];function f(y,b,w,S){return KIt(r,l,u,i,s,c,y,b,w,S)}v(o.root?[o.root]:[],a&&a.root?[a.root]:[],n,o===a||!a,0);var d=g(u);if(this._oldTree=o,this._storage=l,this._controllerHost){var h=this.seriesModel.layoutInfo,p=o.root.getLayout();p.width===h.width&&p.height===h.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:d,renderFinally:m};function v(y,b,w,S,x){S?(b=y,ie(y,function(T,A){!T.isRemoved()&&E(A,A)})):new mh(b,y,C,C).add(E).update(E).remove(hr(E,null)).execute();function C(T){return T.getId()}function E(T,A){var k=T!=null?y[T]:null,M=A!=null?b[A]:null,D=f(k,M,w,x);D&&v(k&&k.viewChildren||[],M&&M.viewChildren||[],D,S,x+1)}}function g(y){var b=Hw();return y&&ie(y,function(w,S){var x=b[S];ie(w,function(C){C&&(x.push(C),oO(C).willDelete=!0)})}),b}function m(){ie(d,function(y){ie(y,function(b){b.parent&&b.parent.remove(b)})}),ie(c,function(y){y.invisible=!0,y.dirty()})}},e.prototype._doAnimation=function(n,r,i,o){var a=i.get("animationDurationUpdate"),s=i.get("animationEasing"),l=(qn(a)?0:a)||0,u=(qn(s)?null:s)||"cubicOut",c=jIt();ie(r.willDeleteEls,function(f,d){ie(f,function(h,p){if(!h.invisible){var v=h.parent,g,m=oO(v);if(o&&o.direction==="drillDown")g=v===o.rootNodeGroup?{shape:{x:0,y:0,width:m.nodeWidth,height:m.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var y=0,b=0;m.willDelete||(y=m.nodeWidth/2,b=m.nodeHeight/2),g=d==="nodeGroup"?{x:y,y:b,style:{opacity:0}}:{shape:{x:y,y:b,width:0,height:0},style:{opacity:0}}}g&&c.add(h,g,l,0,u)}})}),ie(this._storage,function(f,d){ie(f,function(h,p){var v=r.lastsForAnimation[d][p],g={};v&&(h instanceof nr?v.oldX!=null&&(g.x=h.x,g.y=h.y,h.x=v.oldX,h.y=v.oldY):(v.oldShape&&(g.shape=yt({},h.shape),h.setShape(v.oldShape)),v.fadein?(h.setStyle("opacity",0),g.style={opacity:1}):h.style.opacity!==1&&(g.style={opacity:1})),c.add(h,g,l,0,u))})},this),this._state="animating",c.finished(vn(function(){this._state="ready",r.renderFinally()},this)).start()},e.prototype._resetController=function(n){var r=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),r||(r=this._controller=new iE(n.getZr()),r.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),r.on("pan",vn(this._onPan,this)),r.on("zoom",vn(this._onZoom,this)));var o=new xr(0,0,n.getWidth(),n.getHeight());r.setPointerChecker(function(a,s,l){return o.contain(s,l)})},e.prototype._clearController=function(){var n=this._controller;this._controllerHost=null,n&&(n.dispose(),n=null)},e.prototype._onPan=function(n){if(this._state!=="animating"&&(Math.abs(n.dx)>Aie||Math.abs(n.dy)>Aie)){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+n.dx,y:i.y+n.dy,width:i.width,height:i.height}})}},e.prototype._onZoom=function(n){var r=n.originX,i=n.originY,o=n.scale;if(this._state!=="animating"){var a=this.seriesModel.getData().tree.root;if(!a)return;var s=a.getLayout();if(!s)return;var l=new xr(s.x,s.y,s.width,s.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=o,u){var d=u.min||0,h=u.max||1/0;f=Math.max(Math.min(h,f),d)}var p=f/c.zoom;c.zoom=f;var v=this.seriesModel.layoutInfo;r-=v.x,i-=v.y;var g=Jl();ed(g,g,[-r,-i]),mG(g,g,[p,p]),ed(g,g,[r,i]),l.applyTransform(g),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},e.prototype._initEvents=function(n){var r=this;n.on("click",function(i){if(r._state==="ready"){var o=r.seriesModel.get("nodeClick",!0);if(o){var a=r.findTarget(i.offsetX,i.offsetY);if(a){var s=a.node;if(s.getLayout().isLeafRoot)r._rootToNode(a);else if(o==="zoomToNode")r._zoomToNode(a);else if(o==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&HP(u,c)}}}}},this)},e.prototype._renderBreadcrumb=function(n,r,i){var o=this;i||(i=n.get("leafDepth",!0)!=null?{node:n.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2),i||(i={node:n.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new FIt(this.group))).render(n,r,i.node,function(a){o._state!=="animating"&&(M9(n.getViewRoot(),a)?o._rootToNode({node:a}):o._zoomToNode({node:a}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Hw(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(n){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},e.prototype._rootToNode=function(n){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},e.prototype.findTarget=function(n,r){var i,o=this.seriesModel.getViewRoot();return o.eachNode({attr:"viewChildren",order:"preorder"},function(a){var s=this._storage.background[a.getRawIndex()];if(s){var l=s.transformCoordToLocal(n,r),u=s.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:a,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},e.type="treemap",e})(Oi);function Hw(){return{nodeGroup:[],background:[],content:[]}}function KIt(t,e,n,r,i,o,a,s,l,u){if(!a)return;var c=a.getLayout(),f=t.getData(),d=a.getModel();if(f.setItemGraphicEl(a.dataIndex,null),!c||!c.isInView)return;var h=c.width,p=c.height,v=c.borderWidth,g=c.invisible,m=a.getRawIndex(),y=s&&s.getRawIndex(),b=a.viewChildren,w=c.upperHeight,S=b&&b.length,x=d.getModel("itemStyle"),C=d.getModel(["emphasis","itemStyle"]),E=d.getModel(["blur","itemStyle"]),T=d.getModel(["select","itemStyle"]),A=x.get("borderRadius")||0,k=oe("nodeGroup",o6);if(!k)return;if(l.add(k),k.x=c.x||0,k.y=c.y||0,k.markRedraw(),oO(k).nodeWidth=h,oO(k).nodeHeight=p,c.isAboveViewRoot)return k;var M=oe("background",Tie,u,UIt);M&&j(k,M,S&&c.upperLabelHeight);var D=d.getModel("emphasis"),L=D.get("focus"),I=D.get("blurScope"),R=D.get("disabled"),V=L==="ancestor"?a.getAncestorsIndices():L==="descendant"?a.getDescendantIndices():L;if(S)_C(k)&&im(k,!1),M&&(im(M,!R),f.setItemGraphicEl(a.dataIndex,M),C5(M,V,I));else{var P=oe("content",Tie,u,WIt);P&&G(k,P),M.disableMorphing=!0,M&&_C(M)&&im(M,!1),im(k,!R),f.setItemGraphicEl(a.dataIndex,k);var B=d.getShallow("cursor");B&&P.attr("cursor",B),C5(k,V,I)}return k;function j(H,U,ne){var J=ar(U);if(J.dataIndex=a.dataIndex,J.seriesIndex=t.seriesIndex,U.setShape({x:0,y:0,width:h,height:p,r:A}),g)W(U);else{U.invisible=!1;var Y=a.getVisual("style"),se=Y.stroke,he=Pie(x);he.fill=se;var ye=Ig(C);ye.fill=C.get("borderColor");var _e=Ig(E);_e.fill=E.get("borderColor");var fe=Ig(T);if(fe.fill=T.get("borderColor"),ne){var Ce=h-2*v;Z(U,se,Y.opacity,{x:v,y:0,width:Ce,height:w})}else U.removeTextContent();U.setStyle(he),U.ensureState("emphasis").style=ye,U.ensureState("blur").style=_e,U.ensureState("select").style=fe,ey(U)}H.add(U)}function G(H,U){var ne=ar(U);ne.dataIndex=a.dataIndex,ne.seriesIndex=t.seriesIndex;var J=Math.max(h-2*v,0),Y=Math.max(p-2*v,0);if(U.culling=!0,U.setShape({x:v,y:v,width:J,height:Y,r:A}),g)W(U);else{U.invisible=!1;var se=a.getVisual("style"),he=se.fill,ye=Pie(x);ye.fill=he,ye.decal=se.decal;var _e=Ig(C),fe=Ig(E),Ce=Ig(T);Z(U,he,se.opacity,null),U.setStyle(ye),U.ensureState("emphasis").style=_e,U.ensureState("blur").style=fe,U.ensureState("select").style=Ce,ey(U)}H.add(U)}function W(H){!H.invisible&&o.push(H)}function Z(H,U,ne,J){var Y=d.getModel(J?Mie:kie),se=ca(d.get("name"),null),he=Y.getShallow("show");us(H,Pa(d,J?Mie:kie),{defaultText:he?se:null,inheritColor:U,defaultOpacity:ne,labelFetcher:t,labelDataIndex:a.dataIndex});var ye=H.getTextContent();if(ye){var _e=ye.style,fe=pG(_e.padding||0);J&&(H.setTextConfig({layoutRect:J}),ye.disableLabelLayout=!0),ye.beforeUpdate=function(){var Oe=Math.max((J?J.width:H.shape.width)-fe[1]-fe[3],0),Ue=Math.max((J?J.height:H.shape.height)-fe[0]-fe[2],0);(_e.width!==Oe||_e.height!==Ue)&&ye.setStyle({width:Oe,height:Ue})},_e.truncateMinChar=2,_e.lineOverflow="truncate",ee(_e,J,c);var Ce=ye.getState("emphasis");ee(Ce?Ce.style:null,J,c)}}function ee(H,U,ne){var J=H?H.text:null;if(!U&&ne.isLeafRoot&&J!=null){var Y=t.get("drillDownIcon",!0);H.text=Y?Y+" "+J:J}}function oe(H,U,ne,J){var Y=y!=null&&n[H][y],se=i[H];return Y?(n[H][y]=null,ce(se,Y)):g||(Y=new U,Y instanceof Zu&&(Y.z2=YIt(ne,J)),X(se,Y)),e[H][m]=Y}function ce(H,U){var ne=H[m]={};U instanceof o6?(ne.oldX=U.x,ne.oldY=U.y):ne.oldShape=yt({},U.shape)}function X(H,U){var ne=H[m]={},J=a.parentNode,Y=U instanceof nr;if(J&&(!r||r.direction==="drillDown")){var se=0,he=0,ye=i.background[J.getRawIndex()];!r&&ye&&ye.oldShape&&(se=ye.oldShape.width,he=ye.oldShape.height),Y?(ne.oldX=0,ne.oldY=he):ne.oldShape={x:se,y:he,width:0,height:0}}ne.fadein=!Y}}function YIt(t,e){return t*GIt+e}var LC=ie,XIt=Zn,aO=-1,Ta=(function(){function t(e){var n=e.mappingMethod,r=e.type,i=this.option=Jn(e);this.type=r,this.mappingMethod=n,this._normalizeData=QIt[n];var o=t.visualHandlers[r];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[n],n==="piecewise"?(pB(i),ZIt(i)):n==="category"?i.categories?JIt(i):pB(i,!0):(al(n!=="linear"||i.dataExtent),pB(i))}return t.prototype.mapValueToVisual=function(e){var n=this._normalizeData(e);return this._normalizedToVisual(n,e)},t.prototype.getNormalizer=function(){return vn(this._normalizeData,this)},t.listVisualTypes=function(){return Ur(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(e,n,r){Zn(e)?ie(e,n,r):n.call(r,e)},t.mapVisual=function(e,n,r){var i,o=Tt(e)?[]:Zn(e)?{}:(i=!0,null);return t.eachVisual(e,function(a,s){var l=n.call(r,a,s);i?o=l:o[s]=l}),o},t.retrieveVisuals=function(e){var n={},r;return e&&LC(t.visualHandlers,function(i,o){e.hasOwnProperty(o)&&(n[o]=e[o],r=!0)}),r?n:null},t.prepareVisualTypes=function(e){if(Tt(e))e=e.slice();else if(XIt(e)){var n=[];LC(e,function(r,i){n.push(i)}),e=n}else return[];return e.sort(function(r,i){return i==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),e},t.dependsOn=function(e,n){return n==="color"?!!(e&&e.indexOf(n)===0):e===n},t.findPieceIndex=function(e,n,r){for(var i,o=1/0,a=0,s=n.length;a<s;a++){var l=n[a].value;if(l!=null){if(l===e||fn(l)&&l===e+"")return a;r&&d(l,a)}}for(var a=0,s=n.length;a<s;a++){var u=n[a],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if(vA(f[1],e,c[1]))return a}else if(c[1]===1/0){if(vA(f[0],c[0],e))return a}else if(vA(f[0],c[0],e)&&vA(f[1],e,c[1]))return a;r&&d(c[0],a),r&&d(c[1],a)}}if(r)return e===1/0?n.length-1:e===-1/0?0:i;function d(h,p){var v=Math.abs(h-e);v<o&&(o=v,i=p)}},t.visualHandlers={color:{applyVisual:jw("color"),getColorMapper:function(){var e=this.option;return vn(e.mappingMethod==="category"?function(n,r){return!r&&(n=this._normalizeData(n)),_S.call(this,n)}:function(n,r,i){var o=!!i;return!r&&(n=this._normalizeData(n)),i=X3(n,e.parsedVisual,i),o?i:Zd(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Zd(X3(e,this.option.parsedVisual),"rgba")},category:_S,piecewise:function(e,n){var r=s6.call(this,n);return r==null&&(r=Zd(X3(e,this.option.parsedVisual),"rgba")),r},fixed:Rg}},colorHue:pA(function(e,n){return tx(e,n)}),colorSaturation:pA(function(e,n){return tx(e,null,n)}),colorLightness:pA(function(e,n){return tx(e,null,null,n)}),colorAlpha:pA(function(e,n){return PP(e,n)}),decal:{applyVisual:jw("decal"),_normalizedToVisual:{linear:null,category:_S,piecewise:null,fixed:null}},opacity:{applyVisual:jw("opacity"),_normalizedToVisual:a6([0,1])},liftZ:{applyVisual:jw("liftZ"),_normalizedToVisual:{linear:Rg,category:Rg,piecewise:Rg,fixed:Rg}},symbol:{applyVisual:function(e,n,r){var i=this.mapValueToVisual(e);r("symbol",i)},_normalizedToVisual:{linear:Oie,category:_S,piecewise:function(e,n){var r=s6.call(this,n);return r==null&&(r=Oie.call(this,e)),r},fixed:Rg}},symbolSize:{applyVisual:jw("symbolSize"),_normalizedToVisual:a6([0,1])}},t})();function ZIt(t){var e=t.pieceList;t.hasSpecialVisual=!1,ie(e,function(n,r){n.originIndex=r,n.visual!=null&&(t.hasSpecialVisual=!0)})}function JIt(t){var e=t.categories,n=t.categoryMap={},r=t.visual;if(LC(e,function(a,s){n[a]=s}),!Tt(r)){var i=[];Zn(r)?LC(r,function(a,s){var l=n[s];i[l??aO]=a}):i[aO]=r,r=Jxe(t,i)}for(var o=e.length-1;o>=0;o--)r[o]==null&&(delete n[e[o]],e.pop())}function pB(t,e){var n=t.visual,r=[];Zn(n)?LC(n,function(o){r.push(o)}):n!=null&&r.push(n);var i={color:1,symbol:1};!e&&r.length===1&&!i.hasOwnProperty(t.type)&&(r[1]=r[0]),Jxe(t,r)}function pA(t){return{applyVisual:function(e,n,r){var i=this.mapValueToVisual(e);r("color",t(n("color"),i))},_normalizedToVisual:a6([0,1])}}function Oie(t){var e=this.option.visual;return e[Math.round(gi(t,[0,1],[0,e.length-1],!0))]||{}}function jw(t){return function(e,n,r){r(t,this.mapValueToVisual(e))}}function _S(t){var e=this.option.visual;return e[this.option.loop&&t!==aO?t%e.length:t]}function Rg(){return this.option.visual[0]}function a6(t){return{linear:function(e){return gi(e,t,this.option.visual,!0)},category:_S,piecewise:function(e,n){var r=s6.call(this,n);return r==null&&(r=gi(e,t,this.option.visual,!0)),r},fixed:Rg}}function s6(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var r=Ta.findPieceIndex(t,n),i=n[r];if(i&&i.visual)return i.visual[this.type]}}function Jxe(t,e){return t.visual=e,t.type==="color"&&(t.parsedVisual=kt(e,function(n){var r=Ql(n);return r||[0,0,0,1]})),e}var QIt={linear:function(t){return gi(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=Ta.findPieceIndex(t,e,!0);if(n!=null)return gi(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return e??aO},fixed:Vo};function vA(t,e,n){return t?e<=n:e<n}var eRt="itemStyle",Qxe=Qr();const tRt={seriesType:"treemap",reset:function(t){var e=t.getData().tree,n=e.root;n.isRemoved()||eCe(n,{},t.getViewRoot().getAncestors(),t)}};function eCe(t,e,n,r){var i=t.getModel(),o=t.getLayout(),a=t.hostTree.data;if(!(!o||o.invisible||!o.isInView)){var s=i.getModel(eRt),l=nRt(s,e,r),u=a.ensureUniqueItemVisual(t.dataIndex,"style"),c=s.get("borderColor"),f=s.get("borderColorSaturation"),d;f!=null&&(d=Iie(l),c=rRt(f,d)),u.stroke=c;var h=t.viewChildren;if(!h||!h.length)d=Iie(l),u.fill=d;else{var p=iRt(t,i,o,s,l,h);ie(h,function(v,g){if(v.depth>=n.length||v===n[v.depth]){var m=oRt(i,l,v,g,p,r);eCe(v,m,n,r)}})}}}function nRt(t,e,n){var r=yt({},e),i=n.designatedVisualItemStyle;return ie(["color","colorAlpha","colorSaturation"],function(o){i[o]=e[o];var a=t.get(o);i[o]=null,a!=null&&(r[o]=a)}),r}function Iie(t){var e=vB(t,"color");if(e){var n=vB(t,"colorAlpha"),r=vB(t,"colorSaturation");return r&&(e=tx(e,null,null,r)),n&&(e=PP(e,n)),e}}function rRt(t,e){return e!=null?tx(e,null,null,t):null}function vB(t,e){var n=t[e];if(n!=null&&n!=="none")return n}function iRt(t,e,n,r,i,o){if(!(!o||!o.length)){var a=gB(e,"color")||i.color!=null&&i.color!=="none"&&(gB(e,"colorAlpha")||gB(e,"colorSaturation"));if(a){var s=e.get("visualMin"),l=e.get("visualMax"),u=n.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var c=e.get("colorMappingBy"),f={type:a.name,dataExtent:u,visual:a.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var d=new Ta(f);return Qxe(d).drColorMappingBy=c,d}}}function gB(t,e){var n=t.get(e);return Tt(n)&&n.length?{name:e,range:n}:null}function oRt(t,e,n,r,i,o){var a=yt({},e);if(i){var s=i.type,l=s==="color"&&Qxe(i).drColorMappingBy,u=l==="index"?r:l==="id"?o.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));a[s]=i.mapValueToVisual(u)}return a}var DC=Math.max,sO=Math.min,Rie=Va,P9=ie,tCe=["itemStyle","borderWidth"],aRt=["itemStyle","gapWidth"],sRt=["upperLabel","show"],lRt=["upperLabel","height"];const uRt={seriesType:"treemap",reset:function(t,e,n,r){var i=n.getWidth(),o=n.getHeight(),a=t.option,s=ha(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=a.size||[],u=on(Rie(s.width,l[0]),i),c=on(Rie(s.height,l[1]),o),f=r&&r.type,d=["treemapZoomToNode","treemapRootToNode"],h=RC(r,d,t),p=f==="treemapRender"||f==="treemapMove"?r.rootRect:null,v=t.getViewRoot(),g=Yxe(v);if(f!=="treemapMove"){var m=f==="treemapZoomToNode"?vRt(t,h,v,u,c):p?[p.width,p.height]:[u,c],y=a.sort;y&&y!=="asc"&&y!=="desc"&&(y="desc");var b={squareRatio:a.squareRatio,sort:y,leafDepth:a.leafDepth};v.hostTree.clearLayouts();var w={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};v.setLayout(w),nCe(v,b,!1,0),w=v.getLayout(),P9(g,function(x,C){var E=(g[C+1]||v).getValue();x.setLayout(yt({dataExtent:[E,E],borderWidth:0,upperHeight:0},w))})}var S=t.getData().tree.root;S.setLayout(gRt(s,p,h),!0),t.setLayoutInfo(s),rCe(S,new xr(-s.x,-s.y,i,o),g,v,0)}};function nCe(t,e,n,r){var i,o;if(!t.isRemoved()){var a=t.getLayout();i=a.width,o=a.height;var s=t.getModel(),l=s.get(tCe),u=s.get(aRt)/2,c=iCe(s),f=Math.max(l,c),d=l-u,h=f-u;t.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),i=DC(i-2*d,0),o=DC(o-d-h,0);var p=i*o,v=cRt(t,s,p,e,n,r);if(v.length){var g={x:d,y:h,width:i,height:o},m=sO(i,o),y=1/0,b=[];b.area=0;for(var w=0,S=v.length;w<S;){var x=v[w];b.push(x),b.area+=x.getLayout().area;var C=pRt(b,m,e.squareRatio);C<=y?(w++,y=C):(b.area-=b.pop().getLayout().area,Lie(b,m,g,u,!1),m=sO(g.width,g.height),b.length=b.area=0,y=1/0)}if(b.length&&Lie(b,m,g,u,!0),!n){var E=s.get("childrenVisibleMin");E!=null&&p<E&&(n=!0)}for(var w=0,S=v.length;w<S;w++)nCe(v[w],e,n,r+1)}}}function cRt(t,e,n,r,i,o){var a=t.children||[],s=r.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=r.leafDepth!=null&&r.leafDepth<=o;if(i&&!l)return t.viewChildren=[];a=yi(a,function(h){return!h.isRemoved()}),dRt(a,s);var u=hRt(e,a,s);if(u.sum===0)return t.viewChildren=[];if(u.sum=fRt(e,n,u.sum,s,a),u.sum===0)return t.viewChildren=[];for(var c=0,f=a.length;c<f;c++){var d=a[c].getValue()/u.sum*n;a[c].setLayout({area:d})}return l&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0),t.viewChildren=a,t.setLayout({dataExtent:u.dataExtent},!0),a}function fRt(t,e,n,r,i){if(!r)return n;for(var o=t.get("visibleMin"),a=i.length,s=a,l=a-1;l>=0;l--){var u=i[r==="asc"?a-l-1:l].getValue();u/n*e<o&&(s=l,n-=u)}return r==="asc"?i.splice(0,a-s):i.splice(s,a-s),n}function dRt(t,e){return e&&t.sort(function(n,r){var i=e==="asc"?n.getValue()-r.getValue():r.getValue()-n.getValue();return i===0?e==="asc"?n.dataIndex-r.dataIndex:r.dataIndex-n.dataIndex:i}),t}function hRt(t,e,n){for(var r=0,i=0,o=e.length;i<o;i++)r+=e[i].getValue();var a=t.get("visualDimension"),s;return!e||!e.length?s=[NaN,NaN]:a==="value"&&n?(s=[e[e.length-1].getValue(),e[0].getValue()],n==="asc"&&s.reverse()):(s=[1/0,-1/0],P9(e,function(l){var u=l.getValue(a);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})),{sum:r,dataExtent:s}}function pRt(t,e,n){for(var r=0,i=1/0,o=0,a=void 0,s=t.length;o<s;o++)a=t[o].getLayout().area,a&&(a<i&&(i=a),a>r&&(r=a));var l=t.area*t.area,u=e*e*n;return l?DC(u*r/l,l/(u*i)):1/0}function Lie(t,e,n,r,i){var o=e===n.width?0:1,a=1-o,s=["x","y"],l=["width","height"],u=n[s[o]],c=e?t.area/e:0;(i||c>n[l[a]])&&(c=n[l[a]]);for(var f=0,d=t.length;f<d;f++){var h=t[f],p={},v=c?h.getLayout().area/c:0,g=p[l[a]]=DC(c-2*r,0),m=n[s[o]]+n[l[o]]-u,y=f===d-1||m<v?m:v,b=p[l[o]]=DC(y-2*r,0);p[s[a]]=n[s[a]]+sO(r,g/2),p[s[o]]=u+sO(r,b/2),u+=y,h.setLayout(p,!0)}n[s[a]]+=c,n[l[a]]-=c}function vRt(t,e,n,r,i){var o=(e||{}).node,a=[r,i];if(!o||o===n)return a;for(var s,l=r*i,u=l*t.option.zoomToNodeRatio;s=o.parentNode;){for(var c=0,f=s.children,d=0,h=f.length;d<h;d++)c+=f[d].getValue();var p=o.getValue();if(p===0)return a;u*=c/p;var v=s.getModel(),g=v.get(tCe),m=Math.max(g,iCe(v));u+=4*g*g+(3*g+m)*Math.pow(u,.5),u>v5&&(u=v5),o=s}u<l&&(u=l);var y=Math.pow(u/l,.5);return[r*y,i*y]}function gRt(t,e,n){if(e)return{x:e.x,y:e.y};var r={x:0,y:0};if(!n)return r;var i=n.node,o=i.getLayout();if(!o)return r;for(var a=[o.width/2,o.height/2],s=i;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}function rCe(t,e,n,r,i){var o=t.getLayout(),a=n[i],s=a&&a===t;if(!(a&&!s||i===n.length&&t!==r)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(o),isAboveViewRoot:s},!0);var l=new xr(e.x-o.x,e.y-o.y,e.width,e.height);P9(t.viewChildren||[],function(u){rCe(u,l,n,r,i+1)})}}function iCe(t){return t.get(sRt)?t.get(lRt):0}function mRt(t){t.registerSeriesModel(NIt),t.registerChartView(qIt),t.registerVisual(tRt),t.registerLayout(uRt),DIt(t)}function yRt(t){var e=t.findComponents({mainType:"legend"});!e||!e.length||t.eachSeriesByType("graph",function(n){var r=n.getCategoriesData(),i=n.getGraph(),o=i.data,a=r.mapArray(r.getName);o.filterSelf(function(s){var l=o.getItemModel(s),u=l.getShallow("category");if(u!=null){ri(u)&&(u=a[u]);for(var c=0;c<e.length;c++)if(!e[c].isSelected(u))return!1}return!0})})}function bRt(t){var e={};t.eachSeriesByType("graph",function(n){var r=n.getCategoriesData(),i=n.getData(),o={};r.each(function(a){var s=r.getName(a);o["ec-"+s]=a;var l=r.getItemModel(a),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=n.getColorFromPalette(s,e)),r.setItemVisual(a,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var d=l.getShallow(c[f],!0);d!=null&&r.setItemVisual(a,c[f],d)}}),r.count()&&i.each(function(a){var s=i.getItemModel(a),l=s.getShallow("category");if(l!=null){fn(l)&&(l=o["ec-"+l]);var u=r.getItemVisual(l,"style"),c=i.ensureUniqueItemVisual(a,"style");yt(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],d=0;d<f.length;d++)i.setItemVisual(a,f[d],r.getItemVisual(l,f[d]))}})})}function gA(t){return t instanceof Array||(t=[t,t]),t}function _Rt(t){t.eachSeriesByType("graph",function(e){var n=e.getGraph(),r=e.getEdgeData(),i=gA(e.get("edgeSymbol")),o=gA(e.get("edgeSymbolSize"));r.setVisual("fromSymbol",i&&i[0]),r.setVisual("toSymbol",i&&i[1]),r.setVisual("fromSymbolSize",o&&o[0]),r.setVisual("toSymbolSize",o&&o[1]),r.setVisual("style",e.getModel("lineStyle").getLineStyle()),r.each(function(a){var s=r.getItemModel(a),l=n.getEdgeByIndex(a),u=gA(s.getShallow("symbol",!0)),c=gA(s.getShallow("symbolSize",!0)),f=s.getModel("lineStyle").getLineStyle(),d=r.ensureUniqueItemVisual(a,"style");switch(yt(d,f),d.stroke){case"source":{var h=l.node1.getVisual("style");d.stroke=h&&h.fill;break}case"target":{var h=l.node2.getVisual("style");d.stroke=h&&h.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var l6="-->",eL=function(t){return t.get("autoCurveness")||null},oCe=function(t,e){var n=eL(t),r=20,i=[];if(ri(n))r=n;else if(Tt(n)){t.__curvenessList=n;return}e>r&&(r=e);var o=r%2?r+2:r+3;i=[];for(var a=0;a<o;a++)i.push((a%2?a+1:a)/10*(a%2?-1:1));t.__curvenessList=i},NC=function(t,e,n){var r=[t.id,t.dataIndex].join("."),i=[e.id,e.dataIndex].join(".");return[n.uid,r,i].join(l6)},aCe=function(t){var e=t.split(l6);return[e[0],e[2],e[1]].join(l6)},wRt=function(t,e){var n=NC(t.node1,t.node2,e);return e.__edgeMap[n]},SRt=function(t,e){var n=u6(NC(t.node1,t.node2,e),e),r=u6(NC(t.node2,t.node1,e),e);return n+r},u6=function(t,e){var n=e.__edgeMap;return n[t]?n[t].length:0};function xRt(t){eL(t)&&(t.__curvenessList=[],t.__edgeMap={},oCe(t))}function CRt(t,e,n,r){if(eL(n)){var i=NC(t,e,n),o=n.__edgeMap,a=o[aCe(i)];o[i]&&!a?o[i].isForward=!0:a&&o[i]&&(a.isForward=!0,o[i].isForward=!1),o[i]=o[i]||[],o[i].push(r)}}function O9(t,e,n,r){var i=eL(e),o=Tt(i);if(!i)return null;var a=wRt(t,e);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===n){s=l;break}var u=SRt(t,e);oCe(e,u),t.lineStyle=t.lineStyle||{};var c=NC(t.node1,t.node2,e),f=e.__curvenessList,d=o||u%2?0:1;if(a.isForward)return f[d+s];var h=aCe(c),p=u6(h,e),v=f[s+p+d];return r?o?i&&i[0]===0?(p+d)%2?v:-v:((p%2?0:1)+d)%2?v:-v:(p+d)%2?v:-v:f[s+p+d]}function sCe(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view")){var n=t.getGraph();n.eachNode(function(r){var i=r.getModel();r.setLayout([+i.get("x"),+i.get("y")])}),I9(n,t)}}function I9(t,e){t.eachEdge(function(n,r){var i=jf(n.getModel().get(["lineStyle","curveness"]),-O9(n,e,r,!0),0),o=Yd(n.node1.getLayout()),a=Yd(n.node2.getLayout()),s=[o,a];+i&&s.push([(o[0]+a[0])/2-(o[1]-a[1])*i,(o[1]+a[1])/2-(a[0]-o[0])*i]),n.setLayout(s)})}function ERt(t,e){t.eachSeriesByType("graph",function(n){var r=n.get("layout"),i=n.coordinateSystem;if(i&&i.type!=="view"){var o=n.getData(),a=[];ie(i.dimensions,function(d){a=a.concat(o.mapDimensionsAll(d))});for(var s=0;s<o.count();s++){for(var l=[],u=!1,c=0;c<a.length;c++){var f=o.get(a[c],s);isNaN(f)||(u=!0),l.push(f)}u?o.setItemLayout(s,i.dataToPoint(l)):o.setItemLayout(s,[NaN,NaN])}I9(o.graph,n)}else(!r||r==="none")&&sCe(n)})}function wS(t){var e=t.coordinateSystem;if(e.type!=="view")return 1;var n=t.option.nodeScaleRatio,r=e.scaleX,i=e.getZoom(),o=(i-1)*n+1;return o/r}function SS(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var Die=Math.PI,mB=[];function R9(t,e,n,r){var i=t.coordinateSystem;if(!(i&&i.type!=="view")){var o=i.getBoundingRect(),a=t.getData(),s=a.graph,l=o.width/2+o.x,u=o.height/2+o.y,c=Math.min(o.width,o.height)/2,f=a.count();if(a.setLayout({cx:l,cy:u}),!!f){if(n){var d=i.pointToData(r),h=d[0],p=d[1],v=[h-l,p-u];T_(v,v),Dk(v,v,c),n.setLayout([l+v[0],u+v[1]],!0);var g=t.get(["circular","rotateLabel"]);lCe(n,g,l,u)}TRt[e](t,s,a,c,l,u,f),s.eachEdge(function(m,y){var b=jf(m.getModel().get(["lineStyle","curveness"]),O9(m,t,y),0),w=Yd(m.node1.getLayout()),S=Yd(m.node2.getLayout()),x,C=(w[0]+S[0])/2,E=(w[1]+S[1])/2;+b&&(b*=3,x=[l*b+C*(1-b),u*b+E*(1-b)]),m.setLayout([w,S,x])})}}}var TRt={value:function(t,e,n,r,i,o,a){var s=0,l=n.getSum("value"),u=Math.PI*2/(l||a);e.eachNode(function(c){var f=c.getValue("value"),d=u*(l?f:1)/2;s+=d,c.setLayout([r*Math.cos(s)+i,r*Math.sin(s)+o]),s+=d})},symbolSize:function(t,e,n,r,i,o,a){var s=0;mB.length=a;var l=wS(t);e.eachNode(function(f){var d=SS(f);isNaN(d)&&(d=2),d<0&&(d=0),d*=l;var h=Math.asin(d/2/r);isNaN(h)&&(h=Die/2),mB[f.dataIndex]=h,s+=h*2});var u=(2*Die-s)/a/2,c=0;e.eachNode(function(f){var d=u+mB[f.dataIndex];c+=d,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([r*Math.cos(c)+i,r*Math.sin(c)+o]),c+=d})}};function lCe(t,e,n,r){var i=t.getGraphicEl();if(i){var o=t.getModel(),a=o.get(["label","rotate"])||0,s=i.getSymbolPath();if(e){var l=t.getLayout(),u=Math.atan2(l[1]-r,l[0]-n);u<0&&(u=Math.PI*2+u);var c=l[0]<n;c&&(u=u-Math.PI);var f=c?"left":"right";s.setTextConfig({rotation:-u,position:f,origin:"center"});var d=s.ensureState("emphasis");yt(d.textConfig||(d.textConfig={}),{position:f})}else s.setTextConfig({rotation:a*=Math.PI/180})}}function ARt(t){t.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&R9(e,"symbolSize")})}var S0=qV;function kRt(t,e,n){for(var r=t,i=e,o=n.rect,a=o.width,s=o.height,l=[o.x+a/2,o.y+s/2],u=n.gravity==null?.1:n.gravity,c=0;c<r.length;c++){var f=r[c];f.p||(f.p=Cy(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),f.pp=Yd(f.p),f.edges=null}var d=n.friction==null?.6:n.friction,h=d,p,v;return{warmUp:function(){h=d*.8},setFixed:function(g){r[g].fixed=!0},setUnfixed:function(g){r[g].fixed=!1},beforeStep:function(g){p=g},afterStep:function(g){v=g},step:function(g){p&&p(r,i);for(var m=[],y=r.length,b=0;b<i.length;b++){var w=i[b];if(!w.ignoreForceLayout){var S=w.n1,x=w.n2;nm(m,x.p,S.p);var C=KV(m)-w.d,E=x.w/(S.w+x.w);isNaN(E)&&(E=0),T_(m,m),!S.fixed&&S0(S.p,S.p,m,E*C*h),!x.fixed&&S0(x.p,x.p,m,-(1-E)*C*h)}}for(var b=0;b<y;b++){var T=r[b];T.fixed||(nm(m,l,T.p),S0(T.p,T.p,m,u*h))}for(var b=0;b<y;b++)for(var S=r[b],A=b+1;A<y;A++){var x=r[A];nm(m,x.p,S.p);var C=KV(m);C===0&&(aSt(m,Math.random()-.5,Math.random()-.5),C=1);var k=(S.rep+x.rep)/C/C;!S.fixed&&S0(S.pp,S.pp,m,k),!x.fixed&&S0(x.pp,x.pp,m,-k)}for(var M=[],b=0;b<y;b++){var T=r[b];T.fixed||(nm(M,T.p,T.pp),S0(T.p,T.p,M,h),Gs(T.pp,T.p))}h=h*.992;var D=h<.01;v&&v(r,i,D),g&&g(D)}}}function MRt(t){t.eachSeriesByType("graph",function(e){var n=e.coordinateSystem;if(!(n&&n.type!=="view"))if(e.get("layout")==="force"){var r=e.preservedPoints||{},i=e.getGraph(),o=i.data,a=i.edgeData,s=e.getModel("force"),l=s.get("initLayout");e.preservedPoints?o.each(function(b){var w=o.getId(b);o.setItemLayout(b,r[w]||[NaN,NaN])}):!l||l==="none"?sCe(e):l==="circular"&&R9(e,"value");var u=o.getDataExtent("value"),c=a.getDataExtent("value"),f=s.get("repulsion"),d=s.get("edgeLength"),h=Tt(f)?f:[f,f],p=Tt(d)?d:[d,d];p=[p[1],p[0]];var v=o.mapArray("value",function(b,w){var S=o.getItemLayout(w),x=gi(b,u,h);return isNaN(x)&&(x=(h[0]+h[1])/2),{w:x,rep:x,fixed:o.getItemModel(w).get("fixed"),p:!S||isNaN(S[0])||isNaN(S[1])?null:S}}),g=a.mapArray("value",function(b,w){var S=i.getEdgeByIndex(w),x=gi(b,c,p);isNaN(x)&&(x=(p[0]+p[1])/2);var C=S.getModel(),E=jf(S.getModel().get(["lineStyle","curveness"]),-O9(S,e,w,!0),0);return{n1:v[S.node1.dataIndex],n2:v[S.node2.dataIndex],d:x,curveness:E,ignoreForceLayout:C.get("ignoreForceLayout")}}),m=n.getBoundingRect(),y=kRt(v,g,{rect:m,gravity:s.get("gravity"),friction:s.get("friction")});y.beforeStep(function(b,w){for(var S=0,x=b.length;S<x;S++)b[S].fixed&&Gs(b[S].p,i.getNodeByIndex(S).getLayout())}),y.afterStep(function(b,w,S){for(var x=0,C=b.length;x<C;x++)b[x].fixed||i.getNodeByIndex(x).setLayout(b[x].p),r[o.getId(x)]=b[x].p;for(var x=0,C=w.length;x<C;x++){var E=w[x],T=i.getEdgeByIndex(x),A=E.n1.p,k=E.n2.p,M=T.getLayout();M=M?M.slice():[],M[0]=M[0]||[],M[1]=M[1]||[],Gs(M[0],A),Gs(M[1],k),+E.curveness&&(M[2]=[(A[0]+k[0])/2-(A[1]-k[1])*E.curveness,(A[1]+k[1])/2-(k[0]-A[0])*E.curveness]),T.setLayout(M)}}),e.forceLayout=y,e.preservedPoints=r,y.step()}else e.forceLayout=null})}function PRt(t,e,n){var r=yt(t.getBoxLayoutParams(),{aspect:n});return ha(r,{width:e.getWidth(),height:e.getHeight()})}function ORt(t,e){var n=[];return t.eachSeriesByType("graph",function(r){var i=r.get("coordinateSystem");if(!i||i==="view"){var o=r.getData(),a=o.mapArray(function(g){var m=o.getItemModel(g);return[+m.get("x"),+m.get("y")]}),s=[],l=[];AR(a,s,l),l[0]-s[0]===0&&(l[0]+=1,s[0]-=1),l[1]-s[1]===0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=PRt(r,e,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-s[0],d=l[1]-s[1],h=c.width,p=c.height,v=r.coordinateSystem=new oE;v.zoomLimit=r.get("scaleLimit"),v.setBoundingRect(s[0],s[1],f,d),v.setViewRect(c.x,c.y,h,p),v.setCenter(r.get("center"),e),v.setZoom(r.get("zoom")),n.push(v)}}),n}var Nie=Sa.prototype,yB=G2.prototype,uCe=(function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t})();(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(uCe);function bB(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var IRt=(function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.type="ec-line",r}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new uCe},e.prototype.buildPath=function(n,r){bB(r)?Nie.buildPath.call(this,n,r):yB.buildPath.call(this,n,r)},e.prototype.pointAt=function(n){return bB(this.shape)?Nie.pointAt.call(this,n):yB.pointAt.call(this,n)},e.prototype.tangentAt=function(n){var r=this.shape,i=bB(r)?[r.x2-r.x1,r.y2-r.y1]:yB.tangentAt.call(this,n);return T_(i,i)},e})($r),_B=["fromSymbol","toSymbol"];function Bie(t){return"_"+t+"Type"}function $ie(t,e,n){var r=e.getItemVisual(n,t);if(!r||r==="none")return r;var i=e.getItemVisual(n,t+"Size"),o=e.getItemVisual(n,t+"Rotate"),a=e.getItemVisual(n,t+"Offset"),s=e.getItemVisual(n,t+"KeepAspect"),l=$_(i),u=ky(a||0,l);return r+l+u+(o||"")+(s||"")}function Fie(t,e,n){var r=e.getItemVisual(n,t);if(!(!r||r==="none")){var i=e.getItemVisual(n,t+"Size"),o=e.getItemVisual(n,t+"Rotate"),a=e.getItemVisual(n,t+"Offset"),s=e.getItemVisual(n,t+"KeepAspect"),l=$_(i),u=ky(a||0,l),c=ra(r,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=o==null||isNaN(o)?void 0:+o*Math.PI/180||0,c.name=t,c}}function RRt(t){var e=new IRt({name:"line",subPixelOptimize:!0});return c6(e.shape,t),e}function c6(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}var L9=(function(t){nt(e,t);function e(n,r,i){var o=t.call(this)||this;return o._createLine(n,r,i),o}return e.prototype._createLine=function(n,r,i){var o=n.hostModel,a=n.getItemLayout(r),s=RRt(a);s.shape.percent=0,eo(s,{shape:{percent:1}},o,r),this.add(s),ie(_B,function(l){var u=Fie(l,n,r);this.add(u),this[Bie(l)]=$ie(l,n,r)},this),this._updateCommonStl(n,r,i)},e.prototype.updateData=function(n,r,i){var o=n.hostModel,a=this.childOfName("line"),s=n.getItemLayout(r),l={shape:{}};c6(l.shape,s),si(a,l,o,r),ie(_B,function(u){var c=$ie(u,n,r),f=Bie(u);if(this[f]!==c){this.remove(this.childOfName(u));var d=Fie(u,n,r);this.add(d)}this[f]=c},this),this._updateCommonStl(n,r,i)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(n,r,i){var o=n.hostModel,a=this.childOfName("line"),s=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,c=i&&i.labelStatesModels,f=i&&i.emphasisDisabled,d=i&&i.focus,h=i&&i.blurScope;if(!i||n.hasItemOption){var p=n.getItemModel(r),v=p.getModel("emphasis");s=v.getModel("lineStyle").getLineStyle(),l=p.getModel(["blur","lineStyle"]).getLineStyle(),u=p.getModel(["select","lineStyle"]).getLineStyle(),f=v.get("disabled"),d=v.get("focus"),h=v.get("blurScope"),c=Pa(p)}var g=n.getItemVisual(r,"style"),m=g.stroke;a.useStyle(g),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=s,a.ensureState("blur").style=l,a.ensureState("select").style=u,ie(_B,function(x){var C=this.childOfName(x);if(C){C.setColor(m),C.style.opacity=g.opacity;for(var E=0;E<sl.length;E++){var T=sl[E],A=a.getState(T);if(A){var k=A.style||{},M=C.ensureState(T),D=M.style||(M.style={});k.stroke!=null&&(D[C.__isEmptyBrush?"stroke":"fill"]=k.stroke),k.opacity!=null&&(D.opacity=k.opacity)}}C.markRedraw()}},this);var y=o.getRawValue(r);us(this,c,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(x,C){return o.getFormattedLabel(x,C,n.dataType)}},inheritColor:m||"#000",defaultOpacity:g.opacity,defaultText:(y==null?n.getName(r):isFinite(y)?wo(y):y)+""});var b=this.getTextContent();if(b){var w=c.normal;b.__align=b.style.align,b.__verticalAlign=b.style.verticalAlign,b.__position=w.get("position")||"middle";var S=w.get("distance");Tt(S)||(S=[S,S]),b.__labelDistance=S}this.setTextConfig({position:null,local:!0,inside:!1}),go(this,d,h,f)},e.prototype.highlight=function(){vh(this)},e.prototype.downplay=function(){gh(this)},e.prototype.updateLayout=function(n,r){this.setLinePoints(n.getItemLayout(r))},e.prototype.setLinePoints=function(n){var r=this.childOfName("line");c6(r.shape,n),r.dirty()},e.prototype.beforeUpdate=function(){var n=this,r=n.childOfName("fromSymbol"),i=n.childOfName("toSymbol"),o=n.getTextContent();if(!r&&!i&&(!o||o.ignore))return;for(var a=1,s=this.parent;s;)s.scaleX&&(a/=s.scaleX),s=s.parent;var l=n.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),d=nm([],f,c);T_(d,d);function h(A,k){var M=A.__specifiedRotation;if(M==null){var D=l.tangentAt(k);A.attr("rotation",(k===1?-1:1)*Math.PI/2-Math.atan2(D[1],D[0]))}else A.attr("rotation",M)}if(r&&(r.setPosition(c),h(r,0),r.scaleX=r.scaleY=a*u,r.markRedraw()),i&&(i.setPosition(f),h(i,1),i.scaleX=i.scaleY=a*u,i.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var p=void 0,v=void 0,g=o.__labelDistance,m=g[0]*a,y=g[1]*a,b=u/2,w=l.tangentAt(b),S=[w[1],-w[0]],x=l.pointAt(b);S[1]>0&&(S[0]=-S[0],S[1]=-S[1]);var C=w[0]<0?-1:1;if(o.__position!=="start"&&o.__position!=="end"){var E=-Math.atan2(w[1],w[0]);f[0]<c[0]&&(E=Math.PI+E),o.rotation=E}var T=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":T=-y,v="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":T=y,v="top";break;default:T=0,v="middle"}switch(o.__position){case"end":o.x=d[0]*m+f[0],o.y=d[1]*y+f[1],p=d[0]>.8?"left":d[0]<-.8?"right":"center",v=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":o.x=-d[0]*m+c[0],o.y=-d[1]*y+c[1],p=d[0]>.8?"right":d[0]<-.8?"left":"center",v=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=m*C+c[0],o.y=c[1]+T,p=w[0]<0?"right":"left",o.originX=-m*C,o.originY=-T;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=x[0],o.y=x[1]+T,p="center",o.originY=-T;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-m*C+f[0],o.y=f[1]+T,p=w[0]>=0?"right":"left",o.originX=m*C,o.originY=-T;break}o.scaleX=o.scaleY=a,o.setStyle({verticalAlign:o.__verticalAlign||v,align:o.__align||p})}},e})(nr),D9=(function(){function t(e){this.group=new nr,this._LineCtor=e||L9}return t.prototype.updateData=function(e){var n=this;this._progressiveEls=null;var r=this,i=r.group,o=r._lineData;r._lineData=e,o||i.removeAll();var a=Vie(e);e.diff(o).add(function(s){n._doAdd(e,s,a)}).update(function(s,l){n._doUpdate(o,e,l,s,a)}).remove(function(s){i.remove(o.getItemGraphicEl(s))}).execute()},t.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(n,r){n.updateLayout(e,r)},this)},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Vie(e),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,n){this._progressiveEls=[];function r(s){!s.isGroup&&!LRt(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var i=e.start;i<e.end;i++){var o=n.getItemLayout(i);if(wB(o)){var a=new this._LineCtor(n,i,this._seriesScope);a.traverse(r),this.group.add(a),n.setItemGraphicEl(i,a),this._progressiveEls.push(a)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(e){Bv(this._progressiveEls||this.group,e)},t.prototype._doAdd=function(e,n,r){var i=e.getItemLayout(n);if(wB(i)){var o=new this._LineCtor(e,n,r);e.setItemGraphicEl(n,o),this.group.add(o)}},t.prototype._doUpdate=function(e,n,r,i,o){var a=e.getItemGraphicEl(r);if(!wB(n.getItemLayout(i))){this.group.remove(a);return}a?a.updateData(n,i,o):a=new this._LineCtor(n,i,o),n.setItemGraphicEl(i,a),this.group.add(a)},t})();function LRt(t){return t.animators&&t.animators.length>0}function Vie(t){var e=t.hostModel,n=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:Pa(e)}}function zie(t){return isNaN(t[0])||isNaN(t[1])}function wB(t){return t&&!zie(t[0])&&!zie(t[1])}var SB=[],xB=[],CB=[],x0=Na,EB=wm,Hie=Math.abs;function jie(t,e,n){for(var r=t[0],i=t[1],o=t[2],a=1/0,s,l=n*n,u=.1,c=.1;c<=.9;c+=.1){SB[0]=x0(r[0],i[0],o[0],c),SB[1]=x0(r[1],i[1],o[1],c);var f=Hie(EB(SB,e)-l);f<a&&(a=f,s=c)}for(var d=0;d<32;d++){var h=s+u;xB[0]=x0(r[0],i[0],o[0],s),xB[1]=x0(r[1],i[1],o[1],s),CB[0]=x0(r[0],i[0],o[0],h),CB[1]=x0(r[1],i[1],o[1],h);var f=EB(xB,e)-l;if(Hie(f)<.01)break;var p=EB(CB,e)-l;u/=2,f<0?p>=0?s=s+u:s=s-u:p>=0?s=s-u:s=s+u}return s}function TB(t,e){var n=[],r=vC,i=[[],[],[]],o=[[],[]],a=[];e/=2,t.eachEdge(function(s,l){var u=s.getLayout(),c=s.getVisual("fromSymbol"),f=s.getVisual("toSymbol");u.__original||(u.__original=[Yd(u[0]),Yd(u[1])],u[2]&&u.__original.push(Yd(u[2])));var d=u.__original;if(u[2]!=null){if(Gs(i[0],d[0]),Gs(i[1],d[2]),Gs(i[2],d[1]),c&&c!=="none"){var h=SS(s.node1),p=jie(i,d[0],h*e);r(i[0][0],i[1][0],i[2][0],p,n),i[0][0]=n[3],i[1][0]=n[4],r(i[0][1],i[1][1],i[2][1],p,n),i[0][1]=n[3],i[1][1]=n[4]}if(f&&f!=="none"){var h=SS(s.node2),p=jie(i,d[1],h*e);r(i[0][0],i[1][0],i[2][0],p,n),i[1][0]=n[1],i[2][0]=n[2],r(i[0][1],i[1][1],i[2][1],p,n),i[1][1]=n[1],i[2][1]=n[2]}Gs(u[0],i[0]),Gs(u[1],i[2]),Gs(u[2],i[1])}else{if(Gs(o[0],d[0]),Gs(o[1],d[1]),nm(a,o[1],o[0]),T_(a,a),c&&c!=="none"){var h=SS(s.node1);qV(o[0],o[0],a,h*e)}if(f&&f!=="none"){var h=SS(s.node2);qV(o[1],o[1],a,-h*e)}Gs(u[0],o[0]),Gs(u[1],o[1])}})}function Gie(t){return t.type==="view"}var DRt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r){var i=new Q2,o=new D9,a=this.group;this._controller=new iE(r.getZr()),this._controllerHost={target:a},a.add(i.group),a.add(o.group),this._symbolDraw=i,this._lineDraw=o,this._firstRender=!0},e.prototype.render=function(n,r,i){var o=this,a=n.coordinateSystem;this._model=n;var s=this._symbolDraw,l=this._lineDraw,u=this.group;if(Gie(a)){var c={x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY};this._firstRender?u.attr(c):si(u,c,n)}TB(n.getGraph(),wS(n));var f=n.getData();s.updateData(f);var d=n.getEdgeData();l.updateData(d),this._updateNodeAndLinkScale(),this._updateController(n,r,i),clearTimeout(this._layoutTimeout);var h=n.forceLayout,p=n.get(["force","layoutAnimation"]);h&&this._startForceLayoutIteration(h,p);var v=n.get("layout");f.graph.eachNode(function(b){var w=b.dataIndex,S=b.getGraphicEl(),x=b.getModel();if(S){S.off("drag").off("dragend");var C=x.get("draggable");C&&S.on("drag",function(T){switch(v){case"force":h.warmUp(),!o._layouting&&o._startForceLayoutIteration(h,p),h.setFixed(w),f.setItemLayout(w,[S.x,S.y]);break;case"circular":f.setItemLayout(w,[S.x,S.y]),b.setLayout({fixed:!0},!0),R9(n,"symbolSize",b,[T.offsetX,T.offsetY]),o.updateLayout(n);break;case"none":default:f.setItemLayout(w,[S.x,S.y]),I9(n.getGraph(),n),o.updateLayout(n);break}}).on("dragend",function(){h&&h.setUnfixed(w)}),S.setDraggable(C,!!x.get("cursor"));var E=x.get(["emphasis","focus"]);E==="adjacency"&&(ar(S).focus=b.getAdjacentDataIndices())}}),f.graph.eachEdge(function(b){var w=b.getGraphicEl(),S=b.getModel().get(["emphasis","focus"]);w&&S==="adjacency"&&(ar(w).focus={edge:[b.dataIndex],node:[b.node1.dataIndex,b.node2.dataIndex]})});var g=n.get("layout")==="circular"&&n.get(["circular","rotateLabel"]),m=f.getLayout("cx"),y=f.getLayout("cy");f.graph.eachNode(function(b){lCe(b,g,m,y)}),this._firstRender=!1},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(n,r){var i=this;(function o(){n.step(function(a){i.updateLayout(i._model),(i._layouting=!a)&&(r?i._layoutTimeout=setTimeout(o,16):o())})})()},e.prototype._updateController=function(n,r,i){var o=this,a=this._controller,s=this._controllerHost,l=this.group;if(a.setPointerChecker(function(u,c,f){var d=l.getBoundingRect();return d.applyTransform(l.transform),d.contain(c,f)&&!ZR(u,i,n)}),!Gie(n.coordinateSystem)){a.disable();return}a.enable(n.get("roam")),s.zoomLimit=n.get("scaleLimit"),s.zoom=n.coordinateSystem.getZoom(),a.off("pan").off("zoom").on("pan",function(u){x9(s,u.dx,u.dy),i.dispatchAction({seriesId:n.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){C9(s,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(),TB(n.getGraph(),wS(n)),o._lineDraw.updateLayout(),i.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(){var n=this._model,r=n.getData(),i=wS(n);r.eachItemGraphicEl(function(o,a){o&&o.setSymbolScale(i)})},e.prototype.updateLayout=function(n){TB(n.getGraph(),wS(n)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e})(Oi);function C0(t){return"_EC_"+t}var NRt=(function(){function t(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(e,n){e=e==null?""+n:""+e;var r=this._nodesMap;if(!r[C0(e)]){var i=new Lg(e,n);return i.hostGraph=this,this.nodes.push(i),r[C0(e)]=i,i}},t.prototype.getNodeByIndex=function(e){var n=this.data.getRawIndex(e);return this.nodes[n]},t.prototype.getNodeById=function(e){return this._nodesMap[C0(e)]},t.prototype.addEdge=function(e,n,r){var i=this._nodesMap,o=this._edgesMap;if(ri(e)&&(e=this.nodes[e]),ri(n)&&(n=this.nodes[n]),e instanceof Lg||(e=i[C0(e)]),n instanceof Lg||(n=i[C0(n)]),!(!e||!n)){var a=e.id+"-"+n.id,s=new cCe(e,n,r);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),n.inEdges.push(s)),e.edges.push(s),e!==n&&n.edges.push(s),this.edges.push(s),o[a]=s,s}},t.prototype.getEdgeByIndex=function(e){var n=this.edgeData.getRawIndex(e);return this.edges[n]},t.prototype.getEdge=function(e,n){e instanceof Lg&&(e=e.id),n instanceof Lg&&(n=n.id);var r=this._edgesMap;return this._directed?r[e+"-"+n]:r[e+"-"+n]||r[n+"-"+e]},t.prototype.eachNode=function(e,n){for(var r=this.nodes,i=r.length,o=0;o<i;o++)r[o].dataIndex>=0&&e.call(n,r[o],o)},t.prototype.eachEdge=function(e,n){for(var r=this.edges,i=r.length,o=0;o<i;o++)r[o].dataIndex>=0&&r[o].node1.dataIndex>=0&&r[o].node2.dataIndex>=0&&e.call(n,r[o],o)},t.prototype.breadthFirstTraverse=function(e,n,r,i){if(n instanceof Lg||(n=this._nodesMap[C0(n)]),!!n){for(var o=r==="out"?"outEdges":r==="in"?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(i,n,null))for(var s=[n];s.length;)for(var l=s.shift(),u=l[o],a=0;a<u.length;a++){var c=u[a],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(e.call(i,f,l))return;s.push(f),f.__visited=!0}}}},t.prototype.update=function(){for(var e=this.data,n=this.edgeData,r=this.nodes,i=this.edges,o=0,a=r.length;o<a;o++)r[o].dataIndex=-1;for(var o=0,a=e.count();o<a;o++)r[e.getRawIndex(o)].dataIndex=o;n.filterSelf(function(s){var l=i[n.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(var o=0,a=n.count();o<a;o++)i[n.getRawIndex(o)].dataIndex=o},t.prototype.clone=function(){for(var e=new t(this._directed),n=this.nodes,r=this.edges,i=0;i<n.length;i++)e.addNode(n[i].id,n[i].dataIndex);for(var i=0;i<r.length;i++){var o=r[i];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},t})(),Lg=(function(){function t(e,n){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=n??-1}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var n=this.hostGraph,r=n.data.getItemModel(this.dataIndex);return r.getModel(e)}},t.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},n=0;n<this.edges.length;n++){var r=this.edges[n];r.dataIndex<0||(e.edge.push(r.dataIndex),e.node.push(r.node1.dataIndex,r.node2.dataIndex))}return e},t.prototype.getTrajectoryDataIndices=function(){for(var e=Mn(),n=Mn(),r=0;r<this.edges.length;r++){var i=this.edges[r];if(!(i.dataIndex<0)){e.set(i.dataIndex,!0);for(var o=[i.node1],a=[i.node2],s=0;s<o.length;){var l=o[s];s++,n.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)e.set(l.inEdges[u].dataIndex,!0),o.push(l.inEdges[u].node1)}for(s=0;s<a.length;){var c=a[s];s++,n.set(c.dataIndex,!0);for(var u=0;u<c.outEdges.length;u++)e.set(c.outEdges[u].dataIndex,!0),a.push(c.outEdges[u].node2)}}}return{edge:e.keys(),node:n.keys()}},t})(),cCe=(function(){function t(e,n,r){this.dataIndex=-1,this.node1=e,this.node2=n,this.dataIndex=r??-1}return t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var n=this.hostGraph,r=n.edgeData.getItemModel(this.dataIndex);return r.getModel(e)}},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t.prototype.getTrajectoryDataIndices=function(){var e=Mn(),n=Mn();e.set(this.dataIndex,!0);for(var r=[this.node1],i=[this.node2],o=0;o<r.length;){var a=r[o];o++,n.set(a.dataIndex,!0);for(var s=0;s<a.inEdges.length;s++)e.set(a.inEdges[s].dataIndex,!0),r.push(a.inEdges[s].node1)}for(o=0;o<i.length;){var l=i[o];o++,n.set(l.dataIndex,!0);for(var s=0;s<l.outEdges.length;s++)e.set(l.outEdges[s].dataIndex,!0),i.push(l.outEdges[s].node2)}return{edge:e.keys(),node:n.keys()}},t})();function fCe(t,e){return{getValue:function(n){var r=this[t][e];return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}ia(Lg,fCe("hostGraph","data"));ia(cCe,fCe("hostGraph","edgeData"));function dCe(t,e,n,r,i){for(var o=new NRt(r),a=0;a<t.length;a++)o.addNode(Va(t[a].id,t[a].name,a),a);for(var s=[],l=[],u=0,a=0;a<e.length;a++){var c=e[a],f=c.source,d=c.target;o.addEdge(f,d,u)&&(l.push(c),s.push(Va(ca(c.id,null),f+" > "+d)),u++)}var h=n.get("coordinateSystem"),p;if(h==="cartesian2d"||h==="polar")p=Bh(t,n);else{var v=K2.get(h),g=v?v.dimensions||[]:[];Mr(g,"value")<0&&g.concat(["value"]);var m=X2(t,{coordDimensions:g,encodeDefine:n.getEncode()}).dimensions;p=new Qs(m,n),p.initData(t)}var y=new Qs(["value"],n);return y.initData(l,s),i&&i(p,y),qxe({mainData:p,struct:o,structAttr:"graph",datas:{node:p,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}var BRt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return e.prototype.init=function(n){t.prototype.init.apply(this,arguments);var r=this;function i(){return r._categoriesData}this.legendVisualProvider=new rE(i,i),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},e.prototype.mergeOption=function(n){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(n){t.prototype.mergeDefaultAndTheme.apply(this,arguments),Zm(n,"edgeLabel",["show"])},e.prototype.getInitialData=function(n,r){var i=n.edges||n.links||[],o=n.data||n.nodes||[],a=this;if(o&&i){xRt(this);var s=dCe(o,i,this,!0,l);return ie(s.edges,function(u){CRt(u.node1,u.node2,this,u.dataIndex)},this),s.data}function l(u,c){u.wrapMethod("getItemModel",function(p){var v=a._categoriesModels,g=p.getShallow("category"),m=v[g];return m&&(m.parentModel=p.parentModel,p.parentModel=m),p});var f=Ci.prototype.getModel;function d(p,v){var g=f.call(this,p,v);return g.resolveParentPath=h,g}c.wrapMethod("getItemModel",function(p){return p.resolveParentPath=h,p.getModel=d,p});function h(p){if(p&&(p[0]==="label"||p[1]==="label")){var v=p.slice();return p[0]==="label"?v[0]="edgeLabel":p[1]==="label"&&(v[1]="edgeLabel"),v}return p}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(n,r,i){if(i==="edge"){var o=this.getData(),a=this.getDataParams(n,i),s=o.graph.getEdgeByIndex(n),l=o.getName(s.node1.dataIndex),u=o.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Oa("nameValue",{name:c.join(" > "),value:a.value,noValue:a.value==null})}var f=$we({series:this,dataIndex:n,multipleSeries:r});return f},e.prototype._updateCategoriesData=function(){var n=kt(this.option.categories||[],function(i){return i.value!=null?i:yt({value:0},i)}),r=new Qs(["value"],this);r.initData(n),this._categoriesData=r,this._categoriesModels=r.mapArray(function(i){return r.getItemModel(i)})},e.prototype.setZoom=function(n){this.option.zoom=n},e.prototype.setCenter=function(n){this.option.center=n},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e})(Ui),$Rt={type:"graphRoam",event:"graphRoam",update:"none"};function FRt(t){t.registerChartView(DRt),t.registerSeriesModel(BRt),t.registerProcessor(yRt),t.registerVisual(bRt),t.registerVisual(_Rt),t.registerLayout(ERt),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,ARt),t.registerLayout(MRt),t.registerCoordinateSystem("graphView",{dimensions:oE.dimensions,create:ORt}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Vo),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Vo),t.registerAction($Rt,function(e,n,r){n.eachComponent({mainType:"series",query:e},function(i){var o=i.coordinateSystem,a=T9(o,e,void 0,r);i.setCenter&&i.setCenter(a.center),i.setZoom&&i.setZoom(a.zoom)})})}var VRt=(function(){function t(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return t})(),zRt=(function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.type="pointer",r}return e.prototype.getDefaultShape=function(){return new VRt},e.prototype.buildPath=function(n,r){var i=Math.cos,o=Math.sin,a=r.r,s=r.width,l=r.angle,u=r.x-i(l)*s*(s>=a/3?1:2),c=r.y-o(l)*s*(s>=a/3?1:2);l=r.angle-Math.PI/2,n.moveTo(u,c),n.lineTo(r.x+i(l)*s,r.y+o(l)*s),n.lineTo(r.x+i(r.angle)*a,r.y+o(r.angle)*a),n.lineTo(r.x-i(l)*s,r.y-o(l)*s),n.lineTo(u,c)},e})($r);function HRt(t,e){var n=t.get("center"),r=e.getWidth(),i=e.getHeight(),o=Math.min(r,i),a=on(n[0],e.getWidth()),s=on(n[1],e.getHeight()),l=on(t.get("radius"),o/2);return{cx:a,cy:s,r:l}}function mA(t,e){var n=t==null?"":t+"";return e&&(fn(e)?n=e.replace("{value}",n):qn(e)&&(n=e(t))),n}var jRt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){this.group.removeAll();var o=n.get(["axisLine","lineStyle","color"]),a=HRt(n,i);this._renderMain(n,r,i,o,a),this._data=n.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(n,r,i,o,a){var s=this.group,l=n.get("clockwise"),u=-n.get("startAngle")/180*Math.PI,c=-n.get("endAngle")/180*Math.PI,f=n.getModel("axisLine"),d=f.get("roundCap"),h=d?nO:ll,p=f.get("show"),v=f.getModel("lineStyle"),g=v.get("width"),m=[u,c];MG(m,!l),u=m[0],c=m[1];for(var y=c-u,b=u,w=[],S=0;p&&S<o.length;S++){var x=Math.min(Math.max(o[S][0],0),1);c=u+y*x;var C=new h({shape:{startAngle:b,endAngle:c,cx:a.cx,cy:a.cy,clockwise:l,r0:a.r-g,r:a.r},silent:!0});C.setStyle({fill:o[S][1]}),C.setStyle(v.getLineStyle(["color","width"])),w.push(C),b=c}w.reverse(),ie(w,function(T){return s.add(T)});var E=function(T){if(T<=0)return o[0][1];var A;for(A=0;A<o.length;A++)if(o[A][0]>=T&&(A===0?0:o[A-1][0])<T)return o[A][1];return o[A-1][1]};this._renderTicks(n,r,i,E,a,u,c,l,g),this._renderTitleAndDetail(n,r,i,E,a),this._renderAnchor(n,a),this._renderPointer(n,r,i,E,a,u,c,l,g)},e.prototype._renderTicks=function(n,r,i,o,a,s,l,u,c){for(var f=this.group,d=a.cx,h=a.cy,p=a.r,v=+n.get("min"),g=+n.get("max"),m=n.getModel("splitLine"),y=n.getModel("axisTick"),b=n.getModel("axisLabel"),w=n.get("splitNumber"),S=y.get("splitNumber"),x=on(m.get("length"),p),C=on(y.get("length"),p),E=s,T=(l-s)/w,A=T/S,k=m.getModel("lineStyle").getLineStyle(),M=y.getModel("lineStyle").getLineStyle(),D=m.get("distance"),L,I,R=0;R<=w;R++){if(L=Math.cos(E),I=Math.sin(E),m.get("show")){var V=D?D+c:c,P=new Sa({shape:{x1:L*(p-V)+d,y1:I*(p-V)+h,x2:L*(p-x-V)+d,y2:I*(p-x-V)+h},style:k,silent:!0});k.stroke==="auto"&&P.setStyle({stroke:o(R/w)}),f.add(P)}if(b.get("show")){var V=b.get("distance")+D,B=mA(wo(R/w*(g-v)+v),b.get("formatter")),j=o(R/w),G=L*(p-x-V)+d,W=I*(p-x-V)+h,Z=b.get("rotate"),ee=0;Z==="radial"?(ee=-E+2*Math.PI,ee>Math.PI/2&&(ee+=Math.PI)):Z==="tangential"?ee=-E-Math.PI/2:ri(Z)&&(ee=Z*Math.PI/180),ee===0?f.add(new ti({style:Gi(b,{text:B,x:G,y:W,verticalAlign:I<-.8?"top":I>.8?"bottom":"middle",align:L<-.4?"left":L>.4?"right":"center"},{inheritColor:j}),silent:!0})):f.add(new ti({style:Gi(b,{text:B,x:G,y:W,verticalAlign:"middle",align:"center"},{inheritColor:j}),silent:!0,originX:G,originY:W,rotation:ee}))}if(y.get("show")&&R!==w){var V=y.get("distance");V=V?V+c:c;for(var oe=0;oe<=S;oe++){L=Math.cos(E),I=Math.sin(E);var ce=new Sa({shape:{x1:L*(p-V)+d,y1:I*(p-V)+h,x2:L*(p-C-V)+d,y2:I*(p-C-V)+h},silent:!0,style:M});M.stroke==="auto"&&ce.setStyle({stroke:o((R+oe/S)/w)}),f.add(ce),E+=A}E-=A}else E+=T}},e.prototype._renderPointer=function(n,r,i,o,a,s,l,u,c){var f=this.group,d=this._data,h=this._progressEls,p=[],v=n.get(["pointer","show"]),g=n.getModel("progress"),m=g.get("show"),y=n.getData(),b=y.mapDimension("value"),w=+n.get("min"),S=+n.get("max"),x=[w,S],C=[s,l];function E(A,k){var M=y.getItemModel(A),D=M.getModel("pointer"),L=on(D.get("width"),a.r),I=on(D.get("length"),a.r),R=n.get(["pointer","icon"]),V=D.get("offsetCenter"),P=on(V[0],a.r),B=on(V[1],a.r),j=D.get("keepAspect"),G;return R?G=ra(R,P-L/2,B-I,L,I,null,j):G=new zRt({shape:{angle:-Math.PI/2,width:L,r:I,x:P,y:B}}),G.rotation=-(k+Math.PI/2),G.x=a.cx,G.y=a.cy,G}function T(A,k){var M=g.get("roundCap"),D=M?nO:ll,L=g.get("overlap"),I=L?g.get("width"):c/y.count(),R=L?a.r-I:a.r-(A+1)*I,V=L?a.r:a.r-A*I,P=new D({shape:{startAngle:s,endAngle:k,cx:a.cx,cy:a.cy,clockwise:u,r0:R,r:V}});return L&&(P.z2=gi(y.get(b,A),[w,S],[100,0],!0)),P}(m||v)&&(y.diff(d).add(function(A){var k=y.get(b,A);if(v){var M=E(A,s);eo(M,{rotation:-((isNaN(+k)?C[0]:gi(k,x,C,!0))+Math.PI/2)},n),f.add(M),y.setItemGraphicEl(A,M)}if(m){var D=T(A,s),L=g.get("clip");eo(D,{shape:{endAngle:gi(k,x,C,L)}},n),f.add(D),w5(n.seriesIndex,y.dataType,A,D),p[A]=D}}).update(function(A,k){var M=y.get(b,A);if(v){var D=d.getItemGraphicEl(k),L=D?D.rotation:s,I=E(A,L);I.rotation=L,si(I,{rotation:-((isNaN(+M)?C[0]:gi(M,x,C,!0))+Math.PI/2)},n),f.add(I),y.setItemGraphicEl(A,I)}if(m){var R=h[k],V=R?R.shape.endAngle:s,P=T(A,V),B=g.get("clip");si(P,{shape:{endAngle:gi(M,x,C,B)}},n),f.add(P),w5(n.seriesIndex,y.dataType,A,P),p[A]=P}}).execute(),y.each(function(A){var k=y.getItemModel(A),M=k.getModel("emphasis"),D=M.get("focus"),L=M.get("blurScope"),I=M.get("disabled");if(v){var R=y.getItemGraphicEl(A),V=y.getItemVisual(A,"style"),P=V.fill;if(R instanceof qa){var B=R.style;R.useStyle(yt({image:B.image,x:B.x,y:B.y,width:B.width,height:B.height},V))}else R.useStyle(V),R.type!=="pointer"&&R.setColor(P);R.setStyle(k.getModel(["pointer","itemStyle"]).getItemStyle()),R.style.fill==="auto"&&R.setStyle("fill",o(gi(y.get(b,A),x,[0,1],!0))),R.z2EmphasisLift=0,ls(R,k),go(R,D,L,I)}if(m){var j=p[A];j.useStyle(y.getItemVisual(A,"style")),j.setStyle(k.getModel(["progress","itemStyle"]).getItemStyle()),j.z2EmphasisLift=0,ls(j,k),go(j,D,L,I)}}),this._progressEls=p)},e.prototype._renderAnchor=function(n,r){var i=n.getModel("anchor"),o=i.get("show");if(o){var a=i.get("size"),s=i.get("icon"),l=i.get("offsetCenter"),u=i.get("keepAspect"),c=ra(s,r.cx-a/2+on(l[0],r.r),r.cy-a/2+on(l[1],r.r),a,a,null,u);c.z2=i.get("showAbove")?1:0,c.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(c)}},e.prototype._renderTitleAndDetail=function(n,r,i,o,a){var s=this,l=n.getData(),u=l.mapDimension("value"),c=+n.get("min"),f=+n.get("max"),d=new nr,h=[],p=[],v=n.isAnimationEnabled(),g=n.get(["pointer","showAbove"]);l.diff(this._data).add(function(m){h[m]=new ti({silent:!0}),p[m]=new ti({silent:!0})}).update(function(m,y){h[m]=s._titleEls[y],p[m]=s._detailEls[y]}).execute(),l.each(function(m){var y=l.getItemModel(m),b=l.get(u,m),w=new nr,S=o(gi(b,[c,f],[0,1],!0)),x=y.getModel("title");if(x.get("show")){var C=x.get("offsetCenter"),E=a.cx+on(C[0],a.r),T=a.cy+on(C[1],a.r),A=h[m];A.attr({z2:g?0:2,style:Gi(x,{x:E,y:T,text:l.getName(m),align:"center",verticalAlign:"middle"},{inheritColor:S})}),w.add(A)}var k=y.getModel("detail");if(k.get("show")){var M=k.get("offsetCenter"),D=a.cx+on(M[0],a.r),L=a.cy+on(M[1],a.r),I=on(k.get("width"),a.r),R=on(k.get("height"),a.r),V=n.get(["progress","show"])?l.getItemVisual(m,"style").fill:S,A=p[m],P=k.get("formatter");A.attr({z2:g?0:2,style:Gi(k,{x:D,y:L,text:mA(b,P),width:isNaN(I)?null:I,height:isNaN(R)?null:R,align:"center",verticalAlign:"middle"},{inheritColor:V})}),H_e(A,{normal:k},b,function(j){return mA(j,P)}),v&&j_e(A,m,l,n,{getFormattedLabel:function(j,G,W,Z,ee,oe){return mA(oe?oe.interpolatedValue:b,P)}}),w.add(A)}d.add(w)}),this.group.add(d),this._titleEls=h,this._detailEls=p},e.type="gauge",e})(Oi),GRt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="itemStyle",n}return e.prototype.getInitialData=function(n,r){return V_(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e})(Ui);function URt(t){t.registerChartView(jRt),t.registerSeriesModel(GRt)}var WRt=["itemStyle","opacity"],qRt=(function(t){nt(e,t);function e(n,r){var i=t.call(this)||this,o=i,a=new cl,s=new ti;return o.setTextContent(s),i.setTextGuideLine(a),i.updateData(n,r,!0),i}return e.prototype.updateData=function(n,r,i){var o=this,a=n.hostModel,s=n.getItemModel(r),l=n.getItemLayout(r),u=s.getModel("emphasis"),c=s.get(WRt);c=c??1,i||$c(o),o.useStyle(n.getItemVisual(r,"style")),o.style.lineJoin="round",i?(o.setShape({points:l.points}),o.style.opacity=0,eo(o,{style:{opacity:c}},a,r)):si(o,{style:{opacity:c},shape:{points:l.points}},a,r),ls(o,s),this._updateLabel(n,r),go(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(n,r){var i=this,o=this.getTextGuideLine(),a=i.getTextContent(),s=n.hostModel,l=n.getItemModel(r),u=n.getItemLayout(r),c=u.label,f=n.getItemVisual(r,"style"),d=f.fill;us(a,Pa(l),{labelFetcher:n.hostModel,labelDataIndex:r,defaultOpacity:f.opacity,defaultText:n.getName(r)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}}),i.setTextConfig({local:!0,inside:!!c.inside,insideStroke:d,outsideFill:d});var h=c.linePoints;o.setShape({points:h}),i.textGuideLineConfig={anchor:h?new _r(h[0][0],h[0][1]):null},si(a,{style:{x:c.x,y:c.y}},s,r),a.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),d9(i,h9(l),{stroke:d})},e})(ul),KRt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreLabelLineUpdate=!0,n}return e.prototype.render=function(n,r,i){var o=n.getData(),a=this._data,s=this.group;o.diff(a).add(function(l){var u=new qRt(o,l);o.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var c=a.getItemGraphicEl(u);c.updateData(o,l),s.add(c),o.setItemGraphicEl(l,c)}).remove(function(l){var u=a.getItemGraphicEl(l);wC(u,n,l)}).execute(),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e})(Oi),YRt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new rE(vn(this.getData,this),vn(this.getRawData,this)),this._defaultLabelLine(n)},e.prototype.getInitialData=function(n,r){return V_(this,{coordDimensions:["value"],encodeDefaulter:hr(WG,this)})},e.prototype._defaultLabelLine=function(n){Zm(n,"labelLine",["show"]);var r=n.labelLine,i=n.emphasis.labelLine;r.show=r.show&&n.label.show,i.show=i.show&&n.emphasis.label.show},e.prototype.getDataParams=function(n){var r=this.getData(),i=t.prototype.getDataParams.call(this,n),o=r.mapDimension("value"),a=r.getSum(o);return i.percent=a?+(r.get(o,n)/a*100).toFixed(2):0,i.$vars.push("percent"),i},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e})(Ui);function XRt(t,e){return ha(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function ZRt(t,e){for(var n=t.mapDimension("value"),r=t.mapArray(n,function(l){return l}),i=[],o=e==="ascending",a=0,s=t.count();a<s;a++)i[a]=a;return qn(e)?i.sort(e):e!=="none"&&i.sort(function(l,u){return o?r[l]-r[u]:r[u]-r[l]}),i}function JRt(t){var e=t.hostModel,n=e.get("orient");t.each(function(r){var i=t.getItemModel(r),o=i.getModel("label"),a=o.get("position"),s=i.getModel("labelLine"),l=t.getItemLayout(r),u=l.points,c=a==="inner"||a==="inside"||a==="center"||a==="insideLeft"||a==="insideRight",f,d,h,p;if(c)a==="insideLeft"?(d=(u[0][0]+u[3][0])/2+5,h=(u[0][1]+u[3][1])/2,f="left"):a==="insideRight"?(d=(u[1][0]+u[2][0])/2-5,h=(u[1][1]+u[2][1])/2,f="right"):(d=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,h=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),p=[[d,h],[d,h]];else{var v=void 0,g=void 0,m=void 0,y=void 0,b=s.get("length");a==="left"?(v=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,m=v-b,d=m-5,f="right"):a==="right"?(v=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,m=v+b,d=m+5,f="left"):a==="top"?(v=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,y=g-b,h=y-5,f="center"):a==="bottom"?(v=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,y=g+b,h=y+5,f="center"):a==="rightTop"?(v=n==="horizontal"?u[3][0]:u[1][0],g=n==="horizontal"?u[3][1]:u[1][1],n==="horizontal"?(y=g-b,h=y-5,f="center"):(m=v+b,d=m+5,f="top")):a==="rightBottom"?(v=u[2][0],g=u[2][1],n==="horizontal"?(y=g+b,h=y+5,f="center"):(m=v+b,d=m+5,f="bottom")):a==="leftTop"?(v=u[0][0],g=n==="horizontal"?u[0][1]:u[1][1],n==="horizontal"?(y=g-b,h=y-5,f="center"):(m=v-b,d=m-5,f="right")):a==="leftBottom"?(v=n==="horizontal"?u[1][0]:u[3][0],g=n==="horizontal"?u[1][1]:u[2][1],n==="horizontal"?(y=g+b,h=y+5,f="center"):(m=v-b,d=m-5,f="right")):(v=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,n==="horizontal"?(y=g+b,h=y+5,f="center"):(m=v+b,d=m+5,f="left")),n==="horizontal"?(m=v,d=m):(y=g,h=y),p=[[v,g],[m,y]]}l.label={linePoints:p,x:d,y:h,verticalAlign:"middle",textAlign:f,inside:c}})}function QRt(t,e){t.eachSeriesByType("funnel",function(n){var r=n.getData(),i=r.mapDimension("value"),o=n.get("sort"),a=XRt(n,e),s=n.get("orient"),l=a.width,u=a.height,c=ZRt(r,o),f=a.x,d=a.y,h=s==="horizontal"?[on(n.get("minSize"),u),on(n.get("maxSize"),u)]:[on(n.get("minSize"),l),on(n.get("maxSize"),l)],p=r.getDataExtent(i),v=n.get("min"),g=n.get("max");v==null&&(v=Math.min(p[0],0)),g==null&&(g=p[1]);var m=n.get("funnelAlign"),y=n.get("gap"),b=s==="horizontal"?l:u,w=(b-y*(r.count()-1))/r.count(),S=function(L,I){if(s==="horizontal"){var R=r.get(i,L)||0,V=gi(R,[v,g],h,!0),P=void 0;switch(m){case"top":P=d;break;case"center":P=d+(u-V)/2;break;case"bottom":P=d+(u-V);break}return[[I,P],[I,P+V]]}var B=r.get(i,L)||0,j=gi(B,[v,g],h,!0),G;switch(m){case"left":G=f;break;case"center":G=f+(l-j)/2;break;case"right":G=f+l-j;break}return[[G,I],[G+j,I]]};o==="ascending"&&(w=-w,y=-y,s==="horizontal"?f+=l:d+=u,c=c.reverse());for(var x=0;x<c.length;x++){var C=c[x],E=c[x+1],T=r.getItemModel(C);if(s==="horizontal"){var A=T.get(["itemStyle","width"]);A==null?A=w:(A=on(A,l),o==="ascending"&&(A=-A));var k=S(C,f),M=S(E,f+A);f+=A+y,r.setItemLayout(C,{points:k.concat(M.slice().reverse())})}else{var D=T.get(["itemStyle","height"]);D==null?D=w:(D=on(D,u),o==="ascending"&&(D=-D));var k=S(C,d),M=S(E,d+D);d+=D+y,r.setItemLayout(C,{points:k.concat(M.slice().reverse())})}}JRt(r)})}function eLt(t){t.registerChartView(KRt),t.registerSeriesModel(YRt),t.registerLayout(QRt),t.registerProcessor(nE("funnel"))}var tLt=.3,nLt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._dataGroup=new nr,n._initialized=!1,n}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(n,r,i,o){this._progressiveEls=null;var a=this._dataGroup,s=n.getData(),l=this._data,u=n.coordinateSystem,c=u.dimensions,f=Wie(n);s.diff(l).add(d).update(h).remove(p).execute();function d(g){var m=Uie(s,a,g,c,u);AB(m,s,g,f)}function h(g,m){var y=l.getItemGraphicEl(m),b=hCe(s,g,c,u);s.setItemGraphicEl(g,y),si(y,{shape:{points:b}},n,g),$c(y),AB(y,s,g,f)}function p(g){var m=l.getItemGraphicEl(g);a.remove(m)}if(!this._initialized){this._initialized=!0;var v=rLt(u,n,function(){setTimeout(function(){a.removeClipPath()})});a.setClipPath(v)}this._data=s},e.prototype.incrementalPrepareRender=function(n,r,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(n,r,i){for(var o=r.getData(),a=r.coordinateSystem,s=a.dimensions,l=Wie(r),u=this._progressiveEls=[],c=n.start;c<n.end;c++){var f=Uie(o,this._dataGroup,c,s,a);f.incremental=!0,AB(f,o,c,l),u.push(f)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e})(Oi);function rLt(t,e,n){var r=t.model,i=t.getRect(),o=new Jr({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),a=r.get("layout")==="horizontal"?"width":"height";return o.setShape(a,0),eo(o,{shape:{width:i.width,height:i.height}},e,n),o}function hCe(t,e,n,r){for(var i=[],o=0;o<n.length;o++){var a=n[o],s=t.get(t.mapDimension(a),e);iLt(s,r.getAxis(a).type)||i.push(r.dataToPoint(s,a))}return i}function Uie(t,e,n,r,i){var o=hCe(t,n,r,i),a=new cl({shape:{points:o},z2:10});return e.add(a),t.setItemGraphicEl(n,a),a}function Wie(t){var e=t.get("smooth",!0);return e===!0&&(e=tLt),e=nd(e),hC(e)&&(e=0),{smooth:e}}function AB(t,e,n,r){t.useStyle(e.getItemVisual(n,"style")),t.style.fill=null,t.setShape("smooth",r.smooth);var i=e.getItemModel(n),o=i.getModel("emphasis");ls(t,i,"lineStyle"),go(t,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function iLt(t,e){return e==="category"?t==null:t==null||isNaN(t)}var oLt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return e.prototype.getInitialData=function(n,r){return Bh(null,this,{useEncodeDefaulter:vn(aLt,null,this)})},e.prototype.getRawIndicesByActiveState=function(n){var r=this.coordinateSystem,i=this.getData(),o=[];return r.eachActiveState(i,function(a,s){n===a&&o.push(i.getRawIndex(s))}),o},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e})(Ui);function aLt(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(e){var n={};return ie(e.dimensions,function(r){var i=sLt(r);n[r]=i}),n}}function sLt(t){return+t.replace("dim","")}var lLt=["lineStyle","opacity"],uLt={seriesType:"parallel",reset:function(t,e){var n=t.coordinateSystem,r={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(i,o){n.eachActiveState(o,function(a,s){var l=r[a];if(a==="normal"&&o.hasItemOption){var u=o.getItemModel(s).get(lLt,!0);u!=null&&(l=u)}var c=o.ensureUniqueItemVisual(s,"style");c.opacity=l},i.start,i.end)}}}};function cLt(t){fLt(t),dLt(t)}function fLt(t){if(!t.parallel){var e=!1;ie(t.series,function(n){n&&n.type==="parallel"&&(e=!0)}),e&&(t.parallel=[{}])}}function dLt(t){var e=Mi(t.parallelAxis);ie(e,function(n){if(Zn(n)){var r=n.parallelIndex||0,i=Mi(t.parallel)[r];i&&i.parallelAxisDefault&&mr(n,i.parallelAxisDefault,!1)}})}var hLt=5,pLt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){this._model=n,this._api=i,this._handlers||(this._handlers={},ie(vLt,function(o,a){i.getZr().on(a,this._handlers[a]=vn(o,this))},this)),B_(this,"_throttledDispatchExpand",n.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(n,r){EC(this,"_throttledDispatchExpand"),ie(this._handlers,function(i,o){r.getZr().off(o,i)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(n){this._dispatchExpand(n)},e.prototype._dispatchExpand=function(n){n&&this._api.dispatchAction(yt({type:"parallelAxisExpand"},n))},e.type="parallel",e})(so),vLt={mousedown:function(t){kB(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(kB(this,"click")&&e){var n=[t.offsetX,t.offsetY],r=Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2);if(r>hLt)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!(this._mouseDownPoint||!kB(this,"mousemove"))){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),r=n.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:n.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function kB(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}var gLt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(n){var r=this.option;n&&mr(r,n,!0),this._initDimensions()},e.prototype.contains=function(n,r){var i=n.get("parallelIndex");return i!=null&&r.getComponent("parallel",i)===this},e.prototype.setAxisExpand=function(n){ie(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){n.hasOwnProperty(r)&&(this.option[r]=n[r])},this)},e.prototype._initDimensions=function(){var n=this.dimensions=[],r=this.parallelAxisIndex=[],i=yi(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(o){return(o.get("parallelIndex")||0)===this.componentIndex},this);ie(i,function(o){n.push("dim"+o.get("dim")),r.push(o.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e})(Gr),mLt=(function(t){nt(e,t);function e(n,r,i,o,a){var s=t.call(this,n,r,i)||this;return s.type=o||"value",s.axisIndex=a,s}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e})(Jc);function Iy(t,e,n,r,i,o){t=t||0;var a=n[1]-n[0];if(i!=null&&(i=E0(i,[0,a])),o!=null&&(o=Math.max(o,i??0)),r==="all"){var s=Math.abs(e[1]-e[0]);s=E0(s,[0,a]),i=o=E0(s,[i,o]),r=0}e[0]=E0(e[0],n),e[1]=E0(e[1],n);var l=MB(e,r);e[r]+=t;var u=i||0,c=n.slice();l.sign<0?c[0]+=u:c[1]-=u,e[r]=E0(e[r],c);var f;return f=MB(e,r),i!=null&&(f.sign!==l.sign||f.span<i)&&(e[1-r]=e[r]+l.sign*i),f=MB(e,r),o!=null&&f.span>o&&(e[1-r]=e[r]+f.sign*o),e}function MB(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function E0(t,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,t))}var PB=ie,pCe=Math.min,vCe=Math.max,qie=Math.floor,yLt=Math.ceil,Kie=wo,bLt=Math.PI,_Lt=(function(){function t(e,n,r){this.type="parallel",this._axesMap=Mn(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,n,r)}return t.prototype._init=function(e,n,r){var i=e.dimensions,o=e.parallelAxisIndex;PB(i,function(a,s){var l=o[s],u=n.getComponent("parallelAxis",l),c=this._axesMap.set(a,new mLt(a,YR(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},t.prototype.update=function(e,n){this._updateAxesFromSeries(this._model,e)},t.prototype.containPoint=function(e){var n=this._makeLayoutInfo(),r=n.axisBase,i=n.layoutBase,o=n.pixelDimIndex,a=e[1-o],s=e[o];return a>=r&&a<=r+n.axisLength&&s>=i&&s<=i+n.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(e,n){n.eachSeries(function(r){if(e.contains(r,n)){var i=r.getData();PB(this.dimensions,function(o){var a=this._axesMap.get(o);a.scale.unionExtentFromData(i,i.mapDimension(o)),N1(a.scale,a.model)},this)}},this)},t.prototype.resize=function(e,n){this._rect=ha(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var e=this._model,n=this._rect,r=["x","y"],i=["width","height"],o=e.get("layout"),a=o==="horizontal"?0:1,s=n[i[a]],l=[0,s],u=this.dimensions.length,c=yA(e.get("axisExpandWidth"),l),f=yA(e.get("axisExpandCount")||0,[0,u]),d=e.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&s>0,h=e.get("axisExpandWindow"),p;if(h)p=yA(h[1]-h[0],l),h[1]=h[0]+p;else{p=yA(c*(f-1),l);var v=e.get("axisExpandCenter")||qie(u/2);h=[c*v-p/2],h[1]=h[0]+p}var g=(s-p)/(u-f);g<3&&(g=0);var m=[qie(Kie(h[0]/c,1))+1,yLt(Kie(h[1]/c,1))-1],y=g/c*h[0];return{layout:o,pixelDimIndex:a,layoutBase:n[r[a]],layoutLength:s,axisBase:n[r[1-a]],axisLength:n[i[1-a]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:g,axisExpandWindow:h,axisCount:u,winInnerIndices:m,axisExpandWindow0Pos:y}},t.prototype._layoutAxes=function(){var e=this._rect,n=this._axesMap,r=this.dimensions,i=this._makeLayoutInfo(),o=i.layout;n.each(function(a){var s=[0,i.axisLength],l=a.inverse?1:0;a.setExtent(s[l],s[1-l])}),PB(r,function(a,s){var l=(i.axisExpandable?SLt:wLt)(s,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},c={horizontal:bLt/2,vertical:0},f=[u[o].x+e.x,u[o].y+e.y],d=c[o],h=Jl();Ey(h,h,d),ed(h,h,f),this._axesLayout[a]={position:f,rotation:d,transform:h,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},t.prototype.getAxis=function(e){return this._axesMap.get(e)},t.prototype.dataToPoint=function(e,n){return this.axisCoordToPoint(this._axesMap.get(n).dataToCoord(e),n)},t.prototype.eachActiveState=function(e,n,r,i){r==null&&(r=0),i==null&&(i=e.count());var o=this._axesMap,a=this.dimensions,s=[],l=[];ie(a,function(g){s.push(e.mapDimension(g)),l.push(o.get(g).model)});for(var u=this.hasAxisBrushed(),c=r;c<i;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var d=e.getValues(s,c),h=0,p=a.length;h<p;h++){var v=l[h].getActiveState(d[h]);if(v==="inactive"){f="inactive";break}}}n(f,c)}},t.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,n=this._axesMap,r=!1,i=0,o=e.length;i<o;i++)n.get(e[i]).model.getActiveState()!=="normal"&&(r=!0);return r},t.prototype.axisCoordToPoint=function(e,n){var r=this._axesLayout[n];return Cc([e,0],r.transform)},t.prototype.getAxisLayout=function(e){return Jn(this._axesLayout[e])},t.prototype.getSlidedAxisExpandWindow=function(e){var n=this._makeLayoutInfo(),r=n.pixelDimIndex,i=n.axisExpandWindow.slice(),o=i[1]-i[0],a=[0,n.axisExpandWidth*(n.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var s=e[r]-n.layoutBase-n.axisExpandWindow0Pos,l,u="slide",c=n.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),d=f[0]!=null;if(c)d&&c&&s<o*f[0]?(u="jump",l=s-o*f[2]):d&&c&&s>o*(1-f[0])?(u="jump",l=s-o*(1-f[2])):(l=s-o*f[1])>=0&&(l=s-o*(1-f[1]))<=0&&(l=0),l*=n.axisExpandWidth/c,l?Iy(l,i,a,"all"):u="none";else{var h=i[1]-i[0],p=a[1]*s/h;i=[vCe(0,p-h/2)],i[1]=pCe(a[1],i[0]+h),i[0]=i[1]-h}return{axisExpandWindow:i,behavior:u}},t})();function yA(t,e){return pCe(vCe(t,e[0]),e[1])}function wLt(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}}function SLt(t,e){var n=e.layoutLength,r=e.axisExpandWidth,i=e.axisCount,o=e.axisCollapseWidth,a=e.winInnerIndices,s,l=o,u=!1,c;return t<a[0]?(s=t*o,c=o):t<=a[1]?(s=e.axisExpandWindow0Pos+t*r-e.axisExpandWindow[0],l=r,u=!0):(s=n-(i-1-t)*o,c=o),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function xLt(t,e){var n=[];return t.eachComponent("parallel",function(r,i){var o=new _Lt(r,t,e);o.name="parallel_"+i,o.resize(r,e),r.coordinateSystem=o,o.model=r,n.push(o)}),t.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var i=r.getReferringComponents("parallel",Qo).models[0];r.coordinateSystem=i.coordinateSystem}}),n}var CLt={create:xLt},f6=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.activeIntervals=[],n}return e.prototype.getAreaSelectStyle=function(){return Qm([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(n){var r=this.activeIntervals=Jn(n);if(r)for(var i=r.length-1;i>=0;i--)Ul(r[i])},e.prototype.getActiveState=function(n){var r=this.activeIntervals;if(!r.length)return"normal";if(n==null||isNaN(+n))return"inactive";if(r.length===1){var i=r[0];if(i[0]<=n&&n<=i[1])return"active"}else for(var o=0,a=r.length;o<a;o++)if(r[o][0]<=n&&n<=r[o][1])return"active";return"inactive"},e})(Gr);ia(f6,Z2);var ny=!0,BC=Math.min,F1=Math.max,ELt=Math.pow,TLt=1e4,ALt=6,kLt=6,Yie="globalPan",MLt={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},PLt={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Xie={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},OLt=0,N9=(function(t){nt(e,t);function e(n){var r=t.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=n,r.group=new nr,r._uid="brushController_"+OLt++,ie($Lt,function(i,o){this._handlers[o]=vn(i,this)},r),r}return e.prototype.enableBrush=function(n){return this._brushType&&this._doDisableBrush(),n.brushType&&this._doEnableBrush(n),this},e.prototype._doEnableBrush=function(n){var r=this._zr;this._enableGlobalPan||wOt(r,Yie,this._uid),ie(this._handlers,function(i,o){r.on(o,i)}),this._brushType=n.brushType,this._brushOption=mr(Jn(Xie),n,!0)},e.prototype._doDisableBrush=function(){var n=this._zr;SOt(n,Yie,this._uid),ie(this._handlers,function(r,i){n.off(i,r)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(n){if(n&&n.length){var r=this._panels={};ie(n,function(i){r[i.panelId]=Jn(i)})}else this._panels=null;return this},e.prototype.mount=function(n){n=n||{},this._enableGlobalPan=n.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:n.x||0,y:n.y||0,rotation:n.rotation||0,scaleX:n.scaleX||1,scaleY:n.scaleY||1}),this._transform=r.getLocalTransform(),this},e.prototype.updateCovers=function(n){n=kt(n,function(d){return mr(Jn(Xie),d,!0)});var r="\0-brush-index-",i=this._covers,o=this._covers=[],a=this,s=this._creatingCover;return new mh(i,n,u,l).add(c).update(c).remove(f).execute(),this;function l(d,h){return(d.id!=null?d.id:r+h)+"-"+d.brushType}function u(d,h){return l(d.__brushOption,h)}function c(d,h){var p=n[d];if(h!=null&&i[h]===s)o[d]=i[h];else{var v=o[d]=h!=null?(i[h].__brushOption=p,i[h]):mCe(a,gCe(a,p));B9(a,v)}}function f(d){i[d]!==s&&a.group.remove(i[d])}},e.prototype.unmount=function(){return this.enableBrush(!1),d6(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e})(ec);function gCe(t,e){var n=tL[e.brushType].createCover(t,e);return n.__brushOption=e,bCe(n,e),t.group.add(n),n}function mCe(t,e){var n=$9(e);return n.endCreating&&(n.endCreating(t,e),bCe(e,e.__brushOption)),e}function yCe(t,e){var n=e.__brushOption;$9(e).updateCoverShape(t,e,n.range,n)}function bCe(t,e){var n=e.z;n==null&&(n=TLt),t.traverse(function(r){r.z=n,r.z2=n})}function B9(t,e){$9(e).updateCommon(t,e),yCe(t,e)}function $9(t){return tL[t.__brushOption.brushType]}function F9(t,e,n){var r=t._panels;if(!r)return ny;var i,o=t._transform;return ie(r,function(a){a.isTargetByCursor(e,n,o)&&(i=a)}),i}function _Ce(t,e){var n=t._panels;if(!n)return ny;var r=e.__brushOption.panelId;return r!=null?n[r]:ny}function d6(t){var e=t._covers,n=e.length;return ie(e,function(r){t.group.remove(r)},t),e.length=0,!!n}function ry(t,e){var n=kt(t._covers,function(r){var i=r.__brushOption,o=Jn(i.range);return{brushType:i.brushType,panelId:i.panelId,range:o}});t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function ILt(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],r=e[0],i=n[0]-r[0],o=n[1]-r[1],a=ELt(i*i+o*o,.5);return a>ALt}function wCe(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function SCe(t,e,n,r){var i=new nr;return i.add(new Jr({name:"main",style:V9(n),silent:!0,draggable:!0,cursor:"move",drift:hr(Zie,t,e,i,["n","s","w","e"]),ondragend:hr(ry,e,{isEnd:!0})})),ie(r,function(o){i.add(new Jr({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:hr(Zie,t,e,i,o),ondragend:hr(ry,e,{isEnd:!0})}))}),i}function xCe(t,e,n,r){var i=r.brushStyle.lineWidth||0,o=F1(i,kLt),a=n[0][0],s=n[1][0],l=a-i/2,u=s-i/2,c=n[0][1],f=n[1][1],d=c-o+i/2,h=f-o+i/2,p=c-a,v=f-s,g=p+i,m=v+i;Ed(t,e,"main",a,s,p,v),r.transformable&&(Ed(t,e,"w",l,u,o,m),Ed(t,e,"e",d,u,o,m),Ed(t,e,"n",l,u,g,o),Ed(t,e,"s",l,h,g,o),Ed(t,e,"nw",l,u,o,o),Ed(t,e,"ne",d,u,o,o),Ed(t,e,"sw",l,h,o,o),Ed(t,e,"se",d,h,o,o))}function h6(t,e){var n=e.__brushOption,r=n.transformable,i=e.childAt(0);i.useStyle(V9(n)),i.attr({silent:!r,cursor:r?"move":"default"}),ie([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var a=e.childOfName(o.join("")),s=o.length===1?p6(t,o[0]):LLt(t,o);a&&a.attr({silent:!r,invisible:!r,cursor:r?PLt[s]+"-resize":null})})}function Ed(t,e,n,r,i,o,a){var s=e.childOfName(n);s&&s.setShape(NLt(z9(t,e,[[r,i],[r+o,i+a]])))}function V9(t){return Yn({strokeNoScale:!0},t.brushStyle)}function CCe(t,e,n,r){var i=[BC(t,n),BC(e,r)],o=[F1(t,n),F1(e,r)];return[[i[0],o[0]],[i[1],o[1]]]}function RLt(t){return Tm(t.group)}function p6(t,e){var n={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},i=RR(n[e],RLt(t));return r[i]}function LLt(t,e){var n=[p6(t,e[0]),p6(t,e[1])];return(n[0]==="e"||n[0]==="w")&&n.reverse(),n.join("")}function Zie(t,e,n,r,i,o){var a=n.__brushOption,s=t.toRectRange(a.range),l=ECe(e,i,o);ie(r,function(u){var c=MLt[u];s[c[0]][c[1]]+=l[c[0]]}),a.range=t.fromRectRange(CCe(s[0][0],s[1][0],s[0][1],s[1][1])),B9(e,n),ry(e,{isEnd:!1})}function DLt(t,e,n,r){var i=e.__brushOption.range,o=ECe(t,n,r);ie(i,function(a){a[0]+=o[0],a[1]+=o[1]}),B9(t,e),ry(t,{isEnd:!1})}function ECe(t,e,n){var r=t.group,i=r.transformCoordToLocal(e,n),o=r.transformCoordToLocal(0,0);return[i[0]-o[0],i[1]-o[1]]}function z9(t,e,n){var r=_Ce(t,e);return r&&r!==ny?r.clipPath(n,t._transform):Jn(n)}function NLt(t){var e=BC(t[0][0],t[1][0]),n=BC(t[0][1],t[1][1]),r=F1(t[0][0],t[1][0]),i=F1(t[0][1],t[1][1]);return{x:e,y:n,width:r-e,height:i-n}}function BLt(t,e,n){if(!(!t._brushType||FLt(t,e.offsetX,e.offsetY))){var r=t._zr,i=t._covers,o=F9(t,e,n);if(!t._dragging)for(var a=0;a<i.length;a++){var s=i[a].__brushOption;if(o&&(o===ny||s.panelId===o.panelId)&&tL[s.brushType].contain(i[a],n[0],n[1]))return}o&&r.setCursorStyle("crosshair")}}function v6(t){var e=t.event;e.preventDefault&&e.preventDefault()}function g6(t,e,n){return t.childOfName("main").contain(e,n)}function TCe(t,e,n,r){var i=t._creatingCover,o=t._creatingPanel,a=t._brushOption,s;if(t._track.push(n.slice()),ILt(t)||i){if(o&&!i){a.brushMode==="single"&&d6(t);var l=Jn(a);l.brushType=Jie(l.brushType,o),l.panelId=o===ny?null:o.panelId,i=t._creatingCover=gCe(t,l),t._covers.push(i)}if(i){var u=tL[Jie(t._brushType,o)],c=i.__brushOption;c.range=u.getCreatingRange(z9(t,i,t._track)),r&&(mCe(t,i),u.updateCommon(t,i)),yCe(t,i),s={isEnd:r}}}else r&&a.brushMode==="single"&&a.removeOnClick&&F9(t,e,n)&&d6(t)&&(s={isEnd:r,removeOnClick:!0});return s}function Jie(t,e){return t==="auto"?e.defaultBrushType:t}var $Lt={mousedown:function(t){if(this._dragging)Qie(this,t);else if(!t.target||!t.target.draggable){v6(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var n=this._creatingPanel=F9(this,t,e);n&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,r=this.group.transformCoordToLocal(e,n);if(BLt(this,t,r),this._dragging){v6(t);var i=TCe(this,t,r,!1);i&&ry(this,i)}},mouseup:function(t){Qie(this,t)}};function Qie(t,e){if(t._dragging){v6(e);var n=e.offsetX,r=e.offsetY,i=t.group.transformCoordToLocal(n,r),o=TCe(t,e,i,!0);t._dragging=!1,t._track=[],t._creatingCover=null,o&&ry(t,o)}}function FLt(t,e,n){var r=t._zr;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}var tL={lineX:eoe(0),lineY:eoe(1),rect:{createCover:function(t,e){function n(r){return r}return SCe({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=wCe(t);return CCe(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,r){xCe(t,e,n,r)},updateCommon:h6,contain:g6},polygon:{createCover:function(t,e){var n=new nr;return n.add(new cl({name:"main",style:V9(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new ul({name:"main",draggable:!0,drift:hr(DLt,t,e),ondragend:hr(ry,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,r){e.childAt(0).setShape({points:z9(t,e,n)})},updateCommon:h6,contain:g6}};function eoe(t){return{createCover:function(e,n){return SCe({toRectRange:function(r){var i=[r,[0,100]];return t&&i.reverse(),i},fromRectRange:function(r){return r[t]}},e,n,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var n=wCe(e),r=BC(n[0][t],n[1][t]),i=F1(n[0][t],n[1][t]);return[r,i]},updateCoverShape:function(e,n,r,i){var o,a=_Ce(e,n);if(a!==ny&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(t);else{var s=e._zr;o=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[r,o];t&&l.reverse(),xCe(e,n,l,i)},updateCommon:h6,contain:g6}}function ACe(t){return t=H9(t),function(e){return F_e(e,t)}}function kCe(t,e){return t=H9(t),function(n){var r=e??n,i=r?t.width:t.height,o=r?t.x:t.y;return[o,o+(i||0)]}}function MCe(t,e,n){var r=H9(t);return function(i,o){return r.contain(o[0],o[1])&&!ZR(i,e,n)}}function H9(t){return xr.create(t)}var VLt=["axisLine","axisTickLabel","axisName"],zLt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r){t.prototype.init.apply(this,arguments),(this._brushController=new N9(r.getZr())).on("brush",vn(this._onBrush,this))},e.prototype.render=function(n,r,i,o){if(!HLt(n,r,o)){this.axisModel=n,this.api=i,this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new nr,this.group.add(this._axisGroup),!!n.get("show")){var s=GLt(n,r),l=s.coordinateSystem,u=n.getAreaSelectStyle(),c=u.width,f=n.axis.dim,d=l.getAxisLayout(f),h=yt({strokeContainThreshold:c},d),p=new el(n,h);ie(VLt,p.add,p),this._axisGroup.add(p.getGroup()),this._refreshBrushController(h,u,n,s,c,i),W2(a,this._axisGroup,n)}}},e.prototype._refreshBrushController=function(n,r,i,o,a,s){var l=i.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=xr.create({x:l[0],y:-a/2,width:u,height:a});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:n.rotation,x:n.position[0],y:n.position[1]}).setPanels([{panelId:"pl",clipPath:ACe(f),isTargetByCursor:MCe(f,s,o),getLinearBrushOtherExtent:kCe(f,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(jLt(i))},e.prototype._onBrush=function(n){var r=n.areas,i=this.axisModel,o=i.axis,a=kt(r,function(s){return[o.coordToData(s.range[0],!0),o.coordToData(s.range[1],!0)]});(!i.option.realtime===n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:a})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e})(so);function HLt(t,e,n){return n&&n.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}function jLt(t){var e=t.axis;return kt(t.activeIntervals,function(n){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(n[0],!0),e.dataToCoord(n[1],!0)]}})}function GLt(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}var ULt={type:"axisAreaSelect",event:"axisAreaSelected"};function WLt(t){t.registerAction(ULt,function(e,n){n.eachComponent({mainType:"parallelAxis",query:e},function(r){r.axis.model.setActiveIntervals(e.intervals)})}),t.registerAction("parallelAxisExpand",function(e,n){n.eachComponent({mainType:"parallel",query:e},function(r){r.setAxisExpand(e)})})}var qLt={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function PCe(t){t.registerComponentView(pLt),t.registerComponentModel(gLt),t.registerCoordinateSystem("parallel",CLt),t.registerPreprocessor(cLt),t.registerComponentModel(f6),t.registerComponentView(zLt),$1(t,"parallel",f6,qLt),WLt(t)}function KLt(t){Dr(PCe),t.registerChartView(nLt),t.registerSeriesModel(oLt),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,uLt)}var YLt=(function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return t})(),XLt=(function(t){nt(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new YLt},e.prototype.buildPath=function(n,r){var i=r.extent;n.moveTo(r.x1,r.y1),n.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),r.orient==="vertical"?(n.lineTo(r.x2+i,r.y2),n.bezierCurveTo(r.cpx2+i,r.cpy2,r.cpx1+i,r.cpy1,r.x1+i,r.y1)):(n.lineTo(r.x2,r.y2+i),n.bezierCurveTo(r.cpx2,r.cpy2+i,r.cpx1,r.cpy1+i,r.x1,r.y1+i)),n.closePath()},e.prototype.highlight=function(){vh(this)},e.prototype.downplay=function(){gh(this)},e})($r),ZLt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._focusAdjacencyDisabled=!1,n}return e.prototype.render=function(n,r,i){var o=this,a=n.getGraph(),s=this.group,l=n.layoutInfo,u=l.width,c=l.height,f=n.getData(),d=n.getData("edge"),h=n.get("orient");this._model=n,s.removeAll(),s.x=l.x,s.y=l.y,a.eachEdge(function(p){var v=new XLt,g=ar(v);g.dataIndex=p.dataIndex,g.seriesIndex=n.seriesIndex,g.dataType="edge";var m=p.getModel(),y=m.getModel("lineStyle"),b=y.get("curveness"),w=p.node1.getLayout(),S=p.node1.getModel(),x=S.get("localX"),C=S.get("localY"),E=p.node2.getLayout(),T=p.node2.getModel(),A=T.get("localX"),k=T.get("localY"),M=p.getLayout(),D,L,I,R,V,P,B,j;v.shape.extent=Math.max(1,M.dy),v.shape.orient=h,h==="vertical"?(D=(x!=null?x*u:w.x)+M.sy,L=(C!=null?C*c:w.y)+w.dy,I=(A!=null?A*u:E.x)+M.ty,R=k!=null?k*c:E.y,V=D,P=L*(1-b)+R*b,B=I,j=L*b+R*(1-b)):(D=(x!=null?x*u:w.x)+w.dx,L=(C!=null?C*c:w.y)+M.sy,I=A!=null?A*u:E.x,R=(k!=null?k*c:E.y)+M.ty,V=D*(1-b)+I*b,P=L,B=D*b+I*(1-b),j=R),v.setShape({x1:D,y1:L,x2:I,y2:R,cpx1:V,cpy1:P,cpx2:B,cpy2:j}),v.useStyle(y.getItemStyle()),toe(v.style,h,p);var G=""+m.get("value"),W=Pa(m,"edgeLabel");us(v,W,{labelFetcher:{getFormattedLabel:function(oe,ce,X,H,U,ne){return n.getFormattedLabel(oe,ce,"edge",H,jf(U,W.normal&&W.normal.get("formatter"),G),ne)}},labelDataIndex:p.dataIndex,defaultText:G}),v.setTextConfig({position:"inside"});var Z=m.getModel("emphasis");ls(v,m,"lineStyle",function(oe){var ce=oe.getItemStyle();return toe(ce,h,p),ce}),s.add(v),d.setItemGraphicEl(p.dataIndex,v);var ee=Z.get("focus");go(v,ee==="adjacency"?p.getAdjacentDataIndices():ee==="trajectory"?p.getTrajectoryDataIndices():ee,Z.get("blurScope"),Z.get("disabled"))}),a.eachNode(function(p){var v=p.getLayout(),g=p.getModel(),m=g.get("localX"),y=g.get("localY"),b=g.getModel("emphasis"),w=g.get(["itemStyle","borderRadius"])||0,S=new Jr({shape:{x:m!=null?m*u:v.x,y:y!=null?y*c:v.y,width:v.dx,height:v.dy,r:w},style:g.getModel("itemStyle").getItemStyle(),z2:10});us(S,Pa(g),{labelFetcher:{getFormattedLabel:function(C,E){return n.getFormattedLabel(C,E,"node")}},labelDataIndex:p.dataIndex,defaultText:p.id}),S.disableLabelAnimation=!0,S.setStyle("fill",p.getVisual("color")),S.setStyle("decal",p.getVisual("style").decal),ls(S,g),s.add(S),f.setItemGraphicEl(p.dataIndex,S),ar(S).dataType="node";var x=b.get("focus");go(S,x==="adjacency"?p.getAdjacentDataIndices():x==="trajectory"?p.getTrajectoryDataIndices():x,b.get("blurScope"),b.get("disabled"))}),f.eachItemGraphicEl(function(p,v){var g=f.getItemModel(v);g.get("draggable")&&(p.drift=function(m,y){o._focusAdjacencyDisabled=!0,this.shape.x+=m,this.shape.y+=y,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:n.id,dataIndex:f.getRawIndex(v),localX:this.shape.x/u,localY:this.shape.y/c})},p.ondragend=function(){o._focusAdjacencyDisabled=!1},p.draggable=!0,p.cursor="move")}),!this._data&&n.isAnimationEnabled()&&s.setClipPath(JLt(s.getBoundingRect(),n,function(){s.removeClipPath()})),this._data=n.getData()},e.prototype.dispose=function(){},e.type="sankey",e})(Oi);function toe(t,e,n){switch(t.fill){case"source":t.fill=n.node1.getVisual("color"),t.decal=n.node1.getVisual("style").decal;break;case"target":t.fill=n.node2.getVisual("color"),t.decal=n.node2.getVisual("style").decal;break;case"gradient":var r=n.node1.getVisual("color"),i=n.node2.getVisual("color");fn(r)&&fn(i)&&(t.fill=new U2(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:r,offset:0},{color:i,offset:1}]))}}function JLt(t,e,n){var r=new Jr({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return eo(r,{shape:{width:t.width+20}},e,n),r}var QLt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.getInitialData=function(n,r){var i=n.edges||n.links||[],o=n.data||n.nodes||[],a=n.levels||[];this.levelModels=[];for(var s=this.levelModels,l=0;l<a.length;l++)a[l].depth!=null&&a[l].depth>=0&&(s[a[l].depth]=new Ci(a[l],this,r));var u=dCe(o,i,this,!0,c);return u.data;function c(f,d){f.wrapMethod("getItemModel",function(h,p){var v=h.parentModel,g=v.getData().getItemLayout(p);if(g){var m=g.depth,y=v.levelModels[m];y&&(h.parentModel=y)}return h}),d.wrapMethod("getItemModel",function(h,p){var v=h.parentModel,g=v.getGraph().getEdgeByIndex(p),m=g.node1.getLayout();if(m){var y=m.depth,b=v.levelModels[y];b&&(h.parentModel=b)}return h})}},e.prototype.setNodePosition=function(n,r){var i=this.option.data||this.option.nodes,o=i[n];o.localX=r[0],o.localY=r[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(n,r,i){function o(h){return isNaN(h)||h==null}if(i==="edge"){var a=this.getDataParams(n,i),s=a.data,l=a.value,u=s.source+" -- "+s.target;return Oa("nameValue",{name:u,value:l,noValue:o(l)})}else{var c=this.getGraph().getNodeByIndex(n),f=c.getLayout().value,d=this.getDataParams(n,i).data.name;return Oa("nameValue",{name:d!=null?d+"":null,value:f,noValue:o(f)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(n,r){var i=t.prototype.getDataParams.call(this,n,r);if(i.value==null&&r==="node"){var o=this.getGraph().getNodeByIndex(n),a=o.getLayout().value;i.value=a}return i},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e})(Ui);function eDt(t,e){t.eachSeriesByType("sankey",function(n){var r=n.get("nodeWidth"),i=n.get("nodeGap"),o=tDt(n,e);n.layoutInfo=o;var a=o.width,s=o.height,l=n.getGraph(),u=l.nodes,c=l.edges;rDt(u);var f=yi(u,function(v){return v.getLayout().value===0}),d=f.length!==0?0:n.get("layoutIterations"),h=n.get("orient"),p=n.get("nodeAlign");nDt(u,c,r,i,a,s,d,h,p)})}function tDt(t,e){return ha(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function nDt(t,e,n,r,i,o,a,s,l){iDt(t,e,n,i,o,s,l),lDt(t,e,o,i,r,a,s),mDt(t,s)}function rDt(t){ie(t,function(e){var n=Xp(e.outEdges,lO),r=Xp(e.inEdges,lO),i=e.getValue()||0,o=Math.max(n,r,i);e.setLayout({value:o},!0)})}function iDt(t,e,n,r,i,o,a){for(var s=[],l=[],u=[],c=[],f=0,d=0;d<e.length;d++)s[d]=1;for(var d=0;d<t.length;d++)l[d]=t[d].inEdges.length,l[d]===0&&u.push(t[d]);for(var h=-1;u.length;){for(var p=0;p<u.length;p++){var v=u[p],g=v.hostGraph.data.getRawDataItem(v.dataIndex),m=g.depth!=null&&g.depth>=0;m&&g.depth>h&&(h=g.depth),v.setLayout({depth:m?g.depth:f},!0),o==="vertical"?v.setLayout({dy:n},!0):v.setLayout({dx:n},!0);for(var y=0;y<v.outEdges.length;y++){var b=v.outEdges[y],w=e.indexOf(b);s[w]=0;var S=b.node2,x=t.indexOf(S);--l[x]===0&&c.indexOf(S)<0&&c.push(S)}}++f,u=c,c=[]}for(var d=0;d<s.length;d++)if(s[d]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var C=h>f-1?h:f-1;a&&a!=="left"&&oDt(t,a,o,C);var E=o==="vertical"?(i-n)/C:(r-n)/C;sDt(t,E,o)}function OCe(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return e.depth!=null&&e.depth>=0}function oDt(t,e,n,r){if(e==="right"){for(var i=[],o=t,a=0;o.length;){for(var s=0;s<o.length;s++){var l=o[s];l.setLayout({skNodeHeight:a},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];i.indexOf(c.node1)<0&&i.push(c.node1)}}o=i,i=[],++a}ie(t,function(f){OCe(f)||f.setLayout({depth:Math.max(0,r-f.getLayout().skNodeHeight)},!0)})}else e==="justify"&&aDt(t,r)}function aDt(t,e){ie(t,function(n){!OCe(n)&&!n.outEdges.length&&n.setLayout({depth:e},!0)})}function sDt(t,e,n){ie(t,function(r){var i=r.getLayout().depth*e;n==="vertical"?r.setLayout({y:i},!0):r.setLayout({x:i},!0)})}function lDt(t,e,n,r,i,o,a){var s=uDt(t,a);cDt(s,e,n,r,i,a),OB(s,i,n,r,a);for(var l=1;o>0;o--)l*=.99,fDt(s,l,a),OB(s,i,n,r,a),gDt(s,l,a),OB(s,i,n,r,a)}function uDt(t,e){var n=[],r=e==="vertical"?"y":"x",i=m5(t,function(o){return o.getLayout()[r]});return i.keys.sort(function(o,a){return o-a}),ie(i.keys,function(o){n.push(i.buckets.get(o))}),n}function cDt(t,e,n,r,i,o){var a=1/0;ie(t,function(s){var l=s.length,u=0;ie(s,function(f){u+=f.getLayout().value});var c=o==="vertical"?(r-(l-1)*i)/u:(n-(l-1)*i)/u;c<a&&(a=c)}),ie(t,function(s){ie(s,function(l,u){var c=l.getLayout().value*a;o==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),ie(e,function(s){var l=+s.getValue()*a;s.setLayout({dy:l},!0)})}function OB(t,e,n,r,i){var o=i==="vertical"?"x":"y";ie(t,function(a){a.sort(function(v,g){return v.getLayout()[o]-g.getLayout()[o]});for(var s,l,u,c=0,f=a.length,d=i==="vertical"?"dx":"dy",h=0;h<f;h++)l=a[h],u=c-l.getLayout()[o],u>0&&(s=l.getLayout()[o]+u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[o]+l.getLayout()[d]+e;var p=i==="vertical"?r:n;if(u=c-e-p,u>0){s=l.getLayout()[o]-u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),c=s;for(var h=f-2;h>=0;--h)l=a[h],u=l.getLayout()[o]+l.getLayout()[d]+e-c,u>0&&(s=l.getLayout()[o]-u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[o]}})}function fDt(t,e,n){ie(t.slice().reverse(),function(r){ie(r,function(i){if(i.outEdges.length){var o=Xp(i.outEdges,dDt,n)/Xp(i.outEdges,lO);if(isNaN(o)){var a=i.outEdges.length;o=a?Xp(i.outEdges,hDt,n)/a:0}if(n==="vertical"){var s=i.getLayout().x+(o-wv(i,n))*e;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(o-wv(i,n))*e;i.setLayout({y:l},!0)}}})})}function dDt(t,e){return wv(t.node2,e)*t.getValue()}function hDt(t,e){return wv(t.node2,e)}function pDt(t,e){return wv(t.node1,e)*t.getValue()}function vDt(t,e){return wv(t.node1,e)}function wv(t,e){return e==="vertical"?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function lO(t){return t.getValue()}function Xp(t,e,n){for(var r=0,i=t.length,o=-1;++o<i;){var a=+e(t[o],n);isNaN(a)||(r+=a)}return r}function gDt(t,e,n){ie(t,function(r){ie(r,function(i){if(i.inEdges.length){var o=Xp(i.inEdges,pDt,n)/Xp(i.inEdges,lO);if(isNaN(o)){var a=i.inEdges.length;o=a?Xp(i.inEdges,vDt,n)/a:0}if(n==="vertical"){var s=i.getLayout().x+(o-wv(i,n))*e;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(o-wv(i,n))*e;i.setLayout({y:l},!0)}}})})}function mDt(t,e){var n=e==="vertical"?"x":"y";ie(t,function(r){r.outEdges.sort(function(i,o){return i.node2.getLayout()[n]-o.node2.getLayout()[n]}),r.inEdges.sort(function(i,o){return i.node1.getLayout()[n]-o.node1.getLayout()[n]})}),ie(t,function(r){var i=0,o=0;ie(r.outEdges,function(a){a.setLayout({sy:i},!0),i+=a.getLayout().dy}),ie(r.inEdges,function(a){a.setLayout({ty:o},!0),o+=a.getLayout().dy})})}function yDt(t){t.eachSeriesByType("sankey",function(e){var n=e.getGraph(),r=n.nodes,i=n.edges;if(r.length){var o=1/0,a=-1/0;ie(r,function(s){var l=s.getLayout().value;l<o&&(o=l),l>a&&(a=l)}),ie(r,function(s){var l=new Ta({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:e.get("color")}),u=l.mapValueToVisual(s.getLayout().value),c=s.getModel().get(["itemStyle","color"]);c!=null?(s.setVisual("color",c),s.setVisual("style",{fill:c})):(s.setVisual("color",u),s.setVisual("style",{fill:u}))})}i.length&&ie(i,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}function bDt(t){t.registerChartView(ZLt),t.registerSeriesModel(QLt),t.registerLayout(eDt),t.registerVisual(yDt),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,n){n.eachComponent({mainType:"series",subType:"sankey",query:e},function(r){r.setNodePosition(e.dataIndex,[e.localX,e.localY])})})}var ICe=(function(){function t(){}return t.prototype._hasEncodeRule=function(e){var n=this.getEncode();return n&&n.get(e)!=null},t.prototype.getInitialData=function(e,n){var r,i=n.getComponent("xAxis",this.get("xAxisIndex")),o=n.getComponent("yAxis",this.get("yAxisIndex")),a=i.get("type"),s=o.get("type"),l;a==="category"?(e.layout="horizontal",r=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):s==="category"?(e.layout="vertical",r=o.getOrdinalMeta(),l=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var u=["x","y"],c=e.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],d=u[1-c],h=[i,o],p=h[c].get("type"),v=h[1-c].get("type"),g=e.data;if(g&&l){var m=[];ie(g,function(w,S){var x;Tt(w)?(x=w.slice(),w.unshift(S)):Tt(w.value)?(x=yt({},w),x.value=x.value.slice(),w.value.unshift(S)):x=w,m.push(x)}),e.data=m}var y=this.defaultValueDimensions,b=[{name:f,type:ZP(p),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:ZP(v),dimsDef:y.slice()}];return V_(this,{coordDimensions:b,dimensionsCount:y.length+1,encodeDefaulter:hr(fwe,b,this)})},t.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},t})(),RCe=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e})(Ui);ia(RCe,ICe,!0);var _Dt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var o=n.getData(),a=this.group,s=this._data;this._data||a.removeAll();var l=n.get("layout")==="horizontal"?1:0;o.diff(s).add(function(u){if(o.hasValue(u)){var c=o.getItemLayout(u),f=noe(c,o,u,l,!0);o.setItemGraphicEl(u,f),a.add(f)}}).update(function(u,c){var f=s.getItemGraphicEl(c);if(!o.hasValue(u)){a.remove(f);return}var d=o.getItemLayout(u);f?($c(f),LCe(d,f,o,u)):f=noe(d,o,u,l),a.add(f),o.setItemGraphicEl(u,f)}).remove(function(u){var c=s.getItemGraphicEl(u);c&&a.remove(c)}).execute(),this._data=o},e.prototype.remove=function(n){var r=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(o){o&&r.remove(o)})},e.type="boxplot",e})(Oi),wDt=(function(){function t(){}return t})(),SDt=(function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.type="boxplotBoxPath",r}return e.prototype.getDefaultShape=function(){return new wDt},e.prototype.buildPath=function(n,r){var i=r.points,o=0;for(n.moveTo(i[o][0],i[o][1]),o++;o<4;o++)n.lineTo(i[o][0],i[o][1]);for(n.closePath();o<i.length;o++)n.moveTo(i[o][0],i[o][1]),o++,n.lineTo(i[o][0],i[o][1])},e})($r);function noe(t,e,n,r,i){var o=t.ends,a=new SDt({shape:{points:i?xDt(o,r,t):o}});return LCe(t,a,e,n,i),a}function LCe(t,e,n,r,i){var o=n.hostModel,a=Ay[i?"initProps":"updateProps"];a(e,{shape:{points:t.ends}},o,r),e.useStyle(n.getItemVisual(r,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=n.getItemModel(r),l=s.getModel("emphasis");ls(e,s),go(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function xDt(t,e,n){return kt(t,function(r){return r=r.slice(),r[e]=n.initBaseline,r})}var fx=ie;function CDt(t){var e=EDt(t);fx(e,function(n){var r=n.seriesModels;r.length&&(TDt(n),fx(r,function(i,o){ADt(i,n.boxOffsetList[o],n.boxWidthList[o])}))})}function EDt(t){var e=[],n=[];return t.eachSeriesByType("boxplot",function(r){var i=r.getBaseAxis(),o=Mr(n,i);o<0&&(o=n.length,n[o]=i,e[o]={axis:i,seriesModels:[]}),e[o].seriesModels.push(r)}),e}function TDt(t){var e=t.axis,n=t.seriesModels,r=n.length,i=t.boxWidthList=[],o=t.boxOffsetList=[],a=[],s;if(e.type==="category")s=e.getBandWidth();else{var l=0;fx(n,function(p){l=Math.max(l,p.getData().count())});var u=e.getExtent();s=Math.abs(u[1]-u[0])/l}fx(n,function(p){var v=p.get("boxWidth");Tt(v)||(v=[v,v]),a.push([on(v[0],s)||0,on(v[1],s)||0])});var c=s*.8-2,f=c/r*.3,d=(c-f*(r-1))/r,h=d/2-c/2;fx(n,function(p,v){o.push(h),h+=f+d,i.push(Math.min(Math.max(d,a[v][0]),a[v][1]))})}function ADt(t,e,n){var r=t.coordinateSystem,i=t.getData(),o=n/2,a=t.get("layout")==="horizontal"?0:1,s=1-a,l=["x","y"],u=i.mapDimension(l[a]),c=i.mapDimensionsAll(l[s]);if(u==null||c.length<5)return;for(var f=0;f<i.count();f++){var d=i.get(u,f),h=b(d,c[2],f),p=b(d,c[0],f),v=b(d,c[1],f),g=b(d,c[3],f),m=b(d,c[4],f),y=[];w(y,v,!1),w(y,g,!0),y.push(p,v,m,g),S(y,p),S(y,m),S(y,h),i.setItemLayout(f,{initBaseline:h[s],ends:y})}function b(x,C,E){var T=i.get(C,E),A=[];A[a]=x,A[s]=T;var k;return isNaN(x)||isNaN(T)?k=[NaN,NaN]:(k=r.dataToPoint(A),k[a]+=e),k}function w(x,C,E){var T=C.slice(),A=C.slice();T[a]+=o,A[a]-=o,E?x.push(T,A):x.push(A,T)}function S(x,C){var E=C.slice(),T=C.slice();E[a]-=o,T[a]+=o,x.push(E,T)}}function kDt(t,e){e=e||{};for(var n=[],r=[],i=e.boundIQR,o=i==="none"||i===0,a=0;a<t.length;a++){var s=Ul(t[a].slice()),l=Hk(s,.25),u=Hk(s,.5),c=Hk(s,.75),f=s[0],d=s[s.length-1],h=(i??1.5)*(c-l),p=o?f:Math.max(f,l-h),v=o?d:Math.min(d,c+h),g=e.itemNameFormatter,m=qn(g)?g({value:a}):fn(g)?g.replace("{value}",a+""):a+"";n.push([m,p,l,u,c,v]);for(var y=0;y<s.length;y++){var b=s[y];if(b<p||b>v){var w=[m,b];r.push(w)}}}return{boxData:n,outliers:r}}var MDt={type:"echarts:boxplot",transform:function(e){var n=e.upstream;if(n.sourceFormat!==Ds){var r="";mi(r)}var i=kDt(n.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function PDt(t){t.registerSeriesModel(RCe),t.registerChartView(_Dt),t.registerLayout(CDt),t.registerTransform(MDt)}var ODt=["itemStyle","borderColor"],IDt=["itemStyle","borderColor0"],RDt=["itemStyle","borderColorDoji"],LDt=["itemStyle","color"],DDt=["itemStyle","color0"];function j9(t,e){return e.get(t>0?LDt:DDt)}function G9(t,e){return e.get(t===0?RDt:t>0?ODt:IDt)}var NDt={seriesType:"candlestick",plan:N_(),performRawSeries:!0,reset:function(t,e){if(!e.isSeriesFiltered(t)){var n=t.pipelineContext.large;return!n&&{progress:function(r,i){for(var o;(o=r.next())!=null;){var a=i.getItemModel(o),s=i.getItemLayout(o).sign,l=a.getItemStyle();l.fill=j9(s,a),l.stroke=G9(s,a)||l.fill;var u=i.ensureUniqueItemVisual(o,"style");yt(u,l)}}}}}},BDt=["color","borderColor"],$Dt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(n),this._isLargeDraw?this._renderLarge(n):this._renderNormal(n)},e.prototype.incrementalPrepareRender=function(n,r,i){this._clear(),this._updateDrawMode(n)},e.prototype.incrementalRender=function(n,r,i,o){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(n,r):this._incrementalRenderNormal(n,r)},e.prototype.eachRendered=function(n){Bv(this._progressiveEls||this.group,n)},e.prototype._updateDrawMode=function(n){var r=n.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(n){var r=n.getData(),i=this._data,o=this.group,a=r.getLayout("isSimpleBox"),s=n.get("clip",!0),l=n.coordinateSystem,u=l.getArea&&l.getArea();this._data||o.removeAll(),r.diff(i).add(function(c){if(r.hasValue(c)){var f=r.getItemLayout(c);if(s&&roe(u,f))return;var d=IB(f,c,!0);eo(d,{shape:{points:f.ends}},n,c),RB(d,r,c,a),o.add(d),r.setItemGraphicEl(c,d)}}).update(function(c,f){var d=i.getItemGraphicEl(f);if(!r.hasValue(c)){o.remove(d);return}var h=r.getItemLayout(c);if(s&&roe(u,h)){o.remove(d);return}d?(si(d,{shape:{points:h.ends}},n,c),$c(d)):d=IB(h),RB(d,r,c,a),o.add(d),r.setItemGraphicEl(c,d)}).remove(function(c){var f=i.getItemGraphicEl(c);f&&o.remove(f)}).execute(),this._data=r},e.prototype._renderLarge=function(n){this._clear(),ioe(n,this.group);var r=n.get("clip",!0)?eE(n.coordinateSystem,!1,n):null;r?this.group.setClipPath(r):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(n,r){for(var i=r.getData(),o=i.getLayout("isSimpleBox"),a;(a=n.next())!=null;){var s=i.getItemLayout(a),l=IB(s);RB(l,i,a,o),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(n,r){ioe(r,this.group,this._progressiveEls,!0)},e.prototype.remove=function(n){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e})(Oi),FDt=(function(){function t(){}return t})(),VDt=(function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.type="normalCandlestickBox",r}return e.prototype.getDefaultShape=function(){return new FDt},e.prototype.buildPath=function(n,r){var i=r.points;this.__simpleBox?(n.moveTo(i[4][0],i[4][1]),n.lineTo(i[6][0],i[6][1])):(n.moveTo(i[0][0],i[0][1]),n.lineTo(i[1][0],i[1][1]),n.lineTo(i[2][0],i[2][1]),n.lineTo(i[3][0],i[3][1]),n.closePath(),n.moveTo(i[4][0],i[4][1]),n.lineTo(i[5][0],i[5][1]),n.moveTo(i[6][0],i[6][1]),n.lineTo(i[7][0],i[7][1]))},e})($r);function IB(t,e,n){var r=t.ends;return new VDt({shape:{points:n?zDt(r,t):r},z2:100})}function roe(t,e){for(var n=!0,r=0;r<e.ends.length;r++)if(t.contain(e.ends[r][0],e.ends[r][1])){n=!1;break}return n}function RB(t,e,n,r){var i=e.getItemModel(n);t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.__simpleBox=r,ls(t,i);var o=e.getItemLayout(n).sign;ie(t.states,function(s,l){var u=i.getModel(l),c=j9(o,u),f=G9(o,u)||c,d=s.style||(s.style={});c&&(d.fill=c),f&&(d.stroke=f)});var a=i.getModel("emphasis");go(t,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function zDt(t,e){return kt(t,function(n){return n=n.slice(),n[1]=e.initBaseline,n})}var HDt=(function(){function t(){}return t})(),LB=(function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r.type="largeCandlestickBox",r}return e.prototype.getDefaultShape=function(){return new HDt},e.prototype.buildPath=function(n,r){for(var i=r.points,o=0;o<i.length;)if(this.__sign===i[o++]){var a=i[o++];n.moveTo(a,i[o++]),n.lineTo(a,i[o++])}else o+=3},e})($r);function ioe(t,e,n,r){var i=t.getData(),o=i.getLayout("largePoints"),a=new LB({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});e.add(a);var s=new LB({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});e.add(s);var l=new LB({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});e.add(l),DB(1,a,t),DB(-1,s,t),DB(0,l,t),r&&(a.incremental=!0,s.incremental=!0),n&&n.push(a,s)}function DB(t,e,n,r){var i=G9(t,n)||j9(t,n),o=n.getModel("itemStyle").getItemStyle(BDt);e.useStyle(o),e.style.fill=null,e.style.stroke=i}var DCe=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(n,r,i){var o=r.getItemLayout(n);return o&&i.rect(o.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e})(Ui);ia(DCe,ICe,!0);function jDt(t){!t||!Tt(t.series)||ie(t.series,function(e){Zn(e)&&e.type==="k"&&(e.type="candlestick")})}var GDt={seriesType:"candlestick",plan:N_(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),r=UDt(t,n),i=0,o=1,a=["x","y"],s=n.getDimensionIndex(n.mapDimension(a[i])),l=kt(n.mapDimensionsAll(a[o]),n.getDimensionIndex,n),u=l[0],c=l[1],f=l[2],d=l[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),s<0||l.length<4)return;return{progress:t.pipelineContext.large?p:h};function h(v,g){for(var m,y=g.getStore();(m=v.next())!=null;){var b=y.get(s,m),w=y.get(u,m),S=y.get(c,m),x=y.get(f,m),C=y.get(d,m),E=Math.min(w,S),T=Math.max(w,S),A=V(E,b),k=V(T,b),M=V(x,b),D=V(C,b),L=[];P(L,k,0),P(L,A,1),L.push(j(D),j(k),j(M),j(A));var I=g.getItemModel(m),R=!!I.get(["itemStyle","borderColorDoji"]);g.setItemLayout(m,{sign:ooe(y,m,w,S,c,R),initBaseline:w>S?k[o]:A[o],ends:L,brushRect:B(x,C,b)})}function V(G,W){var Z=[];return Z[i]=W,Z[o]=G,isNaN(W)||isNaN(G)?[NaN,NaN]:e.dataToPoint(Z)}function P(G,W,Z){var ee=W.slice(),oe=W.slice();ee[i]=Uk(ee[i]+r/2,1,!1),oe[i]=Uk(oe[i]-r/2,1,!0),Z?G.push(ee,oe):G.push(oe,ee)}function B(G,W,Z){var ee=V(G,Z),oe=V(W,Z);return ee[i]-=r/2,oe[i]-=r/2,{x:ee[0],y:ee[1],width:r,height:oe[1]-ee[1]}}function j(G){return G[i]=Uk(G[i],1),G}}function p(v,g){for(var m=Lf(v.count*4),y=0,b,w=[],S=[],x,C=g.getStore(),E=!!t.get(["itemStyle","borderColorDoji"]);(x=v.next())!=null;){var T=C.get(s,x),A=C.get(u,x),k=C.get(c,x),M=C.get(f,x),D=C.get(d,x);if(isNaN(T)||isNaN(M)||isNaN(D)){m[y++]=NaN,y+=3;continue}m[y++]=ooe(C,x,A,k,c,E),w[i]=T,w[o]=M,b=e.dataToPoint(w,null,S),m[y++]=b?b[0]:NaN,m[y++]=b?b[1]:NaN,w[o]=D,b=e.dataToPoint(w,null,S),m[y++]=b?b[1]:NaN}g.setLayout("largePoints",m)}}};function ooe(t,e,n,r,i,o){var a;return n>r?a=-1:n<r?a=1:a=o?0:e>0?t.get(i,e-1)<=r?1:-1:1,a}function UDt(t,e){var n=t.getBaseAxis(),r,i=n.type==="category"?n.getBandWidth():(r=n.getExtent(),Math.abs(r[1]-r[0])/e.count()),o=on(dr(t.get("barMaxWidth"),i),i),a=on(dr(t.get("barMinWidth"),1),i),s=t.get("barWidth");return s!=null?on(s,i):Math.max(Math.min(i/2,o),a)}function WDt(t){t.registerChartView($Dt),t.registerSeriesModel(DCe),t.registerPreprocessor(jDt),t.registerVisual(NDt),t.registerLayout(GDt)}function aoe(t,e){var n=e.rippleEffectColor||e.color;t.eachChild(function(r){r.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?n:null,fill:e.brushType==="fill"?n:null}})})}var qDt=(function(t){nt(e,t);function e(n,r){var i=t.call(this)||this,o=new J2(n,r),a=new nr;return i.add(o),i.add(a),i.updateData(n,r),i}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(n){for(var r=n.symbolType,i=n.color,o=n.rippleNumber,a=this.childAt(1),s=0;s<o;s++){var l=ra(r,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/o*n.period+n.effectOffset;l.animate("",!0).when(n.period,{scaleX:n.rippleScale/2,scaleY:n.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(n.period,{opacity:0}).delay(u).start(),a.add(l)}aoe(a,n)},e.prototype.updateEffectAnimation=function(n){for(var r=this._effectCfg,i=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],a=0;a<o.length;a++){var s=o[a];if(r[s]!==n[s]){this.stopEffectAnimation(),this.startEffectAnimation(n);return}}aoe(i,n)},e.prototype.highlight=function(){vh(this)},e.prototype.downplay=function(){gh(this)},e.prototype.getSymbolType=function(){var n=this.childAt(0);return n&&n.getSymbolType()},e.prototype.updateData=function(n,r){var i=this,o=n.hostModel;this.childAt(0).updateData(n,r);var a=this.childAt(1),s=n.getItemModel(r),l=n.getItemVisual(r,"symbol"),u=$_(n.getItemVisual(r,"symbolSize")),c=n.getItemVisual(r,"style"),f=c&&c.fill,d=s.getModel("emphasis");a.setScale(u),a.traverse(function(g){g.setStyle("fill",f)});var h=ky(n.getItemVisual(r,"symbolOffset"),u);h&&(a.x=h[0],a.y=h[1]);var p=n.getItemVisual(r,"symbolRotate");a.rotation=(p||0)*Math.PI/180||0;var v={};v.showEffectOn=o.get("showEffectOn"),v.rippleScale=s.get(["rippleEffect","scale"]),v.brushType=s.get(["rippleEffect","brushType"]),v.period=s.get(["rippleEffect","period"])*1e3,v.effectOffset=r/n.count(),v.z=o.getShallow("z")||0,v.zlevel=o.getShallow("zlevel")||0,v.symbolType=l,v.color=f,v.rippleEffectColor=s.get(["rippleEffect","color"]),v.rippleNumber=s.get(["rippleEffect","number"]),v.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(v):this.startEffectAnimation(v),this._effectCfg=v):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(g){g==="emphasis"?v.showEffectOn!=="render"&&i.startEffectAnimation(v):g==="normal"&&v.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=v,go(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},e.prototype.fadeOut=function(n){n&&n()},e})(nr),KDt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(){this._symbolDraw=new Q2(qDt)},e.prototype.render=function(n,r,i){var o=n.getData(),a=this._symbolDraw;a.updateData(o,{clipShape:this._getClipShape(n)}),this.group.add(a.group)},e.prototype._getClipShape=function(n){var r=n.coordinateSystem,i=r&&r.getArea&&r.getArea();return n.get("clip",!0)?i:null},e.prototype.updateTransform=function(n,r,i){var o=n.getData();this.group.dirty();var a=tE("").reset(n,r,i);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(n){var r=n.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=SSt(r.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(n,r){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e})(Oi),YDt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return e.prototype.getInitialData=function(n,r){return Bh(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(n,r,i){return i.point(r.getItemLayout(n))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e})(Ui);function XDt(t){t.registerChartView(KDt),t.registerSeriesModel(YDt),t.registerLayout(tE("effectScatter"))}var NCe=(function(t){nt(e,t);function e(n,r,i){var o=t.call(this)||this;return o.add(o.createLine(n,r,i)),o._updateEffectSymbol(n,r),o}return e.prototype.createLine=function(n,r,i){return new L9(n,r,i)},e.prototype._updateEffectSymbol=function(n,r){var i=n.getItemModel(r),o=i.getModel("effect"),a=o.get("symbolSize"),s=o.get("symbol");Tt(a)||(a=[a,a]);var l=n.getItemVisual(r,"style"),u=o.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==s&&(this.remove(c),c=ra(s,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(o.getItemStyle(["color"])),c.scaleX=a[0],c.scaleY=a[1],c.setColor(u),this._symbolType=s,this._symbolScale=a,this._updateEffectAnimation(n,o,r))},e.prototype._updateEffectAnimation=function(n,r,i){var o=this.childAt(1);if(o){var a=n.getItemLayout(i),s=r.get("period")*1e3,l=r.get("loop"),u=r.get("roundTrip"),c=r.get("constantSpeed"),f=Va(r.get("delay"),function(h){return h/n.count()*s/3});if(o.ignore=!0,this._updateAnimationPoints(o,a),c>0&&(s=this._getLineLength(o)/c*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){o.stopAnimation();var d=void 0;qn(f)?d=f(i):d=f,o.__t>0&&(d=-s*o.__t),this._animateSymbol(o,s,d,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},e.prototype._animateSymbol=function(n,r,i,o,a){if(r>0){n.__t=0;var s=this,l=n.animate("",o).when(a?r*2:r,{__t:a?2:1}).delay(i).during(function(){s._updateSymbolPosition(n)});o||l.done(function(){s.remove(n)}),l.start()}},e.prototype._getLineLength=function(n){return Mp(n.__p1,n.__cp1)+Mp(n.__cp1,n.__p2)},e.prototype._updateAnimationPoints=function(n,r){n.__p1=r[0],n.__p2=r[1],n.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},e.prototype.updateData=function(n,r,i){this.childAt(0).updateData(n,r,i),this._updateEffectSymbol(n,r)},e.prototype._updateSymbolPosition=function(n){var r=n.__p1,i=n.__p2,o=n.__cp1,a=n.__t<1?n.__t:2-n.__t,s=[n.x,n.y],l=s.slice(),u=Na,c=e5;s[0]=u(r[0],o[0],i[0],a),s[1]=u(r[1],o[1],i[1],a);var f=n.__t<1?c(r[0],o[0],i[0],a):c(i[0],o[0],r[0],1-a),d=n.__t<1?c(r[1],o[1],i[1],a):c(i[1],o[1],r[1],1-a);n.rotation=-Math.atan2(d,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(n.__lastT!==void 0&&n.__lastT<n.__t?(n.scaleY=Mp(l,s)*1.05,a===1&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):n.__lastT===1?n.scaleY=2*Mp(r,s):n.scaleY=this._symbolScale[1]),n.__lastT=n.__t,n.ignore=!1,n.x=s[0],n.y=s[1]},e.prototype.updateLayout=function(n,r){this.childAt(0).updateLayout(n,r);var i=n.getItemModel(r).getModel("effect");this._updateEffectAnimation(n,i,r)},e})(nr),BCe=(function(t){nt(e,t);function e(n,r,i){var o=t.call(this)||this;return o._createPolyline(n,r,i),o}return e.prototype._createPolyline=function(n,r,i){var o=n.getItemLayout(r),a=new cl({shape:{points:o}});this.add(a),this._updateCommonStl(n,r,i)},e.prototype.updateData=function(n,r,i){var o=n.hostModel,a=this.childAt(0),s={shape:{points:n.getItemLayout(r)}};si(a,s,o,r),this._updateCommonStl(n,r,i)},e.prototype._updateCommonStl=function(n,r,i){var o=this.childAt(0),a=n.getItemModel(r),s=i&&i.emphasisLineStyle,l=i&&i.focus,u=i&&i.blurScope,c=i&&i.emphasisDisabled;if(!i||n.hasItemOption){var f=a.getModel("emphasis");s=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}o.useStyle(n.getItemVisual(r,"style")),o.style.fill=null,o.style.strokeNoScale=!0;var d=o.ensureState("emphasis");d.style=s,go(this,l,u,c)},e.prototype.updateLayout=function(n,r){var i=this.childAt(0);i.setShape("points",n.getItemLayout(r))},e})(nr),ZDt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._lastFrame=0,n._lastFramePercent=0,n}return e.prototype.createLine=function(n,r,i){return new BCe(n,r,i)},e.prototype._updateAnimationPoints=function(n,r){this._points=r;for(var i=[0],o=0,a=1;a<r.length;a++){var s=r[a-1],l=r[a];o+=Mp(s,l),i.push(o)}if(o===0){this._length=0;return}for(var a=0;a<i.length;a++)i[a]/=o;this._offsets=i,this._length=o},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(n){var r=n.__t<1?n.__t:2-n.__t,i=this._points,o=this._offsets,a=i.length;if(o){var s=this._lastFrame,l;if(r<this._lastFramePercent){var u=Math.min(s+1,a-1);for(l=u;l>=0&&!(o[l]<=r);l--);l=Math.min(l,a-2)}else{for(l=s;l<a&&!(o[l]>r);l++);l=Math.min(l-1,a-2)}var c=(r-o[l])/(o[l+1]-o[l]),f=i[l],d=i[l+1];n.x=f[0]*(1-c)+c*d[0],n.y=f[1]*(1-c)+c*d[1];var h=n.__t<1?d[0]-f[0]:f[0]-d[0],p=n.__t<1?d[1]-f[1]:f[1]-d[1];n.rotation=-Math.atan2(p,h)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=r,n.ignore=!1}},e})(NCe),JDt=(function(){function t(){this.polyline=!1,this.curveness=0,this.segs=[]}return t})(),QDt=(function(t){nt(e,t);function e(n){var r=t.call(this,n)||this;return r._off=0,r.hoverDataIdx=-1,r}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new JDt},e.prototype.buildPath=function(n,r){var i=r.segs,o=r.curveness,a;if(r.polyline)for(a=this._off;a<i.length;){var s=i[a++];if(s>0){n.moveTo(i[a++],i[a++]);for(var l=1;l<s;l++)n.lineTo(i[a++],i[a++])}}else for(a=this._off;a<i.length;){var u=i[a++],c=i[a++],f=i[a++],d=i[a++];if(n.moveTo(u,c),o>0){var h=(u+f)/2-(c-d)*o,p=(c+d)/2-(f-u)*o;n.quadraticCurveTo(h,p,f,d)}else n.lineTo(f,d)}this.incremental&&(this._off=a,this.notClear=!0)},e.prototype.findDataIndex=function(n,r){var i=this.shape,o=i.segs,a=i.curveness,s=this.style.lineWidth;if(i.polyline)for(var l=0,u=0;u<o.length;){var c=o[u++];if(c>0)for(var f=o[u++],d=o[u++],h=1;h<c;h++){var p=o[u++],v=o[u++];if(vp(f,d,p,v,s,n,r))return l}l++}else for(var l=0,u=0;u<o.length;){var f=o[u++],d=o[u++],p=o[u++],v=o[u++];if(a>0){var g=(f+p)/2-(d-v)*a,m=(d+v)/2-(p-f)*a;if(f_e(f,d,g,m,p,v,s,n,r))return l}else if(vp(f,d,p,v,s,n,r))return l;l++}return-1},e.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect();if(n=i[0],r=i[1],o.contain(n,r)){var a=this.hoverDataIdx=this.findDataIndex(n,r);return a>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var r=this.shape,i=r.segs,o=1/0,a=1/0,s=-1/0,l=-1/0,u=0;u<i.length;){var c=i[u++],f=i[u++];o=Math.min(c,o),s=Math.max(c,s),a=Math.min(f,a),l=Math.max(f,l)}n=this._rect=new xr(o,a,s,l)}return n},e})($r),eNt=(function(){function t(){this.group=new nr}return t.prototype.updateData=function(e){this._clear();var n=this._create();n.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(n,e)},t.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(e,n){var r=this._newAdded[0],i=n.getLayout("linesPoints"),o=r&&r.shape.segs;if(o&&o.length<2e4){var a=o.length,s=new Float32Array(a+i.length);s.set(o),s.set(i,a),r.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,n),l.__startIndex=e.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},t.prototype._create=function(){var e=new QDt({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},t.prototype._setCommon=function(e,n,r){var i=n.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=n.getVisual("style");o&&o.stroke&&e.setStyle("stroke",o.stroke),e.setStyle("fill",null);var a=ar(e);a.seriesIndex=i.seriesIndex,e.on("mousemove",function(s){a.dataIndex=null;var l=e.hoverDataIdx;l>0&&(a.dataIndex=l+e.__startIndex)})},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t})(),$Ce={seriesType:"lines",plan:N_(),reset:function(t){var e=t.coordinateSystem;if(e){var n=t.get("polyline"),r=t.pipelineContext.large;return{progress:function(i,o){var a=[];if(r){var s=void 0,l=i.end-i.start;if(n){for(var u=0,c=i.start;c<i.end;c++)u+=t.getLineCoordsCount(c);s=new Float32Array(l+u*2)}else s=new Float32Array(l*4);for(var f=0,d=[],c=i.start;c<i.end;c++){var h=t.getLineCoords(c,a);n&&(s[f++]=h);for(var p=0;p<h;p++)d=e.dataToPoint(a[p],!1,d),s[f++]=d[0],s[f++]=d[1]}o.setLayout("linesPoints",s)}else for(var c=i.start;c<i.end;c++){var v=o.getItemModel(c),h=t.getLineCoords(c,a),g=[];if(n)for(var m=0;m<h;m++)g.push(e.dataToPoint(a[m]));else{g[0]=e.dataToPoint(a[0]),g[1]=e.dataToPoint(a[1]);var y=v.get(["lineStyle","curveness"]);+y&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*y,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*y])}o.setItemLayout(c,g)}}}}}},tNt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var o=n.getData(),a=this._updateLineDraw(o,n),s=n.get("zlevel"),l=n.get(["effect","trailLength"]),u=i.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(s).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(n)&&l>0&&(c||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),a.updateData(o);var f=n.get("clip",!0)&&eE(n.coordinateSystem,!1,n);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},e.prototype.incrementalPrepareRender=function(n,r,i){var o=n.getData(),a=this._updateLineDraw(o,n);a.incrementalPrepareUpdate(o),this._clearLayer(i),this._finished=!1},e.prototype.incrementalRender=function(n,r,i){this._lineDraw.incrementalUpdate(n,r.getData()),this._finished=n.end===r.getData().count()},e.prototype.eachRendered=function(n){this._lineDraw&&this._lineDraw.eachRendered(n)},e.prototype.updateTransform=function(n,r,i){var o=n.getData(),a=n.pipelineContext;if(!this._finished||a.large||a.progressiveRender)return{update:!0};var s=$Ce.reset(n,r,i);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(i)},e.prototype._updateLineDraw=function(n,r){var i=this._lineDraw,o=this._showEffect(r),a=!!r.get("polyline"),s=r.pipelineContext,l=s.large;return(!i||o!==this._hasEffet||a!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new eNt:new D9(a?o?ZDt:BCe:o?NCe:L9),this._hasEffet=o,this._isPolyline=a,this._isLargeDraw=l),this.group.add(i.group),i},e.prototype._showEffect=function(n){return!!n.get(["effect","show"])},e.prototype._clearLayer=function(n){var r=n.getZr(),i=r.painter.getType()==="svg";!i&&this._lastZlevel!=null&&r.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(n,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},e.prototype.dispose=function(n,r){this.remove(n,r)},e.type="lines",e})(Oi),nNt=typeof Uint32Array>"u"?Array:Uint32Array,rNt=typeof Float64Array>"u"?Array:Float64Array;function soe(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=kt(e,function(n){var r=[n[0].coord,n[1].coord],i={coords:r};return n[0].name&&(i.fromName=n[0].name),n[1].name&&(i.toName=n[1].name),dG([i,n[0],n[1]])}))}var iNt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return e.prototype.init=function(n){n.data=n.data||[],soe(n);var r=this._processFlatCoordsArray(n.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(n.data=new Float32Array(r.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(n){if(soe(n),n.data){var r=this._processFlatCoordsArray(n.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(n.data=new Float32Array(r.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(n){var r=this._processFlatCoordsArray(n.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=pC(this._flatCoords,r.flatCoords),this._flatCoordsOffset=pC(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),n.data=new Float32Array(r.count)),this.getRawData().appendData(n.data)},e.prototype._getCoordsFromItemModel=function(n){var r=this.getData().getItemModel(n),i=r.option instanceof Array?r.option:r.getShallow("coords");return i},e.prototype.getLineCoordsCount=function(n){return this._flatCoordsOffset?this._flatCoordsOffset[n*2+1]:this._getCoordsFromItemModel(n).length},e.prototype.getLineCoords=function(n,r){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[n*2],o=this._flatCoordsOffset[n*2+1],a=0;a<o;a++)r[a]=r[a]||[],r[a][0]=this._flatCoords[i+a*2],r[a][1]=this._flatCoords[i+a*2+1];return o}else{for(var s=this._getCoordsFromItemModel(n),a=0;a<s.length;a++)r[a]=r[a]||[],r[a][0]=s[a][0],r[a][1]=s[a][1];return s.length}},e.prototype._processFlatCoordsArray=function(n){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),ri(n[0])){for(var i=n.length,o=new nNt(i),a=new rNt(i),s=0,l=0,u=0,c=0;c<i;){u++;var f=n[c++];o[l++]=s+r,o[l++]=f;for(var d=0;d<f;d++){var h=n[c++],p=n[c++];a[s++]=h,a[s++]=p}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,l),flatCoords:a,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:n.length}},e.prototype.getInitialData=function(n,r){var i=new Qs(["value"],this);return i.hasItemOption=!1,i.initData(n.data,[],function(o,a,s,l){if(o instanceof Array)return NaN;i.hasItemOption=!0;var u=o.value;if(u!=null)return u instanceof Array?u[l]:u}),i},e.prototype.formatTooltip=function(n,r,i){var o=this.getData(),a=o.getItemModel(n),s=a.get("name");if(s)return s;var l=a.get("fromName"),u=a.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),Oa("nameValue",{name:c.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var n=this.option.progressive;return n??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var n=this.getModel("effect"),r=n.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:n.get("show")&&r>0?r+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e})(Ui);function bA(t){return t instanceof Array||(t=[t,t]),t}var oNt={seriesType:"lines",reset:function(t){var e=bA(t.get("symbol")),n=bA(t.get("symbolSize")),r=t.getData();r.setVisual("fromSymbol",e&&e[0]),r.setVisual("toSymbol",e&&e[1]),r.setVisual("fromSymbolSize",n&&n[0]),r.setVisual("toSymbolSize",n&&n[1]);function i(o,a){var s=o.getItemModel(a),l=bA(s.getShallow("symbol",!0)),u=bA(s.getShallow("symbolSize",!0));l[0]&&o.setItemVisual(a,"fromSymbol",l[0]),l[1]&&o.setItemVisual(a,"toSymbol",l[1]),u[0]&&o.setItemVisual(a,"fromSymbolSize",u[0]),u[1]&&o.setItemVisual(a,"toSymbolSize",u[1])}return{dataEach:r.hasItemOption?i:null}}};function aNt(t){t.registerChartView(tNt),t.registerSeriesModel(iNt),t.registerLayout($Ce),t.registerVisual(oNt)}var sNt=256,lNt=(function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=gv.createCanvas();this.canvas=e}return t.prototype.update=function(e,n,r,i,o,a){var s=this._getBrush(),l=this._getGradient(o,"inRange"),u=this._getGradient(o,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,d=f.getContext("2d"),h=e.length;f.width=n,f.height=r;for(var p=0;p<h;++p){var v=e[p],g=v[0],m=v[1],y=v[2],b=i(y);d.globalAlpha=b,d.drawImage(s,g-c,m-c)}if(!f.width||!f.height)return f;for(var w=d.getImageData(0,0,f.width,f.height),S=w.data,x=0,C=S.length,E=this.minOpacity,T=this.maxOpacity,A=T-E;x<C;){var b=S[x+3]/256,k=Math.floor(b*(sNt-1))*4;if(b>0){var M=a(b)?l:u;b>0&&(b=b*A+E),S[x++]=M[k],S[x++]=M[k+1],S[x++]=M[k+2],S[x++]=M[k+3]*b*256}else x+=4}return d.putImageData(w,0,0),f},t.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=gv.createCanvas()),n=this.pointSize+this.blurSize,r=n*2;e.width=r,e.height=r;var i=e.getContext("2d");return i.clearRect(0,0,r,r),i.shadowOffsetX=r,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-n,n,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),e},t.prototype._getGradient=function(e,n){for(var r=this._gradientPixels,i=r[n]||(r[n]=new Uint8ClampedArray(256*4)),o=[0,0,0,0],a=0,s=0;s<256;s++)e[n](s/255,!0,o),i[a++]=o[0],i[a++]=o[1],i[a++]=o[2],i[a++]=o[3];return i},t})();function uNt(t,e,n){var r=t[1]-t[0];e=kt(e,function(a){return{interval:[(a.interval[0]-t[0])/r,(a.interval[1]-t[0])/r]}});var i=e.length,o=0;return function(a){var s;for(s=o;s<i;s++){var l=e[s].interval;if(l[0]<=a&&a<=l[1]){o=s;break}}if(s===i)for(s=o-1;s>=0;s--){var l=e[s].interval;if(l[0]<=a&&a<=l[1]){o=s;break}}return s>=0&&s<i&&n[s]}}function cNt(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(r){return r>=e[0]&&r<=e[1]}}function loe(t){var e=t.dimensions;return e[0]==="lng"&&e[1]==="lat"}var fNt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var o;r.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===n&&(o=s)})}),this._progressiveEls=null,this.group.removeAll();var a=n.coordinateSystem;a.type==="cartesian2d"||a.type==="calendar"?this._renderOnCartesianAndCalendar(n,i,0,n.getData().count()):loe(a)&&this._renderOnGeo(a,n,o,i)},e.prototype.incrementalPrepareRender=function(n,r,i){this.group.removeAll()},e.prototype.incrementalRender=function(n,r,i,o){var a=r.coordinateSystem;a&&(loe(a)?this.render(r,i,o):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(r,o,n.start,n.end,!0)))},e.prototype.eachRendered=function(n){Bv(this._progressiveEls||this.group,n)},e.prototype._renderOnCartesianAndCalendar=function(n,r,i,o,a){var s=n.coordinateSystem,l=Py(s,"cartesian2d"),u,c,f,d;if(l){var h=s.getAxis("x"),p=s.getAxis("y");u=h.getBandWidth()+.5,c=p.getBandWidth()+.5,f=h.scale.getExtent(),d=p.scale.getExtent()}for(var v=this.group,g=n.getData(),m=n.getModel(["emphasis","itemStyle"]).getItemStyle(),y=n.getModel(["blur","itemStyle"]).getItemStyle(),b=n.getModel(["select","itemStyle"]).getItemStyle(),w=n.get(["itemStyle","borderRadius"]),S=Pa(n),x=n.getModel("emphasis"),C=x.get("focus"),E=x.get("blurScope"),T=x.get("disabled"),A=l?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],k=i;k<o;k++){var M=void 0,D=g.getItemVisual(k,"style");if(l){var L=g.get(A[0],k),I=g.get(A[1],k);if(isNaN(g.get(A[2],k))||isNaN(L)||isNaN(I)||L<f[0]||L>f[1]||I<d[0]||I>d[1])continue;var R=s.dataToPoint([L,I]);M=new Jr({shape:{x:R[0]-u/2,y:R[1]-c/2,width:u,height:c},style:D})}else{if(isNaN(g.get(A[1],k)))continue;M=new Jr({z2:1,shape:s.dataToRect([g.get(A[0],k)]).contentShape,style:D})}if(g.hasItemOption){var V=g.getItemModel(k),P=V.getModel("emphasis");m=P.getModel("itemStyle").getItemStyle(),y=V.getModel(["blur","itemStyle"]).getItemStyle(),b=V.getModel(["select","itemStyle"]).getItemStyle(),w=V.get(["itemStyle","borderRadius"]),C=P.get("focus"),E=P.get("blurScope"),T=P.get("disabled"),S=Pa(V)}M.shape.r=w;var B=n.getRawValue(k),j="-";B&&B[2]!=null&&(j=B[2]+""),us(M,S,{labelFetcher:n,labelDataIndex:k,defaultOpacity:D.opacity,defaultText:j}),M.ensureState("emphasis").style=m,M.ensureState("blur").style=y,M.ensureState("select").style=b,go(M,C,E,T),M.incremental=a,a&&(M.states.emphasis.hoverLayer=!0),v.add(M),g.setItemGraphicEl(k,M),this._progressiveEls&&this._progressiveEls.push(M)}},e.prototype._renderOnGeo=function(n,r,i,o){var a=i.targetVisuals.inRange,s=i.targetVisuals.outOfRange,l=r.getData(),u=this._hmLayer||this._hmLayer||new lNt;u.blurSize=r.get("blurSize"),u.pointSize=r.get("pointSize"),u.minOpacity=r.get("minOpacity"),u.maxOpacity=r.get("maxOpacity");var c=n.getViewRect().clone(),f=n.getRoamTransform();c.applyTransform(f);var d=Math.max(c.x,0),h=Math.max(c.y,0),p=Math.min(c.width+c.x,o.getWidth()),v=Math.min(c.height+c.y,o.getHeight()),g=p-d,m=v-h,y=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],b=l.mapArray(y,function(C,E,T){var A=n.dataToPoint([C,E]);return A[0]-=d,A[1]-=h,A.push(T),A}),w=i.getExtent(),S=i.type==="visualMap.continuous"?cNt(w,i.option.range):uNt(w,i.getPieceList(),i.option.selected);u.update(b,g,m,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:s.color.getColorMapper()},S);var x=new qa({style:{width:g,height:m,x:d,y:h,image:u.canvas},silent:!0});this.group.add(x)},e.type="heatmap",e})(Oi),dNt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.getInitialData=function(n,r){return Bh(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var n=K2.get(this.get("coordinateSystem"));if(n&&n.dimensions)return n.dimensions[0]==="lng"&&n.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e})(Ui);function hNt(t){t.registerChartView(fNt),t.registerSeriesModel(dNt)}var pNt=["itemStyle","borderWidth"],uoe=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],NB=new Nh,vNt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var o=this.group,a=n.getData(),s=this._data,l=n.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),d={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:n,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:uoe[+c],categoryDim:uoe[1-+c]};a.diff(s).add(function(p){if(a.hasValue(p)){var v=foe(a,p),g=coe(a,p,v,d),m=doe(a,d,g);a.setItemGraphicEl(p,m),o.add(m),poe(m,d,g)}}).update(function(p,v){var g=s.getItemGraphicEl(v);if(!a.hasValue(p)){o.remove(g);return}var m=foe(a,p),y=coe(a,p,m,d),b=GCe(a,y);g&&b!==g.__pictorialShapeStr&&(o.remove(g),a.setItemGraphicEl(p,null),g=null),g?SNt(g,d,y):g=doe(a,d,y,!0),a.setItemGraphicEl(p,g),g.__pictorialSymbolMeta=y,o.add(g),poe(g,d,y)}).remove(function(p){var v=s.getItemGraphicEl(p);v&&hoe(s,p,v.__pictorialSymbolMeta.animationModel,v)}).execute();var h=n.get("clip",!0)?eE(n.coordinateSystem,!1,n):null;return h?o.setClipPath(h):o.removeClipPath(),this._data=a,this.group},e.prototype.remove=function(n,r){var i=this.group,o=this._data;n.get("animation")?o&&o.eachItemGraphicEl(function(a){hoe(o,ar(a).dataIndex,n,a)}):i.removeAll()},e.type="pictorialBar",e})(Oi);function coe(t,e,n,r){var i=t.getItemLayout(e),o=n.get("symbolRepeat"),a=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=n.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=n.get("symbolPatternSize")||2,f=n.isAnimationEnabled(),d={dataIndex:e,layout:i,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?n:null,hoverScale:f&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};gNt(n,o,i,r,d),mNt(t,e,i,o,a,d.boundingLength,d.pxSign,c,r,d),yNt(n,d.symbolScale,u,r,d);var h=d.symbolSize,p=ky(n.get("symbolOffset"),h);return bNt(n,h,i,o,a,p,s,d.valueLineWidth,d.boundingLength,d.repeatCutLength,r,d),d}function gNt(t,e,n,r,i){var o=r.valueDim,a=t.get("symbolBoundingData"),s=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-+(n[o.wh]<=0),c;if(Tt(a)){var f=[BB(s,a[0])-l,BB(s,a[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else a!=null?c=BB(s,a)-l:e?c=r.coordSysExtent[o.index][u]-l:c=n[o.wh];i.boundingLength=c,e&&(i.repeatCutLength=n[o.wh]);var d=o.xy==="x",h=s.inverse;i.pxSign=d&&!h||!d&&h?c>=0?1:-1:c>0?1:-1}function BB(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function mNt(t,e,n,r,i,o,a,s,l,u){var c=l.valueDim,f=l.categoryDim,d=Math.abs(n[f.wh]),h=t.getItemVisual(e,"symbolSize"),p;Tt(h)?p=h.slice():h==null?p=["100%","100%"]:p=[h,h],p[f.index]=on(p[f.index],d),p[c.index]=on(p[c.index],r?d:Math.abs(o)),u.symbolSize=p;var v=u.symbolScale=[p[0]/s,p[1]/s];v[c.index]*=(l.isHorizontal?-1:1)*a}function yNt(t,e,n,r,i){var o=t.get(pNt)||0;o&&(NB.attr({scaleX:e[0],scaleY:e[1],rotation:n}),NB.updateTransform(),o/=NB.getLineScale(),o*=e[r.valueDim.index]),i.valueLineWidth=o||0}function bNt(t,e,n,r,i,o,a,s,l,u,c,f){var d=c.categoryDim,h=c.valueDim,p=f.pxSign,v=Math.max(e[h.index]+s,0),g=v;if(r){var m=Math.abs(l),y=Va(t.get("symbolMargin"),"15%")+"",b=!1;y.lastIndexOf("!")===y.length-1&&(b=!0,y=y.slice(0,y.length-1));var w=on(y,e[h.index]),S=Math.max(v+w*2,0),x=b?0:w*2,C=CG(r),E=C?r:voe((m+x)/S),T=m-E*v;w=T/2/(b?E:Math.max(E-1,1)),S=v+w*2,x=b?0:w*2,!C&&r!=="fixed"&&(E=u?voe((Math.abs(u)+x)/S):0),g=E*S-x,f.repeatTimes=E,f.symbolMargin=w}var A=p*(g/2),k=f.pathPosition=[];k[d.index]=n[d.wh]/2,k[h.index]=a==="start"?A:a==="end"?l-A:l/2,o&&(k[0]+=o[0],k[1]+=o[1]);var M=f.bundlePosition=[];M[d.index]=n[d.xy],M[h.index]=n[h.xy];var D=f.barRectShape=yt({},n);D[h.wh]=p*Math.max(Math.abs(n[h.wh]),Math.abs(k[h.index]+A)),D[d.wh]=n[d.wh];var L=f.clipShape={};L[d.xy]=-n[d.xy],L[d.wh]=c.ecSize[d.wh],L[h.xy]=0,L[h.wh]=n[h.wh]}function FCe(t){var e=t.symbolPatternSize,n=ra(t.symbolType,-e/2,-e/2,e,e);return n.attr({culling:!0}),n.type!=="image"&&n.setStyle({strokeNoScale:!0}),n}function VCe(t,e,n,r){var i=t.__pictorialBundle,o=n.symbolSize,a=n.valueLineWidth,s=n.pathPosition,l=e.valueDim,u=n.repeatTimes||0,c=0,f=o[e.valueDim.index]+a+n.symbolMargin*2;for(U9(t,function(v){v.__pictorialAnimationIndex=c,v.__pictorialRepeatTimes=u,c<u?Pb(v,null,p(c),n,r):Pb(v,null,{scaleX:0,scaleY:0},n,r,function(){i.remove(v)}),c++});c<u;c++){var d=FCe(n);d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=u,i.add(d);var h=p(c);Pb(d,{x:h.x,y:h.y,scaleX:0,scaleY:0},{scaleX:h.scaleX,scaleY:h.scaleY,rotation:h.rotation},n,r)}function p(v){var g=s.slice(),m=n.pxSign,y=v;return(n.symbolRepeatDirection==="start"?m>0:m<0)&&(y=u-1-v),g[l.index]=f*(y-u/2+.5)+s[l.index],{x:g[0],y:g[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function zCe(t,e,n,r){var i=t.__pictorialBundle,o=t.__pictorialMainPath;o?Pb(o,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,r):(o=t.__pictorialMainPath=FCe(n),i.add(o),Pb(o,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,r))}function HCe(t,e,n){var r=yt({},e.barRectShape),i=t.__pictorialBarRect;i?Pb(i,null,{shape:r},e,n):(i=t.__pictorialBarRect=new Jr({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,t.add(i))}function jCe(t,e,n,r){if(n.symbolClip){var i=t.__pictorialClipPath,o=yt({},n.clipShape),a=e.valueDim,s=n.animationModel,l=n.dataIndex;if(i)si(i,{shape:o},s,l);else{o[a.wh]=0,i=new Jr({shape:o}),t.__pictorialBundle.setClipPath(i),t.__pictorialClipPath=i;var u={};u[a.wh]=n.clipShape[a.wh],Ay[r?"updateProps":"initProps"](i,{shape:u},s,l)}}}function foe(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=_Nt,n.isAnimationEnabled=wNt,n}function _Nt(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function wNt(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function doe(t,e,n,r){var i=new nr,o=new nr;return i.add(o),i.__pictorialBundle=o,o.x=n.bundlePosition[0],o.y=n.bundlePosition[1],n.symbolRepeat?VCe(i,e,n):zCe(i,e,n),HCe(i,n,r),jCe(i,e,n,r),i.__pictorialShapeStr=GCe(t,n),i.__pictorialSymbolMeta=n,i}function SNt(t,e,n){var r=n.animationModel,i=n.dataIndex,o=t.__pictorialBundle;si(o,{x:n.bundlePosition[0],y:n.bundlePosition[1]},r,i),n.symbolRepeat?VCe(t,e,n,!0):zCe(t,e,n,!0),HCe(t,n,!0),jCe(t,e,n,!0)}function hoe(t,e,n,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var o=[];U9(r,function(a){o.push(a)}),r.__pictorialMainPath&&o.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),ie(o,function(a){yv(a,{scaleX:0,scaleY:0},n,e,function(){r.parent&&r.parent.remove(r)})}),t.setItemGraphicEl(e,null)}function GCe(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function U9(t,e,n){ie(t.__pictorialBundle.children(),function(r){r!==t.__pictorialBarRect&&e.call(n,r)})}function Pb(t,e,n,r,i,o){e&&t.attr(e),r.symbolClip&&!i?n&&t.attr(n):n&&Ay[i?"updateProps":"initProps"](t,n,r.animationModel,r.dataIndex,o)}function poe(t,e,n){var r=n.dataIndex,i=n.itemModel,o=i.getModel("emphasis"),a=o.getModel("itemStyle").getItemStyle(),s=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),c=o.get("focus"),f=o.get("blurScope"),d=o.get("scale");U9(t,function(v){if(v instanceof qa){var g=v.style;v.useStyle(yt({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},n.style))}else v.useStyle(n.style);var m=v.ensureState("emphasis");m.style=a,d&&(m.scaleX=v.scaleX*1.1,m.scaleY=v.scaleY*1.1),v.ensureState("blur").style=s,v.ensureState("select").style=l,u&&(v.cursor=u),v.z2=n.z2});var h=e.valueDim.posDesc[+(n.boundingLength>0)],p=t.__pictorialBarRect;p.ignoreClip=!0,us(p,Pa(i),{labelFetcher:e.seriesModel,labelDataIndex:r,defaultText:B1(e.seriesModel.getData(),r),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:h}),go(t,c,f,o.get("disabled"))}function voe(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var xNt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return e.prototype.getInitialData=function(n){return n.stack=null,t.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=$v(OC.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e})(OC);function CNt(t){t.registerChartView(vNt),t.registerSeriesModel(xNt),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,hr(ASe,"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,kSe("pictorialBar"))}var ENt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._layers=[],n}return e.prototype.render=function(n,r,i){var o=n.getData(),a=this,s=this.group,l=n.getLayerSeries(),u=o.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;s.x=0,s.y=c.y+f[0];function d(g){return g.name}var h=new mh(this._layersSeries||[],l,d,d),p=[];h.add(vn(v,this,"add")).update(vn(v,this,"update")).remove(vn(v,this,"remove")).execute();function v(g,m,y){var b=a._layers;if(g==="remove"){s.remove(b[m]);return}for(var w=[],S=[],x,C=l[m].indices,E=0;E<C.length;E++){var T=o.getItemLayout(C[E]),A=T.x,k=T.y0,M=T.y;w.push(A,k),S.push(A,k+M),x=o.getItemVisual(C[E],"style")}var D,L=o.getItemLayout(C[0]),I=n.getModel("label"),R=I.get("margin"),V=n.getModel("emphasis");if(g==="add"){var P=p[m]=new nr;D=new gxe({shape:{points:w,stackedOnPoints:S,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),P.add(D),s.add(P),n.isAnimationEnabled()&&D.setClipPath(TNt(D.getBoundingRect(),n,function(){D.removeClipPath()}))}else{var P=b[y];D=P.childAt(0),s.add(P),p[m]=P,si(D,{shape:{points:w,stackedOnPoints:S}},n),$c(D)}us(D,Pa(n),{labelDataIndex:C[E-1],defaultText:o.getName(C[E-1]),inheritColor:x.fill},{normal:{verticalAlign:"middle"}}),D.setTextConfig({position:null,local:!0});var B=D.getTextContent();B&&(B.x=L.x-R,B.y=L.y0+L.y/2),D.useStyle(x),o.setItemGraphicEl(m,D),ls(D,n),go(D,V.get("focus"),V.get("blurScope"),V.get("disabled"))}this._layersSeries=l,this._layers=p},e.type="themeRiver",e})(Oi);function TNt(t,e,n){var r=new Jr({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return eo(r,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,n),r}var $B=2,ANt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new rE(vn(this.getData,this),vn(this.getRawData,this))},e.prototype.fixData=function(n){var r=n.length,i={},o=m5(n,function(d){return i.hasOwnProperty(d[0]+"")||(i[d[0]+""]=-1),d[2]}),a=[];o.buckets.each(function(d,h){a.push({name:h,dataList:d})});for(var s=a.length,l=0;l<s;++l){for(var u=a[l].name,c=0;c<a[l].dataList.length;++c){var f=a[l].dataList[c][0]+"";i[f]=l}for(var f in i)i.hasOwnProperty(f)&&i[f]!==l&&(i[f]=l,n[r]=[f,0,u],r++)}return n},e.prototype.getInitialData=function(n,r){for(var i=this.getReferringComponents("singleAxis",Qo).models[0],o=i.get("type"),a=yi(n.data,function(p){return p[2]!==void 0}),s=this.fixData(a||[]),l=[],u=this.nameMap=Mn(),c=0,f=0;f<s.length;++f)l.push(s[f][$B]),u.get(s[f][$B])||(u.set(s[f][$B],c),c++);var d=X2(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:ZP(o)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new Qs(d,this);return h.initData(s),h},e.prototype.getLayerSeries=function(){for(var n=this.getData(),r=n.count(),i=[],o=0;o<r;++o)i[o]=o;var a=n.mapDimension("single"),s=m5(i,function(u){return n.get("name",u)}),l=[];return s.buckets.each(function(u,c){u.sort(function(f,d){return n.get(a,f)-n.get(a,d)}),l.push({name:c,indices:u})}),l},e.prototype.getAxisTooltipData=function(n,r,i){Tt(n)||(n=n?[n]:[]);for(var o=this.getData(),a=this.getLayerSeries(),s=[],l=a.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,d=-1,h=a[c].indices.length,p=0;p<h;++p){var v=o.get(n[0],a[c].indices[p]),g=Math.abs(v-r);g<=f&&(u=v,f=g,d=a[c].indices[p])}s.push(d)}return{dataIndices:s,nestestValue:u}},e.prototype.formatTooltip=function(n,r,i){var o=this.getData(),a=o.getName(n),s=o.get(o.mapDimension("value"),n);return Oa("nameValue",{name:a,value:s})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e})(Ui);function kNt(t,e){t.eachSeriesByType("themeRiver",function(n){var r=n.getData(),i=n.coordinateSystem,o={},a=i.getRect();o.rect=a;var s=n.get("boundaryGap"),l=i.getAxis();if(o.boundaryGap=s,l.orient==="horizontal"){s[0]=on(s[0],a.height),s[1]=on(s[1],a.height);var u=a.height-s[0]-s[1];goe(r,n,u)}else{s[0]=on(s[0],a.width),s[1]=on(s[1],a.width);var c=a.width-s[0]-s[1];goe(r,n,c)}r.setLayout("layoutInfo",o)})}function goe(t,e,n){if(t.count())for(var r=e.coordinateSystem,i=e.getLayerSeries(),o=t.mapDimension("single"),a=t.mapDimension("value"),s=kt(i,function(g){return kt(g.indices,function(m){var y=r.dataToPoint(t.get(o,m));return y[1]=t.get(a,m),y})}),l=MNt(s),u=l.y0,c=n/l.max,f=i.length,d=i[0].indices.length,h,p=0;p<d;++p){h=u[p]*c,t.setItemLayout(i[0].indices[p],{layerIndex:0,x:s[0][p][0],y0:h,y:s[0][p][1]*c});for(var v=1;v<f;++v)h+=s[v-1][p][1]*c,t.setItemLayout(i[v].indices[p],{layerIndex:v,x:s[v][p][0],y0:h,y:s[v][p][1]*c})}}function MNt(t){for(var e=t.length,n=t[0].length,r=[],i=[],o=0,a=0;a<n;++a){for(var s=0,l=0;l<e;++l)s+=t[l][a][1];s>o&&(o=s),r.push(s)}for(var u=0;u<n;++u)i[u]=(o-r[u])/2;o=0;for(var c=0;c<n;++c){var f=r[c]+i[c];f>o&&(o=f)}return{y0:i,max:o}}function PNt(t){t.registerChartView(ENt),t.registerSeriesModel(ANt),t.registerLayout(kNt),t.registerProcessor(nE("themeRiver"))}var ONt=2,INt=4,moe=(function(t){nt(e,t);function e(n,r,i,o){var a=t.call(this)||this;a.z2=ONt,a.textConfig={inside:!0},ar(a).seriesIndex=r.seriesIndex;var s=new ti({z2:INt,silent:n.getModel().get(["label","silent"])});return a.setTextContent(s),a.updateData(!0,n,r,i,o),a}return e.prototype.updateData=function(n,r,i,o,a){this.node=r,r.piece=this,i=i||this._seriesModel,o=o||this._ecModel;var s=this;ar(s).dataIndex=r.dataIndex;var l=r.getModel(),u=l.getModel("emphasis"),c=r.getLayout(),f=yt({},c);f.label=null;var d=r.getVisual("style");d.lineJoin="bevel";var h=r.getVisual("decal");h&&(d.decal=D1(h,a));var p=um(l.getModel("itemStyle"),f,!0);yt(f,p),ie(sl,function(y){var b=s.ensureState(y),w=l.getModel([y,"itemStyle"]);b.style=w.getItemStyle();var S=um(w,f);S&&(b.shape=S)}),n?(s.setShape(f),s.shape.r=c.r0,eo(s,{shape:{r:c.r}},i,r.dataIndex)):(si(s,{shape:f},i),$c(s)),s.useStyle(d),this._updateLabel(i);var v=l.getShallow("cursor");v&&s.attr("cursor",v),this._seriesModel=i||this._seriesModel,this._ecModel=o||this._ecModel;var g=u.get("focus"),m=g==="relative"?pC(r.getAncestorsIndices(),r.getDescendantIndices()):g==="ancestor"?r.getAncestorsIndices():g==="descendant"?r.getDescendantIndices():g;go(this,m,u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(n){var r=this,i=this.node.getModel(),o=i.getModel("label"),a=this.node.getLayout(),s=a.endAngle-a.startAngle,l=(a.startAngle+a.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,d=f.getTextContent(),h=this.node.dataIndex,p=o.get("minAngle")/180*Math.PI,v=o.get("show")&&!(p!=null&&Math.abs(s)<p);d.ignore=!v,ie(bC,function(m){var y=m==="normal"?i.getModel("label"):i.getModel([m,"label"]),b=m==="normal",w=b?d:d.ensureState(m),S=n.getFormattedLabel(h,m);b&&(S=S||r.node.name),w.style=Gi(y,{},null,m!=="normal",!0),S&&(w.style.text=S);var x=y.get("show");x!=null&&!b&&(w.ignore=!x);var C=g(y,"position"),E=b?f:f.states[m],T=E.style.fill;E.textConfig={outsideFill:y.get("color")==="inherit"?T:null,inside:C!=="outside"};var A,k=g(y,"distance")||0,M=g(y,"align"),D=g(y,"rotate"),L=Math.PI*.5,I=Math.PI*1.5,R=Wl(D==="tangential"?Math.PI/2-l:l),V=R>L&&!O1(R-L)&&R<I;C==="outside"?(A=a.r+k,M=V?"right":"left"):!M||M==="center"?(s===2*Math.PI&&a.r0===0?A=0:A=(a.r+a.r0)/2,M="center"):M==="left"?(A=a.r0+k,M=V?"right":"left"):M==="right"&&(A=a.r-k,M=V?"left":"right"),w.style.align=M,w.style.verticalAlign=g(y,"verticalAlign")||"middle",w.x=A*u+a.cx,w.y=A*c+a.cy;var P=0;D==="radial"?P=Wl(-l)+(V?Math.PI:0):D==="tangential"?P=Wl(Math.PI/2-l)+(V?Math.PI:0):ri(D)&&(P=D*Math.PI/180),w.rotation=Wl(P)});function g(m,y){var b=m.get(y);return b??o.get(y)}d.dirtyStyle()},e})(ll),m6="sunburstRootToNode",yoe="sunburstHighlight",RNt="sunburstUnhighlight";function LNt(t){t.registerAction({type:m6,update:"updateView"},function(e,n){n.eachComponent({mainType:"series",subType:"sunburst",query:e},r);function r(i,o){var a=RC(e,[m6],i);if(a){var s=i.getViewRoot();s&&(e.direction=M9(s,a.node)?"rollUp":"drillDown"),i.resetViewRoot(a.node)}}}),t.registerAction({type:yoe,update:"none"},function(e,n,r){e=yt({},e),n.eachComponent({mainType:"series",subType:"sunburst",query:e},i);function i(o){var a=RC(e,[yoe],o);a&&(e.dataIndex=a.node.dataIndex)}r.dispatchAction(yt(e,{type:"highlight"}))}),t.registerAction({type:RNt,update:"updateView"},function(e,n,r){e=yt({},e),r.dispatchAction(yt(e,{type:"downplay"}))})}var DNt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i,o){var a=this;this.seriesModel=n,this.api=i,this.ecModel=r;var s=n.getData(),l=s.tree.root,u=n.getViewRoot(),c=this.group,f=n.get("renderLabelForZeroData"),d=[];u.eachNode(function(y){d.push(y)});var h=this._oldChildren||[];p(d,h),m(l,u),this._initEvents(),this._oldChildren=d;function p(y,b){if(y.length===0&&b.length===0)return;new mh(b,y,w,w).add(S).update(S).remove(hr(S,null)).execute();function w(x){return x.getId()}function S(x,C){var E=x==null?null:y[x],T=C==null?null:b[C];v(E,T)}}function v(y,b){if(!f&&y&&!y.getValue()&&(y=null),y!==l&&b!==l){if(b&&b.piece)y?(b.piece.updateData(!1,y,n,r,i),s.setItemGraphicEl(y.dataIndex,b.piece)):g(b);else if(y){var w=new moe(y,n,r,i);c.add(w),s.setItemGraphicEl(y.dataIndex,w)}}}function g(y){y&&y.piece&&(c.remove(y.piece),y.piece=null)}function m(y,b){b.depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,y,n,r,i):(a.virtualPiece=new moe(y,n,r,i),c.add(a.virtualPiece)),b.piece.off("click"),a.virtualPiece.on("click",function(w){a._rootToNode(b.parentNode)})):a.virtualPiece&&(c.remove(a.virtualPiece),a.virtualPiece=null)}},e.prototype._initEvents=function(){var n=this;this.group.off("click"),this.group.on("click",function(r){var i=!1,o=n.seriesModel.getViewRoot();o.eachNode(function(a){if(!i&&a.piece&&a.piece===r.target){var s=a.getModel().get("nodeClick");if(s==="rootToNode")n._rootToNode(a);else if(s==="link"){var l=a.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";HP(u,c)}}i=!0}})})},e.prototype._rootToNode=function(n){n!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:m6,from:this.uid,seriesId:this.seriesModel.id,targetNode:n})},e.prototype.containPoint=function(n,r){var i=r.getData(),o=i.getItemLayout(0);if(o){var a=n[0]-o.cx,s=n[1]-o.cy,l=Math.sqrt(a*a+s*s);return l<=o.r&&l>=o.r0}},e.type="sunburst",e})(Oi),NNt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreStyleOnData=!0,n}return e.prototype.getInitialData=function(n,r){var i={name:n.name,children:n.data};UCe(i);var o=this._levelModels=kt(n.levels||[],function(l){return new Ci(l,this,r)},this),a=k9.createTree(i,this,s);function s(l){l.wrapMethod("getItemModel",function(u,c){var f=a.getNodeByDataIndex(c),d=o[f.depth];return d&&(u.parentModel=d),u})}return a.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(n){var r=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(n);return r.treePathInfo=QR(i,this),r},e.prototype.getLevelModel=function(n){return this._levelModels&&this._levelModels[n.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var r=this.getRawData().tree.root;(!n||n!==r&&!r.contains(n))&&(this._viewRoot=r)},e.prototype.enableAriaDecal=function(){Xxe(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e})(Ui);function UCe(t){var e=0;ie(t.children,function(r){UCe(r);var i=r.value;Tt(i)&&(i=i[0]),e+=i});var n=t.value;Tt(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=e),n<0&&(n=0),Tt(t.value)?t.value[0]=n:t.value=n}var boe=Math.PI/180;function BNt(t,e,n){e.eachSeriesByType(t,function(r){var i=r.get("center"),o=r.get("radius");Tt(o)||(o=[0,o]),Tt(i)||(i=[i,i]);var a=n.getWidth(),s=n.getHeight(),l=Math.min(a,s),u=on(i[0],a),c=on(i[1],s),f=on(o[0],l/2),d=on(o[1],l/2),h=-r.get("startAngle")*boe,p=r.get("minAngle")*boe,v=r.getData().tree.root,g=r.getViewRoot(),m=g.depth,y=r.get("sort");y!=null&&WCe(g,y);var b=0;ie(g.children,function(R){!isNaN(R.getValue())&&b++});var w=g.getValue(),S=Math.PI/(w||b)*2,x=g.depth>0,C=g.height-(x?-1:1),E=(d-f)/(C||1),T=r.get("clockwise"),A=r.get("stillShowZeroSum"),k=T?1:-1,M=function(R,V){if(R){var P=V;if(R!==v){var B=R.getValue(),j=w===0&&A?S:B*S;j<p&&(j=p),P=V+k*j;var G=R.depth-m-(x?-1:1),W=f+E*G,Z=f+E*(G+1),ee=r.getLevelModel(R);if(ee){var oe=ee.get("r0",!0),ce=ee.get("r",!0),X=ee.get("radius",!0);X!=null&&(oe=X[0],ce=X[1]),oe!=null&&(W=on(oe,l/2)),ce!=null&&(Z=on(ce,l/2))}R.setLayout({angle:j,startAngle:V,endAngle:P,clockwise:T,cx:u,cy:c,r0:W,r:Z})}if(R.children&&R.children.length){var H=0;ie(R.children,function(U){H+=M(U,V+H)})}return P-V}};if(x){var D=f,L=f+E,I=Math.PI*2;v.setLayout({angle:I,startAngle:h,endAngle:h+I,clockwise:T,cx:u,cy:c,r0:D,r:L})}M(g,h)})}function WCe(t,e){var n=t.children||[];t.children=$Nt(n,e),n.length&&ie(t.children,function(r){WCe(r,e)})}function $Nt(t,e){if(qn(e)){var n=kt(t,function(i,o){var a=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return a}},index:o}});return n.sort(function(i,o){return e(i.params,o.params)}),kt(n,function(i){return t[i.index]})}else{var r=e==="asc";return t.sort(function(i,o){var a=(i.getValue()-o.getValue())*(r?1:-1);return a===0?(i.dataIndex-o.dataIndex)*(r?-1:1):a})}}function FNt(t){var e={};function n(r,i,o){for(var a=r;a&&a.depth>1;)a=a.parentNode;var s=i.getColorFromPalette(a.name||a.dataIndex+"",e);return r.depth>1&&fn(s)&&(s=r5(s,(r.depth-1)/(o-1)*.5)),s}t.eachSeriesByType("sunburst",function(r){var i=r.getData(),o=i.tree;o.eachNode(function(a){var s=a.getModel(),l=s.getModel("itemStyle").getItemStyle();l.fill||(l.fill=n(a,r,o.root.height));var u=i.ensureUniqueItemVisual(a.dataIndex,"style");yt(u,l)})})}function VNt(t){t.registerChartView(DNt),t.registerSeriesModel(NNt),t.registerLayout(hr(BNt,"sunburst")),t.registerProcessor(hr(nE,"sunburst")),t.registerVisual(FNt),LNt(t)}var _oe={color:"fill",borderColor:"stroke"},zNt={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Jd=Qr(),HNt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(n,r){return Bh(null,this)},e.prototype.getDataParams=function(n,r,i){var o=t.prototype.getDataParams.call(this,n,r);return i&&(o.info=Jd(i).info),o},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e})(Ui);function jNt(t,e){return e=e||[0,0],kt(["x","y"],function(n,r){var i=this.getAxis(n),o=e[r],a=t[r]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(o-a)-i.dataToCoord(o+a))},this)}function GNt(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(n){return t.dataToPoint(n)},size:vn(jNt,t)}}}function UNt(t,e){return e=e||[0,0],kt([0,1],function(n){var r=e[n],i=t[n]/2,o=[],a=[];return o[n]=r-i,a[n]=r+i,o[1-n]=a[1-n]=e[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])},this)}function WNt(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(n){return t.dataToPoint(n)},size:vn(UNt,t)}}}function qNt(t,e){var n=this.getAxis(),r=e instanceof Array?e[0]:e,i=(t instanceof Array?t[0]:t)/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(r-i)-n.dataToCoord(r+i))}function KNt(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(n){return t.dataToPoint(n)},size:vn(qNt,t)}}}function YNt(t,e){return e=e||[0,0],kt(["Radius","Angle"],function(n,r){var i="get"+n+"Axis",o=this[i](),a=e[r],s=t[r]/2,l=o.type==="category"?o.getBandWidth():Math.abs(o.dataToCoord(a-s)-o.dataToCoord(a+s));return n==="Angle"&&(l=l*Math.PI/180),l},this)}function XNt(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),r=e.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:r[1],r0:r[0]},api:{coord:function(i){var o=e.dataToRadius(i[0]),a=n.dataToAngle(i[1]),s=t.coordToPoint([o,a]);return s.push(o,a*Math.PI/180),s},size:vn(YNt,t)}}}function ZNt(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(r,i){return t.dataToPoint(r,i)}}}}function qCe(t,e,n,r){return t&&(t.legacy||t.legacy!==!1&&!n&&!r&&e!=="tspan"&&(e==="text"||Cn(t,"text")))}function KCe(t,e,n){var r=t,i,o,a;if(e==="text")a=r;else{a={},Cn(r,"text")&&(a.text=r.text),Cn(r,"rich")&&(a.rich=r.rich),Cn(r,"textFill")&&(a.fill=r.textFill),Cn(r,"textStroke")&&(a.stroke=r.textStroke),Cn(r,"fontFamily")&&(a.fontFamily=r.fontFamily),Cn(r,"fontSize")&&(a.fontSize=r.fontSize),Cn(r,"fontStyle")&&(a.fontStyle=r.fontStyle),Cn(r,"fontWeight")&&(a.fontWeight=r.fontWeight),o={type:"text",style:a,silent:!0},i={};var s=Cn(r,"textPosition");n?i.position=s?r.textPosition:"inside":s&&(i.position=r.textPosition),Cn(r,"textPosition")&&(i.position=r.textPosition),Cn(r,"textOffset")&&(i.offset=r.textOffset),Cn(r,"textRotation")&&(i.rotation=r.textRotation),Cn(r,"textDistance")&&(i.distance=r.textDistance)}return woe(a,t),ie(a.rich,function(l){woe(l,l)}),{textConfig:i,textContent:o}}function woe(t,e){e&&(e.font=e.textFont||e.font,Cn(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),Cn(e,"textAlign")&&(t.align=e.textAlign),Cn(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),Cn(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),Cn(e,"textWidth")&&(t.width=e.textWidth),Cn(e,"textHeight")&&(t.height=e.textHeight),Cn(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),Cn(e,"textPadding")&&(t.padding=e.textPadding),Cn(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),Cn(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),Cn(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),Cn(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),Cn(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),Cn(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),Cn(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function Soe(t,e,n){var r=t;r.textPosition=r.textPosition||n.position||"inside",n.offset!=null&&(r.textOffset=n.offset),n.rotation!=null&&(r.textRotation=n.rotation),n.distance!=null&&(r.textDistance=n.distance);var i=r.textPosition.indexOf("inside")>=0,o=t.fill||"#000";xoe(r,e);var a=r.textFill==null;return i?a&&(r.textFill=n.insideFill||"#fff",!r.textStroke&&n.insideStroke&&(r.textStroke=n.insideStroke),!r.textStroke&&(r.textStroke=o),r.textStrokeWidth==null&&(r.textStrokeWidth=2)):(a&&(r.textFill=t.fill||n.outsideFill||"#000"),!r.textStroke&&n.outsideStroke&&(r.textStroke=n.outsideStroke)),r.text=e.text,r.rich=e.rich,ie(e.rich,function(s){xoe(s,s)}),r}function xoe(t,e){e&&(Cn(e,"fill")&&(t.textFill=e.fill),Cn(e,"stroke")&&(t.textStroke=e.fill),Cn(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),Cn(e,"font")&&(t.font=e.font),Cn(e,"fontStyle")&&(t.fontStyle=e.fontStyle),Cn(e,"fontWeight")&&(t.fontWeight=e.fontWeight),Cn(e,"fontSize")&&(t.fontSize=e.fontSize),Cn(e,"fontFamily")&&(t.fontFamily=e.fontFamily),Cn(e,"align")&&(t.textAlign=e.align),Cn(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),Cn(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),Cn(e,"width")&&(t.textWidth=e.width),Cn(e,"height")&&(t.textHeight=e.height),Cn(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),Cn(e,"padding")&&(t.textPadding=e.padding),Cn(e,"borderColor")&&(t.textBorderColor=e.borderColor),Cn(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),Cn(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),Cn(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),Cn(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),Cn(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),Cn(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),Cn(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),Cn(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),Cn(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),Cn(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var YCe={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Coe=Ur(YCe);Qf(td,function(t,e){return t[e]=1,t},{});td.join(", ");var uO=["","style","shape","extra"],V1=Qr();function W9(t,e,n,r,i){var o=t+"Animation",a=P_(t,r,i)||{},s=V1(e).userDuring;return a.duration>0&&(a.during=s?vn(n3t,{el:e,userDuring:s}):null,a.setToFinal=!0,a.scope=t),yt(a,n[o]),a}function Zk(t,e,n,r){r=r||{};var i=r.dataIndex,o=r.isInit,a=r.clearStyle,s=n.isAnimationEnabled(),l=V1(t),u=e.style;l.userDuring=e.during;var c={},f={};if(i3t(t,e,f),Toe("shape",e,f),Toe("extra",e,f),!o&&s&&(r3t(t,e,c),Eoe("shape",t,e,c),Eoe("extra",t,e,c),o3t(t,e,u,c)),f.style=u,JNt(t,f,a),e3t(t,e),s)if(o){var d={};ie(uO,function(p){var v=p?e[p]:e;v&&v.enterFrom&&(p&&(d[p]=d[p]||{}),yt(p?d[p]:d,v.enterFrom))});var h=W9("enter",t,e,n,i);h.duration>0&&t.animateFrom(d,h)}else QNt(t,e,i||0,n,c);XCe(t,e),u?t.dirty():t.markRedraw()}function XCe(t,e){for(var n=V1(t).leaveToProps,r=0;r<uO.length;r++){var i=uO[r],o=i?e[i]:e;o&&o.leaveTo&&(n||(n=V1(t).leaveToProps={}),i&&(n[i]=n[i]||{}),yt(i?n[i]:n,o.leaveTo))}}function nL(t,e,n,r){if(t){var i=t.parent,o=V1(t).leaveToProps;if(o){var a=W9("update",t,e,n,0);a.done=function(){i.remove(t)},t.animateTo(o,a)}else i.remove(t)}}function Mm(t){return t==="all"}function JNt(t,e,n){var r=e.style;if(!t.isGroup&&r){if(n){t.useStyle({});for(var i=t.animators,o=0;o<i.length;o++){var a=i[o];a.targetName==="style"&&a.changeTarget(t.style)}}t.setStyle(r)}e&&(e.style=null,e&&t.attr(e),e.style=r)}function QNt(t,e,n,r,i){if(i){var o=W9("update",t,e,r,n);o.duration>0&&t.animateFrom(i,o)}}function e3t(t,e){Cn(e,"silent")&&(t.silent=e.silent),Cn(e,"ignore")&&(t.ignore=e.ignore),t instanceof Zu&&Cn(e,"invisible")&&(t.invisible=e.invisible),t instanceof $r&&Cn(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}var bf={},t3t={setTransform:function(t,e){return bf.el[t]=e,this},getTransform:function(t){return bf.el[t]},setShape:function(t,e){var n=bf.el,r=n.shape||(n.shape={});return r[t]=e,n.dirtyShape&&n.dirtyShape(),this},getShape:function(t){var e=bf.el.shape;if(e)return e[t]},setStyle:function(t,e){var n=bf.el,r=n.style;return r&&(r[t]=e,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(t){var e=bf.el.style;if(e)return e[t]},setExtra:function(t,e){var n=bf.el.extra||(bf.el.extra={});return n[t]=e,this},getExtra:function(t){var e=bf.el.extra;if(e)return e[t]}};function n3t(){var t=this,e=t.el;if(e){var n=V1(e).userDuring,r=t.userDuring;if(n!==r){t.el=t.userDuring=null;return}bf.el=e,r(t3t)}}function Eoe(t,e,n,r){var i=n[t];if(i){var o=e[t],a;if(o){var s=n.transition,l=i.transition;if(l)if(!a&&(a=r[t]={}),Mm(l))yt(a,o);else for(var u=Mi(l),c=0;c<u.length;c++){var f=u[c],d=o[f];a[f]=d}else if(Mm(s)||Mr(s,t)>=0){!a&&(a=r[t]={});for(var h=Ur(o),c=0;c<h.length;c++){var f=h[c],d=o[f];a3t(i[f],d)&&(a[f]=d)}}}}}function Toe(t,e,n){var r=e[t];if(r)for(var i=n[t]={},o=Ur(r),a=0;a<o.length;a++){var s=o[a];i[s]=nx(r[s])}}function r3t(t,e,n){for(var r=e.transition,i=Mm(r)?td:Mi(r||[]),o=0;o<i.length;o++){var a=i[o];if(!(a==="style"||a==="shape"||a==="extra")){var s=t[a];n[a]=s}}}function i3t(t,e,n){for(var r=0;r<Coe.length;r++){var i=Coe[r],o=YCe[i],a=e[i];a&&(n[o[0]]=a[0],n[o[1]]=a[1])}for(var r=0;r<td.length;r++){var s=td[r];e[s]!=null&&(n[s]=e[s])}}function o3t(t,e,n,r){if(n){var i=t.style,o;if(i){var a=n.transition,s=e.transition;if(a&&!Mm(a)){var l=Mi(a);!o&&(o=r.style={});for(var u=0;u<l.length;u++){var c=l[u],f=i[c];o[c]=f}}else if(t.getAnimationStyleProps&&(Mm(s)||Mm(a)||Mr(s,"style")>=0)){var d=t.getAnimationStyleProps(),h=d?d.style:null;if(h){!o&&(o=r.style={});for(var p=Ur(n),u=0;u<p.length;u++){var c=p[u];if(h[c]){var f=i[c];o[c]=f}}}}}}}function a3t(t,e){return Ls(t)?t!==e:t!=null&&isFinite(t)}var ZCe=Qr(),s3t=["percent","easing","shape","style","extra"];function JCe(t){t.stopAnimation("keyframe"),t.attr(ZCe(t))}function cO(t,e,n){if(!(!n.isAnimationEnabled()||!e)){if(Tt(e)){ie(e,function(s){cO(t,s,n)});return}var r=e.keyframes,i=e.duration;if(n&&i==null){var o=P_("enter",n,0);i=o&&o.duration}if(!(!r||!i)){var a=ZCe(t);ie(uO,function(s){if(!(s&&!t[s])){var l;r.sort(function(u,c){return u.percent-c.percent}),ie(r,function(u){var c=t.animators,f=s?u[s]:u;if(f){var d=Ur(f);if(s||(d=yi(d,function(v){return Mr(s3t,v)<0})),!!d.length){l||(l=t.animate(s,e.loop,!0),l.scope="keyframe");for(var h=0;h<c.length;h++)c[h]!==l&&c[h].targetName===l.targetName&&c[h].stopTracks(d);s&&(a[s]=a[s]||{});var p=s?a[s]:a;ie(d,function(v){p[v]=((s?t[s]:t)||{})[v]}),l.whenWithKeys(i*u.percent,f,d,u.easing)}}}),l&&l.delay(e.delay||0).duration(i).start(e.easing)}})}}}var Qd="emphasis",Np="normal",q9="blur",K9="select",Sv=[Np,Qd,q9,K9],FB={normal:["itemStyle"],emphasis:[Qd,"itemStyle"],blur:[q9,"itemStyle"],select:[K9,"itemStyle"]},VB={normal:["label"],emphasis:[Qd,"label"],blur:[q9,"label"],select:[K9,"label"]},l3t=["x","y"],u3t="e\0\0",du={normal:{},emphasis:{},blur:{},select:{}},c3t={cartesian2d:GNt,geo:WNt,single:KNt,polar:XNt,calendar:ZNt};function y6(t){return t instanceof $r}function b6(t){return t instanceof Zu}function f3t(t,e){e.copyTransform(t),b6(e)&&b6(t)&&(e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel,e.invisible=t.invisible,e.ignore=t.ignore,y6(e)&&y6(t)&&e.setShape(t.shape))}var d3t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i,o){this._progressiveEls=null;var a=this._data,s=n.getData(),l=this.group,u=Aoe(n,s,r,i);a||l.removeAll(),s.diff(a).add(function(f){zB(i,null,f,u(f,o),n,l,s)}).remove(function(f){var d=a.getItemGraphicEl(f);d&&nL(d,Jd(d).option,n)}).update(function(f,d){var h=a.getItemGraphicEl(d);zB(i,h,f,u(f,o),n,l,s)}).execute();var c=n.get("clip",!0)?eE(n.coordinateSystem,!1,n):null;c?l.setClipPath(c):l.removeClipPath(),this._data=s},e.prototype.incrementalPrepareRender=function(n,r,i){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(n,r,i,o,a){var s=r.getData(),l=Aoe(r,s,i,o),u=this._progressiveEls=[];function c(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var f=n.start;f<n.end;f++){var d=zB(null,null,f,l(f,a),r,this.group,s);d&&(d.traverse(c),u.push(d))}},e.prototype.eachRendered=function(n){Bv(this._progressiveEls||this.group,n)},e.prototype.filterForExposedEvent=function(n,r,i,o){var a=r.element;if(a==null||i.name===a)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===a)return!0;return!1},e.type="custom",e})(Oi);function Y9(t){var e=t.type,n;if(e==="path"){var r=t.shape,i=r.width!=null&&r.height!=null?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,o=t2e(r);n=IR(o,null,i,r.layout||"center"),Jd(n).customPathData=o}else if(e==="image")n=new qa({}),Jd(n).customImagePath=t.style.image;else if(e==="text")n=new ti({});else if(e==="group")n=new nr;else{if(e==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var a=$G(e);if(!a){var s="";mi(s)}n=new a}return Jd(n).customGraphicType=e,n.name=t.name,n.z2EmphasisLift=1,n.z2SelectLift=1,n}function X9(t,e,n,r,i,o,a){JCe(e);var s=i&&i.normal.cfg;s&&e.setTextConfig(s),r&&r.transition==null&&(r.transition=l3t);var l=r&&r.style;if(l){if(e.type==="text"){var u=l;Cn(u,"textFill")&&(u.fill=u.textFill),Cn(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=y6(e)?l.decal:null;t&&f&&(f.dirty=!0,c=D1(f,t)),l.__decalPattern=c}if(b6(e)&&l){var c=l.__decalPattern;c&&(l.decal=c)}Zk(e,r,o,{dataIndex:n,isInit:a,clearStyle:!0}),cO(e,r.keyframeAnimation,o)}function QCe(t,e,n,r,i){var o=e.isGroup?null:e,a=i&&i[t].cfg;if(o){var s=o.ensureState(t);if(r===!1){var l=o.getState(t);l&&(l.style=null)}else s.style=r||null;a&&(s.textConfig=a),ey(o)}}function h3t(t,e,n){if(!t.isGroup){var r=t,i=n.currentZ,o=n.currentZLevel;r.z=i,r.zlevel=o;var a=e.z2;a!=null&&(r.z2=a||0);for(var s=0;s<Sv.length;s++)p3t(r,e,Sv[s])}}function p3t(t,e,n){var r=n===Np,i=r?e:fO(e,n),o=i?i.z2:null,a;o!=null&&(a=r?t:t.ensureState(n),a.z2=o||0)}function Aoe(t,e,n,r){var i=t.get("renderItem"),o=t.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):c3t[o.type](o));for(var s=Yn({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:w,style:x,ordinalRawValue:S,styleEmphasis:C,visual:A,barLayout:k,currentSeriesIndices:M,font:D},a.api||{}),l={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:a.coordSys,dataInsideLength:e.count(),encode:v3t(t.getData())},u,c,f={},d={},h={},p={},v=0;v<Sv.length;v++){var g=Sv[v];h[g]=t.getModel(FB[g]),p[g]=t.getModel(VB[g])}function m(L){return L===u?c||(c=e.getItemModel(L)):e.getItemModel(L)}function y(L,I){return e.hasItemOption?L===u?f[I]||(f[I]=m(L).getModel(FB[I])):m(L).getModel(FB[I]):h[I]}function b(L,I){return e.hasItemOption?L===u?d[I]||(d[I]=m(L).getModel(VB[I])):m(L).getModel(VB[I]):p[I]}return function(L,I){return u=L,c=null,f={},d={},i&&i(Yn({dataIndexInside:L,dataIndex:e.getRawIndex(L),actionType:I?I.type:null},l),s)};function w(L,I){return I==null&&(I=u),e.getStore().get(e.getDimensionIndex(L||0),I)}function S(L,I){I==null&&(I=u),L=L||0;var R=e.getDimensionInfo(L);if(!R){var V=e.getDimensionIndex(L);return V>=0?e.getStore().get(V,I):void 0}var P=e.get(R.name,I),B=R&&R.ordinalMeta;return B?B.categories[P]:P}function x(L,I){I==null&&(I=u);var R=e.getItemVisual(I,"style"),V=R&&R.fill,P=R&&R.opacity,B=y(I,Np).getItemStyle();V!=null&&(B.fill=V),P!=null&&(B.opacity=P);var j={inheritColor:fn(V)?V:"#000"},G=b(I,Np),W=Gi(G,null,j,!1,!0);W.text=G.getShallow("show")?dr(t.getFormattedLabel(I,Np),B1(e,I)):null;var Z=VP(G,j,!1);return T(L,B),B=Soe(B,W,Z),L&&E(B,L),B.legacy=!0,B}function C(L,I){I==null&&(I=u);var R=y(I,Qd).getItemStyle(),V=b(I,Qd),P=Gi(V,null,null,!0,!0);P.text=V.getShallow("show")?jf(t.getFormattedLabel(I,Qd),t.getFormattedLabel(I,Np),B1(e,I)):null;var B=VP(V,null,!0);return T(L,R),R=Soe(R,P,B),L&&E(R,L),R.legacy=!0,R}function E(L,I){for(var R in I)Cn(I,R)&&(L[R]=I[R])}function T(L,I){L&&(L.textFill&&(I.textFill=L.textFill),L.textPosition&&(I.textPosition=L.textPosition))}function A(L,I){if(I==null&&(I=u),Cn(_oe,L)){var R=e.getItemVisual(I,"style");return R?R[_oe[L]]:null}if(Cn(zNt,L))return e.getItemVisual(I,L)}function k(L){if(o.type==="cartesian2d"){var I=o.getBaseAxis();return ikt(Yn({axis:I},L))}}function M(){return n.getCurrentSeriesIndices()}function D(L){return FG(L,n)}}function v3t(t){var e={};return ie(t.dimensions,function(n){var r=t.getDimensionInfo(n);if(!r.isExtraCoord){var i=r.coordDim,o=e[i]=e[i]||[];o[r.coordDimIndex]=t.getDimensionIndex(n)}}),e}function zB(t,e,n,r,i,o,a){if(!r){o.remove(e);return}var s=Z9(t,e,n,r,i,o);return s&&a.setItemGraphicEl(n,s),s&&go(s,r.focus,r.blurScope,r.emphasisDisabled),s}function Z9(t,e,n,r,i,o){var a=-1,s=e;e&&e2e(e,r,i)&&(a=Mr(o.childrenRef(),e),e=null);var l=!e,u=e;u?u.clearStates():(u=Y9(r),s&&f3t(s,u)),r.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),du.normal.cfg=du.normal.conOpt=du.emphasis.cfg=du.emphasis.conOpt=du.blur.cfg=du.blur.conOpt=du.select.cfg=du.select.conOpt=null,du.isLegacy=!1,m3t(u,n,r,i,l,du),g3t(u,n,r,i,l),X9(t,u,n,r,du,i,l),Cn(r,"info")&&(Jd(u).info=r.info);for(var c=0;c<Sv.length;c++){var f=Sv[c];if(f!==Np){var d=fO(r,f),h=J9(r,d,f);QCe(f,u,d,h,du)}}return h3t(u,r,i),r.type==="group"&&y3t(t,u,n,r,i),a>=0?o.replaceAt(u,a):o.add(u),u}function e2e(t,e,n){var r=Jd(t),i=e.type,o=e.shape,a=e.style;return n.isUniversalTransitionEnabled()||i!=null&&i!==r.customGraphicType||i==="path"&&S3t(o)&&t2e(o)!==r.customPathData||i==="image"&&Cn(a,"image")&&a.image!==r.customImagePath}function g3t(t,e,n,r,i){var o=n.clipPath;if(o===!1)t&&t.getClipPath()&&t.removeClipPath();else if(o){var a=t.getClipPath();a&&e2e(a,o,r)&&(a=null),a||(a=Y9(o),t.setClipPath(a)),X9(null,a,e,o,null,r,i)}}function m3t(t,e,n,r,i,o){if(!t.isGroup){koe(n,null,o),koe(n,Qd,o);var a=o.normal.conOpt,s=o.emphasis.conOpt,l=o.blur.conOpt,u=o.select.conOpt;if(a!=null||s!=null||u!=null||l!=null){var c=t.getTextContent();if(a===!1)c&&t.removeTextContent();else{a=o.normal.conOpt=a||{type:"text"},c?c.clearStates():(c=Y9(a),t.setTextContent(c)),X9(null,c,e,a,null,r,i);for(var f=a&&a.style,d=0;d<Sv.length;d++){var h=Sv[d];if(h!==Np){var p=o[h].conOpt;QCe(h,c,p,J9(a,p,h),null)}}f?c.dirty():c.markRedraw()}}}}function koe(t,e,n){var r=e?fO(t,e):t,i=e?J9(t,r,Qd):t.style,o=t.type,a=r?r.textConfig:null,s=t.textContent,l=s?e?fO(s,e):s:null;if(i&&(n.isLegacy||qCe(i,o,!!a,!!l))){n.isLegacy=!0;var u=KCe(i,o,!e);!a&&u.textConfig&&(a=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var c=l;!c.type&&(c.type="text")}var f=e?n[e]:n.normal;f.cfg=a,f.conOpt=l}function fO(t,e){return e?t?t[e]:null:t}function J9(t,e,n){var r=e&&e.style;return r==null&&n===Qd&&t&&(r=t.styleEmphasis),r}function y3t(t,e,n,r,i){var o=r.children,a=o?o.length:0,s=r.$mergeChildren,l=s==="byName"||r.diffChildrenByName,u=s===!1;if(!(!a&&!l&&!u)){if(l){_3t({api:t,oldChildren:e.children()||[],newChildren:o||[],dataIndex:n,seriesModel:i,group:e});return}u&&e.removeAll();for(var c=0;c<a;c++){var f=o[c],d=e.childAt(c);f?(f.ignore==null&&(f.ignore=!1),Z9(t,d,n,f,i,e)):d.ignore=!0}for(var h=e.childCount()-1;h>=c;h--){var p=e.childAt(h);b3t(e,p,i)}}}function b3t(t,e,n){e&&nL(e,Jd(t).option,n)}function _3t(t){new mh(t.oldChildren,t.newChildren,Moe,Moe,t).add(Poe).update(Poe).remove(w3t).execute()}function Moe(t,e){var n=t&&t.name;return n??u3t+e}function Poe(t,e){var n=this.context,r=t!=null?n.newChildren[t]:null,i=e!=null?n.oldChildren[e]:null;Z9(n.api,i,n.dataIndex,r,n.seriesModel,n.group)}function w3t(t){var e=this.context,n=e.oldChildren[t];n&&nL(n,Jd(n).option,e.seriesModel)}function t2e(t){return t&&(t.pathData||t.d)}function S3t(t){return t&&(Cn(t,"pathData")||Cn(t,"d"))}function x3t(t){t.registerChartView(d3t),t.registerSeriesModel(HNt)}var Ug=Qr(),Ooe=Jn,HB=vn,Q9=(function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,n,r,i){var o=n.get("value"),a=n.get("status");if(this._axisModel=e,this._axisPointerModel=n,this._api=r,!(!i&&this._lastValue===o&&this._lastStatus===a)){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||a==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,o,e,n,r);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(e,n);if(!s)s=this._group=new nr,this.createPointerEl(s,u,e,n),this.createLabelEl(s,u,e,n),r.getZr().add(s);else{var d=hr(Ioe,n,f);this.updatePointerEl(s,u,d),this.updateLabelEl(s,u,d,n)}Loe(s,n,!0),this._renderHandle(o)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,n){var r=n.get("animation"),i=e.axis,o=i.type==="category",a=n.get("snap");if(!a&&!o)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(o&&i.getBandWidth()>s)return!0;if(a){var l=w9(e).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},t.prototype.makeElOption=function(e,n,r,i,o){},t.prototype.createPointerEl=function(e,n,r,i){var o=n.pointer;if(o){var a=Ug(e).pointerEl=new Ay[o.type](Ooe(n.pointer));e.add(a)}},t.prototype.createLabelEl=function(e,n,r,i){if(n.label){var o=Ug(e).labelEl=new ti(Ooe(n.label));e.add(o),Roe(o,i)}},t.prototype.updatePointerEl=function(e,n,r){var i=Ug(e).pointerEl;i&&n.pointer&&(i.setStyle(n.pointer.style),r(i,{shape:n.pointer.shape}))},t.prototype.updateLabelEl=function(e,n,r,i){var o=Ug(e).labelEl;o&&(o.setStyle(n.label.style),r(o,{x:n.label.x,y:n.label.y}),Roe(o,i))},t.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||a==="hide"){i&&r.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=q2(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){ph(u.event)},onmousedown:HB(this._onHandleDragMove,this,0,0),drift:HB(this._onHandleDragMove,this),ondragend:HB(this._onHandleDragEnd,this)}),r.add(i)),Loe(i,n,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=o.get("size");Tt(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,B_(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},t.prototype._moveHandleToValue=function(e,n){Ioe(this._axisPointerModel,!n&&this._moveAnimation,this._handle,jB(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,n){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(jB(r),[e,n],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(jB(i)),Ug(r).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var n=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var n=e.getZr(),r=this._group,i=this._handle;n&&r&&(this._lastGraphicKey=null,r&&n.remove(r),i&&n.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),EC(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,n,r){return r=r||0,{x:e[r],y:e[1-r],width:n[r],height:n[1-r]}},t})();function Ioe(t,e,n,r){n2e(Ug(n).lastProp,r)||(Ug(n).lastProp=r,e?si(n,r,t):(n.stopAnimation(),n.attr(r)))}function n2e(t,e){if(Zn(t)&&Zn(e)){var n=!0;return ie(e,function(r,i){n=n&&n2e(t[i],r)}),!!n}else return t===e}function Roe(t,e){t[e.get(["label","show"])?"show":"hide"]()}function jB(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function Loe(t,e,n){var r=e.get("z"),i=e.get("zlevel");t&&t.traverse(function(o){o.type!=="group"&&(r!=null&&(o.z=r),i!=null&&(o.zlevel=i),o.silent=n)})}function eU(t){var e=t.get("type"),n=t.getModel(e+"Style"),r;return e==="line"?(r=n.getLineStyle(),r.fill=null):e==="shadow"&&(r=n.getAreaStyle(),r.stroke=null),r}function r2e(t,e,n,r,i){var o=n.get("value"),a=i2e(o,e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),s=n.getModel("label"),l=R_(s.get("padding")||0),u=s.getFont(),c=V2(a,u),f=i.position,d=c.width+l[1]+l[3],h=c.height+l[0]+l[2],p=i.align;p==="right"&&(f[0]-=d),p==="center"&&(f[0]-=d/2);var v=i.verticalAlign;v==="bottom"&&(f[1]-=h),v==="middle"&&(f[1]-=h/2),C3t(f,d,h,r);var g=s.get("backgroundColor");(!g||g==="auto")&&(g=e.get(["axisLine","lineStyle","color"])),t.label={x:f[0],y:f[1],style:Gi(s,{text:a,font:u,fill:s.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function C3t(t,e,n,r){var i=r.getWidth(),o=r.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+n,o)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function i2e(t,e,n,r,i){t=e.scale.parse(t);var o=e.scale.getLabel({value:t},{precision:i.precision}),a=i.formatter;if(a){var s={value:c9(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};ie(r,function(l){var u=n.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&s.seriesData.push(f)}),fn(a)?o=a.replace("{value}",o):qn(a)&&(o=a(s))}return o}function tU(t,e,n){var r=Jl();return Ey(r,r,n.rotation),ed(r,r,n.position),Cc([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function o2e(t,e,n,r,i,o){var a=el.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get(["label","margin"]),r2e(e,r,i,o,{position:tU(r.axis,t,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function nU(t,e,n){return n=n||0,{x1:t[n],y1:t[1-n],x2:e[n],y2:e[1-n]}}function a2e(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}}function Doe(t,e,n,r,i,o){return{cx:t,cy:e,r0:n,r,startAngle:i,endAngle:o,clockwise:!0}}var E3t=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(n,r,i,o,a){var s=i.axis,l=s.grid,u=o.get("type"),c=Noe(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var d=eU(o),h=T3t[u](s,f,c);h.style=d,n.graphicKey=h.type,n.pointer=h}var p=Q5(l.model,i);o2e(r,n,p,i,o,a)},e.prototype.getHandleTransform=function(n,r,i){var o=Q5(r.axis.grid.model,r,{labelInside:!1});o.labelMargin=i.get(["handle","margin"]);var a=tU(r.axis,n,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(n,r,i,o){var a=i.axis,s=a.grid,l=a.getGlobalExtent(!0),u=Noe(s,a).getOtherAxis(a).getGlobalExtent(),c=a.dim==="x"?0:1,f=[n.x,n.y];f[c]+=r[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var d=(u[1]+u[0])/2,h=[d,d];h[c]=f[c];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:n.rotation,cursorPoint:h,tooltipOption:p[c]}},e})(Q9);function Noe(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var T3t={line:function(t,e,n){var r=nU([e,n[0]],[e,n[1]],Boe(t));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(t,e,n){var r=Math.max(1,t.getBandWidth()),i=n[1]-n[0];return{type:"Rect",shape:a2e([e-r/2,n[0]],[r,i],Boe(t))}}};function Boe(t){return t.dim==="x"?0:1}var A3t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e})(Gr),Hd=Qr(),k3t=ie;function s2e(t,e,n){if(!Fr.node){var r=e.getZr();Hd(r).records||(Hd(r).records={}),M3t(r,e);var i=Hd(r).records[t]||(Hd(r).records[t]={});i.handler=n}}function M3t(t,e){if(Hd(t).initialized)return;Hd(t).initialized=!0,n("click",hr($oe,"click")),n("mousemove",hr($oe,"mousemove")),n("globalout",O3t);function n(r,i){t.on(r,function(o){var a=I3t(e);k3t(Hd(t).records,function(s){s&&i(s,o,a.dispatchAction)}),P3t(a.pendings,e)})}}function P3t(t,e){var n=t.showTip.length,r=t.hideTip.length,i;n?i=t.showTip[n-1]:r&&(i=t.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function O3t(t,e,n){t.handler("leave",null,n)}function $oe(t,e,n,r){e.handler(t,n,r)}function I3t(t){var e={showTip:[],hideTip:[]},n=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=n,t.dispatchAction(r))};return{dispatchAction:n,pendings:e}}function _6(t,e){if(!Fr.node){var n=e.getZr(),r=(Hd(n).records||{})[t];r&&(Hd(n).records[t]=null)}}var R3t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var o=r.getComponent("tooltip"),a=n.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";s2e("axisPointer",i,function(s,l,u){a!=="none"&&(s==="leave"||a.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(n,r){_6("axisPointer",r)},e.prototype.dispose=function(n,r){_6("axisPointer",r)},e.type="axisPointer",e})(so);function l2e(t,e){var n=[],r=t.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var o=i.getData(),a=Jm(o,t);if(a==null||a<0||Tt(a))return{point:[]};var s=o.getItemGraphicEl(a),l=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(t.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,d=u.dim,h=f==="x"||f==="radius"?1:0,p=o.mapDimension(d),v=[];v[h]=o.get(p,a),v[1-h]=o.get(o.getCalculationInfo("stackResultDimension"),a),n=l.dataToPoint(v)||[]}else n=l.dataToPoint(o.getValues(kt(l.dimensions,function(m){return o.mapDimension(m)}),a))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),n=[g.x+g.width/2,g.y+g.height/2]}return{point:n,el:s}}var Foe=Qr();function L3t(t,e,n){var r=t.currTrigger,i=[t.x,t.y],o=t,a=t.dispatchAction||vn(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){Jk(i)&&(i=l2e({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=Jk(i),u=o.axesInfo,c=s.axesInfo,f=r==="leave"||Jk(i),d={},h={},p={list:[],map:{}},v={showPointer:hr(N3t,h),showTooltip:hr(B3t,p)};ie(s.coordSysMap,function(m,y){var b=l||m.containPoint(i);ie(s.coordSysAxesInfo[y],function(w,S){var x=w.axis,C=z3t(u,w);if(!f&&b&&(!u||C)){var E=C&&C.value;E==null&&!l&&(E=x.pointToData(i)),E!=null&&Voe(w,E,v,!1,d)}})});var g={};return ie(c,function(m,y){var b=m.linkGroup;b&&!h[y]&&ie(b.axesInfo,function(w,S){var x=h[S];if(w!==m&&x){var C=x.value;b.mapper&&(C=m.axis.scale.parse(b.mapper(C,zoe(w),zoe(m)))),g[m.key]=C}})}),ie(g,function(m,y){Voe(c[y],m,v,!0,d)}),$3t(h,c,d),F3t(p,i,t,a),V3t(c,a,n),d}}function Voe(t,e,n,r,i){var o=t.axis;if(!(o.scale.isBlank()||!o.containData(e))){if(!t.involveSeries){n.showPointer(t,e);return}var a=D3t(e,t),s=a.payloadBatch,l=a.snapToValue;s[0]&&i.seriesIndex==null&&yt(i,s[0]),!r&&t.snap&&o.containData(l)&&l!=null&&(e=l),n.showPointer(t,e,s),n.showTooltip(t,a,l)}}function D3t(t,e){var n=e.axis,r=n.dim,i=t,o=[],a=Number.MAX_VALUE,s=-1;return ie(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(r),f,d;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(c,t,n);d=h.dataIndices,f=h.nestestValue}else{if(d=l.getData().indicesOfNearest(c[0],t,n.type==="category"?.5:null),!d.length)return;f=l.getData().get(c[0],d[0])}if(!(f==null||!isFinite(f))){var p=t-f,v=Math.abs(p);v<=a&&((v<a||p>=0&&s<0)&&(a=v,s=p,i=f,o.length=0),ie(d,function(g){o.push({seriesIndex:l.seriesIndex,dataIndexInside:g,dataIndex:l.getData().getRawIndex(g)})}))}}),{payloadBatch:o,snapToValue:i}}function N3t(t,e,n,r){t[e.key]={value:n,payloadBatch:r}}function B3t(t,e,n,r){var i=n.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,u=IC(l),c=t.map[u];c||(c=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function $3t(t,e,n){var r=n.axesInfo=[];ie(e,function(i,o){var a=i.axisPointerModel.option,s=t[o];s?(!i.useHandle&&(a.status="show"),a.value=s.value,a.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(a.status="hide"),a.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:a.value})})}function F3t(t,e,n,r){if(Jk(e)||!t.list.length){r({type:"hideTip"});return}var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}function V3t(t,e,n){var r=n.getZr(),i="axisPointerLastHighlights",o=Foe(r)[i]||{},a=Foe(r)[i]={};ie(t,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&ie(f.seriesDataIndices,function(d){var h=d.seriesIndex+" | "+d.dataIndex;a[h]=d})});var s=[],l=[];ie(o,function(u,c){!a[c]&&l.push(u)}),ie(a,function(u,c){!o[c]&&s.push(u)}),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function z3t(t,e){for(var n=0;n<(t||[]).length;n++){var r=t[n];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function zoe(t){var e=t.axis.model,n={},r=n.axisDim=t.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=e.componentIndex,n.axisName=n[r+"AxisName"]=e.name,n.axisId=n[r+"AxisId"]=e.id,n}function Jk(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function aE(t){Oy.registerAxisPointerClass("CartesianAxisPointer",E3t),t.registerComponentModel(A3t),t.registerComponentView(R3t),t.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var n=e.axisPointer.link;n&&!Tt(n)&&(e.axisPointer.link=[n])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(e,n){e.getComponent("axisPointer").coordSysAxesInfo=ZPt(e,n)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},L3t)}function H3t(t){Dr(Nxe),Dr(aE)}var j3t=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(n,r,i,o,a){var s=i.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),c=u.getExtent(),f=s.dataToCoord(r),d=o.get("type");if(d&&d!=="none"){var h=eU(o),p=U3t[d](s,l,f,c);p.style=h,n.graphicKey=p.type,n.pointer=p}var v=o.get(["label","margin"]),g=G3t(r,i,o,l,v);r2e(n,i,o,a,g)},e})(Q9);function G3t(t,e,n,r,i){var o=e.axis,a=o.dataToCoord(t),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=r.getRadiusAxis().getExtent(),u,c,f;if(o.dim==="radius"){var d=Jl();Ey(d,d,s),ed(d,d,[r.cx,r.cy]),u=Cc([a,-i],d);var h=e.getModel("axisLabel").get("rotate")||0,p=el.innerTextLayout(s,h*Math.PI/180,-1);c=p.textAlign,f=p.textVerticalAlign}else{var v=l[1];u=r.coordToPoint([v+i,a]);var g=r.cx,m=r.cy;c=Math.abs(u[0]-g)/v<.3?"center":u[0]>g?"left":"right",f=Math.abs(u[1]-m)/v<.3?"middle":u[1]>m?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var U3t={line:function(t,e,n,r){return t.dim==="angle"?{type:"Line",shape:nU(e.coordToPoint([r[0],n]),e.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,r){var i=Math.max(1,t.getBandWidth()),o=Math.PI/180;return t.dim==="angle"?{type:"Sector",shape:Doe(e.cx,e.cy,r[0],r[1],(-n-i/2)*o,(-n+i/2)*o)}:{type:"Sector",shape:Doe(e.cx,e.cy,n-i/2,n+i/2,0,Math.PI*2)}}},W3t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.findAxisModel=function(n){var r,i=this.ecModel;return i.eachComponent(n,function(o){o.getCoordSysModel()===this&&(r=o)},this),r},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e})(Gr),rU=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Qo).models[0]},e.type="polarAxis",e})(Gr);ia(rU,Z2);var q3t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="angleAxis",e})(rU),K3t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="radiusAxis",e})(rU),iU=(function(t){nt(e,t);function e(n,r){return t.call(this,"radius",n,r)||this}return e.prototype.pointToData=function(n,r){return this.polar.pointToData(n,r)[this.dim==="radius"?0:1]},e})(Jc);iU.prototype.dataToRadius=Jc.prototype.dataToCoord;iU.prototype.radiusToData=Jc.prototype.coordToData;var Y3t=Qr(),oU=(function(t){nt(e,t);function e(n,r){return t.call(this,"angle",n,r||[0,360])||this}return e.prototype.pointToData=function(n,r){return this.polar.pointToData(n,r)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var n=this,r=n.getLabelModel(),i=n.scale,o=i.getExtent(),a=i.count();if(o[1]-o[0]<1)return 0;var s=o[0],l=n.dataToCoord(s+1)-n.dataToCoord(s),u=Math.abs(l),c=V2(s==null?"":s+"",r.getFont(),"center","top"),f=Math.max(c.height,7),d=f/u;isNaN(d)&&(d=1/0);var h=Math.max(0,Math.floor(d)),p=Y3t(n.model),v=p.lastAutoInterval,g=p.lastTickCount;return v!=null&&g!=null&&Math.abs(v-h)<=1&&Math.abs(g-a)<=1&&v>h?h=v:(p.lastTickCount=a,p.lastAutoInterval=h),h},e})(Jc);oU.prototype.dataToAngle=Jc.prototype.dataToCoord;oU.prototype.angleToData=Jc.prototype.coordToData;var u2e=["radius","angle"],X3t=(function(){function t(e){this.dimensions=u2e,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new iU,this._angleAxis=new oU,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(e){var n=this.pointToCoord(e);return this._radiusAxis.contain(n[0])&&this._angleAxis.contain(n[1])},t.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},t.prototype.getAxis=function(e){var n="_"+e+"Axis";return this[n]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(e){var n=[],r=this._angleAxis,i=this._radiusAxis;return r.scale.type===e&&n.push(r),i.scale.type===e&&n.push(i),n},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(e){var n=this._angleAxis;return e===n?this._radiusAxis:n},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(e){var n=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[n],otherAxes:[this.getOtherAxis(n)]}},t.prototype.dataToPoint=function(e,n){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],n),this._angleAxis.dataToAngle(e[1],n)])},t.prototype.pointToData=function(e,n){var r=this.pointToCoord(e);return[this._radiusAxis.radiusToData(r[0],n),this._angleAxis.angleToData(r[1],n)]},t.prototype.pointToCoord=function(e){var n=e[0]-this.cx,r=e[1]-this.cy,i=this.getAngleAxis(),o=i.getExtent(),a=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);i.inverse?a=s-360:s=a+360;var l=Math.sqrt(n*n+r*r);n/=l,r/=l;for(var u=Math.atan2(-r,n)/Math.PI*180,c=u<a?1:-1;u<a||u>s;)u+=c*360;return[l,u]},t.prototype.coordToPoint=function(e){var n=e[0],r=e[1]/180*Math.PI,i=Math.cos(r)*n+this.cx,o=-Math.sin(r)*n+this.cy;return[i,o]},t.prototype.getArea=function(){var e=this.getAngleAxis(),n=this.getRadiusAxis(),r=n.getExtent().slice();r[0]>r[1]&&r.reverse();var i=e.getExtent(),o=Math.PI/180,a=1e-4;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*o,endAngle:-i[1]*o,clockwise:e.inverse,contain:function(s,l){var u=s-this.cx,c=l-this.cy,f=u*u+c*c,d=this.r,h=this.r0;return d!==h&&f-a<=d*d&&f+a>=h*h}}},t.prototype.convertToPixel=function(e,n,r){var i=Hoe(n);return i===this?this.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,n,r){var i=Hoe(n);return i===this?this.pointToData(r):null},t})();function Hoe(t){var e=t.seriesModel,n=t.polarModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}function Z3t(t,e,n){var r=e.get("center"),i=n.getWidth(),o=n.getHeight();t.cx=on(r[0],i),t.cy=on(r[1],o);var a=t.getRadiusAxis(),s=Math.min(i,o)/2,l=e.get("radius");l==null?l=[0,"100%"]:Tt(l)||(l=[0,l]);var u=[on(l[0],s),on(l[1],s)];a.inverse?a.setExtent(u[1],u[0]):a.setExtent(u[0],u[1])}function J3t(t,e){var n=this,r=n.getAngleAxis(),i=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),t.eachSeries(function(s){if(s.coordinateSystem===n){var l=s.getData();ie(JP(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),ie(JP(l,"angle"),function(u){r.scale.unionExtentFromData(l,u)})}}),N1(r.scale,r.model),N1(i.scale,i.model),r.type==="category"&&!r.onBand){var o=r.getExtent(),a=360/r.scale.count();r.inverse?o[1]+=a:o[1]-=a,r.setExtent(o[0],o[1])}}function Q3t(t){return t.mainType==="angleAxis"}function joe(t,e){var n;if(t.type=e.get("type"),t.scale=YR(e),t.onBand=e.get("boundaryGap")&&t.type==="category",t.inverse=e.get("inverse"),Q3t(e)){t.inverse=t.inverse!==e.get("clockwise");var r=e.get("startAngle"),i=(n=e.get("endAngle"))!==null&&n!==void 0?n:r+(t.inverse?-360:360);t.setExtent(r,i)}e.axis=t,t.model=e}var e4t={dimensions:u2e,create:function(t,e){var n=[];return t.eachComponent("polar",function(r,i){var o=new X3t(i+"");o.update=J3t;var a=o.getRadiusAxis(),s=o.getAngleAxis(),l=r.findAxisModel("radiusAxis"),u=r.findAxisModel("angleAxis");joe(a,l),joe(s,u),Z3t(o,r,e),n.push(o),r.coordinateSystem=o,o.model=r}),t.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var i=r.getReferringComponents("polar",Qo).models[0];r.coordinateSystem=i.coordinateSystem}}),n}},t4t=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function _A(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var r=t.coordToPoint([e[0],n]),i=t.coordToPoint([e[1],n]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function wA(t){var e=t.getRadiusAxis();return e.inverse?0:1}function Goe(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}var n4t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return e.prototype.render=function(n,r){if(this.group.removeAll(),!!n.get("show")){var i=n.axis,o=i.polar,a=o.getRadiusAxis().getExtent(),s=i.getTicksCoords(),l=i.getMinorTicksCoords(),u=kt(i.getViewLabels(),function(c){c=Jn(c);var f=i.scale,d=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(d),c});Goe(u),Goe(s),ie(t4t,function(c){n.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&r4t[c](this.group,n,o,s,l,a,u)},this)}},e.type="angleAxis",e})(Oy),r4t={axisLine:function(t,e,n,r,i,o){var a=e.getModel(["axisLine","lineStyle"]),s=n.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=wA(n),f=c?0:1,d,h=Math.abs(u[1]-u[0])===360?"Circle":"Arc";o[f]===0?d=new Ay[h]({shape:{cx:n.cx,cy:n.cy,r:o[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:a.getLineStyle(),z2:1,silent:!0}):d=new j2({shape:{cx:n.cx,cy:n.cy,r:o[c],r0:o[f]},style:a.getLineStyle(),z2:1,silent:!0}),d.style.fill=null,t.add(d)},axisTick:function(t,e,n,r,i,o){var a=e.getModel("axisTick"),s=(a.get("inside")?-1:1)*a.get("length"),l=o[wA(n)],u=kt(r,function(c){return new Sa({shape:_A(n,[l,l+s],c.coord)})});t.add(Au(u,{style:Yn(a.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,n,r,i,o){if(i.length){for(var a=e.getModel("axisTick"),s=e.getModel("minorTick"),l=(a.get("inside")?-1:1)*s.get("length"),u=o[wA(n)],c=[],f=0;f<i.length;f++)for(var d=0;d<i[f].length;d++)c.push(new Sa({shape:_A(n,[u,u+l],i[f][d].coord)}));t.add(Au(c,{style:Yn(s.getModel("lineStyle").getLineStyle(),Yn(a.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,n,r,i,o,a){var s=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");ie(a,function(f,d){var h=l,p=f.tickValue,v=o[wA(n)],g=n.coordToPoint([v+u,f.coord]),m=n.cx,y=n.cy,b=Math.abs(g[0]-m)/v<.3?"center":g[0]>m?"left":"right",w=Math.abs(g[1]-y)/v<.3?"middle":g[1]>y?"top":"bottom";if(s&&s[p]){var S=s[p];Zn(S)&&S.textStyle&&(h=new Ci(S.textStyle,l,l.ecModel))}var x=new ti({silent:el.isLabelSilent(e),style:Gi(h,{x:g[0],y:g[1],fill:h.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:b,verticalAlign:w})});if(t.add(x),c){var C=el.makeAxisEventDataBase(e);C.targetType="axisLabel",C.value=f.rawLabel,ar(x).eventData=C}},this)},splitLine:function(t,e,n,r,i,o){var a=e.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<r.length;f++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new Sa({shape:_A(n,o,r[f].coord)}))}for(var f=0;f<c.length;f++)t.add(Au(c[f],{style:Yn({stroke:l[f%l.length]},s.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,n,r,i,o){if(i.length){for(var a=e.getModel("minorSplitLine"),s=a.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var c=0;c<i[u].length;c++)l.push(new Sa({shape:_A(n,o,i[u][c].coord)}));t.add(Au(l,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,n,r,i,o){if(r.length){var a=e.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,d=-r[0].coord*f,h=Math.min(o[0],o[1]),p=Math.max(o[0],o[1]),v=e.get("clockwise"),g=1,m=r.length;g<=m;g++){var y=g===m?r[0].coord:r[g].coord,b=u++%l.length;c[b]=c[b]||[],c[b].push(new ll({shape:{cx:n.cx,cy:n.cy,r0:h,r:p,startAngle:d,endAngle:-y*f,clockwise:v},silent:!0})),d=-y*f}for(var g=0;g<c.length;g++)t.add(Au(c[g],{style:Yn({fill:l[g%l.length]},s.getAreaStyle()),silent:!0}))}}},i4t=["axisLine","axisTickLabel","axisName"],o4t=["splitLine","splitArea","minorSplitLine"],a4t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="PolarAxisPointer",n}return e.prototype.render=function(n,r){if(this.group.removeAll(),!!n.get("show")){var i=this._axisGroup,o=this._axisGroup=new nr;this.group.add(o);var a=n.axis,s=a.polar,l=s.getAngleAxis(),u=a.getTicksCoords(),c=a.getMinorTicksCoords(),f=l.getExtent()[0],d=a.getExtent(),h=l4t(s,n,f),p=new el(n,h);ie(i4t,p.add,p),o.add(p.getGroup()),W2(i,o,n),ie(o4t,function(v){n.get([v,"show"])&&!a.scale.isBlank()&&s4t[v](this.group,n,s,f,d,u,c)},this)}},e.type="radiusAxis",e})(Oy),s4t={splitLine:function(t,e,n,r,i,o){var a=e.getModel("splitLine"),s=a.getModel("lineStyle"),l=s.get("color"),u=0,c=n.getAngleAxis(),f=Math.PI/180,d=c.getExtent(),h=Math.abs(d[1]-d[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var p=[],v=0;v<o.length;v++){var g=u++%l.length;p[g]=p[g]||[],p[g].push(new Ay[h]({shape:{cx:n.cx,cy:n.cy,r:Math.max(o[v].coord,0),startAngle:-d[0]*f,endAngle:-d[1]*f,clockwise:c.inverse}}))}for(var v=0;v<p.length;v++)t.add(Au(p[v],{style:Yn({stroke:l[v%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,n,r,i,o,a){if(a.length){for(var s=e.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],c=0;c<a.length;c++)for(var f=0;f<a[c].length;f++)u.push(new Nh({shape:{cx:n.cx,cy:n.cy,r:a[c][f].coord}}));t.add(Au(u,{style:Yn({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(t,e,n,r,i,o){if(o.length){var a=e.getModel("splitArea"),s=a.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=o[0].coord,d=1;d<o.length;d++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new ll({shape:{cx:n.cx,cy:n.cy,r0:f,r:o[d].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=o[d].coord}for(var d=0;d<c.length;d++)t.add(Au(c[d],{style:Yn({fill:l[d%l.length]},s.getAreaStyle()),silent:!0}))}}};function l4t(t,e,n){return{position:[t.cx,t.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function c2e(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function f2e(t,e){return e.dim+t.model.componentIndex}function u4t(t,e,n){var r={},i=c4t(yi(e.getSeriesByType(t),function(o){return!e.isSeriesFiltered(o)&&o.coordinateSystem&&o.coordinateSystem.type==="polar"}));e.eachSeriesByType(t,function(o){if(o.coordinateSystem.type==="polar"){var a=o.getData(),s=o.coordinateSystem,l=s.getBaseAxis(),u=f2e(s,l),c=c2e(o),f=i[u][c],d=f.offset,h=f.width,p=s.getOtherAxis(l),v=o.coordinateSystem.cx,g=o.coordinateSystem.cy,m=o.get("barMinHeight")||0,y=o.get("barMinAngle")||0;r[c]=r[c]||[];for(var b=a.mapDimension(p.dim),w=a.mapDimension(l.dim),S=_v(a,b),x=l.dim!=="radius"||!o.get("roundCap",!0),C=p.model,E=C.get("startValue"),T=p.dataToCoord(E||0),A=0,k=a.count();A<k;A++){var M=a.get(b,A),D=a.get(w,A),L=M>=0?"p":"n",I=T;S&&(r[c][D]||(r[c][D]={p:T,n:T}),I=r[c][D][L]);var R=void 0,V=void 0,P=void 0,B=void 0;if(p.dim==="radius"){var j=p.dataToCoord(M)-T,G=l.dataToCoord(D);Math.abs(j)<m&&(j=(j<0?-1:1)*m),R=I,V=I+j,P=G-d,B=P-h,S&&(r[c][D][L]=V)}else{var W=p.dataToCoord(M,x)-T,Z=l.dataToCoord(D);Math.abs(W)<y&&(W=(W<0?-1:1)*y),R=Z+d,V=R+h,P=I,B=I+W,S&&(r[c][D][L]=B)}a.setItemLayout(A,{cx:v,cy:g,r0:R,r:V,startAngle:-P*Math.PI/180,endAngle:-B*Math.PI/180,clockwise:P>=B})}}})}function c4t(t){var e={};ie(t,function(r,i){var o=r.getData(),a=r.coordinateSystem,s=a.getBaseAxis(),l=f2e(a,s),u=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/o.count(),f=e[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=f.stacks;e[l]=f;var h=c2e(r);d[h]||f.autoWidthCount++,d[h]=d[h]||{width:0,maxWidth:0};var p=on(r.get("barWidth"),c),v=on(r.get("barMaxWidth"),c),g=r.get("barGap"),m=r.get("barCategoryGap");p&&!d[h].width&&(p=Math.min(f.remainedWidth,p),d[h].width=p,f.remainedWidth-=p),v&&(d[h].maxWidth=v),g!=null&&(f.gap=g),m!=null&&(f.categoryGap=m)});var n={};return ie(e,function(r,i){n[i]={};var o=r.stacks,a=r.bandWidth,s=on(r.categoryGap,a),l=on(r.gap,1),u=r.remainedWidth,c=r.autoWidthCount,f=(u-s)/(c+(c-1)*l);f=Math.max(f,0),ie(o,function(v,g){var m=v.maxWidth;m&&m<f&&(m=Math.min(m,u),v.width&&(m=Math.min(m,v.width)),u-=m,v.width=m,c--)}),f=(u-s)/(c+(c-1)*l),f=Math.max(f,0);var d=0,h;ie(o,function(v,g){v.width||(v.width=f),h=v,d+=v.width*(1+l)}),h&&(d-=h.width*l);var p=-d/2;ie(o,function(v,g){n[i][g]=n[i][g]||{offset:p,width:v.width},p+=v.width*(1+l)})}),n}var f4t={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},d4t={splitNumber:5},h4t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="polar",e})(so);function p4t(t){Dr(aE),Oy.registerAxisPointerClass("PolarAxisPointer",j3t),t.registerCoordinateSystem("polar",e4t),t.registerComponentModel(W3t),t.registerComponentView(h4t),$1(t,"angle",q3t,f4t),$1(t,"radius",K3t,d4t),t.registerComponentView(n4t),t.registerComponentView(a4t),t.registerLayout(hr(u4t,"bar"))}function w6(t,e){e=e||{};var n=t.coordinateSystem,r=t.axis,i={},o=r.position,a=r.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[a==="vertical"?u.vertical[o]:l[0],a==="horizontal"?u.horizontal[o]:l[3]];var c={horizontal:0,vertical:1};i.rotation=Math.PI/2*c[a];var f={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=f[o],t.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),Va(e.labelInside,t.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var d=e.rotate;return d==null&&(d=t.get(["axisLabel","rotate"])),i.labelRotation=o==="top"?-d:d,i.z2=1,i}var v4t=["axisLine","axisTickLabel","axisName"],g4t=["splitArea","splitLine"],m4t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="SingleAxisPointer",n}return e.prototype.render=function(n,r,i,o){var a=this.group;a.removeAll();var s=this._axisGroup;this._axisGroup=new nr;var l=w6(n),u=new el(n,l);ie(v4t,u.add,u),a.add(this._axisGroup),a.add(u.getGroup()),ie(g4t,function(c){n.get([c,"show"])&&y4t[c](this,this.group,this._axisGroup,n)},this),W2(s,this._axisGroup,n),t.prototype.render.call(this,n,r,i,o)},e.prototype.remove=function(){Rxe(this)},e.type="singleAxis",e})(Oy),y4t={splitLine:function(t,e,n,r){var i=r.axis;if(!i.scale.isBlank()){var o=r.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=s instanceof Array?s:[s];for(var l=a.get("width"),u=r.coordinateSystem.getRect(),c=i.isHorizontal(),f=[],d=0,h=i.getTicksCoords({tickModel:o}),p=[],v=[],g=0;g<h.length;++g){var m=i.toGlobalCoord(h[g].coord);c?(p[0]=m,p[1]=u.y,v[0]=m,v[1]=u.y+u.height):(p[0]=u.x,p[1]=m,v[0]=u.x+u.width,v[1]=m);var y=new Sa({shape:{x1:p[0],y1:p[1],x2:v[0],y2:v[1]},silent:!0});R1(y.shape,l);var b=d++%s.length;f[b]=f[b]||[],f[b].push(y)}for(var w=a.getLineStyle(["color"]),g=0;g<f.length;++g)e.add(Au(f[g],{style:Yn({stroke:s[g%s.length]},w),silent:!0}))}},splitArea:function(t,e,n,r){Ixe(t,n,r,r)}},Qk=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e})(Gr);ia(Qk,Z2.prototype);var b4t=(function(t){nt(e,t);function e(n,r,i,o,a){var s=t.call(this,n,r,i)||this;return s.type=o||"value",s.position=a||"bottom",s}return e.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},e.prototype.pointToData=function(n,r){return this.coordinateSystem.pointToData(n)[0]},e})(Jc),d2e=["single"],_4t=(function(){function t(e,n,r){this.type="single",this.dimension="single",this.dimensions=d2e,this.axisPointerEnabled=!0,this.model=e,this._init(e,n,r)}return t.prototype._init=function(e,n,r){var i=this.dimension,o=new b4t(i,YR(e),[0,0],e.get("type"),e.get("position")),a=o.type==="category";o.onBand=a&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),e.axis=o,o.model=e,o.coordinateSystem=this,this._axis=o},t.prototype.update=function(e,n){e.eachSeries(function(r){if(r.coordinateSystem===this){var i=r.getData();ie(i.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(i,o)},this),N1(this._axis.scale,this._axis.model)}},this)},t.prototype.resize=function(e,n){this._rect=ha({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:n.getWidth(),height:n.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var e=this._rect,n=this._axis,r=n.isHorizontal(),i=r?[0,e.width]:[0,e.height],o=n.inverse?1:0;n.setExtent(i[o],i[1-o]),this._updateAxisTransform(n,r?e.x:e.y)},t.prototype._updateAxisTransform=function(e,n){var r=e.getExtent(),i=r[0]+r[1],o=e.isHorizontal();e.toGlobalCoord=o?function(a){return a+n}:function(a){return i-a+n},e.toLocalCoord=o?function(a){return a-n}:function(a){return i-a+n}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(e){var n=this.getRect(),r=this.getAxis(),i=r.orient;return i==="horizontal"?r.contain(r.toLocalCoord(e[0]))&&e[1]>=n.y&&e[1]<=n.y+n.height:r.contain(r.toLocalCoord(e[1]))&&e[0]>=n.y&&e[0]<=n.y+n.height},t.prototype.pointToData=function(e){var n=this.getAxis();return[n.coordToData(n.toLocalCoord(e[n.orient==="horizontal"?0:1]))]},t.prototype.dataToPoint=function(e){var n=this.getAxis(),r=this.getRect(),i=[],o=n.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),i[o]=n.toGlobalCoord(n.dataToCoord(+e)),i[1-o]=o===0?r.y+r.height/2:r.x+r.width/2,i},t.prototype.convertToPixel=function(e,n,r){var i=Uoe(n);return i===this?this.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,n,r){var i=Uoe(n);return i===this?this.pointToData(r):null},t})();function Uoe(t){var e=t.seriesModel,n=t.singleAxisModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}function w4t(t,e){var n=[];return t.eachComponent("singleAxis",function(r,i){var o=new _4t(r,t,e);o.name="single_"+i,o.resize(r,e),r.coordinateSystem=o,n.push(o)}),t.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var i=r.getReferringComponents("singleAxis",Qo).models[0];r.coordinateSystem=i&&i.coordinateSystem}}),n}var S4t={create:w4t,dimensions:d2e},Woe=["x","y"],x4t=["width","height"],C4t=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(n,r,i,o,a){var s=i.axis,l=s.coordinateSystem,u=GB(l,1-dO(s)),c=l.dataToPoint(r)[0],f=o.get("type");if(f&&f!=="none"){var d=eU(o),h=E4t[f](s,c,u);h.style=d,n.graphicKey=h.type,n.pointer=h}var p=w6(i);o2e(r,n,p,i,o,a)},e.prototype.getHandleTransform=function(n,r,i){var o=w6(r,{labelInside:!1});o.labelMargin=i.get(["handle","margin"]);var a=tU(r.axis,n,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(n,r,i,o){var a=i.axis,s=a.coordinateSystem,l=dO(a),u=GB(s,l),c=[n.x,n.y];c[l]+=r[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=GB(s,1-l),d=(f[1]+f[0])/2,h=[d,d];return h[l]=c[l],{x:c[0],y:c[1],rotation:n.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},e})(Q9),E4t={line:function(t,e,n){var r=nU([e,n[0]],[e,n[1]],dO(t));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(t,e,n){var r=t.getBandWidth(),i=n[1]-n[0];return{type:"Rect",shape:a2e([e-r/2,n[0]],[r,i],dO(t))}}};function dO(t){return t.isHorizontal()?0:1}function GB(t,e){var n=t.getRect();return[n[Woe[e]],n[Woe[e]]+n[x4t[e]]]}var T4t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="single",e})(so);function A4t(t){Dr(aE),Oy.registerAxisPointerClass("SingleAxisPointer",C4t),t.registerComponentView(T4t),t.registerComponentView(m4t),t.registerComponentModel(Qk),$1(t,"single",Qk,Qk.defaultOption),t.registerCoordinateSystem("single",S4t)}var k4t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r,i){var o=L_(n);t.prototype.init.apply(this,arguments),qoe(n,o)},e.prototype.mergeOption=function(n){t.prototype.mergeOption.apply(this,arguments),qoe(this.option,n)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e})(Gr);function qoe(t,e){var n=t.cellSize,r;Tt(n)?r=n:r=t.cellSize=[n,n],r.length===1&&(r[1]=r[0]);var i=kt([0,1],function(o){return X2t(e,o)&&(r[o]="auto"),r[o]!=null&&r[o]!=="auto"});bv(t,e,{type:"box",ignoreSize:i})}var M4t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var o=this.group;o.removeAll();var a=n.coordinateSystem,s=a.getRangeInfo(),l=a.getOrient(),u=r.getLocaleModel();this._renderDayRect(n,s,o),this._renderLines(n,s,l,o),this._renderYearText(n,s,l,o),this._renderMonthText(n,u,l,o),this._renderWeekText(n,u,s,l,o)},e.prototype._renderDayRect=function(n,r,i){for(var o=n.coordinateSystem,a=n.getModel("itemStyle").getItemStyle(),s=o.getCellWidth(),l=o.getCellHeight(),u=r.start.time;u<=r.end.time;u=o.getNextNDay(u,1).time){var c=o.dataToRect([u],!1).tl,f=new Jr({shape:{x:c[0],y:c[1],width:s,height:l},cursor:"default",style:a});i.add(f)}},e.prototype._renderLines=function(n,r,i,o){var a=this,s=n.coordinateSystem,l=n.getModel(["splitLine","lineStyle"]).getLineStyle(),u=n.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=r.start,d=0;f.time<=r.end.time;d++){p(f.formatedDate),d===0&&(f=s.getDateInfo(r.start.y+"-"+r.start.m));var h=f.date;h.setMonth(h.getMonth()+1),f=s.getDateInfo(h)}p(s.getNextNDay(r.end.time,1).formatedDate);function p(v){a._firstDayOfMonth.push(s.getDateInfo(v)),a._firstDayPoints.push(s.dataToRect([v],!1).tl);var g=a._getLinePointsOfOneWeek(n,v,i);a._tlpoints.push(g[0]),a._blpoints.push(g[g.length-1]),u&&a._drawSplitline(g,l,o)}u&&this._drawSplitline(a._getEdgesPoints(a._tlpoints,c,i),l,o),u&&this._drawSplitline(a._getEdgesPoints(a._blpoints,c,i),l,o)},e.prototype._getEdgesPoints=function(n,r,i){var o=[n[0].slice(),n[n.length-1].slice()],a=i==="horizontal"?0:1;return o[0][a]=o[0][a]-r/2,o[1][a]=o[1][a]+r/2,o},e.prototype._drawSplitline=function(n,r,i){var o=new cl({z2:20,shape:{points:n},style:r});i.add(o)},e.prototype._getLinePointsOfOneWeek=function(n,r,i){for(var o=n.coordinateSystem,a=o.getDateInfo(r),s=[],l=0;l<7;l++){var u=o.getNextNDay(a.time,l),c=o.dataToRect([u.time],!1);s[2*u.day]=c.tl,s[2*u.day+1]=c[i==="horizontal"?"bl":"tr"]}return s},e.prototype._formatterLabel=function(n,r){return fn(n)&&n?q2t(n,r):qn(n)?n(r):r.nameMap},e.prototype._yearTextPositionControl=function(n,r,i,o,a){var s=r[0],l=r[1],u=["center","bottom"];o==="bottom"?(l+=a,u=["center","top"]):o==="left"?s-=a:o==="right"?(s+=a,u=["center","top"]):l-=a;var c=0;return(o==="left"||o==="right")&&(c=Math.PI/2),{rotation:c,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(n,r,i,o){var a=n.getModel("yearLabel");if(a.get("show")){var s=a.get("margin"),l=a.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,d=i==="horizontal"?0:1,h={top:[c,u[d][1]],bottom:[c,u[1-d][1]],left:[u[1-d][0],f],right:[u[d][0],f]},p=r.start.y;+r.end.y>+r.start.y&&(p=p+"-"+r.end.y);var v=a.get("formatter"),g={start:r.start.y,end:r.end.y,nameMap:p},m=this._formatterLabel(v,g),y=new ti({z2:30,style:Gi(a,{text:m}),silent:a.get("silent")});y.attr(this._yearTextPositionControl(y,h[l],i,l,s)),o.add(y)}},e.prototype._monthTextPositionControl=function(n,r,i,o,a){var s="left",l="top",u=n[0],c=n[1];return i==="horizontal"?(c=c+a,r&&(s="center"),o==="start"&&(l="bottom")):(u=u+a,r&&(l="middle"),o==="start"&&(s="right")),{x:u,y:c,align:s,verticalAlign:l}},e.prototype._renderMonthText=function(n,r,i,o){var a=n.getModel("monthLabel");if(a.get("show")){var s=a.get("nameMap"),l=a.get("margin"),u=a.get("position"),c=a.get("align"),f=[this._tlpoints,this._blpoints];(!s||fn(s))&&(s&&(r=M5(s)||r),s=r.get(["time","monthAbbr"])||[]);var d=u==="start"?0:1,h=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var p=c==="center",v=a.get("silent"),g=0;g<f[d].length-1;g++){var m=f[d][g].slice(),y=this._firstDayOfMonth[g];if(p){var b=this._firstDayPoints[g];m[h]=(b[h]+f[0][g+1][h])/2}var w=a.get("formatter"),S=s[+y.m-1],x={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:S},C=this._formatterLabel(w,x),E=new ti({z2:30,style:yt(Gi(a,{text:C}),this._monthTextPositionControl(m,p,i,u,l)),silent:v});o.add(E)}}},e.prototype._weekTextPositionControl=function(n,r,i,o,a){var s="center",l="middle",u=n[0],c=n[1],f=i==="start";return r==="horizontal"?(u=u+o+(f?1:-1)*a[0]/2,s=f?"right":"left"):(c=c+o+(f?1:-1)*a[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:s,verticalAlign:l}},e.prototype._renderWeekText=function(n,r,i,o,a){var s=n.getModel("dayLabel");if(s.get("show")){var l=n.coordinateSystem,u=s.get("position"),c=s.get("nameMap"),f=s.get("margin"),d=l.getFirstDayOfWeek();if(!c||fn(c)){c&&(r=M5(c)||r);var h=r.get(["time","dayOfWeekShort"]);c=h||kt(r.get(["time","dayOfWeekAbbr"]),function(x){return x[0]})}var p=l.getNextNDay(i.end.time,7-i.lweek).time,v=[l.getCellWidth(),l.getCellHeight()];f=on(f,Math.min(v[1],v[0])),u==="start"&&(p=l.getNextNDay(i.start.time,-(7+i.fweek)).time,f=-f);for(var g=s.get("silent"),m=0;m<7;m++){var y=l.getNextNDay(p,m),b=l.dataToRect([y.time],!1).center,w=m;w=Math.abs((m+d)%7);var S=new ti({z2:30,style:yt(Gi(s,{text:c[w]}),this._weekTextPositionControl(b,o,u,f,v)),silent:g});a.add(S)}}},e.type="calendar",e})(so),UB=864e5,P4t=(function(){function t(e,n,r){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(e){e=Bc(e);var n=e.getFullYear(),r=e.getMonth()+1,i=r<10?"0"+r:""+r,o=e.getDate(),a=o<10?"0"+o:""+o,s=e.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:n+"",m:i,d:a,day:s,time:e.getTime(),formatedDate:n+"-"+i+"-"+a,date:e}},t.prototype.getNextNDay=function(e,n){return n=n||0,n===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+n),this.getDateInfo(e))},t.prototype.update=function(e,n){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],o=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[r,7]:[7,r];ie([0,1],function(f){c(o,f)&&(a[i[f]]=o[f]*s[f])});var l={width:n.getWidth(),height:n.getHeight()},u=this._rect=ha(a,l);ie([0,1],function(f){c(o,f)||(o[f]=u[i[f]]/s[f])});function c(f,d){return f[d]!=null&&f[d]!=="auto"}this._sw=o[0],this._sh=o[1]},t.prototype.dataToPoint=function(e,n){Tt(e)&&(e=e[0]),n==null&&(n=!0);var r=this.getDateInfo(e),i=this._rangeInfo,o=r.formatedDate;if(n&&!(r.time>=i.start.time&&r.time<i.end.time+UB))return[NaN,NaN];var a=r.day,s=this._getRangeInfo([i.start.time,o]).nthWeek;return this._orient==="vertical"?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},t.prototype.pointToData=function(e){var n=this.pointToDate(e);return n&&n.time},t.prototype.dataToRect=function(e,n){var r=this.dataToPoint(e,n);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},t.prototype.pointToDate=function(e){var n=Math.floor((e[0]-this._rect.x)/this._sw)+1,r=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,n-1,i):this._getDateByWeeksAndDay(n,r-1,i)},t.prototype.convertToPixel=function(e,n,r){var i=Koe(n);return i===this?i.dataToPoint(r):null},t.prototype.convertFromPixel=function(e,n,r){var i=Koe(n);return i===this?i.pointToData(r):null},t.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},t.prototype._initRangeOption=function(){var e=this._model.get("range"),n;if(Tt(e)&&e.length===1&&(e=e[0]),Tt(e))n=e;else{var r=e.toString();if(/^\d{4}$/.test(r)&&(n=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r),o=i.date;o.setMonth(o.getMonth()+1);var a=this.getNextNDay(o,-1);n=[i.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(n=[r,r])}if(!n)return e;var s=this._getRangeInfo(n);return s.start.time>s.end.time&&n.reverse(),n},t.prototype._getRangeInfo=function(e){var n=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],r;n[0].time>n[1].time&&(r=!0,n.reverse());var i=Math.floor(n[1].time/UB)-Math.floor(n[0].time/UB)+1,o=new Date(n[0].time),a=o.getDate(),s=n[1].date.getDate();o.setDate(a+i-1);var l=o.getDate();if(l!==s)for(var u=o.getTime()-n[1].time>0?1:-1;(l=o.getDate())!==s&&(o.getTime()-n[1].time)*u>0;)i-=u,o.setDate(l-u);var c=Math.floor((i+n[0].day+6)/7),f=r?-c+1:c-1;return r&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:i,weeks:c,nthWeek:f,fweek:n[0].day,lweek:n[1].day}},t.prototype._getDateByWeeksAndDay=function(e,n,r){var i=this._getRangeInfo(r);if(e>i.weeks||e===0&&n<i.fweek||e===i.weeks&&n>i.lweek)return null;var o=(e-1)*7-i.fweek+n,a=new Date(i.start.time);return a.setDate(+i.start.d+o),this.getDateInfo(a)},t.create=function(e,n){var r=[];return e.eachComponent("calendar",function(i){var o=new t(i);r.push(o),i.coordinateSystem=o}),e.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=r[i.get("calendarIndex")||0])}),r},t.dimensions=["time","value"],t})();function Koe(t){var e=t.calendarModel,n=t.seriesModel,r=e?e.coordinateSystem:n?n.coordinateSystem:null;return r}function O4t(t){t.registerComponentModel(k4t),t.registerComponentView(M4t),t.registerCoordinateSystem("calendar",P4t)}function I4t(t,e){var n=t.existing;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),e.parentId==null){var r=e.parentOption;r?e.parentId=r.id:n&&(e.parentId=n.parentId)}e.parentOption=null}function Yoe(t,e){var n;return ie(e,function(r){t[r]!=null&&t[r]!=="auto"&&(n=!0)}),n}function R4t(t,e,n){var r=yt({},n),i=t[e],o=n.$action||"merge";o==="merge"?i?(mr(i,r,!0),bv(i,r,{ignoreSize:!0}),awe(n,i),SA(n,i),SA(n,i,"shape"),SA(n,i,"style"),SA(n,i,"extra"),n.clipPath=i.clipPath):t[e]=r:o==="replace"?t[e]=r:o==="remove"&&i&&(t[e]=null)}var h2e=["transition","enterFrom","leaveTo"],L4t=h2e.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function SA(t,e,n){if(n&&(!t[n]&&e[n]&&(t[n]={}),t=t[n],e=e[n]),!(!t||!e))for(var r=n?h2e:L4t,i=0;i<r.length;i++){var o=r[i];t[o]==null&&e[o]!=null&&(t[o]=e[o])}}function D4t(t,e){if(t&&(t.hv=e.hv=[Yoe(e,["left","right"]),Yoe(e,["top","bottom"])],t.type==="group")){var n=t,r=e;n.width==null&&(n.width=r.width=0),n.height==null&&(n.height=r.height=0)}}var N4t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.preventAutoZ=!0,n}return e.prototype.mergeOption=function(n,r){var i=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,n,r),this.option.elements=i},e.prototype.optionUpdated=function(n,r){var i=this.option,o=(r?i:n).elements,a=i.elements=r?[]:i.elements,s=[];this._flatten(o,s,null);var l=r_e(a,s,"normalMerge"),u=this._elOptionsToUpdate=[];ie(l,function(c,f){var d=c.newOption;d&&(u.push(d),I4t(c,d),R4t(a,f,d),D4t(a[f],d))},this),i.elements=yi(a,function(c){return c&&delete c.$action,c!=null})},e.prototype._flatten=function(n,r,i){ie(n,function(o){if(o){i&&(o.parentOption=i),r.push(o);var a=o.children;a&&a.length&&this._flatten(a,r,o),delete o.children}},this)},e.prototype.useElOptionsToUpdate=function(){var n=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,n},e.type="graphic",e.defaultOption={elements:[]},e})(Gr),Xoe={path:null,compoundPath:null,group:nr,image:qa,text:ti},_u=Qr(),B4t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(){this._elMap=Mn()},e.prototype.render=function(n,r,i){n!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=n,this._updateElements(n),this._relocate(n,i)},e.prototype._updateElements=function(n){var r=n.useElOptionsToUpdate();if(r){var i=this._elMap,o=this.group,a=n.get("z"),s=n.get("zlevel");ie(r,function(l){var u=ca(l.id,null),c=u!=null?i.get(u):null,f=ca(l.parentId,null),d=f!=null?i.get(f):o,h=l.type,p=l.style;h==="text"&&p&&l.hv&&l.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var v=l.textContent,g=l.textConfig;if(p&&qCe(p,h,!!g,!!v)){var m=KCe(p,h,!0);!g&&m.textConfig&&(g=l.textConfig=m.textConfig),!v&&m.textContent&&(v=m.textContent)}var y=$4t(l),b=l.$action||"merge",w=b==="merge",S=b==="replace";if(w){var x=!c,C=c;x?C=Zoe(u,d,l.type,i):(C&&(_u(C).isNew=!1),JCe(C)),C&&(Zk(C,y,n,{isInit:x}),Joe(C,l,a,s))}else if(S){eM(c,l,i,n);var E=Zoe(u,d,l.type,i);E&&(Zk(E,y,n,{isInit:!0}),Joe(E,l,a,s))}else b==="remove"&&(XCe(c,l),eM(c,l,i,n));var T=i.get(u);if(T&&v)if(w){var A=T.getTextContent();A?A.attr(v):T.setTextContent(new ti(v))}else S&&T.setTextContent(new ti(v));if(T){var k=l.clipPath;if(k){var M=k.type,D=void 0,x=!1;if(w){var L=T.getClipPath();x=!L||_u(L).type!==M,D=x?S6(M):L}else S&&(x=!0,D=S6(M));T.setClipPath(D),Zk(D,k,n,{isInit:x}),cO(D,k.keyframeAnimation,n)}var I=_u(T);T.setTextConfig(g),I.option=l,F4t(T,n,l),Ty({el:T,componentModel:n,itemName:T.name,itemTooltipOption:l.tooltip}),cO(T,l.keyframeAnimation,n)}})}},e.prototype._relocate=function(n,r){for(var i=n.option.elements,o=this.group,a=this._elMap,s=r.getWidth(),l=r.getHeight(),u=["x","y"],c=0;c<i.length;c++){var f=i[c],d=ca(f.id,null),h=d!=null?a.get(d):null;if(!(!h||!h.isGroup)){var p=h.parent,v=p===o,g=_u(h),m=_u(p);g.width=on(g.option.width,v?s:m.width)||0,g.height=on(g.option.height,v?l:m.height)||0}}for(var c=i.length-1;c>=0;c--){var f=i[c],d=ca(f.id,null),h=d!=null?a.get(d):null;if(h){var p=h.parent,m=_u(p),y=p===o?{width:s,height:l}:{width:m.width,height:m.height},b={},w=VR(h,f,y,null,{hv:f.hv,boundingMode:f.bounding},b);if(!_u(h).isNew&&w){for(var S=f.transition,x={},C=0;C<u.length;C++){var E=u[C],T=b[E];S&&(Mm(S)||Mr(S,E)>=0)?x[E]=T:h[E]=T}si(h,x,n,0)}else h.attr(b)}}},e.prototype._clear=function(){var n=this,r=this._elMap;r.each(function(i){eM(i,_u(i).option,r,n._lastGraphicModel)}),this._elMap=Mn()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e})(so);function S6(t){var e=Cn(Xoe,t)?Xoe[t]:$G(t),n=new e({});return _u(n).type=t,n}function Zoe(t,e,n,r){var i=S6(n);return e.add(i),r.set(t,i),_u(i).id=t,_u(i).isNew=!0,i}function eM(t,e,n,r){var i=t&&t.parent;i&&(t.type==="group"&&t.traverse(function(o){eM(o,e,n,r)}),nL(t,e,r),n.removeKey(_u(t).id))}function Joe(t,e,n,r){t.isGroup||ie([["cursor",Zu.prototype.cursor],["zlevel",r||0],["z",n||0],["z2",0]],function(i){var o=i[0];Cn(e,o)?t[o]=dr(e[o],i[1]):t[o]==null&&(t[o]=i[1])}),ie(Ur(e),function(i){if(i.indexOf("on")===0){var o=e[i];t[i]=qn(o)?o:null}}),Cn(e,"draggable")&&(t.draggable=e.draggable),e.name!=null&&(t.name=e.name),e.id!=null&&(t.id=e.id)}function $4t(t){return t=yt({},t),ie(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(owe),function(e){delete t[e]}),t}function F4t(t,e,n){var r=ar(t).eventData;!t.silent&&!t.ignore&&!r&&(r=ar(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}),r&&(r.info=n.info)}function V4t(t){t.registerComponentModel(N4t),t.registerComponentView(B4t),t.registerPreprocessor(function(e){var n=e.graphic;Tt(n)?!n[0]||!n[0].elements?e.graphic=[{elements:n}]:e.graphic=[e.graphic[0]]:n&&!n.elements&&(e.graphic=[{elements:[n]}])})}var Qoe=["x","y","radius","angle","single"],z4t=["cartesian2d","polar","singleAxis"];function H4t(t){var e=t.get("coordinateSystem");return Mr(z4t,e)>=0}function Bp(t){return t+"Axis"}function j4t(t,e){var n=Mn(),r=[],i=Mn();t.eachComponent({mainType:"dataZoom",query:e},function(c){i.get(c.uid)||s(c)});var o;do o=!1,t.eachComponent("dataZoom",a);while(o);function a(c){!i.get(c.uid)&&l(c)&&(s(c),o=!0)}function s(c){i.set(c.uid,!0),r.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(d,h){var p=n.get(d);p&&p[h]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,d){(n.get(f)||n.set(f,[]))[d]=!0})}return r}function p2e(t){var e=t.ecModel,n={infoList:[],infoMap:Mn()};return t.eachTargetAxis(function(r,i){var o=e.getComponent(Bp(r),i);if(o){var a=o.getCoordSysModel();if(a){var s=a.uid,l=n.infoMap.get(s);l||(l={model:a,axisModels:[]},n.infoList.push(l),n.infoMap.set(s,l)),l.axisModels.push(o)}}}),n}var WB=(function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},t})(),$C=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return e.prototype.init=function(n,r,i){var o=eae(n);this.settledOption=o,this.mergeDefaultAndTheme(n,i),this._doInit(o)},e.prototype.mergeOption=function(n){var r=eae(n);mr(this.option,n,!0),mr(this.settledOption,r,!0),this._doInit(r)},e.prototype._doInit=function(n){var r=this.option;this._setDefaultThrottle(n),this._updateRangeUse(n);var i=this.settledOption;ie([["start","startValue"],["end","endValue"]],function(o,a){this._rangePropMode[a]==="value"&&(r[o[0]]=i[o[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var n=this.get("orient",!0),r=this._targetAxisInfoMap=Mn(),i=this._fillSpecifiedTargetAxis(r);i?this._orient=n||this._makeAutoOrientByTargetAxis():(this._orient=n||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(n){var r=!1;return ie(Qoe,function(i){var o=this.getReferringComponents(Bp(i),Nxt);if(o.specified){r=!0;var a=new WB;ie(o.models,function(s){a.add(s.componentIndex)}),n.set(i,a)}},this),r},e.prototype._fillAutoTargetAxisByOrient=function(n,r){var i=this.ecModel,o=!0;if(o){var a=r==="vertical"?"y":"x",s=i.findComponents({mainType:a+"Axis"});l(s,a)}if(o){var s=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===r}});l(s,"single")}function l(u,c){var f=u[0];if(f){var d=new WB;if(d.add(f.componentIndex),n.set(c,d),o=!1,c==="x"||c==="y"){var h=f.getReferringComponents("grid",Qo).models[0];h&&ie(u,function(p){f.componentIndex!==p.componentIndex&&h===p.getReferringComponents("grid",Qo).models[0]&&d.add(p.componentIndex)})}}}o&&ie(Qoe,function(u){if(o){var c=i.findComponents({mainType:Bp(u),filter:function(d){return d.get("type",!0)==="category"}});if(c[0]){var f=new WB;f.add(c[0].componentIndex),n.set(u,f),o=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var n;return this.eachTargetAxis(function(r){!n&&(n=r)},this),n==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(n){var r=this._rangePropMode,i=this.get("rangeMode");ie([["start","startValue"],["end","endValue"]],function(o,a){var s=n[o[0]]!=null,l=n[o[1]]!=null;s&&!l?r[a]="percent":!s&&l?r[a]="value":i?r[a]=i[a]:s&&(r[a]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var n;return this.eachTargetAxis(function(r,i){n==null&&(n=this.ecModel.getComponent(Bp(r),i))},this),n},e.prototype.eachTargetAxis=function(n,r){this._targetAxisInfoMap.each(function(i,o){ie(i.indexList,function(a){n.call(r,o,a)})})},e.prototype.getAxisProxy=function(n,r){var i=this.getAxisModel(n,r);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(n,r){var i=this._targetAxisInfoMap.get(n);if(i&&i.indexMap[r])return this.ecModel.getComponent(Bp(n),r)},e.prototype.setRawRange=function(n){var r=this.option,i=this.settledOption;ie([["start","startValue"],["end","endValue"]],function(o){(n[o[0]]!=null||n[o[1]]!=null)&&(r[o[0]]=i[o[0]]=n[o[0]],r[o[1]]=i[o[1]]=n[o[1]])},this),this._updateRangeUse(n)},e.prototype.setCalculatedRange=function(n){var r=this.option;ie(["start","startValue","end","endValue"],function(i){r[i]=n[i]})},e.prototype.getPercentRange=function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},e.prototype.getValueRange=function(n,r){if(n==null&&r==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(n,r).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(n){if(n)return n.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),o=0;o<i.length;o++)for(var a=i[o],s=this._targetAxisInfoMap.get(a),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(a,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e})(Gr);function eae(t){var e={};return ie(["start","end","startValue","endValue","throttle"],function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}var G4t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="dataZoom.select",e})($C),aU=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i,o){this.dataZoomModel=n,this.ecModel=r,this.api=i},e.type="dataZoom",e})(so),U4t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="dataZoom.select",e})(aU),G0=ie,tae=Ul,W4t=(function(){function t(e,n,r,i){this._dimName=e,this._axisIndex=n,this.ecModel=i,this._dataZoomModel=r}return t.prototype.hostedBy=function(e){return this._dataZoomModel===e},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(n){if(H4t(n)){var r=Bp(this._dimName),i=n.getReferringComponents(r,Qo).models[0];i&&this._axisIndex===i.componentIndex&&e.push(n)}},this),e},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return Jn(this._minMaxSpan)},t.prototype.calculateDataWindow=function(e){var n=this._dataExtent,r=this.getAxisModel(),i=r.axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[],l=[],u;G0(["start","end"],function(d,h){var p=e[d],v=e[d+"Value"];o[h]==="percent"?(p==null&&(p=a[h]),v=i.parse(gi(p,a,n))):(u=!0,v=v==null?n[h]:i.parse(v),p=gi(v,n,a)),l[h]=v==null||isNaN(v)?n[h]:v,s[h]=p==null||isNaN(p)?a[h]:p}),tae(l),tae(s);var c=this._minMaxSpan;u?f(l,s,n,a,!1):f(s,l,a,n,!0);function f(d,h,p,v,g){var m=g?"Span":"ValueSpan";Iy(0,d,p,"all",c["min"+m],c["max"+m]);for(var y=0;y<2;y++)h[y]=gi(d[y],p,v,!0),g&&(h[y]=i.parse(h[y]))}return{valueWindow:l,percentWindow:s}},t.prototype.reset=function(e){if(e===this._dataZoomModel){var n=this.getTargetSeriesModels();this._dataExtent=q4t(this,this._dimName,n),this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(e,n){if(e!==this._dataZoomModel)return;var r=this._dimName,i=this.getTargetSeriesModels(),o=e.get("filterMode"),a=this._valueWindow;if(o==="none")return;G0(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(r);if(c.length){if(o==="weakFilter"){var f=u.getStore(),d=kt(c,function(h){return u.getDimensionIndex(h)},u);u.filterSelf(function(h){for(var p,v,g,m=0;m<c.length;m++){var y=f.get(d[m],h),b=!isNaN(y),w=y<a[0],S=y>a[1];if(b&&!w&&!S)return!0;b&&(g=!0),w&&(p=!0),S&&(v=!0)}return g&&p&&v})}else G0(c,function(h){if(o==="empty")l.setData(u=u.map(h,function(v){return s(v)?v:NaN}));else{var p={};p[h]=a,u.selectRange(p)}});G0(c,function(h){u.setApproximateExtent(a,h)})}});function s(l){return l>=a[0]&&l<=a[1]}},t.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},n=this._dataZoomModel,r=this._dataExtent;G0(["min","max"],function(i){var o=n.get(i+"Span"),a=n.get(i+"ValueSpan");a!=null&&(a=this.getAxisModel().axis.scale.parse(a)),a!=null?o=gi(r[0]+a,r,[0,100],!0):o!=null&&(a=gi(o,[0,100],r,!0)-r[0]),e[i+"Span"]=o,e[i+"ValueSpan"]=a},this)},t.prototype._setAxisModel=function(){var e=this.getAxisModel(),n=this._percentWindow,r=this._valueWindow;if(n){var i=wG(r,[0,500]);i=Math.min(i,20);var o=e.axis.scale.rawExtentInfo;n[0]!==0&&o.setDeterminedMinMax("min",+r[0].toFixed(i)),n[1]!==100&&o.setDeterminedMinMax("max",+r[1].toFixed(i)),o.freeze()}},t})();function q4t(t,e,n){var r=[1/0,-1/0];G0(n,function(a){Tkt(r,a.getData(),e)});var i=t.getAxisModel(),o=ISe(i.axis.scale,i,r).calculate();return[o.min,o.max]}var K4t={getTargetSeries:function(t){function e(i){t.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(a,s){var l=t.getComponent(Bp(a),s);i(a,s,l,o)})})}e(function(i,o,a,s){a.__dzAxisProxy=null});var n=[];e(function(i,o,a,s){a.__dzAxisProxy||(a.__dzAxisProxy=new W4t(i,o,s,t),n.push(a.__dzAxisProxy))});var r=Mn();return ie(n,function(i){ie(i.getTargetSeriesModels(),function(o){r.set(o.uid,o)})}),r},overallReset:function(t,e){t.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(r,i){n.getAxisProxy(r,i).reset(n)}),n.eachTargetAxis(function(r,i){n.getAxisProxy(r,i).filterData(n,e)})}),t.eachComponent("dataZoom",function(n){var r=n.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),o=r.getDataValueWindow();n.setCalculatedRange({start:i[0],end:i[1],startValue:o[0],endValue:o[1]})}})}};function Y4t(t){t.registerAction("dataZoom",function(e,n){var r=j4t(n,e);ie(r,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var nae=!1;function sU(t){nae||(nae=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,K4t),Y4t(t),t.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function X4t(t){t.registerComponentModel(G4t),t.registerComponentView(U4t),sU(t)}var Tu=(function(){function t(){}return t})(),v2e={};function U0(t,e){v2e[t]=e}function g2e(t){return v2e[t]}var Z4t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var n=this.ecModel;ie(this.option.feature,function(r,i){var o=g2e(i);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(n)),mr(r,o.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e})(Gr);function J4t(t,e,n){var r=e.getBoxLayoutParams(),i=e.get("padding"),o={width:n.getWidth(),height:n.getHeight()},a=ha(r,o,i);Am(e.get("orient"),t,e.get("itemGap"),a.width,a.height),VR(t,r,o,i)}function m2e(t,e){var n=R_(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),t=new Jr({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),t}var Q4t=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i,o){var a=this.group;if(a.removeAll(),!n.get("show"))return;var s=+n.get("itemSize"),l=n.get("orient")==="vertical",u=n.get("feature")||{},c=this._features||(this._features={}),f=[];ie(u,function(p,v){f.push(v)}),new mh(this._featureNames||[],f).add(d).update(d).remove(hr(d,null)).execute(),this._featureNames=f;function d(p,v){var g=f[p],m=f[v],y=u[g],b=new Ci(y,n,n.ecModel),w;if(o&&o.newTitle!=null&&o.featureName===g&&(y.title=o.newTitle),g&&!m){if(eBt(g))w={onclick:b.option.onclick,featureName:g};else{var S=g2e(g);if(!S)return;w=new S}c[g]=w}else if(w=c[m],!w)return;w.uid=I_("toolbox-feature"),w.model=b,w.ecModel=r,w.api=i;var x=w instanceof Tu;if(!g&&m){x&&w.dispose&&w.dispose(r,i);return}if(!b.get("show")||x&&w.unusable){x&&w.remove&&w.remove(r,i);return}h(b,w,g),b.setIconStatus=function(C,E){var T=this.option,A=this.iconPaths;T.iconStatus=T.iconStatus||{},T.iconStatus[C]=E,A[C]&&(E==="emphasis"?vh:gh)(A[C])},w instanceof Tu&&w.render&&w.render(b,r,i,o)}function h(p,v,g){var m=p.getModel("iconStyle"),y=p.getModel(["emphasis","iconStyle"]),b=v instanceof Tu&&v.getIcons?v.getIcons():p.get("icon"),w=p.get("title")||{},S,x;fn(b)?(S={},S[g]=b):S=b,fn(w)?(x={},x[g]=w):x=w;var C=p.iconPaths={};ie(S,function(E,T){var A=q2(E,{},{x:-s/2,y:-s/2,width:s,height:s});A.setStyle(m.getItemStyle());var k=A.ensureState("emphasis");k.style=y.getItemStyle();var M=new ti({style:{text:x[T],align:y.get("textAlign"),borderRadius:y.get("textBorderRadius"),padding:y.get("textPadding"),fill:null,font:FG({fontStyle:y.get("textFontStyle"),fontFamily:y.get("textFontFamily"),fontSize:y.get("textFontSize"),fontWeight:y.get("textFontWeight")},r)},ignore:!0});A.setTextContent(M),Ty({el:A,componentModel:n,itemName:T,formatterParamsExtra:{title:x[T]}}),A.__title=x[T],A.on("mouseover",function(){var D=y.getItemStyle(),L=l?n.get("right")==null&&n.get("left")!=="right"?"right":"left":n.get("bottom")==null&&n.get("top")!=="bottom"?"bottom":"top";M.setStyle({fill:y.get("textFill")||D.fill||D.stroke||"#000",backgroundColor:y.get("textBackgroundColor")}),A.setTextConfig({position:y.get("textPosition")||L}),M.ignore=!n.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){p.get(["iconStatus",T])!=="emphasis"&&i.leaveEmphasis(this),M.hide()}),(p.get(["iconStatus",T])==="emphasis"?vh:gh)(A),a.add(A),A.on("click",vn(v.onclick,v,r,i,T)),C[T]=A})}J4t(a,n,i),a.add(m2e(a.getBoundingRect(),n)),l||a.eachChild(function(p){var v=p.__title,g=p.ensureState("emphasis"),m=g.textConfig||(g.textConfig={}),y=p.getTextContent(),b=y&&y.ensureState("emphasis");if(b&&!qn(b)&&v){var w=b.style||(b.style={}),S=V2(v,ti.makeFont(w)),x=p.x+a.x,C=p.y+a.y+s,E=!1;C+S.height>i.getHeight()&&(m.position="top",E=!0);var T=E?-5-S.height:s+10;x+S.width/2>i.getWidth()?(m.position=["100%",T],w.align="right"):x-S.width/2<0&&(m.position=[0,T],w.align="left")}})},e.prototype.updateView=function(n,r,i,o){ie(this._features,function(a){a instanceof Tu&&a.updateView&&a.updateView(a.model,r,i,o)})},e.prototype.remove=function(n,r){ie(this._features,function(i){i instanceof Tu&&i.remove&&i.remove(n,r)}),this.group.removeAll()},e.prototype.dispose=function(n,r){ie(this._features,function(i){i instanceof Tu&&i.dispose&&i.dispose(n,r)})},e.type="toolbox",e})(so);function eBt(t){return t.indexOf("my")===0}var tBt=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(n,r){var i=this.model,o=i.get("name")||n.get("title.0.text")||"echarts",a=r.getZr().painter.getType()==="svg",s=a?"svg":i.get("type",!0)||"png",l=r.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||n.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=Fr.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=o+"."+s,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||a){var d=l.split(","),h=d[0].indexOf("base64")>-1,p=a?decodeURIComponent(d[1]):d[1];h&&(p=window.atob(p));var v=o+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var g=p.length,m=new Uint8Array(g);g--;)m[g]=p.charCodeAt(g);var y=new Blob([m]);window.navigator.msSaveOrOpenBlob(y,v)}else{var b=document.createElement("iframe");document.body.appendChild(b);var w=b.contentWindow,S=w.document;S.open("image/svg+xml","replace"),S.write(p),S.close(),w.focus(),S.execCommand("SaveAs",!0,v),document.body.removeChild(b)}}else{var x=i.get("lang"),C='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(x&&x[0]||"")+'" /></body>',E=window.open();E.document.write(C),E.document.title=o}},e.getDefaultOption=function(n){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:n.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:n.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},e})(Tu),rae="__ec_magicType_stack__",nBt=[["line","bar"],["stack"]],rBt=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getIcons=function(){var n=this.model,r=n.get("icon"),i={};return ie(n.get("type"),function(o){r[o]&&(i[o]=r[o])}),i},e.getDefaultOption=function(n){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:n.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},e.prototype.onclick=function(n,r,i){var o=this.model,a=o.get(["seriesIndex",i]);if(iae[i]){var s={series:[]},l=function(f){var d=f.subType,h=f.id,p=iae[i](d,h,f,o);p&&(Yn(p,f.option),s.series.push(p));var v=f.coordinateSystem;if(v&&v.type==="cartesian2d"&&(i==="line"||i==="bar")){var g=v.getAxesByScale("ordinal")[0];if(g){var m=g.dim,y=m+"Axis",b=f.getReferringComponents(y,Qo).models[0],w=b.componentIndex;s[y]=s[y]||[];for(var S=0;S<=w;S++)s[y][w]=s[y][w]||{};s[y][w].boundaryGap=i==="bar"}}};ie(nBt,function(f){Mr(f,i)>=0&&ie(f,function(d){o.setIconStatus(d,"normal")})}),o.setIconStatus(i,"emphasis"),n.eachComponent({mainType:"series",query:a==null?null:{seriesIndex:a}},l);var u,c=i;i==="stack"&&(u=mr({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),o.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),r.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},e})(Tu),iae={line:function(t,e,n,r){if(t==="bar")return mr({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(t,e,n,r){if(t==="line")return mr({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(t,e,n,r){var i=n.get("stack")===rae;if(t==="line"||t==="bar")return r.setIconStatus("stack",i?"normal":"emphasis"),mr({id:e,stack:i?"":rae},r.get(["option","stack"])||{},!0)}};fd({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)});var rL=new Array(60).join("-"),z1="	";function iBt(t){var e={},n=[],r=[];return t.eachRawSeries(function(i){var o=i.coordinateSystem;if(o&&(o.type==="cartesian2d"||o.type==="polar")){var a=o.getBaseAxis();if(a.type==="category"){var s=a.dim+"_"+a.index;e[s]||(e[s]={categoryAxis:a,valueAxis:o.getOtherAxis(a),series:[]},r.push({axisDim:a.dim,axisIndex:a.index})),e[s].series.push(i)}else n.push(i)}else n.push(i)}),{seriesGroupByCategoryAxis:e,other:n,meta:r}}function oBt(t){var e=[];return ie(t,function(n,r){var i=n.categoryAxis,o=n.valueAxis,a=o.dim,s=[" "].concat(kt(n.series,function(h){return h.name})),l=[i.model.getCategories()];ie(n.series,function(h){var p=h.getRawData();l.push(h.getRawData().mapArray(p.mapDimension(a),function(v){return v}))});for(var u=[s.join(z1)],c=0;c<l[0].length;c++){for(var f=[],d=0;d<l.length;d++)f.push(l[d][c]);u.push(f.join(z1))}e.push(u.join(`
`))}),e.join(`

`+rL+`

`)}function aBt(t){return kt(t,function(e){var n=e.getRawData(),r=[e.name],i=[];return n.each(n.dimensions,function(){for(var o=arguments.length,a=arguments[o-1],s=n.getName(a),l=0;l<o-1;l++)i[l]=arguments[l];r.push((s?s+z1:"")+i.join(z1))}),r.join(`
`)}).join(`

`+rL+`

`)}function sBt(t){var e=iBt(t);return{value:yi([oBt(e.seriesGroupByCategoryAxis),aBt(e.other)],function(n){return!!n.replace(/[\n\t\s]/g,"")}).join(`

`+rL+`

`),meta:e.meta}}function hO(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function lBt(t){var e=t.slice(0,t.indexOf(`
`));if(e.indexOf(z1)>=0)return!0}var x6=new RegExp("["+z1+"]+","g");function uBt(t){for(var e=t.split(/\n+/g),n=hO(e.shift()).split(x6),r=[],i=kt(n,function(l){return{name:l,data:[]}}),o=0;o<e.length;o++){var a=hO(e[o]).split(x6);r.push(a.shift());for(var s=0;s<a.length;s++)i[s]&&(i[s].data[o]=a[s])}return{series:i,categories:r}}function cBt(t){for(var e=t.split(/\n+/g),n=hO(e.shift()),r=[],i=0;i<e.length;i++){var o=hO(e[i]);if(o){var a=o.split(x6),s="",l=void 0,u=!1;isNaN(a[0])?(u=!0,s=a[0],a=a.slice(1),r[i]={name:s,value:[]},l=r[i].value):l=r[i]=[];for(var c=0;c<a.length;c++)l.push(+a[c]);l.length===1&&(u?r[i].value=l[0]:r[i]=l[0])}}return{name:n,data:r}}function fBt(t,e){var n=t.split(new RegExp(`
*`+rL+`
*`,"g")),r={series:[]};return ie(n,function(i,o){if(lBt(i)){var a=uBt(i),s=e[o],l=s.axisDim+"Axis";s&&(r[l]=r[l]||[],r[l][s.axisIndex]={data:a.categories},r.series=r.series.concat(a.series))}else{var a=cBt(i);r.series.push(a)}}),r}var dBt=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(n,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var i=r.getDom(),o=this.model;this._dom&&i.removeChild(this._dom);var a=document.createElement("div");a.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",a.style.backgroundColor=o.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=o.get("lang")||[];s.innerHTML=l[0]||o.get("title"),s.style.cssText="margin:10px 20px",s.style.color=o.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=o.get("optionToContent"),d=o.get("contentToOption"),h=sBt(n);if(qn(f)){var p=f(r.getOption());fn(p)?u.innerHTML=p:P1(p)&&u.appendChild(p)}else{c.readOnly=o.get("readOnly");var v=c.style;v.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",v.color=o.get("textColor"),v.borderColor=o.get("textareaBorderColor"),v.backgroundColor=o.get("textareaColor"),c.value=h.value,u.appendChild(c)}var g=h.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",b=document.createElement("div"),w=document.createElement("div");y+=";background-color:"+o.get("buttonColor"),y+=";color:"+o.get("buttonTextColor");var S=this;function x(){i.removeChild(a),S._dom=null}QV(b,"click",x),QV(w,"click",function(){if(d==null&&f!=null||d!=null&&f==null){x();return}var C;try{qn(d)?C=d(u,r.getOption()):C=fBt(c.value,g)}catch(E){throw x(),new Error("Data view format error "+E)}C&&r.dispatchAction({type:"changeDataView",newOption:C}),x()}),b.innerHTML=l[1],w.innerHTML=l[2],w.style.cssText=b.style.cssText=y,!o.get("readOnly")&&m.appendChild(w),m.appendChild(b),a.appendChild(s),a.appendChild(u),a.appendChild(m),u.style.height=i.clientHeight-80+"px",i.appendChild(a),this._dom=a},e.prototype.remove=function(n,r){this._dom&&r.getDom().removeChild(this._dom)},e.prototype.dispose=function(n,r){this.remove(n,r)},e.getDefaultOption=function(n){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:n.getLocaleModel().get(["toolbox","dataView","title"]),lang:n.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},e})(Tu);function hBt(t,e){return kt(t,function(n,r){var i=e&&e[r];if(Zn(i)&&!Tt(i)){var o=Zn(n)&&!Tt(n);o||(n={value:n});var a=i.name!=null&&n.name==null;return n=Yn(n,i),a&&delete n.name,n}else return n})}fd({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var n=[];ie(t.newOption.series,function(r){var i=e.getSeriesByName(r.name)[0];if(!i)n.push(yt({type:"scatter"},r));else{var o=i.get("data");n.push({name:r.name,data:hBt(r.data,o)})}}),e.mergeOption(Yn({series:n},t.newOption))});var y2e=ie,b2e=Qr();function pBt(t,e){var n=lU(t);y2e(e,function(r,i){for(var o=n.length-1;o>=0;o--){var a=n[o];if(a[i])break}if(o<0){var s=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var l=s.getPercentRange();n[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),n.push(e)}function vBt(t){var e=lU(t),n=e[e.length-1];e.length>1&&e.pop();var r={};return y2e(n,function(i,o){for(var a=e.length-1;a>=0;a--)if(i=e[a][o],i){r[o]=i;break}}),r}function gBt(t){b2e(t).snapshots=null}function mBt(t){return lU(t).length}function lU(t){var e=b2e(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var yBt=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(n,r){gBt(n),r.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(n){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:n.getLocaleModel().get(["toolbox","restore","title"])};return r},e})(Tu);fd({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var bBt=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],uU=(function(){function t(e,n,r){var i=this;this._targetInfoList=[];var o=oae(n,e);ie(_Bt,function(a,s){(!r||!r.include||Mr(r.include,s)>=0)&&a(o,i._targetInfoList)})}return t.prototype.setOutputRanges=function(e,n){return this.matchOutputRanges(e,n,function(r,i,o){if((r.coordRanges||(r.coordRanges=[])).push(i),!r.coordRange){r.coordRange=i;var a=qB[r.brushType](0,o,i);r.__rangeOffset={offset:uae[r.brushType](a.values,r.range,[1,1]),xyMinMax:a.xyMinMax}}}),e},t.prototype.matchOutputRanges=function(e,n,r){ie(e,function(i){var o=this.findTargetInfo(i,n);o&&o!==!0&&ie(o.coordSyses,function(a){var s=qB[i.brushType](1,a,i.range,!0);r(i,s.values,a,n)})},this)},t.prototype.setInputRanges=function(e,n){ie(e,function(r){var i=this.findTargetInfo(r,n);if(r.range=r.range||[],i&&i!==!0){r.panelId=i.panelId;var o=qB[r.brushType](0,i.coordSys,r.coordRange),a=r.__rangeOffset;r.range=a?uae[r.brushType](o.values,a.offset,wBt(o.xyMinMax,a.xyMinMax)):o.values}},this)},t.prototype.makePanelOpts=function(e,n){return kt(this._targetInfoList,function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:n?n(r):null,clipPath:ACe(i),isTargetByCursor:MCe(i,e,r.coordSysModel),getLinearBrushOtherExtent:kCe(i)}})},t.prototype.controlSeries=function(e,n,r){var i=this.findTargetInfo(e,r);return i===!0||i&&Mr(i.coordSyses,n.coordinateSystem)>=0},t.prototype.findTargetInfo=function(e,n){for(var r=this._targetInfoList,i=oae(n,e),o=0;o<r.length;o++){var a=r[o],s=e.panelId;if(s){if(a.panelId===s)return a}else for(var l=0;l<aae.length;l++)if(aae[l](i,a))return a}return!0},t})();function C6(t){return t[0]>t[1]&&t.reverse(),t}function oae(t,e){return ix(t,e,{includeMainTypes:bBt})}var _Bt={grid:function(t,e){var n=t.xAxisModels,r=t.yAxisModels,i=t.gridModels,o=Mn(),a={},s={};!n&&!r&&!i||(ie(n,function(l){var u=l.axis.grid.model;o.set(u.id,u),a[u.id]=!0}),ie(r,function(l){var u=l.axis.grid.model;o.set(u.id,u),s[u.id]=!0}),ie(i,function(l){o.set(l.id,l),a[l.id]=!0,s[l.id]=!0}),o.each(function(l){var u=l.coordinateSystem,c=[];ie(u.getCartesians(),function(f,d){(Mr(n,f.getAxis("x").model)>=0||Mr(r,f.getAxis("y").model)>=0)&&c.push(f)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:sae.grid,xAxisDeclared:a[l.id],yAxisDeclared:s[l.id]})}))},geo:function(t,e){ie(t.geoModels,function(n){var r=n.coordinateSystem;e.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:r,coordSyses:[r],getPanelRect:sae.geo})})}},aae=[function(t,e){var n=t.xAxisModel,r=t.yAxisModel,i=t.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],sae={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(Tm(t)),e}},qB={lineX:hr(lae,0),lineY:hr(lae,1),rect:function(t,e,n,r){var i=t?e.pointToData([n[0][0],n[1][0]],r):e.dataToPoint([n[0][0],n[1][0]],r),o=t?e.pointToData([n[0][1],n[1][1]],r):e.dataToPoint([n[0][1],n[1][1]],r),a=[C6([i[0],o[0]]),C6([i[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(t,e,n,r){var i=[[1/0,-1/0],[1/0,-1/0]],o=kt(n,function(a){var s=t?e.pointToData(a,r):e.dataToPoint(a,r);return i[0][0]=Math.min(i[0][0],s[0]),i[1][0]=Math.min(i[1][0],s[1]),i[0][1]=Math.max(i[0][1],s[0]),i[1][1]=Math.max(i[1][1],s[1]),s});return{values:o,xyMinMax:i}}};function lae(t,e,n,r){var i=n.getAxis(["x","y"][t]),o=C6(kt([0,1],function(s){return e?i.coordToData(i.toLocalCoord(r[s]),!0):i.toGlobalCoord(i.dataToCoord(r[s]))})),a=[];return a[t]=o,a[1-t]=[NaN,NaN],{values:o,xyMinMax:a}}var uae={lineX:hr(cae,0),lineY:hr(cae,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return kt(t,function(r,i){return[r[0]-n[0]*e[i][0],r[1]-n[1]*e[i][1]]})}};function cae(t,e,n,r){return[e[0]-r[t]*n[0],e[1]-r[t]*n[1]]}function wBt(t,e){var n=fae(t),r=fae(e),i=[n[0]/r[0],n[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function fae(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var E6=ie,SBt=Oxt("toolbox-dataZoom_"),xBt=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i,o){this._brushController||(this._brushController=new N9(i.getZr()),this._brushController.on("brush",vn(this._onBrush,this)).mount()),TBt(n,r,this,o,i),EBt(n,r)},e.prototype.onclick=function(n,r,i){CBt[i].call(this)},e.prototype.remove=function(n,r){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(n,r){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(n){var r=n.areas;if(!n.isEnd||!r.length)return;var i={},o=this.ecModel;this._brushController.updateCovers([]);var a=new uU(cU(this.model),o,{include:["grid"]});a.matchOutputRanges(r,o,function(u,c,f){if(f.type==="cartesian2d"){var d=u.brushType;d==="rect"?(s("x",f,c[0]),s("y",f,c[1])):s({lineX:"x",lineY:"y"}[d],f,c)}}),pBt(o,i),this._dispatchZoomAction(i);function s(u,c,f){var d=c.getAxis(u),h=d.model,p=l(u,h,o),v=p.findRepresentativeAxisProxy(h).getMinMaxSpan();(v.minValueSpan!=null||v.maxValueSpan!=null)&&(f=Iy(0,f.slice(),d.scale.getExtent(),0,v.minValueSpan,v.maxValueSpan)),p&&(i[p.id]={dataZoomId:p.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var d;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(h){var p=h.getAxisModel(u,c.componentIndex);p&&(d=h)}),d}},e.prototype._dispatchZoomAction=function(n){var r=[];E6(n,function(i,o){r.push(Jn(i))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},e.getDefaultOption=function(n){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:n.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},e})(Tu),CBt={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(vBt(this.ecModel))}};function cU(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function EBt(t,e){t.setIconStatus("back",mBt(e)>1?"emphasis":"normal")}function TBt(t,e,n,r,i){var o=n._isZoomActive;r&&r.type==="takeGlobalCursor"&&(o=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),n._isZoomActive=o,t.setIconStatus("zoom",o?"emphasis":"normal");var a=new uU(cU(t),e,{include:["grid"]}),s=a.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});n._brushController.setPanels(s).enableBrush(o&&s.length?{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()}:!1)}nEt("dataZoom",function(t){var e=t.getComponent("toolbox",0),n=["feature","dataZoom"];if(!e||e.get(n)==null)return;var r=e.getModel(n),i=[],o=cU(r),a=ix(t,o);E6(a.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),E6(a.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var f=l.componentIndex,d={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:SBt+u+f};d[c]=f,i.push(d)}return i});function ABt(t){t.registerComponentModel(Z4t),t.registerComponentView(Q4t),U0("saveAsImage",tBt),U0("magicType",rBt),U0("dataView",dBt),U0("dataZoom",xBt),U0("restore",yBt),Dr(X4t)}var kBt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e})(Gr);function _2e(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function w2e(t){if(Fr.domSupported){for(var e=document.documentElement.style,n=0,r=t.length;n<r;n++)if(t[n]in e)return t[n]}}var S2e=w2e(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),MBt=w2e(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function x2e(t,e){if(!t)return e;e=rwe(e,!0);var n=t.indexOf(e);return t=n===-1?e:"-"+t.slice(0,n)+"-"+e,t.toLowerCase()}function PBt(t,e){var n=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return n?n[e]:null}var OBt=x2e(MBt,"transition"),fU=x2e(S2e,"transform"),IBt="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Fr.transform3dSupported?"will-change:transform;":"");function RBt(t){return t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",t}function LBt(t,e,n){if(!fn(n)||n==="inside")return"";var r=t.get("backgroundColor"),i=t.get("borderWidth");e=ty(e);var o=RBt(n),a=Math.max(Math.round(i)*1.5,6),s="",l=fU+":",u;Mr(["left","right"],o)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=o==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=o==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=a+i,d=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),h=Math.round(((d-Math.SQRT2*i)/2+Math.SQRT2*i-(d-f)/2)*100)/100;s+=";"+o+":-"+h+"px";var p=e+" solid "+i+"px;",v=["position:absolute;width:"+a+"px;height:"+a+"px;z-index:-1;",s+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"];return'<div style="'+v.join("")+'"></div>'}function DBt(t,e){var n="cubic-bezier(0.23,1,0.32,1)",r=" "+t/2+"s "+n,i="opacity"+r+",visibility"+r;return e||(r=" "+t+"s "+n,i+=Fr.transformSupported?","+fU+r:",left"+r+",top"+r),OBt+":"+i}function dae(t,e,n){var r=t.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Fr.transformSupported)return n?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var o=Fr.transform3dSupported,a="translate"+(o?"3d":"")+"("+r+","+i+(o?",0":"")+")";return n?"top:0;left:0;"+fU+":"+a+";":[["top",0],["left",0],[S2e,a]]}function NBt(t){var e=[],n=t.get("fontSize"),r=t.getTextColor();r&&e.push("color:"+r),e.push("font:"+t.getFont());var i=dr(t.get("lineHeight"),Math.round(n*3/2));n&&e.push("line-height:"+i+"px");var o=t.get("textShadowColor"),a=t.get("textShadowBlur")||0,s=t.get("textShadowOffsetX")||0,l=t.get("textShadowOffsetY")||0;return o&&a&&e.push("text-shadow:"+s+"px "+l+"px "+a+"px "+o),ie(["decoration","align"],function(u){var c=t.get(u);c&&e.push("text-"+u+":"+c)}),e.join(";")}function BBt(t,e,n){var r=[],i=t.get("transitionDuration"),o=t.get("backgroundColor"),a=t.get("shadowBlur"),s=t.get("shadowColor"),l=t.get("shadowOffsetX"),u=t.get("shadowOffsetY"),c=t.getModel("textStyle"),f=Bwe(t,"html"),d=l+"px "+u+"px "+a+"px "+s;return r.push("box-shadow:"+d),e&&i&&r.push(DBt(i,n)),o&&r.push("background-color:"+o),ie(["width","color","radius"],function(h){var p="border-"+h,v=rwe(p),g=t.get(v);g!=null&&r.push(p+":"+g+(h==="color"?"":"px"))}),r.push(NBt(c)),f!=null&&r.push("padding:"+R_(f).join("px ")+"px"),r.join(";")+";"}function hae(t,e,n,r,i){var o=e&&e.painter;if(n){var a=o&&o.getViewportRoot();a&&fSt(t,a,n,r,i)}else{t[0]=r,t[1]=i;var s=o&&o.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var $Bt=(function(){function t(e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Fr.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=e.getZr(),o=n.appendTo,a=o&&(fn(o)?document.querySelector(o):P1(o)?o:qn(o)&&o(e.getDom()));hae(this._styleCoord,i,a,e.getWidth()/2,e.getHeight()/2),(a||e.getDom()).appendChild(r),this._api=e,this._container=a;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,c=i.painter.getViewportRoot();gu(c,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return t.prototype.update=function(e){if(!this._container){var n=this._api.getDom(),r=PBt(n,"position"),i=n.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative")}var o=e.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=e.get("className")||""},t.prototype.show=function(e,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,o=this._styleCoord;r.innerHTML?i.cssText=IBt+BBt(e,!this._firstShow,this._longHide)+dae(o[0],o[1],!0)+("border-color:"+ty(n)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(e,n,r,i,o){var a=this.el;if(e==null){a.innerHTML="";return}var s="";if(fn(o)&&r.get("trigger")==="item"&&!_2e(r)&&(s=LBt(r,i,o)),fn(e))a.innerHTML=e+s;else if(e){a.innerHTML="",Tt(e)||(e=[e]);for(var l=0;l<e.length;l++)P1(e[l])&&e[l].parentNode!==a&&a.appendChild(e[l]);if(s&&a.childNodes.length){var u=document.createElement("div");u.innerHTML=s,a.appendChild(u)}}},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},t.prototype.moveTo=function(e,n){if(this.el){var r=this._styleCoord;if(hae(r,this._zr,this._container,e,n),r[0]!=null&&r[1]!=null){var i=this.el.style,o=dae(r[0],r[1]);ie(o,function(a){i[a[0]]=a[1]})}}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),n*this._zr.getHeight())},t.prototype.hide=function(){var e=this,n=this.el.style;n.visibility="hidden",n.opacity="0",Fr.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(vn(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},t})(),FBt=(function(){function t(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),vae(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return t.prototype.update=function(e){var n=e.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(e,n,r,i,o){var a=this;Zn(e)&&mi(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new ti({style:{rich:n.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Bwe(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),ie(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){a.el.style[u]=r.get(u)}),ie(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){a.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el,n=this.el.getBoundingRect(),r=pae(e.style);return[n.width+r.left+r.right,n.height+r.top+r.bottom]},t.prototype.moveTo=function(e,n){var r=this.el;if(r){var i=this._styleCoord;vae(i,this._zr,e,n),e=i[0],n=i[1];var o=r.style,a=cp(o.borderWidth||0),s=pae(o);r.x=e+a+s.left,r.y=n+a+s.top,r.markRedraw()}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),n*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(vn(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t})();function cp(t){return Math.max(0,t)}function pae(t){var e=cp(t.shadowBlur||0),n=cp(t.shadowOffsetX||0),r=cp(t.shadowOffsetY||0);return{left:cp(e-n),right:cp(e+n),top:cp(e-r),bottom:cp(e+r)}}function vae(t,e,n,r){t[0]=n,t[1]=r,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var VBt=new Jr({shape:{x:-1,y:-1,width:2,height:2}}),zBt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r){if(!(Fr.node||!r.getDom())){var i=n.getComponent("tooltip"),o=this._renderMode=$xt(i.get("renderMode"));this._tooltipContent=o==="richText"?new FBt(r):new $Bt(r,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},e.prototype.render=function(n,r,i){if(!(Fr.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=r,this._api=i;var o=this._tooltipContent;o.update(n),o.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?B_(this,"_updatePosition",50,"fixRate"):EC(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var n=this._tooltipModel,r=n.get("triggerOn");s2e("itemTooltip",this._api,vn(function(i,o,a){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(o,a):i==="leave"&&this._hide(a))},this))},e.prototype._keepShow=function(){var n=this._tooltipModel,r=this._ecModel,i=this._api,o=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&a.manuallyShowTip(n,r,i,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(n,r,i,o){if(!(o.from===this.uid||Fr.node||!i.getDom())){var a=gae(o,i);this._ticket="";var s=o.dataByCoordSys,l=UBt(o,r,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&o.x!=null&&o.y!=null){var c=VBt;c.x=o.x,c.y=o.y,c.update(),ar(c).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:c},a)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},a);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(n,r,i,o))return;var f=l2e(o,r),d=f.point[0],h=f.point[1];d!=null&&h!=null&&this._tryShow({offsetX:d,offsetY:h,target:f.el,position:o.position,positionDefault:"bottom"},a)}else o.x!=null&&o.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:i.getZr().findHover(o.x,o.y).target},a))}},e.prototype.manuallyHideTip=function(n,r,i,o){var a=this._tooltipContent;this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(gae(o,i))},e.prototype._manuallyAxisShowTip=function(n,r,i,o){var a=o.seriesIndex,s=o.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(a==null||s==null||l==null)){var u=r.getSeriesByIndex(a);if(u){var c=u.getData(),f=Gw([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:s,position:o.position}),!0}}},e.prototype._tryShow=function(n,r){var i=n.target,o=this._tooltipModel;if(o){this._lastX=n.offsetX,this._lastY=n.offsetY;var a=n.dataByCoordSys;if(a&&a.length)this._showAxisTooltip(a,n);else if(i){var s=ar(i);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;am(i,function(c){if(ar(c).dataIndex!=null)return l=c,!0;if(ar(c).tooltipConfig!=null)return u=c,!0},!0),l?this._showSeriesItemTooltip(n,l,r):u?this._showComponentItemTooltip(n,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(n,r){var i=n.get("showDelay");r=vn(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(n,r){var i=this._ecModel,o=this._tooltipModel,a=[r.offsetX,r.offsetY],s=Gw([r.tooltipOption],o),l=this._renderMode,u=[],c=Oa("section",{blocks:[],noHeader:!0}),f=[],d=new R4;ie(n,function(y){ie(y.dataByAxis,function(b){var w=i.getComponent(b.axisDim+"Axis",b.axisIndex),S=b.value;if(!(!w||S==null)){var x=i2e(S,w.axis,i,b.seriesDataIndices,b.valueLabelOpt),C=Oa("section",{header:x,noHeader:!pc(x),sortBlocks:!0,blocks:[]});c.blocks.push(C),ie(b.seriesDataIndices,function(E){var T=i.getSeriesByIndex(E.seriesIndex),A=E.dataIndexInside,k=T.getDataParams(A);if(!(k.dataIndex<0)){k.axisDim=b.axisDim,k.axisIndex=b.axisIndex,k.axisType=b.axisType,k.axisId=b.axisId,k.axisValue=c9(w.axis,{value:S}),k.axisValueLabel=x,k.marker=d.makeTooltipMarker("item",ty(k.color),l);var M=rne(T.formatTooltip(A,!0,null)),D=M.frag;if(D){var L=Gw([T],o).get("valueFormatter");C.blocks.push(L?yt({valueFormatter:L},D):D)}M.text&&f.push(M.text),u.push(k)}})}})}),c.blocks.reverse(),f.reverse();var h=r.position,p=s.get("order"),v=une(c,d,l,p,i.get("useUTC"),s.get("textStyle"));v&&f.unshift(v);var g=l==="richText"?`

`:"<br/>",m=f.join(g);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(n,u)?this._updatePosition(s,h,a[0],a[1],this._tooltipContent,u):this._showTooltipContent(s,m,u,Math.random()+"",a[0],a[1],h,null,d)})},e.prototype._showSeriesItemTooltip=function(n,r,i){var o=this._ecModel,a=ar(r),s=a.seriesIndex,l=o.getSeriesByIndex(s),u=a.dataModel||l,c=a.dataIndex,f=a.dataType,d=u.getData(f),h=this._renderMode,p=n.positionDefault,v=Gw([d.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),g=v.get("trigger");if(!(g!=null&&g!=="item")){var m=u.getDataParams(c,f),y=new R4;m.marker=y.makeTooltipMarker("item",ty(m.color),h);var b=rne(u.formatTooltip(c,!1,f)),w=v.get("order"),S=v.get("valueFormatter"),x=b.frag,C=x?une(S?yt({valueFormatter:S},x):x,y,h,w,o.get("useUTC"),v.get("textStyle")):b.text,E="item_"+u.name+"_"+c;this._showOrMove(v,function(){this._showTooltipContent(v,C,m,E,n.offsetX,n.offsetY,n.position,n.target,y)}),i({type:"showTip",dataIndexInside:c,dataIndex:d.getRawIndex(c),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(n,r,i){var o=this._renderMode==="html",a=ar(r),s=a.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(fn(l)){var c=l;l={content:c,formatter:c},u=!0}u&&o&&l.content&&(l=Jn(l),l.content=Ys(l.content));var f=[l],d=this._ecModel.getComponent(a.componentMainType,a.componentIndex);d&&f.push(d),f.push({formatter:l.content});var h=n.positionDefault,p=Gw(f,this._tooltipModel,h?{position:h}:null),v=p.get("content"),g=Math.random()+"",m=new R4;this._showOrMove(p,function(){var y=Jn(p.get("formatterParams")||{});this._showTooltipContent(p,v,y,g,n.offsetX,n.offsetY,n.position,r,m)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(n,r,i,o,a,s,l,u,c){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var f=this._tooltipContent;f.setEnterable(n.get("enterable"));var d=n.get("formatter");l=l||n.get("position");var h=r,p=this._getNearestPoint([a,s],i,n.get("trigger"),n.get("borderColor")),v=p.color;if(d)if(fn(d)){var g=n.ecModel.get("useUTC"),m=Tt(i)?i[0]:i,y=m&&m.axisType&&m.axisType.indexOf("time")>=0;h=d,y&&(h=DR(m.axisValue,h,g)),h=iwe(h,i,!0)}else if(qn(d)){var b=vn(function(w,S){w===this._ticket&&(f.setContent(S,c,n,v,l),this._updatePosition(n,l,a,s,f,i,u))},this);this._ticket=o,h=d(i,o,b)}else h=d;f.setContent(h,c,n,v,l),f.show(n,v),this._updatePosition(n,l,a,s,f,i,u)}},e.prototype._getNearestPoint=function(n,r,i,o){if(i==="axis"||Tt(r))return{color:o||(this._renderMode==="html"?"#fff":"none")};if(!Tt(r))return{color:o||r.color||r.borderColor}},e.prototype._updatePosition=function(n,r,i,o,a,s,l){var u=this._api.getWidth(),c=this._api.getHeight();r=r||n.get("position");var f=a.getSize(),d=n.get("align"),h=n.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),qn(r)&&(r=r([i,o],s,a.el,p,{viewSize:[u,c],contentSize:f.slice()})),Tt(r))i=on(r[0],u),o=on(r[1],c);else if(Zn(r)){var v=r;v.width=f[0],v.height=f[1];var g=ha(v,{width:u,height:c});i=g.x,o=g.y,d=null,h=null}else if(fn(r)&&l){var m=GBt(r,p,f,n.get("borderWidth"));i=m[0],o=m[1]}else{var m=HBt(i,o,a,u,c,d?null:20,h?null:20);i=m[0],o=m[1]}if(d&&(i-=mae(d)?f[0]/2:d==="right"?f[0]:0),h&&(o-=mae(h)?f[1]/2:h==="bottom"?f[1]:0),_2e(n)){var m=jBt(i,o,a,u,c);i=m[0],o=m[1]}a.moveTo(i,o)},e.prototype._updateContentNotChangedOnAxis=function(n,r){var i=this._lastDataByCoordSys,o=this._cbParamsList,a=!!i&&i.length===n.length;return a&&ie(i,function(s,l){var u=s.dataByAxis||[],c=n[l]||{},f=c.dataByAxis||[];a=a&&u.length===f.length,a&&ie(u,function(d,h){var p=f[h]||{},v=d.seriesDataIndices||[],g=p.seriesDataIndices||[];a=a&&d.value===p.value&&d.axisType===p.axisType&&d.axisId===p.axisId&&v.length===g.length,a&&ie(v,function(m,y){var b=g[y];a=a&&m.seriesIndex===b.seriesIndex&&m.dataIndex===b.dataIndex}),o&&ie(d.seriesDataIndices,function(m){var y=m.seriesIndex,b=r[y],w=o[y];b&&w&&w.data!==b.data&&(a=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=r,!!a},e.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},e.prototype.dispose=function(n,r){Fr.node||!r.getDom()||(EC(this,"_updatePosition"),this._tooltipContent.dispose(),_6("itemTooltip",r))},e.type="tooltip",e})(so);function Gw(t,e,n){var r=e.ecModel,i;n?(i=new Ci(n,r,r),i=new Ci(e.option,i,r)):i=e;for(var o=t.length-1;o>=0;o--){var a=t[o];a&&(a instanceof Ci&&(a=a.get("tooltip",!0)),fn(a)&&(a={formatter:a}),a&&(i=new Ci(a,i,r)))}return i}function gae(t,e){return t.dispatchAction||vn(e.dispatchAction,e)}function HBt(t,e,n,r,i,o,a){var s=n.getSize(),l=s[0],u=s[1];return o!=null&&(t+l+o+2>r?t-=l+o:t+=o),a!=null&&(e+u+a>i?e-=u+a:e+=a),[t,e]}function jBt(t,e,n,r,i){var o=n.getSize(),a=o[0],s=o[1];return t=Math.min(t+a,r)-a,e=Math.min(e+s,i)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function GBt(t,e,n,r){var i=n[0],o=n[1],a=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=e.width,c=e.height;switch(t){case"inside":s=e.x+u/2-i/2,l=e.y+c/2-o/2;break;case"top":s=e.x+u/2-i/2,l=e.y-o-a;break;case"bottom":s=e.x+u/2-i/2,l=e.y+c+a;break;case"left":s=e.x-i-a,l=e.y+c/2-o/2;break;case"right":s=e.x+u+a,l=e.y+c/2-o/2}return[s,l]}function mae(t){return t==="center"||t==="middle"}function UBt(t,e,n){var r=TG(t).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var o=z2(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),a=o.models[0];if(a){var s=n.getViewOfComponentModel(a),l;if(s.group.traverse(function(u){var c=ar(u).tooltipConfig;if(c&&c.name===t.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:a.componentIndex,el:l}}}}function WBt(t){Dr(aE),t.registerComponentModel(kBt),t.registerComponentView(zBt),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Vo),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Vo)}var qBt=["rect","polygon","keep","clear"];function KBt(t,e){var n=Mi(t?t.brush:[]);if(n.length){var r=[];ie(n,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(r=r.concat(u))});var i=t&&t.toolbox;Tt(i)&&(i=i[0]),i||(i={feature:{}},t.toolbox=[i]);var o=i.feature||(i.feature={}),a=o.brush||(o.brush={}),s=a.type||(a.type=[]);s.push.apply(s,r),YBt(s),e&&!s.length&&s.push.apply(s,qBt)}}function YBt(t){var e={};ie(t,function(n){e[n]=1}),t.length=0,ie(e,function(n,r){t.push(r)})}var yae=ie;function bae(t){if(t){for(var e in t)if(t.hasOwnProperty(e))return!0}}function T6(t,e,n){var r={};return yae(e,function(o){var a=r[o]=i();yae(t[o],function(s,l){if(Ta.isValidType(l)){var u={type:l,visual:s};n&&n(u,o),a[l]=new Ta(u),l==="opacity"&&(u=Jn(u),u.type="colorAlpha",a.__hidden.__alphaForOpacity=new Ta(u))}})}),r;function i(){var o=function(){};o.prototype.__hidden=o.prototype;var a=new o;return a}}function C2e(t,e,n){var r;ie(n,function(i){e.hasOwnProperty(i)&&bae(e[i])&&(r=!0)}),r&&ie(n,function(i){e.hasOwnProperty(i)&&bae(e[i])?t[i]=Jn(e[i]):delete t[i]})}function XBt(t,e,n,r,i,o){var a={};ie(t,function(f){var d=Ta.prepareVisualTypes(e[f]);a[f]=d});var s;function l(f){return t9(n,s,f)}function u(f,d){qwe(n,s,f,d)}n.each(c);function c(f,d){s=f;var h=n.getRawDataItem(s);if(!(h&&h.visualMap===!1))for(var p=r.call(i,f),v=e[p],g=a[p],m=0,y=g.length;m<y;m++){var b=g[m];v[b]&&v[b].applyVisual(f,l,u)}}}function ZBt(t,e,n,r){var i={};return ie(t,function(o){var a=Ta.prepareVisualTypes(e[o]);i[o]=a}),{progress:function(a,s){var l;r!=null&&(l=s.getDimensionIndex(r));function u(S){return t9(s,f,S)}function c(S,x){qwe(s,f,S,x)}for(var f,d=s.getStore();(f=a.next())!=null;){var h=s.getRawDataItem(f);if(!(h&&h.visualMap===!1))for(var p=r!=null?d.get(l,f):f,v=n(p),g=e[v],m=i[v],y=0,b=m.length;y<b;y++){var w=m[y];g[w]&&g[w].applyVisual(p,u,c)}}}}}function JBt(t){var e=t.brushType,n={point:function(r){return _ae[e].point(r,n,t)},rect:function(r){return _ae[e].rect(r,n,t)}};return n}var _ae={lineX:wae(0),lineY:wae(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&jg(n.range,t[0],t[1])},rect:function(t,e,n){var r=n.range;if(!t||r.length<=1)return!1;var i=t.x,o=t.y,a=t.width,s=t.height,l=r[0];if(jg(r,i,o)||jg(r,i+a,o)||jg(r,i,o+s)||jg(r,i+a,o+s)||xr.create(t).contain(l[0],l[1])||vS(i,o,i+a,o,r)||vS(i,o,i,o+s,r)||vS(i+a,o,i+a,o+s,r)||vS(i,o+s,i+a,o+s,r))return!0}}};function wae(t){var e=["x","y"],n=["width","height"];return{point:function(r,i,o){if(r){var a=o.range,s=r[t];return Uw(s,a)}},rect:function(r,i,o){if(r){var a=o.range,s=[r[e[t]],r[e[t]]+r[n[t]]];return s[1]<s[0]&&s.reverse(),Uw(s[0],a)||Uw(s[1],a)||Uw(a[0],s)||Uw(a[1],s)}}}}function Uw(t,e){return e[0]<=t&&t<=e[1]}var Sae=["inBrush","outOfBrush"],KB="__ecBrushSelect",A6="__ecInBrushSelectEvent";function E2e(t){t.eachComponent({mainType:"brush"},function(e){var n=e.brushTargetManager=new uU(e.option,t);n.setInputRanges(e.areas,t)})}function QBt(t,e,n){var r=[],i,o;t.eachComponent({mainType:"brush"},function(a){n&&n.type==="takeGlobalCursor"&&a.setBrushOption(n.key==="brush"?n.brushOption:{brushType:!1})}),E2e(t),t.eachComponent({mainType:"brush"},function(a,s){var l={brushId:a.id,brushIndex:s,brushName:a.name,areas:Jn(a.areas),selected:[]};r.push(l);var u=a.option,c=u.brushLink,f=[],d=[],h=[],p=!1;s||(i=u.throttleType,o=u.throttleDelay);var v=kt(a.areas,function(S){var x=r$t[S.brushType],C=Yn({boundingRect:x?x(S):void 0},S);return C.selectors=JBt(C),C}),g=T6(a.option,Sae,function(S){S.mappingMethod="fixed"});Tt(c)&&ie(c,function(S){f[S]=1});function m(S){return c==="all"||!!f[S]}function y(S){return!!S.length}t.eachSeries(function(S,x){var C=h[x]=[];S.subType==="parallel"?b(S,x):w(S,x,C)});function b(S,x){var C=S.coordinateSystem;p=p||C.hasAxisBrushed(),m(x)&&C.eachActiveState(S.getData(),function(E,T){E==="active"&&(d[T]=1)})}function w(S,x,C){if(!(!S.brushSelector||n$t(a,x))&&(ie(v,function(T){a.brushTargetManager.controlSeries(T,S,t)&&C.push(T),p=p||y(C)}),m(x)&&y(C))){var E=S.getData();E.each(function(T){xae(S,C,E,T)&&(d[T]=1)})}}t.eachSeries(function(S,x){var C={seriesId:S.id,seriesIndex:x,seriesName:S.name,dataIndex:[]};l.selected.push(C);var E=h[x],T=S.getData(),A=m(x)?function(k){return d[k]?(C.dataIndex.push(T.getRawIndex(k)),"inBrush"):"outOfBrush"}:function(k){return xae(S,E,T,k)?(C.dataIndex.push(T.getRawIndex(k)),"inBrush"):"outOfBrush"};(m(x)?p:y(E))&&XBt(Sae,g,T,A)})}),e$t(e,i,o,r,n)}function e$t(t,e,n,r,i){if(i){var o=t.getZr();if(!o[A6]){o[KB]||(o[KB]=t$t);var a=B_(o,KB,n,e);a(t,r)}}}function t$t(t,e){if(!t.isDisposed()){var n=t.getZr();n[A6]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[A6]=!1}}function xae(t,e,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i];if(t.brushSelector(r,n,a.selectors,a))return!0}}function n$t(t,e){var n=t.option.seriesIndex;return n!=null&&n!=="all"&&(Tt(n)?Mr(n,e)<0:e!==n)}var r$t={rect:function(t){return Cae(t.range)},polygon:function(t){for(var e,n=t.range,r=0,i=n.length;r<i;r++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=n[r];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&Cae(e)}};function Cae(t){return new xr(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var i$t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r){this.ecModel=n,this.api=r,this.model,(this._brushController=new N9(r.getZr())).on("brush",vn(this._onBrush,this)).mount()},e.prototype.render=function(n,r,i,o){this.model=n,this._updateController(n,r,i,o)},e.prototype.updateTransform=function(n,r,i,o){E2e(r),this._updateController(n,r,i,o)},e.prototype.updateVisual=function(n,r,i,o){this.updateTransform(n,r,i,o)},e.prototype.updateView=function(n,r,i,o){this._updateController(n,r,i,o)},e.prototype._updateController=function(n,r,i,o){(!o||o.$from!==n.id)&&this._brushController.setPanels(n.brushTargetManager.makePanelOpts(i)).enableBrush(n.brushOption).updateCovers(n.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(n){var r=this.model.id,i=this.model.brushTargetManager.setOutputRanges(n.areas,this.ecModel);(!n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:Jn(i),$from:r}),n.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:Jn(i),$from:r})},e.type="brush",e})(so),o$t="#ddd",a$t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.areas=[],n.brushOption={},n}return e.prototype.optionUpdated=function(n,r){var i=this.option;!r&&C2e(i,n,["inBrush","outOfBrush"]);var o=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:o$t},o.hasOwnProperty("liftZ")||(o.liftZ=5)},e.prototype.setAreas=function(n){n&&(this.areas=kt(n,function(r){return Eae(this.option,r)},this))},e.prototype.setBrushOption=function(n){this.brushOption=Eae(this.option,n),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e})(Gr);function Eae(t,e){return mr({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Ci(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var s$t=["rect","polygon","lineX","lineY","keep","clear"],l$t=(function(t){nt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(n,r,i){var o,a,s;r.eachComponent({mainType:"brush"},function(l){o=l.brushType,a=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=o,this._brushMode=a,ie(n.get("type",!0),function(l){n.setIconStatus(l,(l==="keep"?a==="multiple":l==="clear"?s:l===o)?"emphasis":"normal")})},e.prototype.updateView=function(n,r,i){this.render(n,r,i)},e.prototype.getIcons=function(){var n=this.model,r=n.get("icon",!0),i={};return ie(n.get("type",!0),function(o){r[o]&&(i[o]=r[o])}),i},e.prototype.onclick=function(n,r,i){var o=this._brushType,a=this._brushMode;i==="clear"?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?o:o===i?!1:i,brushMode:i==="keep"?a==="multiple"?"single":"multiple":a}})},e.getDefaultOption=function(n){var r={show:!0,type:s$t.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:n.getLocaleModel().get(["toolbox","brush","title"])};return r},e})(Tu);function u$t(t){t.registerComponentView(i$t),t.registerComponentModel(a$t),t.registerPreprocessor(KBt),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,QBt),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,n){n.eachComponent({mainType:"brush",query:e},function(r){r.setAreas(e.areas)})}),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Vo),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Vo),U0("brush",l$t)}var c$t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e})(Gr),f$t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){if(this.group.removeAll(),!!n.get("show")){var o=this.group,a=n.getModel("textStyle"),s=n.getModel("subtextStyle"),l=n.get("textAlign"),u=dr(n.get("textBaseline"),n.get("textVerticalAlign")),c=new ti({style:Gi(a,{text:n.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),d=n.get("subtext"),h=new ti({style:Gi(s,{text:d,fill:s.getTextColor(),y:f.height+n.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=n.get("link"),v=n.get("sublink"),g=n.get("triggerEvent",!0);c.silent=!p&&!g,h.silent=!v&&!g,p&&c.on("click",function(){HP(p,"_"+n.get("target"))}),v&&h.on("click",function(){HP(v,"_"+n.get("subtarget"))}),ar(c).eventData=ar(h).eventData=g?{componentType:"title",componentIndex:n.componentIndex}:null,o.add(c),d&&o.add(h);var m=o.getBoundingRect(),y=n.getBoxLayoutParams();y.width=m.width,y.height=m.height;var b=ha(y,{width:i.getWidth(),height:i.getHeight()},n.get("padding"));l||(l=n.get("left")||n.get("right"),l==="middle"&&(l="center"),l==="right"?b.x+=b.width:l==="center"&&(b.x+=b.width/2)),u||(u=n.get("top")||n.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?b.y+=b.height:u==="middle"&&(b.y+=b.height/2),u=u||"top"),o.x=b.x,o.y=b.y,o.markRedraw();var w={align:l,verticalAlign:u};c.setStyle(w),h.setStyle(w),m=o.getBoundingRect();var S=b.margin,x=n.getItemStyle(["color","opacity"]);x.fill=n.get("backgroundColor");var C=new Jr({shape:{x:m.x-S[3],y:m.y-S[0],width:m.width+S[1]+S[3],height:m.height+S[0]+S[2],r:n.get("borderRadius")},style:x,subPixelOptimize:!0,silent:!0});o.add(C)}},e.type="title",e})(so);function d$t(t){t.registerComponentModel(c$t),t.registerComponentView(f$t)}var Tae=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode="box",n}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i),this._initData()},e.prototype.mergeOption=function(n){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(n){n==null&&(n=this.option.currentIndex);var r=this._data.count();this.option.loop?n=(n%r+r)%r:(n>=r&&(n=r-1),n<0&&(n=0)),this.option.currentIndex=n},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(n){this.option.autoPlay=!!n},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var n=this.option,r=n.data||[],i=n.axisType,o=this._names=[],a;i==="category"?(a=[],ie(r,function(u,c){var f=ca(k_(u),""),d;Zn(u)?(d=Jn(u),d.value=c):d=c,a.push(d),o.push(f)})):a=r;var s={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new Qs([{name:"value",type:s}],this);l.initData(a,o)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e})(Gr),T2e=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="timeline.slider",e.defaultOption=$v(Tae.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e})(Tae);ia(T2e,HR.prototype);var h$t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="timeline",e})(so),p$t=(function(t){nt(e,t);function e(n,r,i,o){var a=t.call(this,n,r,i)||this;return a.type=o||"value",a}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e})(Jc),YB=Math.PI,Aae=Qr(),v$t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r){this.api=r},e.prototype.render=function(n,r,i){if(this.model=n,this.api=i,this.ecModel=r,this.group.removeAll(),n.get("show",!0)){var o=this._layout(n,i),a=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(o,n);n.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return Oa("nameValue",{noName:!0,value:c})},ie(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](o,a,l,n)},this),this._renderAxisLabel(o,s,l,n),this._position(o,n)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(n,r){var i=n.get(["label","position"]),o=n.get("orient"),a=m$t(n,r),s;i==null||i==="auto"?s=o==="horizontal"?a.y+a.height/2<r.getHeight()/2?"-":"+":a.x+a.width/2<r.getWidth()/2?"+":"-":fn(i)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][i]:s=i;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:YB/2},f=o==="vertical"?a.height:a.width,d=n.getModel("controlStyle"),h=d.get("show",!0),p=h?d.get("itemSize"):0,v=h?d.get("itemGap"):0,g=p+v,m=n.get(["label","rotate"])||0;m=m*YB/180;var y,b,w,S=d.get("position",!0),x=h&&d.get("showPlayBtn",!0),C=h&&d.get("showPrevBtn",!0),E=h&&d.get("showNextBtn",!0),T=0,A=f;S==="left"||S==="bottom"?(x&&(y=[0,0],T+=g),C&&(b=[T,0],T+=g),E&&(w=[A-p,0],A-=g)):(x&&(y=[A-p,0],A-=g),C&&(b=[0,0],T+=g),E&&(w=[A-p,0],A-=g));var k=[T,A];return n.get("inverse")&&k.reverse(),{viewRect:a,mainLength:f,orient:o,rotation:c[o],labelRotation:m,labelPosOpt:s,labelAlign:n.get(["label","align"])||l[o],labelBaseline:n.get(["label","verticalAlign"])||n.get(["label","baseline"])||u[o],playPosition:y,prevBtnPosition:b,nextBtnPosition:w,axisExtent:k,controlSize:p,controlGap:v}},e.prototype._position=function(n,r){var i=this._mainGroup,o=this._labelGroup,a=n.viewRect;if(n.orient==="vertical"){var s=Jl(),l=a.x,u=a.y+a.height;ed(s,s,[-l,-u]),Ey(s,s,-YB/2),ed(s,s,[l,u]),a=a.clone(),a.applyTransform(s)}var c=y(a),f=y(i.getBoundingRect()),d=y(o.getBoundingRect()),h=[i.x,i.y],p=[o.x,o.y];p[0]=h[0]=c[0][0];var v=n.labelPosOpt;if(v==null||fn(v)){var g=v==="+"?0:1;b(h,f,c,1,g),b(p,d,c,1,1-g)}else{var g=v>=0?0:1;b(h,f,c,1,g),p[1]=h[1]+v}i.setPosition(h),o.setPosition(p),i.rotation=o.rotation=n.rotation,m(i),m(o);function m(w){w.originX=c[0][0]-w.x,w.originY=c[1][0]-w.y}function y(w){return[[w.x,w.x+w.width],[w.y,w.y+w.height]]}function b(w,S,x,C,E){w[C]+=x[C][E]-S[C][E]}},e.prototype._createAxis=function(n,r){var i=r.getData(),o=r.get("axisType"),a=g$t(r,o);a.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var s=i.getDataExtent("value");a.setExtent(s[0],s[1]),a.calcNiceTicks();var l=new p$t("value",a,n.axisExtent,o);return l.model=r,l},e.prototype._createGroup=function(n){var r=this[n]=new nr;return this.group.add(r),r},e.prototype._renderAxisLine=function(n,r,i,o){var a=i.getExtent();if(o.get(["lineStyle","show"])){var s=new Sa({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:yt({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(s);var l=this._progressLine=new Sa({shape:{x1:a[0],x2:this._currentPointer?this._currentPointer.x:a[0],y1:0,y2:0},style:Yn({lineCap:"round",lineWidth:s.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(l)}},e.prototype._renderAxisTick=function(n,r,i,o){var a=this,s=o.getData(),l=i.scale.getTicks();this._tickSymbols=[],ie(l,function(u){var c=i.dataToCoord(u.value),f=s.getItemModel(u.value),d=f.getModel("itemStyle"),h=f.getModel(["emphasis","itemStyle"]),p=f.getModel(["progress","itemStyle"]),v={x:c,y:0,onclick:vn(a._changeTimeline,a,u.value)},g=kae(f,d,r,v);g.ensureState("emphasis").style=h.getItemStyle(),g.ensureState("progress").style=p.getItemStyle(),Em(g);var m=ar(g);f.get("tooltip")?(m.dataIndex=u.value,m.dataModel=o):m.dataIndex=m.dataModel=null,a._tickSymbols.push(g)})},e.prototype._renderAxisLabel=function(n,r,i,o){var a=this,s=i.getLabelModel();if(s.get("show")){var l=o.getData(),u=i.getViewLabels();this._tickLabels=[],ie(u,function(c){var f=c.tickValue,d=l.getItemModel(f),h=d.getModel("label"),p=d.getModel(["emphasis","label"]),v=d.getModel(["progress","label"]),g=i.dataToCoord(c.tickValue),m=new ti({x:g,y:0,rotation:n.labelRotation-n.rotation,onclick:vn(a._changeTimeline,a,f),silent:!1,style:Gi(h,{text:c.formattedLabel,align:n.labelAlign,verticalAlign:n.labelBaseline})});m.ensureState("emphasis").style=Gi(p),m.ensureState("progress").style=Gi(v),r.add(m),Em(m),Aae(m).dataIndex=f,a._tickLabels.push(m)})}},e.prototype._renderControl=function(n,r,i,o){var a=n.controlSize,s=n.rotation,l=o.getModel("controlStyle").getItemStyle(),u=o.getModel(["emphasis","controlStyle"]).getItemStyle(),c=o.getPlayState(),f=o.get("inverse",!0);d(n.nextBtnPosition,"next",vn(this._changeTimeline,this,f?"-":"+")),d(n.prevBtnPosition,"prev",vn(this._changeTimeline,this,f?"+":"-")),d(n.playPosition,c?"stop":"play",vn(this._handlePlayClick,this,!c),!0);function d(h,p,v,g){if(h){var m=Nc(dr(o.get(["controlStyle",p+"BtnSize"]),a),a),y=[0,-m/2,m,m],b=y$t(o,p+"Icon",y,{x:h[0],y:h[1],originX:a/2,originY:0,rotation:g?-s:0,rectHover:!0,style:l,onclick:v});b.ensureState("emphasis").style=u,r.add(b),Em(b)}}},e.prototype._renderCurrentPointer=function(n,r,i,o){var a=o.getData(),s=o.getCurrentIndex(),l=a.getItemModel(s).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=vn(u._handlePointerDrag,u),f.ondragend=vn(u._handlePointerDragend,u),Mae(f,u._progressLine,s,i,o,!0)},onUpdate:function(f){Mae(f,u._progressLine,s,i,o)}};this._currentPointer=kae(l,l,this._mainGroup,{},this._currentPointer,c)},e.prototype._handlePlayClick=function(n){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:n,from:this.uid})},e.prototype._handlePointerDrag=function(n,r,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},e.prototype._handlePointerDragend=function(n){this._pointerChangeTimeline([n.offsetX,n.offsetY],!0)},e.prototype._pointerChangeTimeline=function(n,r){var i=this._toAxisCoord(n)[0],o=this._axis,a=Ul(o.getExtent().slice());i>a[1]&&(i=a[1]),i<a[0]&&(i=a[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=i,s.dirty());var l=this._findNearestTick(i),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var n=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=n.model;n._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(n){var r=this._mainGroup.getLocalTransform();return Cc(n,r,!0)},e.prototype._findNearestTick=function(n){var r=this.model.getData(),i=1/0,o,a=this._axis;return r.each(["value"],function(s,l){var u=a.dataToCoord(s),c=Math.abs(u-n);c<i&&(i=c,o=l)}),o},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(n){var r=this.model.getCurrentIndex();n==="+"?n=r+1:n==="-"&&(n=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:n,from:this.uid})},e.prototype._updateTicksStatus=function(){var n=this.model.getCurrentIndex(),r=this._tickSymbols,i=this._tickLabels;if(r)for(var o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",o<n);if(i)for(var o=0;o<i.length;o++)i&&i[o]&&i[o].toggleState("progress",Aae(i[o]).dataIndex<=n)},e.type="timeline.slider",e})(h$t);function g$t(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new KR({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new l9({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new yh}}function m$t(t,e){return ha(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function y$t(t,e,n,r){var i=r.style,o=q2(t.get(["controlStyle",e]),r||{},new xr(n[0],n[1],n[2],n[3]));return i&&o.setStyle(i),o}function kae(t,e,n,r,i,o){var a=e.get("color");if(i)i.setColor(a),n.add(i),o&&o.onUpdate(i);else{var s=t.get("symbol");i=ra(s,-1,-1,2,2,a),i.setStyle("strokeNoScale",!0),n.add(i),o&&o.onCreate(i)}var l=e.getItemStyle(["color"]);i.setStyle(l),r=mr({rectHover:!0,z2:100},r,!0);var u=$_(t.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var c=ky(t.get("symbolOffset"),u);c&&(r.x=(r.x||0)+c[0],r.y=(r.y||0)+c[1]);var f=t.get("symbolRotate");return r.rotation=(f||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function Mae(t,e,n,r,i,o){if(!t.dragging){var a=i.getModel("checkpointStyle"),s=r.dataToCoord(i.getData().get("value",n));if(o||!a.get("animation",!0))t.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:a.get("animationDuration",!0),easing:a.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}function b$t(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,n,r){var i=n.getComponent("timeline");return i&&e.currentIndex!=null&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),n.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),Yn({currentIndex:i.option.currentIndex},e)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,n){var r=n.getComponent("timeline");r&&e.playState!=null&&r.setPlayState(e.playState)})}function _$t(t){var e=t&&t.timeline;Tt(e)||(e=e?[e]:[]),ie(e,function(n){n&&w$t(n)})}function w$t(t){var e=t.type,n={number:"value",time:"time"};if(n[e]&&(t.axisType=n[e],delete t.type),Pae(t),Wg(t,"controlPosition")){var r=t.controlStyle||(t.controlStyle={});Wg(r,"position")||(r.position=t.controlPosition),r.position==="none"&&!Wg(r,"show")&&(r.show=!1,delete r.position),delete t.controlPosition}ie(t.data||[],function(i){Zn(i)&&!Tt(i)&&(!Wg(i,"value")&&Wg(i,"name")&&(i.value=i.name),Pae(i))})}function Pae(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),r=t.label||t.label||{},i=r.normal||(r.normal={}),o={normal:1,emphasis:1};ie(r,function(a,s){!o[s]&&!Wg(i,s)&&(i[s]=a)}),n.label&&!Wg(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function Wg(t,e){return t.hasOwnProperty(e)}function S$t(t){t.registerComponentModel(T2e),t.registerComponentView(v$t),t.registerSubTypeDefaulter("timeline",function(){return"slider"}),b$t(t),t.registerPreprocessor(_$t)}function dU(t,e){if(!t)return!1;for(var n=Tt(t)?t:[t],r=0;r<n.length;r++)if(n[r]&&n[r][e])return!0;return!1}function xA(t){Zm(t,"label",["show"])}var CA=Qr(),_h=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.createdBySelf=!1,n}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i),this._mergeOption(n,i,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Fr.node)return!1;var n=this.__hostSeries;return this.getShallow("animation")&&n&&n.isAnimationEnabled()},e.prototype.mergeOption=function(n,r){this._mergeOption(n,r,!1,!1)},e.prototype._mergeOption=function(n,r,i,o){var a=this.mainType;i||r.eachSeries(function(s){var l=s.get(this.mainType,!0),u=CA(s)[a];if(!l||!l.data){CA(s)[a]=null;return}u?u._mergeOption(l,r,!0):(o&&xA(l),ie(l.data,function(c){c instanceof Array?(xA(c[0]),xA(c[1])):xA(c)}),u=this.createMarkerModelFromSeries(l,this,r),yt(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),CA(s)[a]=u},this)},e.prototype.formatTooltip=function(n,r,i){var o=this.getData(),a=this.getRawValue(n),s=o.getName(n);return Oa("section",{header:this.name,blocks:[Oa("nameValue",{name:s,value:a,noName:!s,noValue:a==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(n){this._data=n},e.prototype.getDataParams=function(n,r){var i=HR.prototype.getDataParams.call(this,n,r),o=this.__hostSeries;return o&&(i.seriesId=o.id,i.seriesName=o.name,i.seriesType=o.subType),i},e.getMarkerModelFromSeries=function(n,r){return CA(n)[r]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e})(Gr);ia(_h,HR.prototype);var x$t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.createMarkerModelFromSeries=function(n,r,i){return new e(n,r,i)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e})(_h);function k6(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function C$t(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function EA(t,e,n,r,i,o){var a=[],s=_v(e,r),l=s?e.getCalculationInfo("stackResultDimension"):r,u=hU(e,l,t),c=e.indicesOfNearest(l,u)[0];a[i]=e.get(n,c),a[o]=e.get(l,c);var f=e.get(r,c),d=vc(e.get(r,c));return d=Math.min(d,20),d>=0&&(a[o]=+a[o].toFixed(d)),[a,f]}var XB={min:hr(EA,"min"),max:hr(EA,"max"),average:hr(EA,"average"),median:hr(EA,"median")};function FC(t,e){if(e){var n=t.getData(),r=t.coordinateSystem,i=r&&r.dimensions;if(!C$t(e)&&!Tt(e.coord)&&Tt(i)){var o=A2e(e,n,r,t);if(e=Jn(e),e.type&&XB[e.type]&&o.baseAxis&&o.valueAxis){var a=Mr(i,o.baseAxis.dim),s=Mr(i,o.valueAxis.dim),l=XB[e.type](n,o.baseDataDim,o.valueDataDim,a,s);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!Tt(i))e.coord=[];else for(var u=e.coord,c=0;c<2;c++)XB[u[c]]&&(u[c]=hU(n,n.mapDimension(i[c]),u[c]));return e}}function A2e(t,e,n,r){var i={};return t.valueIndex!=null||t.valueDim!=null?(i.valueDataDim=t.valueIndex!=null?e.getDimension(t.valueIndex):t.valueDim,i.valueAxis=n.getAxis(E$t(r,i.valueDataDim)),i.baseAxis=n.getOtherAxis(i.valueAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=n.getOtherAxis(i.baseAxis),i.baseDataDim=e.mapDimension(i.baseAxis.dim),i.valueDataDim=e.mapDimension(i.valueAxis.dim)),i}function E$t(t,e){var n=t.getData().getDimensionInfo(e);return n&&n.coordDim}function VC(t,e){return t&&t.containData&&e.coord&&!k6(e)?t.containData(e.coord):!0}function T$t(t,e,n){return t&&t.containZone&&e.coord&&n.coord&&!k6(e)&&!k6(n)?t.containZone(e.coord,n.coord):!0}function k2e(t,e){return t?function(n,r,i,o){var a=o<2?n.coord&&n.coord[o]:n.value;return Yp(a,e[o])}:function(n,r,i,o){return Yp(n.value,e[o])}}function hU(t,e,n){if(n==="average"){var r=0,i=0;return t.each(e,function(o,a){isNaN(o)||(r+=o,i++)}),r/i}else return n==="median"?t.getMedian(e):t.getDataExtent(e)[n==="max"?1:0]}var ZB=Qr(),pU=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(){this.markerGroupMap=Mn()},e.prototype.render=function(n,r,i){var o=this,a=this.markerGroupMap;a.each(function(s){ZB(s).keep=!1}),r.eachSeries(function(s){var l=_h.getMarkerModelFromSeries(s,o.type);l&&o.renderSeries(s,l,r,i)}),a.each(function(s){!ZB(s).keep&&o.group.remove(s.group)})},e.prototype.markKeep=function(n){ZB(n).keep=!0},e.prototype.toggleBlurSeries=function(n,r){var i=this;ie(n,function(o){var a=_h.getMarkerModelFromSeries(o,i.type);if(a){var s=a.getData();s.eachItemGraphicEl(function(l){l&&(r?w_e(l):RG(l))})}})},e.type="marker",e})(so);function Oae(t,e,n){var r=e.coordinateSystem;t.each(function(i){var o=t.getItemModel(i),a,s=on(o.get("x"),n.getWidth()),l=on(o.get("y"),n.getHeight());if(!isNaN(s)&&!isNaN(l))a=[s,l];else if(e.getMarkerPosition)a=e.getMarkerPosition(t.getValues(t.dimensions,i));else if(r){var u=t.get(r.dimensions[0],i),c=t.get(r.dimensions[1],i);a=r.dataToPoint([u,c])}isNaN(s)||(a[0]=s),isNaN(l)||(a[1]=l),t.setItemLayout(i,a)})}var A$t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.updateTransform=function(n,r,i){r.eachSeries(function(o){var a=_h.getMarkerModelFromSeries(o,"markPoint");a&&(Oae(a.getData(),o,i),this.markerGroupMap.get(o.id).updateLayout())},this)},e.prototype.renderSeries=function(n,r,i,o){var a=n.coordinateSystem,s=n.id,l=n.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new Q2),f=k$t(a,n,r);r.setData(f),Oae(r.getData(),n,o),f.each(function(d){var h=f.getItemModel(d),p=h.getShallow("symbol"),v=h.getShallow("symbolSize"),g=h.getShallow("symbolRotate"),m=h.getShallow("symbolOffset"),y=h.getShallow("symbolKeepAspect");if(qn(p)||qn(v)||qn(g)||qn(m)){var b=r.getRawValue(d),w=r.getDataParams(d);qn(p)&&(p=p(b,w)),qn(v)&&(v=v(b,w)),qn(g)&&(g=g(b,w)),qn(m)&&(m=m(b,w))}var S=h.getModel("itemStyle").getItemStyle(),x=Y2(l,"color");S.fill||(S.fill=x),f.setItemVisual(d,{symbol:p,symbolSize:v,symbolRotate:g,symbolOffset:m,symbolKeepAspect:y,style:S})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(d){d.traverse(function(h){ar(h).dataModel=r})}),this.markKeep(c),c.group.silent=r.get("silent")||n.get("silent")},e.type="markPoint",e})(pU);function k$t(t,e,n){var r;t?r=kt(t&&t.dimensions,function(s){var l=e.getData().getDimensionInfo(e.getData().mapDimension(s))||{};return yt(yt({},l),{name:s,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new Qs(r,n),o=kt(n.get("data"),hr(FC,e));t&&(o=yi(o,hr(VC,t)));var a=k2e(!!t,r);return i.initData(o,null,a),i}function M$t(t){t.registerComponentModel(x$t),t.registerComponentView(A$t),t.registerPreprocessor(function(e){dU(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var P$t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.createMarkerModelFromSeries=function(n,r,i){return new e(n,r,i)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e})(_h),TA=Qr(),O$t=function(t,e,n,r){var i=t.getData(),o;if(Tt(r))o=r;else{var a=r.type;if(a==="min"||a==="max"||a==="average"||a==="median"||r.xAxis!=null||r.yAxis!=null){var s=void 0,l=void 0;if(r.yAxis!=null||r.xAxis!=null)s=e.getAxis(r.yAxis!=null?"y":"x"),l=Va(r.yAxis,r.xAxis);else{var u=A2e(r,i,e,t);s=u.valueAxis;var c=_Se(i,u.valueDataDim);l=hU(i,c,a)}var f=s.dim==="x"?0:1,d=1-f,h=Jn(r),p={coord:[]};h.type=null,h.coord=[],h.coord[d]=-1/0,p.coord[d]=1/0;var v=n.get("precision");v>=0&&ri(l)&&(l=+l.toFixed(Math.min(v,20))),h.coord[f]=p.coord[f]=l,o=[h,p,{type:a,valueIndex:r.valueIndex,value:l}]}else o=[]}var g=[FC(t,o[0]),FC(t,o[1]),yt({},o[2])];return g[2].type=g[2].type||null,mr(g[2],g[0]),mr(g[2],g[1]),g};function pO(t){return!isNaN(t)&&!isFinite(t)}function Iae(t,e,n,r){var i=1-t,o=r.dimensions[t];return pO(e[i])&&pO(n[i])&&e[t]===n[t]&&r.getAxis(o).containData(e[t])}function I$t(t,e){if(t.type==="cartesian2d"){var n=e[0].coord,r=e[1].coord;if(n&&r&&(Iae(1,n,r,t)||Iae(0,n,r,t)))return!0}return VC(t,e[0])&&VC(t,e[1])}function JB(t,e,n,r,i){var o=r.coordinateSystem,a=t.getItemModel(e),s,l=on(a.get("x"),i.getWidth()),u=on(a.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition)s=r.getMarkerPosition(t.getValues(t.dimensions,e));else{var c=o.dimensions,f=t.get(c[0],e),d=t.get(c[1],e);s=o.dataToPoint([f,d])}if(Py(o,"cartesian2d")){var h=o.getAxis("x"),p=o.getAxis("y"),c=o.dimensions;pO(t.get(c[0],e))?s[0]=h.toGlobalCoord(h.getExtent()[n?0:1]):pO(t.get(c[1],e))&&(s[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}t.setItemLayout(e,s)}var R$t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.updateTransform=function(n,r,i){r.eachSeries(function(o){var a=_h.getMarkerModelFromSeries(o,"markLine");if(a){var s=a.getData(),l=TA(a).from,u=TA(a).to;l.each(function(c){JB(l,c,!0,o,i),JB(u,c,!1,o,i)}),s.each(function(c){s.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},e.prototype.renderSeries=function(n,r,i,o){var a=n.coordinateSystem,s=n.id,l=n.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new D9);this.group.add(c.group);var f=L$t(a,n,r),d=f.from,h=f.to,p=f.line;TA(r).from=d,TA(r).to=h,r.setData(p);var v=r.get("symbol"),g=r.get("symbolSize"),m=r.get("symbolRotate"),y=r.get("symbolOffset");Tt(v)||(v=[v,v]),Tt(g)||(g=[g,g]),Tt(m)||(m=[m,m]),Tt(y)||(y=[y,y]),f.from.each(function(w){b(d,w,!0),b(h,w,!1)}),p.each(function(w){var S=p.getItemModel(w).getModel("lineStyle").getLineStyle();p.setItemLayout(w,[d.getItemLayout(w),h.getItemLayout(w)]),S.stroke==null&&(S.stroke=d.getItemVisual(w,"style").fill),p.setItemVisual(w,{fromSymbolKeepAspect:d.getItemVisual(w,"symbolKeepAspect"),fromSymbolOffset:d.getItemVisual(w,"symbolOffset"),fromSymbolRotate:d.getItemVisual(w,"symbolRotate"),fromSymbolSize:d.getItemVisual(w,"symbolSize"),fromSymbol:d.getItemVisual(w,"symbol"),toSymbolKeepAspect:h.getItemVisual(w,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(w,"symbolOffset"),toSymbolRotate:h.getItemVisual(w,"symbolRotate"),toSymbolSize:h.getItemVisual(w,"symbolSize"),toSymbol:h.getItemVisual(w,"symbol"),style:S})}),c.updateData(p),f.line.eachItemGraphicEl(function(w){ar(w).dataModel=r,w.traverse(function(S){ar(S).dataModel=r})});function b(w,S,x){var C=w.getItemModel(S);JB(w,S,x,n,o);var E=C.getModel("itemStyle").getItemStyle();E.fill==null&&(E.fill=Y2(l,"color")),w.setItemVisual(S,{symbolKeepAspect:C.get("symbolKeepAspect"),symbolOffset:dr(C.get("symbolOffset",!0),y[x?0:1]),symbolRotate:dr(C.get("symbolRotate",!0),m[x?0:1]),symbolSize:dr(C.get("symbolSize"),g[x?0:1]),symbol:dr(C.get("symbol",!0),v[x?0:1]),style:E})}this.markKeep(c),c.group.silent=r.get("silent")||n.get("silent")},e.type="markLine",e})(pU);function L$t(t,e,n){var r;t?r=kt(t&&t.dimensions,function(u){var c=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return yt(yt({},c),{name:u,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new Qs(r,n),o=new Qs(r,n),a=new Qs([],n),s=kt(n.get("data"),hr(O$t,e,t,n));t&&(s=yi(s,hr(I$t,t)));var l=k2e(!!t,r);return i.initData(kt(s,function(u){return u[0]}),null,l),o.initData(kt(s,function(u){return u[1]}),null,l),a.initData(kt(s,function(u){return u[2]})),a.hasItemOption=!0,{from:i,to:o,line:a}}function D$t(t){t.registerComponentModel(P$t),t.registerComponentView(R$t),t.registerPreprocessor(function(e){dU(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var N$t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.createMarkerModelFromSeries=function(n,r,i){return new e(n,r,i)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e})(_h),AA=Qr(),B$t=function(t,e,n,r){var i=r[0],o=r[1];if(!(!i||!o)){var a=FC(t,i),s=FC(t,o),l=a.coord,u=s.coord;l[0]=Va(l[0],-1/0),l[1]=Va(l[1],-1/0),u[0]=Va(u[0],1/0),u[1]=Va(u[1],1/0);var c=dG([{},a,s]);return c.coord=[a.coord,s.coord],c.x0=a.x,c.y0=a.y,c.x1=s.x,c.y1=s.y,c}};function vO(t){return!isNaN(t)&&!isFinite(t)}function Rae(t,e,n,r){var i=1-t;return vO(e[i])&&vO(n[i])}function $$t(t,e){var n=e.coord[0],r=e.coord[1],i={coord:n,x:e.x0,y:e.y0},o={coord:r,x:e.x1,y:e.y1};return Py(t,"cartesian2d")?n&&r&&(Rae(1,n,r)||Rae(0,n,r))?!0:T$t(t,i,o):VC(t,i)||VC(t,o)}function Lae(t,e,n,r,i){var o=r.coordinateSystem,a=t.getItemModel(e),s,l=on(a.get(n[0]),i.getWidth()),u=on(a.get(n[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition){var c=t.getValues(["x0","y0"],e),f=t.getValues(["x1","y1"],e),d=o.clampData(c),h=o.clampData(f),p=[];n[0]==="x0"?p[0]=d[0]>h[0]?f[0]:c[0]:p[0]=d[0]>h[0]?c[0]:f[0],n[1]==="y0"?p[1]=d[1]>h[1]?f[1]:c[1]:p[1]=d[1]>h[1]?c[1]:f[1],s=r.getMarkerPosition(p,n,!0)}else{var v=t.get(n[0],e),g=t.get(n[1],e),m=[v,g];o.clampData&&o.clampData(m,m),s=o.dataToPoint(m,!0)}if(Py(o,"cartesian2d")){var y=o.getAxis("x"),b=o.getAxis("y"),v=t.get(n[0],e),g=t.get(n[1],e);vO(v)?s[0]=y.toGlobalCoord(y.getExtent()[n[0]==="x0"?0:1]):vO(g)&&(s[1]=b.toGlobalCoord(b.getExtent()[n[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var Dae=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],F$t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.updateTransform=function(n,r,i){r.eachSeries(function(o){var a=_h.getMarkerModelFromSeries(o,"markArea");if(a){var s=a.getData();s.each(function(l){var u=kt(Dae,function(f){return Lae(s,l,f,o,i)});s.setItemLayout(l,u);var c=s.getItemGraphicEl(l);c.setShape("points",u)})}},this)},e.prototype.renderSeries=function(n,r,i,o){var a=n.coordinateSystem,s=n.id,l=n.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,{group:new nr});this.group.add(c.group),this.markKeep(c);var f=V$t(a,n,r);r.setData(f),f.each(function(d){var h=kt(Dae,function(E){return Lae(f,d,E,n,o)}),p=a.getAxis("x").scale,v=a.getAxis("y").scale,g=p.getExtent(),m=v.getExtent(),y=[p.parse(f.get("x0",d)),p.parse(f.get("x1",d))],b=[v.parse(f.get("y0",d)),v.parse(f.get("y1",d))];Ul(y),Ul(b);var w=!(g[0]>y[1]||g[1]<y[0]||m[0]>b[1]||m[1]<b[0]),S=!w;f.setItemLayout(d,{points:h,allClipped:S});var x=f.getItemModel(d).getModel("itemStyle").getItemStyle(),C=Y2(l,"color");x.fill||(x.fill=C,fn(x.fill)&&(x.fill=PP(x.fill,.4))),x.stroke||(x.stroke=C),f.setItemVisual(d,"style",x)}),f.diff(AA(c).data).add(function(d){var h=f.getItemLayout(d);if(!h.allClipped){var p=new ul({shape:{points:h.points}});f.setItemGraphicEl(d,p),c.group.add(p)}}).update(function(d,h){var p=AA(c).data.getItemGraphicEl(h),v=f.getItemLayout(d);v.allClipped?p&&c.group.remove(p):(p?si(p,{shape:{points:v.points}},r,d):p=new ul({shape:{points:v.points}}),f.setItemGraphicEl(d,p),c.group.add(p))}).remove(function(d){var h=AA(c).data.getItemGraphicEl(d);c.group.remove(h)}).execute(),f.eachItemGraphicEl(function(d,h){var p=f.getItemModel(h),v=f.getItemVisual(h,"style");d.useStyle(f.getItemVisual(h,"style")),us(d,Pa(p),{labelFetcher:r,labelDataIndex:h,defaultText:f.getName(h)||"",inheritColor:fn(v.fill)?PP(v.fill,1):"#000"}),ls(d,p),go(d,null,null,p.get(["emphasis","disabled"])),ar(d).dataModel=r}),AA(c).data=f,c.group.silent=r.get("silent")||n.get("silent")},e.type="markArea",e})(pU);function V$t(t,e,n){var r,i,o=["x0","y0","x1","y1"];if(t){var a=kt(t&&t.dimensions,function(u){var c=e.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return yt(yt({},f),{name:u,ordinalMeta:null})});i=kt(o,function(u,c){return{name:u,type:a[c%2].type}}),r=new Qs(i,n)}else i=[{name:"value",type:"float"}],r=new Qs(i,n);var s=kt(n.get("data"),hr(B$t,e,t,n));t&&(s=yi(s,hr($$t,t)));var l=t?function(u,c,f,d){var h=u.coord[Math.floor(d/2)][d%2];return Yp(h,i[d])}:function(u,c,f,d){return Yp(u.value,i[d])};return r.initData(s,null,l),r.hasItemOption=!0,r}function z$t(t){t.registerComponentModel(N$t),t.registerComponentView(F$t),t.registerPreprocessor(function(e){dU(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var H$t=function(t,e){if(e==="all")return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}},M6=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i),n.selected=n.selected||{},this._updateSelector(n)},e.prototype.mergeOption=function(n,r){t.prototype.mergeOption.call(this,n,r),this._updateSelector(n)},e.prototype._updateSelector=function(n){var r=n.selector,i=this.ecModel;r===!0&&(r=n.selector=["all","inverse"]),Tt(r)&&ie(r,function(o,a){fn(o)&&(o={type:o}),r[a]=mr(o,H$t(i,o.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<n.length;i++){var o=n[i].get("name");if(this.isSelected(o)){this.select(o),r=!0;break}}!r&&this.select(n[0].get("name"))}},e.prototype._updateData=function(n){var r=[],i=[];n.eachRawSeries(function(l){var u=l.name;i.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,d=f.getAllNames();n.isSeriesFiltered(l)||(i=i.concat(d)),d.length?r=r.concat(d):c=!0}else c=!0;c&&EG(l)&&r.push(l.name)}),this._availableNames=i;var o=this.get("data")||r,a=Mn(),s=kt(o,function(l){return(fn(l)||ri(l))&&(l={name:l}),a.get(l.name)?null:(a.set(l.name,!0),new Ci(l,this,this.ecModel))},this);this._data=yi(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(n){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var o=this._data;ie(o,function(a){r[a.get("name")]=!1})}r[n]=!0},e.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},e.prototype.toggleSelected=function(n){var r=this.option.selected;r.hasOwnProperty(n)||(r[n]=!0),this[r[n]?"unSelect":"select"](n)},e.prototype.allSelect=function(){var n=this._data,r=this.option.selected;ie(n,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var n=this._data,r=this.option.selected;ie(n,function(i){var o=i.get("name",!0);r.hasOwnProperty(o)||(r[o]=!0),r[o]=!r[o]})},e.prototype.isSelected=function(n){var r=this.option.selected;return!(r.hasOwnProperty(n)&&!r[n])&&Mr(this._availableNames,n)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e})(Gr),T0=hr,P6=ie,kA=nr,M2e=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return e.prototype.init=function(){this.group.add(this._contentGroup=new kA),this.group.add(this._selectorGroup=new kA),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(n,r,i){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var a=n.get("align"),s=n.get("orient");(!a||a==="auto")&&(a=n.get("left")==="right"&&s==="vertical"?"right":"left");var l=n.get("selector",!0),u=n.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(a,n,r,i,l,s,u);var c=n.getBoxLayoutParams(),f={width:i.getWidth(),height:i.getHeight()},d=n.get("padding"),h=ha(c,f,d),p=this.layoutInner(n,a,h,o,l,u),v=ha(Yn({width:p.width,height:p.height},c),f,d);this.group.x=v.x-p.x,this.group.y=v.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=m2e(p,n))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(n,r,i,o,a,s,l){var u=this.getContentGroup(),c=Mn(),f=r.get("selectedMode"),d=[];i.eachRawSeries(function(h){!h.get("legendHoverLink")&&d.push(h.id)}),P6(r.getData(),function(h,p){var v=h.get("name");if(!this.newlineDisabled&&(v===""||v===`
`)){var g=new kA;g.newline=!0,u.add(g);return}var m=i.getSeriesByName(v)[0];if(!c.get(v))if(m){var y=m.getData(),b=y.getVisual("legendLineStyle")||{},w=y.getVisual("legendIcon"),S=y.getVisual("style"),x=this._createItem(m,v,p,h,r,n,b,S,w,f,o);x.on("click",T0(Nae,v,null,o,d)).on("mouseover",T0(O6,m.name,null,o,d)).on("mouseout",T0(I6,m.name,null,o,d)),i.ssr&&x.eachChild(function(C){var E=ar(C);E.seriesIndex=m.seriesIndex,E.dataIndex=p,E.ssrType="legend"}),c.set(v,!0)}else i.eachRawSeries(function(C){if(!c.get(v)&&C.legendVisualProvider){var E=C.legendVisualProvider;if(!E.containName(v))return;var T=E.indexOfName(v),A=E.getItemVisual(T,"style"),k=E.getItemVisual(T,"legendIcon"),M=Ql(A.fill);M&&M[3]===0&&(M[3]=.2,A=yt(yt({},A),{fill:Zd(M,"rgba")}));var D=this._createItem(C,v,p,h,r,n,{},A,k,f,o);D.on("click",T0(Nae,null,v,o,d)).on("mouseover",T0(O6,null,v,o,d)).on("mouseout",T0(I6,null,v,o,d)),i.ssr&&D.eachChild(function(L){var I=ar(L);I.seriesIndex=C.seriesIndex,I.dataIndex=p,I.ssrType="legend"}),c.set(v,!0)}},this)},this),a&&this._createSelector(a,r,o,s,l)},e.prototype._createSelector=function(n,r,i,o,a){var s=this.getSelectorGroup();P6(n,function(u){var c=u.type,f=new ti({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:r.id})}});s.add(f);var d=r.getModel("selectorLabel"),h=r.getModel(["emphasis","selectorLabel"]);us(f,{normal:d,emphasis:h},{defaultText:u.title}),Em(f)})},e.prototype._createItem=function(n,r,i,o,a,s,l,u,c,f,d){var h=n.visualDrawType,p=a.get("itemWidth"),v=a.get("itemHeight"),g=a.isSelected(r),m=o.get("symbolRotate"),y=o.get("symbolKeepAspect"),b=o.get("icon");c=b||c||"roundRect";var w=j$t(c,o,l,u,h,g,d),S=new kA,x=o.getModel("textStyle");if(qn(n.getLegendIcon)&&(!b||b==="inherit"))S.add(n.getLegendIcon({itemWidth:p,itemHeight:v,icon:c,iconRotate:m,itemStyle:w.itemStyle,lineStyle:w.lineStyle,symbolKeepAspect:y}));else{var C=b==="inherit"&&n.getData().getVisual("symbol")?m==="inherit"?n.getData().getVisual("symbolRotate"):m:0;S.add(G$t({itemWidth:p,itemHeight:v,icon:c,iconRotate:C,itemStyle:w.itemStyle,symbolKeepAspect:y}))}var E=s==="left"?p+5:-5,T=s,A=a.get("formatter"),k=r;fn(A)&&A?k=A.replace("{name}",r??""):qn(A)&&(k=A(r));var M=g?x.getTextColor():o.get("inactiveColor");S.add(new ti({style:Gi(x,{text:k,x:E,y:v/2,fill:M,align:T,verticalAlign:"middle"},{inheritColor:M})}));var D=new Jr({shape:S.getBoundingRect(),style:{fill:"transparent"}}),L=o.getModel("tooltip");return L.get("show")&&Ty({el:D,componentModel:a,itemName:r,itemTooltipOption:L.option}),S.add(D),S.eachChild(function(I){I.silent=!0}),D.silent=!f,this.getContentGroup().add(S),Em(S),S.__legendDataIndex=i,S},e.prototype.layoutInner=function(n,r,i,o,a,s){var l=this.getContentGroup(),u=this.getSelectorGroup();Am(n.get("orient"),l,n.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),a){Am("horizontal",u,n.get("selectorItemGap",!0));var d=u.getBoundingRect(),h=[-d.x,-d.y],p=n.get("selectorButtonGap",!0),v=n.getOrient().index,g=v===0?"width":"height",m=v===0?"height":"width",y=v===0?"y":"x";s==="end"?h[v]+=c[g]+p:f[v]+=d[g]+p,h[1-v]+=c[m]/2-d[m]/2,u.x=h[0],u.y=h[1],l.x=f[0],l.y=f[1];var b={x:0,y:0};return b[g]=c[g]+p+d[g],b[m]=Math.max(c[m],d[m]),b[y]=Math.min(0,d[y]+h[1-v]),b}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e})(so);function j$t(t,e,n,r,i,o,a){function s(g,m){g.lineWidth==="auto"&&(g.lineWidth=m.lineWidth>0?2:0),P6(g,function(y,b){g[b]==="inherit"&&(g[b]=m[b])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),c=t.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?r.decal:D1(f,a),u.fill==="inherit"&&(u.fill=r[i]),u.stroke==="inherit"&&(u.stroke=r[c]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?r:n).opacity),s(u,r);var d=e.getModel("lineStyle"),h=d.getLineStyle();if(s(h,n),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),!o){var p=e.get("inactiveBorderWidth"),v=u[c];u.lineWidth=p==="auto"?r.lineWidth>0&&v?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),h.stroke=d.get("inactiveColor"),h.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}function G$t(t){var e=t.icon||"roundRect",n=ra(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return n.setStyle(t.itemStyle),n.rotation=(t.iconRotate||0)*Math.PI/180,n.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function Nae(t,e,n,r){I6(t,e,n,r),n.dispatchAction({type:"legendToggleSelect",name:t??e}),O6(t,e,n,r)}function P2e(t){for(var e=t.getZr().storage.getDisplayList(),n,r=0,i=e.length;r<i&&!(n=e[r].states.emphasis);)r++;return n&&n.hoverLayer}function O6(t,e,n,r){P2e(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:r})}function I6(t,e,n,r){P2e(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:r})}function U$t(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(n){for(var r=0;r<e.length;r++)if(!e[r].isSelected(n.name))return!1;return!0})}function Ww(t,e,n){var r=t==="allSelect"||t==="inverseSelect",i={},o=[];n.eachComponent({mainType:"legend",query:e},function(s){r?s[t]():s[t](e.name),Bae(s,i),o.push(s.componentIndex)});var a={};return n.eachComponent("legend",function(s){ie(i,function(l,u){s[l?"select":"unSelect"](u)}),Bae(s,a)}),r?{selected:a,legendIndex:o}:{name:e.name,selected:a}}function Bae(t,e){var n=e||{};return ie(t.getData(),function(r){var i=r.get("name");if(!(i===`
`||i==="")){var o=t.isSelected(i);Cn(n,i)?n[i]=n[i]&&o:n[i]=o}}),n}function W$t(t){t.registerAction("legendToggleSelect","legendselectchanged",hr(Ww,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",hr(Ww,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",hr(Ww,"inverseSelect")),t.registerAction("legendSelect","legendselected",hr(Ww,"select")),t.registerAction("legendUnSelect","legendunselected",hr(Ww,"unSelect"))}function O2e(t){t.registerComponentModel(M6),t.registerComponentView(M2e),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,U$t),t.registerSubTypeDefaulter("legend",function(){return"plain"}),W$t(t)}var q$t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},e.prototype.init=function(n,r,i){var o=L_(n);t.prototype.init.call(this,n,r,i),$ae(this,n,o)},e.prototype.mergeOption=function(n,r){t.prototype.mergeOption.call(this,n,r),$ae(this,this.option,n)},e.type="legend.scroll",e.defaultOption=$v(M6.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e})(M6);function $ae(t,e,n){var r=t.getOrient(),i=[1,1];i[r.index]=0,bv(e,n,{type:"box",ignoreSize:!!i})}var Fae=nr,QB=["width","height"],e$=["x","y"],K$t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new Fae),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Fae)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(n,r,i,o,a,s,l){var u=this;t.prototype.renderInner.call(this,n,r,i,o,a,s,l);var c=this._controllerGroup,f=r.get("pageIconSize",!0),d=Tt(f)?f:[f,f];p("pagePrev",0);var h=r.getModel("pageTextStyle");c.add(new ti({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(v,g){var m=v+"DataIndex",y=q2(r.get("pageIcons",!0)[r.getOrient().name][g],{onclick:vn(u._pageGo,u,m,r,o)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});y.name=v,c.add(y)}},e.prototype.layoutInner=function(n,r,i,o,a,s){var l=this.getSelectorGroup(),u=n.getOrient().index,c=QB[u],f=e$[u],d=QB[1-u],h=e$[1-u];a&&Am("horizontal",l,n.get("selectorItemGap",!0));var p=n.get("selectorButtonGap",!0),v=l.getBoundingRect(),g=[-v.x,-v.y],m=Jn(i);a&&(m[c]=i[c]-v[c]-p);var y=this._layoutContentAndController(n,o,m,u,c,d,h,f);if(a){if(s==="end")g[u]+=y[c]+p;else{var b=v[c]+p;g[u]-=b,y[f]-=b}y[c]+=v[c]+p,g[1-u]+=y[h]+y[d]/2-v[d]/2,y[d]=Math.max(y[d],v[d]),y[h]=Math.min(y[h],v[h]+g[1-u]),l.x=g[0],l.y=g[1],l.markRedraw()}return y},e.prototype._layoutContentAndController=function(n,r,i,o,a,s,l,u){var c=this.getContentGroup(),f=this._containerGroup,d=this._controllerGroup;Am(n.get("orient"),c,n.get("itemGap"),o?i.width:null,o?null:i.height),Am("horizontal",d,n.get("pageButtonItemGap",!0));var h=c.getBoundingRect(),p=d.getBoundingRect(),v=this._showController=h[a]>i[a],g=[-h.x,-h.y];r||(g[o]=c[u]);var m=[0,0],y=[-p.x,-p.y],b=dr(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(v){var w=n.get("pageButtonPosition",!0);w==="end"?y[o]+=i[a]-p[a]:m[o]+=p[a]+b}y[1-o]+=h[s]/2-p[s]/2,c.setPosition(g),f.setPosition(m),d.setPosition(y);var S={x:0,y:0};if(S[a]=v?i[a]:h[a],S[s]=Math.max(h[s],p[s]),S[l]=Math.min(0,p[l]+y[1-o]),f.__rectSize=i[a],v){var x={x:0,y:0};x[a]=Math.max(i[a]-p[a]-b,0),x[s]=S[s],f.setClipPath(new Jr({shape:x})),f.__rectSize=x[a]}else d.eachChild(function(E){E.attr({invisible:!0,silent:!0})});var C=this._getPageInfo(n);return C.pageIndex!=null&&si(c,{x:C.contentPosition[0],y:C.contentPosition[1]},v?n:null),this._updatePageInfoView(n,C),S},e.prototype._pageGo=function(n,r,i){var o=this._getPageInfo(r)[n];o!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:r.id})},e.prototype._updatePageInfoView=function(n,r){var i=this._controllerGroup;ie(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",d=r[f]!=null,h=i.childOfName(c);h&&(h.setStyle("fill",d?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),h.cursor=d?"pointer":"default")});var o=i.childOfName("pageText"),a=n.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;o&&a&&o.setStyle("text",fn(a)?a.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):a({current:l,total:u}))},e.prototype._getPageInfo=function(n){var r=n.get("scrollDataIndex",!0),i=this.getContentGroup(),o=this._containerGroup.__rectSize,a=n.getOrient().index,s=QB[a],l=e$[a],u=this._findTargetItemIndex(r),c=i.children(),f=c[u],d=c.length,h=d?1:0,p={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return p;var v=w(f);p.contentPosition[a]=-v.s;for(var g=u+1,m=v,y=v,b=null;g<=d;++g)b=w(c[g]),(!b&&y.e>m.s+o||b&&!S(b,m.s))&&(y.i>m.i?m=y:m=b,m&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=m.i),++p.pageCount)),y=b;for(var g=u-1,m=v,y=v,b=null;g>=-1;--g)b=w(c[g]),(!b||!S(y,b.s))&&m.i<y.i&&(y=m,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=m.i),++p.pageCount,++p.pageIndex),m=b;return p;function w(x){if(x){var C=x.getBoundingRect(),E=C[l]+x[l];return{s:E,e:E+C[s],i:x.__legendDataIndex}}}function S(x,C){return x.e>=C&&x.s<=C+o}},e.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var r,i=this.getContentGroup(),o;return i.eachChild(function(a,s){var l=a.__legendDataIndex;o==null&&l!=null&&(o=s),l===n&&(r=s)}),r??o},e.type="legend.scroll",e})(M2e);function Y$t(t){t.registerAction("legendScroll","legendscroll",function(e,n){var r=e.scrollDataIndex;r!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function X$t(t){Dr(O2e),t.registerComponentModel(q$t),t.registerComponentView(K$t),Y$t(t)}function Z$t(t){Dr(O2e),Dr(X$t)}var J$t=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="dataZoom.inside",e.defaultOption=$v($C.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e})($C),vU=Qr();function Q$t(t,e,n){vU(t).coordSysRecordMap.each(function(r){var i=r.dataZoomInfoMap.get(e.uid);i&&(i.getRange=n)})}function eFt(t,e){for(var n=vU(t).coordSysRecordMap,r=n.keys(),i=0;i<r.length;i++){var o=r[i],a=n.get(o),s=a.dataZoomInfoMap;if(s){var l=e.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||I2e(n,a))}}}function I2e(t,e){if(e){t.removeKey(e.model.uid);var n=e.controller;n&&n.dispose()}}function tFt(t,e){var n={model:e,containsPoint:hr(rFt,e),dispatchAction:hr(nFt,t),dataZoomInfoMap:null,controller:null},r=n.controller=new iE(t.getZr());return ie(["pan","zoom","scrollMove"],function(i){r.on(i,function(o){var a=[];n.dataZoomInfoMap.each(function(s){if(o.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[i],u=l&&l(s.dzReferCoordSysInfo,n.model.mainType,n.controller,o);!s.model.get("disabled",!0)&&u&&a.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),a.length&&n.dispatchAction(a)})}),n}function nFt(t,e){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function rFt(t,e,n,r){return t.coordinateSystem.containPoint([n,r])}function iFt(t){var e,n="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return t.each(function(o){var a=o.model,s=a.get("disabled",!0)?!1:a.get("zoomLock",!0)?"move":!0;r[n+s]>r[n+e]&&(e=s),i=i&&a.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function oFt(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,function(e,n){var r=vU(n),i=r.coordSysRecordMap||(r.coordSysRecordMap=Mn());i.each(function(o){o.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){var a=p2e(o);ie(a.infoList,function(s){var l=s.model.uid,u=i.get(l)||i.set(l,tFt(n,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Mn());c.set(o.uid,{dzReferCoordSysInfo:s,model:o,getRange:null})})}),i.each(function(o){var a=o.controller,s,l=o.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){I2e(i,o);return}var c=iFt(l);a.enable(c.controlType,c.opt),a.setPointerChecker(o.containsPoint),B_(o,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var aFt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="dataZoom.inside",n}return e.prototype.render=function(n,r,i){if(t.prototype.render.apply(this,arguments),n.noTarget()){this._clear();return}this.range=n.getPercentRange(),Q$t(i,n,{pan:vn(t$.pan,this),zoom:vn(t$.zoom,this),scrollMove:vn(t$.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){eFt(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e})(aU),t$={zoom:function(t,e,n,r){var i=this.range,o=i.slice(),a=t.axisModels[0];if(a){var s=n$[e](null,[r.originX,r.originY],a,n,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/r.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Iy(0,o,[0,100],0,c.minSpan,c.maxSpan),this.range=o,i[0]!==o[0]||i[1]!==o[1])return o}},pan:Vae(function(t,e,n,r,i,o){var a=n$[r]([o.oldX,o.oldY],[o.newX,o.newY],e,i,n);return a.signal*(t[1]-t[0])*a.pixel/a.pixelLength}),scrollMove:Vae(function(t,e,n,r,i,o){var a=n$[r]([0,0],[o.scrollDelta,o.scrollDelta],e,i,n);return a.signal*(t[1]-t[0])*o.scrollDelta})};function Vae(t){return function(e,n,r,i){var o=this.range,a=o.slice(),s=e.axisModels[0];if(s){var l=t(a,s,e,n,r,i);if(Iy(l,a,[0,100],"all"),this.range=a,o[0]!==a[0]||o[1]!==a[1])return a}}}var n$={grid:function(t,e,n,r,i){var o=n.axis,a={},s=i.model.coordinateSystem.getRect();return t=t||[0,0],o.dim==="x"?(a.pixel=e[0]-t[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(t,e,n,r,i){var o=n.axis,a={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),n.mainType==="radiusAxis"?(a.pixel=e[0]-t[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=u[1]-u[0],a.pixelStart=u[0],a.signal=o.inverse?-1:1),a},singleAxis:function(t,e,n,r,i){var o=n.axis,a=i.model.coordinateSystem.getRect(),s={};return t=t||[0,0],o.orient==="horizontal"?(s.pixel=e[0]-t[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}};function R2e(t){sU(t),t.registerComponentModel(J$t),t.registerComponentView(aFt),oFt(t)}var sFt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=$v($C.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e})($C),qw=Jr,zae=7,lFt=1,r$=30,uFt=7,Kw="horizontal",Hae="vertical",cFt=5,fFt=["line","bar","candlestick","scatter"],dFt={easing:"cubicOut",duration:100,delay:0},hFt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._displayables={},n}return e.prototype.init=function(n,r){this.api=r,this._onBrush=vn(this._onBrush,this),this._onBrushEnd=vn(this._onBrushEnd,this)},e.prototype.render=function(n,r,i,o){if(t.prototype.render.apply(this,arguments),B_(this,"_dispatchZoomAction",n.get("throttle"),"fixRate"),this._orient=n.getOrient(),n.get("show")===!1){this.group.removeAll();return}if(n.noTarget()){this._clear(),this.group.removeAll();return}(!o||o.type!=="dataZoom"||o.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){EC(this,"_dispatchZoomAction");var n=this.api.getZr();n.off("mousemove",this._onBrush),n.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var n=this.group;n.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new nr;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),n.add(r),this._positionGroup()},e.prototype._resetLocation=function(){var n=this.dataZoomModel,r=this.api,i=n.get("brushSelect"),o=i?uFt:0,a=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===Kw?{right:s.width-a.x-a.width,top:s.height-r$-zae-o,width:a.width,height:r$}:{right:zae,top:a.y,width:r$,height:a.height},u=L_(n.option);ie(["right","top","width","height"],function(f){u[f]==="ph"&&(u[f]=l[f])});var c=ha(u,s);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===Hae&&this._size.reverse()},e.prototype._positionGroup=function(){var n=this.group,r=this._location,i=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),a=o&&o.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(i===Kw&&!a?{scaleY:l?1:-1,scaleX:1}:i===Kw&&a?{scaleY:l?1:-1,scaleX:-1}:i===Hae&&!a?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=n.getBoundingRect([s]);n.x=r.x-u.x,n.y=r.y-u.y,n.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var n=this.dataZoomModel,r=this._size,i=this._displayables.sliderGroup,o=n.get("brushSelect");i.add(new qw({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:n.get("backgroundColor")},z2:-40}));var a=new qw({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:vn(this._onClickPanel,this)}),s=this.api.getZr();o?(a.on("mousedown",this._onBrushStart,this),a.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),i.add(a)},e.prototype._renderDataShadow=function(){var n=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!n)return;var r=this._size,i=this._shadowSize||[],o=n.series,a=o.getRawData(),s=o.getShadowDim&&o.getShadowDim(),l=s&&a.getDimensionInfo(s)?o.getShadowDim():n.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(a!==this._shadowData||l!==this._shadowDim||r[0]!==i[0]||r[1]!==i[1]){var f=a.getDataExtent(l),d=(f[1]-f[0])*.3;f=[f[0]-d,f[1]+d];var h=[0,r[1]],p=[0,r[0]],v=[[r[0],0],[0,0]],g=[],m=p[1]/(a.count()-1),y=0,b=Math.round(a.count()/r[0]),w;a.each([l],function(T,A){if(b>0&&A%b){y+=m;return}var k=T==null||isNaN(T)||T==="",M=k?0:gi(T,f,h,!0);k&&!w&&A?(v.push([v[v.length-1][0],0]),g.push([g[g.length-1][0],0])):!k&&w&&(v.push([y,0]),g.push([y,0])),v.push([y,M]),g.push([y,M]),y+=m,w=k}),u=this._shadowPolygonPts=v,c=this._shadowPolylinePts=g}this._shadowData=a,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var S=this.dataZoomModel;function x(T){var A=S.getModel(T?"selectedDataBackground":"dataBackground"),k=new nr,M=new ul({shape:{points:u},segmentIgnoreThreshold:1,style:A.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),D=new cl({shape:{points:c},segmentIgnoreThreshold:1,style:A.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return k.add(M),k.add(D),k}for(var C=0;C<3;C++){var E=x(C===1);this._displayables.sliderGroup.add(E),this._displayables.dataShadowSegs.push(E)}},e.prototype._prepareDataShadowInfo=function(){var n=this.dataZoomModel,r=n.get("showDataShadow");if(r!==!1){var i,o=this.ecModel;return n.eachTargetAxis(function(a,s){var l=n.getAxisProxy(a,s).getTargetSeriesModels();ie(l,function(u){if(!i&&!(r!==!0&&Mr(fFt,u.get("type"))<0)){var c=o.getComponent(Bp(a),s).axis,f=pFt(a),d,h=u.coordinateSystem;f!=null&&h.getOtherAxis&&(d=h.getOtherAxis(c).inverse),f=u.getData().mapDimension(f),i={thisAxis:c,series:u,thisDim:a,otherDim:f,otherAxisInverse:d}}},this)},this),i}},e.prototype._renderHandle=function(){var n=this.group,r=this._displayables,i=r.handles=[null,null],o=r.handleLabels=[null,null],a=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),d=r.filler=new qw({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});a.add(d),a.add(new qw({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:lFt,fill:"rgba(0,0,0,0)"}})),ie([0,1],function(b){var w=l.get("handleIcon");!UP[w]&&w.indexOf("path://")<0&&w.indexOf("image://")<0&&(w="path://"+w);var S=ra(w,-1,0,2,2,null,!0);S.attr({cursor:jae(this._orient),draggable:!0,drift:vn(this._onDragMove,this,b),ondragend:vn(this._onDragEnd,this),onmouseover:vn(this._showDataInfo,this,!0),onmouseout:vn(this._showDataInfo,this,!1),z2:5});var x=S.getBoundingRect(),C=l.get("handleSize");this._handleHeight=on(C,this._size[1]),this._handleWidth=x.width/x.height*this._handleHeight,S.setStyle(l.getModel("handleStyle").getItemStyle()),S.style.strokeNoScale=!0,S.rectHover=!0,S.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Em(S);var E=l.get("handleColor");E!=null&&(S.style.fill=E),a.add(i[b]=S);var T=l.getModel("textStyle"),A=l.get("handleLabel")||{},k=A.show||!1;n.add(o[b]=new ti({silent:!0,invisible:!k,style:Gi(T,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:T.getTextColor(),font:T.getFont()}),z2:10}))},this);var h=d;if(f){var p=on(l.get("moveHandleSize"),s[1]),v=r.moveHandle=new Jr({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:p}}),g=p*.8,m=r.moveHandleIcon=ra(l.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);m.silent=!0,m.y=s[1]+p/2-.5,v.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(s[1]/2,Math.max(p,10));h=r.moveZone=new Jr({invisible:!0,shape:{y:s[1]-y,height:p+y}}),h.on("mouseover",function(){u.enterEmphasis(v)}).on("mouseout",function(){u.leaveEmphasis(v)}),a.add(v),a.add(m),a.add(h)}h.attr({draggable:!0,cursor:jae(this._orient),drift:vn(this._onDragMove,this,"all"),ondragstart:vn(this._showDataInfo,this,!0),ondragend:vn(this._onDragEnd,this),onmouseover:vn(this._showDataInfo,this,!0),onmouseout:vn(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var n=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[gi(n[0],[0,100],r,!0),gi(n[1],[0,100],r,!0)]},e.prototype._updateInterval=function(n,r){var i=this.dataZoomModel,o=this._handleEnds,a=this._getViewExtent(),s=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Iy(r,o,a,i.get("zoomLock")?"all":n,s.minSpan!=null?gi(s.minSpan,l,a,!0):null,s.maxSpan!=null?gi(s.maxSpan,l,a,!0):null);var u=this._range,c=this._range=Ul([gi(o[0],a,l,!0),gi(o[1],a,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},e.prototype._updateView=function(n){var r=this._displayables,i=this._handleEnds,o=Ul(i.slice()),a=this._size;ie([0,1],function(h){var p=r.handles[h],v=this._handleHeight;p.attr({scaleX:v/2,scaleY:v/2,x:i[h]+(h?-1:1),y:a[1]/2-v/2})},this),r.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:a[1]});var s={x:o[0],width:o[1]-o[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,o[0],o[1],a[0]],c=0;c<l.length;c++){var f=l[c],d=f.getClipPath();d||(d=new Jr,f.setClipPath(d)),d.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:a[1]})}this._updateDataInfo(n)},e.prototype._updateDataInfo=function(n){var r=this.dataZoomModel,i=this._displayables,o=i.handleLabels,a=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=n?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var d=Ul(this._handleEnds.slice());h.call(this,0),h.call(this,1);function h(p){var v=Tm(i.handles[p].parent,this.group),g=RR(p===0?"right":"left",v),m=this._handleWidth/2+cFt,y=Cc([d[p]+(p===0?-m:m),this._size[1]/2],v);o[p].setStyle({x:y[0],y:y[1],verticalAlign:a===Kw?"middle":g,align:a===Kw?g:"center",text:s[p]})}},e.prototype._formatLabel=function(n,r){var i=this.dataZoomModel,o=i.get("labelFormatter"),a=i.get("labelPrecision");(a==null||a==="auto")&&(a=r.getPixelPrecision());var s=n==null||isNaN(n)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(n)}):n.toFixed(Math.min(a,20));return qn(o)?o(n,s):fn(o)?o.replace("{value}",s):s},e.prototype._showDataInfo=function(n){var r=this.dataZoomModel.get("handleLabel")||{},i=r.show||!1,o=this.dataZoomModel.getModel(["emphasis","handleLabel"]),a=o.get("show")||!1,s=n||this._dragging?a:i,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!s),u[1].attr("invisible",!s),l.moveHandle&&this.api[s?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},e.prototype._onDragMove=function(n,r,i,o){this._dragging=!0,ph(o.event);var a=this._displayables.sliderGroup.getLocalTransform(),s=Cc([r,i],a,!0),l=this._updateInterval(n,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var n=this.dataZoomModel.get("realtime");!n&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(n){var r=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(n.offsetX,n.offsetY);if(!(i[0]<0||i[0]>r[0]||i[1]<0||i[1]>r[1])){var o=this._handleEnds,a=(o[0]+o[1])/2,s=this._updateInterval("all",i[0]-a);this._updateView(),s&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(n){var r=n.offsetX,i=n.offsetY;this._brushStart=new _r(r,i),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(n){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var i=r.shape,o=+new Date;if(!(o-this._brushStartTime<200&&Math.abs(i.width)<5)){var a=this._getViewExtent(),s=[0,100];this._range=Ul([gi(i.x,a,s,!0),gi(i.x+i.width,a,s,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(n){this._brushing&&(ph(n.event),this._updateBrushRect(n.offsetX,n.offsetY))},e.prototype._updateBrushRect=function(n,r){var i=this._displayables,o=this.dataZoomModel,a=i.brushRect;a||(a=i.brushRect=new qw({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(a)),a.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(n,r),c=l.transformCoordToLocal(s.x,s.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),a.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},e.prototype._dispatchZoomAction=function(n){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:n?dFt:null,start:r[0],end:r[1]})},e.prototype._findCoordRect=function(){var n,r=p2e(this.dataZoomModel).infoList;if(!n&&r.length){var i=r[0].model.coordinateSystem;n=i.getRect&&i.getRect()}if(!n){var o=this.api.getWidth(),a=this.api.getHeight();n={x:o*.2,y:a*.2,width:o*.6,height:a*.6}}return n},e.type="dataZoom.slider",e})(aU);function pFt(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t]}function jae(t){return t==="vertical"?"ns-resize":"ew-resize"}function L2e(t){t.registerComponentModel(sFt),t.registerComponentView(hFt),sU(t)}function vFt(t){Dr(R2e),Dr(L2e)}var D2e={get:function(t,e,n){var r=Jn((gFt[t]||{})[e]);return n&&Tt(r)?r[r.length-1]:r}},gFt={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Gae=Ta.mapVisual,mFt=Ta.eachVisual,yFt=Tt,Uae=ie,bFt=Ul,_Ft=gi,gO=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i)},e.prototype.optionUpdated=function(n,r){var i=this.option;!r&&C2e(i,n,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(n){var r=this.stateList;n=vn(n,this),this.controllerVisuals=T6(this.option.controller,r,n),this.targetVisuals=T6(this.option.target,r,n)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var n=this.option.seriesIndex,r=[];return n==null||n==="all"?this.ecModel.eachSeries(function(i,o){r.push(o)}):r=Mi(n),r},e.prototype.eachTargetSeries=function(n,r){ie(this.getTargetSeriesIndices(),function(i){var o=this.ecModel.getSeriesByIndex(i);o&&n.call(r,o)},this)},e.prototype.isTargetSeries=function(n){var r=!1;return this.eachTargetSeries(function(i){i===n&&(r=!0)}),r},e.prototype.formatValueText=function(n,r,i){var o=this.option,a=o.precision,s=this.dataBound,l=o.formatter,u;i=i||["<",">"],Tt(n)&&(n=n.slice(),u=!0);var c=r?n:u?[f(n[0]),f(n[1])]:f(n);if(fn(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(qn(l))return u?l(n[0],n[1]):l(n);if(u)return n[0]===s[0]?i[0]+" "+c[1]:n[1]===s[1]?i[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(d){return d===s[0]?"min":d===s[1]?"max":(+d).toFixed(Math.min(a,20))}},e.prototype.resetExtent=function(){var n=this.option,r=bFt([n.min,n.max]);this._dataExtent=r},e.prototype.getDataDimensionIndex=function(n){var r=this.option.dimension;if(r!=null)return n.getDimensionIndex(r);for(var i=n.dimensions,o=i.length-1;o>=0;o--){var a=i[o],s=n.getDimensionInfo(a);if(!s.isCalculationCoord)return s.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var n=this.ecModel,r=this.option,i={inRange:r.inRange,outOfRange:r.outOfRange},o=r.target||(r.target={}),a=r.controller||(r.controller={});mr(o,i),mr(a,i);var s=this.isCategory();l.call(this,o),l.call(this,a),u.call(this,o,"inRange","outOfRange"),c.call(this,a);function l(f){yFt(r.color)&&!f.inRange&&(f.inRange={color:r.color.slice().reverse()}),f.inRange=f.inRange||{color:n.get("gradientColor")}}function u(f,d,h){var p=f[d],v=f[h];p&&!v&&(v=f[h]={},Uae(p,function(g,m){if(Ta.isValidType(m)){var y=D2e.get(m,"inactive",s);y!=null&&(v[m]=y,m==="color"&&!v.hasOwnProperty("opacity")&&!v.hasOwnProperty("colorAlpha")&&(v.opacity=[0,0]))}}))}function c(f){var d=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,h=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),v=this.getItemSymbol(),g=v||"roundRect";Uae(this.stateList,function(m){var y=this.itemSize,b=f[m];b||(b=f[m]={color:s?p:[p]}),b.symbol==null&&(b.symbol=d&&Jn(d)||(s?g:[g])),b.symbolSize==null&&(b.symbolSize=h&&Jn(h)||(s?y[0]:[y[0],y[0]])),b.symbol=Gae(b.symbol,function(x){return x==="none"?g:x});var w=b.symbolSize;if(w!=null){var S=-1/0;mFt(w,function(x){x>S&&(S=x)}),b.symbolSize=Gae(w,function(x){return _Ft(x,[0,S],[0,y[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(n){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(n){return null},e.prototype.getVisualMeta=function(n){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e})(Gr),Wae=[20,140],wFt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.optionUpdated=function(n,r){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var n=this.itemSize;(n[0]==null||isNaN(n[0]))&&(n[0]=Wae[0]),(n[1]==null||isNaN(n[1]))&&(n[1]=Wae[1])},e.prototype._resetRange=function(){var n=this.getExtent(),r=this.option.range;!r||r.auto?(n.auto=1,this.option.range=n):Tt(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],n[0]),r[1]=Math.min(r[1],n[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),ie(this.stateList,function(n){var r=this.option.controller[n].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},e.prototype.setSelected=function(n){this.option.range=n.slice(),this._resetRange()},e.prototype.getSelected=function(){var n=this.getExtent(),r=Ul((this.get("range")||[]).slice());return r[0]>n[1]&&(r[0]=n[1]),r[1]>n[1]&&(r[1]=n[1]),r[0]<n[0]&&(r[0]=n[0]),r[1]<n[0]&&(r[1]=n[0]),r},e.prototype.getValueState=function(n){var r=this.option.range,i=this.getExtent();return(r[0]<=i[0]||r[0]<=n)&&(r[1]>=i[1]||n<=r[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(n){var r=[];return this.eachTargetSeries(function(i){var o=[],a=i.getData();a.each(this.getDataDimensionIndex(a),function(s,l){n[0]<=s&&s<=n[1]&&o.push(l)},this),r.push({seriesId:i.id,dataIndex:o})},this),r},e.prototype.getVisualMeta=function(n){var r=qae(this,"outOfRange",this.getExtent()),i=qae(this,"inRange",this.option.range.slice()),o=[];function a(h,p){o.push({value:h,color:n(h,p)})}for(var s=0,l=0,u=i.length,c=r.length;l<c&&(!i.length||r[l]<=i[0]);l++)r[l]<i[s]&&a(r[l],"outOfRange");for(var f=1;s<u;s++,f=0)f&&o.length&&a(i[s],"outOfRange"),a(i[s],"inRange");for(var f=1;l<c;l++)(!i.length||i[i.length-1]<r[l])&&(f&&(o.length&&a(o[o.length-1].value,"outOfRange"),f=0),a(r[l],"outOfRange"));var d=o.length;return{stops:o,outerColors:[d?o[0].color:"transparent",d?o[d-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=$v(gO.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e})(gO);function qae(t,e,n){if(n[0]===n[1])return n.slice();for(var r=200,i=(n[1]-n[0])/r,o=n[0],a=[],s=0;s<=r&&o<n[1];s++)a.push(o),o+=i;return a.push(n[1]),a}var N2e=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return e.prototype.init=function(n,r){this.ecModel=n,this.api=r},e.prototype.render=function(n,r,i,o){if(this.visualMapModel=n,n.get("show")===!1){this.group.removeAll();return}this.doRender(n,r,i,o)},e.prototype.renderBackground=function(n){var r=this.visualMapModel,i=R_(r.get("padding")||0),o=n.getBoundingRect();n.add(new Jr({z2:-1,silent:!0,shape:{x:o.x-i[3],y:o.y-i[0],width:o.width+i[3]+i[1],height:o.height+i[0]+i[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},e.prototype.getControllerVisual=function(n,r,i){i=i||{};var o=i.forceState,a=this.visualMapModel,s={};if(r==="color"){var l=a.get("contentColor");s.color=l}function u(h){return s[h]}function c(h,p){s[h]=p}var f=a.controllerVisuals[o||a.getValueState(n)],d=Ta.prepareVisualTypes(f);return ie(d,function(h){var p=f[h];i.convertOpacityToAlpha&&h==="opacity"&&(h="colorAlpha",p=f.__alphaForOpacity),Ta.dependsOn(h,r)&&p&&p.applyVisual(n,u,c)}),s[r]},e.prototype.positionGroup=function(n){var r=this.visualMapModel,i=this.api;VR(n,r.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},e.prototype.doRender=function(n,r,i,o){},e.type="visualMap",e})(so),Kae=[["left","right","width"],["top","bottom","height"]];function B2e(t,e,n){var r=t.option,i=r.align;if(i!=null&&i!=="auto")return i;for(var o={width:e.getWidth(),height:e.getHeight()},a=r.orient==="horizontal"?1:0,s=Kae[a],l=[0,null,10],u={},c=0;c<3;c++)u[Kae[1-a][c]]=l[c],u[s[c]]=c===2?n[0]:r[s[c]];var f=[["x","width",3],["y","height",0]][a],d=ha(u,o,r.padding);return s[(d.margin[f[2]]||0)+d[f[0]]+d[f[1]]*.5<o[f[1]]*.5?0:1]}function tM(t,e){return ie(t||[],function(n){n.dataIndex!=null&&(n.dataIndexInside=n.dataIndex,n.dataIndex=null),n.highlightKey="visualMap"+(e?e.componentIndex:"")}),t}var _f=gi,SFt=ie,Yae=Math.min,i$=Math.max,xFt=12,CFt=6,EFt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return e.prototype.init=function(n,r){t.prototype.init.call(this,n,r),this._hoverLinkFromSeriesMouseOver=vn(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=vn(this._hideIndicator,this)},e.prototype.doRender=function(n,r,i,o){(!o||o.type!=="selectDataRange"||o.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var n=this.visualMapModel,r=this.group;this._orient=n.get("orient"),this._useHandle=n.get("calculable"),this._resetInterval(),this._renderBar(r);var i=n.get("text");this._renderEndsText(r,i,0),this._renderEndsText(r,i,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},e.prototype._renderEndsText=function(n,r,i){if(r){var o=r[1-i];o=o!=null?o+"":"";var a=this.visualMapModel,s=a.get("textGap"),l=a.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,i===0?-s:l[1]+s],u),f=this._applyTransform(i===0?"bottom":"top",u),d=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new ti({style:Gi(h,{x:c[0],y:c[1],verticalAlign:d==="horizontal"?"middle":f,align:d==="horizontal"?f:"center",text:o})}))}},e.prototype._renderBar=function(n){var r=this.visualMapModel,i=this._shapes,o=r.itemSize,a=this._orient,s=this._useHandle,l=B2e(r,this.api,o),u=i.mainGroup=this._createBarGroup(l),c=new nr;u.add(c),c.add(i.outOfRange=Xae()),c.add(i.inRange=Xae(null,s?Jae(this._orient):null,vn(this._dragHandle,this,"all",!1),vn(this._dragHandle,this,"all",!0))),c.setClipPath(new Jr({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var f=r.textStyleModel.getTextRect(""),d=i$(f.width,f.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(r,u,0,o,d,a),this._createHandle(r,u,1,o,d,a)),this._createIndicator(r,u,o,d,a),n.add(u)},e.prototype._createHandle=function(n,r,i,o,a,s){var l=vn(this._dragHandle,this,i,!1),u=vn(this._dragHandle,this,i,!0),c=Nc(n.get("handleSize"),o[0]),f=ra(n.get("handleIcon"),-c/2,-c/2,c,c,null,!0),d=Jae(this._orient);f.attr({cursor:d,draggable:!0,drift:l,ondragend:u,onmousemove:function(m){ph(m.event)}}),f.x=o[0]/2,f.useStyle(n.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=n.getModel(["emphasis","handleStyle"]).getItemStyle(),im(f,!0),r.add(f);var h=this.visualMapModel.textStyleModel,p=new ti({cursor:d,draggable:!0,drift:l,onmousemove:function(m){ph(m.event)},ondragend:u,style:Gi(h,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var v=[c,0],g=this._shapes;g.handleThumbs[i]=f,g.handleLabelPoints[i]=v,g.handleLabels[i]=p},e.prototype._createIndicator=function(n,r,i,o,a){var s=Nc(n.get("indicatorSize"),i[0]),l=ra(n.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=n.getModel("indicatorStyle").getItemStyle();if(l instanceof qa){var c=l.style;l.useStyle(yt({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);r.add(l);var f=this.visualMapModel.textStyleModel,d=new ti({silent:!0,invisible:!0,style:Gi(f,{x:0,y:0,text:""})});this.group.add(d);var h=[(a==="horizontal"?o/2:CFt)+i[0]/2,0],p=this._shapes;p.indicator=l,p.indicatorLabel=d,p.indicatorLabelPoint=h,this._firstShowIndicator=!0},e.prototype._dragHandle=function(n,r,i,o){if(this._useHandle){if(this._dragging=!r,!r){var a=this._applyTransform([i,o],this._shapes.mainGroup,!0);this._updateInterval(n,a[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():Zae(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[n],!1)}},e.prototype._resetInterval=function(){var n=this.visualMapModel,r=this._dataInterval=n.getSelected(),i=n.getExtent(),o=[0,n.itemSize[1]];this._handleEnds=[_f(r[0],i,o,!0),_f(r[1],i,o,!0)]},e.prototype._updateInterval=function(n,r){r=r||0;var i=this.visualMapModel,o=this._handleEnds,a=[0,i.itemSize[1]];Iy(r,o,a,n,0);var s=i.getExtent();this._dataInterval=[_f(o[0],a,s,!0),_f(o[1],a,s,!0)]},e.prototype._updateView=function(n){var r=this.visualMapModel,i=r.getExtent(),o=this._shapes,a=[0,r.itemSize[1]],s=n?a:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,s,"inRange"),u=this._createBarVisual(i,i,a,"outOfRange");o.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),o.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},e.prototype._createBarVisual=function(n,r,i,o){var a={forceState:o,convertOpacityToAlpha:!0},s=this._makeColorGradient(n,a),l=[this.getControllerVisual(n[0],"symbolSize",a),this.getControllerVisual(n[1],"symbolSize",a)],u=this._createBarPoints(i,l);return{barColor:new U2(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},e.prototype._makeColorGradient=function(n,r){var i=100,o=[],a=(n[1]-n[0])/i;o.push({color:this.getControllerVisual(n[0],"color",r),offset:0});for(var s=1;s<i;s++){var l=n[0]+a*s;if(l>n[1])break;o.push({color:this.getControllerVisual(l,"color",r),offset:s/i})}return o.push({color:this.getControllerVisual(n[1],"color",r),offset:1}),o},e.prototype._createBarPoints=function(n,r){var i=this.visualMapModel.itemSize;return[[i[0]-r[0],n[0]],[i[0],n[0]],[i[0],n[1]],[i[0]-r[1],n[1]]]},e.prototype._createBarGroup=function(n){var r=this._orient,i=this.visualMapModel.get("inverse");return new nr(r==="horizontal"&&!i?{scaleX:n==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&i?{scaleX:n==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!i?{scaleX:n==="left"?1:-1,scaleY:-1}:{scaleX:n==="left"?1:-1})},e.prototype._updateHandle=function(n,r){if(this._useHandle){var i=this._shapes,o=this.visualMapModel,a=i.handleThumbs,s=i.handleLabels,l=o.itemSize,u=o.getExtent(),c=this._applyTransform("left",i.mainGroup);SFt([0,1],function(f){var d=a[f];d.setStyle("fill",r.handlesColor[f]),d.y=n[f];var h=_f(n[f],[0,l[1]],u,!0),p=this.getControllerVisual(h,"symbolSize");d.scaleX=d.scaleY=p/l[0],d.x=l[0]-p/2;var v=Cc(i.handleLabelPoints[f],Tm(d,this.group));if(this._orient==="horizontal"){var g=c==="left"||c==="top"?(l[0]-p)/2:(l[0]-p)/-2;v[1]+=g}s[f].setStyle({x:v[0],y:v[1],text:o.formatValueText(this._dataInterval[f]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(n,r,i,o){var a=this.visualMapModel,s=a.getExtent(),l=a.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var d={convertOpacityToAlpha:!0},h=this.getControllerVisual(n,"color",d),p=this.getControllerVisual(n,"symbolSize"),v=_f(n,s,u,!0),g=l[0]-p/2,m={x:f.x,y:f.y};f.y=v,f.x=g;var y=Cc(c.indicatorLabelPoint,Tm(f,this.group)),b=c.indicatorLabel;b.attr("invisible",!1);var w=this._applyTransform("left",c.mainGroup),S=this._orient,x=S==="horizontal";b.setStyle({text:(i||"")+a.formatValueText(r),verticalAlign:x?w:"middle",align:x?"center":w});var C={x:g,y:v,style:{fill:h}},E={style:{x:y[0],y:y[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var T={duration:100,easing:"cubicInOut",additive:!0};f.x=m.x,f.y=m.y,f.animateTo(C,T),b.animateTo(E,T)}else f.attr(C),b.attr(E);this._firstShowIndicator=!1;var A=this._shapes.handleLabels;if(A)for(var k=0;k<A.length;k++)this.api.enterBlur(A[k])}},e.prototype._enableHoverLinkToSeries=function(){var n=this;this._shapes.mainGroup.on("mousemove",function(r){if(n._hovering=!0,!n._dragging){var i=n.visualMapModel.itemSize,o=n._applyTransform([r.offsetX,r.offsetY],n._shapes.mainGroup,!0,!0);o[1]=Yae(i$(0,o[1]),i[1]),n._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=i[0])}}).on("mouseout",function(){n._hovering=!1,!n._dragging&&n._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var n=this.api.getZr();this.visualMapModel.option.hoverLink?(n.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),n.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(n,r){var i=this.visualMapModel,o=i.itemSize;if(i.option.hoverLink){var a=[0,o[1]],s=i.getExtent();n=Yae(i$(a[0],n),a[1]);var l=TFt(i,s,a),u=[n-l,n+l],c=_f(n,a,s,!0),f=[_f(u[0],a,s,!0),_f(u[1],a,s,!0)];u[0]<a[0]&&(f[0]=-1/0),u[1]>a[1]&&(f[1]=1/0),r&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c," ",l));var d=this._hoverLinkDataIndices,h=[];(r||Zae(i))&&(h=this._hoverLinkDataIndices=i.findTargetDataIndices(f));var p=Lxt(d,h);this._dispatchHighDown("downplay",tM(p[0],i)),this._dispatchHighDown("highlight",tM(p[1],i))}},e.prototype._hoverLinkFromSeriesMouseOver=function(n){var r;if(am(n.target,function(l){var u=ar(l);if(u.dataIndex!=null)return r=u,!0},!0),!!r){var i=this.ecModel.getSeriesByIndex(r.seriesIndex),o=this.visualMapModel;if(o.isTargetSeries(i)){var a=i.getData(r.dataType),s=a.getStore().get(o.getDataDimensionIndex(a),r.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},e.prototype._hideIndicator=function(){var n=this._shapes;n.indicator&&n.indicator.attr("invisible",!0),n.indicatorLabel&&n.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var i=0;i<r.length;i++)this.api.leaveBlur(r[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var n=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",tM(n,this.visualMapModel)),n.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var n=this.api.getZr();n.off("mouseover",this._hoverLinkFromSeriesMouseOver),n.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(n,r,i,o){var a=Tm(r,o?null:this.group);return Tt(n)?Cc(n,a,i):RR(n,a,i)},e.prototype._dispatchHighDown=function(n,r){r&&r.length&&this.api.dispatchAction({type:n,batch:r})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e})(N2e);function Xae(t,e,n,r){return new ul({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(i){ph(i.event)},ondragend:r})}function TFt(t,e,n){var r=xFt/2,i=t.get("hoverLinkDataSize");return i&&(r=_f(i,e,n,!0)/2),r}function Zae(t){var e=t.get("hoverLinkOnHandle");return!!(e??t.get("realtime"))}function Jae(t){return t==="vertical"?"ns-resize":"ew-resize"}var AFt={type:"selectDataRange",event:"dataRangeSelected",update:"update"},kFt=function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(n){n.setSelected(t.selected)})},MFt=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",function(r){var i=t.pipelineContext;!r.isTargetSeries(t)||i&&i.large||n.push(ZBt(r.stateList,r.targetVisuals,vn(r.getValueState,r),r.getDataDimensionIndex(t.getData())))}),n}},{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),r=[];e.eachComponent("visualMap",function(i){if(i.isTargetSeries(t)){var o=i.getVisualMeta(vn(PFt,null,t,i))||{stops:[],outerColors:[]},a=i.getDataDimensionIndex(n);a>=0&&(o.dimension=a,r.push(o))}}),t.getData().setVisual("visualMeta",r)}}];function PFt(t,e,n,r){for(var i=e.targetVisuals[r],o=Ta.prepareVisualTypes(i),a={color:Y2(t.getData(),"color")},s=0,l=o.length;s<l;s++){var u=o[s],c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(n,f,d)}return a.color;function f(h){return a[h]}function d(h,p){a[h]=p}}var Qae=ie;function OFt(t){var e=t&&t.visualMap;Tt(e)||(e=e?[e]:[]),Qae(e,function(n){if(n){A0(n,"splitList")&&!A0(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var r=n.pieces;r&&Tt(r)&&Qae(r,function(i){Zn(i)&&(A0(i,"start")&&!A0(i,"min")&&(i.min=i.start),A0(i,"end")&&!A0(i,"max")&&(i.max=i.end))})}})}function A0(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var ese=!1;function $2e(t){ese||(ese=!0,t.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),t.registerAction(AFt,kFt),ie(MFt,function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)}),t.registerPreprocessor(OFt))}function F2e(t){t.registerComponentModel(wFt),t.registerComponentView(EFt),$2e(t)}var IFt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._pieceList=[],n}return e.prototype.optionUpdated=function(n,r){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],RFt[this._mode].call(this,this._pieceList),this._resetSelected(n,r);var o=this.option.categories;this.resetVisual(function(a,s){i==="categories"?(a.mappingMethod="category",a.categories=Jn(o)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=kt(this._pieceList,function(l){return l=Jn(l),s!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var n=this.option,r={},i=Ta.listVisualTypes(),o=this.isCategory();ie(n.pieces,function(s){ie(i,function(l){s.hasOwnProperty(l)&&(r[l]=1)})}),ie(r,function(s,l){var u=!1;ie(this.stateList,function(c){u=u||a(n,c,l)||a(n.target,c,l)},this),!u&&ie(this.stateList,function(c){(n[c]||(n[c]={}))[l]=D2e.get(l,c==="inRange"?"active":"inactive",o)})},this);function a(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(n,r){var i=this.option,o=this._pieceList,a=(r?i:n).selected||{};if(i.selected=a,ie(o,function(l,u){var c=this.getSelectedMapKey(l);a.hasOwnProperty(c)||(a[c]=!0)},this),i.selectedMode==="single"){var s=!1;ie(o,function(l,u){var c=this.getSelectedMapKey(l);a[c]&&(s?a[c]=!1:s=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(n){return this._mode==="categories"?n.value+"":n.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var n=this.option;return n.pieces&&n.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(n){this.option.selected=Jn(n)},e.prototype.getValueState=function(n){var r=Ta.findPieceIndex(n,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(n){var r=[],i=this._pieceList;return this.eachTargetSeries(function(o){var a=[],s=o.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=Ta.findPieceIndex(l,i);c===n&&a.push(u)},this),r.push({seriesId:o.id,dataIndex:a})},this),r},e.prototype.getRepresentValue=function(n){var r;if(this.isCategory())r=n.value;else if(n.value!=null)r=n.value;else{var i=n.interval||[];r=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return r},e.prototype.getVisualMeta=function(n){if(this.isCategory())return;var r=[],i=["",""],o=this;function a(c,f){var d=o.getRepresentValue({interval:c});f||(f=o.getValueState(d));var h=n(d,f);c[0]===-1/0?i[0]=h:c[1]===1/0?i[1]=h:r.push({value:c[0],color:h},{value:c[1],color:h})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return ie(s,function(c){var f=c.interval;f&&(f[0]>u&&a([u,f[0]],"outOfRange"),a(f.slice()),u=f[1])},this),{stops:r,outerColors:i}},e.type="visualMap.piecewise",e.defaultOption=$v(gO.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e})(gO),RFt={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),r=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;for(var o=(r[1]-r[0])/i;+o.toFixed(n)!==o&&n<5;)n++;e.precision=n,o=+o.toFixed(n),e.minOpen&&t.push({interval:[-1/0,r[0]],close:[0,0]});for(var a=0,s=r[0];a<i;s+=o,a++){var l=a===i-1?r[1]:s+o;t.push({interval:[s,l],close:[1,1]})}e.maxOpen&&t.push({interval:[r[1],1/0],close:[0,0]}),g5(t),ie(t,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(t){var e=this.option;ie(e.categories,function(n){t.push({text:this.formatValueText(n,!0),value:n})},this),tse(e,t)},pieces:function(t){var e=this.option;ie(e.pieces,function(n,r){Zn(n)||(n={value:n});var i={text:"",index:r};if(n.label!=null&&(i.text=n.label),n.hasOwnProperty("value")){var o=i.value=n.value;i.interval=[o,o],i.close=[1,1]}else{for(var a=i.interval=[],s=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var d=[["gte","gt","min"],["lte","lt","max"]][f],h=0;h<3&&a[f]==null;h++)a[f]=n[d[h]],s[f]=l[h],c[f]=h===2;a[f]==null&&(a[f]=u[f])}c[0]&&a[1]===1/0&&(s[0]=0),c[1]&&a[0]===-1/0&&(s[1]=0),a[0]===a[1]&&s[0]&&s[1]&&(i.value=a[0])}i.visual=Ta.retrieveVisuals(n),t.push(i)},this),tse(e,t),g5(t),ie(t,function(n){var r=n.close,i=[["<",""][r[1]],[">",""][r[0]]];n.text=n.text||this.formatValueText(n.value!=null?n.value:n.interval,!1,i)},this)}};function tse(t,e){var n=t.inverse;(t.orient==="vertical"?!n:n)&&e.reverse()}var LFt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.doRender=function(){var n=this.group;n.removeAll();var r=this.visualMapModel,i=r.get("textGap"),o=r.textStyleModel,a=o.getFont(),s=o.getTextColor(),l=this._getItemAlign(),u=r.itemSize,c=this._getViewData(),f=c.endsText,d=Va(r.get("showLabel",!0),!f),h=!r.get("selectedMode");f&&this._renderEndsText(n,f[0],u,d,l),ie(c.viewPieceList,function(p){var v=p.piece,g=new nr;g.onclick=vn(this._onItemClick,this,v),this._enableHoverLink(g,p.indexInModelPieceList);var m=r.getRepresentValue(v);if(this._createItemSymbol(g,m,[0,0,u[0],u[1]],h),d){var y=this.visualMapModel.getValueState(m);g.add(new ti({style:{x:l==="right"?-i:u[0]+i,y:u[1]/2,text:v.text,verticalAlign:"middle",align:l,font:a,fill:s,opacity:y==="outOfRange"?.5:1},silent:h}))}n.add(g)},this),f&&this._renderEndsText(n,f[1],u,d,l),Am(r.get("orient"),n,r.get("itemGap")),this.renderBackground(n),this.positionGroup(n)},e.prototype._enableHoverLink=function(n,r){var i=this;n.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(a){var s=i.visualMapModel;s.option.hoverLink&&i.api.dispatchAction({type:a,batch:tM(s.findTargetDataIndices(r),s)})}},e.prototype._getItemAlign=function(){var n=this.visualMapModel,r=n.option;if(r.orient==="vertical")return B2e(n,this.api,n.itemSize);var i=r.align;return(!i||i==="auto")&&(i="left"),i},e.prototype._renderEndsText=function(n,r,i,o,a){if(r){var s=new nr,l=this.visualMapModel.textStyleModel;s.add(new ti({style:Gi(l,{x:o?a==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:o?a:"center",text:r})})),n.add(s)}},e.prototype._getViewData=function(){var n=this.visualMapModel,r=kt(n.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),i=n.get("text"),o=n.get("orient"),a=n.get("inverse");return(o==="horizontal"?a:!a)?r.reverse():i&&(i=i.slice().reverse()),{viewPieceList:r,endsText:i}},e.prototype._createItemSymbol=function(n,r,i,o){var a=ra(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color"));a.silent=o,n.add(a)},e.prototype._onItemClick=function(n){var r=this.visualMapModel,i=r.option,o=i.selectedMode;if(o){var a=Jn(i.selected),s=r.getSelectedMapKey(n);o==="single"||o===!0?(a[s]=!0,ie(a,function(l,u){a[u]=u===s})):a[s]=!a[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}},e.type="visualMap.piecewise",e})(N2e);function V2e(t){t.registerComponentModel(IFt),t.registerComponentView(LFt),$2e(t)}function DFt(t){Dr(F2e),Dr(V2e)}var NFt={label:{enabled:!0},decal:{show:!1}},nse=Qr(),BFt={};function $Ft(t,e){var n=t.getModel("aria");if(!n.get("enabled"))return;var r=Jn(NFt);mr(r.label,t.getLocaleModel().get("aria"),!1),mr(n.option,r,!1),i(),o();function i(){var u=n.getModel("decal"),c=u.get("show");if(c){var f=Mn();t.eachSeries(function(d){if(!d.isColorBySeries()){var h=f.get(d.type);h||(h={},f.set(d.type,h)),nse(d).scope=h}}),t.eachRawSeries(function(d){if(t.isSeriesFiltered(d))return;if(qn(d.enableAriaDecal)){d.enableAriaDecal();return}var h=d.getData();if(d.isColorBySeries()){var y=I5(d.ecModel,d.name,BFt,t.getSeriesCount()),b=h.getVisual("decal");h.setVisual("decal",w(b,y))}else{var p=d.getRawData(),v={},g=nse(d).scope;h.each(function(S){var x=h.getRawIndex(S);v[x]=S});var m=p.count();p.each(function(S){var x=v[S],C=p.getName(S)||S+"",E=I5(d.ecModel,C,g,m),T=h.getItemVisual(x,"decal");h.setItemVisual(x,"decal",w(T,E))})}function w(S,x){var C=S?yt(yt({},x),S):x;return C.dirty=!0,C}})}}function o(){var u=e.getZr().dom;if(u){var c=t.getLocaleModel().get("aria"),f=n.getModel("label");if(f.option=Yn(f.option,c),!!f.get("enabled")){if(u.setAttribute("role","img"),f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var d=t.getSeriesCount(),h=f.get(["data","maxCount"])||10,p=f.get(["series","maxCount"])||10,v=Math.min(d,p),g;if(!(d<1)){var m=s();if(m){var y=f.get(["general","withTitle"]);g=a(y,{title:m})}else g=f.get(["general","withoutTitle"]);var b=[],w=d>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);g+=a(w,{seriesCount:d}),t.eachSeries(function(E,T){if(T<v){var A=void 0,k=E.get("name"),M=k?"withName":"withoutName";A=d>1?f.get(["series","multiple",M]):f.get(["series","single",M]),A=a(A,{seriesId:E.seriesIndex,seriesName:E.get("name"),seriesType:l(E.subType)});var D=E.getData();if(D.count()>h){var L=f.get(["data","partialData"]);A+=a(L,{displayCnt:h})}else A+=f.get(["data","allData"]);for(var I=f.get(["data","separator","middle"]),R=f.get(["data","separator","end"]),V=f.get(["data","excludeDimensionId"]),P=[],B=0;B<D.count();B++)if(B<h){var j=D.getName(B),G=V?yi(D.getValues(B),function(Z,ee){return Mr(V,ee)===-1}):D.getValues(B),W=f.get(["data",j?"withName":"withoutName"]);P.push(a(W,{name:j,value:G.join(I)}))}A+=P.join(I)+R,b.push(A)}});var S=f.getModel(["series","multiple","separator"]),x=S.get("middle"),C=S.get("end");g+=b.join(x)+C,u.setAttribute("aria-label",g)}}}}function a(u,c){if(!fn(u))return u;var f=u;return ie(c,function(d,h){f=f.replace(new RegExp("\\{\\s*"+h+"\\s*\\}","g"),d)}),f}function s(){var u=t.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=t.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function FFt(t){if(!(!t||!t.aria)){var e=t.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},ie(["description","general","series","data"],function(n){e[n]!=null&&(e.label[n]=e[n])})}}function VFt(t){t.registerPreprocessor(FFt),t.registerVisual(t.PRIORITY.VISUAL.ARIA,$Ft)}var rse={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},zFt=(function(){function t(e){var n=this._condVal=fn(e)?new RegExp(e):nSt(e)?e:null;if(n==null){var r="";mi(r)}}return t.prototype.evaluate=function(e){var n=typeof e;return fn(n)?this._condVal.test(e):ri(n)?this._condVal.test(e+""):!1},t})(),HFt=(function(){function t(){}return t.prototype.evaluate=function(){return this.value},t})(),jFt=(function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,n=0;n<e.length;n++)if(!e[n].evaluate())return!1;return!0},t})(),GFt=(function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,n=0;n<e.length;n++)if(e[n].evaluate())return!0;return!1},t})(),UFt=(function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t})(),WFt=(function(){function t(){}return t.prototype.evaluate=function(){for(var e=!!this.valueParser,n=this.getValue,r=n(this.valueGetterParam),i=e?this.valueParser(r):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(e?i:r))return!1;return!0},t})();function gU(t,e){if(t===!0||t===!1){var n=new HFt;return n.value=t,n}var r="";return z2e(t)||mi(r),t.and?ise("and",t,e):t.or?ise("or",t,e):t.not?qFt(t,e):KFt(t,e)}function ise(t,e,n){var r=e[t],i="";Tt(r)||mi(i),r.length||mi(i);var o=t==="and"?new jFt:new GFt;return o.children=kt(r,function(a){return gU(a,n)}),o.children.length||mi(i),o}function qFt(t,e){var n=t.not,r="";z2e(n)||mi(r);var i=new UFt;return i.child=gU(n,e),i.child||mi(r),i}function KFt(t,e){for(var n="",r=e.prepareGetValue(t),i=[],o=Ur(t),a=t.parser,s=a?Cwe(a):null,l=0;l<o.length;l++){var u=o[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var c=Cn(rse,u)?rse[u]:u,f=t[u],d=s?s(f):f,h=BEt(c,d)||c==="reg"&&new zFt(d);h||mi(n),i.push(h)}}i.length||mi(n);var p=new WFt;return p.valueGetterParam=r,p.valueParser=s,p.getValue=e.getValue,p.subCondList=i,p}function z2e(t){return Zn(t)&&!Ls(t)}var YFt=(function(){function t(e,n){this._cond=gU(e,n)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t})();function XFt(t,e){return new YFt(t,e)}var ZFt={type:"echarts:filter",transform:function(t){for(var e=t.upstream,n,r=XFt(t.config,{valueGetterAttrMap:Mn({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;Cn(s,"dimension")||mi(l);var c=e.getDimensionInfo(u);return c||mi(l),{dimIdx:c.index}},getValue:function(s){return e.retrieveValueFromItem(n,s.dimIdx)}}),i=[],o=0,a=e.count();o<a;o++)n=e.getRawDataItem(o),r.evaluate()&&i.push(n);return{data:i}}},JFt={type:"echarts:sort",transform:function(t){var e=t.upstream,n=t.config,r="",i=Mi(n);i.length||mi(r);var o=[];ie(i,function(c){var f=c.dimension,d=c.order,h=c.parser,p=c.incomparable;if(f==null&&mi(r),d!=="asc"&&d!=="desc"&&mi(r),p&&p!=="min"&&p!=="max"){var v="";mi(v)}if(d!=="asc"&&d!=="desc"){var g="";mi(g)}var m=e.getDimensionInfo(f);m||mi(r);var y=h?Cwe(h):null;h&&!y&&mi(r),o.push({dimIdx:m.index,parser:y,comparator:new Twe(d,p)})});var a=e.sourceFormat;a!==Ds&&a!==nc&&mi(r);for(var s=[],l=0,u=e.count();l<u;l++)s.push(e.getRawDataItem(l));return s.sort(function(c,f){for(var d=0;d<o.length;d++){var h=o[d],p=e.retrieveValueFromItem(c,h.dimIdx),v=e.retrieveValueFromItem(f,h.dimIdx);h.parser&&(p=h.parser(p),v=h.parser(v));var g=h.comparator.evaluate(p,v);if(g!==0)return g}return 0}),{data:s}}};function QFt(t){t.registerTransform(ZFt),t.registerTransform(JFt)}var eVt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="dataset",n}return e.prototype.init=function(n,r,i){t.prototype.init.call(this,n,r,i),this._sourceManager=new Pwe(this),sne(this)},e.prototype.mergeOption=function(n,r){t.prototype.mergeOption.call(this,n,r),sne(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:Gf},e})(Gr),tVt=(function(t){nt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="dataset",n}return e.type="dataset",e})(so);function nVt(t){t.registerComponentModel(eVt),t.registerComponentView(tVt)}var hf=rd.CMD;function eb(t,e){return Math.abs(t-e)<1e-5}function R6(t){var e=t.data,n=t.len(),r=[],i,o=0,a=0,s=0,l=0;function u(D,L){i&&i.length>2&&r.push(i),i=[D,L]}function c(D,L,I,R){eb(D,I)&&eb(L,R)||i.push(D,L,I,R,I,R)}function f(D,L,I,R,V,P){var B=Math.abs(L-D),j=Math.tan(B/4)*4/3,G=L<D?-1:1,W=Math.cos(D),Z=Math.sin(D),ee=Math.cos(L),oe=Math.sin(L),ce=W*V+I,X=Z*P+R,H=ee*V+I,U=oe*P+R,ne=V*j*G,J=P*j*G;i.push(ce-ne*Z,X+J*W,H+ne*oe,U-J*ee,H,U)}for(var d,h,p,v,g=0;g<n;){var m=e[g++],y=g===1;switch(y&&(o=e[g],a=e[g+1],s=o,l=a,(m===hf.L||m===hf.C||m===hf.Q)&&(i=[s,l])),m){case hf.M:o=s=e[g++],a=l=e[g++],u(s,l);break;case hf.L:d=e[g++],h=e[g++],c(o,a,d,h),o=d,a=h;break;case hf.C:i.push(e[g++],e[g++],e[g++],e[g++],o=e[g++],a=e[g++]);break;case hf.Q:d=e[g++],h=e[g++],p=e[g++],v=e[g++],i.push(o+2/3*(d-o),a+2/3*(h-a),p+2/3*(d-p),v+2/3*(h-v),p,v),o=p,a=v;break;case hf.A:var b=e[g++],w=e[g++],S=e[g++],x=e[g++],C=e[g++],E=e[g++]+C;g+=1;var T=!e[g++];d=Math.cos(C)*S+b,h=Math.sin(C)*x+w,y?(s=d,l=h,u(s,l)):c(o,a,d,h),o=Math.cos(E)*S+b,a=Math.sin(E)*x+w;for(var A=(T?-1:1)*Math.PI/2,k=C;T?k>E:k<E;k+=A){var M=T?Math.max(k+A,E):Math.min(k+A,E);f(k,M,b,w,S,x)}break;case hf.R:s=o=e[g++],l=a=e[g++],d=s+e[g++],h=l+e[g++],u(d,l),c(d,l,d,h),c(d,h,s,h),c(s,h,s,l),c(s,l,d,l);break;case hf.Z:i&&c(o,a,s,l),o=s,a=l;break}}return i&&i.length>2&&r.push(i),r}function L6(t,e,n,r,i,o,a,s,l,u){if(eb(t,n)&&eb(e,r)&&eb(i,a)&&eb(o,s)){l.push(a,s);return}var c=2/u,f=c*c,d=a-t,h=s-e,p=Math.sqrt(d*d+h*h);d/=p,h/=p;var v=n-t,g=r-e,m=i-a,y=o-s,b=v*v+g*g,w=m*m+y*y;if(b<f&&w<f){l.push(a,s);return}var S=d*v+h*g,x=-d*m-h*y,C=b-S*S,E=w-x*x;if(C<f&&S>=0&&E<f&&x>=0){l.push(a,s);return}var T=[],A=[];mv(t,n,i,a,.5,T),mv(e,r,o,s,.5,A),L6(T[0],A[0],T[1],A[1],T[2],A[2],T[3],A[3],l,u),L6(T[4],A[4],T[5],A[5],T[6],A[6],T[7],A[7],l,u)}function rVt(t,e){var n=R6(t),r=[];e=e||1;for(var i=0;i<n.length;i++){var o=n[i],a=[],s=o[0],l=o[1];a.push(s,l);for(var u=2;u<o.length;){var c=o[u++],f=o[u++],d=o[u++],h=o[u++],p=o[u++],v=o[u++];L6(s,l,c,f,d,h,p,v,a,e),s=p,l=v}r.push(a)}return r}function H2e(t,e,n){var r=t[e],i=t[1-e],o=Math.abs(r/i),a=Math.ceil(Math.sqrt(o*n)),s=Math.floor(n/a);s===0&&(s=1,a=n);for(var l=[],u=0;u<a;u++)l.push(s);var c=a*s,f=n-c;if(f>0)for(var u=0;u<f;u++)l[u%a]+=1;return l}function ose(t,e,n){for(var r=t.r0,i=t.r,o=t.startAngle,a=t.endAngle,s=Math.abs(a-o),l=s*i,u=i-r,c=l>Math.abs(u),f=H2e([l,u],c?0:1,e),d=(c?s:u)/f.length,h=0;h<f.length;h++)for(var p=(c?u:s)/f[h],v=0;v<f[h];v++){var g={};c?(g.startAngle=o+d*h,g.endAngle=o+d*(h+1),g.r0=r+p*v,g.r=r+p*(v+1)):(g.startAngle=o+p*v,g.endAngle=o+p*(v+1),g.r0=r+d*h,g.r=r+d*(h+1)),g.clockwise=t.clockwise,g.cx=t.cx,g.cy=t.cy,n.push(g)}}function iVt(t,e,n){for(var r=t.width,i=t.height,o=r>i,a=H2e([r,i],o?0:1,e),s=o?"width":"height",l=o?"height":"width",u=o?"x":"y",c=o?"y":"x",f=t[s]/a.length,d=0;d<a.length;d++)for(var h=t[l]/a[d],p=0;p<a[d];p++){var v={};v[u]=d*f,v[c]=p*h,v[s]=f,v[l]=h,v.x+=t.x,v.y+=t.y,n.push(v)}}function ase(t,e,n,r){return t*r-n*e}function oVt(t,e,n,r,i,o,a,s){var l=n-t,u=r-e,c=a-i,f=s-o,d=ase(c,f,l,u);if(Math.abs(d)<1e-6)return null;var h=t-i,p=e-o,v=ase(h,p,c,f)/d;return v<0||v>1?null:new _r(v*l+t,v*u+e)}function aVt(t,e,n){var r=new _r;_r.sub(r,n,e),r.normalize();var i=new _r;_r.sub(i,t,e);var o=i.dot(r);return o}function k0(t,e){var n=t[t.length-1];n&&n[0]===e[0]&&n[1]===e[1]||t.push(e)}function sVt(t,e,n){for(var r=t.length,i=[],o=0;o<r;o++){var a=t[o],s=t[(o+1)%r],l=oVt(a[0],a[1],s[0],s[1],e.x,e.y,n.x,n.y);l&&i.push({projPt:aVt(l,e,n),pt:l,idx:o})}if(i.length<2)return[{points:t},{points:t}];i.sort(function(g,m){return g.projPt-m.projPt});var u=i[0],c=i[i.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var d=[u.pt.x,u.pt.y],h=[c.pt.x,c.pt.y],p=[d],v=[h],o=u.idx+1;o<=c.idx;o++)k0(p,t[o].slice());k0(p,h),k0(p,d);for(var o=c.idx+1;o<=u.idx+r;o++)k0(v,t[o%r].slice());return k0(v,d),k0(v,h),[{points:p},{points:v}]}function sse(t){var e=t.points,n=[],r=[];AR(e,n,r);var i=new xr(n[0],n[1],r[0]-n[0],r[1]-n[1]),o=i.width,a=i.height,s=i.x,l=i.y,u=new _r,c=new _r;return o>a?(u.x=c.x=s+o/2,u.y=l,c.y=l+a):(u.y=c.y=l+a/2,u.x=s,c.x=s+o),sVt(e,u,c)}function mO(t,e,n,r){if(n===1)r.push(e);else{var i=Math.floor(n/2),o=t(e);mO(t,o[0],i,r),mO(t,o[1],n-i,r)}return r}function lVt(t,e){for(var n=[],r=0;r<e;r++)n.push(DG(t));return n}function uVt(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function cVt(t){for(var e=[],n=0;n<t.length;)e.push([t[n++],t[n++]]);return e}function fVt(t,e){var n=[],r=t.shape,i;switch(t.type){case"rect":iVt(r,e,n),i=Jr;break;case"sector":ose(r,e,n),i=ll;break;case"circle":ose({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},e,n),i=ll;break;default:var o=t.getComputedTransform(),a=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,s=kt(rVt(t.getUpdatedPathProxy(),a),function(m){return cVt(m)}),l=s.length;if(l===0)mO(sse,{points:s[0]},e,n);else if(l===e)for(var u=0;u<l;u++)n.push({points:s[u]});else{var c=0,f=kt(s,function(m){var y=[],b=[];AR(m,y,b);var w=(b[1]-y[1])*(b[0]-y[0]);return c+=w,{poly:m,area:w}});f.sort(function(m,y){return y.area-m.area});for(var d=e,u=0;u<l;u++){var h=f[u];if(d<=0)break;var p=u===l-1?d:Math.ceil(h.area/c*e);p<0||(mO(sse,{points:h.poly},p,n),d-=p)}}i=ul;break}if(!i)return lVt(t,e);for(var v=[],u=0;u<n.length;u++){var g=new i;g.setShape(n[u]),uVt(t,g),v.push(g)}return v}function dVt(t,e){var n=t.length,r=e.length;if(n===r)return[t,e];for(var i=[],o=[],a=n<r?t:e,s=Math.min(n,r),l=Math.abs(r-n)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,f=[a[0],a[1]],d=l,h=2;h<s;){var p=a[h-2],v=a[h-1],g=a[h++],m=a[h++],y=a[h++],b=a[h++],w=a[h++],S=a[h++];if(d<=0){f.push(g,m,y,b,w,S);continue}for(var x=Math.min(d,c-1)+1,C=1;C<=x;C++){var E=C/x;mv(p,g,y,w,E,i),mv(v,m,b,S,E,o),p=i[3],v=o[3],f.push(i[1],o[1],i[2],o[2],p,v),g=i[5],m=o[5],y=i[6],b=o[6]}d-=x-1}return a===t?[f,e]:[t,f]}function lse(t,e){for(var n=t.length,r=t[n-2],i=t[n-1],o=[],a=0;a<e.length;)o[a++]=r,o[a++]=i;return o}function hVt(t,e){for(var n,r,i,o=[],a=[],s=0;s<Math.max(t.length,e.length);s++){var l=t[s],u=e[s],c=void 0,f=void 0;l?u?(n=dVt(l,u),c=n[0],f=n[1],r=c,i=f):(f=lse(i||l,l),c=l):(c=lse(r||u,u),f=u),o.push(c),a.push(f)}return[o,a]}function use(t){for(var e=0,n=0,r=0,i=t.length,o=0,a=i-2;o<i;a=o,o+=2){var s=t[a],l=t[a+1],u=t[o],c=t[o+1],f=s*c-u*l;e+=f,n+=(s+u)*f,r+=(l+c)*f}return e===0?[t[0]||0,t[1]||0]:[n/e/3,r/e/3,e]}function pVt(t,e,n,r){for(var i=(t.length-2)/6,o=1/0,a=0,s=t.length,l=s-2,u=0;u<i;u++){for(var c=u*6,f=0,d=0;d<s;d+=2){var h=d===0?c:(c+d-2)%l+2,p=t[h]-n[0],v=t[h+1]-n[1],g=e[d]-r[0],m=e[d+1]-r[1],y=g-p,b=m-v;f+=y*y+b*b}f<o&&(o=f,a=u)}return a}function vVt(t){for(var e=[],n=t.length,r=0;r<n;r+=2)e[r]=t[n-r-2],e[r+1]=t[n-r-1];return e}function gVt(t,e,n,r){for(var i=[],o,a=0;a<t.length;a++){var s=t[a],l=e[a],u=use(s),c=use(l);o==null&&(o=u[2]<0!=c[2]<0);var f=[],d=[],h=0,p=1/0,v=[],g=s.length;o&&(s=vVt(s));for(var m=pVt(s,l,u,c)*6,y=g-2,b=0;b<y;b+=2){var w=(m+b)%y+2;f[b+2]=s[w]-u[0],f[b+3]=s[w+1]-u[1]}f[0]=s[m]-u[0],f[1]=s[m+1]-u[1];for(var S=r/n,x=-r/2;x<=r/2;x+=S){for(var C=Math.sin(x),E=Math.cos(x),T=0,b=0;b<s.length;b+=2){var A=f[b],k=f[b+1],M=l[b]-c[0],D=l[b+1]-c[1],L=M*E-D*C,I=M*C+D*E;v[b]=L,v[b+1]=I;var R=L-A,V=I-k;T+=R*R+V*V}if(T<p){p=T,h=x;for(var P=0;P<v.length;P++)d[P]=v[P]}}i.push({from:f,to:d,fromCp:u,toCp:c,rotation:-h})}return i}function yO(t){return t.__isCombineMorphing}var j2e="__mOriginal_";function bO(t,e,n){var r=j2e+e,i=t[r]||t[e];t[r]||(t[r]=t[e]);var o=n.replace,a=n.after,s=n.before;t[e]=function(){var l=arguments,u;return s&&s.apply(this,l),o?u=o.apply(this,l):u=i.apply(this,l),a&&a.apply(this,l),u}}function dx(t,e){var n=j2e+e;t[n]&&(t[e]=t[n],t[n]=null)}function cse(t,e){for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;){var o=r[i],a=r[i+1];r[i++]=e[0]*o+e[2]*a+e[4],r[i++]=e[1]*o+e[3]*a+e[5]}}function G2e(t,e){var n=t.getUpdatedPathProxy(),r=e.getUpdatedPathProxy(),i=hVt(R6(n),R6(r)),o=i[0],a=i[1],s=t.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}s&&cse(o,s),l&&cse(a,l),bO(e,"updateTransform",{replace:u}),e.transform=null;var c=gVt(o,a,10,Math.PI),f=[];bO(e,"buildPath",{replace:function(d){for(var h=e.__morphT,p=1-h,v=[],g=0;g<c.length;g++){var m=c[g],y=m.from,b=m.to,w=m.rotation*h,S=m.fromCp,x=m.toCp,C=Math.sin(w),E=Math.cos(w);Nk(v,S,x,h);for(var T=0;T<y.length;T+=2){var A=y[T],k=y[T+1],M=b[T],D=b[T+1],L=A*p+M*h,I=k*p+D*h;f[T]=L*E-I*C+v[0],f[T+1]=L*C+I*E+v[1]}var R=f[0],V=f[1];d.moveTo(R,V);for(var T=2;T<y.length;){var M=f[T++],D=f[T++],P=f[T++],B=f[T++],j=f[T++],G=f[T++];R===M&&V===D&&P===j&&B===G?d.lineTo(j,G):d.bezierCurveTo(M,D,P,B,j,G),R=j,V=G}}}})}function mU(t,e,n){if(!t||!e)return e;var r=n.done,i=n.during;G2e(t,e),e.__morphT=0;function o(){dx(e,"buildPath"),dx(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},Yn({during:function(a){e.dirtyShape(),i&&i(a)},done:function(){o(),r&&r()}},n)),e}function mVt(t,e,n,r,i,o){var a=16;t=i===n?0:Math.round(32767*(t-n)/(i-n)),e=o===r?0:Math.round(32767*(e-r)/(o-r));for(var s=0,l,u=(1<<a)/2;u>0;u/=2){var c=0,f=0;(t&u)>0&&(c=1),(e&u)>0&&(f=1),s+=u*u*(3*c^f),f===0&&(c===1&&(t=u-1-t,e=u-1-e),l=t,t=e,e=l)}return s}function _O(t){var e=1/0,n=1/0,r=-1/0,i=-1/0,o=kt(t,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return e=Math.min(c,e),n=Math.min(f,n),r=Math.max(c,r),i=Math.max(f,i),[c,f]}),a=kt(o,function(s,l){return{cp:s,z:mVt(s[0],s[1],e,n,r,i),path:t[l]}});return a.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function U2e(t){return fVt(t.path,t.count)}function D6(){return{fromIndividuals:[],toIndividuals:[],count:0}}function yVt(t,e,n){var r=[];function i(S){for(var x=0;x<S.length;x++){var C=S[x];yO(C)?i(C.childrenRef()):C instanceof $r&&r.push(C)}}i(t);var o=r.length;if(!o)return D6();var a=n.dividePath||U2e,s=a({path:e,count:o});if(s.length!==o)return console.error("Invalid morphing: unmatched splitted path"),D6();r=_O(r),s=_O(s);for(var l=n.done,u=n.during,c=n.individualDelay,f=new zd,d=0;d<o;d++){var h=r[d],p=s[d];p.parent=e,p.copyTransform(f),c||G2e(h,p)}e.__isCombineMorphing=!0,e.childrenRef=function(){return s};function v(S){for(var x=0;x<s.length;x++)s[x].addSelfToZr(S)}bO(e,"addSelfToZr",{after:function(S){v(S)}}),bO(e,"removeSelfFromZr",{after:function(S){for(var x=0;x<s.length;x++)s[x].removeSelfFromZr(S)}});function g(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,dx(e,"addSelfToZr"),dx(e,"removeSelfFromZr")}var m=s.length;if(c)for(var y=m,b=function(){y--,y===0&&(g(),l&&l())},d=0;d<m;d++){var w=c?Yn({delay:(n.delay||0)+c(d,m,r[d],s[d]),done:b},n):n;mU(r[d],s[d],w)}else e.__morphT=0,e.animateTo({__morphT:1},Yn({during:function(S){for(var x=0;x<m;x++){var C=s[x];C.__morphT=e.__morphT,C.dirtyShape()}u&&u(S)},done:function(){g();for(var S=0;S<t.length;S++)dx(t[S],"updateTransform");l&&l()}},n));return e.__zr&&v(e.__zr),{fromIndividuals:r,toIndividuals:s,count:m}}function bVt(t,e,n){var r=e.length,i=[],o=n.dividePath||U2e;function a(h){for(var p=0;p<h.length;p++){var v=h[p];yO(v)?a(v.childrenRef()):v instanceof $r&&i.push(v)}}if(yO(t)){a(t.childrenRef());var s=i.length;if(s<r)for(var l=0,u=s;u<r;u++)i.push(DG(i[l++%s]));i.length=r}else{i=o({path:t,count:r});for(var c=t.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(c);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),D6()}i=_O(i),e=_O(e);for(var f=n.individualDelay,u=0;u<r;u++){var d=f?Yn({delay:(n.delay||0)+f(u,r,i[u],e[u])},n):n;mU(i[u],e[u],d)}return{fromIndividuals:i,toIndividuals:e,count:e.length}}function fse(t){return Tt(t[0])}function dse(t,e){for(var n=[],r=t.length,i=0;i<r;i++)n.push({one:t[i],many:[]});for(var i=0;i<e.length;i++){var o=e[i].length,a=void 0;for(a=0;a<o;a++)n[a%r].many.push(e[i][a])}for(var s=0,i=r-1;i>=0;i--)if(!n[i].many.length){var l=n[s].many;if(l.length<=1)if(s)s=0;else return n;var o=l.length,u=Math.ceil(o/2);n[i].many=l.slice(u,o),n[s].many=l.slice(0,u),s++}return n}var _Vt={clone:function(t){for(var e=[],n=1-Math.pow(1-t.path.style.opacity,1/t.count),r=0;r<t.count;r++){var i=DG(t.path);i.setStyle("opacity",n),e.push(i)}return e},split:null};function o$(t,e,n,r,i,o){if(!t.length||!e.length)return;var a=P_("update",r,i);if(!(a&&a.duration>0))return;var s=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},a),u,c;fse(t)&&(u=t,c=e),fse(e)&&(u=e,c=t);function f(m,y,b,w,S){var x=m.many,C=m.one;if(x.length===1&&!S){var E=y?x[0]:C,T=y?C:x[0];if(yO(E))f({many:[E],one:T},!0,b,w,!0);else{var A=s?Yn({delay:s(b,w)},l):l;mU(E,T,A),o(E,T,E,T,A)}}else for(var k=Yn({dividePath:_Vt[n],individualDelay:s&&function(V,P,B,j){return s(V+b,w)}},l),M=y?yVt(x,C,k):bVt(C,x,k),D=M.fromIndividuals,L=M.toIndividuals,I=D.length,R=0;R<I;R++){var A=s?Yn({delay:s(R,I)},l):l;o(D[R],L[R],y?x[R]:m.one,y?m.one:x[R],A)}}for(var d=u?u===t:t.length>e.length,h=u?dse(c,u):dse(d?e:t,[d?t:e]),p=0,v=0;v<h.length;v++)p+=h[v].many.length;for(var g=0,v=0;v<h.length;v++)f(h[v],d,g,p),g+=h[v].many.length}function Dg(t){if(!t)return[];if(Tt(t)){for(var e=[],n=0;n<t.length;n++)e.push(Dg(t[n]));return e}var r=[];return t.traverse(function(i){i instanceof $r&&!i.disableMorphing&&!i.invisible&&!i.ignore&&r.push(i)}),r}var W2e=1e4,wVt=0,hse=1,pse=2,SVt=Qr();function xVt(t,e){for(var n=t.dimensions,r=0;r<n.length;r++){var i=t.getDimensionInfo(n[r]);if(i&&i.otherDims[e]===0)return n[r]}}function CVt(t,e,n){var r=t.getDimensionInfo(n),i=r&&r.ordinalMeta;if(r){var o=t.get(r.name,e);return i&&i.categories[o]||o+""}}function vse(t,e,n,r){var i=r?"itemChildGroupId":"itemGroupId",o=xVt(t,i);if(o){var a=CVt(t,e,o);return a}var s=t.getRawDataItem(e),l=r?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!r)return n||t.getId(e)}function gse(t){var e=[];return ie(t,function(n){var r=n.data,i=n.dataGroupId;if(!(r.count()>W2e))for(var o=r.getIndices(),a=0;a<o.length;a++)e.push({data:r,groupId:vse(r,a,i,!1),childGroupId:vse(r,a,i,!0),divide:n.divide,dataIndex:a})}),e}function a$(t,e,n){t.traverse(function(r){r instanceof $r&&eo(r,{style:{opacity:0}},e,{dataIndex:n,isFrom:!0})})}function s$(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function M0(t){t.stopAnimation(),t.isGroup&&t.traverse(function(e){e.stopAnimation()})}function EVt(t,e,n){var r=P_("update",n,e);r&&t.traverse(function(i){if(i instanceof Zu){var o=_2t(i);o&&i.animateFrom({style:o},r)}})}function TVt(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++){var i=t[r],o=e[r];if(i.data.getId(i.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}function q2e(t,e,n){var r=gse(t),i=gse(e);function o(b,w,S,x,C){(S||b)&&w.animateFrom({style:S&&S!==b?yt(yt({},S.style),b.style):b.style},C)}var a=!1,s=wVt,l=Mn(),u=Mn();r.forEach(function(b){b.groupId&&l.set(b.groupId,!0),b.childGroupId&&u.set(b.childGroupId,!0)});for(var c=0;c<i.length;c++){var f=i[c].groupId;if(u.get(f)){s=hse;break}var d=i[c].childGroupId;if(d&&l.get(d)){s=pse;break}}function h(b,w){return function(S){var x=S.data,C=S.dataIndex;return w?x.getId(C):b?s===hse?S.childGroupId:S.groupId:s===pse?S.childGroupId:S.groupId}}var p=TVt(r,i),v={};if(!p)for(var c=0;c<i.length;c++){var g=i[c],m=g.data.getItemGraphicEl(g.dataIndex);m&&(v[m.id]=!0)}function y(b,w){var S=r[w],x=i[b],C=x.data.hostModel,E=S.data.getItemGraphicEl(S.dataIndex),T=x.data.getItemGraphicEl(x.dataIndex);if(E===T){T&&EVt(T,x.dataIndex,C);return}E&&v[E.id]||T&&(M0(T),E?(M0(E),s$(E),a=!0,o$(Dg(E),Dg(T),x.divide,C,b,o)):a$(T,C,b))}new mh(r,i,h(!0,p),h(!1,p),null,"multiple").update(y).updateManyToOne(function(b,w){var S=i[b],x=S.data,C=x.hostModel,E=x.getItemGraphicEl(S.dataIndex),T=yi(kt(w,function(A){return r[A].data.getItemGraphicEl(r[A].dataIndex)}),function(A){return A&&A!==E&&!v[A.id]});E&&(M0(E),T.length?(ie(T,function(A){M0(A),s$(A)}),a=!0,o$(Dg(T),Dg(E),S.divide,C,b,o)):a$(E,C,S.dataIndex))}).updateOneToMany(function(b,w){var S=r[w],x=S.data.getItemGraphicEl(S.dataIndex);if(!(x&&v[x.id])){var C=yi(kt(b,function(T){return i[T].data.getItemGraphicEl(i[T].dataIndex)}),function(T){return T&&T!==x}),E=i[b[0]].data.hostModel;C.length&&(ie(C,function(T){return M0(T)}),x?(M0(x),s$(x),a=!0,o$(Dg(x),Dg(C),S.divide,E,b[0],o)):ie(C,function(T){return a$(T,E,b[0])}))}}).updateManyToMany(function(b,w){new mh(w,b,function(S){return r[S].data.getId(r[S].dataIndex)},function(S){return i[S].data.getId(i[S].dataIndex)}).update(function(S,x){y(b[S],w[x])}).execute()}).execute(),a&&ie(e,function(b){var w=b.data,S=w.hostModel,x=S&&n.getViewOfSeriesModel(S),C=P_("update",S,0);x&&S.isAnimationEnabled()&&C&&C.duration>0&&x.group.traverse(function(E){E instanceof $r&&!E.animators.length&&E.animateFrom({style:{opacity:0}},C)})})}function mse(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function yse(t){return Tt(t)?t.sort().join(","):t}function gp(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function AVt(t,e){var n=Mn(),r=Mn(),i=Mn();return ie(t.oldSeries,function(o,a){var s=t.oldDataGroupIds[a],l=t.oldData[a],u=mse(o),c=yse(u);r.set(c,{dataGroupId:s,data:l}),Tt(u)&&ie(u,function(f){i.set(f,{key:c,dataGroupId:s,data:l})})}),ie(e.updatedSeries,function(o){if(o.isUniversalTransitionEnabled()&&o.isAnimationEnabled()){var a=o.get("dataGroupId"),s=o.getData(),l=mse(o),u=yse(l),c=r.get(u);if(c)n.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:gp(c.data),data:c.data}],newSeries:[{dataGroupId:a,divide:gp(s),data:s}]});else if(Tt(l)){var f=[];ie(l,function(p){var v=r.get(p);v.data&&f.push({dataGroupId:v.dataGroupId,divide:gp(v.data),data:v.data})}),f.length&&n.set(u,{oldSeries:f,newSeries:[{dataGroupId:a,data:s,divide:gp(s)}]})}else{var d=i.get(l);if(d){var h=n.get(d.key);h||(h={oldSeries:[{dataGroupId:d.dataGroupId,data:d.data,divide:gp(d.data)}],newSeries:[]},n.set(d.key,h)),h.newSeries.push({dataGroupId:a,data:s,divide:gp(s)})}}}}),n}function bse(t,e){for(var n=0;n<t.length;n++){var r=e.seriesIndex!=null&&e.seriesIndex===t[n].seriesIndex||e.seriesId!=null&&e.seriesId===t[n].id;if(r)return n}}function kVt(t,e,n,r){var i=[],o=[];ie(Mi(t.from),function(a){var s=bse(e.oldSeries,a);s>=0&&i.push({dataGroupId:e.oldDataGroupIds[s],data:e.oldData[s],divide:gp(e.oldData[s]),groupIdDim:a.dimension})}),ie(Mi(t.to),function(a){var s=bse(n.updatedSeries,a);if(s>=0){var l=n.updatedSeries[s].getData();o.push({dataGroupId:e.oldDataGroupIds[s],data:l,divide:gp(l),groupIdDim:a.dimension})}}),i.length>0&&o.length>0&&q2e(i,o,r)}function MVt(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,n,r){ie(Mi(r.seriesTransition),function(i){ie(Mi(i.to),function(o){for(var a=r.updatedSeries,s=0;s<a.length;s++)(o.seriesIndex!=null&&o.seriesIndex===a[s].seriesIndex||o.seriesId!=null&&o.seriesId===a[s].id)&&(a[s][Kk]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(e,n,r){var i=SVt(n);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var o=r.seriesTransition;if(o)ie(Mi(o),function(h){kVt(h,i,r,n)});else{var a=AVt(i,r);ie(a.keys(),function(h){var p=a.get(h);q2e(p.oldSeries,p.newSeries,n)})}ie(r.updatedSeries,function(h){h[Kk]&&(h[Kk]=!1)})}for(var s=e.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],c=i.oldData=[],f=0;f<s.length;f++){var d=s[f].getData();d.count()<W2e&&(l.push(s[f]),u.push(s[f].get("dataGroupId")),c.push(d))}})}Dr([FMt]);Dr([LMt]);Dr([oPt,_Pt,PPt,uOt,_Ot,aIt,LIt,mRt,FRt,URt,eLt,KLt,bDt,PDt,WDt,XDt,aNt,hNt,CNt,PNt,VNt,x3t]);Dr(H3t);Dr(p4t);Dr(Uxe);Dr(A4t);Dr(PCe);Dr(O4t);Dr(V4t);Dr(ABt);Dr(WBt);Dr(aE);Dr(u$t);Dr(d$t);Dr(S$t);Dr(M$t);Dr(D$t);Dr(z$t);Dr(Z$t);Dr(vFt);Dr(R2e);Dr(L2e);Dr(DFt);Dr(F2e);Dr(V2e);Dr(VFt);Dr(QFt);Dr(nVt);Dr(MVt);Dr(eMt);const PVt={name:"App",components:{}},OVt=ue({...PVt,props:{processor_id:iA,old_project_id:iA,name:String,type:iA,is_private:iA},setup(t){const e=t,n=Bn({project:[{required:!0,message:"",trigger:"blur"}]}),r=F(),i=F(-1),o=F(-1),a=F(""),s=F(1),l=F(1),u=F(!1),c=Bn({project:""});Jt(()=>{i.value=e.processor_id,o.value=e.old_project_id,a.value=e.name,s.value=e.type,l.value=e.is_private,u.value=!0,l.value?c.project="":c.project="",console.log("share process mounted: ",l.value)});const f=async h=>{h&&await h.validate((p,v)=>{if(p){var g=-3;c.project==""&&(g=-1),c.project!=""&&c.project!=""&&(g=c.project),console.log("publish processor: ",i.value,g),Et.post("/processor/public_processor/",Hn.stringify({id:i.value,project_id:g})).then(m=>{m.status!=200||m.data.status!=0?st.warning(""+m.data.msg):(console.log(m.data),st.success(""),Me.emit("share_processor_success",{id:i.value,project_id:g,old_project_id:o.value,name:a.value,type:s.value}))}).catch(m=>{st.error(""+m),console.log(m)})}else console.log("error submit!",v)})},d=(h,p)=>{if(h.isLeaf)return p([]);var v=h.data.id,g;if(console.log("load data: ",h.data.id,h.data.value,h.data.label,l.value),v&&v<0&&(l.value==1?v=-3:v=-1),v==null){var m=-1;l.value==1&&(m=-3),g={id:m}}else g={id:v};Et.get("/processor/get_processor_tree_async/",{params:g}).then(y=>{var b=[];for(const w of y.data)w.is_project&&b.push({id:w.id,value:w.id,label:w.text,isLeaf:!w.is_project});return console.log(b),p(b)}).catch(y=>console.log(y))};return(h,p)=>{const v=pe("el-tree-select"),g=pe("el-form-item"),m=pe("el-divider"),y=pe("el-button"),b=pe("el-form");return N(),de(b,{ref_key:"ruleFormRef",ref:r,style:{"max-width":"750px"},model:c,rules:n,"label-width":"auto","label-position":"left"},{default:$(()=>[u.value?(N(),de(g,{key:0,prop:"project",label:"",required:""},{default:$(()=>[O(v,{modelValue:c.project,"onUpdate:modelValue":p[0]||(p[0]=w=>c.project=w),lazy:"",load:d,props:h.processor_props,"check-strictly":"","render-after-expand":!1,style:{width:"100%"}},null,8,["modelValue","props"])]),_:1})):ge("",!0),O(m,{"border-style":"dashed"}),O(g,null,{default:$(()=>[l.value==1?(N(),de(y,{key:0,plain:"",type:"primary",onClick:p[1]||(p[1]=w=>f(r.value)),icon:_(Gu)},{default:$(()=>[...p[3]||(p[3]=[Be("  ",-1)])]),_:1},8,["icon"])):(N(),de(y,{key:1,plain:"",type:"primary",onClick:p[2]||(p[2]=w=>f(r.value)),icon:_(Gu)},{default:$(()=>[...p[4]||(p[4]=[Be("  ",-1)])]),_:1},8,["icon"]))]),_:1})]),_:1},8,["model","rules"])}}}),IVt={class:"cell-item"},RVt={class:"cell-item"},LVt={class:"cell-item"},DVt={key:0},NVt={key:1},BVt={class:"cell-item"},$Vt={class:"cell-item"},FVt={class:"cell-item"},VVt={class:"flex items-center justify-center h-100%"},zVt={key:0},HVt={key:1},jVt=ue({__name:"ProcessorInfo",props:{processor_info:Map},setup(t){const e=F({}),n=F(""),r=F(""),i=F(""),o=F(""),a=F(1),s=F(""),l=F(""),u=F("python"),c=F(1),f=F(""),d=F([]),h=F(!1),p=F(-1),v=F(-1),g=t;Jt(()=>{m(),x(g.processor_info)}),ur(()=>{y()});const m=()=>{Me.on("share_processor_success",E=>{a.value==1?a.value=0:a.value=1,h.value=!1,v.value=E.project_id}),Me.on("upate_processor_to_show_detail",E=>{x(E)})},y=()=>{Me.off("share_processor_success",null),Me.off("upate_processor_to_show_detail",null)},b=()=>{console.log("clickUpdateProcessor",e.value),Me.emit("click_upadate_processor",e.value)},w=()=>{Me.emit("click_delete_processor",e.value)},S=()=>{h.value=!0},x=E=>{if(console.log("update_processor:",E),!(!E||!E.proc_detail||!E.proc_detail.processor)){if(p.value=E.proc_detail.processor.id,v.value=E.proc_detail.processor.project_id,e.value=E.proc_detail,e.value.parent={label:E.project_path,key:v.value},n.value=E.proc_detail.processor.name,r.value=E.proc_detail.owner_name,f.value=E.proc_detail.processor.template,i.value=[],E.proc_detail.processor.user_list!=""&&(i.value=E.proc_detail.processor.user_list.split(",")),o.value=[],E.proc_detail.processor.tag!=""&&(o.value=E.proc_detail.processor.tag.split(",")),a.value=E.proc_detail.processor.private,s.value=E.proc_detail.processor.update_time,l.value=E.proc_detail.processor.description,c.value=E.proc_detail.processor.type,E.proc_detail.processor.type==5?u.value="shell":E.proc_detail.processor.type==6?u.value="docker":E.proc_detail.processor.type==7&&(u.value="ClickhouseSQL"),d.value=[],E.proc_detail.config_str){var T=E.proc_detail.config_str.split(`
`);for(const M of T){var A=M.split("=");if(A[0].trim()!=""){console.log(A);var k=A[1].split("H0");d.value.push({name:A[0],default:k[0],desc:k[1]})}}}console.log("processor info coming: ",e.value)}},C=z(()=>{const E={large:"8px",default:"6px"};return{marginRight:E.large||E.default}});return(E,T)=>{const A=pe("el-text"),k=pe("el-badge"),M=pe("el-button"),D=pe("el-button-group"),L=pe("el-divider"),I=pe("el-icon"),R=pe("el-tag"),V=pe("el-descriptions-item"),P=pe("el-tooltip"),B=pe("el-descriptions"),j=pe("el-table-column"),G=pe("el-empty"),W=pe("el-table"),Z=pe("el-scrollbar"),ee=pe("el-drawer");return N(),Q(ft,null,[O(Z,{style:{height:"90vh"}},{default:$(()=>[O(k,{class:"item",style:{float:"left"},value:u.value,type:"primary"},{default:$(()=>[O(A,{style:{"font-size":"24px"}},{default:$(()=>[Be(Ne(n.value),1)]),_:1})]),_:1},8,["value"]),O(D,{class:"ml-4",style:{float:"right","margin-top":"10px"}},{default:$(()=>[O(M,{plain:"",type:"primary",onClick:w,icon:_(ju)},{default:$(()=>[...T[1]||(T[1]=[Be("",-1)])]),_:1},8,["icon"]),O(M,{plain:"",type:"primary",onClick:b,icon:_(Gu)},{default:$(()=>[...T[2]||(T[2]=[Be("",-1)])]),_:1},8,["icon"])]),_:1}),O(L,{style:{float:"right"}}),O(B,{"label-width":"150",class:"margin-top",column:2,size:"large",border:""},{extra:$(()=>[...T[3]||(T[3]=[])]),default:$(()=>[O(V,null,{label:$(()=>[K("div",IVt,[O(I,{style:Ot(C.value)},{default:$(()=>[O(_(Jde))]),_:1},8,["style"]),T[4]||(T[4]=Be("  ",-1))])]),default:$(()=>[O(R,{size:"large",type:"info"},{default:$(()=>[Be(Ne(r.value),1)]),_:1})]),_:1}),O(V,null,{label:$(()=>[K("div",RVt,[O(I,{style:Ot(C.value)},{default:$(()=>[O(_(TVe))]),_:1},8,["style"]),T[5]||(T[5]=Be("  ",-1))])]),default:$(()=>[O(A,{"line-clamp":"20"},{default:$(()=>[(N(!0),Q(ft,null,gn(o.value,oe=>(N(),de(R,{size:"large",type:"primary",style:{"margin-left":"3px"}},{default:$(()=>[Be(Ne(oe),1)]),_:2},1024))),256))]),_:1})]),_:1}),O(V,null,{label:$(()=>[K("div",LVt,[O(I,{style:Ot(C.value)},{default:$(()=>[O(_(OVe))]),_:1},8,["style"]),T[6]||(T[6]=Be("  ",-1))])]),default:$(()=>[a.value==1?(N(),Q("div",DVt,[O(R,{type:"warning",style:{"margin-left":"3px"}},{default:$(()=>[...T[7]||(T[7]=[Be("",-1)])]),_:1}),O(P,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(M,{size:"small",icon:_(i5e),circle:"",style:{border:"0px"},onClick:S},null,8,["icon"])]),_:1})])):(N(),Q("div",NVt,[O(R,{type:"warning",style:{"margin-left":"3px"}},{default:$(()=>[...T[8]||(T[8]=[Be("",-1)])]),_:1}),O(P,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(M,{size:"small",icon:_(g5e),circle:"",style:{border:"0px"},onClick:S},null,8,["icon"])]),_:1})]))]),_:1}),O(V,null,{label:$(()=>[K("div",BVt,[O(I,{style:Ot(C.value)},{default:$(()=>[O(_(y5e))]),_:1},8,["style"]),T[9]||(T[9]=Be("  ",-1))])]),default:$(()=>[O(A,{size:""},{default:$(()=>[Be(Ne(s.value),1)]),_:1})]),_:1}),O(V,null,{label:$(()=>[K("div",$Vt,[O(I,{style:Ot(C.value)},{default:$(()=>[O(_($K))]),_:1},8,["style"]),T[10]||(T[10]=Be("  ",-1))])]),default:$(()=>[(N(!0),Q(ft,null,gn(i.value,oe=>(N(),de(R,{size:"",type:"success",style:{"margin-left":"3px"}},{default:$(()=>[Be(Ne(oe),1)]),_:2},1024))),256))]),_:1}),O(V,null,{label:$(()=>[K("div",FVt,[O(I,{style:Ot(C.value)},{default:$(()=>[O(_($K))]),_:1},8,["style"]),T[11]||(T[11]=Be("  ",-1))])]),default:$(()=>[O(A,{type:"",size:""},{default:$(()=>[Be(Ne(l.value),1)]),_:1})]),_:1}),c.value===5||c.value===6||c.value===7?(N(),de(V,{key:0,label:""},{default:$(()=>[O(A,{type:"info",tag:"pre"},{default:$(()=>[Be(Ne(f.value),1)]),_:1})]),_:1})):ge("",!0)]),_:1}),O(L),O(W,{border:"",data:d.value,"min-height":"200",height:"100%",style:{width:"100%"}},{empty:$(()=>[K("div",VVt,[O(G)])]),default:$(()=>[O(j,{prop:"name",label:"",width:"280","header-align":"center",align:"left"}),O(j,{prop:"default",label:"",width:"280","header-align":"center",align:"left"}),O(j,{prop:"desc",label:"","header-align":"center",align:"left"})]),_:1},8,["data"])]),_:1}),O(ee,{modelValue:h.value,"onUpdate:modelValue":T[0]||(T[0]=oe=>h.value=oe),direction:E.drawer_direction,size:"50%","destroy-on-close":!0},{header:$(()=>[a.value==1?(N(),Q("h4",zVt,"")):(N(),Q("h4",HVt,""))]),default:$(()=>[O(OVt,{processor_id:p.value,old_project_id:v.value,name:n.value,type:c.value,is_private:a.value},null,8,["processor_id","old_project_id","name","type","is_private"])]),_:1},8,["modelValue","direction"])],64)}}}),K2e=ds(jVt,[["__scopeId","data-v-70c9efb7"]]),GVt="/images/git.png",UVt=["alt"],WVt={__name:"gitIcon",props:{src:{type:String,required:!0},alt:{type:String,default:"Custom Icon"}},setup(t){return(e,n)=>(N(),Q("img",{src:GVt,alt:t.alt,class:"custom-icon"},null,8,UVt))}},qVt=ds(WVt,[["__scopeId","data-v-53e08fcc"]]),KVt="/images/zip.png",YVt=["alt"],XVt={__name:"zipIcon",props:{src:{type:String,required:!0},alt:{type:String,default:"Custom Icon"}},setup(t){return(e,n)=>(N(),Q("img",{src:KVt,alt:t.alt,class:"custom-icon"},null,8,YVt))}},ZVt=ds(XVt,[["__scopeId","data-v-0134c55c"]]);var nM={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT  Zeno Rocha
 */var JVt=nM.exports,_se;function QVt(){return _se||(_se=1,(function(t,e){(function(r,i){t.exports=i()})(JVt,function(){return(function(){var n={686:(function(o,a,s){s.d(a,{default:function(){return G}});var l=s(279),u=s.n(l),c=s(370),f=s.n(c),d=s(817),h=s.n(d);function p(W){try{return document.execCommand(W)}catch{return!1}}var v=function(Z){var ee=h()(Z);return p("cut"),ee},g=v;function m(W){var Z=document.documentElement.getAttribute("dir")==="rtl",ee=document.createElement("textarea");ee.style.fontSize="12pt",ee.style.border="0",ee.style.padding="0",ee.style.margin="0",ee.style.position="absolute",ee.style[Z?"right":"left"]="-9999px";var oe=window.pageYOffset||document.documentElement.scrollTop;return ee.style.top="".concat(oe,"px"),ee.setAttribute("readonly",""),ee.value=W,ee}var y=function(Z,ee){var oe=m(Z);ee.container.appendChild(oe);var ce=h()(oe);return p("copy"),oe.remove(),ce},b=function(Z){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},oe="";return typeof Z=="string"?oe=y(Z,ee):Z instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(Z?.type)?oe=y(Z.value,ee):(oe=h()(Z),p("copy")),oe},w=b;function S(W){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(ee){return typeof ee}:S=function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},S(W)}var x=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=Z.action,oe=ee===void 0?"copy":ee,ce=Z.container,X=Z.target,H=Z.text;if(oe!=="copy"&&oe!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(X!==void 0)if(X&&S(X)==="object"&&X.nodeType===1){if(oe==="copy"&&X.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(oe==="cut"&&(X.hasAttribute("readonly")||X.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(H)return w(H,{container:ce});if(X)return oe==="cut"?g(X):w(X,{container:ce})},C=x;function E(W){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(ee){return typeof ee}:E=function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},E(W)}function T(W,Z){if(!(W instanceof Z))throw new TypeError("Cannot call a class as a function")}function A(W,Z){for(var ee=0;ee<Z.length;ee++){var oe=Z[ee];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(W,oe.key,oe)}}function k(W,Z,ee){return Z&&A(W.prototype,Z),ee&&A(W,ee),W}function M(W,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(Z&&Z.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),Z&&D(W,Z)}function D(W,Z){return D=Object.setPrototypeOf||function(oe,ce){return oe.__proto__=ce,oe},D(W,Z)}function L(W){var Z=V();return function(){var oe=P(W),ce;if(Z){var X=P(this).constructor;ce=Reflect.construct(oe,arguments,X)}else ce=oe.apply(this,arguments);return I(this,ce)}}function I(W,Z){return Z&&(E(Z)==="object"||typeof Z=="function")?Z:R(W)}function R(W){if(W===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function P(W){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},P(W)}function B(W,Z){var ee="data-clipboard-".concat(W);if(Z.hasAttribute(ee))return Z.getAttribute(ee)}var j=(function(W){M(ee,W);var Z=L(ee);function ee(oe,ce){var X;return T(this,ee),X=Z.call(this),X.resolveOptions(ce),X.listenClick(oe),X}return k(ee,[{key:"resolveOptions",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof ce.action=="function"?ce.action:this.defaultAction,this.target=typeof ce.target=="function"?ce.target:this.defaultTarget,this.text=typeof ce.text=="function"?ce.text:this.defaultText,this.container=E(ce.container)==="object"?ce.container:document.body}},{key:"listenClick",value:function(ce){var X=this;this.listener=f()(ce,"click",function(H){return X.onClick(H)})}},{key:"onClick",value:function(ce){var X=ce.delegateTarget||ce.currentTarget,H=this.action(X)||"copy",U=C({action:H,container:this.container,target:this.target(X),text:this.text(X)});this.emit(U?"success":"error",{action:H,text:U,trigger:X,clearSelection:function(){X&&X.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(ce){return B("action",ce)}},{key:"defaultTarget",value:function(ce){var X=B("target",ce);if(X)return document.querySelector(X)}},{key:"defaultText",value:function(ce){return B("text",ce)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(ce){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return w(ce,X)}},{key:"cut",value:function(ce){return g(ce)}},{key:"isSupported",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],X=typeof ce=="string"?[ce]:ce,H=!!document.queryCommandSupported;return X.forEach(function(U){H=H&&!!document.queryCommandSupported(U)}),H}}]),ee})(u()),G=j}),828:(function(o){var a=9;if(typeof Element<"u"&&!Element.prototype.matches){var s=Element.prototype;s.matches=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector}function l(u,c){for(;u&&u.nodeType!==a;){if(typeof u.matches=="function"&&u.matches(c))return u;u=u.parentNode}}o.exports=l}),438:(function(o,a,s){var l=s(828);function u(d,h,p,v,g){var m=f.apply(this,arguments);return d.addEventListener(p,m,g),{destroy:function(){d.removeEventListener(p,m,g)}}}function c(d,h,p,v,g){return typeof d.addEventListener=="function"?u.apply(null,arguments):typeof p=="function"?u.bind(null,document).apply(null,arguments):(typeof d=="string"&&(d=document.querySelectorAll(d)),Array.prototype.map.call(d,function(m){return u(m,h,p,v,g)}))}function f(d,h,p,v){return function(g){g.delegateTarget=l(g.target,h),g.delegateTarget&&v.call(d,g)}}o.exports=c}),879:(function(o,a){a.node=function(s){return s!==void 0&&s instanceof HTMLElement&&s.nodeType===1},a.nodeList=function(s){var l=Object.prototype.toString.call(s);return s!==void 0&&(l==="[object NodeList]"||l==="[object HTMLCollection]")&&"length"in s&&(s.length===0||a.node(s[0]))},a.string=function(s){return typeof s=="string"||s instanceof String},a.fn=function(s){var l=Object.prototype.toString.call(s);return l==="[object Function]"}}),370:(function(o,a,s){var l=s(879),u=s(438);function c(p,v,g){if(!p&&!v&&!g)throw new Error("Missing required arguments");if(!l.string(v))throw new TypeError("Second argument must be a String");if(!l.fn(g))throw new TypeError("Third argument must be a Function");if(l.node(p))return f(p,v,g);if(l.nodeList(p))return d(p,v,g);if(l.string(p))return h(p,v,g);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function f(p,v,g){return p.addEventListener(v,g),{destroy:function(){p.removeEventListener(v,g)}}}function d(p,v,g){return Array.prototype.forEach.call(p,function(m){m.addEventListener(v,g)}),{destroy:function(){Array.prototype.forEach.call(p,function(m){m.removeEventListener(v,g)})}}}function h(p,v,g){return u(document.body,p,v,g)}o.exports=c}),817:(function(o){function a(s){var l;if(s.nodeName==="SELECT")s.focus(),l=s.value;else if(s.nodeName==="INPUT"||s.nodeName==="TEXTAREA"){var u=s.hasAttribute("readonly");u||s.setAttribute("readonly",""),s.select(),s.setSelectionRange(0,s.value.length),u||s.removeAttribute("readonly"),l=s.value}else{s.hasAttribute("contenteditable")&&s.focus();var c=window.getSelection(),f=document.createRange();f.selectNodeContents(s),c.removeAllRanges(),c.addRange(f),l=c.toString()}return l}o.exports=a}),279:(function(o){function a(){}a.prototype={on:function(s,l,u){var c=this.e||(this.e={});return(c[s]||(c[s]=[])).push({fn:l,ctx:u}),this},once:function(s,l,u){var c=this;function f(){c.off(s,f),l.apply(u,arguments)}return f._=l,this.on(s,f,u)},emit:function(s){var l=[].slice.call(arguments,1),u=((this.e||(this.e={}))[s]||[]).slice(),c=0,f=u.length;for(c;c<f;c++)u[c].fn.apply(u[c].ctx,l);return this},off:function(s,l){var u=this.e||(this.e={}),c=u[s],f=[];if(c&&l)for(var d=0,h=c.length;d<h;d++)c[d].fn!==l&&c[d].fn._!==l&&f.push(c[d]);return f.length?u[s]=f:delete u[s],this}},o.exports=a,o.exports.TinyEmitter=a})},r={};function i(o){if(r[o])return r[o].exports;var a=r[o]={exports:{}};return n[o](a,a.exports,i),a.exports}return(function(){i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,{a}),a}})(),(function(){i.d=function(o,a){for(var s in a)i.o(a,s)&&!i.o(o,s)&&Object.defineProperty(o,s,{enumerable:!0,get:a[s]})}})(),(function(){i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)}})(),i(686)})().default})})(nM)),nM.exports}var e5t=QVt();const t5t=nu(e5t),n5t=t=>({toClipboard(e,n){return new Promise((r,i)=>{const o=document.createElement("button"),a=new t5t(o,{text:()=>e,action:()=>"copy",container:n!==void 0?n:document.body});a.on("success",s=>{a.destroy(),r(s)}),a.on("error",s=>{a.destroy(),i(s)}),document.body.appendChild(o),o.click(),document.body.removeChild(o)})}}),r5t=ue({__name:"UploadInfo",props:{proc_name:String},setup(t){const e=t,n=F(),r=F(),i=F(),o=F(!1);F("");const{toClipboard:a}=n5t(),s=()=>{try{a(i.value),st({type:"success",message:""})}catch(u){console.error("",u),st({type:"error",message:""+u})}},l=()=>{Et.post("/processor/get_upload_cmd/",Hn.stringify({proc_name:n.value})).then(u=>{u.status!=200||(i.value=u.data.cmd.replaceAll("<font color=red>","").replaceAll("</font>",""),r.value=u.data.cmd.split("pass=")[0],console.log("upload_info",r.value),o.value=!0)}).catch(u=>{console.log(u)})};return Jt(()=>{n.value=e.proc_name,l()}),(u,c)=>{const f=pe("el-text"),d=pe("el-divider"),h=pe("el-button"),p=pe("el-alert"),v=pe("el-form");return N(),de(v,{"label-position":"right","label-width":"auto",style:{"max-width":"900px"}},{default:$(()=>[o.value?(N(),de(f,{key:0,type:"default",class:"mx-1"},{default:$(()=>[Be(Ne(r.value)+"pass=",1)]),_:1})):ge("",!0),o.value?(N(),de(f,{key:1,type:"danger",class:"mx-1"},{default:$(()=>[...c[0]||(c[0]=[Be("${password}",-1)])]),_:1})):ge("",!0),o.value?(N(),de(f,{key:2,type:"default",class:"mx-1"},{default:$(()=>[Be('" -F "proc_name='+Ne(n.value)+'" -F "package=@',1)]),_:1})):ge("",!0),o.value?(N(),de(f,{key:3,type:"danger",class:"mx-1"},{default:$(()=>[...c[1]||(c[1]=[Be("${package}",-1)])]),_:1})):ge("",!0),o.value?(N(),de(f,{key:4,type:"default",class:"mx-1"},{default:$(()=>[...c[2]||(c[2]=[Be('" -F "version_name=',-1)])]),_:1})):ge("",!0),o.value?(N(),de(f,{key:5,type:"danger",class:"mx-1"},{default:$(()=>[...c[3]||(c[3]=[Be("${version_name}",-1)])]),_:1})):ge("",!0),o.value?(N(),de(f,{key:6,type:"default",class:"mx-1"},{default:$(()=>[...c[4]||(c[4]=[Be('" -F "description=',-1)])]),_:1})):ge("",!0),o.value?(N(),de(f,{key:7,type:"danger",class:"mx-1"},{default:$(()=>[...c[5]||(c[5]=[Be("${description}",-1)])]),_:1})):ge("",!0),o.value?(N(),de(f,{key:8,type:"default",class:"mx-1"},{default:$(()=>[...c[6]||(c[6]=[Be('"',-1)])]),_:1})):ge("",!0),O(d),O(h,{plain:"",icon:_(Ez),style:{"margin-top":"30px"},type:"primary",onClick:s},{default:$(()=>[...c[7]||(c[7]=[Be("",-1)])]),_:1},8,["icon"]),O(d),O(p,{type:"info","show-icon":"",closable:!1},{default:$(()=>[...c[8]||(c[8]=[K("p",null,":",-1),K("p",null,"",-1),K("p",null,"1.${password} ",-1),K("p",null,"2.${package_name} : /root/test/test.tar.gz",-1),K("p",null,"3.${version_name} ",-1),K("p",null,"4.${description} ",-1)])]),_:1})]),_:1})}}}),i5t={class:"el-upload__tip"},o5t=ue({__name:"UploadFile",props:{proc_id:String,proc_name:String,proc_verion:String,now_versions:Set,desc:String},setup(t){const e=t,n=F(),r=F(),i=F(),o=F(null),a=F(!1),s=F(0),l=F(""),u=F(),c=y=>{i.value.clearFiles();const b=y[0];b.uid=tP(),i.value.handleStart(b)},f=y=>(console.log(y),y.name.endsWith(".zip")?(o.value=y,console.log("fileData.value: ",o.value),!0):(o.value=null,i.value.clearFiles(),st({type:"error",message:"zip"}),!1)),d=Bn({version:"",description:"",file:""}),h=F(),p=Bn({version:[{required:!1,message:"",trigger:"blur"}],description:[{required:!1,message:"",trigger:"blur"}],file:[{required:!1,message:"",trigger:"blur"}]}),v=y=>{if(!y.file){st({type:"error",message:""});return}const b=new FormData;b.append("file",y.file),b.append("proc_id",r.value),b.append("version_name",d.version),b.append("type","0"),b.append("desc",d.description);const w=new XMLHttpRequest;w.upload.addEventListener("progress",x=>{s.value=Math.round(x.loaded/x.total*100)}),w.open("POST",Et.defaults.baseURL+"/processor/upload_package_with_local/",!0);const S=localStorage.getItem("access_token");w.setRequestHeader("Authorization","Bearer "+S),w.onload=()=>{w.status===200?(l.value="success",y.onSuccess(w.response),st({type:"success",message:""}),Me.emit("success_upload_processor","")):(l.value="exception",y.onError(new Error("")))},w.onerror=()=>{l.value="exception",y.onError(new Error(""))},w.send(b)},g=()=>{if(!m(d.version)){st({type:"error",message:""});return}if(o.value===null){st({type:"error",message:""});return}a.value=!0,i.value.submit()},m=y=>e.proc_verion&&e.proc_verion!=""?!0:(console.log(y,u.value),!u.value?.has(y));return Jt(()=>{r.value=e.proc_id,n.value=e.proc_name,d.version="VER.0.0.0",d.description="",e.desc&&e.desc!=""&&(d.description=e.desc),e.proc_verion&&e.proc_verion!=""&&(d.version=e.proc_verion),e.now_versions&&(u.value=e.now_versions)}),(y,b)=>{const w=pe("el-input"),S=pe("el-form-item"),x=pe("el-icon"),C=pe("el-text"),E=pe("el-alert"),T=pe("el-upload"),A=pe("el-divider"),k=pe("el-progress"),M=pe("el-button"),D=pe("el-form");return N(),de(D,{ref_key:"ruleFormRef",ref:h,rules:p,"label-position":"right","label-width":"auto",style:{"max-width":"900px"}},{default:$(()=>[O(S,{prop:"version",label:""},{default:$(()=>[O(w,{modelValue:d.version,"onUpdate:modelValue":b[0]||(b[0]=L=>d.version=L)},null,8,["modelValue"])]),_:1}),O(S,{prop:"description",label:""},{default:$(()=>[O(w,{modelValue:d.description,"onUpdate:modelValue":b[1]||(b[1]=L=>d.description=L),type:"textarea"},null,8,["modelValue"])]),_:1}),O(T,{ref_key:"uploadRef",ref:i,class:"upload-demo",drag:"","on-change":f,"http-request":v,"auto-upload":!1,limit:1,"on-exceed":c,action:""},{tip:$(()=>[K("div",i5t,[O(E,{type:"info","show-icon":"",closable:!1},{default:$(()=>[O(C,{type:"default"},{default:$(()=>[...b[2]||(b[2]=[Be("",-1)])]),_:1}),O(C,{type:"danger"},{default:$(()=>[...b[3]||(b[3]=[Be("ZIP",-1)])]),_:1}),O(C,{type:"default"},{default:$(()=>[...b[4]||(b[4]=[Be("",-1)])]),_:1}),O(C,{type:"danger"},{default:$(()=>[...b[5]||(b[5]=[Be("",-1)])]),_:1})]),_:1})])]),default:$(()=>[O(x,{class:"el-icon--upload"},{default:$(()=>[O(_(uF))]),_:1}),b[6]||(b[6]=K("div",{class:"el-upload__text"},[Be("   "),K("em",null,"")],-1))]),_:1},512),O(A),a.value?(N(),de(k,{key:0,percentage:s.value,status:l.value},null,8,["percentage","status"])):ge("",!0),O(M,{type:"primary",plain:"",icon:_(uF),onClick:g},{default:$(()=>[...b[7]||(b[7]=[Be("",-1)])]),_:1},8,["icon"])]),_:1},8,["rules"])}}}),a5t=ue({__name:"UploadGit",props:{proc_id:String,proc_name:String,git_url:String,desc:String,proc_verion:String,now_versions:Set},setup(t){const e=t,n=F(),r=F(),i=F(),o=F(),a=F("git"),s=F(),l=()=>{if(i.value.trim()==""){st({type:"error",message:""});return}if(a.value.trim()==""){st({type:"error",message:""});return}if(!u(i.value)){st({type:"error",message:""});return}if(o.value===null||o.value.trim()==""){st({type:"error",message:""});return}Et.post("/processor/upload_package_with_local/",Hn.stringify({proc_id:r.value,version_name:i.value,type:"1",desc:a.value,git_url:o.value})).then(c=>{c.data.status!=0?st.warning("git: "+c.data.msg):(st.success("git"),Me.emit("success_upload_processor",""))}).catch(c=>{st.error("git: "+c)})},u=c=>e.proc_verion&&e.proc_verion!=""?!0:!s.value?.has(c);return Jt(()=>{r.value=e.proc_id,n.value=e.proc_name,i.value="VER.0.0.0",o.value=e.git_url,e.proc_verion&&e.proc_verion!=""&&(i.value=e.proc_verion),e.desc&&e.desc!=""&&(a.value=e.desc),e.now_versions&&(s.value=e.now_versions)}),(c,f)=>{const d=pe("el-input"),h=pe("el-form-item"),p=pe("el-divider"),v=pe("el-button"),g=pe("el-form");return N(),de(g,{"label-position":"right","label-width":"auto",style:{"max-width":"900px"}},{default:$(()=>[O(h,{label:""},{default:$(()=>[O(d,{modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=m=>i.value=m)},null,8,["modelValue"])]),_:1}),O(h,{label:"git"},{default:$(()=>[O(d,{modelValue:o.value,"onUpdate:modelValue":f[1]||(f[1]=m=>o.value=m)},null,8,["modelValue"])]),_:1}),O(h,{label:""},{default:$(()=>[O(d,{modelValue:a.value,"onUpdate:modelValue":f[2]||(f[2]=m=>a.value=m),type:"textarea"},null,8,["modelValue"])]),_:1}),O(p),O(v,{type:"primary",plain:"",icon:_(uF),onClick:l},{default:$(()=>[...f[3]||(f[3]=[Be("",-1)])]),_:1},8,["icon"])]),_:1})}}}),s5t={class:"flex items-center justify-center h-100%"},Y2e=ue({__name:"ProcessorVersions",props:{processor_info:Map},setup(t){const e=F({}),n=F(),r=F(""),i=F(""),o=F(""),a=F(""),s=F(),l=F("python"),u=F(!1),c=F(!1),f=F(!1),d=F(!1),h=F([]),p=F(),v=F("rtl"),g=()=>{Me.on("success_upload_processor",E=>{c.value=!1,f.value=!1,x()}),Me.on("upate_processor_to_show_detail",E=>{console.log("00005 upate_processor_to_show_detail coming."),C(E)})},m=()=>{Me.off("success_upload_processor",null),Me.off("upate_processor_to_show_detail",null)},y=E=>{d.value=!0,s.value=E.id,console.log("get detail: ",n.value,s.value)},b=E=>{i.value=E.description,a.value=E.git_url,o.value=E.version,E.type=="zip"&&(c.value=!0),E.type=="auto"&&(u.value=!0),E.type=="git"&&(f.value=!0)},w=E=>{console.log("row:",E),ua({title:"",message:Rt("p",null,[Rt("span",null,"? ")]),showCancelButton:!0,confirmButtonText:"",cancelButtonText:"",beforeClose:(T,A,k)=>{T==="confirm"?(A.confirmButtonLoading=!0,A.confirmButtonText="...",Et.post("/processor/delete_proc_version/",Hn.stringify({proc_id:n.value,id:E.id})).then(M=>{if(M.data.status!=0){st({type:"danger",message:""+M.data.msg}),k(),A.confirmButtonLoading=!1;return}x(),st({type:"success",message:""}),k(),A.confirmButtonLoading=!1}).catch(M=>{k(),st({type:"danger",message:""+M})})):k()}}).then(T=>{})},S=t,x=()=>{Et.post("/processor/view_history/"+e.value.processor.id+"/",Hn.stringify({})).then(E=>{if(!(E.status!=200||E.data.status!=0)){h.value=[],p.value=new Set;for(const k of E.data.history_list){var T="",A=k.type;A==0?T="zip":A==1?T="git":A==2?T="docker":T="zip",k.type=T,h.value.push(k),p.value?.add(k.version)}console.log("get init versions: ",p.value)}}).catch(E=>{console.log(E)})};Jt(()=>{g(),S.processor_info&&(e.value=S.processor_info,C(e.value))});const C=E=>{!E||!E.proc_detail||!E.proc_detail.processor||(E.proc_detail.processor.type==5?l.value="shell":E.proc_detail.processor.type==6?l.value="docker":E.proc_detail.processor.type==7&&(l.value="ClickhouseSQL"),console.log("version list processor info coming: ",E),e.value=E.proc_detail,r.value=E.proc_detail.processor.name,n.value=E.proc_detail.processor.id,x())};return Qu(()=>{m()}),(E,T)=>{const A=pe("el-text"),k=pe("el-badge"),M=pe("el-button"),D=pe("el-button-group"),L=pe("el-divider"),I=pe("el-tag"),R=pe("el-table-column"),V=pe("el-link"),P=pe("el-tooltip"),B=pe("el-empty"),j=pe("el-table"),G=pe("el-scrollbar"),W=pe("el-drawer");return N(),Q(ft,null,[O(G,{style:{height:"79vh"}},{default:$(()=>[O(k,{class:"item",style:{float:"left","margin-top":"10px"},value:l.value,type:"primary"},{default:$(()=>[O(A,{style:{"font-size":"24px"}},{default:$(()=>[Be(Ne(r.value),1)]),_:1})]),_:1},8,["value"]),O(D,{class:"ml-4",style:{float:"right","margin-top":"20px"}},{default:$(()=>[O(M,{plain:"",type:"primary",icon:ZVt,onClick:T[0]||(T[0]=Z=>{c.value=!0,o.value=""})},{default:$(()=>[...T[7]||(T[7]=[Be("zip",-1)])]),_:1}),O(M,{plain:"",type:"primary",icon:_(sh),onClick:T[1]||(T[1]=Z=>u.value=!0)},{default:$(()=>[...T[8]||(T[8]=[Be("",-1)])]),_:1},8,["icon"]),O(M,{plain:"",type:"primary",icon:qVt,onClick:T[2]||(T[2]=Z=>f.value=!0)},{default:$(()=>[...T[9]||(T[9]=[Be("GIT",-1)])]),_:1})]),_:1}),O(L,{style:{float:"right"}}),O(j,{border:"",data:h.value,"min-height":"200",height:"100%",style:{width:"100%"}},{empty:$(()=>[K("div",s5t,[O(B)])]),default:$(()=>[O(R,{label:"",width:"110","header-align":"center",align:"center"},{default:$(Z=>[O(I,{type:"default"},{default:$(()=>[Be(Ne(Z.row.upload_user_name),1)]),_:2},1024)]),_:1}),O(R,{label:"",width:"120","header-align":"center",align:"center"},{default:$(Z=>[O(I,{type:"primary"},{default:$(()=>[Be(Ne(Z.row.version),1)]),_:2},1024)]),_:1}),O(R,{prop:"upload_time",width:"180",label:"","header-align":"center",align:"center"}),O(R,{prop:"update_time",width:"180",label:"","header-align":"center",align:"left"}),O(R,{width:"80",label:"","header-align":"center",align:"center"},{default:$(Z=>[O(I,{type:"warning"},{default:$(()=>[Be(Ne(Z.row.type),1)]),_:2},1024)]),_:1}),O(R,{prop:"description",label:"","header-align":"center",align:"left"},{default:$(Z=>[Z.row.type!="git"?(N(),de(A,{key:0,type:"default"},{default:$(()=>[Be(Ne(Z.row.description),1)]),_:2},1024)):(N(),de(V,{key:1,type:"primary",href:Z.row.git_url,target:"_blank",underline:""},{default:$(()=>[...T[10]||(T[10]=[Be("github",-1)])]),_:2},1032,["href"]))]),_:1}),O(R,{align:"center",label:""},{default:$(Z=>[O(D,{class:"ml-4"},{default:$(()=>[O(P,{class:"box-item",effect:"dark",content:""},{default:$(()=>[Z.row.type=="zip"?(N(),de(M,{key:0,plain:"",type:"primary",size:"small",onClick:ee=>y(Z.row),icon:_(sh)},null,8,["onClick","icon"])):ge("",!0)]),_:2},1024),O(P,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(M,{plain:"",type:"primary",size:"small",onClick:ee=>b(Z.row),icon:_(Gu)},null,8,["onClick","icon"])]),_:2},1024),O(P,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(M,{plain:"",size:"small",type:"danger",onClick:ee=>w(Z.row),icon:_(ju)},null,8,["onClick","icon"])]),_:2},1024)]),_:2},1024)]),_:1})]),_:1},8,["data"])]),_:1}),O(W,{modelValue:u.value,"onUpdate:modelValue":T[3]||(T[3]=Z=>u.value=Z),direction:"rtl",size:"60%","destroy-on-close":!0},{header:$(()=>[...T[11]||(T[11]=[K("h4",null," ",-1)])]),default:$(()=>[O(r5t,{proc_name:r.value},null,8,["proc_name"])]),_:1},8,["modelValue"]),O(W,{modelValue:c.value,"onUpdate:modelValue":T[4]||(T[4]=Z=>c.value=Z),direction:"rtl",size:"50%","destroy-on-close":!0},{header:$(()=>[...T[12]||(T[12]=[K("h4",null,"ZIP ",-1)])]),default:$(()=>[O(o5t,{proc_name:r.value,proc_id:n.value,now_versions:p.value,desc:i.value,proc_verion:o.value},null,8,["proc_name","proc_id","now_versions","desc","proc_verion"])]),_:1},8,["modelValue"]),O(W,{modelValue:f.value,"onUpdate:modelValue":T[5]||(T[5]=Z=>f.value=Z),direction:"rtl",size:"50%","destroy-on-close":!0},{header:$(()=>[...T[13]||(T[13]=[K("h5",null,"github ",-1)])]),default:$(()=>[O(a5t,{proc_name:r.value,proc_id:n.value,now_versions:p.value,desc:i.value,git_url:a.value,proc_verion:o.value},null,8,["proc_name","proc_id","now_versions","desc","git_url","proc_verion"])]),_:1},8,["modelValue"]),O(W,{modelValue:d.value,"onUpdate:modelValue":T[6]||(T[6]=Z=>d.value=Z),direction:v.value,size:"80%","destroy-on-close":!0,"append-to-body":!0},{header:$(()=>[...T[14]||(T[14]=[K("h4",{style:{width:"100px"}},null,-1)])]),default:$(()=>[O(aG,{processor_id:n.value,upload_id:s.value},null,8,["processor_id","upload_id"])]),_:1},8,["modelValue","direction"])],64)}}}),l5t={class:"flex items-center justify-center h-100%"},u5t=ue({__name:"ProcessorQuote",props:{processor_info:Map},setup(t){const e=F({}),n=F(),r=F(""),i=F("python"),o=F(!1),a=F(!1),s=F([]),l=F(),u=F("rtl"),c=F(!1),f=F(!1),d=F(0),h=F(),p=F(),v=F(),g=()=>{Me.on("success_upload_processor",C=>{o.value=!1,a.value=!1,S()}),Me.on("upate_processor_to_show_detail",C=>{console.log("00004 upate_processor_to_show_detail coming."),x(C)})},m=()=>{Me.off("success_upload_processor",null),Me.off("upate_processor_to_show_detail",null)},y=t,b=C=>{Et.post("/pipeline/get_pipeline_detail/",Hn.stringify({pipe_id:C.pipeline_id})).then(E=>{h.value=E.data,E.data.email_to!=""&&(h.value.monitor_way|=1),E.data.sms_to!=""&&(h.value.monitor_way|=2),c.value=!0}).catch(E=>{console.log(E),Me.emit("update_graph","-1")})},w=C=>{Et.get("/pipeline/get_task_detail/"+C.task_id+"/",{params:{}}).then(E=>{d.value=C.pipeline_id,p.value=E.data,f.value=!0,v.value=E.data.processor.type,console.log(E.data)}).catch(E=>console.log(E))},S=()=>{Et.post("processor/view_quote/"+e.value.processor.id+"/",Hn.stringify({})).then(C=>{if(!(C.status!=200||C.data.status!=0)){s.value=[],l.value=new Set;for(const A of C.data.quote_list){var E="",T=A.type;T==0?E="zip":T==1?E="git":T==2?E="docker":E="zip",A.type=E,s.value.push(A),l.value?.add(A.version)}console.log("get init versions: ",l.value)}}).catch(C=>{console.log(C)})};Jt(()=>{g(),y.processor_info&&(e.value=y.processor_info,x(e.value))}),ur(()=>{m()});const x=C=>{!C||!C.proc_detail||!C.proc_detail.processor||(C.proc_detail.processor.type==5?i.value="shell":C.proc_detail.processor.type==6?i.value="docker":C.proc_detail.processor.type==7&&(i.value="ClickhouseSQL"),console.log("version list processor info coming: ",C),e.value=C.proc_detail,r.value=C.proc_detail.processor.name,n.value=C.proc_detail.processor.id,S())};return(C,E)=>{const T=pe("el-text"),A=pe("el-badge"),k=pe("el-divider"),M=pe("el-link"),D=pe("el-table-column"),L=pe("el-tag"),I=pe("el-empty"),R=pe("el-table"),V=pe("el-scrollbar"),P=pe("el-drawer");return N(),Q(ft,null,[O(V,{style:{height:"79vh"}},{default:$(()=>[O(A,{class:"item",style:{float:"left","margin-top":"10px"},value:i.value,type:"primary"},{default:$(()=>[O(T,{style:{"font-size":"24px"}},{default:$(()=>[Be(Ne(r.value),1)]),_:1})]),_:1},8,["value"]),O(k,{style:{float:"right"}}),O(R,{border:"",data:s.value,"min-height":"400",height:"100%",style:{width:"100%"}},{empty:$(()=>[K("div",l5t,[O(I)])]),default:$(()=>[O(D,{label:"","header-align":"center",align:"center"},{default:$(B=>[O(M,{type:"primary",onClick:j=>b(B.row)},{default:$(()=>[Be(Ne(B.row.pipeline_name),1)]),_:2},1032,["onClick"])]),_:1}),O(D,{label:"","header-align":"center",align:"center"},{default:$(B=>[O(M,{type:"primary",onClick:j=>w(B.row)},{default:$(()=>[Be(Ne(B.row.task_name),1)]),_:2},1032,["onClick"])]),_:1}),O(D,{prop:"last_run_time",label:"","header-align":"center",align:"center"},{default:$(B=>[O(L,{type:"default"},{default:$(()=>[Be(Ne(B.row.last_run_time),1)]),_:2},1024)]),_:1}),O(D,{prop:"owner_name",label:"","header-align":"center",align:"center"},{default:$(B=>[O(L,{type:"warning"},{default:$(()=>[Be(Ne(B.row.owner_name),1)]),_:2},1024)]),_:1})]),_:1},8,["data"])]),_:1}),O(P,{modelValue:c.value,"onUpdate:modelValue":E[0]||(E[0]=B=>c.value=B),direction:u.value,size:"50%","destroy-on-close":!0,"append-to-body":!0},{header:$(()=>[...E[2]||(E[2]=[K("h4",null,"",-1)])]),default:$(()=>[O(UI,{pipeline_info:h.value},null,8,["pipeline_info"])]),_:1},8,["modelValue","direction"]),O(P,{modelValue:f.value,"onUpdate:modelValue":E[1]||(E[1]=B=>f.value=B),direction:u.value,size:"50%","destroy-on-close":!0,"append-to-body":!0},{header:$(()=>[...E[3]||(E[3]=[K("h4",{style:{width:"100px"}},"",-1)])]),default:$(()=>[O(N2,{pipeline_id:d.value,task_info:p.value,task_type:v.value,update_task:!0},null,8,["pipeline_id","task_info","task_type"])]),_:1},8,["modelValue","direction"])],64)}}}),c5t={class:"custom-tabs-label"},f5t={class:"custom-tabs-label"},d5t={class:"custom-tabs-label"},h5t={name:"App",components:{ProcessorInfo:K2e,ProcessorVersions:Y2e}},X2e=ue({...h5t,props:{processor_info:Map},setup(t){const e=F();Jt(()=>{n()}),ur(()=>{r()});const n=()=>{},r=()=>{};return(i,o)=>{const a=pe("el-icon"),s=pe("el-tab-pane"),l=pe("el-tabs");return N(),de(l,{type:"border-card",class:"demo-tabs"},{default:$(()=>[O(s,null,{label:$(()=>[K("span",c5t,[O(a,null,{default:$(()=>[O(_(ek))]),_:1}),o[0]||(o[0]=K("span",null,"",-1))])]),default:$(()=>[O(K2e,{processor_info:e.value},null,8,["processor_info"])]),_:1}),O(s,null,{label:$(()=>[K("span",f5t,[O(a,null,{default:$(()=>[O(_(ek))]),_:1}),o[1]||(o[1]=K("span",null,"",-1))])]),default:$(()=>[O(Y2e,{processor_info:e.value},null,8,["processor_info"])]),_:1}),O(s,null,{label:$(()=>[K("span",d5t,[O(a,null,{default:$(()=>[O(_(ek))]),_:1}),o[2]||(o[2]=K("span",null,"",-1))])]),default:$(()=>[O(u5t,{processor_info:e.value},null,8,["processor_info"])]),_:1})]),_:1})}}}),p5t={key:0},v5t={name:"App",components:{ProcessorDetail:X2e,HomeView:B2}},Z2e=ue({...v5t,props:{processor_info:Map},setup(t){const e=F(""),n=F(!1),r=F(""),i=F(1e4),o=F(),a=t;Jt(()=>{l(),a.processor_info&&a.processor_info.proc_detail&&(n.value=!0,i.value=0,o.value=a.processor_info)}),ur(()=>{s()});const s=()=>{Me.off("upate_processor_to_show_detail",null),Me.off("delete_processor_success",null),Me.off("create_processor_success",null)},l=()=>{Me.on("upate_processor_to_show_detail",c=>{console.log("00002 upate_processor_to_show_detail coming."),u(c)}),Me.on("delete_processor_success",c=>{console.log("delete_processor_success: ",c,r.value),c==r.value&&(n.value=!1,i.value=1e4)}),Me.on("create_processor_success",c=>{n.value=!0,i.value=0,r.value=c.id,console.log("create processor: ",r.value,c),u(c)})},u=c=>{if(c.tag=="-1"){n.value=!1,i.value=1e4,e.value=c.project_path,r.value="",console.log("update_processor: ",r.value,c);return}o.value=c,console.log("update_processor: ",r.value,c),n.value=!0,i.value=0,e.value=c.project_path,r.value=c.proc_detail.processor.project_id+"_"+c.proc_detail.processor.id};return(c,f)=>(N(),Q(ft,null,[n.value?ge("",!0):(N(),Q("div",p5t,[O(B2,{is_processor:!0,project_path:e.value},null,8,["project_path"])])),K("div",{style:Ot({marginTop:i.value+"px"})},[O(X2e,{processor_info:o.value},null,8,["processor_info"])],4)],64))}}),g5t={class:"common-layout"},m5t={name:"App",components:{ProcessorTree:g1e,ProcessorChat:Z2e}},y5t=ue({...m5t,setup(t){return F("left"),F(!1),F("Hello World!"),F(!0),(e,n)=>{const r=pe("el-main"),i=pe("el-container");return N(),Q("div",g5t,[O(i,null,{default:$(()=>[O(i,{style:{"margin-top":"0px"}},{default:$(()=>[O(r,{style:{padding:"0px"}},{default:$(()=>[O(_(a1),{horizontal:"","push-other-panes":!0,style:{height:"100vh"}},{default:$(()=>[O(_(qd),null,{default:$(()=>[O(_(a1),{"push-other-panes":!1},{default:$(()=>[O(_(qd),{size:"25"},{default:$(()=>[O(g1e)]),_:1}),O(_(qd),{size:"75"},{default:$(()=>[O(Z2e)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}});let N6=[],J2e=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?J2e:N6).push(n=n+t[e])})();function b5t(t){if(t<768)return!1;for(let e=0,n=N6.length;;){let r=e+n>>1;if(t<N6[r])n=r;else if(t>=J2e[r])e=r+1;else return!0;if(e==n)return!1}}function wse(t){return t>=127462&&t<=127487}const Sse=8205;function _5t(t,e,n=!0,r=!0){return(n?Q2e:w5t)(t,e,r)}function Q2e(t,e,n){if(e==t.length)return e;e&&eEe(t.charCodeAt(e))&&tEe(t.charCodeAt(e-1))&&e--;let r=l$(t,e);for(e+=xse(r);e<t.length;){let i=l$(t,e);if(r==Sse||i==Sse||n&&b5t(i))e+=xse(i),r=i;else if(wse(i)){let o=0,a=e-2;for(;a>=0&&wse(l$(t,a));)o++,a-=2;if(o%2==0)break;e+=2}else break}return e}function w5t(t,e,n){for(;e>0;){let r=Q2e(t,e-2,n);if(r<e)return r;e--}return 0}function l$(t,e){let n=t.charCodeAt(e);if(!tEe(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return eEe(r)?(n-55296<<10)+(r-56320)+65536:n}function eEe(t){return t>=56320&&t<57344}function tEe(t){return t>=55296&&t<56320}function xse(t){return t<65536?1:2}class Pi{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=H1(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),kf.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=H1(this,e,n);let r=[];return this.decompose(e,n,r,0),kf.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new hx(this),o=new hx(e);for(let a=n,s=n;;){if(i.next(a),o.next(a),a=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(s+=i.value.length,i.done||s>=r)return!0}}iter(e=1){return new hx(this,e)}iterRange(e,n=this.length){return new nEe(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new rEe(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Pi.empty:e.length<=32?new Zo(e):kf.from(Zo.split(e,[]))}}class Zo extends Pi{constructor(e,n=S5t(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let a=this.text[o],s=i+a.length;if((n?r:s)>=e)return new x5t(i,s,r,a);i=s+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new Zo(Cse(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let a=r.pop(),s=rM(o.text,a.text.slice(),0,o.length);if(s.length<=32)r.push(new Zo(s,a.length+o.length));else{let l=s.length>>1;r.push(new Zo(s.slice(0,l)),new Zo(s.slice(l)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof Zo))return super.replace(e,n,r);[e,n]=H1(this,e,n);let i=rM(this.text,rM(r.text,Cse(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new Zo(i,o):kf.from(Zo.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){[e,n]=H1(this,e,n);let i="";for(let o=0,a=0;o<=n&&a<this.text.length;a++){let s=this.text[a],l=o+s.length;o>e&&a&&(i+=r),e<l&&n>o&&(i+=s.slice(Math.max(0,e-o),n-o)),o=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new Zo(r,i)),r=[],i=-1);return i>-1&&n.push(new Zo(r,i)),n}}class kf extends Pi{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let a=this.children[o],s=i+a.length,l=r+a.lines-1;if((n?l:s)>=e)return a.lineInner(e,n,r,i);i=s+1,r=l+1}}decompose(e,n,r,i){for(let o=0,a=0;a<=n&&o<this.children.length;o++){let s=this.children[o],l=a+s.length;if(e<=l&&n>=a){let u=i&((a<=e?1:0)|(l>=n?2:0));a>=e&&l<=n&&!u?r.push(s):s.decompose(e-a,n-a,r,u)}a=l+1}}replace(e,n,r){if([e,n]=H1(this,e,n),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let a=this.children[i],s=o+a.length;if(e>=o&&n<=s){let l=a.replace(e-o,n-o,r),u=this.lines-a.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let c=this.children.slice();return c[i]=l,new kf(c,this.length-(n-e)+r.length)}return super.replace(o,s,l)}o=s+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=H1(this,e,n);let i="";for(let o=0,a=0;o<this.children.length&&a<=n;o++){let s=this.children[o],l=a+s.length;a>e&&o&&(i+=r),e<l&&n>a&&(i+=s.sliceString(e-a,n-a,r)),a=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof kf))return 0;let r=0,[i,o,a,s]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==a||o==s)return r;let l=this.children[i],u=e.children[o];if(l!=u)return r+l.scanIdentical(u,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let h of e)r+=h.lines;if(r<32){let h=[];for(let p of e)p.flatten(h);return new Zo(h,n)}let i=Math.max(32,r>>5),o=i<<1,a=i>>1,s=[],l=0,u=-1,c=[];function f(h){let p;if(h.lines>o&&h instanceof kf)for(let v of h.children)f(v);else h.lines>a&&(l>a||!l)?(d(),s.push(h)):h instanceof Zo&&l&&(p=c[c.length-1])instanceof Zo&&h.lines+p.lines<=32?(l+=h.lines,u+=h.length+1,c[c.length-1]=new Zo(p.text.concat(h.text),p.length+1+h.length)):(l+h.lines>i&&d(),l+=h.lines,u+=h.length+1,c.push(h))}function d(){l!=0&&(s.push(c.length==1?c[0]:kf.from(c,u)),u=-1,l=c.length=0)}for(let h of e)f(h);return d(),s.length==1?s[0]:new kf(s,n)}}Pi.empty=new Zo([""],0);function S5t(t){let e=-1;for(let n of t)e+=n.length+1;return e}function rM(t,e,n=0,r=1e9){for(let i=0,o=0,a=!0;o<t.length&&i<=r;o++){let s=t[o],l=i+s.length;l>=n&&(l>r&&(s=s.slice(0,r-i)),i<n&&(s=s.slice(n-i)),a?(e[e.length-1]+=s,a=!1):e.push(s)),i=l+1}return e}function Cse(t,e,n){return rM(t,[""],e,n)}class hx{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Zo?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],a=o>>1,s=i instanceof Zo?i.text.length:i.children.length;if(a==(n>0?s:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Zo){let l=i.text[a+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[a+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof Zo?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class nEe{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new hx(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class rEe{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Pi.prototype[Symbol.iterator]=function(){return this.iter()},hx.prototype[Symbol.iterator]=nEe.prototype[Symbol.iterator]=rEe.prototype[Symbol.iterator]=function(){return this});class x5t{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function H1(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function Nf(t,e,n=!0,r=!0){return _5t(t,e,n,r)}function C5t(t){return t>=56320&&t<57344}function E5t(t){return t>=55296&&t<56320}function Ng(t,e){let n=t.charCodeAt(e);if(!E5t(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return C5t(r)?(n-55296<<10)+(r-56320)+65536:n}function T5t(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function W0(t){return t<65536?1:2}const B6=/\r\n?|\n/;var Hl=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(Hl||(Hl={}));class Uf{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],a=this.sections[n++];a<0?(e(r,i,o),i+=o):i+=a,r+=o}}iterChangedRanges(e,n=!1){$6(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Uf(e)}composeDesc(e){return this.empty?e:e.empty?this:iEe(this,e)}mapDesc(e,n=!1){return e.empty?this:F6(this,e,n)}mapPos(e,n=-1,r=Hl.Simple){let i=0,o=0;for(let a=0;a<this.sections.length;){let s=this.sections[a++],l=this.sections[a++],u=i+s;if(l<0){if(u>e)return o+(e-i);o+=s}else{if(r!=Hl.Simple&&u>=e&&(r==Hl.TrackDel&&i<e&&u>e||r==Hl.TrackBefore&&i<e||r==Hl.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!s)return e==i||n<0?o:o+l;o+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],a=this.sections[r++],s=i+o;if(a>=0&&i<=n&&s>=e)return i<e&&s>n?"cover":!0;i=s}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Uf(e)}static create(e){return new Uf(e)}}class _a extends Uf{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return $6(this,(n,r,i,o,a)=>e=e.replace(i,i+(r-n),a),!1),e}mapDesc(e,n=!1){return F6(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let a=n[i],s=n[i+1];if(s>=0){n[i]=s,n[i+1]=a;let l=i>>1;for(;r.length<l;)r.push(Pi.empty);r.push(a?e.slice(o,o+a):Pi.empty)}o+=a}return new _a(n,r)}compose(e){return this.empty?e:e.empty?this:iEe(this,e,!0)}map(e,n=!1){return e.empty?this:F6(this,e,n,!0)}iterChanges(e,n=!1){$6(this,e,n)}get desc(){return Uf.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new zC(this);e:for(let a=0,s=0;;){let l=a==e.length?1e9:e[a++];for(;s<l||s==l&&o.len==0;){if(o.done)break e;let c=Math.min(o.len,l-s);xs(i,c,-1);let f=o.ins==-1?-1:o.off==0?o.ins:0;xs(n,c,f),f>0&&$p(r,n,o.text),o.forward(c),s+=c}let u=e[a++];for(;s<u;){if(o.done)break e;let c=Math.min(o.len,u-s);xs(n,c,-1),xs(i,c,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(c),s+=c}}return{changes:new _a(n,r),filtered:Uf.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],a=0,s=null;function l(c=!1){if(!c&&!i.length)return;a<n&&xs(i,n-a,-1);let f=new _a(i,o);s=s?s.compose(f.map(s)):f,i=[],o=[],a=0}function u(c){if(Array.isArray(c))for(let f of c)u(f);else if(c instanceof _a){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);l(),s=s?s.compose(c.map(s)):c}else{let{from:f,to:d=f,insert:h}=c;if(f>d||f<0||d>n)throw new RangeError(`Invalid change range ${f} to ${d} (in doc of length ${n})`);let p=h?typeof h=="string"?Pi.of(h.split(r||B6)):h:Pi.empty,v=p.length;if(f==d&&v==0)return;f<a&&l(),f>a&&xs(i,f-a,-1),xs(i,d-f,v),$p(o,i,p),a=d}}return u(e),l(!s),s}static empty(e){return new _a(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((a,s)=>s&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(Pi.empty);r[i]=Pi.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new _a(n,r)}static createSet(e,n){return new _a(e,n)}}function xs(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function $p(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Pi.empty);t.push(n)}}function $6(t,e,n){let r=t.inserted;for(let i=0,o=0,a=0;a<t.sections.length;){let s=t.sections[a++],l=t.sections[a++];if(l<0)i+=s,o+=s;else{let u=i,c=o,f=Pi.empty;for(;u+=s,c+=l,l&&r&&(f=f.append(r[a-2>>1])),!(n||a==t.sections.length||t.sections[a+1]<0);)s=t.sections[a++],l=t.sections[a++];e(i,u,o,c,f),i=u,o=c}}}function F6(t,e,n,r=!1){let i=[],o=r?[]:null,a=new zC(t),s=new zC(e);for(let l=-1;;){if(a.done&&s.len||s.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&s.ins==-1){let u=Math.min(a.len,s.len);xs(i,u,-1),a.forward(u),s.forward(u)}else if(s.ins>=0&&(a.ins<0||l==a.i||a.off==0&&(s.len<a.len||s.len==a.len&&!n))){let u=s.len;for(xs(i,s.ins,-1);u;){let c=Math.min(a.len,u);a.ins>=0&&l<a.i&&a.len<=c&&(xs(i,0,a.ins),o&&$p(o,i,a.text),l=a.i),a.forward(c),u-=c}s.next()}else if(a.ins>=0){let u=0,c=a.len;for(;c;)if(s.ins==-1){let f=Math.min(c,s.len);u+=f,c-=f,s.forward(f)}else if(s.ins==0&&s.len<c)c-=s.len,s.next();else break;xs(i,u,l<a.i?a.ins:0),o&&l<a.i&&$p(o,i,a.text),l=a.i,a.forward(a.len-c)}else{if(a.done&&s.done)return o?_a.createSet(i,o):Uf.create(i);throw new Error("Mismatched change set lengths")}}}function iEe(t,e,n=!1){let r=[],i=n?[]:null,o=new zC(t),a=new zC(e);for(let s=!1;;){if(o.done&&a.done)return i?_a.createSet(r,i):Uf.create(r);if(o.ins==0)xs(r,o.len,0,s),o.next();else if(a.len==0&&!a.done)xs(r,0,a.ins,s),i&&$p(i,r,a.text),a.next();else{if(o.done||a.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,a.len),u=r.length;if(o.ins==-1){let c=a.ins==-1?-1:a.off?0:a.ins;xs(r,l,c,s),i&&c&&$p(i,r,a.text)}else a.ins==-1?(xs(r,o.off?0:o.len,l,s),i&&$p(i,r,o.textBit(l))):(xs(r,o.off?0:o.len,a.off?0:a.ins,s),i&&!a.off&&$p(i,r,a.text));s=(o.ins>l||a.ins>=0&&a.len>l)&&(s||r.length>u),o.forward2(l),a.forward(l)}}}}class zC{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Pi.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Pi.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class cm{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new cm(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return er.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return er.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return er.range(e.anchor,e.head)}static create(e,n,r){return new cm(e,n,r)}}class er{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:er.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new er([this.main],0)}addRange(e,n=!0){return er.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,er.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new er(e.ranges.map(n=>cm.fromJSON(n)),e.main)}static single(e,n=e){return new er([er.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return er.normalized(e.slice(),n);r=o.to}return new er(e,n)}static cursor(e,n=0,r,i){return cm.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?cm.create(n,e,48|o):cm.create(e,n,(n>e?8:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],a=e[i-1];if(o.empty?o.from<=a.to:o.from<a.to){let s=a.from,l=Math.max(o.to,a.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?er.range(l,s):er.range(s,l))}}return new er(e,n)}}function oEe(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let yU=0;class pr{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=yU++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new pr(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:bU),!!e.static,e.enables)}of(e){return new iM([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new iM(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new iM(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function bU(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class iM{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=yU++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,a=e[o]>>1,s=this.type==2,l=!1,u=!1,c=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?u=!0:(((n=e[f.id])!==null&&n!==void 0?n:1)&1)==0&&c.push(e[f.id]);return{create(f){return f.values[a]=r(f),1},update(f,d){if(l&&d.docChanged||u&&(d.docChanged||d.selection)||V6(f,c)){let h=r(f);if(s?!Ese(h,f.values[a],i):!i(h,f.values[a]))return f.values[a]=h,1}return 0},reconfigure:(f,d)=>{let h,p=d.config.address[o];if(p!=null){let v=SO(d,p);if(this.dependencies.every(g=>g instanceof pr?d.facet(g)===f.facet(g):g instanceof $h?d.field(g,!1)==f.field(g,!1):!0)||(s?Ese(h=r(f),v,i):i(h=r(f),v)))return f.values[a]=v,0}else h=r(f);return f.values[a]=h,1}}}}function Ese(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function V6(t,e){let n=!1;for(let r of e)px(t,r)&1&&(n=!0);return n}function A5t(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),o=r.filter(l=>!(l&1)),a=t[e.id]>>1;function s(l){let u=[];for(let c=0;c<r.length;c++){let f=SO(l,r[c]);if(i[c]==2)for(let d of f)u.push(d);else u.push(f)}return e.combine(u)}return{create(l){for(let u of r)px(l,u);return l.values[a]=s(l),1},update(l,u){if(!V6(l,o))return 0;let c=s(l);return e.compare(c,l.values[a])?0:(l.values[a]=c,1)},reconfigure(l,u){let c=V6(l,r),f=u.config.facets[e.id],d=u.facet(e);if(f&&!c&&bU(n,f))return l.values[a]=d,0;let h=s(l);return e.compare(h,d)?(l.values[a]=d,0):(l.values[a]=h,1)}}}const MA=pr.define({static:!0});class $h{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new $h(yU++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(MA).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],a=this.updateF(o,i);return this.compareF(o,a)?0:(r.values[n]=a,1)},reconfigure:(r,i)=>{let o=r.facet(MA),a=i.facet(MA),s;return(s=o.find(l=>l.field==this))&&s!=a.find(l=>l.field==this)?(r.values[n]=s.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,MA.of({field:this,create:e})]}get extension(){return this}}const qg={lowest:4,low:3,default:2,high:1,highest:0};function Yw(t){return e=>new aEe(e,t)}const z_={highest:Yw(qg.highest),high:Yw(qg.high),default:Yw(qg.default),low:Yw(qg.low),lowest:Yw(qg.lowest)};class aEe{constructor(e,n){this.inner=e,this.prec=n}}class sE{of(e){return new z6(this,e)}reconfigure(e){return sE.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class z6{constructor(e,n){this.compartment=e,this.inner=n}}class wO{constructor(e,n,r,i,o,a){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),a=new Map;for(let d of k5t(e,n,a))d instanceof $h?i.push(d):(o[d.facet.id]||(o[d.facet.id]=[])).push(d);let s=Object.create(null),l=[],u=[];for(let d of i)s[d.id]=u.length<<1,u.push(h=>d.slot(h));let c=r?.config.facets;for(let d in o){let h=o[d],p=h[0].facet,v=c&&c[d]||[];if(h.every(g=>g.type==0))if(s[p.id]=l.length<<1|1,bU(v,h))l.push(r.facet(p));else{let g=p.combine(h.map(m=>m.value));l.push(r&&p.compare(g,r.facet(p))?r.facet(p):g)}else{for(let g of h)g.type==0?(s[g.id]=l.length<<1|1,l.push(g.value)):(s[g.id]=u.length<<1,u.push(m=>g.dynamicSlot(m)));s[p.id]=u.length<<1,u.push(g=>A5t(g,p,h))}}let f=u.map(d=>d(s));return new wO(e,a,f,s,l,o)}}function k5t(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(a,s){let l=i.get(a);if(l!=null){if(l<=s)return;let u=r[l].indexOf(a);u>-1&&r[l].splice(u,1),a instanceof z6&&n.delete(a.compartment)}if(i.set(a,s),Array.isArray(a))for(let u of a)o(u,s);else if(a instanceof z6){if(n.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(a.compartment)||a.inner;n.set(a.compartment,u),o(u,s)}else if(a instanceof aEe)o(a.inner,a.prec);else if(a instanceof $h)r[s].push(a),a.provides&&o(a.provides,s);else if(a instanceof iM)r[s].push(a),a.facet.extensions&&o(a.facet.extensions,qg.default);else{let u=a.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(u,s)}}return o(t,qg.default),r.reduce((a,s)=>a.concat(s))}function px(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function SO(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const sEe=pr.define(),H6=pr.define({combine:t=>t.some(e=>e),static:!0}),lEe=pr.define({combine:t=>t.length?t[0]:void 0,static:!0}),uEe=pr.define(),cEe=pr.define(),fEe=pr.define(),dEe=pr.define({combine:t=>t.length?t[0]:!1});class Fh{constructor(e,n){this.type=e,this.value=n}static define(){return new M5t}}class M5t{of(e){return new Fh(this,e)}}class P5t{constructor(e){this.map=e}of(e){return new ho(this,e)}}class ho{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new ho(this.type,n)}is(e){return this.type==e}static define(e={}){return new P5t(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}}ho.reconfigure=ho.define();ho.appendConfig=ho.define();class Ca{constructor(e,n,r,i,o,a){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=a,this._doc=null,this._state=null,r&&oEe(r,n.newLength),o.some(s=>s.type==Ca.time)||(this.annotations=o.concat(Ca.time.of(Date.now())))}static create(e,n,r,i,o,a){return new Ca(e,n,r,i,o,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Ca.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Ca.time=Fh.define();Ca.userEvent=Fh.define();Ca.addToHistory=Fh.define();Ca.remote=Fh.define();function O5t(t,e){let n=[];for(let r=0,i=0;;){let o,a;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],a=t[r++];else if(i<e.length)o=e[i++],a=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function hEe(t,e,n){var r;let i,o,a;return n?(i=e.changes,o=_a.empty(e.changes.length),a=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),a=t.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:ho.mapEffects(t.effects,i).concat(ho.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function j6(t,e,n){let r=e.selection,i=Ob(e.annotations);return e.userEvent&&(i=i.concat(Ca.userEvent.of(e.userEvent))),{changes:e.changes instanceof _a?e.changes:_a.of(e.changes||[],n,t.facet(lEe)),selection:r&&(r instanceof er?r:er.single(r.anchor,r.head)),effects:Ob(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function pEe(t,e,n){let r=j6(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let a=!!e[o].sequential;r=hEe(r,j6(t,e[o],a?r.changes.newLength:t.doc.length),a)}let i=Ca.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return R5t(n?I5t(i):i)}function I5t(t){let e=t.startState,n=!0;for(let i of e.facet(uEe)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:O5t(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=_a.empty(e.doc.length);else{let a=t.changes.filter(n);i=a.changes,o=a.filtered.mapDesc(a.changes).invertedDesc}t=Ca.create(e,i,t.selection&&t.selection.map(o),ho.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(cEe);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof Ca?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Ca?t=o[0]:t=pEe(e,Ob(o),!1)}return t}function R5t(t){let e=t.startState,n=e.facet(fEe),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=hEe(r,j6(e,o,t.changes.newLength),!0))}return r==t?t:Ca.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const L5t=[];function Ob(t){return t==null?L5t:Array.isArray(t)?t:[t]}var jd=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(jd||(jd={}));const D5t=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let G6;try{G6=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function N5t(t){if(G6)return G6.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||D5t.test(n)))return!0}return!1}function B5t(t){return e=>{if(!/\S/.test(e))return jd.Space;if(N5t(e))return jd.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return jd.Word;return jd.Other}}class Vi{constructor(e,n,r,i,o,a){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,a&&(a._state=this);for(let s=0;s<this.config.dynamicSlots.length;s++)px(this,s<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return px(this,r),SO(this,r)}update(...e){return pEe(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let s of e.effects)s.is(sE.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,u)=>i.set(u,l)),n=null),i.set(s.value.compartment,s.value.extension)):s.is(ho.reconfigure)?(n=null,r=s.value):s.is(ho.appendConfig)&&(n=null,r=Ob(r).concat(s.value));let o;n?o=e.startState.values.slice():(n=wO.resolve(r,i,this),o=new Vi(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let a=e.startState.facet(H6)?e.newSelection:e.newSelection.asSingle();new Vi(n,e.newDoc,a,o,(s,l)=>l.update(s,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:er.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],a=Ob(r.effects);for(let s=1;s<n.ranges.length;s++){let l=e(n.ranges[s]),u=this.changes(l.changes),c=u.map(i);for(let d=0;d<s;d++)o[d]=o[d].map(c);let f=i.mapDesc(u,!0);o.push(l.range.map(f)),i=i.compose(c),a=ho.mapEffects(a,c).concat(ho.mapEffects(Ob(l.effects),f))}return{changes:i,selection:er.create(o,n.mainIndex),effects:a}}changes(e=[]){return e instanceof _a?e:_a.of(e,this.doc.length,this.facet(Vi.lineSeparator))}toText(e){return Pi.of(e.split(this.facet(Vi.lineSeparator)||B6))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(px(this,n),SO(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof $h&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let a=r[o],s=e[o];i.push(a.init(l=>a.spec.fromJSON(s,l)))}}return Vi.create({doc:e.doc,selection:er.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=wO.resolve(e.extensions||[],new Map),r=e.doc instanceof Pi?e.doc:Pi.of((e.doc||"").split(n.staticFacet(Vi.lineSeparator)||B6)),i=e.selection?e.selection instanceof er?e.selection:er.single(e.selection.anchor,e.selection.head):er.single(0);return oEe(i,r.length),n.staticFacet(H6)||(i=i.asSingle()),new Vi(n,r,i,n.dynamicSlots.map(()=>null),(o,a)=>a.create(o),null)}get tabSize(){return this.facet(Vi.tabSize)}get lineBreak(){return this.facet(Vi.lineSeparator)||`
`}get readOnly(){return this.facet(dEe)}phrase(e,...n){for(let r of this.facet(Vi.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(sEe))for(let a of o(this,n,r))Object.prototype.hasOwnProperty.call(a,e)&&i.push(a[e]);return i}charCategorizer(e){return B5t(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),a=e-r,s=e-r;for(;a>0;){let l=Nf(n,a,!1);if(o(n.slice(l,a))!=jd.Word)break;a=l}for(;s<i;){let l=Nf(n,s);if(o(n.slice(s,l))!=jd.Word)break;s=l}return a==s?null:er.range(a+r,s+r)}}Vi.allowMultipleSelections=H6;Vi.tabSize=pr.define({combine:t=>t.length?t[0]:4});Vi.lineSeparator=lEe;Vi.readOnly=dEe;Vi.phrases=pr.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Vi.languageData=sEe;Vi.changeFilter=uEe;Vi.transactionFilter=cEe;Vi.transactionExtender=fEe;sE.reconfigure=ho.define();function _U(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let a=i[o],s=r[o];if(s===void 0)r[o]=a;else if(!(s===a||a===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](s,a);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class iy{eq(e){return this==e}range(e,n=e){return U6.create(e,n,this)}}iy.prototype.startSide=iy.prototype.endSide=0;iy.prototype.point=!1;iy.prototype.mapMode=Hl.TrackDel;let U6=class vEe{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new vEe(e,n,r)}};function W6(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class wU{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let a=i,s=o.length;;){if(a==s)return a;let l=a+s>>1,u=o[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==a)return u>=0?a:s;u>=0?s=l:a=l+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),a=this.findIndex(r,1e9,!1,o);o<a;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],a=-1,s=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,f=this.to[l]+e,d,h;if(c==f){let p=n.mapPos(c,u.startSide,u.mapMode);if(p==null||(d=h=p,u.startSide!=u.endSide&&(h=n.mapPos(c,u.endSide),h<d)))continue}else if(d=n.mapPos(c,u.startSide),h=n.mapPos(f,u.endSide),d>h||d==h&&u.startSide>0&&u.endSide<=0)continue;(h-d||u.endSide-u.startSide)<0||(a<0&&(a=d),u.point&&(s=Math.max(s,h-d)),r.push(u),i.push(d-a),o.push(h-a))}return{mapped:r.length?new wU(i,o,r,s):null,pos:a}}}class zi{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new zi(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,a=e.filter;if(n.length==0&&!a)return this;if(r&&(n=n.slice().sort(W6)),this.isEmpty)return n.length?zi.of(n):this;let s=new gEe(this,null,-1).goto(0),l=0,u=[],c=new HC;for(;s.value||l<n.length;)if(l<n.length&&(s.from-n[l].from||s.startSide-n[l].value.startSide)>=0){let f=n[l++];c.addInner(f.from,f.to,f.value)||u.push(f)}else s.rangeIndex==1&&s.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(s.chunkIndex)<n[l].from)&&(!a||i>this.chunkEnd(s.chunkIndex)||o<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!a||i>s.to||o<s.from||a(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||u.push(U6.create(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?zi.empty:this.nextLayer.update({add:u,filter:a,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let a=0;a<this.chunk.length;a++){let s=this.chunkPos[a],l=this.chunk[a],u=e.touchesRange(s,s+l.length);if(u===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(s));else if(u===!0){let{mapped:c,pos:f}=l.map(s,e);c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(f))}}let o=this.nextLayer.map(e);return n.length==0?o:new zi(r,n,o||zi.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],a=this.chunk[i];if(n>=o&&e<=o+a.length&&a.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return jC.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return jC.from(e).goto(n)}static compare(e,n,r,i,o=-1){let a=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),s=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),l=Tse(a,s,r),u=new Xw(a,l,o),c=new Xw(s,l,o);r.iterGaps((f,d,h)=>Ase(u,f,c,d,h,i)),r.empty&&r.length==0&&Ase(u,0,c,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let o=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),a=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(o.length!=a.length)return!1;if(!o.length)return!0;let s=Tse(o,a),l=new Xw(o,s,0).goto(r),u=new Xw(a,s,0).goto(r);for(;;){if(l.to!=u.to||!q6(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,n,r,i,o=-1){let a=new Xw(e,null,o).goto(n),s=n,l=a.openStart;for(;;){let u=Math.min(a.to,r);if(a.point){let c=a.activeForPoint(a.to),f=a.pointFrom<n?c.length+1:a.point.startSide<0?c.length:Math.min(c.length,l);i.point(s,u,a.point,c,f,a.pointRank),l=Math.min(a.openEnd(u),c.length)}else u>s&&(i.span(s,u,a.active,l),l=a.openEnd(u));if(a.to>r)return l+(a.point&&a.to>r?1:0);s=a.to,a.next()}}static of(e,n=!1){let r=new HC;for(let i of e instanceof U6?[e]:n?$5t(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return zi.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=zi.empty;i=i.nextLayer)n=new zi(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}zi.empty=new zi([],[],null,-1);function $5t(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(W6(e,r)>0)return t.slice().sort(W6);e=r}return t}zi.empty.nextLayer=zi.empty;class HC{finishChunk(e){this.chunks.push(new wU(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new HC)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(zi.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=zi.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function Tse(t,e,n){let r=new Map;for(let o of t)for(let a=0;a<o.chunk.length;a++)o.chunk[a].maxPoint<=0&&r.set(o.chunk[a],o.chunkPos[a]);let i=new Set;for(let o of e)for(let a=0;a<o.chunk.length;a++){let s=r.get(o.chunk[a]);s!=null&&(n?n.mapPos(s):s)==o.chunkPos[a]&&!n?.touchesRange(s,s+o.chunk[a].length)&&i.add(o.chunk[a])}return i}class gEe{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class jC{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let a=e[o];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new gEe(a,n,r,o));return i.length==1?i[0]:new jC(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)u$(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)u$(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),u$(this.heap,0)}}}function u$(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Xw{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=jC.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){PA(this.active,e),PA(this.activeTo,e),PA(this.activeRank,e),this.minActive=kse(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&(o-this.activeRank[n]||i-this.activeTo[n])>0;)n++;OA(this.active,n,r),OA(this.activeTo,n,i),OA(this.activeRank,n,o),e&&OA(e,n,this.cursor.from),this.minActive=kse(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&PA(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function Ase(t,e,n,r,i,o){t.goto(e),n.goto(r);let a=r+i,s=r,l=r-e;for(;;){let u=t.to+l-n.to,c=u||t.endSide-n.endSide,f=c<0?t.to+l:n.to,d=Math.min(f,a);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&q6(t.activeForPoint(t.to),n.activeForPoint(n.to))||o.comparePoint(s,d,t.point,n.point):d>s&&!q6(t.active,n.active)&&o.compareRange(s,d,t.active,n.active),f>a)break;(u||t.openEnd!=n.openEnd)&&o.boundChange&&o.boundChange(f),s=f,c<=0&&t.next(),c>=0&&n.next()}}function q6(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function PA(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function OA(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function kse(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function F5t(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Nf(t,i));return r}function V5t(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=Nf(t,i)}return t.length}const K6="",Mse=typeof Symbol>"u"?"__"+K6:Symbol.for(K6),Y6=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Pse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class xv{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function o(a,s,l,u){let c=[],f=/^@(\w+)\b/.exec(a[0]),d=f&&f[1]=="keyframes";if(f&&s==null)return l.push(a[0]+";");for(let h in s){let p=s[h];if(/&/.test(h))o(h.split(/,\s*/).map(v=>a.map(g=>v.replace(/&/,g))).reduce((v,g)=>v.concat(g)),p,l);else if(p&&typeof p=="object"){if(!f)throw new RangeError("The value of a property ("+h+") should be a primitive value.");o(i(h),p,c,d)}else p!=null&&c.push(h.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+p+";")}(c.length||d)&&l.push((r&&!f&&!u?a.map(r):a).join(", ")+" {"+c.join(" ")+"}")}for(let a in e)o(i(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Pse[Mse]||1;return Pse[Mse]=e+1,K6+e.toString(36)}static mount(e,n,r){let i=e[Y6],o=r&&r.nonce;i?o&&i.setNonce(o):i=new z5t(e,o),i.mount(Array.isArray(n)?n:[n],e)}}let Ose=new Map;class z5t{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=Ose.get(r);if(o)return e[Y6]=o;this.sheet=new i.CSSStyleSheet,Ose.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[Y6]=this}mount(e,n){let r=this.sheet,i=0,o=0;for(let a=0;a<e.length;a++){let s=e[a],l=this.modules.indexOf(s);if(l<o&&l>-1&&(this.modules.splice(l,1),o--,l=-1),l==-1){if(this.modules.splice(o++,0,s),r)for(let u=0;u<s.rules.length;u++)r.insertRule(s.rules[u],i++)}else{for(;o<l;)i+=this.modules[o++].rules.length;i+=s.rules.length,o++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let a="";for(let l=0;l<this.modules.length;l++)a+=this.modules[l].getRules()+`
`;this.styleTag.textContent=a;let s=n.head||n;this.styleTag.parentNode!=s&&s.insertBefore(this.styleTag,s.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Cv={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},GC={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},H5t=typeof navigator<"u"&&/Mac/.test(navigator.platform),j5t=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var es=0;es<10;es++)Cv[48+es]=Cv[96+es]=String(es);for(var es=1;es<=24;es++)Cv[es+111]="F"+es;for(var es=65;es<=90;es++)Cv[es]=String.fromCharCode(es+32),GC[es]=String.fromCharCode(es);for(var c$ in Cv)GC.hasOwnProperty(c$)||(GC[c$]=Cv[c$]);function G5t(t){var e=H5t&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||j5t&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?GC:Cv)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}let qs=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},X6=typeof document<"u"?document:{documentElement:{style:{}}};const Z6=/Edge\/(\d+)/.exec(qs.userAgent),mEe=/MSIE \d/.test(qs.userAgent),J6=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(qs.userAgent),iL=!!(mEe||J6||Z6),Ise=!iL&&/gecko\/(\d+)/i.test(qs.userAgent),f$=!iL&&/Chrome\/(\d+)/.exec(qs.userAgent),U5t="webkitFontSmoothing"in X6.documentElement.style,Q6=!iL&&/Apple Computer/.test(qs.vendor),Rse=Q6&&(/Mobile\/\w+/.test(qs.userAgent)||qs.maxTouchPoints>2);var Gn={mac:Rse||/Mac/.test(qs.platform),windows:/Win/.test(qs.platform),linux:/Linux|X11/.test(qs.platform),ie:iL,ie_version:mEe?X6.documentMode||6:J6?+J6[1]:Z6?+Z6[1]:0,gecko:Ise,gecko_version:Ise?+(/Firefox\/(\d+)/.exec(qs.userAgent)||[0,0])[1]:0,chrome:!!f$,chrome_version:f$?+f$[1]:0,ios:Rse,android:/Android\b/.test(qs.userAgent),webkit_version:U5t?+(/\bAppleWebKit\/(\d+)/.exec(qs.userAgent)||[0,0])[1]:0,safari:Q6,safari_version:Q6?+(/\bVersion\/(\d+(\.\d+)?)/.exec(qs.userAgent)||[0,0])[1]:0,tabSize:X6.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function UC(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function e8(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function oM(t,e){if(!e.anchorNode)return!1;try{return e8(t,e.anchorNode)}catch{return!1}}function WC(t){return t.nodeType==3?ay(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function vx(t,e,n,r){return n?Lse(t,e,n,r,-1)||Lse(t,e,n,r,1):!1}function oy(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function xO(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function Lse(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:id(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=oy(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?id(t):0}else return!1}}function id(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function oL(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function W5t(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function yEe(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function q5t(t,e,n,r,i,o,a,s){let l=t.ownerDocument,u=l.defaultView||window;for(let c=t,f=!1;c&&!f;)if(c.nodeType==1){let d,h=c==l.body,p=1,v=1;if(h)d=W5t(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(f=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let y=c.getBoundingClientRect();({scaleX:p,scaleY:v}=yEe(c,y)),d={left:y.left,right:y.left+c.clientWidth*p,top:y.top,bottom:y.top+c.clientHeight*v}}let g=0,m=0;if(i=="nearest")e.top<d.top?(m=e.top-(d.top+a),n>0&&e.bottom>d.bottom+m&&(m=e.bottom-d.bottom+a)):e.bottom>d.bottom&&(m=e.bottom-d.bottom+a,n<0&&e.top-m<d.top&&(m=e.top-(d.top+a)));else{let y=e.bottom-e.top,b=d.bottom-d.top;m=(i=="center"&&y<=b?e.top+y/2-b/2:i=="start"||i=="center"&&n<0?e.top-a:e.bottom-b+a)-d.top}if(r=="nearest"?e.left<d.left?(g=e.left-(d.left+o),n>0&&e.right>d.right+g&&(g=e.right-d.right+o)):e.right>d.right&&(g=e.right-d.right+o,n<0&&e.left<d.left+g&&(g=e.left-(d.left+o))):g=(r=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:r=="start"==s?e.left-o:e.right-(d.right-d.left)+o)-d.left,g||m)if(h)u.scrollBy(g,m);else{let y=0,b=0;if(m){let w=c.scrollTop;c.scrollTop+=m/v,b=(c.scrollTop-w)*v}if(g){let w=c.scrollLeft;c.scrollLeft+=g/p,y=(c.scrollLeft-w)*p}e={left:e.left-y,top:e.top-b,right:e.right-y,bottom:e.bottom-b},y&&Math.abs(y-g)<1&&(r="nearest"),b&&Math.abs(b-m)<1&&(i="nearest")}if(h)break;(e.top<d.top||e.bottom>d.bottom||e.left<d.left||e.right>d.right)&&(e={left:Math.max(e.left,d.left),right:Math.min(e.right,d.right),top:Math.max(e.top,d.top),bottom:Math.min(e.bottom,d.bottom)}),c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function K5t(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class Y5t{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?id(n):0),r,Math.min(e.focusOffset,r?id(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let Bg=null;Gn.safari&&Gn.safari_version>=26&&(Bg=!1);function bEe(t){if(t.setActive)return t.setActive();if(Bg)return t.focus(Bg);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Bg==null?{get preventScroll(){return Bg={preventScroll:!0},!0}}:void 0),!Bg){Bg=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],o=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let Dse;function ay(t,e,n=e){let r=Dse||(Dse=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Ib(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,t.dispatchEvent(o);let a=new KeyboardEvent("keyup",i);return a.synthetic=!0,t.dispatchEvent(a),o.defaultPrevented||a.defaultPrevented}function X5t(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function _Ee(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function Z5t(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,id(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=id(n))}else{if(n==t)return!0;r=oy(n),n=n.parentNode}}function wEe(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function SEe(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=id(n)}else if(n.parentNode&&!xO(n))r=oy(n),n=n.parentNode;else return null}}function xEe(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!xO(n))r=oy(n)+1,n=n.parentNode;else return null}}class Ms{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Ms(e.parentNode,oy(e),n)}static after(e,n){return new Ms(e.parentNode,oy(e)+1,n)}}const SU=[];class Ki{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,o;for(let a of this.children){if(a.flags&7){if(!a.dom&&(o=i?i.nextSibling:r.firstChild)){let s=Ki.get(o);(!s||!s.parent&&s.canReuseDOM(a))&&a.reuseDOM(o)}a.sync(e,n),a.flags&=-8}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=a.dom&&(n.written=!0),a.dom.parentNode==r)for(;o&&o!=a.dom;)o=Nse(o);else r.insertBefore(a.dom,o);i=a.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=Nse(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=id(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Ki.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let a=this.children[i];if(a.dom==r)return o;o+=a.length+a.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,o=-1,a=-1,s=-1;for(let l=0,u=r,c=r;l<this.children.length;l++){let f=this.children[l],d=u+f.length;if(u<e&&d>n)return f.domBoundsAround(e,n,u);if(d>=e&&i==-1&&(i=l,o=u),u>n&&f.dom.parentNode==this.dom){a=l,s=c;break}c=d,u=d+f.breakAfter}return{from:o,to:s<0?r+this.length:s,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=SU){this.markDirty();for(let i=e;i<n;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new CEe(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,o,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Ki.prototype.breakAfter=0;function Nse(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class CEe{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function EEe(t,e,n,r,i,o,a,s,l){let{children:u}=t,c=u.length?u[e]:null,f=o.length?o[o.length-1]:null,d=f?f.breakAfter:a;if(!(e==r&&c&&!a&&!d&&o.length<2&&c.merge(n,i,o.length?f:null,n==0,s,l))){if(r<u.length){let h=u[r];h&&(i<h.length||h.breakAfter&&f?.breakAfter)?(e==r&&(h=h.split(i),i=0),!d&&f&&h.merge(0,i,f,!0,0,l)?o[o.length-1]=h:((i||h.children.length&&!h.children[0].length)&&h.merge(0,i,null,!1,0,l),o.push(h))):h?.breakAfter&&(f?f.breakAfter=1:a=1),r++}for(c&&(c.breakAfter=a,n>0&&(!a&&o.length&&c.merge(n,c.length,o[0],!1,s,0)?c.breakAfter=o.shift().breakAfter:(n<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(n,c.length,null,!1,s,0),e++));e<r&&o.length;)if(u[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:s;else if(u[e].become(o[0]))e++,o.shift(),s=o.length?0:l;else break;!o.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,s,l)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function TEe(t,e,n,r,i,o){let a=t.childCursor(),{i:s,off:l}=a.findPos(n,1),{i:u,off:c}=a.findPos(e,-1),f=e-n;for(let d of r)f+=d.length;t.length+=f,EEe(t,u,c,s,l,r,0,i,o)}const J5t=256;class Fc extends Ki{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof Fc)||this.length-(n-e)+r.length>J5t||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new Fc(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Ms(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return Q5t(this.dom,e,n)}}class wh extends Ki{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(_Ee(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,o,a){return r&&(!(r instanceof wh&&r.mark.eq(this.mark))||e&&o<=0||n<this.length&&a<=0)?!1:(TEe(this,e,n,r?r.children.slice():[],o-1,a-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,o=0;for(let s of this.children){let l=r+s.length;l>e&&n.push(r<e?s.split(e-r):s),i<0&&r>=e&&(i=o),r=l,o++}let a=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new wh(this.mark,n,a)}domAtPos(e){return AEe(this,e)}coordsAt(e,n){return MEe(this,e,n)}}function Q5t(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,a=0;e==0&&n<0||e==r&&n>=0?Gn.chrome||Gn.gecko||(e?(i--,a=1):o<r&&(o++,a=-1)):n<0?i--:o<r&&o++;let s=ay(t,i,o).getClientRects();if(!s.length)return null;let l=s[(a?a<0:n>=0)?0:s.length-1];return Gn.safari&&!a&&l.width==0&&(l=Array.prototype.find.call(s,u=>u.width)||l),a?oL(l,a<0):l||null}class Fp extends Ki{static create(e,n,r){return new Fp(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=Fp.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,o,a){return r&&(!(r instanceof Fp)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof Fp&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Pi.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Pi.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Ms.before(this.dom):Ms.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let a=this.side?this.side<0:e>0;for(let s=a?i.length-1:0;o=i[s],!(e>0?s==0:s==i.length-1||o.top<o.bottom);s+=a?-1:1);return oL(o,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class j1 extends Ki{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof j1&&e.side==this.side}split(){return new j1(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Ms.before(this.dom):Ms.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Pi.empty}get isHidden(){return!0}}Fc.prototype.children=Fp.prototype.children=j1.prototype.children=SU;function AEe(t,e){let n=t.dom,{children:r}=t,i=0;for(let o=0;i<r.length;i++){let a=r[i],s=o+a.length;if(!(s==o&&a.getSide()<=0)){if(e>o&&e<s&&a.dom.parentNode==n)return a.domAtPos(e-o);if(e<=o)break;o=s}}for(let o=i;o>0;o--){let a=r[o-1];if(a.dom.parentNode==n)return a.domAtPos(a.length)}for(let o=i;o<r.length;o++){let a=r[o];if(a.dom.parentNode==n)return a.domAtPos(0)}return new Ms(n,0)}function kEe(t,e,n){let r,{children:i}=t;n>0&&e instanceof wh&&i.length&&(r=i[i.length-1])instanceof wh&&r.mark.eq(e.mark)?kEe(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function MEe(t,e,n){let r=null,i=-1,o=null,a=-1;function s(u,c){for(let f=0,d=0;f<u.children.length&&d<=c;f++){let h=u.children[f],p=d+h.length;p>=c&&(h.children.length?s(h,c-d):(!o||o.isHidden&&(n>0||t6t(o,h)))&&(p>c||d==p&&h.getSide()>0)?(o=h,a=c-d):(d<c||d==p&&h.getSide()<0&&!h.isHidden)&&(r=h,i=c-d)),d=p}}s(t,e);let l=(n<0?r:o)||r||o;return l?l.coordsAt(Math.max(0,l==r?i:a),n):e6t(t)}function e6t(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=WC(e);return n[n.length-1]||null}function t6t(t,e){let n=t.coordsAt(0,1),r=e.coordsAt(0,1);return n&&r&&r.top<n.bottom}function t8(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const Bse=Object.create(null);function CO(t,e,n){if(t==e)return!0;t||(t=Bse),e||(e=Bse);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(i.indexOf(o)==-1||t[o]!==e[o]))return!1;return!0}function n8(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function n6t(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class xU{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var $u=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})($u||($u={}));class ss extends iy{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new lE(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Ev(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:a}=PEe(e,n);r=(o?n?-3e8:-1:5e8)-1,i=(a?n?2e8:1:-6e8)+1}return new Ev(e,r,i,n,e.widget||null,!0)}static line(e){return new uE(e)}static set(e,n=!1){return zi.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ss.none=zi.empty;class lE extends ss{constructor(e){let{start:n,end:r}=PEe(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof lE&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&CO(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}lE.prototype.point=!1;class uE extends ss{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof uE&&this.spec.class==e.spec.class&&CO(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}uE.prototype.mapMode=Hl.TrackBefore;uE.prototype.point=!0;class Ev extends ss{constructor(e,n,r,i,o,a){super(n,r,o,e),this.block=i,this.isReplace=a,this.mapMode=i?n<=0?Hl.TrackBefore:Hl.TrackAfter:Hl.TrackDel}get type(){return this.startSide!=this.endSide?$u.WidgetRange:this.startSide<=0?$u.WidgetBefore:$u.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Ev&&r6t(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Ev.prototype.point=!0;function PEe(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function r6t(t,e){return t==e||!!(t&&e&&t.compare(e))}function aM(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class la extends Ki{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,o,a){if(r){if(!(r instanceof la))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),TEe(this,e,n,r?r.children.slice():[],o,a),!0}split(e){let n=new la;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){CO(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){kEe(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=t8(n,this.attrs||{})),r&&(this.attrs=t8({class:r},this.attrs||{}))}domAtPos(e){return AEe(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(_Ee(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(n8(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&Ki.get(i)instanceof wh;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Ki.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!Gn.ios||!this.children.some(o=>o instanceof Fc))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof Fc)||/[^ -~]/.test(r.text))return null;let i=WC(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=MEe(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let a=(o-i.textHeight)/2;return{top:r.top+a,bottom:r.bottom-a,left:r.left,right:r.left}}}return r}become(e){return e instanceof la&&this.children.length==0&&e.children.length==0&&CO(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],a=i+o.length;if(a>=n){if(o instanceof la)return o;if(a>n)break}i=a+o.breakAfter}return null}}class eh extends Ki{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,o,a){return r&&(!(r instanceof eh)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Ms.before(this.dom):Ms.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new eh(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return SU}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Pi.empty}domBoundsAround(){return null}become(e){return e instanceof eh&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof r8?null:oL(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class r8 extends xU{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class gx{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof eh&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new la),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(IA(new j1(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof eh)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:s,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=a,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e),o=Math.min(i,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(IA(new Fc(this.text.slice(this.textOff,this.textOff+o)),n),r),this.atCursorPos=!0,this.textOff+=o,e-=o,r=i<=o?0:n.length}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,o,a){if(this.disallowBlockEffectsFor[a]&&r instanceof Ev){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=n-e;if(r instanceof Ev)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new eh(r.widget||G1.block,s,r));else{let l=Fp.create(r.widget||G1.inline,s,s?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&o<=i.length&&(e<n||r.startSide>0),c=!l.isEditable&&(e<n||o>i.length||r.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(f.append(IA(new j1(1),i),o),o=i.length+Math.max(0,o-i.length)),f.append(IA(l,i),o),this.atCursorPos=c,this.pendingBuffer=c?e<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(e,n,r,i,o){let a=new gx(e,n,r,o);return a.openEnd=zi.spans(i,n,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function IA(t,e){for(let n of e)t=new wh(n,[t],t.length);return t}class G1 extends xU{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}G1.inline=new G1("span");G1.block=new G1("div");var fa=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(fa||(fa={}));const sy=fa.LTR,CU=fa.RTL;function OEe(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const i6t=OEe("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),o6t=OEe("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),i8=Object.create(null),pf=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);i8[e]=n,i8[n]=-e}function IEe(t){return t<=247?i6t[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?o6t[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const a6t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Vp{get dir(){return this.level%2?CU:sy}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let o=-1;for(let a=0;a<e.length;a++){let s=e[a];if(s.from<=n&&s.to>=n){if(s.level==r)return a;(o<0||(i!=0?i<0?s.from<n:s.to>n:e[o].level>s.level))&&(o=a)}}if(o<0)throw new RangeError("Index out of range");return o}}function REe(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!REe(r.inner,i.inner))return!1}return!0}const Zi=[];function s6t(t,e,n,r,i){for(let o=0;o<=r.length;o++){let a=o?r[o-1].to:e,s=o<r.length?r[o].from:n,l=o?256:i;for(let u=a,c=l,f=l;u<s;u++){let d=IEe(t.charCodeAt(u));d==512?d=c:d==8&&f==4&&(d=16),Zi[u]=d==4?2:d,d&7&&(f=d),c=d}for(let u=a,c=l,f=l;u<s;u++){let d=Zi[u];if(d==128)u<s-1&&c==Zi[u+1]&&c&24?d=Zi[u]=c:Zi[u]=256;else if(d==64){let h=u+1;for(;h<s&&Zi[h]==64;)h++;let p=u&&c==8||h<n&&Zi[h]==8?f==1?1:8:256;for(let v=u;v<h;v++)Zi[v]=p;u=h-1}else d==8&&f==1&&(Zi[u]=1);c=d,d&7&&(f=d)}}}function l6t(t,e,n,r,i){let o=i==1?2:1;for(let a=0,s=0,l=0;a<=r.length;a++){let u=a?r[a-1].to:e,c=a<r.length?r[a].from:n;for(let f=u,d,h,p;f<c;f++)if(h=i8[d=t.charCodeAt(f)])if(h<0){for(let v=s-3;v>=0;v-=3)if(pf[v+1]==-h){let g=pf[v+2],m=g&2?i:g&4?g&1?o:i:0;m&&(Zi[f]=Zi[pf[v]]=m),s=v;break}}else{if(pf.length==189)break;pf[s++]=f,pf[s++]=d,pf[s++]=l}else if((p=Zi[f])==2||p==1){let v=p==i;l=v?0:1;for(let g=s-3;g>=0;g-=3){let m=pf[g+2];if(m&2)break;if(v)pf[g+2]|=2;else{if(m&4)break;pf[g+2]|=4}}}}}function u6t(t,e,n,r){for(let i=0,o=r;i<=n.length;i++){let a=i?n[i-1].to:t,s=i<n.length?n[i].from:e;for(let l=a;l<s;){let u=Zi[l];if(u==256){let c=l+1;for(;;)if(c==s){if(i==n.length)break;c=n[i++].to,s=i<n.length?n[i].from:e}else if(Zi[c]==256)c++;else break;let f=o==1,d=(c<e?Zi[c]:r)==1,h=f==d?f?1:2:r;for(let p=c,v=i,g=v?n[v-1].to:t;p>l;)p==g&&(p=n[--v].from,g=v?n[v-1].to:t),Zi[--p]=h;l=c}else o=u,l++}}}function o8(t,e,n,r,i,o,a){let s=r%2?2:1;if(r%2==i%2)for(let l=e,u=0;l<n;){let c=!0,f=!1;if(u==o.length||l<o[u].from){let v=Zi[l];v!=s&&(c=!1,f=v==16)}let d=!c&&s==1?[]:null,h=c?r:r+1,p=l;e:for(;;)if(u<o.length&&p==o[u].from){if(f)break e;let v=o[u];if(!c)for(let g=v.to,m=u+1;;){if(g==n)break e;if(m<o.length&&o[m].from==g)g=o[m++].to;else{if(Zi[g]==s)break e;break}}if(u++,d)d.push(v);else{v.from>l&&a.push(new Vp(l,v.from,h));let g=v.direction==sy!=!(h%2);a8(t,g?r+1:r,i,v.inner,v.from,v.to,a),l=v.to}p=v.to}else{if(p==n||(c?Zi[p]!=s:Zi[p]==s))break;p++}d?o8(t,l,p,r+1,i,d,a):l<p&&a.push(new Vp(l,p,h)),l=p}else for(let l=n,u=o.length;l>e;){let c=!0,f=!1;if(!u||l>o[u-1].to){let v=Zi[l-1];v!=s&&(c=!1,f=v==16)}let d=!c&&s==1?[]:null,h=c?r:r+1,p=l;e:for(;;)if(u&&p==o[u-1].to){if(f)break e;let v=o[--u];if(!c)for(let g=v.from,m=u;;){if(g==e)break e;if(m&&o[m-1].to==g)g=o[--m].from;else{if(Zi[g-1]==s)break e;break}}if(d)d.push(v);else{v.to<l&&a.push(new Vp(v.to,l,h));let g=v.direction==sy!=!(h%2);a8(t,g?r+1:r,i,v.inner,v.from,v.to,a),l=v.from}p=v.from}else{if(p==e||(c?Zi[p-1]!=s:Zi[p-1]==s))break;p--}d?o8(t,p,l,r+1,i,d,a):p<l&&a.push(new Vp(p,l,h)),l=p}}function a8(t,e,n,r,i,o,a){let s=e%2?2:1;s6t(t,i,o,r,s),l6t(t,i,o,r,s),u6t(i,o,r,s),o8(t,i,o,e,n,r,a)}function c6t(t,e,n){if(!t)return[new Vp(0,0,e==CU?1:0)];if(e==sy&&!n.length&&!a6t.test(t))return LEe(t.length);if(n.length)for(;t.length>Zi.length;)Zi[Zi.length]=256;let r=[],i=e==sy?0:1;return a8(t,i,i,n,0,t.length,r),r}function LEe(t){return[new Vp(0,t,0)]}let DEe="";function f6t(t,e,n,r,i){var o;let a=r.head-t.from,s=Vp.find(e,a,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),l=e[s],u=l.side(i,n);if(a==u){let d=s+=i?1:-1;if(d<0||d>=e.length)return null;l=e[s=d],a=l.side(!i,n),u=l.side(i,n)}let c=Nf(t.text,a,l.forward(i,n));(c<l.from||c>l.to)&&(c=u),DEe=t.text.slice(Math.min(a,c),Math.max(a,c));let f=s==(i?e.length-1:0)?null:e[s+(i?1:-1)];return f&&c==u&&f.level+(i?0:1)<l.level?er.cursor(f.side(!i,n)+t.from,f.forward(i,n)?1:-1,f.level):er.cursor(c+t.from,l.forward(i,n)?-1:1,l.level)}function d6t(t,e,n){for(let r=e;r<n;r++){let i=IEe(t.charCodeAt(r));if(i==1)return sy;if(i==2||i==4)return CU}return sy}const NEe=pr.define(),BEe=pr.define(),$Ee=pr.define(),FEe=pr.define(),s8=pr.define(),VEe=pr.define(),zEe=pr.define(),EU=pr.define(),TU=pr.define(),HEe=pr.define({combine:t=>t.some(e=>e)}),h6t=pr.define({combine:t=>t.some(e=>e)}),jEe=pr.define();class Rb{constructor(e,n="nearest",r="nearest",i=5,o=5,a=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=a}map(e){return e.empty?this:new Rb(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Rb(er.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const RA=ho.define({map:(t,e)=>t.map(e)}),GEe=ho.define();function ql(t,e,n){let r=t.facet(FEe);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const $d=pr.define({combine:t=>t.length?t[0]:!0});let p6t=0;const tb=pr.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class od{constructor(e,n,r,i,o){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=o(this),this.extension=this.baseExtensions.concat(tb.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(tb.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:o,decorations:a}=n||{};return new od(p6t++,e,r,i,s=>{let l=[];return a&&l.push(qC.of(u=>{let c=u.plugin(s);return c?a(c):ss.none})),o&&l.push(o(s)),l})}static fromClass(e,n){return od.define((r,i)=>new e(r,i),n)}}class d${constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(ql(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){ql(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){ql(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const UEe=pr.define(),AU=pr.define(),qC=pr.define(),WEe=pr.define(),cE=pr.define(),qEe=pr.define();function $se(t,e){let n=t.state.facet(qEe);if(!n.length)return n;let r=n.map(o=>o instanceof Function?o(t):o),i=[];return zi.spans(r,e.from,e.to,{point(){},span(o,a,s,l){let u=o-e.from,c=a-e.from,f=i;for(let d=s.length-1;d>=0;d--,l--){let h=s[d].spec.bidiIsolate,p;if(h==null&&(h=d6t(e.text,u,c)),l>0&&f.length&&(p=f[f.length-1]).to==u&&p.direction==h)p.to=c,f=p.inner;else{let v={from:u,to:c,direction:h,inner:[]};f.push(v),f=v.inner}}}}),i}const KEe=pr.define();function kU(t){let e=0,n=0,r=0,i=0;for(let o of t.state.facet(KEe)){let a=o(t);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(n=Math.max(n,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(i=Math.max(i,a.bottom)))}return{left:e,right:n,top:r,bottom:i}}const xS=pr.define();class Fu{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Fu(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,o=0,a=0,s=0;;i++){let l=i==e.length?null:e[i],u=a-s,c=l?l.fromB:1e9;for(;o<n.length&&n[o]<c;){let f=n[o],d=n[o+1],h=Math.max(s,f),p=Math.min(c,d);if(h<=p&&new Fu(h+u,p+u,h,p).addToSet(r),d>c)break;o+=2}if(!l)return r;new Fu(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),a=l.toA,s=l.toB}}}class EO{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=_a.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,a,s,l)=>i.push(new Fu(o,a,s,l))),this.changedRanges=i}static create(e,n,r){return new EO(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Fse extends Ki{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ss.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new la],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Fu(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!w6t(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?g6t(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;r=new Fu(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(Gn.ie||Gn.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,s=this.updateDeco(),l=b6t(a,s,e.changes);return r=Fu.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=Gn.chrome||Gn.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||i.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof eh&&a.widget instanceof r8&&o.push(a.dom);i.updateGaps(o)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(n);for(let a=i.length-1;;a--){let s=a>=0?i[a]:null;if(!s)break;let{fromA:l,toA:u,fromB:c,toB:f}=s,d,h,p,v;if(r&&r.range.fromB<f&&r.range.toB>c){let w=gx.build(this.view.state.doc,c,r.range.fromB,this.decorations,this.dynamicDecorationMap),S=gx.build(this.view.state.doc,r.range.toB,f,this.decorations,this.dynamicDecorationMap);h=w.breakAtStart,p=w.openStart,v=S.openEnd;let x=this.compositionView(r);S.breakAtStart?x.breakAfter=1:S.content.length&&x.merge(x.length,x.length,S.content[0],!1,S.openStart,0)&&(x.breakAfter=S.content[0].breakAfter,S.content.shift()),w.content.length&&x.merge(0,0,w.content[w.content.length-1],!0,0,w.openEnd)&&w.content.pop(),d=w.content.concat(x).concat(S.content)}else({content:d,breakAtStart:h,openStart:p,openEnd:v}=gx.build(this.view.state.doc,c,f,this.decorations,this.dynamicDecorationMap));let{i:g,off:m}=o.findPos(u,1),{i:y,off:b}=o.findPos(l,-1);EEe(this,y,b,g,m,d,h,p,v)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(GEe)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new Fc(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new wh(i,[n],n.length);let r=new la;return r.append(n,0),r}fixCompositionDOM(e){let n=(o,a)=>{a.flags|=8|(a.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(a);let s=Ki.get(o);s&&s!=a&&(s.dom=null),a.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],n(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&!(this.view.state.facet($d)||this.dom.tabIndex>-1)&&oM(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||o))return;let a=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(s.anchor)),u=s.empty?l:this.moveToLine(this.domAtPos(s.head));if(Gn.gecko&&s.empty&&!this.hasComposition&&v6t(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=u=new Ms(f,0),a=!0}let c=this.view.observer.selectionRange;(a||!c.focusNode||(!vx(l.node,l.offset,c.anchorNode,c.anchorOffset)||!vx(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,s))&&(this.view.observer.ignore(()=>{Gn.android&&Gn.chrome&&this.dom.contains(c.focusNode)&&_6t(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=UC(this.view.root);if(f)if(s.empty){if(Gn.gecko){let d=m6t(l.node,l.offset);if(d&&d!=3){let h=(d==1?SEe:xEe)(l.node,l.offset);h&&(l=new Ms(h.node,h.offset))}}f.collapse(l.node,l.offset),s.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=s.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(u.node,u.offset)}catch{}}else{let d=document.createRange();s.anchor>s.head&&([l,u]=[u,l]),d.setEnd(u.node,u.offset),d.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(d)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new Ms(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new Ms(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&vx(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=UC(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let a=la.find(this,n.head);if(!a)return;let s=a.posAtStart;if(n.head==s||n.head==s+a.length)return;let l=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(n.head+n.assoc);r.collapse(c.node,c.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&r.collapse(i,o)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let o=Ki.get(n.childNodes[i]);o instanceof la&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=Ki.get(n.childNodes[i]);o instanceof la&&(r=o.domAtPos(o.length))}return r?new Ms(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=Ki.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof la)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let o=this.length,a=this.children.length-1;a>=0;a--){let s=this.children[a],l=o-s.breakAfter,u=l-s.length;if(l<e)break;if(u<=e&&(u<e||s.covers(-1))&&(l>e||s.covers(1))&&(!r||s instanceof la&&!(r instanceof la&&n>=0)))r=s,i=u;else if(r&&u==e&&l==e&&s instanceof eh&&Math.abs(n)<2){if(s.deco.startSide<0)break;a&&(r=null)}o=u}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof la))return null;for(;i.children.length;){let{i:s,off:l}=i.childPos(r,1);for(;;s++){if(s==i.children.length)return null;if((i=i.children[s]).length)break}r=l}if(!(i instanceof Fc))return null;let o=Nf(i.text,r);if(o==r)return null;let a=ay(i.dom,r,o).getClientRects();for(let s=0;s<a.length;s++){let l=a[s];if(s==a.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,a=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,l=this.view.textDirection==fa.LTR;for(let u=0,c=0;c<this.children.length;c++){let f=this.children[c],d=u+f.length;if(d>i)break;if(u>=r){let h=f.dom.getBoundingClientRect();if(n.push(h.height),a){let p=f.dom.lastChild,v=p?WC(p):[];if(v.length){let g=v[v.length-1],m=l?g.right-h.left:h.right-g.left;m>s&&(s=m,this.minWidth=o,this.minWidthFrom=u,this.minWidthTo=d)}}}u=d+f.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?fa.RTL:fa.LTR}measureTextSize(){for(let o of this.children)if(o instanceof la){let a=o.measureTextSize();if(a)return a}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=WC(e.firstChild)[0];n=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new CEe(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],a=o?o.from-1:this.length;if(a>r){let s=(n.lineBlockAt(a).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(ss.replace({widget:new r8(s),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!o)break;r=o.to+1}return ss.set(e)}updateDeco(){let e=1,n=this.view.state.facet(qC).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(WEe).map((o,a)=>{let s=typeof o=="function";return s&&(r=!0),s?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(zi.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(jEe))try{if(u(this.view,e.range,e))return!0}catch(c){ql(this.view.state,c,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=kU(this.view),a={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:s,offsetHeight:l}=this.view.scrollDOM;q5t(this.view.scrollDOM,a,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,s),-s),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==fa.LTR)}lineHasWidget(e){let{i:n}=this.childCursor().findPos(e);if(n==this.children.length)return!1;let r=i=>i instanceof Fp||i.children.some(r);return r(this.children[n])}}function v6t(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function YEe(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=SEe(n.focusNode,n.focusOffset),i=xEe(n.focusNode,n.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let s=Ki.get(i.node);if(!s||s instanceof Fc&&s.text!=i.node.nodeValue)o=i;else if(t.docView.lastCompositionAfterCursor){let l=Ki.get(r.node);!l||l instanceof Fc&&l.text!=r.node.nodeValue||(o=i)}}if(t.docView.lastCompositionAfterCursor=o!=r,!o)return null;let a=e-o.offset;return{from:a,to:a+o.node.nodeValue.length,node:o.node}}function g6t(t,e,n){let r=YEe(t,n);if(!r)return null;let{node:i,from:o,to:a}=r,s=i.nodeValue;if(/[\n\r]/.test(s)||t.state.doc.sliceString(r.from,r.to)!=s)return null;let l=e.invertedDesc,u=new Fu(l.mapPos(o),l.mapPos(a),o,a),c=[];for(let f=i.parentNode;;f=f.parentNode){let d=Ki.get(f);if(d instanceof wh)c.push({node:f,deco:d.mark});else{if(d instanceof la||f.nodeName=="DIV"&&f.parentNode==t.contentDOM)return{range:u,text:i,marks:c,line:f};if(f!=t.contentDOM)c.push({node:f,deco:new lE({inclusive:!0,attributes:n6t(f),tagName:f.tagName.toLowerCase()})});else return null}}}function m6t(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let y6t=class{constructor(){this.changes=[]}compareRange(e,n){aM(e,n,this.changes)}comparePoint(e,n){aM(e,n,this.changes)}boundChange(e){aM(e,e,this.changes)}};function b6t(t,e,n){let r=new y6t;return zi.compare(t,e,n,r),r.changes}function _6t(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function w6t(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function S6t(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return er.cursor(e);o==0?n=1:o==i.length&&(n=-1);let a=o,s=o;n<0?a=Nf(i.text,o,!1):s=Nf(i.text,o);let l=r(i.text.slice(a,s));for(;a>0;){let u=Nf(i.text,a,!1);if(r(i.text.slice(u,a))!=l)break;a=u}for(;s<i.length;){let u=Nf(i.text,s);if(r(i.text.slice(s,u))!=l)break;s=u}return er.range(a+i.from,s+i.from)}function x6t(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function C6t(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function h$(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Vse(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function zse(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function l8(t,e,n){let r,i,o,a,s=!1,l,u,c,f;for(let p=t.firstChild;p;p=p.nextSibling){let v=WC(p);for(let g=0;g<v.length;g++){let m=v[g];i&&h$(i,m)&&(m=Vse(zse(m,i.bottom),i.top));let y=x6t(e,m),b=C6t(n,m);if(y==0&&b==0)return p.nodeType==3?Hse(p,e,n):l8(p,e,n);(!r||a>b||a==b&&o>y)&&(r=p,i=m,o=y,a=b,s=y?e<m.left?g>0:g<v.length-1:!0),y==0?n>m.bottom&&(!c||c.bottom<m.bottom)?(l=p,c=m):n<m.top&&(!f||f.top>m.top)&&(u=p,f=m):c&&h$(c,m)?c=zse(c,m.bottom):f&&h$(f,m)&&(f=Vse(f,m.top))}}if(c&&c.bottom>=n?(r=l,i=c):f&&f.top<=n&&(r=u,i=f),!r)return{node:t,offset:0};let d=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return Hse(r,d,n);if(s&&r.contentEditable!="false")return l8(r,d,n);let h=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:h}}function Hse(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,a=0;for(let s=0;s<r;s++){let l=ay(t,s,s+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;a||(a=e-c.left);let f=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&f<o){let d=e>=(c.left+c.right)/2,h=d;if(Gn.chrome||Gn.gecko){let p=ay(t,s).getBoundingClientRect();Math.abs(p.left-c.right)<.1&&(h=!d)}if(f<=0)return{node:t,offset:s+(h?1:0)};i=s+(h?1:0),o=f}}}return{node:t,offset:i>-1?i:a>0?t.nodeValue.length:0}}function XEe(t,e,n,r=-1){var i,o;let a=t.contentDOM.getBoundingClientRect(),s=a.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:c,y:f}=e,d=f-s;if(d<0)return 0;if(d>u)return t.state.doc.length;for(let w=t.viewState.heightOracle.textHeight/2,S=!1;l=t.elementAtHeight(d),l.type!=$u.Text;)for(;d=r>0?l.bottom+w:l.top-w,!(d>=0&&d<=u);){if(S)return n?null:0;S=!0,r=-r}f=s+d;let h=l.from;if(h<t.viewport.from)return t.viewport.from==0?0:n?null:jse(t,a,l,c,f);if(h>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:jse(t,a,l,c,f);let p=t.dom.ownerDocument,v=t.root.elementFromPoint?t.root:p,g=v.elementFromPoint(c,f);g&&!t.contentDOM.contains(g)&&(g=null),g||(c=Math.max(a.left+1,Math.min(a.right-1,c)),g=v.elementFromPoint(c,f),g&&!t.contentDOM.contains(g)&&(g=null));let m,y=-1;if(g&&((i=t.docView.nearest(g))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let w=p.caretPositionFromPoint(c,f);w&&({offsetNode:m,offset:y}=w)}else if(p.caretRangeFromPoint){let w=p.caretRangeFromPoint(c,f);w&&({startContainer:m,startOffset:y}=w)}m&&(!t.contentDOM.contains(m)||Gn.safari&&E6t(m,y,c)||Gn.chrome&&T6t(m,y,c))&&(m=void 0),m&&(y=Math.min(id(m),y))}if(!m||!t.docView.dom.contains(m)){let w=la.find(t.docView,h);if(!w)return d>l.top+l.height/2?l.to:l.from;({node:m,offset:y}=l8(w.dom,c,f))}let b=t.docView.nearest(m);if(!b)return null;if(b.isWidget&&((o=b.dom)===null||o===void 0?void 0:o.nodeType)==1){let w=b.dom.getBoundingClientRect();return e.y<w.top||e.y<=w.bottom&&e.x<=(w.left+w.right)/2?b.posAtStart:b.posAtEnd}else return b.localPosFromDOM(m,y)+b.posAtStart}function jse(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let s=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-s)*.5)/s);o+=l*t.viewState.heightOracle.lineLength}let a=t.state.sliceDoc(n.from,n.to);return n.from+V5t(a,o,t.state.tabSize)}function ZEe(t,e,n){let r,i=t;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(;;){let o=i.nextSibling;if(o){if(o.nodeName=="BR")break;return!1}else{let a=i.parentNode;if(!a||a.nodeName=="DIV")break;i=a}}return ay(t,r-1,r).getBoundingClientRect().right>n}function E6t(t,e,n){return ZEe(t,e,n)}function T6t(t,e,n){if(e!=0)return ZEe(t,e,n);for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=t.nodeType==1?t.getBoundingClientRect():ay(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function A6t(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let o of r.type){if(o.from>e)break;if(!(o.to<e)){if(o.from<e&&o.to>e)return o;(!i||o.type==$u.Text&&(i.type!=o.type||(n<0?o.from<e:o.to>e)))&&(i=o)}}return i||r}return r}function k6t(t,e,n,r){let i=A6t(t,e.head,e.assoc||-1),o=!r||i.type!=$u.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let a=t.dom.getBoundingClientRect(),s=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(s==fa.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(l!=null)return er.cursor(l,n?-1:1)}return er.cursor(n?i.to:i.from,n?-1:1)}function Gse(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),a=t.textDirectionAt(i.from);for(let s=e,l=null;;){let u=f6t(i,o,a,s,n),c=DEe;if(!u){if(i.number==(n?t.state.doc.lines:1))return s;c=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),u=t.visualLineSide(i,!n)}if(l){if(!l(c))return s}else{if(!r)return u;l=r(c)}s=u}}function M6t(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return o=>{let a=r(o);return i==jd.Space&&(i=a),i==a}}function P6t(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return er.cursor(i,e.assoc);let a=e.goalColumn,s,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i,e.assoc||-1),c=t.documentTop;if(u)a==null&&(a=u.left-l.left),s=o<0?u.top:u.bottom;else{let h=t.viewState.lineBlockAt(i);a==null&&(a=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-h.from))),s=(o<0?h.top:h.bottom)+c}let f=l.left+a,d=r??t.viewState.heightOracle.textHeight>>1;for(let h=0;;h+=10){let p=s+(d+h)*o,v=XEe(t,{x:f,y:p},!1,o);if(p<l.top||p>l.bottom||(o<0?v<i:v>i)){let g=t.docView.coordsForChar(v),m=!g||p<g.top?-1:1;return er.cursor(v,m,void 0,a)}}}function mx(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(o,a,s)=>{if(e>o&&e<a){let l=r||n||(e-o<a-e?-1:1);e=l<0?o:a,r=l}});if(!r)return e}}function JEe(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let a=mx(t,i.from,0);a!=i.from&&(o=er.cursor(a,-1))}else{let a=mx(t,i.from,-1),s=mx(t,i.to,1);(a!=i.from||s!=i.to)&&(o=er.range(i.from==i.anchor?a:s,i.from==i.head?a:s))}o&&(n||(n=e.ranges.slice()),n[r]=o)}return n?er.create(n,e.mainIndex):e}function p$(t,e,n){let r=mx(t.state.facet(cE).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:er.cursor(r,r<n.from?1:-1)}const CS="";class O6t{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(Vi.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=CS}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let a=i.nextSibling;if(a==n)break;let s=Ki.get(i),l=Ki.get(a);(s&&l?s.breakAfter:(s?s.breakAfter:xO(i))||xO(a)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&!R6t(a,n)&&this.lineBreak(),i=a}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,a=1,s;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(s=i.exec(n))&&(o=s.index,a=s[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),a>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=a-1);r=o+a}}readNode(e){if(e.cmIgnore)return;let n=Ki.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(I6t(e,r.node,r.offset)?n:0))}}function I6t(t,e,n){for(;;){if(!e||n<id(e))return!1;if(e==t)return!0;n=oy(e)+1,e=e.parentNode}}function R6t(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=Ki.get(t);if(!(r?.isWidget||t.cmIgnore))return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i?.length)return!1}return!0}class Use{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class L6t{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:o,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let s=o||a?[]:N6t(e),l=new O6t(s,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=B6t(s,this.bounds.from)}else{let s=e.observer.selectionRange,l=o&&o.node==s.focusNode&&o.offset==s.focusOffset||!e8(e.contentDOM,s.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(s.focusNode,s.focusOffset),u=a&&a.node==s.anchorNode&&a.offset==s.anchorOffset||!e8(e.contentDOM,s.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(s.anchorNode,s.anchorOffset),c=e.viewport;if((Gn.ios||Gn.chrome)&&e.state.selection.main.empty&&l!=u&&(c.from>0||c.to<e.state.doc.length)){let f=Math.min(l,u),d=Math.max(l,u),h=c.from-f,p=c.to-d;(h==0||h==1||f==0)&&(p==0||p==-1||d==e.state.doc.length)&&(l=0,u=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(er.range(u,l)):this.newSel=er.single(u,l)}}}function QEe(t,e){let n,{newSel:r}=e,i=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:s}=e.bounds,l=i.from,u=null;(o===8||Gn.android&&e.text.length<s-a)&&(l=i.to,u="end");let c=eTe(t.state.doc.sliceString(a,s,CS),e.text,l-a,u);c&&(Gn.chrome&&o==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==CS+CS&&c.toB--,n={from:a+c.from,to:a+c.toA,insert:Pi.of(e.text.slice(c.from,c.toB).split(CS))})}else r&&(!t.hasFocus&&t.state.facet($d)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(Gn.mac||Gn.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=er.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Pi.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:Gn.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=er.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Pi.of([" "])}),n)return MU(t,n,r,o);if(r&&!r.main.eq(i)){let a=!1,s="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(a=!0),s=t.inputState.lastSelectionOrigin,s=="select.pointer"&&(r=JEe(t.state.facet(cE).map(l=>l(t)),r))),t.dispatch({selection:r,scrollIntoView:a,userEvent:s}),!0}else return!1}function MU(t,e,n,r=-1){if(Gn.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(Gn.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Ib(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Ib(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Ib(t.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a,s=()=>a||(a=D6t(t,e,n));return t.state.facet(VEe).some(l=>l(t,e.from,e.to,o,s))||t.dispatch(s()),!0}function D6t(t,e,n){let r,i=t.state,o=i.selection.main,a=-1;if(e.from==e.to&&e.from<o.from||e.from>o.to){let l=e.from<o.from?-1:1,u=l<0?o.from:o.to,c=mx(i.facet(cE).map(f=>f(t)),u,l);e.from==c&&(a=c)}if(a>-1)r={changes:e,selection:er.cursor(e.from+e.insert.length,-1)};else if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let l=o.from<e.from?i.sliceDoc(o.from,e.from):"",u=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(t.state.toText(l+e.insert.sliceString(0,void 0,t.state.lineBreak)+u))}else{let l=i.changes(e),u=n&&n.main.to<=l.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=o.to+10&&e.to>=o.to-10){let c=t.state.sliceDoc(e.from,e.to),f,d=n&&YEe(t,n.main.head);if(d){let p=e.insert.length-(e.to-e.from);f={from:d.from,to:d.to-p}}else f=t.state.doc.lineAt(o.head);let h=o.to-e.to;r=i.changeByRange(p=>{if(p.from==o.from&&p.to==o.to)return{changes:l,range:u||p.map(l)};let v=p.to-h,g=v-c.length;if(t.state.sliceDoc(g,v)!=c||v>=f.from&&g<=f.to)return{range:p};let m=i.changes({from:g,to:v,insert:e.insert}),y=p.to-o.to;return{changes:m,range:u?er.range(Math.max(0,u.anchor+y),Math.max(0,u.head+y)):p.map(m)}})}else r={changes:l,selection:u&&i.selection.replaceRange(u)}}let s="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,s+=".compose",t.inputState.compositionFirstChange&&(s+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function eTe(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let a=t.length,s=e.length;for(;a>0&&s>0&&t.charCodeAt(a-1)==e.charCodeAt(s-1);)a--,s--;if(r=="end"){let l=Math.max(0,o-Math.min(a,s));n-=a+l-o}if(a<o&&t.length<e.length){let l=n<=o&&n>=a?o-n:0;o-=l,s=o+(s-a),a=o}else if(s<o){let l=n<=o&&n>=s?o-n:0;o-=l,a=o+(a-s),s=o}return{from:o,toA:a,toB:s}}function N6t(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new Use(n,r)),(i!=n||o!=r)&&e.push(new Use(i,o))),e}function B6t(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?er.single(n+e,r+e):null}class $6t{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Gn.safari&&e.contentDOM.addEventListener("input",()=>null),Gn.gecko&&e8t(e.contentDOM.ownerDocument)}handleEvent(e){!W6t(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=F6t(e),r=this.handlers,i=this.view.contentDOM;for(let o in n)if(o!="scroll"){let a=!n[o].handlers.length,s=r[o];s&&a!=!s.handlers.length&&(i.removeEventListener(o,this.handleEvent),s=null),s||i.addEventListener(o,this.handleEvent,{passive:a})}for(let o in r)o!="scroll"&&!n[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&nTe.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Gn.android&&Gn.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return Gn.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=tTe.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||V6t.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Ib(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:Gn.safari&&!Gn.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Wse(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){ql(n.state,i)}}}function F6t(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,o=i&&i.plugin.domEventHandlers,a=i&&i.plugin.domEventObservers;if(o)for(let s in o){let l=o[s];l&&n(s).handlers.push(Wse(r.value,l))}if(a)for(let s in a){let l=a[s];l&&n(s).observers.push(Wse(r.value,l))}}for(let r in Vc)n(r).handlers.push(Vc[r]);for(let r in Ju)n(r).observers.push(Ju[r]);return e}const tTe=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],V6t="dthko",nTe=[16,17,18,20,91,92,224,225],LA=6;function DA(t){return Math.max(0,t)*.7+8}function z6t(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class H6t{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=K5t(e.contentDOM),this.atoms=e.state.facet(cE).map(a=>a(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Vi.allowMultipleSelections)&&j6t(e,n),this.dragging=U6t(e,n)&&oTe(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&z6t(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,o=0,a=this.view.win.innerWidth,s=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:s}=this.scrollParents.y.getBoundingClientRect());let l=kU(this.view);e.clientX-l.left<=i+LA?n=-DA(i-e.clientX):e.clientX+l.right>=a-LA&&(n=DA(e.clientX-a)),e.clientY-l.top<=o+LA?r=-DA(o-e.clientY):e.clientY+l.bottom>=s-LA&&(r=DA(e.clientY-s)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=JEe(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function j6t(t,e){let n=t.state.facet(NEe);return n.length?n[0](e):Gn.mac?e.metaKey:e.ctrlKey}function G6t(t,e){let n=t.state.facet(BEe);return n.length?n[0](e):Gn.mac?!e.altKey:!e.ctrlKey}function U6t(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=UC(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let a=i[o];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function W6t(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Ki.get(n))&&r.ignoreEvent(e))return!1;return!0}const Vc=Object.create(null),Ju=Object.create(null),rTe=Gn.ie&&Gn.ie_version<15||Gn.ios&&Gn.webkit_version<604;function q6t(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),iTe(t,n.value)},50)}function aL(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function iTe(t,e){e=aL(t.state,EU,e);let{state:n}=t,r,i=1,o=n.toText(e),a=o.lines==n.selection.ranges.length;if(u8!=null&&n.selection.ranges.every(l=>l.empty)&&u8==o.toString()){let l=-1;r=n.changeByRange(u=>{let c=n.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let f=n.toText((a?o.line(i++).text:e)+n.lineBreak);return{changes:{from:c.from,insert:f},range:er.cursor(u.from+f.length)}})}else a?r=n.changeByRange(l=>{let u=o.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:er.cursor(l.from+u.length)}}):r=n.replaceSelection(o);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Ju.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Vc.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Ju.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Ju.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Vc.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet($Ee))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=X6t(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new H6t(t,e,n,r)),r&&t.observer.ignore(()=>{bEe(t.contentDOM);let o=t.root.activeElement;o&&!o.contains(t.contentDOM)&&o.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function qse(t,e,n,r){if(r==1)return er.cursor(e,n);if(r==2)return S6t(t.state,e,n);{let i=la.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),a=i?i.posAtStart:o.from,s=i?i.posAtEnd:o.to;return s<t.state.doc.length&&s==o.to&&s++,er.range(a,s)}}let Kse=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function K6t(t,e,n,r){let i=la.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let a=i.coordsAt(o,-1);if(a&&Kse(n,r,a))return-1;let s=i.coordsAt(o,1);return s&&Kse(n,r,s)?1:a&&a.bottom>=r?-1:1}function Yse(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:K6t(t,n,e.clientX,e.clientY)}}const Y6t=Gn.ie&&Gn.ie_version<=11;let Xse=null,Zse=0,Jse=0;function oTe(t){if(!Y6t)return t.detail;let e=Xse,n=Jse;return Xse=t,Jse=Date.now(),Zse=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Zse+1)%3:1}function X6t(t,e){let n=Yse(t,e),r=oTe(e),i=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,a,s){let l=Yse(t,o),u,c=qse(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!a){let f=qse(t,n.pos,n.bias,r),d=Math.min(f.from,c.from),h=Math.max(f.to,c.to);c=d<c.from?er.range(d,h):er.range(h,d)}return a?i.replaceRange(i.main.extend(c.from,c.to)):s&&r==1&&i.ranges.length>1&&(u=Z6t(i,l.pos))?u:s?i.addRange(c):er.create([c])}}}function Z6t(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return er.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Vc.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,a=o+i.length;(o>=n.to||a<=n.from)&&(n=er.range(o,a))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",aL(t.state,TU,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Vc.dragend=t=>(t.inputState.draggedContent=null,!1);function Qse(t,e,n,r){if(n=aL(t.state,EU,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,a=r&&o&&G6t(t,e)?{from:o.from,to:o.to}:null,s={from:i,insert:n},l=t.state.changes(a?[a,s]:s);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Vc.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&Qse(t,e,r.filter(a=>a!=null).join(t.state.lineBreak),!1)};for(let a=0;a<n.length;a++){let s=new FileReader;s.onerror=o,s.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(s.result)||(r[a]=s.result),o()},s.readAsText(n[a])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return Qse(t,e,r,!0),!0}return!1};Vc.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=rTe?null:e.clipboardData;return n?(iTe(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(q6t(t),!1)};function J6t(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function Q6t(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let a=t.doc.lineAt(o);a.number>i&&(e.push(a.text),n.push({from:a.from,to:Math.min(t.doc.length,a.to+1)})),i=a.number}r=!0}return{text:aL(t,TU,e.join(t.lineBreak)),ranges:n,linewise:r}}let u8=null;Vc.copy=Vc.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=Q6t(t.state);if(!n&&!i)return!1;u8=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=rTe?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(J6t(t,n),!1)};const aTe=Fh.define();function sTe(t,e){let n=[];for(let r of t.facet(zEe)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:aTe.of(!0)}):null}function lTe(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=sTe(t.state,e);n?t.dispatch(n):t.update([])}},10)}Ju.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),lTe(t)};Ju.blur=t=>{t.observer.clearSelectionRange(),lTe(t)};Ju.compositionstart=Ju.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Ju.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Gn.chrome&&Gn.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Ju.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Vc.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let o=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),a=e.getTargetRanges();if(o&&a.length){let s=a[0],l=t.posAtDOM(s.startContainer,s.startOffset),u=t.posAtDOM(s.endContainer,s.endOffset);return MU(t,{from:l,to:u,insert:t.state.toText(o)},null),!0}}let i;if(Gn.chrome&&Gn.android&&(i=tTe.find(o=>o.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>o+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Gn.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),Gn.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Ju.compositionend(t,e),20),!1};const ele=new Set;function e8t(t){ele.has(t)||(ele.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const tle=["pre-wrap","normal","pre-line","break-spaces"];let U1=!1;function nle(){U1=!1}class t8t{constructor(e){this.lineWrapping=e,this.doc=Pi.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return tle.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,o,a){let s=tle.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,l){this.heightSamples={};for(let u=0;u<a.length;u++){let c=a[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class n8t{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Mf{constructor(e,n,r,i,o){this.from=e,this.length=n,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?$u.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ev?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Mf(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var co=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(co||(co={}));const sM=.001;class tl{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>sM&&(U1=!0),this.height=e)}replace(e,n,r){return tl.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let o=this,a=r.doc;for(let s=i.length-1;s>=0;s--){let{fromA:l,toA:u,fromB:c,toB:f}=i[s],d=o.lineAt(l,co.ByPosNoHeight,r.setDoc(n),0,0),h=d.to>=u?d:o.lineAt(u,co.ByPosNoHeight,r,0,0);for(f+=h.to-u,u=h.to;s>0&&d.from<=i[s-1].toA;)l=i[s-1].fromA,c=i[s-1].fromB,s--,l<d.from&&(d=o.lineAt(l,co.ByPosNoHeight,r,0,0));c+=d.from-l,l=d.from;let p=PU.build(r.setDoc(a),e,c,f);o=TO(o,o.replace(l,u,p))}return o.updateHeight(r,0)}static empty(){return new $l(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let s=e[n-1];s.break?e.splice(--n,1,s.left,null,s.right):e.splice(--n,1,s.left,s.right),r+=1+s.break,i-=s.size}else if(o>i*2){let s=e[r];s.break?e.splice(r,1,s.left,null,s.right):e.splice(r,1,s.left,s.right),r+=2+s.break,o-=s.size}else break;else if(i<o){let s=e[n++];s&&(i+=s.size)}else{let s=e[--r];s&&(o+=s.size)}let a=0;return e[n-1]==null?(a=1,n--):e[n]==null&&(a=1,r++),new r8t(tl.of(e.slice(0,n)),a,tl.of(e.slice(r)))}}function TO(t,e){return t==e?t:(t.constructor!=e.constructor&&(U1=!0),e)}tl.prototype.size=1;class uTe extends tl{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new Mf(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,n,r,i,o,a){e<=o+this.length&&n>=o&&a(this.blockAt(0,r,i,o))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class $l extends uTe{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new Mf(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof $l||i instanceof Xa&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Xa?i=new $l(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):tl.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Xa extends tl{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,o=i-r+1,a,s=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*o);a=l/o,this.length>o+1&&(s=(this.height-l)/(this.length-o-1))}else a=this.height/o;return{firstLine:r,lastLine:i,perLine:a,perChar:s}}blockAt(e,n,r,i){let{firstLine:o,lastLine:a,perLine:s,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),c=n.doc.lineAt(u),f=s+c.length*l,d=Math.max(r,e-f/2);return new Mf(c.from,c.length,d,f,0)}else{let u=Math.max(0,Math.min(a-o,Math.floor((e-r)/s))),{from:c,length:f}=n.doc.line(o+u);return new Mf(c,f,r+s*u,s,0)}}lineAt(e,n,r,i,o){if(n==co.ByHeight)return this.blockAt(e,r,i,o);if(n==co.ByPosNoHeight){let{from:h,to:p}=r.doc.lineAt(e);return new Mf(h,p-h,0,0,0)}let{firstLine:a,perLine:s,perChar:l}=this.heightMetrics(r,o),u=r.doc.lineAt(e),c=s+u.length*l,f=u.number-a,d=i+s*f+l*(u.from-o-f);return new Mf(u.from,u.length,Math.max(i,Math.min(d,i+this.height-c)),c,0)}forEachLine(e,n,r,i,o,a){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:s,perLine:l,perChar:u}=this.heightMetrics(r,o);for(let c=e,f=i;c<=n;){let d=r.doc.lineAt(c);if(c==e){let p=d.number-s;f+=l*p+u*(e-o-p)}let h=l+u*d.length;a(new Mf(d.from,d.length,f,h,0)),f+=h,c=d.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof Xa?r[r.length-1]=new Xa(o.length+i):r.push(null,new Xa(i-1))}if(e>0){let o=r[0];o instanceof Xa?r[0]=new Xa(e+o.length):r.unshift(new Xa(e-1),null)}return tl.of(r)}decomposeLeft(e,n){n.push(new Xa(e-1),null)}decomposeRight(e,n){n.push(null,new Xa(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let a=[],s=Math.max(n,i.from),l=-1;for(i.from>n&&a.push(new Xa(i.from-n-1).updateHeight(e,n));s<=o&&i.more;){let c=e.doc.lineAt(s).length;a.length&&a.push(null);let f=i.heights[i.index++];l==-1?l=f:Math.abs(f-l)>=sM&&(l=-2);let d=new $l(c,f);d.outdated=!1,a.push(d),s+=c+1}s<=o&&a.push(null,new Xa(o-s).updateHeight(e,s));let u=tl.of(a);return(l<0||Math.abs(u.height-this.height)>=sM||Math.abs(l-this.heightMetrics(e,n).perLine)>=sM)&&(U1=!0),TO(this,u)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class r8t extends tl{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,o,i+this.left.length+this.break)}lineAt(e,n,r,i,o){let a=i+this.left.height,s=o+this.left.length+this.break,l=n==co.ByHeight?e<a:e<s,u=l?this.left.lineAt(e,n,r,i,o):this.right.lineAt(e,n,r,a,s);if(this.break||(l?u.to<s:u.from>s))return u;let c=n==co.ByPosNoHeight?co.ByPosNoHeight:co.ByPos;return l?u.join(this.right.lineAt(s,c,r,a,s)):this.left.lineAt(s,c,r,i,o).join(u)}forEachLine(e,n,r,i,o,a){let s=i+this.left.height,l=o+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,o,a),n>=l&&this.right.forEachLine(e,n,r,s,l,a);else{let u=this.lineAt(l,co.ByPos,r,i,o);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,o,a),u.to>=e&&u.from<=n&&a(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,s,l,a)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let a=o.length;for(let s of r)o.push(s);if(e>0&&rle(o,a-1),n<this.length){let s=o.length;this.decomposeRight(n,o),rle(o,s)}return tl.of(o)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?tl.of(this.break?[e,null,n]:[e,n]):(this.left=TO(this.left,e),this.right=TO(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:o,right:a}=this,s=n+o.length+this.break,l=null;return i&&i.from<=n+o.length&&i.more?l=o=o.updateHeight(e,n,r,i):o.updateHeight(e,n,r),i&&i.from<=s+a.length&&i.more?l=a=a.updateHeight(e,s,r,i):a.updateHeight(e,s,r),l?this.balanced(o,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function rle(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Xa&&(r=t[e+1])instanceof Xa&&t.splice(e-1,3,new Xa(n.length+1+r.length))}const i8t=5;class PU{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof $l?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new $l(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let a=n-e;r.block?this.addBlock(new uTe(a,i,r)):(a||o||i>=i8t)&&this.addLineDeco(i,o,a)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new $l(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new Xa(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof $l)return e;let n=new $l(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof $l)&&!this.isCovered?this.nodes.push(new $l(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof $l&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let o=new PU(r,e);return zi.spans(n,r,i,o,0),o.finish(r)}}function o8t(t,e,n){let r=new a8t;return zi.compare(t,e,n,r,0),r.changes}class a8t{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&aM(e,n,this.changes,5)}}function s8t(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),a=Math.min(i.innerWidth,n.right),s=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let c=u,f=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&f.overflow!="visible"){let d=c.getBoundingClientRect();o=Math.max(o,d.left),a=Math.min(a,d.right),s=Math.max(s,d.top),l=Math.min(u==t.parentNode?i.innerHeight:l,d.bottom)}u=f.position=="absolute"||f.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:o-n.left,right:Math.max(o,a)-n.left,top:s-(n.top+e),bottom:Math.max(s,l)-(n.top+e)}}function l8t(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function u8t(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class v${constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,n){return ss.replace({widget:new c8t(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class c8t extends xU{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ile{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=ole,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=fa.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(AU).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new t8t(n),this.stateDeco=e.facet(qC).filter(r=>typeof r!="function"),this.heightMap=tl.empty().applyChanges(this.stateDeco,Pi.empty,this.heightOracle.setDoc(e.doc),[new Fu(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ss.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:o,to:a})=>i>=o&&i<=a)){let{from:o,to:a}=this.lineBlockAt(i);e.push(new NA(o,a))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?ole:new OU(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(ES(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(qC).filter(c=>typeof c!="function");let i=e.changedRanges,o=Fu.extendWithRanges(i,o8t(r,this.stateDeco,e?e.changes:_a.empty(this.state.doc.length))),a=this.heightMap.height,s=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);nle(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=a||U1)&&(e.flags|=2),s?(this.scrollAnchorPos=e.changes.mapPos(s.from,-1),this.scrollAnchorHeight=s.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(h6t)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?fa.RTL:fa.LTR;let a=this.heightOracle.mustRefreshForWrapping(o),s=n.getBoundingClientRect(),l=a||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;let u=0,c=0;if(s.width&&s.height){let{scaleX:w,scaleY:S}=yEe(n,s);(w>.005&&Math.abs(this.scaleX-w)>.005||S>.005&&Math.abs(this.scaleY-S)>.005)&&(this.scaleX=w,this.scaleY=S,u|=16,a=l=!0)}let f=(parseInt(r.paddingTop)||0)*this.scaleY,d=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=d)&&(this.paddingTop=f,this.paddingBottom=d,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let h=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=wEe(e.scrollDOM);let p=(this.printing?u8t:s8t)(n,this.paddingTop),v=p.top-this.pixelViewport.top,g=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView&&(this.inView=m,m&&(l=!0)),!this.inView&&!this.scrollTarget&&!l8t(e.dom))return 0;let y=s.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=s.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),l){let w=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(w)&&(a=!0),a||i.lineWrapping&&Math.abs(y-this.contentDOMWidth)>i.charWidth){let{lineHeight:S,charWidth:x,textHeight:C}=e.docView.measureTextSize();a=S>0&&i.refresh(o,S,x,C,Math.max(5,y/x),w),a&&(e.docView.minWidth=0,u|=16)}v>0&&g>0?c=Math.max(v,g):v<0&&g<0&&(c=Math.min(v,g)),nle();for(let S of this.viewports){let x=S.from==this.viewport.from?w:e.docView.measureVisibleLineHeights(S);this.heightMap=(a?tl.empty().applyChanges(this.stateDeco,Pi.empty,this.heightOracle,[new Fu(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new n8t(S.from,x))}U1&&(u|=2)}let b=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),u|=this.updateForViewport()),(u&2||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:a,visibleBottom:s}=this,l=new NA(i.lineAt(a-r*1e3,co.ByHeight,o,0,0).from,i.lineAt(s+(1-r)*1e3,co.ByHeight,o,0,0).to);if(n){let{head:u}=n.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(u,co.ByPos,o,0,0),d;n.y=="center"?d=(f.top+f.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&u<l.from?d=f.top:d=f.bottom-c,l=new NA(i.lineAt(d-1e3/2,co.ByHeight,o,0,0).from,i.lineAt(d+c+1e3/2,co.ByHeight,o,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new NA(this.heightMap.lineAt(r,co.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,co.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,co.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,co.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:s}=this;return(e==0||i<=a-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=s+Math.max(10,Math.min(r,250)))&&i>a-2*1e3&&o<s+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new v$(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,a=i<<1;if(this.defaultTextDirection!=fa.LTR&&!r)return[];let s=[],l=(c,f,d,h)=>{if(f-c<o)return;let p=this.state.selection.main,v=[p.from];p.empty||v.push(p.to);for(let m of v)if(m>c&&m<f){l(c,m-10,d,h),l(m+10,f,d,h);return}let g=d8t(e,m=>m.from>=d.from&&m.to<=d.to&&Math.abs(m.from-c)<o&&Math.abs(m.to-f)<o&&!v.some(y=>m.from<y&&m.to>y));if(!g){if(f<d.to&&n&&r&&n.visibleRanges.some(b=>b.from<=f&&b.to>=f)){let b=n.moveToLineBoundary(er.cursor(f),!1,!0).head;b>c&&(f=b)}let m=this.gapSize(d,c,f,h),y=r||m<2e6?m:2e6;g=new v$(c,f,m,y)}s.push(g)},u=c=>{if(c.length<a||c.type!=$u.Text)return;let f=f8t(c.from,c.to,this.stateDeco);if(f.total<a)return;let d=this.scrollTarget?this.scrollTarget.range.head:null,h,p;if(r){let v=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,m;if(d!=null){let y=$A(f,d),b=((this.visibleBottom-this.visibleTop)/2+v)/c.height;g=y-b,m=y+b}else g=(this.visibleTop-c.top-v)/c.height,m=(this.visibleBottom-c.top+v)/c.height;h=BA(f,g),p=BA(f,m)}else{let v=f.total*this.heightOracle.charWidth,g=i*this.heightOracle.charWidth,m=0;if(v>2e6)for(let x of e)x.from>=c.from&&x.from<c.to&&x.size!=x.displaySize&&x.from*this.heightOracle.charWidth+m<this.pixelViewport.left&&(m=x.size-x.displaySize);let y=this.pixelViewport.left+m,b=this.pixelViewport.right+m,w,S;if(d!=null){let x=$A(f,d),C=((b-y)/2+g)/v;w=x-C,S=x+C}else w=(y-g)/v,S=(b+g)/v;h=BA(f,w),p=BA(f,S)}h>c.from&&l(c.from,h,c,f),p<c.to&&l(p,c.to,c,f)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(u):u(c);return s}gapSize(e,n,r,i){let o=$A(i,r)-$A(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){v$.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ss.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];zi.spans(n,this.viewport.from,this.viewport.to,{span(o,a){r.push({from:o,to:a})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let o=0;o<r.length&&!(i&8);o++){let a=this.visibleRanges[o],s=r[o];(a.from!=s.from||a.to!=s.to)&&(i|=4,e&&e.mapPos(a.from,-1)==s.from&&e.mapPos(a.to,1)==s.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||ES(this.heightMap.lineAt(e,co.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||ES(this.heightMap.lineAt(this.scaler.fromDOM(e),co.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return ES(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class NA{constructor(e,n){this.from=e,this.to=n}}function f8t(t,e,n){let r=[],i=t,o=0;return zi.spans(n,t,e,{span(){},point(a,s){a>i&&(r.push({from:i,to:a}),o+=a-i),i=s}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function BA({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:o,to:a}=e[i],s=a-o;if(r<=s)return o+r;r-=s}}function $A(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function d8t(t,e){for(let n of t)if(e(n))return n}const ole={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class OU{constructor(e,n,r){let i=0,o=0,a=0;this.viewports=r.map(({from:s,to:l})=>{let u=n.lineAt(s,co.ByPos,e,0,0).top,c=n.lineAt(l,co.ByPos,e,0,0).bottom;return i+=c-u,{from:s,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let s of this.viewports)s.domTop=a+(s.top-o)*this.scale,a=s.domBottom=s.domTop+(s.bottom-s.top),o=s.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof OU?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function ES(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Mf(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>ES(i,e)):t._content)}const FA=pr.define({combine:t=>t.join(" ")}),c8=pr.define({combine:t=>t.indexOf(!0)>-1}),f8=xv.newName(),cTe=xv.newName(),fTe=xv.newName(),dTe={"&light":"."+cTe,"&dark":"."+fTe};function d8(t,e,n){return new xv(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const h8t=d8("."+f8,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},dTe),p8t={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},g$=Gn.ie&&Gn.ie_version<=11;class v8t{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Y5t,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(Gn.ie&&Gn.ie_version<=11||Gn.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Gn.android&&e.constructor.EDIT_CONTEXT!==!1&&!(Gn.chrome&&Gn.chrome_version<126)&&(this.editContext=new m8t(e),e.state.facet($d)&&(e.contentDOM.editContext=this.editContext.editContext)),g$&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet($d)?r.root.activeElement!=this.dom:!oM(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Gn.ie&&Gn.ie_version<=11||Gn.android&&Gn.chrome)&&!r.state.selection.main.empty&&i.focusNode&&vx(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=UC(e.root);if(!n)return!1;let r=Gn.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&g8t(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=oM(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Z5t(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,p8t),g$&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),g$&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&Ib(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of e){let a=this.readMutation(o);a&&(a.typeOver&&(i=!0),n==-1?{from:n,to:r}=a:(n=Math.min(a.from,n),r=Math.max(a.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&oM(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new L6t(this.view,e,n,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=QEe(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=ale(n,e.previousSibling||e.target.previousSibling,-1),i=ale(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet($d)!=e.state.facet($d)&&(e.view.contentDOM.editContext=e.state.facet($d)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function ale(t,e,n){for(;e;){let r=Ki.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function sle(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=t.docView.domAtPos(t.state.selection.main.anchor);return vx(a.node,a.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function g8t(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return sle(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?sle(t,n):null}class m8t{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:o,head:a}=i,s=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:s,drifted:!1});let u=l-s>r.text.length;s==this.from&&o<this.from?s=o:l==this.to&&o>this.to&&(l=o);let c=eTe(e.state.sliceDoc(s,l),r.text,(u?i.from:i.to)-s,u?"end":null);if(!c){let d=er.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));d.main.eq(i)||e.dispatch({selection:d,userEvent:"select"});return}let f={from:c.from+s,to:c.toA+s,insert:Pi.of(r.text.slice(c.from,c.toB).split(`
`))};if((Gn.mac||Gn.android)&&f.from==a-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(f={from:s,to:l,insert:Pi.of([r.text.replace("."," ")])}),this.pendingContextChange=f,!e.state.readOnly){let d=this.to-this.from+(f.to-f.from+f.insert.length);MU(e,f,er.single(this.toEditorPos(r.selectionStart,d),this.toEditorPos(r.selectionEnd,d)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),f.from<f.to&&!f.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let a=this.toEditorPos(r.rangeStart),s=this.toEditorPos(r.rangeEnd);a<s;a++){let l=e.coordsForChar(a);o=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||o||new DOMRect,i.push(o)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let a=o.underlineStyle,s=o.underlineThickness;if(!/none/i.test(a)&&!/none/i.test(s)){let l=this.toEditorPos(o.rangeStart),u=this.toEditorPos(o.rangeEnd);if(l<u){let c=`text-decoration: underline ${/^[a-z]/.test(a)?a+" ":a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${/thin/i.test(s)?1:2}px`;i.push(ss.mark({attributes:{style:c}}).range(l,u))}}}e.dispatch({effects:GEe.of(ss.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=UC(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,a,s,l,u)=>{if(r)return;let c=u.length-(a-o);if(i&&a>=i.to)if(i.from==o&&i.to==a&&i.insert.eq(u)){i=this.pendingContextChange=null,n+=c,this.to+=c;return}else i=null,this.revertPending(e.state);if(o+=n,a+=n,a<=this.from)this.from+=c,this.to+=c;else if(o<this.to){if(o<this.from||a>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(a),u.toString()),this.to+=c}n+=c}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Kr{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||X5t(e.parent)||document,this.viewState=new ile(e.state||Vi.create(e)),e.scrollTo&&e.scrollTo.is(RA)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(tb).map(i=>new d$(i));for(let i of this.plugins)i.update(this);this.observer=new v8t(this),this.inputState=new $6t(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Fse(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof Ca?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let d of e){if(d.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=d.state}if(this.destroyed){this.viewState.state=o;return}let a=this.hasFocus,s=0,l=null;e.some(d=>d.annotation(aTe))?(this.inputState.notifiedFocused=a,s=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,l=sTe(o,a),l||(s=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(c=null)):this.observer.clear(),o.facet(Vi.phrases)!=this.state.facet(Vi.phrases))return this.setState(o);i=EO.create(this,o,e),i.flags|=s;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(f&&(f=f.map(d.changes)),d.scrollIntoView){let{main:h}=d.state.selection;f=new Rb(h.empty?h:er.cursor(h.head,h.head>h.anchor?-1:1))}for(let h of d.effects)h.is(RA)&&(f=h.value.clip(this.state))}this.viewState.update(i,f),this.bidiCache=AO.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(xS)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(FA)!=i.state.facet(FA)&&(this.viewState.mustMeasureContent=!0),(n||r||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let d of this.state.facet(s8))try{d(i)}catch(h){ql(this.state,h,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!QEe(this,c)&&u.force&&Ib(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new ile(e),this.plugins=e.facet(tb).map(r=>new d$(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new Fse(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(tb),r=e.state.facet(tb);if(n!=r){let i=[];for(let o of r){let a=n.indexOf(o);if(a<0)i.push(new d$(o));else{let s=this.plugins[a];s.mustUpdate=e,i.push(s)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){ql(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:a}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let s=0;;s++){if(a<0)if(wEe(r))o=-1,a=this.viewState.heightMap.height;else{let h=this.viewState.scrollAnchorAt(i);o=h.from,a=h.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(s>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(h=>{try{return h.read(this)}catch(p){return ql(this.state,p),lle}}),f=EO.create(this,this.state,[]),d=!1;f.flags|=l,n?n.flags|=l:n=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),d=this.docView.update(f),d&&this.docViewUpdate());for(let h=0;h<u.length;h++)if(c[h]!=lle)try{let p=u[h];p.write&&p.write(c[h],this)}catch(p){ql(this.state,p)}if(d&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let p=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-a;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let s of this.state.facet(s8))s(n)}get themeClasses(){return f8+" "+(this.state.facet(c8)?fTe:cTe)+" "+this.state.facet(FA)}updateAttrs(){let e=ule(this,UEe,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet($d)?"true":"false",class:"cm-content",style:`${Gn.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),ule(this,AU,n);let r=this.observer.ignore(()=>{let i=n8(this.contentDOM,this.contentAttrs,n),o=n8(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(Kr.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(xS);let e=this.state.facet(Kr.cspNonce);xv.mount(this.root,this.styleModules.concat(h8t).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return p$(this,e,Gse(this,e,n,r))}moveByGroup(e,n){return p$(this,e,Gse(this,e,n,r=>M6t(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[n?r.length-1:0];return er.cursor(o.side(n,i)+e.from,o.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return k6t(this,e,n,r)}moveVertically(e,n,r){return p$(this,e,P6t(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),XEe(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),a=o[Vp.find(o,e-i.from,-1,n)];return oL(r,a.dir==fa.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(HEe)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>y8t)return LEe(e.length);let n=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==n&&(o.fresh||REe(o.isolates,r=$se(this,e))))return o.order;r||(r=$se(this,e));let i=c6t(e.text,n,r);return this.bidiCache.push(new AO(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Gn.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{bEe(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return RA.of(new Rb(typeof e=="number"?er.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return RA.of(new Rb(er.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return od.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return od.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=xv.newName(),i=[FA.of(r),xS.of(d8(`.${r}`,e))];return n&&n.dark&&i.push(c8.of(!0)),i}static baseTheme(e){return z_.lowest(xS.of(d8("."+f8,e,dTe)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Ki.get(r)||Ki.get(e);return((n=i?.rootView)===null||n===void 0?void 0:n.view)||null}}Kr.styleModule=xS;Kr.inputHandler=VEe;Kr.clipboardInputFilter=EU;Kr.clipboardOutputFilter=TU;Kr.scrollHandler=jEe;Kr.focusChangeEffect=zEe;Kr.perLineTextDirection=HEe;Kr.exceptionSink=FEe;Kr.updateListener=s8;Kr.editable=$d;Kr.mouseSelectionStyle=$Ee;Kr.dragMovesSelection=BEe;Kr.clickAddsSelectionRange=NEe;Kr.decorations=qC;Kr.outerDecorations=WEe;Kr.atomicRanges=cE;Kr.bidiIsolatedRanges=qEe;Kr.scrollMargins=KEe;Kr.darkTheme=c8;Kr.cspNonce=pr.define({combine:t=>t.length?t[0]:""});Kr.contentAttributes=AU;Kr.editorAttributes=UEe;Kr.lineWrapping=Kr.contentAttributes.of({class:"cm-lineWrapping"});Kr.announce=ho.define();const y8t=4096,lle={};class AO{constructor(e,n,r,i,o,a){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=o,this.order=a}static update(e,n){if(n.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:fa.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let a=e[o];a.dir==i&&!n.touchesRange(a.from,a.to)&&r.push(new AO(n.mapPos(a.from,1),n.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function ule(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],a=typeof o=="function"?o(t):o;a&&t8(a,n)}return n}const b8t=Gn.mac?"mac":Gn.windows?"win":Gn.linux?"linux":"key";function _8t(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,a,s;for(let l=0;l<n.length-1;++l){const u=n[l];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))o=!0;else if(/^s(hift)?$/i.test(u))a=!0;else if(/^mod$/i.test(u))e=="mac"?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),s&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function VA(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const w8t=z_.default(Kr.domEventHandlers({keydown(t,e){return E8t(S8t(e.state),t,e,"editor")}})),kO=pr.define({enables:w8t}),cle=new WeakMap;function S8t(t){let e=t.facet(kO),n=cle.get(e);return n||cle.set(e,n=C8t(e.reduce((r,i)=>r.concat(i),[]))),n}let xp=null;const x8t=4e3;function C8t(t,e=b8t){let n=Object.create(null),r=Object.create(null),i=(a,s)=>{let l=r[a];if(l==null)r[a]=s;else if(l!=s)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},o=(a,s,l,u,c)=>{var f,d;let h=n[a]||(n[a]=Object.create(null)),p=s.split(/ (?!$)/).map(m=>_8t(m,e));for(let m=1;m<p.length;m++){let y=p.slice(0,m).join(" ");i(y,!0),h[y]||(h[y]={preventDefault:!0,stopPropagation:!1,run:[b=>{let w=xp={view:b,prefix:y,scope:a};return setTimeout(()=>{xp==w&&(xp=null)},x8t),!0}]})}let v=p.join(" ");i(v,!1);let g=h[v]||(h[v]={preventDefault:!1,stopPropagation:!1,run:((d=(f=h._any)===null||f===void 0?void 0:f.run)===null||d===void 0?void 0:d.slice())||[]});l&&g.run.push(l),u&&(g.preventDefault=!0),c&&(g.stopPropagation=!0)};for(let a of t){let s=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let u of s){let c=n[u]||(n[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=a;for(let d in c)c[d].run.push(h=>f(h,h8))}let l=a[e]||a.key;if(l)for(let u of s)o(u,l,a.run,a.preventDefault,a.stopPropagation),a.shift&&o(u,"Shift-"+l,a.shift,a.preventDefault,a.stopPropagation)}return n}let h8=null;function E8t(t,e,n,r){h8=e;let i=G5t(e),o=Ng(i,0),a=W0(o)==i.length&&i!=" ",s="",l=!1,u=!1,c=!1;xp&&xp.view==n&&xp.scope==r&&(s=xp.prefix+" ",nTe.indexOf(e.keyCode)<0&&(u=!0,xp=null));let f=new Set,d=g=>{if(g){for(let m of g.run)if(!f.has(m)&&(f.add(m),m(n)))return g.stopPropagation&&(c=!0),!0;g.preventDefault&&(g.stopPropagation&&(c=!0),u=!0)}return!1},h=t[r],p,v;return h&&(d(h[s+VA(i,e,!a)])?l=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Gn.windows&&e.ctrlKey&&e.altKey)&&!(Gn.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(p=Cv[e.keyCode])&&p!=i?(d(h[s+VA(p,e,!0)])||e.shiftKey&&(v=GC[e.keyCode])!=i&&v!=p&&d(h[s+VA(v,e,!1)]))&&(l=!0):a&&e.shiftKey&&d(h[s+VA(i,e,!0)])&&(l=!0),!l&&d(h._any)&&(l=!0)),u&&(l=!0),l&&c&&e.stopPropagation(),h8=null,l}const zA="-10000px";class T8t{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(a=>a);let o=null;this.tooltipViews=this.tooltips.map(a=>o=r(a,o))}update(e,n){var r;let i=e.state.facet(this.facet),o=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let a=[],s=n?[]:null;for(let l=0;l<o.length;l++){let u=o[l],c=-1;if(u){for(let f=0;f<this.tooltips.length;f++){let d=this.tooltips[f];d&&d.create==u.create&&(c=f)}if(c<0)a[l]=this.createTooltipView(u,l?a[l-1]:null),s&&(s[l]=!!u.above);else{let f=a[l]=this.tooltipViews[c];s&&(s[l]=n[c]),f.update&&f.update(e)}}}for(let l of this.tooltipViews)a.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(s.forEach((l,u)=>n[u]=l),n.length=s.length),this.input=i,this.tooltips=o,this.tooltipViews=a,!0}}function A8t(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const m$=pr.define({combine:t=>{var e,n,r;return{position:Gn.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||A8t}}}),fle=new WeakMap,hTe=od.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(m$);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new T8t(t,pTe,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(m$);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=zA,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o}=this.manager.tooltipViews[0];if(Gn.safari){let a=o.getBoundingClientRect();n=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}else n=!!o.offsetParent&&o.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let o=this.parent.getBoundingClientRect();o.width&&o.height&&(t=o.width/this.parent.offsetWidth,e=o.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=kU(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o,a)=>{let s=this.manager.tooltipViews[a];return s.getCoords?s.getCoords(o.pos):this.view.coordsAtPos(o.pos)}),size:this.manager.tooltipViews.map(({dom:o})=>o.getBoundingClientRect()),space:this.view.state.facet(m$).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let s of this.manager.tooltipViews)s.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:o}=t,a=[];for(let s=0;s<this.manager.tooltips.length;s++){let l=this.manager.tooltips[s],u=this.manager.tooltipViews[s],{dom:c}=u,f=t.pos[s],d=t.size[s];if(!f||l.clip!==!1&&(f.bottom<=Math.max(n.top,r.top)||f.top>=Math.min(n.bottom,r.bottom)||f.right<Math.max(n.left,r.left)-.1||f.left>Math.min(n.right,r.right)+.1)){c.style.top=zA;continue}let h=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,p=h?7:0,v=d.right-d.left,g=(e=fle.get(u))!==null&&e!==void 0?e:d.bottom-d.top,m=u.offset||M8t,y=this.view.textDirection==fa.LTR,b=d.width>r.right-r.left?y?r.left:r.right-d.width:y?Math.max(r.left,Math.min(f.left-(h?14:0)+m.x,r.right-v)):Math.min(Math.max(r.left,f.left-v+(h?14:0)-m.x),r.right-v),w=this.above[s];!l.strictSide&&(w?f.top-g-p-m.y<r.top:f.bottom+g+p+m.y>r.bottom)&&w==r.bottom-f.bottom>f.top-r.top&&(w=this.above[s]=!w);let S=(w?f.top-r.top:r.bottom-f.bottom)-p;if(S<g&&u.resize!==!1){if(S<this.view.defaultLineHeight){c.style.top=zA;continue}fle.set(u,g),c.style.height=(g=S)/o+"px"}else c.style.height&&(c.style.height="");let x=w?f.top-g-p-m.y:f.bottom+p+m.y,C=b+v;if(u.overlap!==!0)for(let E of a)E.left<C&&E.right>b&&E.top<x+g&&E.bottom>x&&(x=w?E.top-g-2-p:E.bottom+p+2);if(this.position=="absolute"?(c.style.top=(x-t.parent.top)/o+"px",dle(c,(b-t.parent.left)/i)):(c.style.top=x/o+"px",dle(c,b/i)),h){let E=f.left+(y?m.x:-m.x)-(b+14-7);h.style.left=E/i+"px"}u.overlap!==!0&&a.push({left:b,top:x,right:C,bottom:x+g}),c.classList.toggle("cm-tooltip-above",w),c.classList.toggle("cm-tooltip-below",!w),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=zA}},{eventObservers:{scroll(){this.maybeMeasure()}}});function dle(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const k8t=Kr.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),M8t={x:0,y:0},pTe=pr.define({enables:[hTe,k8t]});function vTe(t,e){let n=t.plugin(hTe);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}class ly extends iy{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ly.prototype.elementClass="";ly.prototype.toDOM=void 0;ly.prototype.mapMode=Hl.TrackBefore;ly.prototype.startSide=ly.prototype.endSide=-1;ly.prototype.point=!0;const y$=pr.define(),P8t=pr.define(),lM=pr.define(),hle=pr.define({combine:t=>t.some(e=>e)});function O8t(t){return[I8t]}const I8t=od.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(lM).map(e=>new vle(t,e)),this.fixed=!t.state.facet(hle);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(hle)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=zi.iter(this.view.state.facet(y$),this.view.viewport.from),r=[],i=this.gutters.map(o=>new R8t(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let a=!0;for(let s of o.type)if(s.type==$u.Text&&a){p8(n,r,s.from);for(let l of i)l.line(this.view,s,r);a=!1}else if(s.widget)for(let l of i)l.widget(this.view,s)}else if(o.type==$u.Text){p8(n,r,o.from);for(let a of i)a.line(this.view,o,r)}else if(o.widget)for(let a of i)a.widget(this.view,o);for(let o of i)o.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(lM),n=t.state.facet(lM),r=t.docChanged||t.heightChanged||t.viewportChanged||!zi.eq(t.startState.facet(y$),t.state.facet(y$),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let o of n){let a=e.indexOf(o);a<0?i.push(new vle(this.view,o)):(this.gutters[a].update(t),i.push(this.gutters[a]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)o.config.side=="after"?this.getDOMAfter().appendChild(o.dom):this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>Kr.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==fa.LTR?{left:r,right:i}:{right:r,left:i}})});function ple(t){return Array.isArray(t)?t:[t]}function p8(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class R8t{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=zi.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,o=(n.top-this.height)/e.scaleY,a=n.height/e.scaleY;if(this.i==i.elements.length){let s=new gTe(e,a,o,r);i.elements.push(s),i.dom.appendChild(s.dom)}else i.elements[this.i].update(e,a,o,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];p8(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,n,i);o&&i.unshift(o);let a=this.gutter;i.length==0&&!a.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let o of e.state.facet(P8t)){let a=o(e,n.widget,n);a&&(i||(i=[])).push(a)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class vle{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,a;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();a=(l.top+l.bottom)/2}else a=i.clientY;let s=e.lineBlockAtHeight(a-e.documentTop);n.domEventHandlers[r](e,s,i)&&i.preventDefault()});this.markers=ple(n.markers(e)),n.initialSpacer&&(this.spacer=new gTe(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=ple(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!zi.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class gTe{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),L8t(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,a=0;;){let s=a,l=o<n.length?n[o++]:null,u=!1;if(l){let c=l.elementClass;c&&(r+=" "+c);for(let f=a;f<this.markers.length;f++)if(this.markers[f].compare(l)){s=f,u=!0;break}}else s=this.markers.length;for(;a<s;){let c=this.markers[a++];if(c.toDOM){c.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&a++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function L8t(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const D8t=pr.define(),N8t=pr.define(),nb=pr.define({combine(t){return _U(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let o=r[i],a=n[i];r[i]=o?(s,l,u)=>o(s,l,u)||a(s,l,u):a}return r}})}});class b$ extends ly{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function _$(t,e){return t.state.facet(nb).formatNumber(e,t.state)}const B8t=lM.compute([nb],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(D8t)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new b$(_$(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(N8t)){let o=i(e,n,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(nb)!=e.state.facet(nb),initialSpacer(e){return new b$(_$(e,gle(e.state.doc.lines)))},updateSpacer(e,n){let r=_$(n.view,gle(n.view.state.doc.lines));return r==e.number?e:new b$(r)},domEventHandlers:t.facet(nb).domEventHandlers,side:"before"}));function $8t(t={}){return[nb.of(t),O8t(),B8t]}function gle(t){let e=9;for(;e<t;)e=e*10+9;return e}const F8t=1024;let V8t=0;class w${constructor(e,n){this.from=e,this.to=n}}class Yi{constructor(e={}){this.id=V8t++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Il.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Yi.closedBy=new Yi({deserialize:t=>t.split(" ")});Yi.openedBy=new Yi({deserialize:t=>t.split(" ")});Yi.group=new Yi({deserialize:t=>t.split(" ")});Yi.isolate=new Yi({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Yi.contextHash=new Yi({perNode:!0});Yi.lookAhead=new Yi({perNode:!0});Yi.mounted=new Yi({perNode:!0});class MO{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[Yi.mounted.id]}}const z8t=Object.create(null);class Il{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):z8t,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Il(e.name||"",n,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Yi.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Yi.group),o=-1;o<(i?i.length:0);o++){let a=n[o<0?r.name:i[o]];if(a)return a}}}}Il.none=new Il("",Object.create(null),0,8);class IU{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let o of e){let a=o(r);if(a){i||(i=Object.assign({},r.props));let s=a[1],l=a[0];l.combine&&l.id in i&&(s=l.combine(i[l.id],s)),i[l.id]=s}}n.push(i?new Il(r.name,i,r.id,r.flags):r)}return new IU(n)}}const HA=new WeakMap,mle=new WeakMap;var ts;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(ts||(ts={}));class Mo{constructor(e,n,r,i,o){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[a,s]of o)this.props[typeof a=="number"?a:a.id]=s}}toString(){let e=MO.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new g8(this.topNode,e)}cursorAt(e,n=0,r=0){let i=HA.get(this)||this.topNode,o=new g8(i);return o.moveTo(e,n),HA.set(this,o._tree),o}get topNode(){return new Vu(this,0,0,null)}resolve(e,n=0){let r=KC(HA.get(this)||this.topNode,e,n,!1);return HA.set(this,r),r}resolveInner(e,n=0){let r=KC(mle.get(this)||this.topNode,e,n,!0);return mle.set(this,r),r}resolveStack(e,n=0){return G8t(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:o=this.length}=e,a=e.mode||0,s=(a&ts.IncludeAnonymous)>0;for(let l=this.cursor(a|ts.IncludeAnonymous);;){let u=!1;if(l.from<=o&&l.to>=i&&(!s&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&r&&(s||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:DU(Il.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Mo(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Mo(Il.none,n,r,i)))}static build(e){return U8t(e)}}Mo.empty=new Mo(Il.none,[],[],0);class RU{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new RU(this.buffer,this.index)}}class Tv{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Il.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return o+"("+a.join(",")+")"}findChild(e,n,r,i,o){let{buffer:a}=this,s=-1;for(let l=e;l!=n&&!(mTe(o,i,a[l+1],a[l+2])&&(s=l,r>0));l=a[l+3]);return s}slice(e,n,r){let i=this.buffer,o=new Uint16Array(n-e),a=0;for(let s=e,l=0;s<n;){o[l++]=i[s++],o[l++]=i[s++]-r;let u=o[l++]=i[s++]-r;o[l++]=i[s++]-e,a=Math.max(a,u)}return new Tv(o,a,this.set)}}function mTe(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function KC(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let a=!r&&t instanceof Vu&&t.index<0?null:t.parent;if(!a)return t;t=a}let o=r?0:ts.IgnoreOverlays;if(r)for(let a=t,s=a.parent;s;a=s,s=a.parent)a instanceof Vu&&a.index<0&&((i=s.enter(e,n,o))===null||i===void 0?void 0:i.from)!=a.from&&(t=s);for(;;){let a=t.enter(e,n,o);if(!a)return t;t=a}}class yTe{cursor(e=0){return new g8(this,e)}getChild(e,n=null,r=null){let i=yle(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return yle(this,e,n,r)}resolve(e,n=0){return KC(this,e,n,!1)}resolveInner(e,n=0){return KC(this,e,n,!0)}matchContext(e){return v8(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Vu extends yTe{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,o=0){for(let a=this;;){for(let{children:s,positions:l}=a._tree,u=n>0?s.length:-1;e!=u;e+=n){let c=s[e],f=l[e]+a.from;if(mTe(i,r,f,f+c.length)){if(c instanceof Tv){if(o&ts.ExcludeBuffers)continue;let d=c.findChild(0,c.buffer.length,n,r-f,i);if(d>-1)return new zp(new H8t(a,c,e,f),null,d)}else if(o&ts.IncludeAnonymous||!c.type.isAnonymous||LU(c)){let d;if(!(o&ts.IgnoreMounts)&&(d=MO.get(c))&&!d.overlay)return new Vu(d.tree,f,e,a);let h=new Vu(c,f,e,a);return o&ts.IncludeAnonymous||!h.type.isAnonymous?h:h.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(o&ts.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+n:e=n<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&ts.IgnoreOverlays)&&(i=MO.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:a,to:s}of i.overlay)if((n>0?a<=o:a<o)&&(n<0?s>=o:s>o))return new Vu(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function yle(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(let a=!1;!a;)if(a=i.type.is(n),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function v8(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class H8t{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class zp extends yTe{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new zp(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&ts.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new zp(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new zp(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new zp(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let a=r.buffer[this.index+1];e.push(r.slice(i,o,a)),n.push(0)}return new Mo(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function bTe(t){if(!t.length)return null;let e=0,n=t[0];for(let o=1;o<t.length;o++){let a=t[o];(a.from>n.from||a.to<n.to)&&(n=a,e=o)}let r=n instanceof Vu&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new j8t(i,n)}class j8t{constructor(e,n){this.heads=e,this.node=n}get next(){return bTe(this.heads)}}function G8t(t,e,n){let r=t.resolveInner(e,n),i=null;for(let o=r instanceof Vu?r:r.context.parent;o;o=o.parent)if(o.index<0){let a=o.parent;(i||(i=[r])).push(a.resolve(e,n)),o=a}else{let a=MO.get(o.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let s=new Vu(a.tree,a.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(KC(s,e,n,!1))}}return i?bTe(i):r}class g8{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Vu)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Vu?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&ts.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ts.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ts.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+e,a=e<0?-1:r._tree.children.length;o!=a;o+=e){let s=r._tree.children[o];if(this.mode&ts.IncludeAnonymous||s instanceof Tv||!s.type.isAnonymous||LU(s))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;n=a,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new zp(this.buffer,n,this.stack[i]);return this.bufferNode=new zp(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return v8(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return v8(this._tree,e,i);let a=r[n.buffer[this.stack[o]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}function LU(t){return t.children.some(e=>e instanceof Tv||!e.type.isAnonymous||LU(e))}function U8t(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=F8t,reused:o=[],minRepeatType:a=r.types.length}=t,s=Array.isArray(n)?new RU(n,n.length):n,l=r.types,u=0,c=0;function f(S,x,C,E,T,A){let{id:k,start:M,end:D,size:L}=s,I=c,R=u;if(L<0)if(s.next(),L==-1){let G=o[k];C.push(G),E.push(M-S);return}else if(L==-3){u=k;return}else if(L==-4){c=k;return}else throw new RangeError(`Unrecognized record size: ${L}`);let V=l[k],P,B,j=M-S;if(D-M<=i&&(B=g(s.pos-x,T))){let G=new Uint16Array(B.size-B.skip),W=s.pos-B.size,Z=G.length;for(;s.pos>W;)Z=m(B.start,G,Z);P=new Tv(G,D-B.start,r),j=B.start-S}else{let G=s.pos-L;s.next();let W=[],Z=[],ee=k>=a?k:-1,oe=0,ce=D;for(;s.pos>G;)ee>=0&&s.id==ee&&s.size>=0?(s.end<=ce-i&&(p(W,Z,M,oe,s.end,ce,ee,I,R),oe=W.length,ce=s.end),s.next()):A>2500?d(M,G,W,Z):f(M,G,W,Z,ee,A+1);if(ee>=0&&oe>0&&oe<W.length&&p(W,Z,M,oe,M,ce,ee,I,R),W.reverse(),Z.reverse(),ee>-1&&oe>0){let X=h(V,R);P=DU(V,W,Z,0,W.length,0,D-M,X,X)}else P=v(V,W,Z,D-M,I-D,R)}C.push(P),E.push(j)}function d(S,x,C,E){let T=[],A=0,k=-1;for(;s.pos>x;){let{id:M,start:D,end:L,size:I}=s;if(I>4)s.next();else{if(k>-1&&D<k)break;k<0&&(k=L-i),T.push(M,D,L),A++,s.next()}}if(A){let M=new Uint16Array(A*4),D=T[T.length-2];for(let L=T.length-3,I=0;L>=0;L-=3)M[I++]=T[L],M[I++]=T[L+1]-D,M[I++]=T[L+2]-D,M[I++]=I;C.push(new Tv(M,T[2]-D,r)),E.push(D-S)}}function h(S,x){return(C,E,T)=>{let A=0,k=C.length-1,M,D;if(k>=0&&(M=C[k])instanceof Mo){if(!k&&M.type==S&&M.length==T)return M;(D=M.prop(Yi.lookAhead))&&(A=E[k]+M.length+D)}return v(S,C,E,T,A,x)}}function p(S,x,C,E,T,A,k,M,D){let L=[],I=[];for(;S.length>E;)L.push(S.pop()),I.push(x.pop()+C-T);S.push(v(r.types[k],L,I,A-T,M-A,D)),x.push(T-C)}function v(S,x,C,E,T,A,k){if(A){let M=[Yi.contextHash,A];k=k?[M].concat(k):[M]}if(T>25){let M=[Yi.lookAhead,T];k=k?[M].concat(k):[M]}return new Mo(S,x,C,E,k)}function g(S,x){let C=s.fork(),E=0,T=0,A=0,k=C.end-i,M={size:0,start:0,skip:0};e:for(let D=C.pos-S;C.pos>D;){let L=C.size;if(C.id==x&&L>=0){M.size=E,M.start=T,M.skip=A,A+=4,E+=4,C.next();continue}let I=C.pos-L;if(L<0||I<D||C.start<k)break;let R=C.id>=a?4:0,V=C.start;for(C.next();C.pos>I;){if(C.size<0)if(C.size==-3)R+=4;else break e;else C.id>=a&&(R+=4);C.next()}T=V,E+=L,A+=R}return(x<0||E==S)&&(M.size=E,M.start=T,M.skip=A),M.size>4?M:void 0}function m(S,x,C){let{id:E,start:T,end:A,size:k}=s;if(s.next(),k>=0&&E<a){let M=C;if(k>4){let D=s.pos-(k-4);for(;s.pos>D;)C=m(S,x,C)}x[--C]=M,x[--C]=A-S,x[--C]=T-S,x[--C]=E}else k==-3?u=E:k==-4&&(c=E);return C}let y=[],b=[];for(;s.pos>0;)f(t.start||0,t.bufferStart||0,y,b,-1,0);let w=(e=t.length)!==null&&e!==void 0?e:y.length?b[0]+y[0].length:0;return new Mo(l[t.topID],y.reverse(),b.reverse(),w)}const ble=new WeakMap;function uM(t,e){if(!t.isAnonymous||e instanceof Tv||e.type!=t)return 1;let n=ble.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Mo)){n=1;break}n+=uM(t,r)}ble.set(e,n)}return n}function DU(t,e,n,r,i,o,a,s,l){let u=0;for(let p=r;p<i;p++)u+=uM(t,e[p]);let c=Math.ceil(u*1.5/8),f=[],d=[];function h(p,v,g,m,y){for(let b=g;b<m;){let w=b,S=v[b],x=uM(t,p[b]);for(b++;b<m;b++){let C=uM(t,p[b]);if(x+C>=c)break;x+=C}if(b==w+1){if(x>c){let C=p[w];h(C.children,C.positions,0,C.children.length,v[w]+y);continue}f.push(p[w])}else{let C=v[b-1]+p[b-1].length-S;f.push(DU(t,p,v,w,b,S,C,null,l))}d.push(S+y-o)}}return h(e,n,r,i,0),(s||l)(f,d,a)}class Pm{constructor(e,n,r,i,o=!1,a=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new Pm(0,e.length,e,0,!1,r)];for(let o of n)o.to>e.length&&i.push(o);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],o=1,a=e.length?e[0]:null;for(let s=0,l=0,u=0;;s++){let c=s<n.length?n[s]:null,f=c?c.fromA:1e9;if(f-l>=r)for(;a&&a.from<f;){let d=a;if(l>=d.from||f<=d.to||u){let h=Math.max(d.from,l)-u,p=Math.min(d.to,f)-u;d=h>=p?null:new Pm(h,p,d.tree,d.offset+u,s>0,!!c)}if(d&&i.push(d),a.to>f)break;a=o<e.length?e[o++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}class _Te{startParse(e,n,r){return typeof e=="string"&&(e=new W8t(e)),r=r?r.length?r.map(i=>new w$(i.from,i.to)):[new w$(0,0)]:[new w$(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let o=i.advance();if(o)return o}}}class W8t{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new Yi({perNode:!0});let q8t=0;class Lo{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=q8t++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Lo&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new Lo(r,[],null,[]);if(i.set.push(i),n)for(let o of n.set)i.set.push(o);return i}static defineModifier(e){let n=new PO(e);return r=>r.modified.indexOf(n)>-1?r:PO.get(r.base||r,r.modified.concat(n).sort((i,o)=>i.id-o.id))}}let K8t=0;class PO{constructor(e){this.name=e,this.instances=[],this.id=K8t++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(s=>s.base==e&&Y8t(n,s.modified));if(r)return r;let i=[],o=new Lo(e.name,i,e,n);for(let s of n)s.instances.push(o);let a=X8t(n);for(let s of e.set)if(!s.modified.length)for(let l of a)i.push(PO.get(s,l));return o}}function Y8t(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function X8t(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function Z8t(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],a=2,s=i;for(let f=0;;){if(s=="..."&&f>0&&f+3==i.length){a=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!d)throw new RangeError("Invalid path: "+i);if(o.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),f+=d[0].length,f==i.length)break;let h=i[f++];if(f==i.length&&h=="!"){a=0;break}if(h!="/")throw new RangeError("Invalid path: "+i);s=i.slice(f)}let l=o.length-1,u=o[l];if(!u)throw new RangeError("Invalid path: "+i);let c=new YC(r,a,l>0?o.slice(0,l):null);e[u]=c.sort(e[u])}}return wTe.add(e)}const wTe=new Yi({combine(t,e){let n,r,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let o=new YC(i.tags,i.mode,i.context);n?n.next=o:r=o,n=o}return r}});class YC{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}YC.empty=new YC([],2,null);function STe(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let a of o.tag)n[a.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let a=i;for(let s of o)for(let l of s.set){let u=n[l.id];if(u){a=a?a+" "+u:u;break}}return a},scope:r}}function J8t(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function Q8t(t,e,n,r=0,i=t.length){let o=new ezt(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}class ezt{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,o){let{type:a,from:s,to:l}=e;if(s>=r||l<=n)return;a.isTop&&(o=this.highlighters.filter(h=>!h.scope||h.scope(a)));let u=i,c=tzt(e)||YC.empty,f=J8t(o,c.tags);if(f&&(u&&(u+=" "),u+=f,c.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(Math.max(n,s),u),c.opaque)return;let d=e.tree&&e.tree.prop(Yi.mounted);if(d&&d.overlay){let h=e.node.enter(d.overlay[0].from+s,1),p=this.highlighters.filter(g=>!g.scope||g.scope(d.tree.type)),v=e.firstChild();for(let g=0,m=s;;g++){let y=g<d.overlay.length?d.overlay[g]:null,b=y?y.from+s:l,w=Math.max(n,m),S=Math.min(r,b);if(w<S&&v)for(;e.from<S&&(this.highlightRange(e,w,S,i,o),this.startSpan(Math.min(S,e.to),u),!(e.to>=b||!e.nextSibling())););if(!y||b>r)break;m=y.to+s,m>n&&(this.highlightRange(h.cursor(),Math.max(n,y.from+s),Math.min(r,m),"",p),this.startSpan(Math.min(r,m),u))}v&&e.parent()}else if(e.firstChild()){d&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,o),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function tzt(t){let e=t.type.prop(wTe);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Rn=Lo.define,jA=Rn(),mp=Rn(),_le=Rn(mp),wle=Rn(mp),yp=Rn(),GA=Rn(yp),S$=Rn(yp),wf=Rn(),Tg=Rn(wf),vf=Rn(),gf=Rn(),m8=Rn(),Zw=Rn(m8),UA=Rn(),un={comment:jA,lineComment:Rn(jA),blockComment:Rn(jA),docComment:Rn(jA),name:mp,variableName:Rn(mp),typeName:_le,tagName:Rn(_le),propertyName:wle,attributeName:Rn(wle),className:Rn(mp),labelName:Rn(mp),namespace:Rn(mp),macroName:Rn(mp),literal:yp,string:GA,docString:Rn(GA),character:Rn(GA),attributeValue:Rn(GA),number:S$,integer:Rn(S$),float:Rn(S$),bool:Rn(yp),regexp:Rn(yp),escape:Rn(yp),color:Rn(yp),url:Rn(yp),keyword:vf,self:Rn(vf),null:Rn(vf),atom:Rn(vf),unit:Rn(vf),modifier:Rn(vf),operatorKeyword:Rn(vf),controlKeyword:Rn(vf),definitionKeyword:Rn(vf),moduleKeyword:Rn(vf),operator:gf,derefOperator:Rn(gf),arithmeticOperator:Rn(gf),logicOperator:Rn(gf),bitwiseOperator:Rn(gf),compareOperator:Rn(gf),updateOperator:Rn(gf),definitionOperator:Rn(gf),typeOperator:Rn(gf),controlOperator:Rn(gf),punctuation:m8,separator:Rn(m8),bracket:Zw,angleBracket:Rn(Zw),squareBracket:Rn(Zw),paren:Rn(Zw),brace:Rn(Zw),content:wf,heading:Tg,heading1:Rn(Tg),heading2:Rn(Tg),heading3:Rn(Tg),heading4:Rn(Tg),heading5:Rn(Tg),heading6:Rn(Tg),contentSeparator:Rn(wf),list:Rn(wf),quote:Rn(wf),emphasis:Rn(wf),strong:Rn(wf),link:Rn(wf),monospace:Rn(wf),strikethrough:Rn(wf),inserted:Rn(),deleted:Rn(),changed:Rn(),invalid:Rn(),meta:UA,documentMeta:Rn(UA),annotation:Rn(UA),processingInstruction:Rn(UA),definition:Lo.defineModifier("definition"),constant:Lo.defineModifier("constant"),function:Lo.defineModifier("function"),standard:Lo.defineModifier("standard"),local:Lo.defineModifier("local"),special:Lo.defineModifier("special")};for(let t in un){let e=un[t];e instanceof Lo&&(e.name=t)}STe([{tag:un.link,class:"tok-link"},{tag:un.heading,class:"tok-heading"},{tag:un.emphasis,class:"tok-emphasis"},{tag:un.strong,class:"tok-strong"},{tag:un.keyword,class:"tok-keyword"},{tag:un.atom,class:"tok-atom"},{tag:un.bool,class:"tok-bool"},{tag:un.url,class:"tok-url"},{tag:un.labelName,class:"tok-labelName"},{tag:un.inserted,class:"tok-inserted"},{tag:un.deleted,class:"tok-deleted"},{tag:un.literal,class:"tok-literal"},{tag:un.string,class:"tok-string"},{tag:un.number,class:"tok-number"},{tag:[un.regexp,un.escape,un.special(un.string)],class:"tok-string2"},{tag:un.variableName,class:"tok-variableName"},{tag:un.local(un.variableName),class:"tok-variableName tok-local"},{tag:un.definition(un.variableName),class:"tok-variableName tok-definition"},{tag:un.special(un.variableName),class:"tok-variableName2"},{tag:un.definition(un.propertyName),class:"tok-propertyName tok-definition"},{tag:un.typeName,class:"tok-typeName"},{tag:un.namespace,class:"tok-namespace"},{tag:un.className,class:"tok-className"},{tag:un.macroName,class:"tok-macroName"},{tag:un.propertyName,class:"tok-propertyName"},{tag:un.operator,class:"tok-operator"},{tag:un.comment,class:"tok-comment"},{tag:un.meta,class:"tok-meta"},{tag:un.invalid,class:"tok-invalid"},{tag:un.punctuation,class:"tok-punctuation"}]);var x$;const rb=new Yi;function nzt(t){return pr.define({combine:t?e=>e.concat(t):void 0})}const rzt=new Yi;class mc{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Vi.prototype.hasOwnProperty("tree")||Object.defineProperty(Vi.prototype,"tree",{get(){return W1(this)}}),this.parser=n,this.extension=[Y1.of(this),Vi.languageData.of((o,a,s)=>{let l=Sle(o,a,s),u=l.type.prop(rb);if(!u)return[];let c=o.facet(u),f=l.type.prop(rzt);if(f){let d=l.resolve(a-l.from,s);for(let h of f)if(h.test(d,o)){let p=o.facet(h.facet);return h.type=="replace"?p:p.concat(c)}}return c})].concat(r)}isActiveAt(e,n,r=-1){return Sle(e,n,r).type.prop(rb)==this.data}findRegions(e){let n=e.facet(Y1);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,a)=>{if(o.prop(rb)==this.data){r.push({from:a,to:a+o.length});return}let s=o.prop(Yi.mounted);if(s){if(s.tree.prop(rb)==this.data){if(s.overlay)for(let l of s.overlay)r.push({from:l.from+a,to:l.to+a});else r.push({from:a,to:a+o.length});return}else if(s.overlay){let l=r.length;if(i(s.tree,s.overlay[0].from+a),r.length>l)return}}for(let l=0;l<o.children.length;l++){let u=o.children[l];u instanceof Mo&&i(u,o.positions[l]+a)}};return i(W1(e),0),r}get allowsNesting(){return!0}}mc.setState=ho.define();function Sle(t,e,n){let r=t.facet(Y1),i=W1(t).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,n,ts.ExcludeBuffers))o.type.isTop&&(i=o);return i}function W1(t){let e=t.field(mc.state,!1);return e?e.tree:Mo.empty}class izt{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Jw=null;class q1{constructor(e,n,r=[],i,o,a,s,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=a,this.skipped=s,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new q1(e,n,[],Mo.empty,0,r,[],null)}startParse(){return this.parser.startParse(new izt(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Mo.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Pm.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Pm.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Jw;Jw=this;try{return e()}finally{Jw=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=xle(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:o,viewport:a,skipped:s}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,f,d)=>l.push({fromA:u,toA:c,fromB:f,toB:d})),r=Pm.applyChanges(r,l),i=Mo.empty,o=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){s=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),f=e.mapPos(u.to,-1);c<f&&s.push({from:c,to:f})}}}return new q1(this.parser,n,r,i,o,a,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=xle(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends _Te{createParse(n,r,i){let o=i[0].from,a=i[i.length-1].to;return{parsedPos:o,advance(){let l=Jw;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=a,new Mo(Il.none,[],[],a-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Jw}}function xle(t,e,n){return Pm.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class K1{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new K1(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=q1.create(e.facet(Y1).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new K1(r)}}mc.state=$h.define({create:K1.init,update(t,e){for(let n of e.effects)if(n.is(mc.setState))return n.value;return e.startState.facet(Y1)!=e.state.facet(Y1)?K1.init(e.state):t.apply(e)}});let xTe=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(xTe=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const C$=typeof navigator<"u"&&(!((x$=navigator.scheduling)===null||x$===void 0)&&x$.isInputPending)?()=>navigator.scheduling.isInputPending():null,ozt=od.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(mc.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(mc.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=xTe(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(mc.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!C$?Math.max(25,e.timeRemaining()-5):1e9),s=o.context.treeLen<i&&r.doc.length>i+1e3,l=o.context.work(()=>C$&&C$()||Date.now()>a,i+(s?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:mc.setState.of(new K1(o.context))})),this.chunkBudget>0&&!(l&&!s)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>ql(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Y1=pr.define({combine(t){return t.length?t[0]:null},enables:t=>[mc.state,ozt,Kr.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class azt{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const NU=pr.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function OO(t){let e=t.facet(NU);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function szt(t,e){let n="",r=t.tabSize,i=t.facet(NU)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let o=0;o<e;o++)n+=i;return n}const lzt=new Yi;class fE{constructor(e,n){this.specs=e;let r;function i(s){let l=xv.newName();return(r||(r=Object.create(null)))["."+l]=s,l}const o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,a=n.scope;this.scope=a instanceof mc?s=>s.prop(rb)==a.data:a?s=>s==a:void 0,this.style=STe(e.map(s=>({tag:s.tag,class:s.class||i(Object.assign({},s,{tag:null}))})),{all:o}).style,this.module=r?new xv(r):null,this.themeType=n.themeType}static define(e,n){return new fE(e,n||{})}}const y8=pr.define(),uzt=pr.define({combine(t){return t.length?[t[0]]:null}});function E$(t){let e=t.facet(y8);return e.length?e:t.facet(uzt)}function b8(t,e){let n=[fzt],r;return t instanceof fE&&(t.module&&n.push(Kr.styleModule.of(t.module)),r=t.themeType),r?n.push(y8.computeN([Kr.darkTheme],i=>i.facet(Kr.darkTheme)==(r=="dark")?[t]:[])):n.push(y8.of(t)),n}class czt{constructor(e){this.markCache=Object.create(null),this.tree=W1(e.state),this.decorations=this.buildDeco(e,E$(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=W1(e.state),r=E$(e.state),i=r!=E$(e.startState),{viewport:o}=e.view,a=e.changes.mapPos(this.decoratedTo,1);n.length<o.to&&!i&&n.type==this.tree.type&&a>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,n){if(!n||!this.tree.length)return ss.none;let r=new HC;for(let{from:i,to:o}of e.visibleRanges)Q8t(this.tree,n,(a,s,l)=>{r.add(a,s,this.markCache[l]||(this.markCache[l]=ss.mark({class:l})))},i,o);return r.finish()}}const fzt=z_.high(od.fromClass(czt,{decorations:t=>t.decorations}));function Cle(t,e,n,r=0,i=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let o=i;for(let a=r;a<e;a++)t.charCodeAt(a)==9?o+=n-o%n:o++;return o}class CTe{constructor(e,n,r,i){this.string=e,this.tabSize=n,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),r;if(typeof e=="string"?r=n==e:r=n&&(e instanceof RegExp?e.test(n):e(n)),r)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Cle(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:Cle(this.string,null,this.tabSize)}match(e,n,r){if(typeof e=="string"){let i=a=>r?a.toLowerCase():a,o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function dzt(t){return{name:t.name||"",token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||hzt,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||FU,mergeTokens:t.mergeTokens!==!1}}function hzt(t){if(typeof t!="object")return t;let e={};for(let n in t){let r=t[n];e[n]=r instanceof Array?r.slice():r}return e}const Ele=new WeakMap;class BU extends mc{constructor(e){let n=nzt(e.languageData),r=dzt(e),i,o=new class extends _Te{createParse(a,s,l){return new vzt(i,a,s,l)}};super(n,o,[],e.name),this.topNode=yzt(n,this),i=this,this.streamParser=r,this.stateAfter=new Yi({perNode:!0}),this.tokenTable=e.tokenTable?new kTe(r.tokenTable):mzt}static define(e){return new BU(e)}getIndent(e){let n,{overrideIndentation:r}=e.options;r&&(n=Ele.get(e.state),n!=null&&n<e.pos-1e4&&(n=void 0));let i=$U(this,e.node.tree,e.node.from,e.node.from,n??e.pos),o,a;if(i?(a=i.state,o=i.pos+1):(a=this.streamParser.startState(e.unit),o=e.node.from),e.pos-o>1e4)return null;for(;o<e.pos;){let l=e.state.doc.lineAt(o),u=Math.min(e.pos,l.to);if(l.length){let c=r?r(l.from):-1,f=new CTe(l.text,e.state.tabSize,e.unit,c<0?void 0:c);for(;f.pos<u-l.from;)TTe(this.streamParser.token,f,a)}else this.streamParser.blankLine(a,e.unit);if(u==e.pos)break;o=l.to+1}let s=e.lineAt(e.pos);return r&&n==null&&Ele.set(e.state,s.from),this.streamParser.indent(a,/^\s*(.*)/.exec(s.text)[1],e)}get allowsNesting(){return!1}}function $U(t,e,n,r,i){let o=n>=r&&n+e.length<=i&&e.prop(t.stateAfter);if(o)return{state:t.streamParser.copyState(o),pos:n+e.length};for(let a=e.children.length-1;a>=0;a--){let s=e.children[a],l=n+e.positions[a],u=s instanceof Mo&&l<i&&$U(t,s,l,r,i);if(u)return u}return null}function ETe(t,e,n,r,i){if(i&&n<=0&&r>=e.length)return e;!i&&n==0&&e.type==t.topNode&&(i=!0);for(let o=e.children.length-1;o>=0;o--){let a=e.positions[o],s=e.children[o],l;if(a<r&&s instanceof Mo){if(!(l=ETe(t,s,n-a,r-a,i)))break;return i?new Mo(e.type,e.children.slice(0,o).concat(l),e.positions.slice(0,o+1),a+l.length):l}}return null}function pzt(t,e,n,r,i){for(let o of e){let a=o.from+(o.openStart?25:0),s=o.to-(o.openEnd?25:0),l=a<=n&&s>n&&$U(t,o.tree,0-o.offset,n,s),u;if(l&&l.pos<=r&&(u=ETe(t,o.tree,n+o.offset,l.pos+o.offset,!1)))return{state:l.state,tree:u}}return{state:t.streamParser.startState(i?OO(i):4),tree:Mo.empty}}class vzt{constructor(e,n,r,i){this.lang=e,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let o=q1.get(),a=i[0].from,{state:s,tree:l}=pzt(e,r,a,this.to,o?.state);this.state=s,this.parsedPos=this.chunkStart=a+l.length;for(let u=0;u<l.children.length;u++)this.chunks.push(l.children[u]),this.chunkPos.push(l.positions[u]);o&&this.parsedPos<o.viewport.from-1e5&&i.some(u=>u.from<=o.viewport.from&&u.to>=o.viewport.from)&&(this.state=this.lang.streamParser.startState(OO(o.state)),o.skipUntilInView(this.parsedPos,o.viewport.from),this.parsedPos=o.viewport.from),this.moveRangeIndex()}advance(){let e=q1.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+512);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),r=e+n.length;for(let i=this.rangeIndex;;){let o=this.ranges[i].to;if(o>=r||(n=n.slice(0,o-(r-n.length)),i++,i==this.ranges.length))break;let a=this.ranges[i].from,s=this.lineAfter(a);n+=s,r=a+s.length}return{line:n,end:r}}skipGapsTo(e,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,o=e+n;if(r>0?i>o:i>=o)break;let a=this.ranges[++this.rangeIndex].from;n+=a-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,r,i){let o=4;if(this.ranges.length>1){i=this.skipGapsTo(n,i,1),n+=i;let s=this.chunk.length;i=this.skipGapsTo(r,i,-1),r+=i,o+=this.chunk.length-s}let a=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&o==4&&a>=0&&this.chunk[a]==e&&this.chunk[a+2]==n?this.chunk[a+2]=r:this.chunk.push(e,n,r,o),i}parseLine(e){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:o}=this.lang,a=new CTe(n,e?e.state.tabSize:4,e?OO(e.state):2);if(a.eol())o.blankLine(this.state,a.indentUnit);else for(;!a.eol();){let s=TTe(o.token,a,this.state);if(s&&(i=this.emitToken(this.lang.tokenTable.resolve(s),this.parsedPos+a.start,this.parsedPos+a.pos,i)),a.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=Mo.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:gzt,topID:0,maxBufferLength:512,reused:this.chunkReused});e=new Mo(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Mo(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function TTe(t,e,n){e.start=e.pos;for(let r=0;r<10;r++){let i=t(e,n);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const FU=Object.create(null),XC=[Il.none],gzt=new IU(XC),Tle=[],Ale=Object.create(null),ATe=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])ATe[t]=MTe(FU,e);class kTe{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),ATe)}resolve(e){return e?this.table[e]||(this.table[e]=MTe(this.extra,e)):0}}const mzt=new kTe(FU);function T$(t,e){Tle.indexOf(t)>-1||(Tle.push(t),console.warn(e))}function MTe(t,e){let n=[];for(let s of e.split(" ")){let l=[];for(let u of s.split(".")){let c=t[u]||un[u];c?typeof c=="function"?l.length?l=l.map(c):T$(u,`Modifier ${u} used at start of tag`):l.length?T$(u,`Tag ${u} used as modifier`):l=Array.isArray(c)?c:[c]:T$(u,`Unknown highlighting tag ${u}`)}for(let u of l)n.push(u)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(s=>s.id),o=Ale[i];if(o)return o.id;let a=Ale[i]=Il.define({id:XC.length,name:r,props:[Z8t({[r]:n})]});return XC.push(a),a.id}function yzt(t,e){let n=Il.define({id:XC.length,name:"Document",props:[rb.add(()=>t),lzt.add(()=>r=>e.getIndent(r))],top:!0});return XC.push(n),n}fa.RTL,fa.LTR;const _8=Fh.define(),bzt=Fh.define(),_zt=pr.define(),PTe=pr.define({combine(t){return _U(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),OTe=$h.define({create(){return Bf.empty},update(t,e){let n=e.state.facet(PTe),r=e.annotation(_8);if(r){let l=xl.fromTransaction(e,r.selection),u=r.side,c=u==0?t.undone:t.done;return l?c=IO(c,c.length,n.minDepth,l):c=LTe(c,e.startState.selection),new Bf(u==0?r.rest:c,u==0?c:r.rest)}let i=e.annotation(bzt);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Ca.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=xl.fromTransaction(e),a=e.annotation(Ca.time),s=e.annotation(Ca.userEvent);return o?t=t.addChanges(o,a,s,n,e):e.selection&&(t=t.addSelection(e.startState.selection,a,s,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Bf(t.done.map(xl.fromJSON),t.undone.map(xl.fromJSON))}});function wzt(t={}){return[OTe,PTe.of(t),Kr.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?ITe:e.inputType=="historyRedo"?w8:null;return r?(e.preventDefault(),r(n)):!1}})]}function sL(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(OTe,!1);if(!i)return!1;let o=i.pop(t,n,e);return o?(r(o),!0):!1}}const ITe=sL(0,!1),w8=sL(1,!1),Szt=sL(0,!0),xzt=sL(1,!0);class xl{constructor(e,n,r,i,o){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new xl(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new xl(e.changes&&_a.fromJSON(e.changes),[],e.mapped&&Uf.fromJSON(e.mapped),e.startSelection&&er.fromJSON(e.startSelection),e.selectionsAfter.map(er.fromJSON))}static fromTransaction(e,n){let r=Iu;for(let i of e.startState.facet(_zt)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new xl(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Iu)}static selection(e){return new xl(void 0,Iu,void 0,void 0,e)}}function IO(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function Czt(t,e){let n=[],r=!1;return t.iterChangedRanges((i,o)=>n.push(i,o)),e.iterChangedRanges((i,o,a,s)=>{for(let l=0;l<n.length;){let u=n[l++],c=n[l++];s>=u&&a<=c&&(r=!0)}}),r}function Ezt(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function RTe(t,e){return t.length?e.length?t.concat(e):t:e}const Iu=[],Tzt=200;function LTe(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-Tzt));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),IO(t,t.length-1,1e9,n.setSelAfter(r)))}else return[xl.selection([e])]}function Azt(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function A$(t,e){if(!t.length)return t;let n=t.length,r=Iu;for(;n;){let i=kzt(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=t.slice(0,n);return o[n-1]=i,o}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[xl.selection(r)]:Iu}function kzt(t,e,n){let r=RTe(t.selectionsAfter.length?t.selectionsAfter.map(s=>s.map(e)):Iu,n);if(!t.changes)return xl.selection(r);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),a=t.mapped?t.mapped.composeDesc(o):o;return new xl(i,ho.mapEffects(t.effects,e),a,t.startSelection.map(o),r)}const Mzt=/^(input\.type|delete)($|\.)/;class Bf{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Bf(this.done,this.undone):this}addChanges(e,n,r,i,o){let a=this.done,s=a[a.length-1];return s&&s.changes&&!s.changes.empty&&e.changes&&(!r||Mzt.test(r))&&(!s.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,Czt(s.changes,e.changes))||r=="input.type.compose")?a=IO(a,a.length-1,i.minDepth,new xl(e.changes.compose(s.changes),RTe(ho.mapEffects(e.effects,s.changes),s.effects),s.mapped,s.startSelection,Iu)):a=IO(a,a.length,i.minDepth,e),new Bf(a,Iu,n,r)}addSelection(e,n,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Iu;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&Ezt(o[o.length-1],e)?this:new Bf(LTe(this.done,e),this.undone,n,r)}addMapping(e){return new Bf(A$(this.done,e),A$(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],a=o.selectionsAfter[0]||n.selection;if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:_8.of({side:e,rest:Azt(i),selection:a}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let s=i.length==1?Iu:i.slice(0,i.length-1);return o.mapped&&(s=A$(s,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:_8.of({side:e,rest:s,selection:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Bf.empty=new Bf(Iu,Iu);const Pzt=[{key:"Mod-z",run:ITe,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:w8,preventDefault:!0},{linux:"Ctrl-Shift-z",run:w8,preventDefault:!0},{key:"Mod-u",run:Szt,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:xzt,preventDefault:!0}];function DTe(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let s=t.doc.lineAt(a);s.number>n&&(r.empty||r.to>s.from)&&(e(s,i,r),n=s.number),a=s.to+1}let o=t.changes(i);return{changes:i,range:er.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const Ozt=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(DTe(t,(n,r)=>{r.push({from:n.from,insert:t.facet(NU)})}),{userEvent:"input.indent"})),!0),Izt=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(DTe(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=F5t(i,t.tabSize),a=0,s=szt(t,Math.max(0,o-OO(t)));for(;a<i.length&&a<s.length&&i.charCodeAt(a)==s.charCodeAt(a);)a++;r.push({from:n.from+a,to:n.from+i.length,insert:s.slice(a)})}),{userEvent:"delete.dedent"})),!0),Rzt={key:"Tab",run:Ozt,shift:Izt},Lzt="#e5c07b",kle="#e06c75",Dzt="#56b6c2",Nzt="#ffffff",cM="#abb2bf",S8="#7d8799",Bzt="#61afef",$zt="#98c379",Mle="#d19a66",Fzt="#c678dd",Vzt="#21252b",Ple="#2c313a",Ole="#282c34",k$="#353a42",zzt="#3E4451",Ile="#528bff",Hzt=Kr.theme({"&":{color:cM,backgroundColor:Ole},".cm-content":{caretColor:Ile},".cm-cursor, .cm-dropCursor":{borderLeftColor:Ile},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:zzt},".cm-panels":{backgroundColor:Vzt,color:cM},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Ole,color:S8,border:"none"},".cm-activeLineGutter":{backgroundColor:Ple},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:k$},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:k$,borderBottomColor:k$},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Ple,color:cM}}},{dark:!0}),jzt=fE.define([{tag:un.keyword,color:Fzt},{tag:[un.name,un.deleted,un.character,un.propertyName,un.macroName],color:kle},{tag:[un.function(un.variableName),un.labelName],color:Bzt},{tag:[un.color,un.constant(un.name),un.standard(un.name)],color:Mle},{tag:[un.definition(un.name),un.separator],color:cM},{tag:[un.typeName,un.className,un.number,un.changed,un.annotation,un.modifier,un.self,un.namespace],color:Lzt},{tag:[un.operator,un.operatorKeyword,un.url,un.escape,un.regexp,un.link,un.special(un.string)],color:Dzt},{tag:[un.meta,un.comment],color:S8},{tag:un.strong,fontWeight:"bold"},{tag:un.emphasis,fontStyle:"italic"},{tag:un.strikethrough,textDecoration:"line-through"},{tag:un.link,color:S8,textDecoration:"underline"},{tag:un.heading,fontWeight:"bold",color:kle},{tag:[un.atom,un.bool,un.special(un.variableName)],color:Mle},{tag:[un.processingInstruction,un.string,un.inserted],color:$zt},{tag:un.invalid,color:Nzt}]),Rle=[Hzt,b8(jzt)];class NTe{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=W1(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),o=i.search(BTe(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function Lle(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Gzt(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let o=1;o<i.length;o++)n[i[o]]=!0}let r=Lle(e)+Lle(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Uzt(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Gzt(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:n}:null}}class Dle{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function Om(t){return t.selection.main.from}function BTe(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?t:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const $Te=Fh.define();function Wzt(t,e,n,r){let{main:i}=t.selection,o=n-i.from,a=r-i.from;return{...t.changeByRange(s=>{if(s!=i&&n!=r&&t.sliceDoc(s.from+o,s.from+a)!=t.sliceDoc(n,r))return{range:s};let l=t.toText(e);return{changes:{from:s.from+o,to:r==i.from?s.to:s.from+a,insert:l},range:er.cursor(s.from+o+l.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const Nle=new WeakMap;function qzt(t){if(!Array.isArray(t))return t;let e=Nle.get(t);return e||Nle.set(t,e=Uzt(t)),e}const RO=ho.define(),ZC=ho.define();class Kzt{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Ng(e,n),i=W0(r);this.chars.push(r);let o=e.slice(n,n+i),a=o.toUpperCase();this.folded.push(Ng(a==o?o.toLowerCase():a,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:o,byWord:a}=this;if(n.length==1){let y=Ng(e,0),b=W0(y),w=b==e.length?0:-100;if(y!=n[0])if(y==r[0])w+=-200;else return null;return this.ret(w,[0,b])}let s=e.indexOf(this.pattern);if(s==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,u=0;if(s<0){for(let y=0,b=Math.min(e.length,200);y<b&&u<l;){let w=Ng(e,y);(w==n[u]||w==r[u])&&(i[u++]=y),y+=W0(w)}if(u<l)return null}let c=0,f=0,d=!1,h=0,p=-1,v=-1,g=/[a-z]/.test(e),m=!0;for(let y=0,b=Math.min(e.length,200),w=0;y<b&&f<l;){let S=Ng(e,y);s<0&&(c<l&&S==n[c]&&(o[c++]=y),h<l&&(S==n[h]||S==r[h]?(h==0&&(p=y),v=y+1,h++):h=0));let x,C=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(x=T5t(S))!=x.toLowerCase()?1:x!=x.toUpperCase()?2:0;(!y||C==1&&g||w==0&&C!=0)&&(n[f]==S||r[f]==S&&(d=!0)?a[f++]=y:a.length&&(m=!1)),w=C,y+=W0(S)}return f==l&&a[0]==0&&m?this.result(-100+(d?-200:0),a,e):h==l&&p==0?this.ret(-200-e.length+(v==e.length?0:-100),[0,v]):s>-1?this.ret(-700-e.length,[s,s+this.pattern.length]):h==l?this.ret(-900-e.length,[p,v]):f==l?this.result(-100+(d?-200:0)+-700+(m?0:-1100),a,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],o=0;for(let a of n){let s=a+(this.astral?W0(Ng(r,a)):1);o&&i[o-1]==a?i[o-1]=s:(i[o++]=a,i[o++]=s)}return this.ret(e-r.length,i)}}class Yzt{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const $a=pr.define({combine(t){return _U(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Xzt,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>Ble(e(r),n(r)),optionClass:(e,n)=>r=>Ble(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function Ble(t,e){return t?e?t+" "+e:t:e}function Xzt(t,e,n,r,i,o){let a=t.textDirection==fa.RTL,s=a,l=!1,u="top",c,f,d=e.left-i.left,h=i.right-e.right,p=r.right-r.left,v=r.bottom-r.top;if(s&&d<Math.min(p,h)?s=!1:!s&&h<Math.min(p,d)&&(s=!0),p<=(s?d:h))c=Math.max(i.top,Math.min(n.top,i.bottom-v))-e.top,f=Math.min(400,s?d:h);else{l=!0,f=Math.min(400,(a?e.right:i.right-e.left)-30);let y=i.bottom-e.bottom;y>=v||y>e.top?c=n.bottom-e.top:(u="bottom",c=e.bottom-n.top)}let g=(e.bottom-e.top)/o.offsetHeight,m=(e.right-e.left)/o.offsetWidth;return{style:`${u}: ${c/g}px; max-width: ${f/m}px`,class:"cm-completionInfo-"+(l?a?"left-narrow":"right-narrow":s?"left":"right")}}function Zzt(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,o){let a=document.createElement("span");a.className="cm-completionLabel";let s=n.displayLabel||n.label,l=0;for(let u=0;u<o.length;){let c=o[u++],f=o[u++];c>l&&a.appendChild(document.createTextNode(s.slice(l,c)));let d=a.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(s.slice(c,f))),d.className="cm-completionMatchedText",l=f}return l<s.length&&a.appendChild(document.createTextNode(s.slice(l))),a},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function M$(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class Jzt{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:o,selected:a}=i.open,s=e.state.facet($a);this.optionContent=Zzt(s),this.optionClass=s.optionClass,this.tooltipClass=s.tooltipClass,this.range=M$(o.length,a,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(n).open;for(let c=l.target,f;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(f=/-(\d+)$/.exec(c.id))&&+f[1]<u.length){this.applyCompletion(e,u[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet($a).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:ZC.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:a,disabled:s}=r.open;(!i.open||i.open.options!=o)&&(this.range=M$(o.length,a,e.state.facet($a).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),s!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!s)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=M$(n.options.length,n.selected,this.view.state.facet($a).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:o}=i;if(!o)return;let a=typeof o=="string"?document.createTextNode(o):o(i);if(!a)return;"then"in a?a.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,i)}).catch(s=>ql(this.view.state,s,"completion info")):(this.addInfoPane(a,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&eHt(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let a=this.dom.ownerDocument.documentElement;o={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return i.top>Math.min(o.bottom,n.bottom)-10||i.bottom<Math.max(o.top,n.top)+10?null:this.view.state.facet($a).positionInfo(this.view,n,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",a=>{a.target==i&&a.preventDefault()});let o=null;for(let a=r.from;a<r.to;a++){let{completion:s,match:l}=e[a],{section:u}=s;if(u){let d=typeof u=="string"?u:u.name;if(d!=o&&(a>r.from||r.from==0))if(o=d,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let h=i.appendChild(document.createElement("completion-section"));h.textContent=d}}const c=i.appendChild(document.createElement("li"));c.id=n+"-"+a,c.setAttribute("role","option");let f=this.optionClass(s);f&&(c.className=f);for(let d of this.optionContent){let h=d(s,this.view.state,this.view,l);h&&c.appendChild(h)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Qzt(t,e){return n=>new Jzt(n,t,e)}function eHt(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function $le(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function tHt(t,e){let n=[],r=null,i=null,o=c=>{n.push(c);let{section:f}=c.completion;if(f){r||(r=[]);let d=typeof f=="string"?f:f.name;r.some(h=>h.name==d)||r.push(typeof f=="string"?{name:d}:f)}},a=e.facet($a);for(let c of t)if(c.hasResult()){let f=c.result.getMatch;if(c.result.filter===!1)for(let d of c.result.options)o(new Dle(d,c.source,f?f(d):[],1e9-n.length));else{let d=e.sliceDoc(c.from,c.to),h,p=a.filterStrict?new Yzt(d):new Kzt(d);for(let v of c.result.options)if(h=p.match(v.label)){let g=v.displayLabel?f?f(v,h.matched):[]:h.matched,m=h.score+(v.boost||0);if(o(new Dle(v,c.source,g,m)),typeof v.section=="object"&&v.section.rank==="dynamic"){let{name:y}=v.section;i||(i=Object.create(null)),i[y]=Math.max(m,i[y]||-1e9)}}}}if(r){let c=Object.create(null),f=0,d=(h,p)=>(h.rank==="dynamic"&&p.rank==="dynamic"?i[p.name]-i[h.name]:0)||(typeof h.rank=="number"?h.rank:1e9)-(typeof p.rank=="number"?p.rank:1e9)||(h.name<p.name?-1:1);for(let h of r.sort(d))f-=1e5,c[h.name]=f;for(let h of n){let{section:p}=h.completion;p&&(h.score+=c[typeof p=="string"?p:p.name])}}let s=[],l=null,u=a.compareCompletions;for(let c of n.sort((f,d)=>d.score-f.score||u(f.completion,d.completion))){let f=c.completion;!l||l.label!=f.label||l.detail!=f.detail||l.type!=null&&f.type!=null&&l.type!=f.type||l.apply!=f.apply||l.boost!=f.boost?s.push(c):$le(c.completion)>$le(l)&&(s[s.length-1]=c),l=c.completion}return s}class ib{constructor(e,n,r,i,o,a){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=a}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new ib(this.options,Fle(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,o,a){if(i&&!a&&e.some(u=>u.isPending))return i.setDisabled();let s=tHt(e,n);if(!s.length)return i&&e.some(u=>u.isPending)?i.setDisabled():null;let l=n.facet($a).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let u=i.options[i.selected].completion;for(let c=0;c<s.length;c++)if(s[c].completion==u){l=c;break}}return new ib(s,Fle(r,l),{pos:e.reduce((u,c)=>c.hasResult()?Math.min(u,c.from):u,1e8),create:sHt,above:o.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new ib(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new ib(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class LO{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new LO(oHt,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet($a),o=(r.override||n.languageDataAt("autocomplete",Om(n)).map(qzt)).map(l=>(this.active.find(c=>c.source==l)||new Ru(l,this.active.some(c=>c.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((l,u)=>l==this.active[u])&&(o=this.active);let a=this.open,s=e.effects.some(l=>l.is(VU));a&&e.docChanged&&(a=a.map(e.changes)),e.selection||o.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!nHt(o,this.active)||s?a=ib.build(o,n,this.id,a,r,s):a&&a.disabled&&!o.some(l=>l.isPending)&&(a=null),!a&&o.every(l=>!l.isPending)&&o.some(l=>l.hasResult())&&(o=o.map(l=>l.hasResult()?new Ru(l.source,0):l));for(let l of e.effects)l.is(VTe)&&(a=a&&a.setSelected(l.value,this.id));return o==this.active&&a==this.open?this:new LO(o,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?rHt:iHt}}function nHt(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,o=r==e.length;if(i||o)return i==o;if(t[n++].result!=e[r++].result)return!1}}const rHt={"aria-autocomplete":"list"},iHt={};function Fle(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const oHt=[];function FTe(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation($Te);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Ru{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=FTe(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new Ru(i.source,0)),r&4&&i.state==0&&(i=new Ru(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(RO))i=new Ru(i.source,1,o.value);else if(o.is(ZC))i=new Ru(i.source,0);else if(o.is(VU))for(let a of o.value)a.source==i.source&&(i=a);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Om(e.state))}}class Lb extends Ru{constructor(e,n,r,i,o,a){super(e,3,n),this.limit=r,this.result=i,this.from=o,this.to=a}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),s=Om(e.state);if(s>a||!i||n&2&&(Om(e.startState)==this.from||s<this.limit))return new Ru(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return aHt(i.validFor,e.state,o,a)?new Lb(this.source,this.explicit,l,i,o,a):i.update&&(i=i.update(i,o,a,new NTe(e.state,s,!1)))?new Lb(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:Om(e.state)):new Ru(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Lb(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ru(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function aHt(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):BTe(t,!0).test(i)}const VU=ho.define({map(t,e){return t.map(n=>n.map(e))}}),VTe=ho.define(),_l=$h.define({create(){return LO.start()},update(t,e){return t.update(e)},provide:t=>[pTe.from(t,e=>e.tooltip),Kr.contentAttributes.from(t,e=>e.attrs)]});function zU(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(_l).active.find(i=>i.source==e.source);return r instanceof Lb?(typeof n=="string"?t.dispatch({...Wzt(t.state,n,r.from,r.to),annotations:$Te.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const sHt=Qzt(_l,zU);function WA(t,e="option"){return n=>{let r=n.state.field(_l,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet($a).interactionDelay)return!1;let i=1,o;e=="page"&&(o=vTe(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,s=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:a-1;return s<0?s=e=="page"?0:a-1:s>=a&&(s=e=="page"?a-1:0),n.dispatch({effects:VTe.of(s)}),!0}}const lHt=t=>{let e=t.state.field(_l,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet($a).interactionDelay?!1:zU(t,e.open.options[e.open.selected])},P$=t=>t.state.field(_l,!1)?(t.dispatch({effects:RO.of(!0)}),!0):!1,uHt=t=>{let e=t.state.field(_l,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:ZC.of(null)}),!0)};class cHt{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const fHt=50,dHt=1e3,hHt=od.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(_l).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(_l),n=t.state.facet($a);if(!t.selectionSet&&!t.docChanged&&t.startState.field(_l)==e)return;let r=t.transactions.some(o=>{let a=FTe(o,n);return a&8||(o.selection||o.docChanged)&&!(a&3)});for(let o=0;o<this.running.length;o++){let a=this.running[o];if(r||a.context.abortOnDocChange&&t.docChanged||a.updates.length+t.transactions.length>fHt&&Date.now()-a.time>dHt){for(let s of a.context.abortListeners)try{s()}catch(l){ql(this.view.state,l)}a.context.abortListeners=null,this.running.splice(o--,1)}else a.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(o=>o.effects.some(a=>a.is(RO)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(a=>a.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of t.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(_l);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet($a).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=Om(e),r=new NTe(e,n,t.explicit,this.view),i=new cHt(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:ZC.of(null)}),ql(this.view.state,o)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet($a).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet($a),r=this.view.state.field(_l);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let s=Om(o.updates.length?o.updates[0].startState:this.view.state),l=Math.min(s,o.done.from+(o.active.explicit?0:1)),u=new Lb(o.active.source,o.active.explicit,l,o.done,o.done.from,(t=o.done.to)!==null&&t!==void 0?t:s);for(let c of o.updates)u=u.update(c,n);if(u.hasResult()){e.push(u);continue}}let a=r.active.find(s=>s.source==o.active.source);if(a&&a.isPending)if(o.done==null){let s=new Ru(o.active.source,0);for(let l of o.updates)s=s.update(l,n);s.isPending||e.push(s)}else this.startQuery(a)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:VU.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(_l,!1);if(e&&e.tooltip&&this.view.state.facet($a).closeOnBlur){let n=e.open&&vTe(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:ZC.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:RO.of(!1)}),20),this.composing=0}}}),pHt=typeof navigator=="object"&&/Win/.test(navigator.platform),vHt=z_.highest(Kr.domEventHandlers({keydown(t,e){let n=e.state.field(_l,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(pHt&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(a=>a.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(t.key)>-1&&zU(e,r),!1}})),gHt=Kr.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),zTe=new class extends iy{};zTe.startSide=1;zTe.endSide=-1;function mHt(t={}){return[vHt,_l,$a.of(t),hHt,bHt,gHt]}const yHt=[{key:"Ctrl-Space",run:P$},{mac:"Alt-`",run:P$},{mac:"Alt-i",run:P$},{key:"Escape",run:uHt},{key:"ArrowDown",run:WA(!0)},{key:"ArrowUp",run:WA(!1)},{key:"PageDown",run:WA(!0,"page")},{key:"PageUp",run:WA(!1,"page")},{key:"Enter",run:lHt}],bHt=z_.highest(kO.computeN([$a],t=>t.facet($a).defaultKeymap?[yHt]:[])),_Ht={pragma:!0,solidity:!0,import:!0,as:!0,from:!0,contract:!0,constructor:!0,is:!0,function:!0,modifier:!0,pure:!0,view:!0,payable:!0,constant:!0,anonymous:!0,indexed:!0,returns:!0,return:!0,event:!0,struct:!0,mapping:!0,interface:!0,using:!0,library:!0,storage:!0,memory:!0,calldata:!0,public:!0,private:!0,external:!0,internal:!0,emit:!0,assembly:!0,abstract:!0,after:!0,catch:!0,final:!0,in:!0,inline:!0,let:!0,match:!0,null:!0,of:!0,relocatable:!0,static:!0,try:!0,typeof:!0,var:!0},wHt={pragma:!0,returns:!0,address:!0,contract:!0,function:!0,struct:!0},SHt={wei:!0,szabo:!0,finney:!0,ether:!0},xHt={seconds:!0,minutes:!0,hours:!0,days:!0,weeks:!0},Vle={block:["coinbase","difficulty","gaslimit","number","timestamp"],msg:["data","sender","sig","value"],tx:["gasprice","origin"]},CHt={now:!0,gasleft:!0,blockhash:!0},EHt={assert:!0,require:!0,revert:!0,throw:!0},THt={addmod:!0,mulmod:!0,keccak256:!0,sha256:!0,ripemd160:!0,ecrecover:!0},AHt={this:!0,selfdestruct:!0,super:!0},kHt={type:!0},zle={},MHt={if:!0,else:!0,while:!0,do:!0,for:!0,break:!0,continue:!0,switch:!0,case:!0,default:!0},PHt={bool:!0,byte:!0,string:!0,enum:!0,address:!0},OHt={alias:!0,apply:!0,auto:!0,copyof:!0,define:!0,immutable:!0,implements:!0,macro:!0,mutable:!0,override:!0,partial:!0,promise:!0,reference:!0,sealed:!0,sizeof:!0,supports:!0,typedef:!0,unchecked:!0},IHt={abi:["decode","encodePacked","encodeWithSelector","encodeWithSignature","encode"]},RHt=["transfer","send","balance","call","delegatecall","staticcall"],LHt=["title","author","notice","dev","param","return"],DHt={delete:!0,new:!0,true:!0,false:!0},Hle=/[+\-*&^%:=<>!|/~]/,NHt=/[-]/;let Md;function DO(t,e){let n=t.next();if(n==='"'||n==="'"||n==="`")return e.tokenize=BHt(n),e.tokenize(t,e);if($Ht(t,e))return"version";if(n==="."&&RHt.some(function(o){return t.match(`${o}`)}))return"addressFunction";if(typeof n=="string"&&Gle(n,t))return"number";if(typeof n=="string"&&/[[\]{}(),;:.]/.test(n))return jHt(n,e);if(n==="/"){if(t.eat("*"))return e.tokenize=jle,jle(t,e);if(t.match(/\/{2}/)){for(n=t.next();n;){if(n==="@"){t.backUp(1),e.grammar="doc";break}n=t.next()}return"doc"}if(t.eat("/"))return t.skipToEnd(),"comment"}if(typeof n=="string"&&NHt.test(n)){const o=t.peek();return typeof o=="string"&&Gle(o,t)?"number":"operator"}if(typeof n=="string"&&Hle.test(n))return t.eatWhile(Hle),"operator";t.eatWhile(/[\w$_\xa1-\uffff]/);const r=t.current();if(e.grammar==="doc")return LHt.some(function(o){return r===`@${o}`})?"docReserve":"doc";if(r==="solidity"&&e.lastToken==="pragma"&&(e.lastToken=e.lastToken+" "+r),Object.prototype.propertyIsEnumerable.call(_Ht,r))return(r==="case"||r==="default")&&(Md="case"),Object.prototype.propertyIsEnumerable.call(wHt,r)&&(e.lastToken=r),"keyword";if(Object.prototype.propertyIsEnumerable.call(SHt,r))return"etherUnit";if(Object.prototype.propertyIsEnumerable.call(AHt,r))return"contractRelated";if(Object.prototype.propertyIsEnumerable.call(MHt,r)||Object.prototype.propertyIsEnumerable.call(kHt,r)||Object.prototype.propertyIsEnumerable.call(OHt,r))return"keyword";if(Object.prototype.propertyIsEnumerable.call(PHt,r)||Object.prototype.propertyIsEnumerable.call(xHt,r)||FHt(r)||VHt(r)||zHt(r))return e.lastToken+="variable","keyword";if(Object.prototype.propertyIsEnumerable.call(DHt,r))return"atom";if(Object.prototype.propertyIsEnumerable.call(EHt,r))return"errorHandling";if(Object.prototype.propertyIsEnumerable.call(THt,r))return"mathematicalAndCryptographic";if(Object.prototype.propertyIsEnumerable.call(CHt,r)||Object.prototype.propertyIsEnumerable.call(Vle,r)&&Vle[r].some(function(o){return t.match(`.${o}`)}))return"variable-2";if(r==="abi"&&IHt[r].some(function(o){return t.match(`.${o}`)}))return"abi";const i=HHt(r,t);return i??((e.lastToken==="functionName("||e.lastToken==="returns(")&&Object.prototype.propertyIsEnumerable.call(zle,r)?(e.lastToken+="variable","variable"):e.lastToken==="function"?(e.lastToken="functionName",e.para==null&&(e.grammar="function",e.para=""),e.para+="functionName","functionName"):e.lastToken==="functionName(variable"?(e.lastToken="functionName(","parameterValue"):e.lastToken==="returns(variable"?(e.lastToken="returns(","parameterValue"):(e.lastToken==="address"&&r==="payable"&&(e.lastToken="address payable"),(e.lastToken==="contract"||e.lastToken==="struct")&&(zle[r]=!0,e.lastToken=null),e.grammar==="function"?"parameterValue":"variable"))}function BHt(t){return function(e,n){let r=!1,i,o=!1;for(i=e.next();i!=null;){if(i===t&&!r){o=!0;break}r=!r&&t!=="`"&&i==="\\",i=e.next()}return(o||!(r||t==="`"))&&(n.tokenize=DO),"string"}}function jle(t,e){let n=!1,r=t.next();for(;r;){if(r==="/"&&n){e.tokenize=DO;break}n=r==="*",r=t.next()}return"comment"}function $Ht(t,e){if(e.lastToken==="pragma solidity")return e.lastToken=null,!e.startOfLine&&(t.match(/[\^{0}][0-9.]+/)||t.match(/[>=]+?[\s]*[0-9.]+[\s]*[<]?[\s]*[0-9.]+/))}function Gle(t,e){if(/[\d.]/.test(t))return t==="."?e.match(/^[0-9]+([eE][-+]?[0-9]+)?/):t==="0"?e.match(/^[xX][0-9a-fA-F]+/)||e.match(/^0[0-7]+/):e.match(/^[0-9]*\.?[0-9]*([eE][-+]?[0-9]+)?/),!0}function FHt(t){if(t.match(/^[u]?int/)){if(t.indexOf("t")+1===t.length)return!0;const e=Number(t.substr(t.indexOf("t")+1,t.length));return e%8===0&&e<=256}}function VHt(t){if(t.match(/^bytes/)){if(t.indexOf("s")+1===t.length)return!0;const e=t.substr(t.indexOf("s")+1,t.length);return Number(e)<=32}}function zHt(t){if(t.match(/^[u]?fixed([0-9]+x[0-9]+)?/)){if(t.indexOf("d")+1===t.length)return!0;const e=t.substr(t.indexOf("d")+1,t.length).split("x").map(Number);return e[0]%8===0&&e[0]<=256&&e[1]<=80}}function HHt(t,e){if(t.match(/^hex/)&&e.peek()==='"'){let n=!1,r,i="",o="";for(r=e.next();r;){if(o+=r,r==='"'&&n){if(i=o.substring(1,o.length-1),i.match(/^[0-9a-fA-F]+$/))return"number";e.backUp(o.length);break}n=n||r==='"',r=e.next()}}}function jHt(t,e){return t===","&&e.para==="functionName(variable"&&(e.para="functionName("),e.para!=null&&e.para.startsWith("functionName")&&(t===")"?e.para.endsWith("(")&&(e.para=e.para.substr(0,e.para.length-1),e.para==="functionName"&&(e.grammar="")):t==="("&&(e.para+=t)),t==="("&&e.lastToken==="functionName"?e.lastToken+=t:t===")"&&e.lastToken==="functionName("?e.lastToken=null:t==="("&&e.lastToken==="returns"?e.lastToken+=t:t===")"&&(e.lastToken==="returns("||e.lastToken==="returns(variable")&&(e.lastToken=null),t==="("&&e.lastToken==="address"&&(e.lastToken+=t),Md=t,null}class HTe{constructor(e,n,r,i,o){this.indented=e,this.column=n,this.type=r,this.align=i,this.prev=o}}function O$(t,e,n){return t.context=new HTe(t.indented,e,n,null,t.context),t.context}function Ule(t){if(!t.context.prev)return;const e=t.context.type;return(e===")"||e==="]"||e==="}")&&(t.indented=t.context.indented),t.context=t.context.prev}const GHt={startState(t){return{tokenize:null,context:new HTe(0-t,0,"top",!1,null),indented:0,startOfLine:!0,grammar:null,lastToken:null,para:null}},token(t,e){const n=e.context;if(t.sol()&&(n.align==null&&(n.align=!1),e.indented=t.indentation(),e.startOfLine=!0,n.type==="case"&&(n.type="}"),e.grammar==="doc"&&(e.grammar=null)),t.eatSpace())return null;Md=null;const r=(e.tokenize||DO)(t,e);return r==="comment"||(n.align==null&&(n.align=!0),Md==="{"?O$(e,t.column(),"}"):Md==="["?O$(e,t.column(),"]"):Md==="("?O$(e,t.column(),")"):Md==="case"?n.type="case":(Md==="}"&&n.type==="}"||Md===n.type)&&Ule(e),e.startOfLine=!1),r},indent(t,e,n){if(t.tokenize!==DO&&t.tokenize!=null)return null;const r=t.context,i=e&&e.charAt(0);if(r.type==="case"&&/^(?:case|default)\b/.test(e))return t.context.type="}",r.indented;const o=i===r.type;return r.align?r.column+(o?0:1):r.indented+(o?0:n.unit)},electricChars:"{}):",closeBrackets:"()[]{}''\"\"``",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",tokenTable:{functionName:Lo.define(),parameterValue:Lo.define(),addressFunction:Lo.define(),errorHandling:Lo.define(),contractRelated:Lo.define(),version:Lo.define(),etherUnit:Lo.define(),doc:Lo.define(),mathematicalAndCryptographic:Lo.define(),abi:Lo.define()}},UHt=new azt(BU.define(GHt)),WHt={class:"dialog-footer"},qHt=ue({__name:"SolidityEditor",setup(t){Kr.theme({"&.cm-editor":{background:"#ffffff",color:"#000000"},".cm-activeLine":{background:"#f0f0f0"},".cm-gutters":{background:"#ffffff",borderRight:"1px solid #eee"}}),F("dark");const e=F(!1),n=F(1),r=F(1);F(null);const i=F(null),o=F(null),a=F("cefc2c33064ea7691aee3e5e4f7842935d26f3ad790d81cf015e79b78958e848");var s=F();const l=F(null),u=F([]),c=F(!1),f=F(!1),d=F(""),h=F(""),p=F(0),v=F(0),g=F(!1),m=F(null),y=ih(),b=new sE,w=F();var S=null;const x=F(""),C=Bn({args:[],function:""}),E=()=>Math.floor(new Date().getTime()/1e3);var T=E();const A=()=>{Me.on("update_graph",_e=>{D(_e)}),Me.on("update_soldity_height",_e=>{var Ce=Number(_e)-10;Ce<0&&(Ce=0),i.value&&(i.value.style.height=Ce+"px")}),Me.on("set_solidity_private_key",_e=>{g.value=!1,st({type:"warning",message:"test 1"}),a.value=_e}),Me.on("compile_solidity_code",_e=>{st({type:"warning",message:"test 2"}),Et.post("/pipeline/compile_solidity/",Hn.stringify({source_code:P.value})).then(fe=>{if(Me.emit("compile_solidity_code_res",fe.data),fe.data.status!=0){console.log("Compilation error:",fe.data.msg);return}console.log(fe.data.abi),console.log(fe.data.bytecode)}).catch(fe=>{console.log(fe)})}),Me.on("deploy_solidity_code",_e=>{if(f.value=!1,!a.value||a.value.length==0){st({type:"warning",message:""});return}B(),C.args=[],l.value?(C.args=l.value.parameters.map(fe=>({type:fe.type,key:fe.name,value:""})),c.value=!0):R()}),Me.on("call_function_solidity_code",_e=>{if(g.value=!1,st({type:"warning",message:"test 4"}),d.value="",B(),C.args=[],u.value.length==0){st({type:"warning",message:""});return}C.function=u.value[0].name,V(),c.value=!0,f.value=!0}),Me.on("theme_changed",_e=>{ih().value?(J(),console.log("now light")):(Y(),console.log("now dark"))})},k=()=>{Me.off("update_graph",null),Me.off("update_soldity_height",null),Me.off("set_solidity_private_key",null),Me.off("compile_solidity_code",null),Me.off("deploy_solidity_code",null),Me.off("call_function_solidity_code",null),Me.off("theme_changed",null)};function M(_e){try{return JSON.parse(_e),!0}catch{return!1}}const D=_e=>{if(Me.emit("deploy_solidity_code_res",{status:0,id:""}),_e.data.is_project!=1&&(console.log("get code value: ",_e),w.value=_e.data.pipe_id,_e.data.pipe_usr_graph)){if(M(_e.data.pipe_usr_graph)){const fe=JSON.parse(_e.data.pipe_usr_graph);P.value=fe.code,h.value=fe.address,Me.emit("deploy_solidity_code_res",{status:0,id:fe.address})}else P.value=_e.data.pipe_usr_graph;x.value=P.value}};function L(){g.value=!0,f.value?I():R()}function I(){var _e=[],fe=[];for(let Oe of C.args){if(Oe.value.trim().length==0){st({type:"warning",message:""+Oe.key}),g.value=!1;return}_e.push(Oe.type),fe.push(Oe.value)}var Ce=m.value.find(Oe=>Oe.type==="function"&&Oe.name===C.function);if(Ce){if(Ce.inputs.length!=_e.length){st({type:"error",message:""}),g.value=!1;return}_e=[];for(let Oe of Ce.inputs)_e.push(Oe.type)}Et.post("/pipeline/call_function_solidity/",Hn.stringify({address:h.value,function_name:C.function,function_types:_e.join(","),function_args:fe.join(","),private_key:a.value,amount:v.value})).then(Oe=>{if(g.value=!1,Me.emit("call_function_solidity_code_res",Oe.data),Oe.data.status!=0){st({type:"error",message:""+Oe.data.msg});return}st({type:"success",message:""+Oe.data.return_value}),c.value=!1}).catch(Oe=>{g.value=!1,st({type:"error",message:""+Oe})})}function R(){d.value="",f.value=!1;var _e=[],fe=[];for(let Ce of C.args){if(Ce.value.trim().length==0){st({type:"warning",message:""+Ce.key}),g.value=!1;return}_e.push(Ce.type),fe.push(Ce.value)}Et.post("/pipeline/compile_solidity/",Hn.stringify({source_code:P.value})).then(Ce=>{if(Me.emit("compile_solidity_code_res",Ce.data),Ce.data.status!=0){st({type:"error",message:""+Ce.data.msg}),g.value=!1;return}m.value=JSON.parse(Ce.data.abi);var Oe=m.value.find(Ue=>Ue.type==="constructor");if(Oe){if(Oe.inputs.length!=_e.length){st({type:"error",message:""}),g.value=!1;return}_e=[];for(let Ue of Oe.inputs)_e.push(Ue.type)}Et.post("/pipeline/deploy_solidity/",Hn.stringify({bytecode:Ce.data.bytecode,private_key:a.value,code_type:0,function_types:_e.join(","),function_args:fe.join(","),amount:v.value,gas_prepayment:p.value})).then(Ue=>{if(Me.emit("deploy_solidity_code_res",Ue.data),Ue.data.status!=0){st({type:"error",message:""+Ue.data.msg});return}st({type:"success",message:""+Ue.data.id}),c.value=!1,h.value=Ue.data.id,T=0,x.value="",ye()}).catch(Ue=>{st({type:"error",message:""+Ue})})}).catch(Ce=>{g.value=!1,st({type:"error",message:""+Ce})})}const V=()=>{const _e=u.value.find(fe=>fe.name===C.function);_e?C.args=_e.parameters.map(fe=>({type:fe.type,key:fe.name,value:""})):C.args=[]},P=F(`// SPDX-License-Identifier: GPL-3.0
pragma solidity >=0.7.0 <0.9.0;

`);function B(){try{l.value=null,u.value=[],j(),console.log("Constructor:",l),console.log("Other Functions:",u)}catch(_e){console.error(":",_e)}}function j(){const _e=/(?:constructor|function\s+(\w+)?)\s*\(([^)]*)\)\s*(?:public|private|internal|external)?\s*(?:payable)?\s*(?:returns\s*\(([^)]*)\))?/g;let fe;for(;(fe=_e.exec(P.value))!==null;){const Ce=fe[0].includes("constructor")||!fe[1],Oe=Ce?"constructor":fe[1],Ue=fe[2]||"",qe=fe[3]||"",ze=G(Ue),ae=Z(fe[0]),Fe=ee(fe[0]),We=W(qe),dn={name:Oe,parameters:ze,visibility:ae,stateMutability:Fe,returns:We};Ce?l.value=dn:u.value.push(dn)}}function G(_e){return _e.trim()?_e.split(",").map(fe=>{const Ce=fe.trim();if(!Ce)return null;const Oe=Ce.split(/\s+/);let Ue=[];const qe=["memory","storage","calldata"];let ze=0;for(;ze<Oe.length&&qe.includes(Oe[ze]);)Ue.push(Oe[ze]),ze++;return console.log("Parameter modifiers:",Ue),{type:Oe[0],name:Oe[Oe.length-1],modifiers:Ue}}).filter(fe=>fe!==null):[]}function W(_e){return _e.trim()?_e.split(",").map(Ce=>Ce.trim()).join(", "):""}function Z(_e){return _e.includes("public")?"public":_e.includes("private")?"private":_e.includes("internal")?"internal":_e.includes("external")?"external":"internal"}function ee(_e){return _e.includes("payable")?"payable":""}const oe=["pragma","solidity","contract","function","returns","public","private","internal","external","view","pure","payable","memory","storage","calldata","emit","event","uint256","uint","int","bool","address","string","mapping","struct","enum","modifier","constructor","if","else","for","while","return","require"],ce=[{label:"contract",type:"keyword",apply:"contract ${1:ContractName} {\n    ${0}\n}",detail:""},{label:"function",type:"function",apply:"function ${1:functionName}() public ${2|view,pure|} returns (${3}) {\n    ${0}\n}",detail:""},{label:"event",type:"keyword",apply:"event ${1:EventName}(${2});",detail:""},{label:"modifier",type:"keyword",apply:`modifier \${1:modifierName} {
    \${0}
    _;
}`,detail:""}];function X(_e){const fe=_e.matchBefore(/\w*/);return fe.from===fe.to&&!_e.explicit?null:{from:fe.from,options:[...oe.map(Ce=>({label:Ce,type:"keyword"})),...ce]}}const H=fE.define([{tag:un.keyword,color:"#d73a49",fontWeight:"bold"},{tag:un.function(un.variableName),color:"#6f42c1"},{tag:un.string,color:"#032f62"},{tag:un.number,color:"#005cc5"},{tag:un.comment,color:"#6a737d",fontStyle:"italic"},{tag:un.variableName,color:"#24292e"},{tag:un.operator,color:"#d73a49"},{tag:un.typeName,color:"#22863a"},{tag:un.propertyName,color:"#e36209"}]),U=Kr.theme({"&":{fontFamily:"'SF Mono', Monaco, 'Cascadia Code', monospace",fontSize:"13px",lineHeight:"1.5",backgroundColor:"#ffffff",color:"#24292e"},".cm-content":{fontFamily:"Menlo, Monaco, 'Courier New', monospace",fontSize:"12px",color:"#24292e",caretColor:"#0366d6"},".cm-gutter, .cm-gutters":{backgroundColor:"#f6f8fa",color:"#6a737d",borderRight:"1px solid #e1e4e8"},".cm-activeLine":{backgroundColor:"#ffd33d1a"},".cm-selectionBackground, ::selection":{backgroundColor:"#0366d699"},".cm-cursor":{borderLeftColor:"#0366d6"}},{dark:!1}),ne=()=>{if(!o.value)return;const _e=[$8t(),wzt(),kO.of([...Pzt,Rzt]),UHt,mHt({override:[X]}),Kr.updateListener.of(Ce=>{if(Ce.docChanged)return P.value=Ce.state.doc.toString(),se(Ce.state),!0}),z_.highest(kO.of([{key:"Ctrl-s",mac:"Cmd-s",run:Ce=>(T=0,ye(),!0),preventDefault:!0}]))];console.log("default is isDark: ",y.value),y.value?_e.push(b.of(Rle)):_e.push(b.of([U,b8(H)]));const fe=Vi.create({doc:P.value,extensions:_e});s=new Kr({state:fe,parent:o.value}),s.dom.addEventListener("mousemove",he),s.dom.addEventListener("keydown",he)};function J(){s.dispatch({effects:b.reconfigure([U,b8(H)])})}function Y(){s.dispatch({effects:b.reconfigure(Rle)})}const se=_e=>{const fe=_e.selection.main,Ce=_e.doc.lineAt(fe.from);n.value=Ce.number,r.value=fe.from-Ce.from+1},he=()=>{s&&se(s.state)};Jt(()=>{A(),console.log("SolidityEditor mounted."),Pt(()=>{console.log("Calling initEditor..."),ne(),console.log("Editor initialized.")}),S=setInterval(()=>{ye()},1e3)});const ye=()=>{var _e=E();if(x.value!=P.value&&T+10<_e){var fe={code:P.value,address:h.value};Et.post("/pipeline/update_pipline_graph/"+w.value+"/",Hn.stringify({graph:JSON.stringify(fe)})).then(Ce=>{console.log("save pipeline: %d",w.value)}).catch(Ce=>console.log(Ce)),T=_e,x.value=P.value}};return Qu(()=>{k(),s&&s.destroy(),S&&clearInterval(S)}),Le(P,_e=>{if(s&&_e!==s.state.doc.toString()){const fe=s.state.update({changes:{from:0,to:s.state.doc.length,insert:_e}});s.dispatch(fe),console.log("solidity code updated: ",_e)}}),(_e,fe)=>{const Ce=pe("el-text"),Oe=pe("el-col"),Ue=pe("el-option"),qe=pe("el-select"),ze=pe("el-row"),ae=pe("el-form-item"),Fe=pe("el-input-number"),We=pe("el-input"),dn=pe("el-form"),At=pe("el-button"),$e=pe("el-dialog");return N(),Q(ft,null,[K("div",{class:q(["editor-container",{fullscreen:e.value}])},[K("div",{class:"editor-wrapper",ref_key:"editorContainer",ref:i},[K("div",{ref_key:"editorElement",ref:o,class:"code-editor"},null,512)],512)],2),O($e,{modelValue:c.value,"onUpdate:modelValue":fe[4]||(fe[4]=Kt=>c.value=Kt),title:d.value,width:"500"},{footer:$(()=>[K("div",WHt,[O(At,{onClick:fe[3]||(fe[3]=Kt=>c.value=!1)},{default:$(()=>[...fe[9]||(fe[9]=[Be("",-1)])]),_:1}),O(At,{type:"primary",onClick:L,loading:g.value},{default:$(()=>[...fe[10]||(fe[10]=[Be("  ",-1)])]),_:1},8,["loading"])])]),default:$(()=>[O(dn,{ref:"formRef",model:C,style:{"margin-top":"10px"},"label-width":"0px",class:"dynamic-form-container"},{default:$(()=>[f.value?(N(),de(ae,{key:0},{default:$(()=>[O(ze,{gutter:37},{default:$(()=>[O(Oe,{span:7,style:{padding:"0px",width:"307px","padding-left":"18px"}},{default:$(()=>[O(Ce,{class:"mx-1",type:"info"},{default:$(()=>[...fe[5]||(fe[5]=[Be("",-1)])]),_:1})]),_:1}),O(Oe,{span:15,style:{padding:"0px"}},{default:$(()=>[O(qe,{modelValue:C.function,"onUpdate:modelValue":fe[0]||(fe[0]=Kt=>C.function=Kt),placeholder:"",onChange:V},{default:$(()=>[(N(!0),Q(ft,null,gn(u.value,Kt=>(N(),de(Ue,{key:Kt.name,label:Kt.name,value:Kt.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})):ge("",!0),f.value?ge("",!0):(N(),de(ae,{key:1},{default:$(()=>[O(ze,{gutter:37},{default:$(()=>[O(Oe,{span:7,style:{padding:"0px",width:"200px","padding-left":"18px"}},{default:$(()=>[O(Ce,{class:"mx-1",type:"info"},{default:$(()=>[...fe[6]||(fe[6]=[Be("GAS",-1)])]),_:1})]),_:1}),O(Oe,{span:15,style:{padding:"0px"}},{default:$(()=>[O(Fe,{modelValue:p.value,"onUpdate:modelValue":fe[1]||(fe[1]=Kt=>p.value=Kt),step:1e6},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})),O(ae,null,{default:$(()=>[O(ze,{gutter:37},{default:$(()=>[O(Oe,{span:7,style:{padding:"0px",width:"200px","padding-left":"18px"}},{default:$(()=>[O(Ce,{class:"mx-1",type:"info"},{default:$(()=>[...fe[7]||(fe[7]=[Be("",-1)])]),_:1})]),_:1}),O(Oe,{span:15,style:{padding:"0px"}},{default:$(()=>[O(Fe,{modelValue:v.value,"onUpdate:modelValue":fe[2]||(fe[2]=Kt=>v.value=Kt),step:1e6},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),(N(!0),Q(ft,null,gn(C.args,(Kt,Kn)=>(N(),de(ae,{style:{"margin-top":"10px"},key:Kn,prop:"items."+Kn+".value",rules:{required:!1,message:"",trigger:"blur"}},{default:$(()=>[O(ze,{gutter:37},{default:$(()=>[O(Oe,{span:4,style:{padding:"0px",width:"297px","padding-left":"18px"}},{default:$(()=>[O(Ce,{class:"mx-1",type:"primary"},{default:$(()=>[Be(Ne(Kt.type),1)]),_:2},1024)]),_:2},1024),O(Oe,{span:6,style:{padding:"0px",width:"297px","padding-left":"18px"}},{default:$(()=>[O(We,{modelValue:Kt.key,"onUpdate:modelValue":$t=>Kt.key=$t,"aria-label":"",placeholder:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),O(Oe,{span:1,style:{padding:"0px","margin-left":"10px","margin-right":"-4px"}},{default:$(()=>[...fe[8]||(fe[8]=[Be(" : ",-1)])]),_:1}),O(Oe,{span:12,style:{padding:"0px"}},{default:$(()=>[O(We,{modelValue:Kt.value,"onUpdate:modelValue":$t=>Kt.value=$t,"aria-label":"",placeholder:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["prop"]))),128))]),_:1},8,["model"])]),_:1},8,["modelValue","title"])],64)}}}),KHt=ds(qHt,[["__scopeId","data-v-816519d4"]]),YHt={style:{overflow:"hidden"}},XHt={style:{"text-align":"right","margin-top":"20px"}},ZHt={style:{"text-align":"right","margin-top":"20px"}},JHt=ue({__name:"SolidityStatus",setup(t){const e=F(""),n=F(""),r=F(!1),i=F("cefc2c33064ea7691aee3e5e4f7842935d26f3ad790d81cf015e79b78958e848"),o=F("http://82.156.224.174:7001"),a=F(null),s=F(!1),l=F(1e6),u=F(!1);Jt(()=>{Et.defaults.baseURL=o.value,v()}),Qu(()=>{p()});const c=()=>{Me.emit("deploy_solidity_code","")},f=()=>{Me.emit("call_function_solidity_code","")},d=()=>{Et.defaults.baseURL=o.value,r.value=!1,Me.emit("set_solidity_private_key",i.value),st({type:"success",message:""})},h=()=>{u.value=!0,Et.post("/pipeline/set_gas_prepayment/",Hn.stringify({gas_prepayment:l.value,private_key:i.value,address:n.value})).then(g=>{if(u.value=!0,g.data.status!=0){st({type:"error",message:"GAS:"+g.data.msg});return}st({type:"success",message:"GAS"}),s.value=!1}).catch(g=>{u.value=!0,st({type:"error",message:"GAS:"+g})})},p=()=>{Me.off("compile_solidity_code_res",null),Me.off("deploy_solidity_code_res",null),Me.off("update_soldity_status_height",null),Me.off("compile_solidity_code_res",null)},v=()=>{Me.on("compile_solidity_code_res",g=>{e.value+=`
------------------------
`,g.status!=0?(e.value+=`:
`+g.msg,e.value+=g.msg):e.value+=`!
ABI:
`+g.abi+`
Bytecode:
`+g.bytecode,Pt(()=>{setTimeout(()=>{a.value.focus(),a.value.scrollTop=a.value.scrollHeight},100)})}),Me.on("deploy_solidity_code_res",g=>{if(g.id==""){e.value="",n.value="";return}e.value+=`
------------------------
`,g.status!=0?e.value+=`
:
`+g.msg:(n.value=g.id,e.value+=`
!
:
`+g.id),Pt(()=>{setTimeout(()=>{a.value.focus(),a.value.scrollTop=a.value.scrollHeight},100)})}),Me.on("update_soldity_status_height",g=>{const m=document.getElementById("solidity-status-container"),y=document.getElementById("solidity_editor_status");var w=Number(g)-40;w<0&&(w=0),m&&(m.style.height=w+"px"),y&&(w+=2,y.style.height=w+"px")})};return(g,m)=>{const y=pe("el-button"),b=pe("el-input-number"),w=pe("el-popover"),S=pe("el-button-group"),x=pe("el-input"),C=pe("el-tag");return N(),Q("div",YHt,[O(S,{style:{"margin-top":"5px"}},{default:$(()=>[O(y,{plain:"",size:"small",type:"primary",icon:_(GVe),onClick:c},{default:$(()=>[...m[8]||(m[8]=[Be("",-1)])]),_:1},8,["icon"]),O(w,{visible:s.value,placement:"top",width:220,style:{"margin-top":"5px",float:"right"}},{reference:$(()=>[O(y,{plain:"",disabled:n.value=="",size:"small",type:"primary",icon:_(zVe),onClick:m[2]||(m[2]=E=>{s.value=!0,u.value=!1})},{default:$(()=>[...m[11]||(m[11]=[Be("GAS",-1)])]),_:1},8,["disabled","icon"])]),default:$(()=>[m[12]||(m[12]=K("p",null,"GAS",-1)),O(b,{modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=E=>l.value=E),step:1e6},null,8,["modelValue"]),K("div",XHt,[O(y,{size:"small",text:"",onClick:m[1]||(m[1]=E=>s.value=!1)},{default:$(()=>[...m[9]||(m[9]=[Be("",-1)])]),_:1}),O(y,{size:"small",type:"primary",loading:u.value,onClick:h},{default:$(()=>[...m[10]||(m[10]=[Be("  ",-1)])]),_:1},8,["loading"])])]),_:1},8,["visible"]),O(y,{plain:"",size:"small",type:"primary",disabled:n.value=="",icon:_(FFe),onClick:f},{default:$(()=>[...m[13]||(m[13]=[Be("",-1)])]),_:1},8,["disabled","icon"])]),_:1}),O(w,{visible:r.value,placement:"top",width:580,style:{"margin-top":"5px",float:"right"}},{reference:$(()=>[O(y,{plain:"",onClick:m[6]||(m[6]=E=>r.value=!0),size:"small",icon:_(kVe),style:{"margin-top":"5px",float:"right"}},null,8,["icon"])]),default:$(()=>[m[16]||(m[16]=K("p",null,"url",-1)),O(x,{modelValue:o.value,"onUpdate:modelValue":m[3]||(m[3]=E=>o.value=E),style:{width:"540px"}},null,8,["modelValue"]),m[17]||(m[17]=K("p",null,"",-1)),O(x,{modelValue:i.value,"onUpdate:modelValue":m[4]||(m[4]=E=>i.value=E),style:{width:"540px"},type:"password",placeholder:"Please input password","show-password":""},null,8,["modelValue"]),K("div",ZHt,[O(y,{size:"small",text:"",onClick:m[5]||(m[5]=E=>r.value=!1)},{default:$(()=>[...m[14]||(m[14]=[Be("",-1)])]),_:1}),O(y,{size:"small",type:"primary",onClick:d},{default:$(()=>[...m[15]||(m[15]=[Be("  ",-1)])]),_:1})])]),_:1},8,["visible"]),n.value?(N(),de(C,{key:0,type:"success",style:{"margin-top":"5px",float:"right"}},{default:$(()=>[Be(Ne(n.value),1)]),_:1})):ge("",!0),O(x,{ref_key:"logArea",ref:a,id:"solidity_editor_status",clearable:"",readonly:"",resize:"none",style:{border:"0px"},modelValue:e.value,"onUpdate:modelValue":m[7]||(m[7]=E=>e.value=E),rows:4,type:"textarea",placeholder:""},null,8,["modelValue"])])}}}),QHt=ue({__name:"CreateSolidity",props:{pipeline_info:Map},setup(t){const e=F(),n=F(!1);F(`// SPDX-License-Identifier: GPL-3.0 
pragma solidity >=0.7.0 <0.9.0;`);const r=t,i=F([]),o=F(),a=Bn({pipeline_id:"",project:0,pipeline_name:"",users:"",monitor_way:0,tags:"",desc:""}),s=Bn({project:[{required:!0,message:"",trigger:"blur"}],pipeline_name:[{required:!0,message:"",trigger:"blur"},{min:1,max:64,message:"64",trigger:"blur"}],users:[{required:!1,message:"",trigger:"change"}],monitor_way:[{required:!1,message:"",trigger:"change"}],tags:[{required:!1,message:"",trigger:"change"}],desc:[{required:!0,message:"",trigger:"change"}]}),l=async h=>{console.log(a);var p=a.project;a.users="";for(const g of e.value)a.users+=g+",";var v={name:a.pipeline_name,ct_time:"0 12 1 * *",principal:a.users,monitor_way:0,life_cycle:0,description:a.desc,project_id:p,tags:a.tags.toString(),type:4};console.log(v),h&&await h.validate((g,m)=>{g?a.pipeline_id?Et.post("/pipeline/update/"+a.pipeline_id+"/",Hn.stringify(v)).then(y=>{y.data.status!=0?st.warning(": "+y.data.msg):(a.project,st.success(""),Me.emit("success_update_pipeline",""))}).catch(y=>{st.error(": "+y)}):Et.post("/pipeline/create/",Hn.stringify(v)).then(y=>{if(y.data.status!=0)st.error(": "+y.data.msg);else{var b=a.project;st.success(""),v.pid=b,v.text=a.pipeline_name,v.is_project=!1,v.id=b+"-"+y.data.pipeline_id,v.pipe_id=y.data.pipeline_id,Me.emit("success_create_pipeline",v)}}).catch(y=>{st.error(": "+y)}):(console.log("error submit!",m),st.error(" "+m))})},u=h=>{h&&(h.resetFields(),r.pipeline_info&&(a.project=r.pipeline_info.project_id))},c=async()=>{await Et.get("/pipeline/get_project_tree/",{params:{type:4}}).then(h=>{i.value=h.data}).catch(h=>{st.error(": "+h)})};Jt(()=>{if(c(),d(),a.project=r.pipeline_info.project_id,r.pipeline_info){r.pipeline_info.id>0&&r.pipeline_info.name!=""&&(n.value=!0),a.pipeline_id=r.pipeline_info.id,a.pipeline_name=r.pipeline_info.name,a.desc=r.pipeline_info.description,a.users=r.pipeline_info.principal_id_list;var h=[];for(const p of r.pipeline_info.principal_id_list.split(","))p!=""&&h.push(parseInt(p));e.value=h,a.users=r.pipeline_info.principal_id_list,console.log("init update pipeline:",h,a.users,f.value)}});const f=F([]),d=async()=>{await Et.post("/pipeline/get_user_list/",{}).then(h=>{var p=[];for(const v of h.data.user_list)p.push({id:v.id,name:v.name});console.log(p),console.log("create pipeline: ",r.pipeline_info),f.value=p}).catch(h=>console.log(h))};return(h,p)=>{const v=pe("el-tree-select"),g=pe("el-form-item"),m=pe("el-col"),y=pe("el-input"),b=pe("el-option"),w=pe("el-select"),S=pe("el-divider"),x=pe("el-button"),C=pe("el-form");return N(),de(C,{ref_key:"ruleFormRef",ref:o,style:{"max-width":"600px"},model:a,rules:s,"label-width":"auto","label-position":"left"},{default:$(()=>[O(g,{prop:"project",required:""},{default:$(()=>[O(m,{span:24},{default:$(()=>[O(g,{prop:"project",label:"",required:""},{default:$(()=>[O(v,{modelValue:a.project,"onUpdate:modelValue":p[0]||(p[0]=E=>a.project=E),data:i.value,"check-strictly":"","node-key":"id"},null,8,["modelValue","data"])]),_:1})]),_:1})]),_:1}),O(g,{label:"",prop:"pipeline_name"},{default:$(()=>[O(y,{modelValue:a.pipeline_name,"onUpdate:modelValue":p[1]||(p[1]=E=>a.pipeline_name=E)},null,8,["modelValue"])]),_:1}),O(g,{label:":",prop:"users",style:{"margin-top":"17px"}},{default:$(()=>[O(w,{modelValue:e.value,"onUpdate:modelValue":p[2]||(p[2]=E=>e.value=E),multiple:"",clearable:"",filterable:"",placeholder:"Select"},{default:$(()=>[(N(!0),Q(ft,null,gn(f.value,E=>(N(),de(b,{key:E.id,label:E.name,value:E.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),O(g,{label:"",prop:"desc",required:""},{default:$(()=>[O(y,{modelValue:a.desc,"onUpdate:modelValue":p[3]||(p[3]=E=>a.desc=E),type:"textarea",placeholder:""},null,8,["modelValue"])]),_:1}),O(S,{"border-style":"dashed"}),O(g,null,{default:$(()=>[n.value?(N(),de(x,{key:0,type:"primary",onClick:p[4]||(p[4]=E=>l(o.value))},{default:$(()=>[...p[7]||(p[7]=[Be("  ",-1)])]),_:1})):(N(),de(x,{key:1,type:"primary",onClick:p[5]||(p[5]=E=>l(o.value))},{default:$(()=>[...p[8]||(p[8]=[Be("  ",-1)])]),_:1})),O(x,{onClick:p[6]||(p[6]=E=>u(o.value))},{default:$(()=>[...p[9]||(p[9]=[Be("",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),ejt={key:0,class:"custom-tree-node"},tjt={key:0,style:{"margin-top":"0px"}},njt={key:1,style:{"margin-top":"0px"}},rjt={key:2},ijt={class:"node-buttons"},ojt={key:3},ajt={class:"node-buttons"},sjt={class:"dialog-footer",style:{"margin-top":"20px"}},ljt=ue({__name:"SolidityTree",setup(t){const e=F(!1),n=F("rtl"),r=F(null),i=F(0);let o=null;const a=F(""),s=F(),l=F(""),u=F("1"),c=F(""),f=F({});F(!1);const d={id:"",name:"",owner_id:1,ct_time:"",update_time:"",enable:0,type:0,email_to:"",description:"",sms_to:"",tag:"",life_cycle:"",monitor_way:0,private:1,project_id:1,project_name:"",principal_name_list:"",principal_id_list:"",is_super:!0,user_id:1},h=F(structuredClone(d)),p=F({}),v=F(!1),g=F(!1),m=F(1e3),y=F(!1),b=F(-1),w=F([]),S=F("top"),x=ih(),C=F(""),E=()=>{Me.on("success_create_pipeline",H=>{X(H.pid,H),e.value=!1}),Me.on("create_folder",H=>{Et.post("/processor/add_new_project/",Hn.stringify({project_name:H.name,description:"",parent_id:H.cur_id,type:4})).then(U=>{if(U.data.status!=0)st({type:"error",message:""+U.data.msg});else{v.value=!1,H.id=U.data.id,H.text=H.name,H.is_project=!0,H.pipe_id=0;var ne=H.cur_id;ne==0&&(ne=-1),H.type==0?X(H.selected_id,H):X(ne,H),st({type:"success",message:""})}}).catch(U=>{st({type:"error",message:""+U})})}),Me.on("update_folder",H=>{Et.post("/pipeline/update_project/",Hn.stringify({project_name:H.name,description:"",id:H.cur_id})).then(U=>{if(U.data.status!=0)st({type:"error",message:""+U.data.msg});else{g.value=!1;const J=s.value.getNode(H.cur_id);if(J){console.log("upate project name: ",J,J.label),J.label=H.name;var ne=ce(H.cur_id,k.value);ne.label=H.name,console.log("upate project name: ",J,J.label),k.value=[...k.value]}st({type:"success",message:""})}}).catch(U=>{st({type:"error",message:""+U})})}),Me.on("success_update_pipeline",H=>{e.value=!1}),Me.on("home_view_click_create_pipeline",H=>{h.value=structuredClone(d),h.value.project_id=H,e.value=!0}),Me.on("graph_call_delete_pipeline",H=>{const U=s.value.getNode(H);console.log(U),G(U)}),Me.on("show_graph_called",H=>{W({id:H},null)}),Me.on("click_show_pipeline",H=>{c.value="",Et.post("/pipeline/get_pipeline_detail/",Hn.stringify({pipe_id:H.split("-")[1]})).then(U=>{h.value=U.data,U.data.email_to!=""&&(h.value.monitor_way|=1),U.data.sms_to!=""&&(h.value.monitor_way|=2);const ne=""+H;console.log(ne,H,ne.split("-").length),u.value=ne,e.value=!0}).catch(U=>{console.log(U),Me.emit("update_graph","-1")})})},T=()=>{Me.off("success_create_pipeline",null),Me.off("create_folder",null),Me.off("update_folder",null),Me.off("success_update_pipeline",null),Me.off("home_view_click_create_pipeline",null),Me.off("graph_call_delete_pipeline",null),Me.off("show_graph_called",null),Me.off("click_show_pipeline",null)},A={id:"id",label:"label",is_project:"is_project",children:"children",valid:"valid"},k=F([]),M=async()=>{await Et.get("/pipeline/get_project_tree/",{params:{type:4}}).then(H=>{w.value=H.data}).catch(H=>{st.error(": "+H)})},D=()=>{if(C.value.trim()==""){st({type:"warning",message:""});return}console.log("Get pipeline detail: ",f.value),Et.post("/pipeline/copy_pipeline/",Hn.stringify({project_id:b.value,pl_name:C.value.trim(),pl_id:f.value.id,use_src_type:1})).then(H=>{if(H.data.status!=0)st({type:"danger",message:""+H.data.msg});else{y.value=!1;var U={};U.pid=b.value,U.text=C.value.trim(),U.is_project=!1,U.id=b.value+"-"+H.data.pl_id,U.pipe_id=H.data.pl_id,console.log("copy pipeline: ",U),X(b.value,U),st({type:"success",message:""})}}).catch(H=>{st({type:"danger",message:""+H})})},L=H=>{M(),y.value=!0},I=H=>{var U=H.label,ne=0;H.parent&&(U=H.parent.label+"/"+U,ne=H.parent.key),p.value={path:U,id:H.data.id,parent_id:ne},g.value=!0},R=H=>{ua({title:"",message:Rt("p",null,[Rt("span",null,"?  "),Rt("i",{style:"color: red"},H.label)]),showCancelButton:!0,confirmButtonText:"",cancelButtonText:"",beforeClose:(U,ne,J)=>{U==="confirm"?(ne.confirmButtonLoading=!0,ne.confirmButtonText="...",Et.post("/processor/delete_project/",Hn.stringify({project_id:H.data.id})).then(Y=>{Y.data.status!=0?st({type:"danger",message:""+Y.data.msg}):(st({type:"success",message:""}),j(H)),J(),ne.confirmButtonLoading=!1}).catch(Y=>{st({type:"danger",message:""+Y})})):J()}}).then(U=>{})},V=H=>{var U=H.label,ne=0;H.parent&&(U=H.parent.label+"/"+U,ne=H.parent.key),p.value={path:U,id:H.data.id,parent_id:ne},v.value=!0},P=(H,U)=>{Et.get("/pipeline/get_project_tree_async/",{params:{id:H.id,type:4}}).then(ne=>{var J=ce(H.id,k.value);J&&(J.children=[]);for(const Y of ne.data)X(H.id,Y)}).catch(ne=>console.log(ne))},B=H=>{c.value="",h.value=structuredClone(d),console.log("ttttt:",H.key);var U=""+H.key;if(U.split("-").length!=2){h.value.project_id=H.key,e.value=!0,l.value=H.label;for(var ne=H.parent;ne;)l.value=ne.label+"/"+l.value,ne=ne.parent;console.log(l.value);return}c.value="",Et.post("/pipeline/get_pipeline_detail/",Hn.stringify({pipe_id:H.key.split("-")[1]})).then(J=>{h.value=J.data,J.data.email_to!=""&&(h.value.monitor_way|=1),J.data.sms_to!=""&&(h.value.monitor_way|=2),e.value=!0;const Y=""+H.key;console.log(Y,H,Y.split("-").length),u.value=Y}).catch(J=>{console.log(J),Me.emit("update_graph","-1")})},j=H=>{var U=null;if(H.parent&&(console.log("now delete node: ",H.parent.key),U=ce(H.parent.key,k.value)),U){const J=U.children.findIndex(Y=>Y.id===H.key);console.log("found parent now delete node: ",J),J!==-1&&U.children.splice(J,1)}else{const J=k.value.findIndex(Y=>Y.id===H.key);console.log("not found parent now delete node: ",J),J!==-1&&k.value.splice(J,1)}k.value=[...k.value],console.log("delete key: ",H.key);var ne=""+H.key;ne.split("-").length==2&&Me.emit("success_delete_pipeline",ne)},G=H=>{ua({title:"",message:Rt("p",null,[Rt("span",null,"?  "),Rt("i",{style:"color: red"},H.label)]),showCancelButton:!0,confirmButtonText:"",cancelButtonText:"",beforeClose:(U,ne,J)=>{U==="confirm"?(ne.confirmButtonLoading=!0,ne.confirmButtonText="...",Et.post("/pipeline/delete/"+H.key.split("-")[1]+"/",{}).then(Y=>{console.log("success delete pipeline."),j(H),J(),ne.confirmButtonLoading=!1}).catch(Y=>{J(),st({type:"danger",message:""+Y})})):J()}}).then(U=>{st({type:"success",message:""})})},W=(H,U)=>{const ne=""+H.id;if(h.value=structuredClone(d),console.log(ne,ne.split("-")[1],ne.split("-").length),u.value=ne,ne.split("-").length!=2){l.value="/"+H.label;for(var J=U.parent;J;)l.value="/"+J.label+l.value,J=J.parent;Me.emit("update_graph",{tag:"-1",project_path:l.value,project_id:""+H.id}),Me.emit("show_update_graph",{tag:"-1",project_path:l.value,project_id:""+H.id}),console.log("update_graph node click 0",l.value,"project_id",H.id);return}Et.post("/pipeline/get_pipeline_detail/",Hn.stringify({pipe_id:H.id.split("-")[1]})).then(Y=>{h.value=Y.data,Y.data.email_to!=""&&(h.value.monitor_way|=1),Y.data.sms_to!=""&&(h.value.monitor_way|=2),console.log("get pipeline detail:",Y.data),console.log("11111:",ne,ne.split("-")[1],ne.split("-").length),f.value=Y.data,b.value=f.value.project_id;var se=Y.data;Et.post("/pipeline/get_tasks/",Hn.stringify({pipeline_id:ne.split("-")[1]})).then(he=>{Me.emit("show_update_graph",{tag:"1",project_path:l.value,pipe_id:ne}),he.data.project_id=ne.split("-")[0],he.data.pipeline_detail=se,Me.emit("update_graph",{tag:"0",project_id:ne.split("-")[0],project_path:l.value,data:he.data}),console.log("update_graph get tasks 1",l.value,he.data,"project_id",ne.split("-")[0])}).catch(he=>{console.log(he),Me.emit("update_graph",{tag:"-1",project_id:ne.split("-")[0],project_path:l.value}),Me.emit("show_update_graph",{tag:"-1",project_path:l.value,project_id:ne.split("-")[0]}),console.log("update_graph get tasks error 2",l.value,"project_id",ne.split("-")[0])})}).catch(Y=>{console.log(Y),Me.emit("update_graph","-1")})},Z=async()=>{await Et.get("/pipeline/get_project_tree_async/",{params:{type:4}}).then(H=>{console.log("0 get_project_tree_async:",H);for(const U of H.data)X(-1,U),U.is_project&&b.value==-1&&(b.value=U.id);console.log("treeRef.value.getNode():",b.value,s.value.getNode(b.value)),P({id:b.value})}).catch(H=>console.log(H)),s.value.expandNode(s.value.getNode(b.value))};Lr(window,"resize",()=>{m.value=window.innerHeight-130}),Jt(()=>{m.value=window.innerHeight-130,E(),r.value&&(i.value=r.value.clientHeight),o=new ResizeObserver(H=>{for(const U of H)U.target===r.value&&(i.value=U.contentRect.height)}),r.value&&o.observe(r.value),Z()}),ur(()=>{T(),o&&r.value&&o.unobserve(r.value)});const ee=H=>{s.value.filter(H)},oe=(H,U)=>U.label.includes(H),ce=(H,U)=>{for(let ne=0;ne<U.length;ne++){const J=U[ne];if(""+J.id==""+H)return J;if(J.children){const Y=ce(H,J.children);if(Y)return Y}}return null},X=(H,U)=>{if(U==null)return;var ne=U.text;ne==""&&(ne="");const J={id:U.id,label:ne,is_project:U.is_project,children:[],valid:!0,pipe_id:U.pipe_id};U.is_project&&J.children.push({id:-1,valid:!1,label:"",is_project:!1,children:[]});var Y=null;H==-1?(k.value.push(J),k.value=[...k.value]):(Y=ce(H,k.value),Y&&(Y.children||(Y.children=[]),Y.children.length==1&&Y.children[0].id==-1&&(Y.children=[]),Y.children.push(J),k.value=[...k.value],s.value.setCurrentKey(J.id))),Me.emit("update_graph",{tag:"0",project_id:H,project_path:l.value,data:J})};return(H,U)=>{const ne=pe("el-input"),J=pe("el-icon"),Y=pe("el-link"),se=pe("el-button"),he=pe("el-tooltip"),ye=pe("el-button-group"),_e=pe("el-tree-v2"),fe=pe("el-drawer"),Ce=pe("el-tree-select"),Oe=pe("el-form-item"),Ue=pe("el-form"),qe=pe("el-dialog");return N(),Q(ft,null,[O(ne,{class:"esponsive-input",modelValue:a.value,"onUpdate:modelValue":U[0]||(U[0]=ze=>a.value=ze),placeholder:"Please enter keyword",onInput:ee,"prefix-icon":_(pm)},null,8,["modelValue","prefix-icon"]),K("div",{class:q({appContainerDark:_(x),appContainerLight:!_(x)}),style:Ot(`min-height: ${m.value}px;`)},[K("div",{class:"tree-container",ref_key:"treeContainerRef",ref:r},[O(_e,{ref_key:"treeRef",ref:s,data:k.value,props:A,height:i.value,"filter-method":oe,"expand-on-click-node":!1,onNodeExpand:P,onNodeClick:W,"highlight-current":!0,"node-key":"id"},{default:$(({node:ze})=>[ze.data.valid?(N(),Q("div",ejt,[ze.data.is_project?(N(),Q("div",tjt,[ze.expanded?(N(),de(J,{key:1,size:18,style:{padding:"4px"},color:"var(--el-color-info)"},{default:$(()=>[O(_(Tz))]),_:1})):(N(),de(J,{key:0,size:18,style:{padding:"4px"},color:"var(--el-color-primary)"},{default:$(()=>[O(_(Az))]),_:1})),O(Y,{style:{"margin-bottom":"10px"}},{default:$(()=>[Be(Ne(ze.label),1)]),_:2},1024)])):(N(),Q("div",njt,[O(J,{size:18,style:{padding:"4px"},color:"var(--el-color-primary)"},{default:$(()=>[O(_(Zde))]),_:1}),O(Y,{style:{"margin-bottom":"10px"}},{default:$(()=>[Be(Ne(ze.label),1)]),_:2},1024)])),ze.data.is_project?(N(),Q("div",rjt,[K("span",ijt,[O(ye,{class:"ml-4"},{default:$(()=>[O(he,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(se,{plain:"",type:"info",size:"small",icon:_(kz),onClick:ae=>V(ze)},null,8,["icon","onClick"])]),_:2},1024),O(he,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(se,{plain:"",type:"success",size:"small",icon:_(Uu),onClick:ae=>B(ze)},null,8,["icon","onClick"])]),_:2},1024),ze.label!=""?(N(),de(he,{key:0,class:"box-item",effect:"dark",content:""},{default:$(()=>[O(se,{plain:"",type:"primary",size:"small",icon:_(Gu),onClick:ae=>I(ze)},null,8,["icon","onClick"])]),_:2},1024)):ge("",!0),ze.label!=""?(N(),de(he,{key:1,class:"box-item",effect:"dark",content:""},{default:$(()=>[O(se,{plain:"",type:"warning",size:"small",icon:_(ju),onClick:ae=>R(ze)},null,8,["icon","onClick"])]),_:2},1024)):ge("",!0)]),_:2},1024)])])):(N(),Q("div",ojt,[K("span",ajt,[O(ye,{class:"ml-4"},{default:$(()=>[O(he,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(se,{plain:"",type:"primary",onClick:ae=>B(ze),size:"small",icon:_(Gu)},null,8,["onClick","icon"])]),_:2},1024),O(he,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(se,{plain:"",type:"warning",size:"small",icon:_(ju),onClick:ae=>G(ze)},null,8,["icon","onClick"])]),_:2},1024),O(he,{class:"box-item",effect:"dark",content:""},{default:$(()=>[O(se,{plain:"",type:"primary",onClick:ae=>L(ze),size:"small",icon:_(Ez)},null,8,["onClick","icon"])]),_:2},1024)]),_:2},1024)])]))])):ge("",!0)]),_:1},8,["data","height"])],512)],6),O(fe,{modelValue:e.value,"onUpdate:modelValue":U[1]||(U[1]=ze=>e.value=ze),direction:n.value,size:"50%","destroy-on-close":!0},{header:$(()=>[K("h4",null,Ne(c.value),1)]),default:$(()=>[O(QHt,{pipeline_info:h.value},null,8,["pipeline_info"])]),_:1},8,["modelValue","direction"]),O(fe,{modelValue:v.value,"onUpdate:modelValue":U[2]||(U[2]=ze=>v.value=ze),direction:n.value,size:"50%","destroy-on-close":!0},{header:$(()=>[...U[8]||(U[8]=[K("h4",null,"",-1)])]),default:$(()=>[O(pj,{current_folder_info:p.value},null,8,["current_folder_info"])]),_:1},8,["modelValue","direction"]),O(fe,{modelValue:g.value,"onUpdate:modelValue":U[3]||(U[3]=ze=>g.value=ze),direction:n.value,size:"50%","destroy-on-close":!0},{header:$(()=>[...U[9]||(U[9]=[K("h4",null,"",-1)])]),default:$(()=>[O(vj,{current_folder_info:p.value},null,8,["current_folder_info"])]),_:1},8,["modelValue","direction"]),O(qe,{modelValue:y.value,"onUpdate:modelValue":U[7]||(U[7]=ze=>y.value=ze),title:"",width:"500","destroy-on-close":"",center:""},{footer:$(()=>[K("div",sjt,[O(se,{onClick:U[6]||(U[6]=ze=>y.value=!1)},{default:$(()=>[...U[10]||(U[10]=[Be("",-1)])]),_:1}),O(se,{type:"primary",onClick:D},{default:$(()=>[...U[11]||(U[11]=[Be("  ",-1)])]),_:1})])]),default:$(()=>[K("span",null,[O(Ue,{model:H.form,"label-width":"auto",style:{"max-width":"600px"},"label-position":S.value},{default:$(()=>[O(Oe,{prop:"project",label:""},{default:$(()=>[O(Ce,{modelValue:b.value,"onUpdate:modelValue":U[4]||(U[4]=ze=>b.value=ze),data:w.value,"check-strictly":"","node-key":"id"},null,8,["modelValue","data"])]),_:1}),O(Oe,{label:""},{default:$(()=>[O(ne,{modelValue:C.value,"onUpdate:modelValue":U[5]||(U[5]=ze=>C.value=ze)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","label-position"])])]),_:1},8,["modelValue"])],64)}}}),ujt={class:"common-layout"},cjt={key:0},fjt={name:"App",components:{Tree:WI,FlowChart:$2}},djt=ue({...fjt,props:{show_history_graph:Boolean,task_info:Map},setup(t){const e=F(1e3),n=F(),r=F();Lr(window,"resize",()=>{e.value=window.innerHeight-47});const i=(v,g)=>{Me.emit("update_soldity_height",g[0]),Me.emit("update_soldity_status_height",g[1])},o=()=>{Me.emit("update_soldity_height",n.value.$refs.panelEl.offsetHeight),Me.emit("update_soldity_status_height",r.value.$refs.panelEl.offsetHeight),setTimeout(()=>{o()},300)};Jt(()=>{e.value=window.innerHeight-47,window.addEventListener("resize",o),Pt(()=>{o()}),d(),f.show_history_graph&&(l.value=!0,c.value=0)});const a=F(""),s=F("46"),l=F(!1),u=F(""),c=F(1e4),f=t,d=()=>{Me.on("show_update_graph",v=>{p(v)}),Me.on("success_delete_pipeline",v=>{v==u.value&&(l.value=!1,c.value=1e4)}),Me.on("success_create_pipeline",v=>{l.value=!0,c.value=0,u.value=v.id,console.log("create pipeline: ",u.value)})},h=()=>{Me.off("show_update_graph",null),Me.off("success_delete_pipeline",null),Me.off("success_create_pipeline",null)};ur(()=>{h()});const p=v=>{if(v.tag=="-1"){l.value=!1,c.value=1e4,a.value=v.project_path,s.value=v.project_id,u.value="",console.log("0 update_graph: ",a.value,s.value,u.value,v);return}l.value=!0,c.value=0,a.value=v.project_path,s.value=v.project_id,u.value=v.pipe_id,console.log("1 update_graph: ",s.value,u.value,v)};return(v,g)=>{const m=pe("el-splitter-panel"),y=pe("el-splitter"),b=pe("el-main"),w=pe("el-container");return N(),Q("div",ujt,[O(w,null,{default:$(()=>[O(w,{style:{"margin-top":"0px"}},{default:$(()=>[O(b,{style:{padding:"0px"}},{default:$(()=>[O(_(a1),{horizontal:"","push-other-panes":!0,style:{height:"100vh"}},{default:$(()=>[O(_(qd),null,{default:$(()=>[O(_(a1),{vertical:"","push-other-panes":!0},{default:$(()=>[O(_(qd),{size:"25"},{default:$(()=>[O(ljt)]),_:1}),O(_(qd),{size:"75"},{default:$(()=>[l.value?ge("",!0):(N(),Q("div",cjt,[(N(),de(B2,{project_path:a.value,project_id:s.value,key:a.value},null,8,["project_path","project_id"]))])),K("div",{style:Ot(`height: ${e.value}px;box-shadow: var(--el-border-color-light) 0px 0px 10px;margin-top: ${c.value}px`)},[O(y,{layout:"vertical",onResize:i,style:{height:"100%"}},{default:$(()=>[O(m,{size:"81%",ref_key:"solidity_editor",ref:n},{default:$(()=>[O(KHt)]),_:1},512),O(m,{size:"29%",ref_key:"solidity_status",ref:r},{default:$(()=>[O(JHt)]),_:1},512)]),_:1})],4)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}}),hjt=ds(djt,[["__scopeId","data-v-09c68a13"]]),pjt=[{path:"/register",component:Jlt},{path:"/login",component:put},{path:"/pipeline",component:Q_t,meta:{requiresAuth:!0}},{path:"/userinfo",component:gwt,meta:{requiresAuth:!0}},{path:"/historyGraph",component:bwt,meta:{requiresAuth:!0}},{path:"/runing",component:Mwt,meta:{requiresAuth:!0}},{path:"/processor",component:y5t,meta:{requiresAuth:!0}},{path:"/solidity",component:hjt,meta:{requiresAuth:!0}},{path:"/dashboard",component:rwt,meta:{bypassAuth:!0,external:!0}}],X1=bst({history:Kat(),routes:pjt}),vjt=["/external","/public"];X1.beforeEach((t,e,n)=>{if(document.title=t.meta.title||"",console.log("each url: ",t.path),Me.emit("change_el_menu_item",t.path),vjt.includes(t.path))return n();const r=localStorage.getItem("access_token");t.meta.requiresAuth&&!r?n("/login"):n()});const gjt="/assets/shardora-CxYVFZOt.png",mjt="/assets/blue_shardora-BLzKHZpT.png",yjt={key:0,style:{width:"100px"},src:gjt,alt:"Element logo"},bjt={key:1,style:{width:"100px"},src:mjt,alt:"Element logo"},_jt={class:"user-menu-trigger"},wjt={},Sjt=ue({...wjt,__name:"App",setup(t){const e=F(!0),n=F(!0),r=F(!0),i=F(localStorage.getItem("themeColor")||"#5F95FF");Le(i,A=>{document.documentElement.style.setProperty("--el-color-primary",A),document.documentElement.style.setProperty("--el-color-primary-light-3",A),document.documentElement.style.setProperty("--el-color-primary-light-5",A),document.documentElement.style.setProperty("--el-color-primary-light-7",A),document.documentElement.style.setProperty("--el-color-primary-light-8",A),document.documentElement.style.setProperty("--el-color-primary-light-9",A)}),Jt(()=>{b(),localStorage.getItem("access_token")&&(e.value=!0)}),ur(()=>{w()});const o=()=>{localStorage.setItem("themeColor",i.value)};function a(A){console.log(":",A);const k=document.documentElement;getComputedStyle(k).getPropertyValue("--el-color-primary"),k.style.setProperty("--el-color-primary",A),i.value=A,o()}document.documentElement.style.setProperty("--el-color-primary",i.value);const s=wst(),l=async A=>{if(A!=="settings"){if(A==="logout")try{const k=await Et.post("/rest_logout/",{});localStorage.setItem("access_token",""),Et.defaults.headers.common.Authorization="",st.success(""),e.value=!0,s.push("/login")}catch(k){oj({title:"",message:""+k,type:"danger",position:"top-left"})}}},u=()=>{s.push("/solidity")},c=()=>{s.push("/dashboard")},f=()=>{s.push("/pipeline")},d=()=>{s.push("/runing")},h=()=>{s.push("/processor")},p=ih(),v=Sde(p),g=()=>{v(),Me.emit("theme_changed",{})},m=F("1"),y=(A,k)=>{console.log(A,k)},b=()=>{Me.on("show_menu",A=>{e.value=A,console.log("show_menu: ",e.value)}),Me.on("change_el_menu_item",A=>{A.indexOf("/dashboard")>=0?m.value="4":A.indexOf("/pipeline")>=0?m.value="1":A.indexOf("/runing")>=0?m.value="2":A.indexOf("/processor")>=0?m.value="3":m.value="5"})},w=()=>{Me.off("show_menu",null),Me.off("change_el_menu_item",null)},S=Bn({circleUrl:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",squareUrl:"https://cube.elemecdn.com/9/c2/f0ee8a3c7c9638a54940382568c9dpng.png",sizeList:["small","","large"]}),{circleUrl:x,squareUrl:C,sizeList:E}=zo(S);F("rgba(255, 69, 0, 0.68)");const T=F(["#5F95FF","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"]);return(A,k)=>{const M=pe("el-menu-item"),D=pe("el-tooltip"),L=pe("el-checkbox"),I=pe("el-color-picker"),R=pe("el-avatar"),V=pe("el-dropdown-item"),P=pe("el-dropdown-menu"),B=pe("el-dropdown"),j=pe("el-menu"),G=pe("router-view");return N(),Q(ft,null,[O(j,{"default-active":m.value,mode:"horizontal",style:{height:"44px"},ellipsis:!1,onSelect:y},{default:$(()=>[O(M,{index:"0"},{default:$(()=>[_(p)?(N(),Q("img",yjt)):(N(),Q("img",bjt))]),_:1}),O(D,{class:"box-item",content:""},{default:$(()=>[e.value?(N(),de(M,{key:0,index:"1",onClick:f},{default:$(()=>[...k[2]||(k[2]=[Be("",-1)])]),_:1})):ge("",!0)]),_:1}),O(D,{class:"box-item",content:""},{default:$(()=>[e.value?(N(),de(M,{key:0,index:"3",onClick:h},{default:$(()=>[...k[3]||(k[3]=[Be("",-1)])]),_:1})):ge("",!0)]),_:1}),O(D,{class:"box-item",content:""},{default:$(()=>[e.value?(N(),de(M,{key:0,index:"2",onClick:d},{default:$(()=>[...k[4]||(k[4]=[Be("",-1)])]),_:1})):ge("",!0)]),_:1}),O(D,{class:"box-item",content:""},{default:$(()=>[e.value?(N(),de(M,{key:0,index:"4",onClick:c},{default:$(()=>[...k[5]||(k[5]=[Be("",-1)])]),_:1})):ge("",!0)]),_:1}),O(D,{class:"box-item",content:"solidity"},{default:$(()=>[n.value?(N(),de(M,{key:0,index:"5",onClick:u},{default:$(()=>[...k[6]||(k[6]=[Be("",-1)])]),_:1})):ge("",!0)]),_:1}),O(M,{index:"5",style:{"margin-top":"0px"},class:"no-underline"},{default:$(()=>[O(D,{class:"box-item",content:""},{default:$(()=>[O(L,{fill:"#409eff",modelValue:r.value,"onUpdate:modelValue":k[0]||(k[0]=W=>r.value=W),style:{"margin-top":"-15px","margin-left":"-12px",float:"right"},size:"default",onChange:g},null,8,["modelValue"])]),_:1}),O(D,{class:"box-item",content:""},{default:$(()=>[O(I,{size:"small",style:{"margin-top":"20px","margin-left":"-19px",float:"right"},modelValue:i.value,"onUpdate:modelValue":k[1]||(k[1]=W=>i.value=W),"show-alpha":"",predefine:T.value,onChange:a},null,8,["modelValue","predefine"])]),_:1})]),_:1}),O(B,{trigger:"click",onCommand:l},{dropdown:$(()=>[O(P,null,{default:$(()=>[e.value?(N(),de(V,{key:0,divided:"",command:"logout"},{default:$(()=>[...k[7]||(k[7]=[Be("",-1)])]),_:1})):ge("",!0)]),_:1})]),default:$(()=>[K("div",_jt,[O(R,{size:27,src:_(x),style:{"margin-top":"7px"}},null,8,["src"])])]),_:1})]),_:1},8,["default-active"]),O(G)],64)}}}),xjt=ds(Sjt,[["__scopeId","data-v-b1563d69"]]);/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function x8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Cjt(t){if(Array.isArray(t))return t}function Ejt(t){if(Array.isArray(t))return x8(t)}function Tjt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ajt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jTe(r.key),r)}}function kjt(t,e,n){return e&&Ajt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fM(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=HU(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return a=l.done,l},e:function(l){s=!0,o=l},f:function(){try{a||n.return==null||n.return()}finally{if(s)throw o}}}}function Si(t,e,n){return(e=jTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mjt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pjt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Ojt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ijt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wle(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wle(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wle(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lL(t,e){return Cjt(t)||Pjt(t,e)||HU(t,e)||Ojt()}function zc(t){return Ejt(t)||Mjt(t)||HU(t)||Ijt()}function Rjt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jTe(t){var e=Rjt(t,"string");return typeof e=="symbol"?e:e+""}function NO(t){"@babel/helpers - typeof";return NO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NO(t)}function HU(t,e){if(t){if(typeof t=="string")return x8(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x8(t,e):void 0}}var qle=function(){},jU={},GTe={},UTe=null,WTe={mark:qle,measure:qle};try{typeof window<"u"&&(jU=window),typeof document<"u"&&(GTe=document),typeof MutationObserver<"u"&&(UTe=MutationObserver),typeof performance<"u"&&(WTe=performance)}catch{}var Ljt=jU.navigator||{},Kle=Ljt.userAgent,Yle=Kle===void 0?"":Kle,Av=jU,po=GTe,Xle=UTe,qA=WTe;Av.document;var Vh=!!po.documentElement&&!!po.head&&typeof po.addEventListener=="function"&&typeof po.createElement=="function",qTe=~Yle.indexOf("MSIE")||~Yle.indexOf("Trident/"),I$,Djt=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Njt=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Slab Press|Slab|Whiteboard)?.*/i,KTe={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"}},Bjt={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},YTe=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],cs="classic",dE="duotone",XTe="sharp",ZTe="sharp-duotone",JTe="chisel",QTe="etch",eAe="jelly",tAe="jelly-duo",nAe="jelly-fill",rAe="notdog",iAe="notdog-duo",oAe="slab",aAe="slab-press",sAe="thumbprint",lAe="whiteboard",$jt="Classic",Fjt="Duotone",Vjt="Sharp",zjt="Sharp Duotone",Hjt="Chisel",jjt="Etch",Gjt="Jelly",Ujt="Jelly Duo",Wjt="Jelly Fill",qjt="Notdog",Kjt="Notdog Duo",Yjt="Slab",Xjt="Slab Press",Zjt="Thumbprint",Jjt="Whiteboard",uAe=[cs,dE,XTe,ZTe,JTe,QTe,eAe,tAe,nAe,rAe,iAe,oAe,aAe,sAe,lAe];I$={},Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(I$,cs,$jt),dE,Fjt),XTe,Vjt),ZTe,zjt),JTe,Hjt),QTe,jjt),eAe,Gjt),tAe,Ujt),nAe,Wjt),rAe,qjt),Si(Si(Si(Si(Si(I$,iAe,Kjt),oAe,Yjt),aAe,Xjt),sAe,Zjt),lAe,Jjt);var Qjt={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"}},eGt={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"}},tGt=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),nGt={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},whiteboard:{semibold:"fawsb"}},cAe=["fak","fa-kit","fakd","fa-kit-duotone"],Zle={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},rGt=["kit"],iGt="kit",oGt="kit-duotone",aGt="Kit",sGt="Kit Duotone";Si(Si({},iGt,aGt),oGt,sGt);var lGt={kit:{"fa-kit":"fak"}},uGt={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},cGt={kit:{fak:"fa-kit"}},Jle={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},R$,KA={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},fGt=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],dGt="classic",hGt="duotone",pGt="sharp",vGt="sharp-duotone",gGt="chisel",mGt="etch",yGt="jelly",bGt="jelly-duo",_Gt="jelly-fill",wGt="notdog",SGt="notdog-duo",xGt="slab",CGt="slab-press",EGt="thumbprint",TGt="whiteboard",AGt="Classic",kGt="Duotone",MGt="Sharp",PGt="Sharp Duotone",OGt="Chisel",IGt="Etch",RGt="Jelly",LGt="Jelly Duo",DGt="Jelly Fill",NGt="Notdog",BGt="Notdog Duo",$Gt="Slab",FGt="Slab Press",VGt="Thumbprint",zGt="Whiteboard";R$={},Si(Si(Si(Si(Si(Si(Si(Si(Si(Si(R$,dGt,AGt),hGt,kGt),pGt,MGt),vGt,PGt),gGt,OGt),mGt,IGt),yGt,RGt),bGt,LGt),_Gt,DGt),wGt,NGt),Si(Si(Si(Si(Si(R$,SGt,BGt),xGt,$Gt),CGt,FGt),EGt,VGt),TGt,zGt);var HGt="kit",jGt="kit-duotone",GGt="Kit",UGt="Kit Duotone";Si(Si({},HGt,GGt),jGt,UGt);var WGt={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"}},qGt={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"]},C8={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"}},KGt=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],fAe=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr"].concat(fGt,KGt),YGt=["solid","regular","light","thin","duotone","brands","semibold"],dAe=[1,2,3,4,5,6,7,8,9,10],XGt=dAe.concat([11,12,13,14,15,16,17,18,19,20]),ZGt=["aw","fw","pull-left","pull-right"],JGt=[].concat(zc(Object.keys(qGt)),YGt,ZGt,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",KA.GROUP,KA.SWAP_OPACITY,KA.PRIMARY,KA.SECONDARY]).concat(dAe.map(function(t){return"".concat(t,"x")})).concat(XGt.map(function(t){return"w-".concat(t)})),QGt={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},Sh="___FONT_AWESOME___",E8=16,hAe="fa",pAe="svg-inline--fa",uy="data-fa-i2svg",T8="data-fa-pseudo-element",e9t="data-fa-pseudo-element-pending",GU="data-prefix",UU="data-icon",Qle="fontawesome-i2svg",t9t="async",n9t=["HTML","HEAD","STYLE","SCRIPT"],vAe=["::before","::after",":before",":after"],gAe=(function(){try{return!0}catch{return!1}})();function hE(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[cs]}})}var mAe=pn({},KTe);mAe[cs]=pn(pn(pn(pn({},{"fa-duotone":"duotone"}),KTe[cs]),Zle.kit),Zle["kit-duotone"]);var r9t=hE(mAe),A8=pn({},nGt);A8[cs]=pn(pn(pn(pn({},{duotone:"fad"}),A8[cs]),Jle.kit),Jle["kit-duotone"]);var eue=hE(A8),k8=pn({},C8);k8[cs]=pn(pn({},k8[cs]),cGt.kit);var WU=hE(k8),M8=pn({},WGt);M8[cs]=pn(pn({},M8[cs]),lGt.kit);hE(M8);var i9t=Djt,yAe="fa-layers-text",o9t=Njt,a9t=pn({},Qjt);hE(a9t);var s9t=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],L$=Bjt,l9t=[].concat(zc(rGt),zc(JGt)),yx=Av.FontAwesomeConfig||{};function u9t(t){var e=po.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function c9t(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(po&&typeof po.querySelector=="function"){var f9t=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];f9t.forEach(function(t){var e=lL(t,2),n=e[0],r=e[1],i=c9t(u9t(n));i!=null&&(yx[r]=i)})}var bAe={styleDefault:"solid",familyDefault:cs,cssPrefix:hAe,replacementClass:pAe,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};yx.familyPrefix&&(yx.cssPrefix=yx.familyPrefix);var Z1=pn(pn({},bAe),yx);Z1.autoReplaceSvg||(Z1.observeMutations=!1);var yr={};Object.keys(bAe).forEach(function(t){Object.defineProperty(yr,t,{enumerable:!0,set:function(n){Z1[t]=n,bx.forEach(function(r){return r(yr)})},get:function(){return Z1[t]}})});Object.defineProperty(yr,"familyPrefix",{enumerable:!0,set:function(e){Z1.cssPrefix=e,bx.forEach(function(n){return n(yr)})},get:function(){return Z1.cssPrefix}});Av.FontAwesomeConfig=yr;var bx=[];function d9t(t){return bx.push(t),function(){bx.splice(bx.indexOf(t),1)}}var P0=E8,$f={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function h9t(t){if(!(!t||!Vh)){var e=po.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=po.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}return po.head.insertBefore(e,r),t}}var p9t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function tue(){for(var t=12,e="";t-- >0;)e+=p9t[Math.random()*62|0];return e}function H_(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function qU(t){return t.classList?H_(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function _Ae(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function v9t(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(_Ae(t[n]),'" ')},"").trim()}function uL(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function KU(t){return t.size!==$f.size||t.x!==$f.x||t.y!==$f.y||t.rotate!==$f.rotate||t.flipX||t.flipY}function g9t(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(o," ").concat(a," ").concat(s)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}function m9t(t){var e=t.transform,n=t.width,r=n===void 0?E8:n,i=t.height,o=i===void 0?E8:i,a="";return qTe?a+="translate(".concat(e.x/P0-r/2,"em, ").concat(e.y/P0-o/2,"em) "):a+="translate(calc(-50% + ".concat(e.x/P0,"em), calc(-50% + ").concat(e.y/P0,"em)) "),a+="scale(".concat(e.size/P0*(e.flipX?-1:1),", ").concat(e.size/P0*(e.flipY?-1:1),") "),a+="rotate(".concat(e.rotate,"deg) "),a}var y9t=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function wAe(){var t=hAe,e=pAe,n=yr.cssPrefix,r=yr.replacementClass,i=y9t;if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),s=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var nue=!1;function D$(){yr.autoAddCss&&!nue&&(h9t(wAe()),nue=!0)}var b9t={mixout:function(){return{dom:{css:wAe,insertCss:D$}}},hooks:function(){return{beforeDOMElementCreation:function(){D$()},beforeI2svg:function(){D$()}}}},xh=Av||{};xh[Sh]||(xh[Sh]={});xh[Sh].styles||(xh[Sh].styles={});xh[Sh].hooks||(xh[Sh].hooks={});xh[Sh].shims||(xh[Sh].shims=[]);var yc=xh[Sh],SAe=[],xAe=function(){po.removeEventListener("DOMContentLoaded",xAe),BO=1,SAe.map(function(e){return e()})},BO=!1;Vh&&(BO=(po.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(po.readyState),BO||po.addEventListener("DOMContentLoaded",xAe));function _9t(t){Vh&&(BO?setTimeout(t,0):SAe.push(t))}function pE(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,o=i===void 0?[]:i;return typeof t=="string"?_Ae(t):"<".concat(e," ").concat(v9t(r),">").concat(o.map(pE).join(""),"</").concat(e,">")}function rue(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var N$=function(e,n,r,i){var o=Object.keys(e),a=o.length,s=n,l,u,c;for(r===void 0?(l=1,c=e[o[0]]):(l=0,c=r);l<a;l++)u=o[l],c=s(c,e[u],u,e);return c};function CAe(t){return zc(t).length!==1?null:t.codePointAt(0).toString(16)}function iue(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function P8(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,o=iue(e);typeof yc.hooks.addPack=="function"&&!i?yc.hooks.addPack(t,iue(e)):yc.styles[t]=pn(pn({},yc.styles[t]||{}),o),t==="fas"&&P8("fa",e)}var JC=yc.styles,w9t=yc.shims,EAe=Object.keys(WU),S9t=EAe.reduce(function(t,e){return t[e]=Object.keys(WU[e]),t},{}),YU=null,TAe={},AAe={},kAe={},MAe={},PAe={};function x9t(t){return~l9t.indexOf(t)}function C9t(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!x9t(i)?i:null}var OAe=function(){var e=function(o){return N$(JC,function(a,s,l){return a[l]=N$(s,o,{}),a},{})};TAe=e(function(i,o,a){if(o[3]&&(i[o[3]]=a),o[2]){var s=o[2].filter(function(l){return typeof l=="number"});s.forEach(function(l){i[l.toString(16)]=a})}return i}),AAe=e(function(i,o,a){if(i[a]=a,o[2]){var s=o[2].filter(function(l){return typeof l=="string"});s.forEach(function(l){i[l]=a})}return i}),PAe=e(function(i,o,a){var s=o[2];return i[a]=a,s.forEach(function(l){i[l]=a}),i});var n="far"in JC||yr.autoFetchSvg,r=N$(w9t,function(i,o){var a=o[0],s=o[1],l=o[2];return s==="far"&&!n&&(s="fas"),typeof a=="string"&&(i.names[a]={prefix:s,iconName:l}),typeof a=="number"&&(i.unicodes[a.toString(16)]={prefix:s,iconName:l}),i},{names:{},unicodes:{}});kAe=r.names,MAe=r.unicodes,YU=cL(yr.styleDefault,{family:yr.familyDefault})};d9t(function(t){YU=cL(t.styleDefault,{family:yr.familyDefault})});OAe();function XU(t,e){return(TAe[t]||{})[e]}function E9t(t,e){return(AAe[t]||{})[e]}function fm(t,e){return(PAe[t]||{})[e]}function IAe(t){return kAe[t]||{prefix:null,iconName:null}}function T9t(t){var e=MAe[t],n=XU("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function kv(){return YU}var RAe=function(){return{prefix:null,iconName:null,rest:[]}};function A9t(t){var e=cs,n=EAe.reduce(function(r,i){return r[i]="".concat(yr.cssPrefix,"-").concat(i),r},{});return uAe.forEach(function(r){(t.includes(n[r])||t.some(function(i){return S9t[r].includes(i)}))&&(e=r)}),e}function cL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?cs:n,i=r9t[r][t];if(r===dE&&!t)return"fad";var o=eue[r][t]||eue[r][i],a=t in yc.styles?t:null,s=o||a||null;return s}function k9t(t){var e=[],n=null;return t.forEach(function(r){var i=C9t(yr.cssPrefix,r);i?n=i:r&&e.push(r)}),{iconName:n,rest:e}}function oue(t){return t.sort().filter(function(e,n,r){return r.indexOf(e)===n})}var aue=fAe.concat(cAe);function fL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.skipLookups,r=n===void 0?!1:n,i=null,o=oue(t.filter(function(h){return aue.includes(h)})),a=oue(t.filter(function(h){return!aue.includes(h)})),s=o.filter(function(h){return i=h,!YTe.includes(h)}),l=lL(s,1),u=l[0],c=u===void 0?null:u,f=A9t(o),d=pn(pn({},k9t(a)),{},{prefix:cL(c,{family:f})});return pn(pn(pn({},d),I9t({values:t,family:f,styles:JC,config:yr,canonical:d,givenPrefix:i})),M9t(r,i,d))}function M9t(t,e,n){var r=n.prefix,i=n.iconName;if(t||!r||!i)return{prefix:r,iconName:i};var o=e==="fa"?IAe(i):{},a=fm(r,i);return i=o.iconName||a||i,r=o.prefix||r,r==="far"&&!JC.far&&JC.fas&&!yr.autoFetchSvg&&(r="fas"),{prefix:r,iconName:i}}var P9t=uAe.filter(function(t){return t!==cs||t!==dE}),O9t=Object.keys(C8).filter(function(t){return t!==cs}).map(function(t){return Object.keys(C8[t])}).flat();function I9t(t){var e=t.values,n=t.family,r=t.canonical,i=t.givenPrefix,o=i===void 0?"":i,a=t.styles,s=a===void 0?{}:a,l=t.config,u=l===void 0?{}:l,c=n===dE,f=e.includes("fa-duotone")||e.includes("fad"),d=u.familyDefault==="duotone",h=r.prefix==="fad"||r.prefix==="fa-duotone";if(!c&&(f||d||h)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&P9t.includes(n)){var p=Object.keys(s).find(function(g){return O9t.includes(g)});if(p||u.autoFetchSvg){var v=tGt.get(n).defaultShortPrefixId;r.prefix=v,r.iconName=fm(r.prefix,r.iconName)||r.iconName}}return(r.prefix==="fa"||o==="fa")&&(r.prefix=kv()||"fas"),r}var R9t=(function(){function t(){Tjt(this,t),this.definitions={}}return kjt(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(s){n.definitions[s]=pn(pn({},n.definitions[s]||{}),a[s]),P8(s,a[s]);var l=WU[cs][s];l&&P8(l,a[s]),OAe()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(o){var a=i[o],s=a.prefix,l=a.iconName,u=a.icon,c=u[2];n[s]||(n[s]={}),c.length>0&&c.forEach(function(f){typeof f=="string"&&(n[s][f]=u)}),n[s][l]=u}),n}}])})(),sue=[],ob={},Db={},L9t=Object.keys(Db);function D9t(t,e){var n=e.mixoutsTo;return sue=t,ob={},Object.keys(Db).forEach(function(r){L9t.indexOf(r)===-1&&delete Db[r]}),sue.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(a){typeof i[a]=="function"&&(n[a]=i[a]),NO(i[a])==="object"&&Object.keys(i[a]).forEach(function(s){n[a]||(n[a]={}),n[a][s]=i[a][s]})}),r.hooks){var o=r.hooks();Object.keys(o).forEach(function(a){ob[a]||(ob[a]=[]),ob[a].push(o[a])})}r.provides&&r.provides(Db)}),n}function O8(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=ob[t]||[];return o.forEach(function(a){e=a.apply(null,[e].concat(r))}),e}function cy(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=ob[t]||[];i.forEach(function(o){o.apply(null,n)})}function Mv(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Db[t]?Db[t].apply(null,e):void 0}function I8(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||kv();if(e)return e=fm(n,e)||e,rue(LAe.definitions,n,e)||rue(yc.styles,n,e)}var LAe=new R9t,N9t=function(){yr.autoReplaceSvg=!1,yr.observeMutations=!1,cy("noAuto")},B9t={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Vh?(cy("beforeI2svg",e),Mv("pseudoElements2svg",e),Mv("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;yr.autoReplaceSvg===!1&&(yr.autoReplaceSvg=!0),yr.observeMutations=!0,_9t(function(){F9t({autoReplaceSvgRoot:n}),cy("watch",e)})}},$9t={icon:function(e){if(e===null)return null;if(NO(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:fm(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=cL(e[0]);return{prefix:r,iconName:fm(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(yr.cssPrefix,"-"))>-1||e.match(i9t))){var i=fL(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||kv(),iconName:fm(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var o=kv();return{prefix:o,iconName:fm(o,e)||e}}}},ru={noAuto:N9t,config:yr,dom:B9t,parse:$9t,library:LAe,findIconDefinition:I8,toHtml:pE},F9t=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?po:n;(Object.keys(yc.styles).length>0||yr.autoFetchSvg)&&Vh&&yr.autoReplaceSvg&&ru.dom.i2svg({node:r})};function dL(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return pE(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Vh){var r=po.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function V9t(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,a=t.transform;if(KU(a)&&n.found&&!r.found){var s=n.width,l=n.height,u={x:s/l/2,y:.5};i.style=uL(pn(pn({},o),{},{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function z9t(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,o=t.symbol,a=o===!0?"".concat(e,"-").concat(yr.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:pn(pn({},i),{},{id:a}),children:r}]}]}function H9t(t){var e=["aria-label","aria-labelledby","title","role"];return e.some(function(n){return n in t})}function ZU(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,a=t.transform,s=t.symbol,l=t.maskId,u=t.extra,c=t.watchable,f=c===void 0?!1:c,d=r.found?r:n,h=d.width,p=d.height,v=[yr.replacementClass,o?"".concat(yr.cssPrefix,"-").concat(o):""].filter(function(S){return u.classes.indexOf(S)===-1}).filter(function(S){return S!==""||!!S}).concat(u.classes).join(" "),g={children:[],attributes:pn(pn({},u.attributes),{},{"data-prefix":i,"data-icon":o,class:v,role:u.attributes.role||"img",viewBox:"0 0 ".concat(h," ").concat(p)})};!H9t(u.attributes)&&!u.attributes["aria-hidden"]&&(g.attributes["aria-hidden"]="true"),f&&(g.attributes[uy]="");var m=pn(pn({},g),{},{prefix:i,iconName:o,main:n,mask:r,maskId:l,transform:a,symbol:s,styles:pn({},u.styles)}),y=r.found&&n.found?Mv("generateAbstractMask",m)||{children:[],attributes:{}}:Mv("generateAbstractIcon",m)||{children:[],attributes:{}},b=y.children,w=y.attributes;return m.children=b,m.attributes=w,s?z9t(m):V9t(m)}function lue(t){var e=t.content,n=t.width,r=t.height,i=t.transform,o=t.extra,a=t.watchable,s=a===void 0?!1:a,l=pn(pn({},o.attributes),{},{class:o.classes.join(" ")});s&&(l[uy]="");var u=pn({},o.styles);KU(i)&&(u.transform=m9t({transform:i,width:n,height:r}),u["-webkit-transform"]=u.transform);var c=uL(u);c.length>0&&(l.style=c);var f=[];return f.push({tag:"span",attributes:l,children:[e]}),f}function j9t(t){var e=t.content,n=t.extra,r=pn(pn({},n.attributes),{},{class:n.classes.join(" ")}),i=uL(n.styles);i.length>0&&(r.style=i);var o=[];return o.push({tag:"span",attributes:r,children:[e]}),o}var B$=yc.styles;function R8(t){var e=t[0],n=t[1],r=t.slice(4),i=lL(r,1),o=i[0],a=null;return Array.isArray(o)?a={tag:"g",attributes:{class:"".concat(yr.cssPrefix,"-").concat(L$.GROUP)},children:[{tag:"path",attributes:{class:"".concat(yr.cssPrefix,"-").concat(L$.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(yr.cssPrefix,"-").concat(L$.PRIMARY),fill:"currentColor",d:o[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:e,height:n,icon:a}}var G9t={found:!1,width:512,height:512};function U9t(t,e){!gAe&&!yr.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function L8(t,e){var n=e;return e==="fa"&&yr.styleDefault!==null&&(e=kv()),new Promise(function(r,i){if(n==="fa"){var o=IAe(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&B$[e]&&B$[e][t]){var a=B$[e][t];return r(R8(a))}U9t(t,e),r(pn(pn({},G9t),{},{icon:yr.showMissingIcons&&t?Mv("missingIconAbstract")||{}:{}}))})}var uue=function(){},D8=yr.measurePerformance&&qA&&qA.mark&&qA.measure?qA:{mark:uue,measure:uue},TS='FA "7.0.1"',W9t=function(e){return D8.mark("".concat(TS," ").concat(e," begins")),function(){return DAe(e)}},DAe=function(e){D8.mark("".concat(TS," ").concat(e," ends")),D8.measure("".concat(TS," ").concat(e),"".concat(TS," ").concat(e," begins"),"".concat(TS," ").concat(e," ends"))},JU={begin:W9t,end:DAe},dM=function(){};function cue(t){var e=t.getAttribute?t.getAttribute(uy):null;return typeof e=="string"}function q9t(t){var e=t.getAttribute?t.getAttribute(GU):null,n=t.getAttribute?t.getAttribute(UU):null;return e&&n}function K9t(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(yr.replacementClass)}function Y9t(){if(yr.autoReplaceSvg===!0)return hM.replace;var t=hM[yr.autoReplaceSvg];return t||hM.replace}function X9t(t){return po.createElementNS("http://www.w3.org/2000/svg",t)}function Z9t(t){return po.createElement(t)}function NAe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?X9t:Z9t:n;if(typeof t=="string")return po.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(a){i.setAttribute(a,t.attributes[a])});var o=t.children||[];return o.forEach(function(a){i.appendChild(NAe(a,{ceFn:r}))}),i}function J9t(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var hM={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(NAe(i),n)}),n.getAttribute(uy)===null&&yr.keepOriginalSource){var r=po.createComment(J9t(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~qU(n).indexOf(yr.replacementClass))return hM.replace(e);var i=new RegExp("".concat(yr.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var o=r[0].attributes.class.split(" ").reduce(function(s,l){return l===yr.replacementClass||l.match(i)?s.toSvg.push(l):s.toNode.push(l),s},{toNode:[],toSvg:[]});r[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",o.toNode.join(" "))}var a=r.map(function(s){return pE(s)}).join(`
`);n.setAttribute(uy,""),n.innerHTML=a}};function fue(t){t()}function BAe(t,e){var n=typeof e=="function"?e:dM;if(t.length===0)n();else{var r=fue;yr.mutateApproach===t9t&&(r=Av.requestAnimationFrame||fue),r(function(){var i=Y9t(),o=JU.begin("mutate");t.map(i),o(),n()})}}var QU=!1;function $Ae(){QU=!0}function N8(){QU=!1}var $O=null;function due(t){if(Xle&&yr.observeMutations){var e=t.treeCallback,n=e===void 0?dM:e,r=t.nodeCallback,i=r===void 0?dM:r,o=t.pseudoElementsCallback,a=o===void 0?dM:o,s=t.observeMutationsRoot,l=s===void 0?po:s;$O=new Xle(function(u){if(!QU){var c=kv();H_(u).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!cue(f.addedNodes[0])&&(yr.searchPseudoElements&&a(f.target),n(f.target)),f.type==="attributes"&&f.target.parentNode&&yr.searchPseudoElements&&a([f.target],!0),f.type==="attributes"&&cue(f.target)&&~s9t.indexOf(f.attributeName))if(f.attributeName==="class"&&q9t(f.target)){var d=fL(qU(f.target)),h=d.prefix,p=d.iconName;f.target.setAttribute(GU,h||c),p&&f.target.setAttribute(UU,p)}else K9t(f.target)&&i(f.target)})}}),Vh&&$O.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Q9t(){$O&&$O.disconnect()}function eUt(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var o=i.split(":"),a=o[0],s=o.slice(1);return a&&s.length>0&&(r[a]=s.join(":").trim()),r},{})),n}function tUt(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=fL(qU(t));return i.prefix||(i.prefix=kv()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=E9t(i.prefix,t.innerText)||XU(i.prefix,CAe(t.innerText))),!i.iconName&&yr.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function nUt(t){var e=H_(t.attributes).reduce(function(n,r){return n.name!=="class"&&n.name!=="style"&&(n[r.name]=r.value),n},{});return e}function rUt(){return{iconName:null,prefix:null,transform:$f,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function hue(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=tUt(t),r=n.iconName,i=n.prefix,o=n.rest,a=nUt(t),s=O8("parseNodeAttributes",{},t),l=e.styleParser?eUt(t):[];return pn({iconName:r,prefix:i,transform:$f,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:l,attributes:a}},s)}var iUt=yc.styles;function FAe(t){var e=yr.autoReplaceSvg==="nest"?hue(t,{styleParser:!1}):hue(t);return~e.extra.classes.indexOf(yAe)?Mv("generateLayersText",t,e):Mv("generateSvgReplacementMutation",t,e)}function oUt(){return[].concat(zc(cAe),zc(fAe))}function pue(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Vh)return Promise.resolve();var n=po.documentElement.classList,r=function(f){return n.add("".concat(Qle,"-").concat(f))},i=function(f){return n.remove("".concat(Qle,"-").concat(f))},o=yr.autoFetchSvg?oUt():YTe.concat(Object.keys(iUt));o.includes("fa")||o.push("fa");var a=[".".concat(yAe,":not([").concat(uy,"])")].concat(o.map(function(c){return".".concat(c,":not([").concat(uy,"])")})).join(", ");if(a.length===0)return Promise.resolve();var s=[];try{s=H_(t.querySelectorAll(a))}catch{}if(s.length>0)r("pending"),i("complete");else return Promise.resolve();var l=JU.begin("onTree"),u=s.reduce(function(c,f){try{var d=FAe(f);d&&c.push(d)}catch(h){gAe||h.name==="MissingIcon"&&console.error(h)}return c},[]);return new Promise(function(c,f){Promise.all(u).then(function(d){BAe(d,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),c()})}).catch(function(d){l(),f(d)})})}function aUt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;FAe(t).then(function(n){n&&BAe([n],e)})}function sUt(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:I8(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:I8(i||{})),t(r,pn(pn({},n),{},{mask:i}))}}var lUt=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?$f:r,o=n.symbol,a=o===void 0?!1:o,s=n.mask,l=s===void 0?null:s,u=n.maskId,c=u===void 0?null:u,f=n.classes,d=f===void 0?[]:f,h=n.attributes,p=h===void 0?{}:h,v=n.styles,g=v===void 0?{}:v;if(e){var m=e.prefix,y=e.iconName,b=e.icon;return dL(pn({type:"icon"},e),function(){return cy("beforeDOMElementCreation",{iconDefinition:e,params:n}),ZU({icons:{main:R8(b),mask:l?R8(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:m,iconName:y,transform:pn(pn({},$f),i),symbol:a,maskId:c,extra:{attributes:p,styles:g,classes:d}})})}},uUt={mixout:function(){return{icon:sUt(lUt)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=pue,n.nodeCallback=aUt,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?po:r,o=n.callback,a=o===void 0?function(){}:o;return pue(i,a)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,o=r.prefix,a=r.transform,s=r.symbol,l=r.mask,u=r.maskId,c=r.extra;return new Promise(function(f,d){Promise.all([L8(i,o),l.iconName?L8(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(h){var p=lL(h,2),v=p[0],g=p[1];f([n,ZU({icons:{main:v,mask:g},prefix:o,iconName:i,transform:a,symbol:s,maskId:u,extra:c,watchable:!0})])}).catch(d)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,o=n.main,a=n.transform,s=n.styles,l=uL(s);l.length>0&&(i.style=l);var u;return KU(a)&&(u=Mv("generateAbstractTransformGrouping",{main:o,transform:a,containerWidth:o.width,iconWidth:o.width})),r.push(u||o.icon),{children:r,attributes:i}}}},cUt={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,o=i===void 0?[]:i;return dL({type:"layer"},function(){cy("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(s){Array.isArray(s)?s.map(function(l){a=a.concat(l.abstract)}):a=a.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(yr.cssPrefix,"-layers")].concat(zc(o)).join(" ")},children:a}]})}}}},fUt={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r.title;var i=r.classes,o=i===void 0?[]:i,a=r.attributes,s=a===void 0?{}:a,l=r.styles,u=l===void 0?{}:l;return dL({type:"counter",content:n},function(){return cy("beforeDOMElementCreation",{content:n,params:r}),j9t({content:n.toString(),extra:{attributes:s,styles:u,classes:["".concat(yr.cssPrefix,"-layers-counter")].concat(zc(o))}})})}}}},dUt={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,o=i===void 0?$f:i,a=r.classes,s=a===void 0?[]:a,l=r.attributes,u=l===void 0?{}:l,c=r.styles,f=c===void 0?{}:c;return dL({type:"text",content:n},function(){return cy("beforeDOMElementCreation",{content:n,params:r}),lue({content:n,transform:pn(pn({},$f),o),extra:{attributes:u,styles:f,classes:["".concat(yr.cssPrefix,"-layers-text")].concat(zc(s))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.transform,o=r.extra,a=null,s=null;if(qTe){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/l,s=u.height/l}return Promise.resolve([n,lue({content:n.innerHTML,width:a,height:s,transform:i,extra:o,watchable:!0})])}}},VAe=new RegExp('"',"ug"),vue=[1105920,1112319],gue=pn(pn(pn(pn({},{FontAwesome:{normal:"fas",400:"fas"}}),eGt),QGt),uGt),B8=Object.keys(gue).reduce(function(t,e){return t[e.toLowerCase()]=gue[e],t},{}),hUt=Object.keys(B8).reduce(function(t,e){var n=B8[e];return t[e]=n[900]||zc(Object.entries(n))[0][1],t},{});function pUt(t){var e=t.replace(VAe,"");return CAe(zc(e)[0]||"")}function vUt(t){var e=t.getPropertyValue("font-feature-settings").includes("ss01"),n=t.getPropertyValue("content"),r=n.replace(VAe,""),i=r.codePointAt(0),o=i>=vue[0]&&i<=vue[1],a=r.length===2?r[0]===r[1]:!1;return o||a||e}function gUt(t,e){var n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(B8[n]||{})[i]||hUt[n]}function mue(t,e){var n="".concat(e9t).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var o=H_(t.children),a=o.filter(function(x){return x.getAttribute(T8)===e})[0],s=Av.getComputedStyle(t,e),l=s.getPropertyValue("font-family"),u=l.match(o9t),c=s.getPropertyValue("font-weight"),f=s.getPropertyValue("content");if(a&&!u)return t.removeChild(a),r();if(u&&f!=="none"&&f!==""){var d=s.getPropertyValue("content"),h=gUt(l,c),p=pUt(d),v=u[0].startsWith("FontAwesome"),g=vUt(s),m=XU(h,p),y=m;if(v){var b=T9t(p);b.iconName&&b.prefix&&(m=b.iconName,h=b.prefix)}if(m&&!g&&(!a||a.getAttribute(GU)!==h||a.getAttribute(UU)!==y)){t.setAttribute(n,y),a&&t.removeChild(a);var w=rUt(),S=w.extra;S.attributes[T8]=e,L8(m,h).then(function(x){var C=ZU(pn(pn({},w),{},{icons:{main:x,mask:RAe()},prefix:h,iconName:y,extra:S,watchable:!0})),E=po.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(E,t.firstChild):t.appendChild(E),E.outerHTML=C.map(function(T){return pE(T)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function mUt(t){return Promise.all([mue(t,"::before"),mue(t,"::after")])}function yUt(t){return t.parentNode!==document.head&&!~n9t.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(T8)&&(!t.parentNode||t.parentNode.tagName!=="svg")}var bUt=function(e){return!!e&&vAe.some(function(n){return e.includes(n)})},_Ut=function(e){if(!e)return[];var n=new Set,r=e.split(/,(?![^()]*\))/).map(function(l){return l.trim()});r=r.flatMap(function(l){return l.includes("(")?l:l.split(",").map(function(u){return u.trim()})});var i=fM(r),o;try{for(i.s();!(o=i.n()).done;){var a=o.value;if(bUt(a)){var s=vAe.reduce(function(l,u){return l.replace(u,"")},a);s!==""&&s!=="*"&&n.add(s)}}}catch(l){i.e(l)}finally{i.f()}return n};function yue(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Vh){var n;if(e)n=t;else if(yr.searchPseudoElementsFullScan)n=t.querySelectorAll("*");else{var r=new Set,i=fM(document.styleSheets),o;try{for(i.s();!(o=i.n()).done;){var a=o.value;try{var s=fM(a.cssRules),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,c=_Ut(u.selectorText),f=fM(c),d;try{for(f.s();!(d=f.n()).done;){var h=d.value;r.add(h)}}catch(v){f.e(v)}finally{f.f()}}}catch(v){s.e(v)}finally{s.f()}}catch(v){yr.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(a.href," (").concat(v.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(v){i.e(v)}finally{i.f()}if(!r.size)return;var p=Array.from(r).join(", ");try{n=t.querySelectorAll(p)}catch{}}return new Promise(function(v,g){var m=H_(n).filter(yUt).map(mUt),y=JU.begin("searchPseudoElements");$Ae(),Promise.all(m).then(function(){y(),N8(),v()}).catch(function(){y(),N8(),g()})})}}var wUt={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=yue,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?po:r;yr.searchPseudoElements&&yue(i)}}},bue=!1,SUt={mixout:function(){return{dom:{unwatch:function(){$Ae(),bue=!0}}}},hooks:function(){return{bootstrap:function(){due(O8("mutationObserverCallbacks",{}))},noAuto:function(){Q9t()},watch:function(n){var r=n.observeMutationsRoot;bue?N8():due(O8("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},_ue=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var o=i.toLowerCase().split("-"),a=o[0],s=o.slice(1).join("-");if(a&&s==="h")return r.flipX=!0,r;if(a&&s==="v")return r.flipY=!0,r;if(s=parseFloat(s),isNaN(s))return r;switch(a){case"grow":r.size=r.size+s;break;case"shrink":r.size=r.size-s;break;case"left":r.x=r.x-s;break;case"right":r.x=r.x+s;break;case"up":r.y=r.y-s;break;case"down":r.y=r.y+s;break;case"rotate":r.rotate=r.rotate+s;break}return r},n)},xUt={mixout:function(){return{parse:{transform:function(n){return _ue(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=_ue(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.containerWidth,a=n.iconWidth,s={transform:"translate(".concat(o/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),u="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),c="rotate(".concat(i.rotate," 0 0)"),f={transform:"".concat(l," ").concat(u," ").concat(c)},d={transform:"translate(".concat(a/2*-1," -256)")},h={outer:s,inner:f,path:d};return{tag:"g",attributes:pn({},h.outer),children:[{tag:"g",attributes:pn({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:pn(pn({},r.icon.attributes),h.path)}]}]}}}},$$={x:0,y:0,width:"100%",height:"100%"};function wue(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function CUt(t){return t.tag==="g"?t.children:[t]}var EUt={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),o=i?fL(i.split(" ").map(function(a){return a.trim()})):RAe();return o.prefix||(o.prefix=kv()),n.mask=o,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,o=n.main,a=n.mask,s=n.maskId,l=n.transform,u=o.width,c=o.icon,f=a.width,d=a.icon,h=g9t({transform:l,containerWidth:f,iconWidth:u}),p={tag:"rect",attributes:pn(pn({},$$),{},{fill:"white"})},v=c.children?{children:c.children.map(wue)}:{},g={tag:"g",attributes:pn({},h.inner),children:[wue(pn({tag:c.tag,attributes:pn(pn({},c.attributes),h.path)},v))]},m={tag:"g",attributes:pn({},h.outer),children:[g]},y="mask-".concat(s||tue()),b="clip-".concat(s||tue()),w={tag:"mask",attributes:pn(pn({},$$),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,m]},S={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:CUt(d)},w]};return r.push(S,{tag:"rect",attributes:pn({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(y,")")},$$)}),{children:r,attributes:i}}}},TUt={provides:function(e){var n=!1;Av.matchMedia&&(n=Av.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:pn(pn({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=pn(pn({},o),{},{attributeName:"opacity"}),s={tag:"circle",attributes:pn(pn({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||s.children.push({tag:"animate",attributes:pn(pn({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:pn(pn({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(s),r.push({tag:"path",attributes:pn(pn({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:pn(pn({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:pn(pn({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:pn(pn({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},AUt={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),o=i===null?!1:i===""?!0:i;return n.symbol=o,n}}}},kUt=[b9t,uUt,cUt,fUt,dUt,wUt,SUt,xUt,EUt,TUt,AUt];D9t(kUt,{mixoutsTo:ru});ru.noAuto;ru.config;var MUt=ru.library;ru.dom;var $8=ru.parse;ru.findIconDefinition;ru.toHtml;var PUt=ru.icon;ru.layer;ru.text;ru.counter;function ys(t,e,n){return(e=LUt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sue(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sue(Object(n),!0).forEach(function(r){ys(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sue(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OUt(t,e){if(t==null)return{};var n,r,i=IUt(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function IUt(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function RUt(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LUt(t){var e=RUt(t,"string");return typeof e=="symbol"?e:e+""}function FO(t){"@babel/helpers - typeof";return FO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FO(t)}function F$(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?ys({},t,e):{}}function DUt(t){var e,n=(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip":t.flip===!0,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both"},ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(e,"fa-".concat(t.size),t.size!==null),"fa-rotate-".concat(t.rotation),t.rotation!==null),"fa-rotate-by",t.rotateBy),"fa-pull-".concat(t.pull),t.pull!==null),"fa-swap-opacity",t.swapOpacity),"fa-bounce",t.bounce),"fa-shake",t.shake),"fa-beat",t.beat),"fa-fade",t.fade),"fa-beat-fade",t.beatFade),ys(ys(ys(ys(e,"fa-flash",t.flash),"fa-spin-pulse",t.spinPulse),"fa-spin-reverse",t.spinReverse),"fa-width-auto",t.widthAuto));return Object.keys(n).map(function(r){return n[r]?r:null}).filter(function(r){return r})}var NUt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zAe={exports:{}};(function(t){(function(e){var n=function(m,y,b){if(!u(y)||f(y)||d(y)||h(y)||l(y))return y;var w,S=0,x=0;if(c(y))for(w=[],x=y.length;S<x;S++)w.push(n(m,y[S],b));else{w={};for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&(w[m(C,b)]=n(m,y[C],b))}return w},r=function(m,y){y=y||{};var b=y.separator||"_",w=y.split||/(?=[A-Z])/;return m.split(w).join(b)},i=function(m){return p(m)?m:(m=m.replace(/[\-_\s]+(.)?/g,function(y,b){return b?b.toUpperCase():""}),m.substr(0,1).toLowerCase()+m.substr(1))},o=function(m){var y=i(m);return y.substr(0,1).toUpperCase()+y.substr(1)},a=function(m,y){return r(m,y).toLowerCase()},s=Object.prototype.toString,l=function(m){return typeof m=="function"},u=function(m){return m===Object(m)},c=function(m){return s.call(m)=="[object Array]"},f=function(m){return s.call(m)=="[object Date]"},d=function(m){return s.call(m)=="[object RegExp]"},h=function(m){return s.call(m)=="[object Boolean]"},p=function(m){return m=m-0,m===m},v=function(m,y){var b=y&&"process"in y?y.process:y;return typeof b!="function"?m:function(w,S){return b(w,m,S)}},g={camelize:i,decamelize:a,pascalize:o,depascalize:a,camelizeKeys:function(m,y){return n(v(i,y),m)},decamelizeKeys:function(m,y){return n(v(a,y),m,y)},pascalizeKeys:function(m,y){return n(v(o,y),m)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=g:e.humps=g})(NUt)})(zAe);var BUt=zAe.exports,$Ut=["class","style"];function FUt(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=BUt.camelize(n.slice(0,r)),o=n.slice(r+1).trim();return e[i]=o,e},{})}function VUt(t){return t.split(/\s+/).reduce(function(e,n){return e[n]=!0,e},{})}function HAe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(l){return HAe(l)}),i=Object.keys(t.attributes||{}).reduce(function(l,u){var c=t.attributes[u];switch(u){case"class":l.class=VUt(c);break;case"style":l.style=FUt(c);break;default:l.attrs[u]=c}return l},{attrs:{},class:{},style:{}});n.class;var o=n.style,a=o===void 0?{}:o,s=OUt(n,$Ut);return Rt(t.tag,Fd(Fd(Fd({},e),{},{class:i.class,style:Fd(Fd({},i.style),a)},i.attrs),s),r)}var jAe=!1;try{jAe=!0}catch{}function zUt(){if(!jAe&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function xue(t){if(t&&FO(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if($8.icon)return $8.icon(t);if(t===null)return null;if(FO(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}var HUt=ue({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},maskId:{type:String,default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(Number.parseInt(e,10))>-1}},rotateBy:{type:Boolean,default:!1},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},titleId:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1},widthAuto:{type:Boolean,default:!1}},setup:function(e,n){var r=n.attrs,i=z(function(){return xue(e.icon)}),o=z(function(){return F$("classes",DUt(e))}),a=z(function(){return F$("transform",typeof e.transform=="string"?$8.transform(e.transform):e.transform)}),s=z(function(){return F$("mask",xue(e.mask))}),l=z(function(){var c=Fd(Fd(Fd(Fd({},o.value),a.value),s.value),{},{symbol:e.symbol,maskId:e.maskId});return c.title=e.title,c.titleId=e.titleId,PUt(i.value,c)});Le(l,function(c){if(!c)return zUt("Could not find one or more icon(s)",i.value,s.value)},{immediate:!0});var u=z(function(){return l.value?HAe(l.value.abstract[0],{},r):null});return function(){return u.value}}});/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var jUt={prefix:"fas",iconName:"house",icon:[512,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M277.8 8.6c-12.3-11.4-31.3-11.4-43.5 0l-224 208c-9.6 9-12.8 22.9-8 35.1S18.8 272 32 272l16 0 0 176c0 35.3 28.7 64 64 64l288 0c35.3 0 64-28.7 64-64l0-176 16 0c13.2 0 25-8.1 29.8-20.3s1.6-26.2-8-35.1l-224-208zM240 320l32 0c26.5 0 48 21.5 48 48l0 96-128 0 0-96c0-26.5 21.5-48 48-48z"]},GUt=jUt,UUt={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144,62470,"user-alt","user-large"],"f007","M224 248a120 120 0 1 0 0-240 120 120 0 1 0 0 240zm-29.7 56C95.8 304 16 383.8 16 482.3 16 498.7 29.3 512 45.7 512l356.6 0c16.4 0 29.7-13.3 29.7-29.7 0-98.5-79.8-178.3-178.3-178.3l-59.4 0z"]},WUt={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM224 160a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm-8 64l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]};/*!
 * Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var qUt={prefix:"fab",iconName:"github",icon:[512,512,[],"f09b","M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM252.8 8c-138.7 0-244.8 105.3-244.8 244 0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1 100-33.2 167.8-128.1 167.8-239 0-138.7-112.5-244-251.2-244zM105.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},KUt={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.4 151.7c.3 4.5 .3 9.1 .3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103l0-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53 51.7 63.7 129.3 105.3 216.4 109.8-1.6-7.8-2.6-15.9-2.6-24 0-57.8 46.8-104.9 104.9-104.9 30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3z"]};/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const YUt=Symbol();var Cue;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Cue||(Cue={}));function XUt(){const t=Lue(!0),e=t.run(()=>F({}));let n=[],r=[];const i=Ff({install(o){i._a=o,o.provide(YUt,i),o.config.globalProperties.$pinia=i,r.forEach(a=>n.push(a)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}MUt.add(UUt,GUt,WUt,KUt,qUt);Et.defaults.baseURL="http://82.156.224.174:7001";const Eue=localStorage.getItem("access_token");Eue&&(Et.defaults.headers.common.Authorization=`Bearer ${Eue}`,Me.emit("show_menu",!0));const vE=Qce(xjt);vE.use(X1);vE.use(XUt());vE.use(mat);vE.component("font-awesome-icon",HUt);vE.mount("#app")});export default ZUt();
